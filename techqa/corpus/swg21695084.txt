Title: IBM Upgrades for IBM Netezza Platform Development Software to Netezza Platform Software (NPS) version 7.2.0.3-P1 fail - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 A hardware check in the nzupgrade command is failing for the software-only IBM Netezza environments. 

SYMPTOM
Upgrades of the IBM Netezza Platform Development Software environment to 7.2.0.3-P1 fail during the pre-upgrade check because of a hardware test that was applicable only when upgrading IBM PureData System for Analytics appliances. 


CAUSE
A pre-upgrade check test requires some updates for running on IBM Netezza Platform Development Software environments.

ENVIRONMENT
 IBM Netezza Platform Development Software running any release of NPS 7.1 and which is upgrading to 7.2.0.3-P1.

DIAGNOSING THE PROBLEM
The nzupgrade command for NPS 7.2.0.3-P1 upgrades fails with the error:

ERROR: NPS software upgrade failed! Cleaning up...


ERROR: NPS software upgrade failed! Resolve the issues and retry. 

Within the upgrade log, look for messages similar to the following:

Check803: nz::Error::register: Registering nz::Backup::restore()
Check803: nzset: nz::Error::register = 'ARRAY(0x7ff32801d7e0)'
CheckHw: nz::SQL: waitpid(19518): sql failed: 512 (Exit error code 2)
CheckHw: nz::SQL: ERROR: relation does not exist SYSTEM.ADMIN._T_SPU


RESOLVING THE PROBLEM
Do not upgrade the IBM Netezza Platform Development Software environment to NPS 7.2.0.3-P1. Instead, upgrade the IBM Netezza Platform Development Software to 7.2.0.3-P2 or later to avoid the invalid hardware check failure.