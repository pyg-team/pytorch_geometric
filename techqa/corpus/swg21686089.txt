Title: IBM ABAP Extract stage on the IBM InfoSphere Information Server parallel job canvas fails with the fatal error message: "CPI-C initialization failed" - United States

Text:
IBM; DataStage; SAP; ABAP; CPIC; service; gateway; dispatcher TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Unable to use the Pack for SAP R/3 version 6.5.0.0 with InfoSphere Information Server. The InfoSphere Information Server job with the ABAP Extract stage using CPI-C data transfer method fails to connect to the SAP system with the following error message: CPI-C initialization failed. 

SYMPTOM
The following messages will be seen in the Job log 

Type: Info
Username: dsadm
Message: ABAP_Extract_PACK_for_SAP_R_3_1,0: Info:
JobName.ABAP_Extract_PACK_for_SAP_R_3_1: ABAP_I_00221`: `Error in CPIC_Init; error message =
LOCATION CPIC (TCP / IP) on local host
ERROR service 'sapgw50' unknown
TIME Day Month Date HH:MM:SS YYYY
RELEASE 640
COMPONENT NI (network interface)
VERSION 37
RC -3
MODULE niuxi.c
LINE 579
DETAIL NiPGetServByName2: service 'sapgw50' not found
SYSTEM CALL getservbyname_r
COUNTER 1
, Error number = 20 ..

Type: Info
Username: dsadm
Message: ABAP_Extract_PACK_for_SAP_R_3_1,0: Info: JobName.ABAP_Extract_PACK_for_SAP_R_3_1: ABAP_I_00221`: `Error in CPIC_Init; error message =
LOCATION CPIC (TCP / IP) on local host
ERROR service '?' unknown
TIME Day Month Date HH:MM:SS YYYY
RELEASE 640
COMPONENT NI (network interface)
VERSION 37
RC -3
COUNTER 5
, Error number = 20 ..

Type: Fatal
Username: dsadm
Message ID: IIS-DSEE-tfor-00001
Message: ABAP_Extract_PACK_for_SAP_R_3_1,0: An error occurred during execution of operator logic.

Type: Fatal
Username: dsadm
Message ID: IIS-XXXX-XXXX-00000
Message: ABAP_Extract_PACK_for_SAP_R_3_1,0: Fatal Error: Fatal: ABAP_E_00196`: `CPI-C initialization failed


CAUSE
The SAP Dispatcher/Gateway TCP/IP ports used by the SAP application for CPI-C communication are not defined in the services file.


ENVIRONMENT
IBM InfoSphere Information Server Pack for SAP R/3, Version 6.5.0.0



RESOLVING THE PROBLEM
In order to use the IBM InfoSphere Information Server Pack for SAP R/3 you need to add the entries for the SAP Dispatch/Gateway service into the services file of your IBM InfoSphere Information Server client and server systems. 


Follow the procedure to add the required entries for the SAP Dispatcher/Gateway service as it is described in the IBM Knowledge Center link:

http://pic.dhe.ibm.com/infocenter/iisinfsv/v8r1/index.jsp?topic=/com.ibm.swg.im.iis.ds.entpak.sapr3.use.doc/topics/t_pack_r3_Configuring_the_SAP_Dispatch_Gateway_service.html [http://pic.dhe.ibm.com/infocenter/iisinfsv/v8r1/index.jsp?topic=/com.ibm.swg.im.iis.ds.entpak.sapr3.use.doc/topics/t_pack_r3_Configuring_the_SAP_Dispatch_Gateway_service.html]