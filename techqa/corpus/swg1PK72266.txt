Title: IBM PK72266: SUBSCRIBER PACKAGEPROCESSOR RELIES ON EVENTLOG TO RETRIEVE THE LIBRAY FOR AN ITEM ID. - United States

Text:
  FIXES ARE AVAILABLE
6.1.0.2 Download: WebSphere Portal and Web Content Management V6.1, fix pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24022898]
6.1.0.3 Download: WebSphere Portal and WCM V6.1 fix pack 3, 6.1.5 feature pack [http://www-01.ibm.com/support/docview.wss?uid=swg24025054]
6.1.0.4 Download: WebSphere Portal and WCM V6.1.0 fix pack 4 & 6.1.5 fix pack 1 [http://www-01.ibm.com/support/docview.wss?uid=swg24026394]
6.1.0.5 Download: WebSphere Portal and WCM V6.1.0 fix pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24027475]
6.1.0.6 Download: WebSphere Portal and WCM V6.1.0 fix pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030970]



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Subscriber PackageProcessor relies on eventlog to retrieve the
   library for an item id. If the subscriberOnly flag is set to
   true on the subscriber the eventlogdb for the subscriber will
   not have any entries as a result in the following warning
   message:
   
   ContentServic W   com.aptrix.pluto.workflow.DraftDocumentSummary
   was not
   found for identity DepRef(id:59abb6804ab07b6b9404dd6035290eb6...
   
   In particular case: a draft item was initially syndicated
   and then promoted to publish state on the syndicato side. Even
   though this change was syndicated over to the subscriber, both
   the published and the draft items show up on the subscriber end.
   
   When an item is published at the syndicator, the subscriber will
   carry out 2 actions to replicate this:
   (1) delete the existing draft
   (2)  create/update the published item.
   Before deleting the existing draft, subscriber should retrieve
   the "draft summary" of the item. However, it is unable to
   retrieve the "draft summary" for a given draft item.
   
   so in this case the draft item could not be deleted because the
   draftdocumntsummary couldnot be rettrieved and that couldnot be
   retrieved because the packageprocessor is trying to locate the
   library for the item through the eventlog DB entries which are
   blank since the subscriberOnly property is set to true.
   ..
   Keywords:  orphaned drafts draft draft summary orphan delete
   ..
   
   
    
   
   

LOCAL FIX
 *  Set the susbcriberOnly flag to false and rebuild the eventlog on
   the subscriber
   
   
    
   
   

PROBLEM SUMMARY
 *  Subscriber PackageProcessor relies on eventlog to retrieve the
   library for an item id. If the subscriberOnly flag is set to
   true on the subscriber the eventlogdb for the subscriber will
   not have any entries as a result in the following warning
   message:
   
   ContentServic W   com.aptrix.pluto.workflow.DraftDocumentSummary
   was not  found for identity
   DepRef(id:59abb6804ab07b6b9404dd6035290eb6...
   
   In particular case: a draft item was initially syndicated  and
   then promoted to publish state on the syndicato side. Even
   though this change was syndicated over to the subscriber, both
   the published and the draft items show up on the subscriber end.
   
   When an item is published at the syndicator, the subscriber will
   carry out 2 actions to replicate this:
   (1) delete the existing draft
   (2)  create/update the published item.  Before deleting the
   existing draft, subscriber should retrieve  the "draft summary"
   of the item. However, it is unable to retrieve the "draft
   summary" for a given draft item.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Subscriber package processor relies on eventlog to retrieve the
   library for item. If the event log service turn off, then
   library is not be able to retrieved. Change the method to get
   the library directly from the workspace instead of event log
   database.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK72266
   
   
 * REPORTED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * REPORTED COMPONENT ID
   5724I2900
   
   
 * REPORTED RELEASE
   60H
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-09-17
   
   
 * CLOSED DATE
   2008-09-18
   
   
 * LAST MODIFIED DATE
   2009-03-23
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * FIXED COMPONENT ID
   5724I2900
   
   

APPLICABLE COMPONENT LEVELS
 * R60G PSN
   UP