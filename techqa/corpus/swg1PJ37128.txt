Title: IBM PJ37128: ERROR API_PROPERTY_NOT_IN_CACHE OCCURS WHEN RETRIEVING IMAGE SERVICES FEDERATED DOCUMENTS FROM A WSDL APPLICATION. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Using web services out of the box WSDL application utilizing
   /wsi/FNCEWS35SOAP/ for metadata query/searching, store,
   retrieval and update.  When attempting to run the custom app to
   retrieve an Image Services federated document it fails with the
   following
   error:
   
   EngineRuntimeException: CONTENT_FCP_OPERATION_FAILED: Fixed
   Content Provider operation failed. Provider:
   [ImageServicesFCP(-1)] Operation: [initialize]
   Caused by: com.filenet.api.exception.EngineRuntimeException:
   CONTENT_FCP_INVALID_CONFIGURATION: Invalid configuration
   at
   com.filenet.engine.content.fcprovider.is.ImageServicesFCP.initia
   lize(ImageServicesFCP.java:194)
   ... 65 more
   Caused by: com.filenet.api.exception.EngineRuntimeException:
   API_PROPERTY_NOT_IN_CACHE: Property Site not found in properties
   collection.
   
   The error occurs whether or not a page cache is configured in
   the Fixed Content Device Site Settings.
   
   Workaround:
   First log into the specific Content Engine from FileNet
   Enterprise Manager then retrieve AND view an Image Services
   Federated document.   This process triggers a cache refresh
   within that JVM (Java Virtual Machine), which subsequently
   allows for successful retrieval from the web services
   application. If that specific Content Engine JVM is shut down
   and restarted, the problem resurfaces and the workaround must be
   performed again.
   
   
    
   
   

LOCAL FIX
 *  First log into the specific Content Engine from FileNet
   Enterprise Manager then retrieve AND view an Image Services
   Federated document.   This process triggers a cache refresh
   within that JVM (Java Virtual Machine), which subsequently
   allows for successful retrieval from the web services
   application. If that specific Content Engine JVM is shut down
   and restarted, the problem resurfaces and the workaround must be
   performed again.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Applications retrieving content from P8 Content Engine that  *
   * is stored in a fixed content device using the FNCEWS35SOAP   *
   * web service binding.                                         *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * When using the P8 FNCEWS35SOAP web service to retrieve       *
   * content and accessing the retrieved content using Content    *
   * property, where the content is stored in a fixed content     *
   * device, such as Image Services, and the fixed content device *
   * configuraion specifies a local properties in the site        *
   * settings, the retrieval may fail and the user will see one   *
   * or both of these errors.                                     *
   *                                                              *
   * EngineRuntimeException: CONTENT_FCP_OPERATION_FAILED: Fixed  *
   * Content Provider operation failed. Provider:                 *
   *                                                              *
   * [ImageServicesFCP(-1)] Operation: [initialize]               *
   *                                                              *
   * Caused by: com.filenet.api.exception.EngineRuntimeException: *
   * CONTENT_FCP_INVALID_CONFIGURATION: Invalid configuration.    *
   * or                                                           *
   * com.filenet.api.exception.EngineRuntimeException:            *
   * API_PROPERTY_NOT_IN_CACHE: Property Site not found in        *
   * properties collection.                                       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Upgrade to P8CE-4.0.1-012 and 4.5.12-P8CE-FP02 to resolve    *
   * this                                                         *
   * issue.                                                       *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Using the FNCEWS35SOAP endpoint, the server does not correctly
   
   load the site settings after a server restart.
   A fix has been added to P8CE-4.0.1--12 and 4.5.1.2-P8CE-FP02 to
   
   resolve this issue.
   
   
    
   
   

TEMPORARY FIX
 *  Two possible work arounds:
   1. Once the document is retrieved one time using any 4.0 API
   (WSI, EJB, .NET) the site settings are loaded and subsequent
    access using the FNCEWS35SOAP endpoint will succeed until the
   next content engine server restart.  Access the document
   contents using FileNet Enterprise Manager after a CE server
   restart.
   
   2. Change the application to use a 4.0 web service binding
   (e.g.FNCEWS40MTOM).
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PJ37128
   
   
 * REPORTED COMPONENT NAME
   CONTENT ENGINE
   
   
 * REPORTED COMPONENT ID
   5724R8101
   
   
 * REPORTED RELEASE
   401
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-12-01
   
   
 * CLOSED DATE
   2010-07-30
   
   
 * LAST MODIFIED DATE
   2010-07-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PJ37130 [http://www-01.ibm.com/support/docview.wss?uid=swg1PJ37130]
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CONTENT ENGINE
   
   
 * FIXED COMPONENT ID
   5724R8101
   
   

APPLICABLE COMPONENT LEVELS
 * R401 PSY
   UP