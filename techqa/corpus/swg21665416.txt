Title: IBM Oracle Extended Agent fails to show data - United States

Text:
ctira_hostname ctira_system_name Loading Oracle OCI library failed! hostname host name could not find config file cfg instance TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The agent has been configured correctly, but the hostname has been changed. Also CTIRA_HOSTNAME and CTIRA_SYSTEM_NAME have been modified correspondingly. 

SYMPTOM
The agent will only show the top-level navigator items, but will not show the navigator items for the databases.


CAUSE
This indicates that the agent configuration cannot be determined, because the agent is not finding the *.cfg file. The hostname change has been taken into account, but the config file names still have the old hostname. 

This typically occurs when CTIRA_HOSTNAME and CTIRA_SYSTEM_NAME have been modified after the agent instance has been created.


ENVIRONMENT
ITM agent on Unix/Linux



DIAGNOSING THE PROBLEM
The krzagent log will show these messages:
(53032EE4.000C-1:kdycfgp.cpp,144,"ConfigParser::parseConfig") could not find config file: /opt/IBM/ITM/config/<server>_rz_<Oracle instance>.cfg
(53032EE4.000D-1:configfile.cpp,147,"ConfigFile::parseConfig") Error reading agent configuration file: rz

The krzstart and krzclient logs may also show:
Loading Oracle OCI library failed!



RESOLVING THE PROBLEM
There are 2 possible solutions: 

1° Rename the config file to make sure that the file name contains the right hostname. 

For example, when the real hostname is 'realhostname' and the modified hostname is 'ctirahostname', you should rename 

/opt/IBM/ITM/config/realhostname_rz_instance.cfg
to:
/opt/IBM/ITM/config/ctirahostname_rz_instance.cfg 

 

2° Remove the agent instance, and create it again. The recommended way is "itmcmd manage", reconfigure the agent, and then "Remove Instance". Next, create the agent instance again.



PRODUCT ALIAS/SYNONYM
 itm itcam tivoli monitoring composite application manager oracle extended agent