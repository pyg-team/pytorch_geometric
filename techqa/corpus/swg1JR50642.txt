Title: IBM JR50642: CMVC 235824 - NoClassDefFoundError exception is thrown caused by NullPointerException in SEOURLMapperImpl class. - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A NoClassDefFoundError caused by a NPE in the SEOURLMapperSource
   class is seen in the logs The following exception is thrown in
   the logs:
   
   [6/5/14 17:57:47:881 UTC] 000000df webapp        E
   com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E:
   [Servlet Error]-[Stores Request Servlet]:
   java.lang.NoClassDefFoundError:
   com.ibm.commerce.seo.url.helpers.SEOURLMapperSource
   (initialization failure)
   
           at
   java.lang.J9VMInternals.initialize(J9VMInternals.java:140)
   
           at
   com.ibm.commerce.webcontroller.RuntimeServletFilter.init(Runtime
   ServletFilter.java:152)
   
           at
   com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.init(Filter
   InstanceWrapper.java:142)
   
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterManager._loadFilter(W
   ebAppFilterManager.java:548)
   
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterManager.loadFilter(We
   bAppFilterManager.java:462)
   
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterManager.getFilterInst
   anceWrapper(WebAppFilterManager.java:319)
   
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterManager.getFilterChai
   n(WebAppFilterManager.java:379)
   
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebA
   ppFilterManager.java:860)
   
           at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(Ser
   vletWrapper.java:939)
   
           at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(Ser
   vletWrapper.java:507)
   
           at
   com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest
   (ServletWrapperImpl.java:181)
   
           at
   com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:
   3954)
   
           at
   com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest(WebGroup.j
   ava:276)
   
           at
   com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.
   java:945)
   
           at
   com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContai
   ner.java:1592)
   
           at
   com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLin
   k.java:191)
   
           at
   com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscr
   imination(HttpInboundLink.java:453)
   
           at
   com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRe
   quest(HttpInboundLink.java:515)
   
           at
   com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequ
   est(HttpInboundLink.java:306)
   
           at
   com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready(HttpI
   nboundLink.java:277)
   
           at
   com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sen
   dToDiscriminators(NewConnectionInitialReadCallback.java:214)
   
           at
   com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.com
   plete(NewConnectionInitialReadCallback.java:113)
   
           at
   com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureComp
   leted(AioReadCompletionListener.java:175)
   
           at
   com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyn
   cFuture.java:217)
   
           at
   com.ibm.io.async.AsyncChannelFuture$1.run(AsyncChannelFuture.jav
   a:205)
   
           at
   com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1656)
   
   Caused by: java.lang.ExceptionInInitializerError
   
           at
   java.lang.J9VMInternals.initialize(J9VMInternals.java:222)
   
           at java.lang.Class.forNameImpl(Native Method)
   
           at java.lang.Class.forName(Class.java:184)
   
           at
   com.ibm.commerce.seo.url.helpers.SEOURLMapperSource.createMapper
   Instance(SEOURLMapperSource.java:212)
   
           at
   com.ibm.commerce.seo.url.helpers.SEOURLMapperSource.readSEOConfi
   guration(SEOURLMapperSource.java:171)
   
           at
   com.ibm.commerce.seo.url.helpers.SEOURLMapperSource.<init>(SEOUR
   LMapperSource.java:62)
   
           at
   com.ibm.commerce.seo.url.helpers.SEOURLMapperSource.<clinit>(SEO
   URLMapperSource.java:58)
   
           at java.lang.J9VMInternals.initializeImpl(Native Method)
   
           at
   java.lang.J9VMInternals.initialize(J9VMInternals.java:200)
   
           ... 25 more
   
   Caused by: java.lang.NullPointerException
   
           at
   com.ibm.commerce.seo.url.helpers.SEOURLMapperImpl.<clinit>(SEOUR
   LMapperImpl.java:117)
   
           at java.lang.J9VMInternals.initializeImpl(Native Method)
   
   
    
   
   

LOCAL FIX
 *  A WebSphere Commerce server restart can resolve this problem.
   
   
    
   
   

PROBLEM SUMMARY
 *  USERS AFFECTED:
   Customers using SEO in version 7.0 environment.
   
   PROBLEM ABSTRACT:
   NoClassDefFoundError exception is thrown intermittently caused
   by NullPointerException in SEOURLMapperImpl class.
   
   BUSINESS IMPACT:
   Problem is intermittent and can normally be worked around with a
   server restart.
   
   RECOMMENDATION:
   
   
    
   
   

PROBLEM CONCLUSION
 *  Modified SEOURLMapperImpl to ensure that any parameter retrieved
    from the storeWebModule is retrieved only when the
   storeWebModule is initialized.
   
   -------------------------------------------------------------
   The latest available maintenance information can be obtained
   from the Recommended Fixes for WebSphere Commerce technote:
   http://www.ibm.com/support/docview.wss?rs=3046&uid=swg21261296 [http://www.ibm.com/support/docview.wss?rs=3046&uid=swg21261296]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR50642
   
   
 * REPORTED COMPONENT NAME
   WC BUS EDITION
   
   
 * REPORTED COMPONENT ID
   5724I3800
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-07-01
   
   
 * CLOSED DATE
   2014-10-08
   
   
 * LAST MODIFIED DATE
   2014-10-08
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WC BUS EDITION
   
   
 * FIXED COMPONENT ID
   5724I3800
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP