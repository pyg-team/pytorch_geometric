Title: IBM PM05761: THREAD HANGS IN HASHMAP.REHASH WHEN STARTING MORE THAN ONE SCA APPLICATION - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Thread hangs in HashMap.rehash when starting more than one
   Service Component Architecture  (SCA) application
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users of IBM WebSphere Application          *
   *                  Server v7 Feature Pack for Service          *
   *                  Component Architecture (SCA) Refresh        *
   *                  Pack v1.0.1                                 *
   ****************************************************************
   * PROBLEM DESCRIPTION: A thread may hang in the HashMap        *
   *                      rehash method when starting multiple    *
   *                      SCA applications                        *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A thread may hang when starting multiple Service
   Component Architecture (SCA) applications that use
   binding.jms.  SystemOut.log has the following traceback.
   
   WSVR0605W: Thread "server.startup : 2" (00000010) has been
   active for 700093 milliseconds and may be hung.  There is/are
   1 thread(s) in total in the server that may be hung.
    at java.util.HashMap.rehash(HashMap.java:696)
    at java.util.HashMap.rehash(HashMap.java:730)
    at java.util.HashMap.putImpl(HashMap.java:626)
    at java.util.HashMap.put(HashMap.java:605)
    at
   org.apache.tuscany.sca.core.DefaultExtensionPointRegistry.addExt
   ensionPoint(DefaultExtensionPointRegistry.java:65)
    at
   org.apache.tuscany.sca.core.DefaultExtensionPointRegistry.getExt
   ensionPoint(DefaultExtensionPointRegistry.java:125)
    at
   org.apache.tuscany.sca.binding.jms.provider.JMSBindingProviderFa
   ctory.<init>(JMSBindingProviderFactory.java:56)
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code is updated to synchronize use of the HashMap.
   
   APAR PM05761 is currently targeted for inclusion in Service
   Level (Fix Pack) 1.0.1.3 of WebSphere Application Server v7
   Feature Pack for Service Component Architecture (SCA) Refresh
   Pack. Please refer to the Recommended Updates page for
   delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM05761
   
   
 * REPORTED COMPONENT NAME
   WAS SCA FEATURE
   
   
 * REPORTED COMPONENT ID
   5724J0854
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-01-21
   
   
 * CLOSED DATE
   2010-02-01
   
   
 * LAST MODIFIED DATE
   2010-02-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WAS SCA FEATURE
   
   
 * FIXED COMPONENT ID
   5724J0854
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP