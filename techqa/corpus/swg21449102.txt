Title: IBM Using a semantic filter to reduce the size of the drop down menus - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How to filter out constants (Monday, January and more generally domain values) from the menu that is shown for the "select a choice" token when defining a variable in a rule? 

ANSWER
When a rule is being edited in the IntelliRule or Guided Rule Editor, the choices available in the drop-down list are computed dynamically. Semantic filtering allows you to filter which vocabulary elements and which types of expressions are valid for a given abstract syntax element. Choices that are not accepted will not appear in the rule editor drop-down lists. 

See in the documentation : Semantic filtering [http://publib.boulder.ibm.com/infocenter/brjrules/v7r1/index.jsp?topic=/com.ibm.websphere.ilog.jrules.doc/Content/Business_Rules/Documentation/_pubskel/JRules/ps_JRules_Global1539.html] ( or WebSphere ILOG JRules V7.1 > Customizing > Customizing Rule Studio > Customizing rule authoring > Defining a custom business rule language > Business Rule Language Definition Framework > Abstract syntax tree > Semantic filtering" )

The class sample.SampleSemanticFilter in the attached zip file (under Filter/src/sample) is a basic semantic filter, which prevents all the constant values (Monday, domain values, etc.) from appearing in a drop down. This is accomplished through the method acceptConceptInstance() that returns false. In order for the filter to be used by the rule editor, it can be set on the definition binding part of the rule by editing the rule language configuration file bindings.properties , with the following statement ( possibly replacing an existing entry in this file for <T-binding-type>.semanticFilter ):
<T-binding-type>.semanticFilter = sample.SampleSemanticFilter 

For example to integrate this sample into Rule Team Server : 

 1. modify as described above the file bindings.properties in jrules-teamserver-<APPSERVER>.ear\teamserver.war\WEB-INF\lib\jrules-language-7.1.0.jar\ilog\rules\brl\ 
 2. Put the attached sample folder (in Filter\bin) under jrules-teamserver-<APPSERVER>.ear\teamserver.war\WEB-INF\classes\ 
 3. Redeploy your modified RTS ear file



semantic_filter.zip [/support/docview.wss?uid=swg21449102&aid=2] [/support/docview.wss?uid=swg21449102&aid=1] 

Build script for integration of semantic filter in Rule Studio and Rule Team Server 

The integration of the sample semantic filter can be automated through the build script contained in the archive below: semanticfilter-with-build-script.zip [/support/docview.wss?uid=swg21449102&aid=4]semanticfilter-with-build-script.zip [/support/docview.wss?uid=swg21449102&aid=3] 

The included file "HowToInstall.pdf" provides detailed instructions on how to use the build script 

.
Build script for integration of semantic filter in ODM Rule Designer and Decision Center

The archive below contains updated build scripts to allow the integration of the sample semantic filter with ODM 8 Rule Designer and Decision Center. First unzip the archive to the local filesystem (where the product is assumed to be installed) and follow below steps: 

 * Edit the build.xml file top portion to set the properties to reflect your environment. By default the script targets the WebSphere8 platform for Decision Center, but the the properties teamserver.ear and teamserver.ear.dir can be changed to point to the Decision Center application EAR file for a different platform. 
 * Run "ant repack.studio" to produce a brldf.jar library destined to replace the one in your shared plugins directory. 
 * Run "ant repack.teamserver.ear" to produce a Decision Center application archive to be deployed on the application server.


semanticfilter-odm8.zip [/support/docview.wss?uid=swg21449102&aid=6]semanticfilter-odm8.zip [/support/docview.wss?uid=swg21449102&aid=5] 
 



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Operational Decision Manager Platform Independent 8.0.1, 8.0, 7.5 Enterprise