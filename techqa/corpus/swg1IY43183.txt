Title: IBM IY43183: TWO OR MORE COOKIES OF THE SAME NAME ARE SEND TO THE WEBSEAL SERVER,THE BACKEND SERVER HAS A GET REQUEST OF 1 COOKIE - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  1) ENV
   PD server
    - AIX 4.3.3
    - PD 3.8 + POL-FP06, PWS-0007F
   .
   2) Phenomenon (details of test)
   - A GET request is sent from a client to the back-end Web server
     through PD.
   - At this time, the Cookie of a same name set up to the client
     by the back-end Web server exists two or more (by test=>2).
   - PD received this request from client and sent the GET request
     to back-end WEB server.
   - Then, only last Cookie which received from client with same
   name
     was sent to back-end server.
   -------------------------------------------------------
   .
   client => PD
   GET request time  : 19.29.01.143675307
   Cookie:WebIntelligenceSession=JP55EA7C6CQT4;
          WebIntelligenceSession=JP55EA7C6CQT3
   .
   PD => back-end WEB server
   GET request time  : 19.29.01.152334544
   Cookie:WebIntelligenceSession=JP55EA7C6CQT3
   .
   ** WebIntelligenceSession=JP55EA7C6CQT4 didn't send
   --------------------------------------------------------
   .
   Place file on support at
   .
   /export/local/support/pmrs/04548,694,760.2002.07/2002.08.05/pdwe
   b04548.log
   .
   ----------------------------------------------------
   .
   From Webseal Development regarding this problem:
   .
   I have pursued this issue with our WebSEAL Dev team.
   Here is their response:
   .
   >Because WebSEAL needs to filter the path and domain attributes
   >in cookies when proxying, it attempted to follow the RFC 2109
   when
   >parsing cookies.  Unfortunately, RFC 2109 is poorly written for
   >an RFC and left some ambiguities on the way certain fields
   should
   >be interepreted, mainly with comma-delimited cookies.
   >
   >We did some testing with popular browsers and web-servers and
   also
   >found they did not adhere to the RFC.   In the 3.9 product
   WebSEAL
   >was changed to just parse the Set-Cookie: and Cookie: headers
   as
   >a string, ignoring the RFC rules, and just substitute the
   correct
   >values for the path and domain attributes.
   >
   >If the customer is able to move to PD 3.9, it should resolve
   >their problem.    Due to the fact this was a redesign in a
   >critical section of code, it it not a simple backport to 3.8.
   >I do not have an ETA on when a fix for this would be available
   >in the 3.8 product due to the fact we need to be able to toggle
   >between the existing method and the new method to avoid
   breaking
   >any customers who have developed applications around the
   current
   >WebSEAL cookie handling.
   
   
    
   
   

LOCAL FIX
 *  na
   
   
    
   
   

PROBLEM SUMMARY
 *  Fixed in patch 4.1-AWS-FP02.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Fixed in patch 4.1-AWS-FP02.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY43183
   
   
 * REPORTED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * REPORTED COMPONENT ID
   5724C0811
   
   
 * REPORTED RELEASE
   410
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2003-04-10
   
   
 * CLOSED DATE
   2003-04-17
   
   
 * LAST MODIFIED DATE
   2003-04-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    IY34066
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * FIXED COMPONENT ID
   5724C0811
   
   

APPLICABLE COMPONENT LEVELS
 * R410 PSY
   UP