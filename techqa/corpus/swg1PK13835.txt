Title: IBM PK13835: APPLID SIT OVERRIDE THAT SPECIFIES GREATER THAN 8 CHARACTERS - CICS USES THE 1ST 8 CHARS RATHER THAN ISSUING AN ERROR MESSAGE - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  CICS region suddenly abends with the following messages:
   +DFHZC2305I UHZ07F3P Termination of VTAM sessions beginning
   +DFHZC2316 UHZ07F3P VTAM ACB is closed
   +DFHSR0606 UHZ07F3P Abend (code ---/0208) has been detected.
   -------
   Then after restarting, this CICS region came up and stayed up
   but during initialization it got this message:
   
   DFHFC0566 UHZ07F3P 219
   The register of the RLS control ACB has failed. VSAM macro
   IDAREGP return code X'00000008', reason code X'60FF0001'.
   --------------
   That message went unnoticed, however during that run, attempts
   to access RLS files would fail.
   -------------------------------------------
   All of these symptoms were caused by starting a second CICS
   region with the same applid.   The applid specified as a SIT
   override on the second region was
   APPLID=UHZ07F3PC
   That applid is too long - 9 characters.  CICS simply used the
   1st 8 characters.  Those 1st eight chars happened to be the
   same applid as an allready-running CICS region.  When the
   second region initialized.  The already-running CICS region
   abended.  This abend is the result of a Predatory Takeover.
   That happens when the CICS regions are using Persistent Sessions
   .
   There needs to be some error checking in DFHPASY to catch an
   APPLID= SIT override that has too many characters.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All                                          *
   ****************************************************************
   * PROBLEM DESCRIPTION: A SIT override for the APPLID parameter *
   *                      is specified as greater than 8          *
   *                      characters, but CICS only uses the      *
   *                      first 8 characters without issuing a    *
   *                      warning message. In a situation         *
   *                      where predatory takeover occurs,        *
   *                      this can lead to CICS abending with     *
   *                      msgDFHSR0606 abend0208.                 *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A CICS region is brought up with PSDINT=000800 specified. At a
   later time a second CICS region is bought up, also specifying
   PSDINT=000800. The APPLID of the second CICS region was created
   by copying the first system's 8 character APPLID suffixed with
   a 'C'. During startup CICS truncates the second system's APPLID
   to use only the first eight characters, resulting in two CICS
   regions accessing the same APPLID.
   Because of the presence of the PSDINT parameter, this leads to
   the second CICS region invoking predatory takeover of the first
   system's VTAM sessions and resources. This in turn leads to
   the first region abending with msg DFHSR0606, abend code 0208.
   KEYWORDS: msgdfhsr0606 msgsr0606 abend0208
   
   
    
   
   

PROBLEM CONCLUSION
 *  DFHPASY has been changed so that a test is now performed against
   the APPLID parameter, and message DFHPA1915 is issued if it is
   found to be greater than 8 characters.
   
   
    
   
   

TEMPORARY FIX
 *              *********
               * HIPER *
               *********
   FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK13835
   
   
 * REPORTED COMPONENT NAME
   CICSTS 3.1 Z/OS
   
   
 * REPORTED COMPONENT ID
   5655M1500
   
   
 * REPORTED RELEASE
   400
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2005-10-25
   
   
 * CLOSED DATE
   2005-11-14
   
   
 * LAST MODIFIED DATE
   2005-12-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PK13650
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK09024
   
   

MODULES/MACROS
 *     DFHPASY
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICSTS 3.1 Z/OS
   
   
 * FIXED COMPONENT ID
   5655M1500
   
   

APPLICABLE COMPONENT LEVELS
 * R400 PSY UK09024 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK09024]
   UP05/11/18 P F511
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.