Title: IBM PM14432: ITCAM FOR WAS/J2EE TEMA WON'T START AFTER LINUX OS TEMA UPGRADE - United States

Text:
  A FIX IS AVAILABLE
ITCAM for WebSphere V6.2 TEMA - 6.2.0.5-TIV-ITCAM_WAS_TEMA-IF014 [http://www-01.ibm.com/support/docview.wss?uid=swg24028525]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  /opt/IBM/ITM/lx8266/yn/bin/kynagent: relocation error:
   After Upgrading Linux OS agent the ITCAM Agent fails to start.
   
   /opt/IBM/ITM/tmaitm6/links/lnxx86x6-l23-g34/lib/libkra.so:
   symbol
   KHD_AttrIni
   tialize, version version_1.0 not defined in file libkhdxcl1.so
   with link time reference.
   
   Apparently, the ITCAM for WAS agent is looking for a particular
   library
   (one of the links under tmaitm6).
       /opt/IBM/ITM/tmaitm6/links/lnxx86x6-l23-g34/lib
   This library is NOT in LD_LIBRARY_PATH, but still the kynagent
   looks for
   it.
   objdump for kynagent shows that RPATH =
   /opt/IBM/ITM/tmaitm6/links/lnxx86x6-l23-g34/lib
   
   The issue is that the WebSphere agent is built with an RPATH
   internal
   path only.  Agents built with both an RPATH and RUNPATH internal
   path
   behave as expected.  Agent built with RPATH only attempt to use
   the
   RPATH instead of the LD_LIBRARY_PATH variable.
   
   
    
   
   

LOCAL FIX
 *  The solution for Linux platforms is to run SetPerm -a from the
   WebSphere
   installation directory after upgrading the OS agent installation
   directory.  This will point the /opt/IBM/ITM/tmaitm6/links
   directory
   pointers back to the WebSphere installation.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:
   *
   * Linux platforms containing a multiple ITM TEMA agents with a
   * mixture of new and old agent versions, like 6.2.1 and 6.1.
   *
   ****************************************************************
   *
   * PROBLEM DESCRIPTION:
   *
   * ITCAM for WAS/J2EE agents will fail to start after upgrading
   * the Linux OS agent installed in a different ITM_HOME on the
   * same system when the agent versions are at significantly
   * different, like 6.2.1 versus 6.1.
   *
   * The application agent will fail to start with message similar
   * to the following displayed:
   *
   * /opt/IBM/ITM/lx8266/yn/bin/kynagent: relocation error:
   * /opt/IBM/ITM/tmaitm6/links/lnxx86x6-123-g34/lib/libkra.so:
   * symbol KHD_AttrInitialize, version version_1.0 not defined
   * in file libkhdxcl1.so with link time reference.
   *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is contianed in the following maintenance
   package:
   
     | interim fix | 6.2.0.5-TIV-ITCAM_WAS_TEMA-IF011
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM14432
   
   
 * REPORTED COMPONENT NAME
   ITCAM WAS DIS T
   
   
 * REPORTED COMPONENT ID
   5724L62TM
   
   
 * REPORTED RELEASE
   610
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-05-14
   
   
 * CLOSED DATE
   2010-05-21
   
   
 * LAST MODIFIED DATE
   2010-05-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITCAM WAS DIS T
   
   
 * FIXED COMPONENT ID
   5724L62TM
   
   

APPLICABLE COMPONENT LEVELS
 * R620 PSY
   UP