Title: IBM How to activate Garbage Collection (GC) tracing for WebSphere Lberty (WLP) application server - United States

Text:
TRIWEBSPHERE; TRICONFIG; TRIPERFORMANCE; WebSphere; Liberty; GC; Garbage; Collection; vebose; tracing; debug TECHNOTE (FAQ)

QUESTION
 How can I activate Garbage Collection (GC) tracing for my IBM TRIRIGA application running over WebSphere Liberty Profile (WLP) ?


CAUSE
Need to start tracing GC for WLP to check it there are performance or stability issues due to GC runs. 


ANSWER
To enable verbose garbage collection mode in Liberty profile, Add the following to your jvm.options file (create one if you do not have it): 

-verbose:gc

If using a Solaris JDK, add the following additional parameters to ensure full GC details are printed:

-XX:+PrintGCDetails
-XX:+PrintGCTimeStamps
-XX:+PrintHeapAtGC

Depending on your preferences, you might configure a single JVM or all Liberty JVMs with your options file. To apply these settings to a single server, save jvm.options at:

${server.config.dir}/jvm.options 

To apply these changes to all Liberty JVMs, save jvm.options at:

${wlp.install.dir}/etc/jvm.options

This will take effect for all JVMs that do not have a locally defined jvm.options file.

Kindly restart WAS Liberty Profile instance after that. The verbose GC output will be logged to the following location by default: /usr/servers//logs/console.log

See more information on how to analyze the output file here: 

- Using verbose garbage collection to analyze IBM WebSphere Portal memory concerns - http://www.ibm.com/developerworks/websphere/library/techarticles/1003_munse/1003_munse.html [http://www.ibm.com/developerworks/websphere/library/techarticles/1003_munse/1003_munse.html]