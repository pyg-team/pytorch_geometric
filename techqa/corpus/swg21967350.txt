Title: IBM Apple devices experience connectivity issues with an SSL enabled IBM Traveler server after updating to iOS 9 - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM
After updating to iOS9, Apple devices are failing to connect to the IBM Traveler server. This impact is mostly seen if SSL is enabled in the IBM Traveler environment. Below is a checklist for resolution of this issue. 

ENVIRONMENT
IBM Domino Server 9.0.1 or lower, running IBM Traveler version 9.0.1.x and lower

DIAGNOSING THE PROBLEM
With the release of iOS 9, Apple has defaulted to using TLS 1.2 ciphers for secure connections. 

This means that the Traveler server or any network component in front of Traveler that will receive such incoming connections from iOS 9 devices must be able to support TLS 1.2 ciphers in order for the device to make a successful connection.


RESOLVING THE PROBLEM
1. Ensure that your IBM Traveler server has support for iOS 9. Support for iOS 9 [http://www-01.ibm.com/support/docview.wss?uid=swg21962180] starts on IBM Traveler version 9.0.1.7. You must upgrade to this version if running on a lower version of Traveler. More information about 9.0.1.7 here [http://www-01.ibm.com/support/docview.wss?uid=swg21965124] 



2. You must upgrade your Domino server to the latest release that supports TLS 1.2 connections.
TLS 1.2 support is introduced in Domino 9.0.1 Fix Pack 3 Interim Fix 2. See technote [http://www-01.ibm.com/support/docview.wss?uid=swg21697925&cm_mc_uid=44478674754914310142442&cm_mc_sid_50200000=1443034218]).

OPTIONAL: After upgrading the server, you may add the following parameters to define which ciphers the server will support.
*Note: If you are running Domino 901 Fix Pack 4 Interfim Fix 2 (FP4 IF2) or later then you can opt to not configure these parameters below and use the default ciphers.


 * Disable_SSLv3=1
 * 
 * This is to disable SSLv3 from the server making the server secure from the POODLE attacks. 
   
 * SSLCipherSpec=9F9E6B39679D9C3D353C2F330A
 * 
 * 
 * 
 * 
 * 
 * 
 * http://www-10.lotus.com/ldd/dominowiki.nsf/dx/TLS_Cipher_Configuration
 * 
 * 
 * 




Considerations for High Availability servers : 

For Traveler servers in an HA environment, the client-facing network component (i.e. firewall, load balancer, reverse proxy or IP sprayer) shall be able to support TLS 1.2 ciphers. Otherwise, the connection will fail. 

The backend connection between these components and Traveler servers can be via HTTP. 
If this backend connection is also using HTTPS (secured) then you must ensure that the ciphers between Traveler and the load balancers match. You may also wish to upgrade the Traveler servers to support TLS 1.2 (see items 1 and 2). 



Additional Notes regarding SSL Certificates: 

If you have Domino CA Self-Sign SSL certificates created by using the steps in the Quick Guide to Setting up SSL using Domino as the Certificate Authority [http://www-01.ibm.com/support/docview.wss?uid=swg21114148], you will receive the following type of error messages after upgrading to 9.0.1 FP4: 

TLS/SSL connection x.x.x.x - x.x.x.x failed with server certificate chain signature algorithms NOT supported by client 
TLS/SSL connection x.x.x.x - x.x.x.x failed with server certificate chain requiring support for MD5 

To resolve these errors, Please refer to the following technote: 

Title: Domino Web Server keyring still using MD5 may cause TLS 1.2 handshake failure 
Doc #: 1701159 
URL: https://www-304.ibm.com/support/docview.wss?uid=swg21701159 [https://www-304.ibm.com/support/docview.wss?uid=swg21701159] RELATED INFORMATION
 iOS 9 support statement [http://www.ibm.com/support/docview.wss?uid=swg21962180]
Detailed System Requirements for Traveler 9.0.1.7 [http://www.ibm.com/support/docview.wss?uid=swg27045363]
IBM Traveler 9.0.1.7 Release Documentation [http://www-01.ibm.com/support/docview.wss?uid=swg21965124]
IBM Notes and Domino Interim Fixes to support TLS 1.2 [http://www-10.lotus.com/ldd/dominowiki.nsf/dx/TLS_1.2]
TLS Cipher Configuration [http://www-10.lotus.com/ldd/dominowiki.nsf/dx/TLS_Cipher_Configuration]
TLS 1.2 deliveries for IBM Notes & Domino 9.x [http://www.ibm.com/support/docview.wss?uid=swg21697925]
calendar issue on iOS 9 [http://www.ibm.com/support/docview.wss?uid=swg21966731]
A simplified Chinese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21969880]