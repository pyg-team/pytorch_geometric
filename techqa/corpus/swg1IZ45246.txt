Title: IBM IZ45246: Crashing with an OutOfMemoryError - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Error Message:
   As taken from the javacore generated at the time of the crash.
   
   Dump Event "systhrow" (00040000) Detail
   "java/lang/OutOfMemoryError" received.
   
   Every 4 to 6 hours a java/lang/OutOfMemoryError is thrown
   causing the application to become unavailable without an
   application restart.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  In some circumstances, a java/lang/OutOfMemoryError can be
   thrown when there is an exhaustion of the available native
   memory available to the JVM.
   
   In this particular case, the JVM was allocating memory for a new
   class being loaded.  In the process of loading this class, its
   dependencies (superclass) could not be located, therefore
   failing the load attempt, leaving the initial memory allocation
   unassociated with a classloader.  As this association and class
   load is never completed, this memory allocation is never removed
   by the garbage collector.
   
   If this occurrence were to happen only a few times the native
   memory leak would be minor.  In this particular case, 375,000
   attempts are made to load the same class, which lead to a
   sizable native memory leak that eventually was fatal to the
   application functioning.  With each failed attempted load event
   the JVM generated an exception;  java/lang/NoClassDefFoundError.
   This error may be detailed differently depending on how the
   application is written to display this thrown JVM exception.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The JVM in its current design does not allow for the additional
   changes that would correct the native memory leak in this
   situation.  This topic has been listed for investigation for
   future development releases.
   
   The JVM does provide a thrown exception,
   java/lang/NoClassDefFoundError, when there is a failure in
   classloading.  Reviewing and eliminating these type of thrown
   exceptions from your application will make certain this is not a
   problem within your environment.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ45246
   
   
 * REPORTED COMPONENT NAME
   JAVA 5 J9 COMMO
   
   
 * REPORTED COMPONENT ID
   620500127
   
   
 * REPORTED RELEASE
   500
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-03-07
   
   
 * CLOSED DATE
   2009-05-13
   
   
 * LAST MODIFIED DATE
   2009-05-13
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   JAVA 5 J9 COMMO
   
   
 * FIXED COMPONENT ID
   620500127
   
   

APPLICABLE COMPONENT LEVELS
 * R500 PSY
   UP