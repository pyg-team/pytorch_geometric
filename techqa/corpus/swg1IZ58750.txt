Title: IBM IZ58750: SYSROUTE OF IZ43268:ERROR HPDBF0234E WHEN TRYING TO RUN SVRSSLCFG.SH - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  Titel: Error HPDBF0234E when trying to run SvrSslCfg.sh
   
   
   
   Problem:
   The DOC APAR was raised at the request of Kerry Gunn.
   When customer run the SvrSslCfg utility (script below), he gets
   a 'HPDBF0234E Unable to load pd.properties' error.
   
   He can see the pd.properties file has been created in
   /wasv61config/x4cell/x4dmnode/DeploymentManager/java/jre/PolicyD
   irector and he has also put a copy of this (& the other pd
   files) directly in java/PolicyDirector - as he found reference
   to issues he'd had accessing the jre directory when running this
   for Portal servers in 2007 - PMR 87356.
   
   He got a 'Configuration of Access Manager Runtime for Java
   completed successfully' message when he rans PDJrteCfg so he
   believes pdjrte is configured.
   
   Script as follows:
   /wasv61config/x4cell/x4dmnode/DeploymentManager/java/bin/java \
   -Dws.output.encoding=CP1047 \
   -cp
   /wasv61config/x4cell/x4dmnode/DeploymentManager/java/jre/lib/ext
   /PD.jar \
   com.tivoli.pd.jcfg.SvrSslCfg \
   -action config \
   -admin_id TAIUSER \
   -admin_pwd Pa55w0rd \
   -appsvr_id was6-x4dmgr \
   -appsvr_pwd Passw0rd \
   -port 7223 \
   -mode remote \
   -host x4.b2b.server.landregistry.gov \
   -policysvr HH-EST-D02:7135:1 \
   -authzsvr HH-EST-D02:7136:1 \
   -cfg_file
   /wasv61config/x4cell/x4dmnode/DeploymentManager/java/jre/PdPerm.
   properties \
   -key_file
   /wasv61config/x4cell/x4dmnode/DeploymentManager/java/jre/pdperm.
   ks \
   -cfg_action create
   
   He has also run the script with the cfg/key_file paths pointing
   to java/PolicyDirector.
   
   Steps to Duplicate:
   see above
   
   Desired Behavior:
   SvrSslCfg run successfully
   
   
   Environment:
   Z/OS 1.8
   
   IBM WebSphere Application Server for z/OS 6.1
   Integrated Solutions Console, 6.1.0.17
   Build Number: cf170820.12
   Build Date: 5/21/08
   
   IBM Tivoli Access Manager Runtime                   6.0.0.15
   IBM Tivoli Access Manager Policy Server             6.0.0.15
   IBM Tivoli Access Manager Web Portal Manager        6.0.0.15
   IBM Tivoli Access Manager Application Developer Kit 6.0.0.15
   IBM Tivoli Access Manager Authorization Server      6.0.0.15
   IBM Tivoli Access Manager Runtime for Java          6.0.0.15
   IBM Tivoli Security Utilities                       6.0.0.5
   IBM Tivoli Access Manager Web Security Runtime      6.0.0.0
   IBM Tivoli Access Manager Web Security ADK          6.0.0.0
   IBM Tivoli Access Manager Session Management Web Interface
   6.0.0.4
   IBM Tivoli Access Manager Session Management Command Line
   6.0.0.4
   
   gskit  7.0.4.11
   
   Java version = 1.5
   CLASS_PATH =
   wasv61config/x4cell/x4dmnode/DeploymentManager/java/jre/lib/ext/
   PD.jar
   JAVA_HOME =
   /wasv61config/x4cell/x4dmnode/DeploymentManager/java/jre
   
   And customer had also tried:
   CLASS_PATH = /was610/was610.was61017/java/jre/lib/ext/PD.jar
   JAVA_HOME = /was610/was610.was61017/java/jre
   
   
   
   Workaround:
   
   1. The PDJrteCfg was run with a specified location for the
   cfgfiles. ie Something like
   
   -cfgfiles_path /opt/IBM/WebSphere/temp
   
   What this means is that when you go to run the SvrSslCfg you
   also need to point it at the new location for the config files.
   You can do this by adding the following property to your
   command:
   
   java -Dpd.cfg.home=/opt/IBM/WebSphere/temp
   com.tivoli.pd.jcfg.SvrSslCfg -action config ..........
   
   The value will be the same as what was used in the cfgfiles_path
   param in PDJrteCfg. ie the new directory that contains the
   PolicyDirector subdirectory.
   
   Another thing to note is that in a WebSphere Application Server
   installation there will always exist by default a PD.properties
   file in the java/jre/PolicyDirector directory. This is not a
   complete useable configuration file for your case. If you view
   the file and check the property config_type. If it is
   "standalone" then it is not the one that was generated by your
   PDJrteCfg. It needs to be "full".
   
   Customer had run PDJrteCfg.sh with java_home set to
   /wasv61config/x4cell/x4dmnode/DeploymentManager/java and he set
   -Dpd.cfg.home=/wasv61config/x4cell/x4dmnode/DeploymentManager/ja
   va and this has allowed the script to run successfully. He gots
   the following output from the script:
   
   The configuration completed successfully.
   
   He had checked and the server admin ID has been successfully
   added to the repository.
   
   
    
   
   

LOCAL FIX
 *  Workaround:
   
   1. The PDJrteCfg was run with a specified location for the
   cfgfiles. ie Something like
   
   -cfgfiles_path /opt/IBM/WebSphere/temp
   
   What this means is that when you go to run the SvrSslCfg you
   also need to point it at the new location for the config files.
   You can do this by adding the following property to your
   command:
   
   java -Dpd.cfg.home=/opt/IBM/WebSphere/temp
   com.tivoli.pd.jcfg.SvrSslCfg -action config ..........
   
   The value will be the same as what was used in the cfgfiles_path
   param in PDJrteCfg. ie the new directory that contains the
   PolicyDirector subdirectory.
   
   Another thing to note is that in a WebSphere Application Server
   installation there will always exist by default a PD.properties
   file in the java/jre/PolicyDirector directory. This is not a
   complete useable configuration file for your case. If you view
   the file and check the property config_type. If it is
   "standalone" then it is not the one that was generated by your
   PDJrteCfg. It needs to be "full".
   
   Customer had run PDJrteCfg.sh with java_home set to
   /wasv61config/x4cell/x4dmnode/DeploymentManager/java and he set
   -Dpd.cfg.home=/wasv61config/x4cell/x4dmnode/DeploymentManager/ja
   va and this has allowed the script to run successfully. He gots
   the following output from the script:
   
   The configuration completed successfully.
   
   He had checked and the server admin ID has been successfully
   added to the repository.
   
   
    
   
   

PROBLEM SUMMARY
 *  When running the SvrSslCfg utility an error is
   received: 'HPDBF0234E Unable to load pd.properties'.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is expected to be cont
   ained in the following maintenance delivery vehicle:
   | fix pack | 6.1.0-TIV-TAM-FP0003
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ58750
   
   
 * REPORTED COMPONENT NAME
   ACCESS MGR E-BU
   
   
 * REPORTED COMPONENT ID
   5724C0800
   
   
 * REPORTED RELEASE
   610
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-08-18
   
   
 * CLOSED DATE
   2009-08-18
   
   
 * LAST MODIFIED DATE
   2009-08-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    IZ43268 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ43268]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS