Title: IBM PM37013: WEBSPHERE MQ V701 - QM Z/OS V7.0.1 OPERATIONS PANELS - PANELID CSQOLCAA ROW COUNT INCREMENT ON DISPLAYING 11/06/24 PTF PECHANGE - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A customer discovered an inconvenience bug with the
   WebSphere MQ v7.0.1 panel (CSQOLCAA) when displaying
   the "Channel" information.
   .
   The error only occurs at the Display Channel panel
   and using MQ 7.0.01 panels
   "QM z/OS    V7.0.1 Operations Panels"
   .
   You will not see the row count increment in any
   other "Object type" expect for displaying the
   "Channel" information.
   .
      Note:
      ====
      You can display the panel id by typing
      "panelid on" on the ISPF option line and
      pre enter (OPTION  ===> panelid on).
      To disable, just type panelid off and
      press enter
   .
   To recreate the issue:
   
   1. Acess the "Q71 MQM - MQM z/OS V7.0.1
      Operations Panels"
   
   
   
   
   
   
   
   
   
   .
   2. Next, on the main menu "IBM WebSphere MQ for
      z/OS - Main Menu"
      panelid CSQOPRIA, you need to select object
      type "channel".
      The panel works fine for Queue or any other
      object type.
   .
        Complete fields. Then press Enter.
   
   .....................................................
   
   Action  .1     0. List with filter   4. Manage
                  1. List or Display    5. Perform
                  2. Define like        6. Start
                  3. Alter              7. Stop
                  8. Command
   Object type . CHANNEL       +
   Name  . . . . . . . . . . . *
   Disposition . A  Q=Qmgr, C=Copy, P=Private, G=Group,
                    S=Shared, A=All
   .
   Connect name  RTPP  - local queue manager or
                         group
   Target queue manager  . . . RTPP
   - connected or remote queue manager for command
     input
   Action queue manager . RTPP  - command scope in
                                  group
   Response wait time  . 30    5 - 999 seconds
   
   .....................................................
   
   3.  After you select object type of "Channel"
       and press end, the next panel id is CSQOLCAA
   .
       Please note the ROW information in the
       right hand
       corner => "Row 1 of 16"
   .
       This will increase as you select items to
       Display "1" or Alter "3".
   .
   .....................................................
   
   Name               Type         Disposition
   <>  *                  CHANNEL    PRIVATE RTPP
   DP.SVRCONN            SVRCONN     QMGR  RTPP
   RTPP.RTPQ             SENDER      QMGR  RTPP
   RTPP.TO.ZWAS          SENDER      QMGR  RTPP
   SYSTEM.ADMIN.SVRCONN  SVRCONN     QMGR  RTPP
   SYSTEM.DEF.CLNTCONN   CLNTCONN    QMGR  RTPP
   .....................................................
   4.  Place a 3 next to RTPP.TO.ZWAS and press enter.
   
   .....................................................
   Name               Type       Disposition Status
   <>  *                 CHANNEL   PRIVATE RTPP
       DP.SVRCONN        SVRCONN   QMGR  RTPP INACTIVE
       RTPP.RTPQ         SENDER    QMGR  RTPP INACTIVE
   3   RTPP.TO.ZWAS      SENDER    QMGR  RTPP INACTIVE
   .....................................................
   
   5.  Your next panel id is CSQO3CAA  Alter a
       Sender Channel - 1
   .
   6.  Press PF12 to cancel out
   .
   7.  Notice that row count incremented =>
      Row 2 of 16
   .
   8.  Repeat step 4 and 6 again
   .
   9.  The row count incremented again =>
       List Channels - RTPP Row 3 of 16
   .
   
   
    
   
   

LOCAL FIX
 *  Use the v700 panels "MQM z/OS  V7.0.0 Operations Panels"
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of Websphere MQ for z/OS Version 7 *
   *                 Release 0 Modification 1                     *
   ****************************************************************
   * PROBLEM DESCRIPTION: The row count is incorrectly updated    *
   *                      after a refresh of the List Channels    *
   *                      panel in WMQ operations and control     *
   *                      panels.                                 *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   In WebSphere MQ operations and control panels
   
   List Channels display - panelid CSQOLCAA
   
   After listing a set of channels, a refresh of the list, either
   by selecting one and then going back to the list or entering a
   command or pressing enter, the first entry in the list is no
   longer displayed.
   
   The problem has been exposed by the changes made to CSQORLST by
   PM10505 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM10505].  This fix establishes rowids for the list entries
   earlier in the code than before.  Due to the order in which
   these are generated for the rows, these no longer match the row
   numbers.
   
   The code has always repositioned the first entry in the list
   using the ISPF command
   
   TBSKIP table ROW(rowid)
   
   before displaying the list with TBDISPL.  This is incorrect, as
   it is not always the case that each rowid matches the row
   number.  Instead the code should establish the current top of
   the display by use of the NUMBER key word with the command
   TBSKIP.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code has been corrected to set the right channel at the top
   of the list.
   010Y
   CSQORLST
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM37013
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   010
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   YesPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-04-14
   
   
 * CLOSED DATE
   2011-06-30
   
   
 * LAST MODIFIED DATE
   2012-04-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM42380 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM42380] UK69349
   
   

MODULES/MACROS
 *  CSQORLST
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R010 PSY UK69349 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK69349]
   UP11/08/05 P F108
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.