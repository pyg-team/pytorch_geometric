Title: IBM IV73426: VIRTUAL CENTER STORAGE PERFORMANCE TAKES A LONG TIME IF REDISCOVERY IS ENABLED. - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  During storage of VirtualCenterSensor result multiple SQL errors
   with SQLCODE=-302, SQLSTATE=22001 are logged, with retries this
   causes performance of storage to be very slow. This only occurs
   if rediscovery is turned on.
   
   
   The following DEBUG SQL error is logged on the storage servers
   when this problem occurs for each instance that cannot be
   stored;
   
   
   
   2015-05-04 12:34:27,717 TopologyManager [RMI TCP
   Connection(121620)-1.2.3.4]  DEBUG
   topomgr.ModelObjectPersister -
   isIncorrectXMLException for e: javax.jdo.jdodatastoreexception:
   update of object
   "com.collation.topomgr.jdo.discovery.profile.objectrediscoveryin
   fojdo@c7
   f83578" using statement "update db2inst2.objrdisc set
   osgipluginid_x=?,
   agentconfigurationguid_x=?, contextip_x=?, runid
   _x=?, seed_x=?, serverid_x=?, jdolockx=? where pk_x=?" failed :
   com.ibm.db2.jcc.am.sqldataexception: db2 sql error:
   sqlcode=-302,
   sqlstate=22001, sqlerrmc=null, driver=3.64.106
   2015-05-04 12:34:27,717 TopologyManager [RMI TCP
   Connection(121620)-1.2.3.4]  INFO jdo.BaseJdo - Possibly
   retryable
   exception while storing model object, attempt #2; will retry in
   114
   seconds
   : javax.jdo.JDODataStoreException: Update of object
   "com.collation.topomgr.jdo.discovery.profile.ObjectRediscoveryIn
   foJdo@c7
   f83578" using statement "UPDATE DB2INST1.OBJRDISC SET
   OSGIPLUGINID_X=?,
   A
   GENTCONFIGURATIONGUID_X=?, CONTEXTIP_X=?, RUNID_X=?, SEED_X=?,
   SERVERID_X=?, JDOLOCKX=? WHERE PK_X=?" failed :
   com.ibm.db2.jcc.am.SqlDataException: DB2 SQL Error:
   SQLCODE=-302,
   SQLSTATE=22001, SQLERRMC=null, DRIVER=3.64.106
   
   
    
   
   

LOCAL FIX
 *  NA
   
   
    
   
   

PROBLEM SUMMARY
 *  During storage of VirtualCenterSensor result multiple SQL errors
   with SQLCODE=-302, SQLSTATE=22001 are logged, with retries this
   causes performance of storage to be very slow. This only occurs
   if rediscovery is turned on.
   
   
   The following DEBUG SQL error is logged on the storage servers
   when this problem occurs for each instance that cannot be
   stored;
   
   
   
   2015-05-04 12:34:27,717 TopologyManager íRMI TCP
   Connection(121620)-1.2.3.4ù  DEBUG
   topomgr.ModelObjectPersister -
   isIncorrectXMLException for e: javax.jdo.jdodatastoreexception:
   update of object
   "com.collation.topomgr.jdo.discovery.profile.objectrediscoveryin
   fojdo@c7
   f83578" using statement "update db2inst2.objrdisc set
   osgipluginid_x=?,
   agentconfigurationguid_x=?, contextip_x=?, runid
   _x=?, seed_x=?, serverid_x=?, jdolockx=? where pk_x=?" failed :
   com.ibm.db2.jcc.am.sqldataexception: db2 sql error:
   sqlcode=-302,
   sqlstate=22001, sqlerrmc=null, driver=3.64.106
   2015-05-04 12:34:27,717 TopologyManager íRMI TCP
   Connection(121620)-1.2.3.4ù  INFO jdo.BaseJdo - Possibly
   retryable
   exception while storing model object, attempt #2; will retry in
   114
   seconds
   : javax.jdo.JDODataStoreException: Update of object
   "com.collation.topomgr.jdo.discovery.profile.ObjectRediscoveryIn
   foJdo@c7
   f83578" using statement "UPDATE DB2INST1.OBJRDISC SET
   OSGIPLUGINID_X=?,
   A
   GENTCONFIGURATIONGUID_X=?, CONTEXTIP_X=?, RUNID_X=?, SEED_X=?,
   SERVERID_X=?, JDOLOCKX=? WHERE PK_X=?" failed :
   com.ibm.db2.jcc.am.SqlDataException: DB2 SQL Error:
   SQLCODE=-302,
   SQLSTATE=22001, SQLERRMC=null, DRIVER=3.64.106
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is contained in the following maintenance
   packages:
   | Fix Pack | 7.3.0-TIV-ITADDM-FP0002
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV73426
   
   
 * REPORTED COMPONENT NAME
   APP DEPENDENCY
   
   
 * REPORTED COMPONENT ID
   5724N5500
   
   
 * REPORTED RELEASE
   730
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-05-20
   
   
 * CLOSED DATE
   2015-06-23
   
   
 * LAST MODIFIED DATE
   2015-06-23
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   APP DEPENDENCY
   
   
 * FIXED COMPONENT ID
   5724N5500
   
   

APPLICABLE COMPONENT LEVELS
 * R730 PSY
   UP