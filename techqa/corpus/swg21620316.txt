Title: IBM Invalid configuration location when launching CICS Explorer from shared network drive - United States

Text:
CICS Explorer 5.1 ; security updates ; Invalid configuration location ; starting ; shared network drive ; does not support file locking ; 5655Y0400 R680 680 R800 800 HCI6800 5655-Y04 5655Y04 KIXINFO kixdcfcic680 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When starting CICS Explorer, you see a Pop-up box that says 'Invalid configuration location'. The pop-up indicates that "a common reason is the file system or Runtime Environment does not support file locking for that location." You have CICS Explorer on a shared network drive so that multiple users can launch it from the remote drive. 

SYMPTOM
This is the complete text within the pop-up titled 'Invalid configuration location':

Locking is not possible in the directory "<shared drive id>; \CICS_Explorer\configuration\org.eclipse.osgi". A common reason is the file system or Runtime Environment does not support file locking for that location. Please choose a different location, or disable file locking passing "-Dosgi.locking=none" as a VM agent. 
<shared drive id>:\CICS_Explorer\configuration\org.eclipse.osgi\.manager\.fileTableLock
(Access is denied.) 

[/support/docview.wss?uid=swg21620316&aid=1] [/support/docview.wss?uid=swg21620316&aid=1]

CAUSE
Multi-user install on shared network drive is not configured correctly for Eclipse.



DIAGNOSING THE PROBLEM
!ENTRY org.eclipse.osgi 4 0 2012-12-03 14:49:37.466
!MESSAGE Error reading configuration: T:
\CICS_Explorer\configuration\org.eclipse.osgi\.manager\.fileTableLock
(Access is denied.)
!STACK 0
java.io.FileNotFoundException: T:\CICS_Explorer\configuration\org.
eclipse.osgi\.manager\.fileTableLock (Access is denied.)
at java.io.RandomAccessFile.open(Native Method)
at java.io.RandomAccessFile.<init>(RandomAccessFile.java:222)
at org.eclipse.core.runtime.internal.adaptor.Locker_JavaNio.lock
(Locker_JavaNio.java:33)
at org.eclipse.osgi.storagemanager.StorageManager.lock(StorageManager.
java:387)
at org.eclipse.osgi.storagemanager.StorageManager.open(StorageManager.
java:688)
at org.eclipse.osgi.internal.baseadaptor.BaseStorage.initFileManager
(BaseStorage.java:213)
at org.eclipse.osgi.internal.baseadaptor.BaseStorage.initialize
(BaseStorage.java:147)
at org.eclipse.osgi.baseadaptor.BaseAdaptor.initializeStorage
(BaseAdaptor.java:114)
at org.eclipse.osgi.framework.internal.core.Framework.initialize
(Framework.java:185)
at org.eclipse.osgi.framework.internal.core.Framework.<init>(Framework.
java:157)
at org.eclipse.core.runtime.adaptor.EclipseStarter.startup
(EclipseStarter.java:286)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.
java:175)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke
(NativeMethodAccessorImpl.java:48)
at sun.reflect.DelegatingMethodAccessorImpl.invoke
(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:600)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:620)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:575)
at org.eclipse.equinox.launcher.Main.run(Main.java:1408)



RESOLVING THE PROBLEM
Review the CICS information center topic Installing on a remote network drive [http://pic.dhe.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.installation.doc/topics/explorer_install_remote.html]. 

Review Eclipse documentation on Eclipse multi user installs [http://help.eclipse.org/helios/topic/org.eclipse.platform.doc.isv/reference/misc/multi_user_installs.html].

Re-deploy the shared install by following these steps. 

 1. Unzip a fresh copy of CICS Explorer into the install directory 
 2. Run <install_directory>\cicsexplorer.exe -initialize (this initializes the basics of the configuration area without any real user-specific data) 
 3. Make <install_directory> read only for all your end users


At this point each user that starts Explorer will get their own workspace in <userdir>\.cicsexplorer and their own configuration area in <userdir>\.eclipse\... 

If you want the workspace or configuration area to be in a different place (for instance n:\.cicsexplorer_workspace and n:\.cicsexplorer_configuration) then you can add a -data option to your cicsexplorer.ini file as per usual, or -Dosgi.configuration.area=... to the cicsexplorer.ini file *after* the -vmargs line. You would need to edit the cicsexplorer.ini file before you made the install directory read-only! 


PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server