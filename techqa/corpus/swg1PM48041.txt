Title: IBM PM48041: 7001 ONLY: INCORRECT ACCESSDENIEDEXCEPTION FROM WORKSPACE.SAVE() WHEN CHANGING WORKFLOW ON DRAFT ITEM - United States

Text:
  FIXES ARE AVAILABLE
7.0.0.2 Download: WebSphere Portal and WCM V7.0 fix pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24031676]
Fixes integrated in WebSphere Portal 7.0.0.1 & 7.0.0.2 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24029452]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  7001 release only:
   
   The WCM Public API will throw an incorrect AccessDeniedException
   when a non-admin user attempts calls Workspace.save(item) on a
   draft item which the user has assigned a new workflow.
   
   The error encountered is as follows:
   com.ibm.workplace.wcm.api.exceptions.DocumentSaveException:
   Message: Could not save object in repository.
   Cause: com.ibm.icm.jcr.access.AccessDeniedException: The
   requested operation violates one or more lock constraints.:
   [ErrorCode:7591]
   Message: Could not save object in repository.
   Cause: com.ibm.icm.jcr.access.AccessDeniedException: The
   requested operation violates one or more lock constraints.:
   [ErrorCode:7591]
   Opened for release 7001
   
   
    
   
   

LOCAL FIX
 *  Run the API call as the admin user.
   
   
    
   
   

PROBLEM SUMMARY
 *  7001 release only:
   
   The WCM Public API will throw an incorrect
   AccessDeniedException
   when a non-admin user calls Workspace.save(item) on a
   draft item which the user has assigned a new workflow.
   
   The error encountered is as follows:
   com.ibm.workplace.wcm.api.exceptions.DocumentSaveException:
   Message: Could not save object in repository.
   Cause: com.ibm.icm.jcr.access.AccessDeniedException: The
   requested operation violates one or more lock constraints.:
   [ErrorCode:7591]
   Message: Could not save object in repository.
   Cause: com.ibm.icm.jcr.access.AccessDeniedException: The
   requested operation violates one or more lock constraints.:
   [ErrorCode:7591]
   Opened for release 7001
   
   
    
   
   

PROBLEM CONCLUSION
 *  This error has been corrected in the API service layer.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM48041
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-09-19
   
   
 * CLOSED DATE
   2011-09-19
   
   
 * LAST MODIFIED DATE
   2011-09-19
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * FIXED COMPONENT ID
   5724E7600
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP