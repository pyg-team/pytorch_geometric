Title: IBM IT01265: AFTER MIGRATING CLIENT TO WMQ V7.5.0.X .NET APPLICATION FAILS WITH IBM.WMQ.NMQI.NMQIEXCEPTION WHEN CO - United States

Text:
  A FIX IS AVAILABLE
Fix Pack 7.1.0.6 for WebSphere MQ V7.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24038863]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  After upgrading the WebSphere MQ (WMQ) client to v7.5.0.x,
   the MQ .NET and XMS .NET client applications starts
   reporting the following errors after running successfully for
   a period of time:
   
   Unable to connect to message queue via XMS.
   Reason: IBM.XMS.XMSException: CWSMQ0006E: An exception was
   received
   during the call to the method
   ConnectionFactory.CreateConnection:
   IBM.WMQ.Nmqi.NmqiException: Exception of type
   'IBM.WMQ.Nmqi.NmqiException' was thrown.
   
   or
   
   UOW= source=IBM.WMQ.Nmqi.MQRcvThread org=IBM prod=WebSphere
   component=Message Service Client for .NET thread=[1 : 0]
   IBM.WMQ.Nmqi.NmqiException:
   Exception of type 'IBM.WMQ.Nmqi.NmqiException' was thrown.
   at IBM.WMQ.MQTCPConnection.Receive(Byte[] cBuffer,
   Int32 offset, Int32 length, SocketFlags flags)
   at IBM.WMQ.Nmqi.MQRcvThread.ReceiveBuffer()
   
   The queue manager log files show:
   AMQ6048: DBCS error
   WebSphere MQ is unable to convert string data due to a DBCS
   error. Conversion
   is from CCSID 1208 to CCSID 1252.
   The channel instance is terminated.
   
   
   
   Additional Symptom(s) Search Keyword(s):
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   MQ .NET client application users.
   
   
   Platforms affected:
   Windows
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   The connection data length sent from the MQ .NET client does not
   match the data length expected by the queue manager. Hence, the
   queue manager fails with the error xecX_E_DBCS_ERR while it
   tries to extract and convert an invalid data. An FDC with the
   probeid RM039000 is reported by the function rriConvertValidate.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problem is resolved by sending the complete connection data
   to the queue manger.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v7.1       7.1.0.6
   v7.5       7.5.0.5
   v8.0       8.0.0.1
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT01265
   
   
 * REPORTED COMPONENT NAME
   WMQ BASE MULTIP
   
   
 * REPORTED COMPONENT ID
   5724H7241
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-04-24
   
   
 * CLOSED DATE
   2014-05-22
   
   
 * LAST MODIFIED DATE
   2015-05-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ BASE MULTIP
   
   
 * FIXED COMPONENT ID
   5724H7241
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP