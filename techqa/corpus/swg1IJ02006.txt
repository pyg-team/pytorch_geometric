Title: IBM IJ02006: DASH ALLOWS ANONYMOUS USER TO DOWNLOAD EXPORT ZIP FILE - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



 DIRECT LINK TO FIX
1.1.3.0-TIV-JazzSM-DASH-Cumulative-Patch-0006 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FJazz+for+Service+Management&fixids=1.1.3.0-TIV-JazzSM-DASH-Cumulative-Patch-0006&source=SAR]


APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  PROBLEM: DASH allows anonymous (without prompting login and
   password) to download export zip file.
   
   SUMMARY OF PROBLEM:
   Create the Export File in DASH -> Settings-> Export Wizard ->
   Next ->
   Next -> Finish
   NOTE: Take note of the zip file name.
   Close the browser, restart DASH server then open browser, enter
   URL with
   the zip file name
   Example:
   https://<servername>:16311/ibm/TIPExportImport/output/DASH_expor [https://<servername>:16311/ibm/TIPExportImport/output/DASH_expor]
   t_201710
   25.zip
   
   Anyone will be able to download the export zip file without
   prompting
   for login and password.
   
   
    
   
   

LOCAL FIX
 *  DASH L2 applied a workaround similar to what is described here
   which was
   for TIP
   https://www.ibm.com/developerworks/community/blogs/26d4aa47-4fd6 [https://www.ibm.com/developerworks/community/blogs/26d4aa47-4fd6]
   -460d-a9
   3b-3ee8945324d6/entry/TIP_Exports_can_be_downloaded_anonymously?
   lang=en
   
   Modified web.xml file located at
   /opt/IBM/JazzSM/profile/config/cells/JazzSMNode01Cell/applicatio
   ns/isc.e
   ar/deployments/isc/exportImport.war/WEB-INF
   
   Added the following lines in web.xml, DASH now asks for login
   and
   password. However it returned "ERROR 403: AuthorizationFailed"
   even for
   user smadmin that Role is iscadmins.
   
    <security-constraint>
     <web-resource-collection>
     <web-resource-name>exportImport</web-resource-name>
     <url-pattern>/output/*</url-pattern>
     </web-resource-collection>
     <auth-constraint>
      <description>Roles</description>
      <role-name>iscadmins</role-name>
     </auth-constraint>
     <user-data-constraint>
      <transport-guarantee>CONFIDENTIAL</transport-guarantee>
     </user-data-constraint>
    </security-constraint>
   
   SystemOut.log showing error
   
   [10/25/17 17:04:17:617 WST] 0000009e WebCollaborat A
   SECJ0129E:
   Authorization failed for user smadmin:defaultWIMFileBasedRealm
   while
   invoking GET on
   default_host:/ibm/TIPExportImport/output/DASH_export_20171020.zi
   p,
   Authorization failed, Not granted any of the required roles:
   iscadmins
   
   It seems that DASH is not able to see the  auth-constraint for
   roles.
   
   
    
   
   

PROBLEM SUMMARY
 *  Issue  addressed in DASH 3.1.3 CP6
   
   
    
   
   

PROBLEM CONCLUSION
 *  Issue  addressed in DASH 3.1.3 CP6
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IJ02006
   
   
 * REPORTED COMPONENT NAME
   JAZZ SM TIP DAS
   
   
 * REPORTED COMPONENT ID
   5724C04JD
   
   
 * REPORTED RELEASE
   110
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-11-22
   
   
 * CLOSED DATE
   2018-03-30
   
   
 * LAST MODIFIED DATE
   2018-03-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   JAZZ SM TIP DAS
   
   
 * FIXED COMPONENT ID
   5724C04JD
   
   

APPLICABLE COMPONENT LEVELS