Title: IBM IV17439: S&P FAILS WHEN KFWHISTBEHAVIOR IS EMPTY - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  APAR Type:            Field
   Approver Initials:    TH
   Severity:             3
   Reported Release:     623
   Compid:               5724C04SP
   ABSTRACT:             S&P fails when KFWHISTBEHAVIOR is empty
   PROBLEM DESCRIPTION:
   When the KFWHISTBEHAVIOR table in the TEPS is empty the
   summarization and pruning agent corrupts all the aggregated
   tables with the raw columns.  This causes the aggregated tables
   to be unuseable.  This can be fixed to work like the autonomous
   so that the aggregated tables are correctly created.
   Add code to S&P to use 16051 to do the mapping of behavior tag
   to aggregations like it is done in autonomous mode. And then
   make sure that -16054 is ignored in that case (just allow one
   of the two to provide the set of aggregations). If TEPS always
   returns that value, we can start to ignore -16054 in the future
   (would need to confirm with TEPS team if that's the case).
   
   RECREATE INSTRUCTIONS:
   Remove all rows from KFWHISTBEHAVIOR in the TEPS database and
   start the S&P agent
   
   
    
   
   

LOCAL FIX
 *  Restore the rows for the KFWHISTBEHAVIOR table using a backup
   or the method provided by the TEPS team to recreate the rows.
   An sql script and run it like: KfwSQLClient /d KFW_DSN /f
   ./sqllib/BuildKFWHISTBEHAVIOR.sql
   
   
    
   
   

PROBLEM SUMMARY
 *  When the KFWHISTBEHAVIOR table in the TEPS is empty the
   summarization and pruning agent corrupts all the aggregated
   tables with the raw columns.  This causes the aggregated tables
   to be unuseable.  This can be fixed to work like the autonomous
   so that the aggregated tables are correctly created.
   Add code to S&P to use 16051 to do the mapping of behavior tag
   to aggregations like it is done in autonomous mode. And then
   make sure that -16054 is ignored in that case (just allow one
   of the two to provide the set of aggregations). If TEPS always
   returns that value, we can start to ignore -16054 in the future
   (would need to confirm with TEPS team if that's the case).
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  Will be considered in the next release.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   IV17439
   
   
 * REPORTED COMPONENT NAME
   TDW SPA AGENT
   
   
 * REPORTED COMPONENT ID
   5724C04SP
   
   
 * REPORTED RELEASE
   623
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-03-19
   
   
 * CLOSED DATE
   2012-06-26
   
   
 * LAST MODIFIED DATE
   2012-06-26
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TEPS
   
   
 * FIXED COMPONENT ID
   5724C04PS
   
   

APPLICABLE COMPONENT LEVELS
 * R623 PSY
   UP