Title: IBM Why don't BESClientUI.exe sessions disconnect from my Citrix server when using BES/TEM Client 7.0? - United States

Text:
451; BESClientUI.exe; Citrix; Client; Performance; googlebigfix TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 I just recently upgraded my BES/TEM Clients from BES/TEM 6.0 to BES/TEM 7.0 and now I am noticing that the sessions are remaining active even after the user logs off. Is there a way to avoid this behavior? 

RESOLVING THE PROBLEM
I just recently upgraded my TEM Clients from BES 6.0 to BES 7.0 and now I am noticing that the sessions are remaining active even after the user logs off. Is there a way to avoid this behavior? 

The BESClientUI.exe process is a new process with BES 7.0 and is launched in the userspace for each user as a secure way of showing them message boxes, restart boxes, and other agent based UI. 

However, unless you tell Citrix to terminate the BESClientUI.exe during a session log-off - the session would stay open until it was finally disconnected by Citrix. If you put that .exe in the "LogoffCheckSysModules" reg key on the Citrix server - then the sessions close properly. 

In order to add the BESClient UI, 

1. Locate the following registry key: 
HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Control\Citrix\wfshell\TWI 
2. Open the LogoffCheckSysModules key. 
3. Add the BESClientUI.exe process (separating services to stop with commas) 
Note: Do not use spaces 

For further information, please refer to the Citrix documentation: http://support.citrix.com/article/CTX891671 [http://support.citrix.com/article/CTX891671]

Also note that in TEM after version 7.2 you can alter the BESClientUI behavior to disable the BESClientUI for remote sessions with the Task "BES Client Setting: BESClientUI Enable Mode" (ID: 573)

 

HISTORICAL NUMBER
 451