Title: IBM PM87941: EYUVC1011E AND THEN EYUVH0403E WHEN ATTEMPTING SIGNON TO CPSM WEB USER INTERFACE (WUI) - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  You attempt to sign on to your CPSM (CICSPlex System Manager)
   WUI (Web User Interface) region through your web browser. You
   receive the following message:
   .
   EYUVC1011E Unable to create User environment. User
              already signed on.
   .
   You then try to sign on once again, but check the 'Reconnect'
   box since you just received the earlier message stating you
   were already logged on. This time, you receive message:
   .
   EYUVH0403E Request forbidden.
   .
   The explanation for the EYUVH0403E message states "The user
   must be signed on and authorized to access this resource."
   .
   You are not able to sign on to the WUI. If you print out the
   WUI AUX trace using the CPSM trace formatter, or take a dump of
   the WUI region to look at the internal trace with the CPSM IPCS
   VERBEXIT, you see trace entries with the following debug text
   and point IDs:
   .
   Task  Mtd  Prev Tran Obj Level Pt-ID  Debug
   12345 VITL VPHI COVP SIM Excp    304 BadTickt
   12345 VPHI VKEC COVP SIM Excp    105 badVITL
   12345 VPHI VKEC COVP SIM Excp    117 GetVFail
   .
   .
   Additional Symptom(s) Search Keyword(s): KIXREVSVR
   
   
    
   
   

LOCAL FIX
 *  Give the WUI Server region enough CPU cycles
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICSPlex SM V4R2M0 Users                 *
   ****************************************************************
   * PROBLEM DESCRIPTION:    You attempt to sign on to your CPSM  *
   *                      (CICSPlex System Manager) WUI (Web User *
   *                      Interface) server through a web browser *
   *                      but you receive one of the following    *
   *                      messages:                               *
   *                      .                                       *
   *                           EYUVC1014E Unable to create User   *
   *                                  environment. Failure during *
   *                                  user task creation.         *
   *                      .                                       *
   *                           EYUVC1011E Unable to create User   *
   *                                  environment. User already   *
   *                                  signed on.                  *
   *                      .                                       *
   *                      If you try to sign on a second time     *
   *                      with the 'Reconnect' box checked, you   *
   *                      you receive message:                    *
   *                      .                                       *
   *                           EYUVH0403E Request forbidden.      *
   *                      .                                       *
   *                         If you format the auxilliary trace   *
   *                      from the WUI server using EYU9XZUT, the *
   *                      CPSM trace formatter, you see trace en- *
   *                      tries with the following debug text and *
   *                      trace point IDs:                        *
   *                      .                                       *
   *                      Task  Mtd  Prev Tran .. Pt-ID  Debug    *
   *                      12345 VPSN VPHI COVP ..   136 Timeout2  *
   *                      12345 VITL VITD COVG .. 31302 isASLRT   *
   *                      12345 VPSN VPHI COVP ..   143 VITDFail  *
   *                      .                                       *
   *                      or                                      *
   *                      .                                       *
   *                      Task  Mtd  Prev Tran .. Pt-ID  Debug    *
   *                      12345 VITL VPHI COVP ..   304 BadTickt  *
   *                      12345 VPHI VKEC COVP ..   105 badVITL   *
   *                      12345 VPHI VKEC COVP ..   117 GetVFail  *
   ****************************************************************
   * RECOMMENDATION: After applying the PTF that resolves this    *
   *                 APAR, all MASes configured as WUI servers    *
   *                 must be recycled to pick up the new code.    *
   *                 Note that regions do not need to be brought  *
   *                 down and restarted at the same time.         *
   ****************************************************************
      When a user initiates a signon request to a WUI server, a
   Protected Proxy Task (TranID COVP) is started to manage the
   traffic between the server and the user's browser session.  COVP
   validates the user's identity and queues a request to the Global
   Service Long Running Task (GSLRT) to start an API Service Long
   Running Task (ASLRT) to manage the user's session.  COVP then
   waits for 60 seconds to be POSTed by the ASLRT after it has ini-
   tialized.  When the ASLRT has initialized and POSTed COVP, a
   session cookie is initialized to allow requests from the user's
   browser to be processed by the correct ASLRT task.
     If the time-out ECB is POSTed before the ASLRT has completed,
   initialization,  messages EYUVC1014E, EYUVC1011E, or EYUVH0403E
   might be issued, depending on whether this is the first attempt,
   or a successive attempt to sign on, and whether the wait timed
   out before or after the ASLRT was actually started.  The user
   will not be able to start a new signon because a task slot is
   allocated for the userid, and will be unable to reconnect to
   the ASLRT because COVP will not have created a session cookie
   containing the signon ticket.
      The COVC Control Transaction can be used to purge the user
   session, allowing the user to sign on again, but if the issue
   that caused the time-out has not been corrected, the new signon
   attempt might time out, resulting in the same problem.
   
   
    
   
   

PROBLEM CONCLUSION
 *     Module EYU0VPSN (VPSN - Protected Proxy Signon Program) was
   modified to determine whether an ASLRT had been started if the
   initialization wait timed out.  If an ASLRT was started, the
   user signon will be purged, causing the ASLRT to terminate as
   soon as initialization completes.  New message
   .
        EYUVC1029E Unable to create user environment. User task
               creation timed out.
   .
   will be sent to the browser to identify the cause of the signon
   failure.  The user should retry the signon.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM87941
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   70M
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-04-26
   
   
 * CLOSED DATE
   2013-07-16
   
   
 * LAST MODIFIED DATE
   2013-08-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM88125 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM88125] UK95898
   
   

MODULES/MACROS
 *     EYUEVPSN EYUKVPSN EYUSVPSN EYUTVTHE EYUTVTHK
   EYUTVTHS EYU0VGAI EYU0VPSN
   
   
    
   
   

Publications Referenced GC34720101 FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R70M PSY UK95898 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK95898]
   UP13/07/22 P F307
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.