Title: IBM SA IOM V2.1 port conflict issue when starting up - United States

Text:
port 1035 conflict initialize error winsock process CDeviceTcpip TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 1832 [ CDeviceTcpip::Open ] Error: WinSock reports port 1035 in use by another process. 

SYMPTOM
Notice that the 'TCP/IP Communications' icon goes red instead of green on the RpServer panel when starting SA IOM V2.1 

The following error is seen in the RpServer.log file: 


1832 [ CDeviceTcpip::Open ] Error: WinSock reports port 1035 in use by another process.


CAUSE
another application is using the default port 1035.



DIAGNOSING THE PROBLEM
If you catch it in time, you can run the 'netstat -ano >netstatOutput.txt' command, then browse the netstatOutput.txt file to verify which application is using port 1035. 

We supplied some debug code that automatically ran the netstat utility when the port issue occurs, this helped identify which application was using the port.


RESOLVING THE PROBLEM
As mentioned in the SA IOM Users Guide, the solution is to change the port. In our testing, we were able to successfully change the port to 10035 and did not experience the problem again. 

You can also use the following settings in the server profile (rpsvrprf.txt) file in ...\SA IOM\config\ to alleviate the problem (if it's a timing issue): 


CLIENT_PORT_LISTEN_TIMEOUT = 5 
CLIENT_PORT_LISTEN_RETRIES = 120 

// Client TCP/IP Port Listen Retries 
// --------------------------------- 
// 
// When starting the SA IOM server as a system service under one of 
// the Windows Server Operating Systems, it has been reported that 
// the Client Port Listen call randomly fails. We have added code 
// to delay and retry the Listen a number of times. 
// 
// By default, we will not retry the listen. The commented values 
// below will attempt to retry up to 120 times delaying 5 seconds 
// between attempts. Uncomment, and change the values to further 
// fine tune, to enable. 
// This delay and retry can also happen when the SA IOM server is
// started from the start menu if the port is in use. You can 
// stop the SA IOM server, but it may take up to one timeout's 
// value for it to go away.