Title: IBM When replicating from SQL Server source, subscription fails with "IBM InfoSphere Change Data Capture will be shutdown due to an error while parsing logs (...) The table definition may have changed" - United States

Text:
CDC; Infosphere CDC; Infosphere Change Data Capture; Change Data Capture; ISCDC; IS-CDC; DataMirror; TS; DataMirror TS; Transformation Server; DataMirror Transformation Server; DDL; rebuild; dropped internal columns TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Although no DDL was performed on a table since it was added to replication, subscription fails with the message saying that table definition may have changed . After you update source table definition and refresh the table, subscription still fails with the same error. 

SYMPTOM
Subscription fails and you can find similar messages in event log: 

In "Subscription" -> "Source" log: 

IBM InfoSphere Change Data Capture will be shutdown due to an error while parsing logs for table schema.TABLE at position IBM InfoSphere Change Data Capture. The table definition may have changed. Update table definition and refresh this table. 

In "Single scrape" -> "Source" log: 

An exception has occurred in the log parser. 
IBM InfoSphere Change Data Capture encountered an error while processing data for table with id 0123456789 and name "schema"."TABLE". The error could be related to DDL done on the table recently or in the past. Please rebuild the table and refresh to reposition past the current log position. Please review Microsoft documentation possible options to rebuild the table.
IBM InfoSphere Change Data Capture detected that the table with id 0123456789 and table name "schema"."TABLE" contains dropped internal columns. A dropped internal column in Microsoft SQL server metadata appears when DDL changes like dropping a column or changing a column data type occur on the table.


CAUSE
On SQL Server platform, after you drop column using ALTER TABLE statement, the column is still physically present in database as dropped internal column. CDC product expects tables not to have dropped internal columns and fails when it encounters first DML change for such table.



RESOLVING THE PROBLEM
To resolve the problem you must rebuild source table to get rid of dropped internal columns. For specific steps how to perform this operation, consult SQL Server DBA. To get name of the table that needs to be rebuilt, check "Single scrape" -> "Source" event log message. 

After table is rebuilt, refresh it and resume mirroring.