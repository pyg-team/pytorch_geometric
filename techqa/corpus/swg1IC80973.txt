Title: IBM IC80973: OPM VERSION 510 MIGRATION OF E2E_STATEMENTS TABLE FAILS DISPLAYING ERRORCODE=-4229 - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  E2E_STATEMENTS table can not be migrated from version 411 to 510
   due to ERRORCODE=-4229
   [21:56:26.157][3]Operation alert issued:
       Alert ID: opm.operationalert.migration.to51finishederr
       Alert message: An error occurred during the migration of
   performance data.
       Alert property:
   opm.operationalert.migration.to51finishederr.prop.key=[jcc][102]
   [10040][3.62.56] Batch failure.  The batch was submitted, but at
   least one exception occurred on an individual member of the
   batch.
   Use getNextException() to retrieve the exceptions for specific
   batched elements. ERRORCODE=-4229, SQLSTATE=null
       Issuing component: Migrate cube data
       Alert type: MONITORED_DB
       Alert severity: CRITICAL
       Connection name: <connection name>
   
   
    
   
   

LOCAL FIX
 *  Do not migrate the data
   
   
    
   
   

PROBLEM SUMMARY
 *  E2E_STATEMENTS table can not be migrated from version 411 to 510
   due to ERRORCODE=-4229.
   
   The user gets
   
   [21:56:26.157][3]Operation alert issued:
       Alert ID: opm.operationalert.migration.to51finishederr
       Alert message: An error occurred during the migration of
   performance data.
       Alert property:
   opm.operationalert.migration.to51finishederr.prop.key=[jcc][102]
   [10040][3.62.56] Batch failure.  The batch was submitted, but at
   least one exception occurred on an individual member of the
   batch.
   Use getNextException() to retrieve the exceptions for specific
   batched elements. ERRORCODE=-4229, SQLSTATE=null
       Issuing component: Migrate cube data
       Alert type: MONITORED_DB
       Alert severity: CRITICAL
       Connection name: <connection name>
   
   on the server's console and
   
   CONFIG [2011-12-29 03:52:21.607] [OpmMig-3    ] [PEE2EStatem.]
   INSERT INTO DB2PM_3.DIM_STATEMENT_COMPILATION (STMT_HASH_VALUE,
   SECTION_TYPE, STMT_TEXT_HASH, EXECUTABLE_ID,
   STMT_MET_CORR_ID_HASH, DIM_INSERT_TIME, PACKAGE_ID) VALUES
   (?,?,?,?,?,?,(SELECT PACKAGE_ID FROM DB2PM_3.DIM_PACKAGE WHERE
   (PACKAGE_NAME=? OR (CAST( ? AS VARCHAR(128)) IS NULL AND
   PACKAGE_NAME IS NULL)) AND (PACKAGE_CONSISTENCY_TOKEN=? OR
   (CAST( ? AS VARCHAR(16)) IS NULL AND PACKAGE_CONSISTENCY_TOKEN
   IS NULL)) AND PACKAGE_SCHEMA IS NULL))
   CONFIG [2011-12-29 03:52:21.607] [OpmMig-3    ] [PEE2EStatem.]
   [jcc][102][10040][3.62.56] Batch failure.  The batch was
   submitted, but at least one exception occurred on an individual
   member of the batch.
   Use getNextException() to retrieve the exceptions for specific
   batched elements. ERRORCODE=-4229, SQLSTATE=null,
   SQLState=<null>, ErrorCode=<-4229>.
   CONFIG [2011-12-29 03:52:21.607] [OpmMig-3    ] [PEE2EStatem.]
   com.ibm.db2.jcc.am.BatchUpdateException:
   [jcc][102][10040][3.62.56] Batch failure.  The batch was
   submitted, but at least one exception occurred on an individual
   member of the batch.
   Use getNextException() to retrieve the exceptions for specific
   batched elements. ERRORCODE=-4229, SQLSTATE=null
       at com.ibm.db2.jcc.am.fd.a(fd.java:404)
       at com.ibm.db2.jcc.am.o.a(o.java:381)
       at com.ibm.db2.jcc.am.kn.a(kn.java:4523)
       at com.ibm.db2.jcc.am.kn.c(kn.java:4294)
       at com.ibm.db2.jcc.am.kn.executeBatch(kn.java:2600)
       at
   com.ibm.db2pm.server.util.PEE2EStatementsMigration.migrateToDime
   nsions(Unknown Source)
       at
   com.ibm.db2pm.server.util.PEE2EStatementsMigration.migrate(Unkno
   wn Source)
       at
   com.ibm.db2pm.server.base.migration.OPMMigrateCubeData.iterate(U
   nknown Source)
       at com.ibm.db2pm.server.master.PEThread.run2(Unknown Source)
       at com.ibm.db2pm.server.master.PEThread.run(Unknown Source)
   
   com.ibm.db2.jcc.am.SqlException: Error for batch element #866:
   DB2 SQL Error: SQLCODE=-811, SQLSTATE=21000, SQLERRMC=null,
   DRIVER=3.62.56
       at com.ibm.db2.jcc.am.fd.a(fd.java:679)
       at com.ibm.db2.jcc.am.fd.a(fd.java:60)
       at com.ibm.db2.jcc.am.fd.a(fd.java:127)
       at com.ibm.db2.jcc.t4.cb.a(cb.java:481)
       at com.ibm.db2.jcc.t4.cb.a(cb.java:70)
       at com.ibm.db2.jcc.t4.q.a(q.java:57)
       at com.ibm.db2.jcc.t4.sb.a(sb.java:225)
       at com.ibm.db2.jcc.am.kn.a(kn.java:3083)
       at com.ibm.db2.jcc.am.kn.d(kn.java:5019)
       at com.ibm.db2.jcc.am.kn.a(kn.java:4466)
       at com.ibm.db2.jcc.am.kn.c(kn.java:4294)
       at com.ibm.db2.jcc.am.kn.executeBatch(kn.java:2600)
       at
   com.ibm.db2pm.server.util.PEE2EStatementsMigration.migrateToDime
   nsions(Unknown Source)
       at
   com.ibm.db2pm.server.util.PEE2EStatementsMigration.migrate(Unkno
   wn Source)
       at
   com.ibm.db2pm.server.base.migration.OPMMigrateCubeData.iterate(U
   nknown Source)
       at com.ibm.db2pm.server.master.PEThread.run2(Unknown Source)
       at com.ibm.db2pm.server.master.PEThread.run(Unknown Source)
   
   in the <node name>/db2pesrv.trc trace file.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Install InfoSphere Optim Performance Manager fixpack 5.1.1.0
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC80973
   
   
 * REPORTED COMPONENT NAME
   OPT PER MGR DB2
   
   
 * REPORTED COMPONENT ID
   5724Y9400
   
   
 * REPORTED RELEASE
   510
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-01-23
   
   
 * CLOSED DATE
   2012-05-03
   
   
 * LAST MODIFIED DATE
   2012-05-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OPT PER MGR DB2
   
   
 * FIXED COMPONENT ID
   5724Y9400
   
   

APPLICABLE COMPONENT LEVELS
 * R510 PSY
   UP