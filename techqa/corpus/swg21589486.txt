Title: IBM Integration Bus and WebSphere Message Broker user and service trace - United States

Text:
mqiinfo trace service trace user trace TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Instructions for generating user and service trace files in IBM Integration Bus (IIB) or WebSphere Message Broker (WMB)? 

RESOLVING THE PROBLEM
A user/service trace may be enabled using the command "mqsichangetrace". 
For example: Use this command for service trace:
mqsichangetrace <brk> -t –e <eg> -l debug
For detailed trace instructions, click here [http://www-01.ibm.com/support/docview.wss?rs=849&uid=swg21177321].

When a user/service trace is run on a message flow or an execution group, there are 4 trace binary files that get updated with the trace information. These trace binaries are located in the '<MQSI_WORKPATH>/common/log' directory. The number of trace binaries is not configurable, although their size is. Traces that exceed all four files will continue to be written into the oldest file, overwriting whatever data may already be in that file.

For example:
On Windows, a usertrace run on an execution group would create files such as:
V8BK.f315e0e9-3501-0000-0080-986fdf86caf1.userTrace.bin.0
V8BK.f315e0e9-3501-0000-0080-986fdf86caf1.userTrace.bin.1
V8BK.f315e0e9-3501-0000-0080-986fdf86caf1.userTrace.bin.2
V8BK.f315e0e9-3501-0000-0080-986fdf86caf1.userTrace.bin.3
where 'V8BK' is the name of the broker and 'f315e0e9-3501-0000-0080-986fdf86caf1' is the execution group's Unique ID (UUID).

These trace.bin files have to be formatted using the 'mqsireadlog' and 'mqsiformatlog' commands to convert them into readable xml and text data, respectively. 

Note: 

 * The trace is overwritten when the maximum trace file size has been reached while the trace is being written. In such cases, you can simply increase the trace file size using the following command:mqsichangetrace <brk> -t –e <eg> -l debug -c <trace file size in KB>
   
   The maximum trace file size that can be set is 2097151 KB 
 * If the broker is restarted while a trace is running, trace data will continue to be written even after the broker restart. In this case the original trace data written prior to broker restart will be overwritten by the new trace data after broker restart. To avoid this you can upgrade to WMB V7.0.0.3 or later. If you are using WMB V7.0.0.3 (or later), you can specify the trace parameter '-m temp' to disable tracing upon Execution Group (EG) restart. This can be vital in capturing processing during EG shutdown.

 * 
 * 
 * 

 


Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Integration Bus 9.0 All Editions 
PRODUCT ALIAS/SYNONYM
 WMB MB WebSphere Message Broker IBM Integration Bus IIB IBMIB MQ Integrator WBIMB WBI-MB MQSI WMQI