Title: IBM InfoSphere DataStage job with ODBC Connector stage Aborts with Adabas Response Code 71 - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 InfoSphere DataStage job with ODBC Connector stage that uses a Infosphere Classic Federation Data Source aborts. 
Message logged in DataStage Director is: The search command was issued against Adabas file number 199 and failed with Adabas response code 71.



SYMPTOM
DataStage job with ODBC Connector stage using InfoSphere Classic Federation Data Source, that has extraction criteria for 3 days completes successfully, but the same job fails when extraction criteria is increased to 20 days. 

Following messages are logged in DataStage Director, that indicate the ODBC errors and Adabas specific error codes. 

ODBC function "SQLExecute" reported: SQLSTATE = HY000: Native Error Code = 5,701,781: Msg = [IS Classic][ODBC/CLI Driver][Data Server] SQLExecute - Error code: x00570095. An Adabas search command could not be processed. The search command was issued against Adabas file number 199 and failed with Adabas response code 71. (CC_OdbcDBStatement::executeSelect, file CC_OdbcDBStatement.cpp, line 1,422)

ODBC function "SQLDisconnect" reported: SQLSTATE = 25000: Native Error Code = 5,636,133: Msg = [IS Classic][ODBC/CLI Driver] SQLDisconnect - Error code: x00560025. SQLDisconnect cannot be issued because transactions are outstanding on some statements that are defined on the connection handle. (CC_OdbcConnection::disconnect, file CC_OdbcConnection.cpp, line 870)

CAUSE
Adabas database error code 71 means that search command was rejected because it was estimated that command execution would exceed the maximum search time defined as per Adabas TLSCMD parameter.



RESOLVING THE PROBLEM
Increase the value of Adabas parameter TLSCMD to let the complex query and DataStage job complete successfully. 


TLSCMD is the time limit (in seconds) for executing a single command with complex search criteria on Adabas database.
Minimum value is 1, default value is 300 (seconds), and maximum value is the setting of ADARUN MSTSX parameter.