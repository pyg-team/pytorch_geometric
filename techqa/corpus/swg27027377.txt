Title: IBM Performance Tuning for IBM Content Navigator, Version 2.0 and 2.0.1 - United States

Text:
 PRODUCT DOCUMENTATION

ABSTRACT
 This information includes techniques that you can use to improve the performance of IBM Content Navigator. 

CONTENT
 

 * Increasing JDBC connection pool sizes 
 * Tuning default values 
 * Reducing response time in multi-user list teamspace instance and template 
 * Reducing response time for browsing folder tree in an IBM FileNet P8 repository by creating the required database indexes 
 * Reducing response time for listing All Searches in an IBM FileNet P8 repository by creating the required database index 
 * Configuring WebSphere Application Server connection pooling (IBM Content Manager)


Increasing JDBC connection pool sizes
The default maximum value for the JDBC connection pool to the IBM Content Navigator configuration database might not be appropriate for your workload. Increase the JDBC connection pool size to allow more connections to the configuration database. 

Change the maximum value to 500, monitor over time and adjust as needed. (10 is the default maximum value.) 




Tuning default values
For faster response times, modify the following default values: 
Table 1. Default values to modify for faster response times 

Property Value to modify WebSphere Application Server data source connection pool Set the Maximum Size to 100. Websphere Application Server webcontainer threadpool Set Minimum Size to 50, and Maximum Size to 100. WebSphere Application Server heap size Set to 768MB - 1024MB. Windows TCPIP limit Set the TCPIP connection number to 150.
Set the TCPIP port number to 10000. For P8 only: ORB.Container threadpool Set Minimum Size to 50, and Maximum Size to 100. 

Reducing response time in multi-user list teamspace instance and template by creating the required database index
When you connect to an IBM FileNet P8 repository from the IBM Content Navigator administration tool, you can enable the teamspaces feature on the repository. When you enable the teamspace feature, an add-on is created in the object store and the *_clbteamspacestate property is created. 

Create an index on table "Container". The index contains three columns (u6a16_clbTeamspacestate, home_id and object_class_id).



Reducing response time for browsing the folder tree in an IBM FileNet P8 repository by creating the required database indexes

Create an index on table "Relationship." The index contains two columns (tail_id, head_id desc).

Create an index on table "Docversion." The index contains six columns (object_id, object_class_id, version_status, home_id, mime_type, ????_icnshowintree).



Reducing response time for listing All Searches in an IBM FileNet P8 repository by creating the required database index

Create an index on table "Docversion." The index contains five columns (object_id, object_class_id, version_status, ???_documenttitle).



Configuring WebSphere Application Server connection pooling (IBM Content Manager)
You should configure WebSphere Application Server connection pooling on the servers in your IBM Content Navigator environment to improve the security and scalability of the IBM Content Navigator web client.

Connection pooling has the following benefits:


 *  Enables more users to connect to IBM Content Manager from a single instance of IBM WebSphere Application Server Improves performance by reducing logon time and memory usage Increases the security of deployed web applications 


You must manually configure connection pooling on WebSphere Application Server. 

The IBM Content Manager connector has a feature to enable WebSphere Application Server JDBC connection pooling. If this feature is not enabled, the library server database connections will not be shared. If this feature is enabled, the library server database connections will be shared from the WebSphere Application Server JDBC connection pool. 

Without WebSphere Application Server connection pooling, each database handles its own database connection, which can limit the scalability of an application. When you enable WebSphere Application Server connection pooling, IBM Content Navigator is sharing library server database connections from the WebSphere Application Server JDBC connection pool. Connection pooling improves performance by reducing the quantity of resources that are required for a set of databases. 

To enable WebSphere Application Server connection pooling: 

1. Modify the cmbpool.ini file to use indirect lookup by adding the following values:  * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 

2. Set the JDBC driver path in your WebSphere Application Server administrative console: 
 * 
 * Environment > WebSphere variables
 * 
 * 
 * 
 * Scope
 * 
 * Node
 * =YourSystemNode
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 

3. Create a JDBC resource reference for your IBM Content Manager library server in your WebSphere Application Server administrative console:  * 
 * Resources > JDBC > JDBC Provider
 * 
 * New
 * 
 * 
 * 
 * Scope
 * 
 * Node
 * =YourSystemNode
 * 
 * 
 * 
 * DB2 
 * 
 * Oracle
 * 
 * 
 * 
 *   * DB2 Using IBM JCC Driver 
    * Oracle JDBC Driver
   
   
 * 
 * Connection pool data source
 * 
 * 
 * 
 * Next 
 * 
 * 
 * 
 * 

4. Create a data source in your WebSphere Application Server administrative console:  * 
 * Resources > JDBC > JDBC Provider
 * 
 * 
 * 
 * Data sources 
 * 
 * New
 * 
 * 
 * 
 * JNDI name
 * 
 * ICMNLSDB
 * 
 * ICMNLSDB
 * 
 * 
 * 
 * OK
 * 
 * 
 * 
 * Database name
 * 
 * 
 * 
 * Server name
 * 
 * Next
 * 
 * 
 * 
 * 

5. Edit the properties of your data source in your WebSphere Application Server administrative console:  * 
 * 
 * 
 * Related Items
 * 
 * JAAS – J2C authentication data 
 * 
 * New
 * 
 * 
 * 
 * Alias
 * 
 * nodename
 * 
 * userID
 * 
 * 
 * 
 * User ID 
 * 
 * 
 * 
 * Password
 * 
 * 
 * 
 * OK
 * 
 * 

6. Select the alias in Component-managed authentication alias. 
7. Select the alias in Container-managed authentication alias. 
8. Save your changes to the master configuration. 


You can also set the following optional connection pooling parameters depending on your performance requirements and system resources:  *  Connection timeout Maximum connections Minimum connections Reap time Unused timeout Aged timeout Purge policy 


Important: 
• You can create a dummy password with your icmconct user ID. Do not manually edit the password to generate the dummy password. You must generate the dummy password by generating the password for the icmconct user ID in the cmbicmenv.ini file. You can do this by using the IBM Content Navigator util [https://www-01.ibm.com/support/knowledgecenter/SSRW2R_4.0.0/doc/a_profiles_import.dita] tool. 
• The cmbicmenv.ini and cmbicmsrvs.ini files are required files. They must exist in the same directory as cmbpool.ini file. Do not remove or rename these files. See Knowledge Center documentation [https://www-01.ibm.com/support/knowledgecenter/SSEUEX_2.0.3/com.ibm.installingeuc.doc/eucpt010.htm]. 
• If WAS Connection Pooling is not enabled, it is secure to have IBM Content Navigator configured behind the firewall.