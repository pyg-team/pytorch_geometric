Title: IBM DFHAP0001 0C4 AKEA at FFFF in DFHSUWT at CICS startup - United States

Text:
DFHSUWT CAS9XS41 CAS9560 CSAQRTCA CSACDTA DFHAP0001 ; ABEND 0C4; ABEND S0C4; ABEND AKEA; ABEND0C4; ABENDS0C4; ABENDAKEA; FFFF; startup; initialization; upgrades; upgrading; migrates; migrating; CA-ENF 5655M1500 R650 650 R500 500 HCI6500 5655-M15 5655M15 KIXINFO retention32 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You upgrade to CICS Transaction Server for z/OS (CICS TS) V3.2. Afterwards, your region takes a dump when control is given to CICS. You receive message DFHAP0001 An abend (code 0C4/AKEA) has occurred at offset X'FFFF' in module DHSUWT. 

SYMPTOM
Following are the messages you receive:
DFHSI1517 Control is being given to CICS. 
DFHAP0001 An abend (code 0C4/AKEA) has occurred at offset X'FFFF' in module DHSUWT.
DFHDU0201 ABOUT TO TAKE SDUMP. DUMPCODE: AP0001 , DUMPID: 1/0001.


CAUSE
Analysis of the dump shows that some non IBM code is attempting to access the TCA of the current task by using CSAQRTCA. In CICS TS V3.2 and higher, this field contains the address of fetch protected storage. An attempt to access the storage at the address results in a program check (abend0C4 abendAKEA).

RESOLVING THE PROBLEM
Determine who is accessing the CSA by Locating the PSW for the program check in a CICS system dump [http://www.ibm.com/support/docview.wss?uid=swg21176381]. Then change the code so it no longer uses CSAQRTCA. Your code should also no longer use CSACDTA which is also being loaded with fetch protected storage. 

If you find that CA module CAS9XS41 or CAS9560 is causing the abend, then this problem is being caused by the CA ENF program product. The official CA fix is QO88406 (from 2007). However, to immediately solve your problem you can enter the following MVS modify command and then restart your CICS region:

F ENF,MODE(CICS,NONE) 

Contact [/support/docview.wss?uid=swg21244931&amp;aid=1]CA support [http://www.ca.com/] to get the fix or if you have additional questions.

RELATED INFORMATION
#ASRD abend when using CICS TS V3.2 or higher [http://www.ibm.com/support/docview.wss?uid=swg21264616]




PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server