Title: IBM PK75187: UTILITY TO FIND LARGE RESOURCE FILES (IMAGES AND OTHER FILES) STORED IN WCM - United States

Text:
  FIXES ARE AVAILABLE
6.1.0.4 Download: WebSphere Portal and WCM V6.1.0 fix pack 4 & 6.1.5 fix pack 1 [http://www-01.ibm.com/support/docview.wss?uid=swg24026394]
Recommended Updates for WebSphere Portal and Web Content Management V6.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24023835]
6.1.0.5 Download: WebSphere Portal and WCM V6.1.0 fix pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24027475]
Fixes integrated in WebSphere Portal V7.0 Combined Cumulative Fix [http://www-01.ibm.com/support/docview.wss?uid=swg24027254]
6.1.0.6 Download: WebSphere Portal and WCM V6.1.0 fix pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030970]
7.0.0.2 Download: WebSphere Portal and WCM V7.0 fix pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24031676]



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Content Authors can upload large resources into Image, File and
   Rich Text Components which creates a performance problem as it
   is slow for viewers to download the items.
     There is no fast tool to determine where the large resources
   exist on the system
   The API could be used to determine the size of images for Image
   and File Components however this would be quite slow as it will
   need to retrieve each item separately. There is no API tool to
   find the size of embedded images in Rich Text fields.
   
   
    
   
   

LOCAL FIX
 *  A new module is created called FindLargeResourcesModule. This
   will find all Image File and Rich Text Component's resources
   that are greater then a specified minimum size. If no size is
   specified, it will look by default for resources greater then 1
   Megabyte. For Rich Text Components, it will not find resources <
   2 Megabytes. The url parameter for the minimum size to check is
   "min_size" and the value is a number in bytes.
   
   The result will output each resource items name, path, type and
   resource size.
   
   The following lines should be added to the
   WCMConfigService.properties file in [Portal
   directory]/wcm/shared/app/config/wcmservices
   
   connect.businesslogic.module.findlargeresources.class=com.ibm.wo
   rkplace.wcm.services.statistics.FindLargeResourcesModule
   connect.businesslogic.module.findlargeresources.remoteaccess=tru
   e
   connect.businesslogic.module.findlargeresources.autoload=false
   
   and append findlargeresources to this key:
   'connect.businesslogic.module'
   i.e.
   connect.businesslogic.module=template,multi_template,web,mail,fo
   rm,aggregator,default,ajpe,federatedproxy,ajpecatselect,memberfi
   xer,versioningenablement,workflowenablement,itemdispatcher,pluto
   uploadfile,plutodownloadfile,ensureusermanagement,pdmproxy,synd,
   subs,syndication,refreshallitems,unlocklibrary,findlargeresource
   s,custom
   
   
    
   
   

PROBLEM SUMMARY
 *  Content Authors can upload large resources into Image, File and
   Rich Text Components which creates a performance problem as it
   is slow for viewers to download the items.
     There is no fast tool to determine where the large resources
   exist on the system.
   The API could be used to determine the size of images for Image
   and File Components however this would be quite slow as it will
   need to retrieve each item separately. There is no API tool to
   find the size of embedded images in Rich Text fields.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A new module is created called FindLargeResourcesModule. This
   will find all Image File and Rich Text Component's resources
   that are greater then a specified minimum size. If no size is
   specified, it will look by default for resources greater then 1
   Megabyte. For Rich Text Components, it will not find resources <
   2 Megabytes. The url parameter for the minimum size to check is
   "min_size" and the value is a number in bytes.
   
   The result will output each resource items name, path, type and
   resource size.
   
   The following lines should be added to the
   WCMConfigService.properties file in [Portal
   directory]/wcm/shared/app/config/wcmservices
   
   connect.businesslogic.module.findlargeresources.class=com.ibm.wo
   rkplace.wcm.services.statistics.FindLargeResourcesModule
   connect.businesslogic.module.findlargeresources.remoteaccess=tru
   e
   connect.businesslogic.module.findlargeresources.autoload=false
   
   and append findlargeresources to this key:
   'connect.businesslogic.module'
   i.e.
   connect.businesslogic.module=template,multi_template,web,mail,fo
   rm,aggregator,default,ajpe,federatedproxy,ajpecatselect,memberfi
   xer,versioningenablement,workflowenablement,itemdispatcher,pluto
   uploadfile,plutodownloadfile,ensureusermanagement,pdmproxy,synd,
   subs,syndication,refreshallitems,unlocklibrary,findlargeresource
   s,custom
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK75187
   
   
 * REPORTED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * REPORTED COMPONENT ID
   5724I2900
   
   
 * REPORTED RELEASE
   60G
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-11-07
   
   
 * CLOSED DATE
   2008-11-07
   
   
 * LAST MODIFIED DATE
   2008-12-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * FIXED COMPONENT ID
   5724I2900
   
   

APPLICABLE COMPONENT LEVELS
 * R60H PSY
   UP