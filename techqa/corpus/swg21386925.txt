Title: IBM How to change the temporary directory used by WebSphere Application Server UpdateInstaller V6.1 and V7.0 on Windows - United States

Text:
was app server appserver TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The UpdateInstaller may require a large amount of space to be free in the system temporary directory in order to process a large maintenance package, such as a Fix Pack. Due to system policies or security restrictions, the system temporary directory may not have enough space as required by the UpdateInstaller. This technote describes how to change the temporary directory used by the UpdateInstaller V6.1 for Windows-based systems. 

SYMPTOM
The UpdateInstaller V6.1 and V7.0 may require a large amount of space to be free in the system temporary directory in order to process a large maintenance package, such as a Fix Pack. Due to system policies or security restrictions, the system temporary directory may not have enough space as required by the UpdateInstaller. Freeing space in the system temporary is a good solution, but sometimes that is an unrealistic solution. 

When the UpdateInstaller does not have sufficient space in the system temporary directory to allow the installation to take place, it will display an error similar to the following text:


CWUPI0033E: There is insufficient free disk space on the system: 

D:\IBM\WebSphere\AppServer:
Required: 500 MB Available: 600 MB

C:\temp:
Required: 100 MB Available: 70 MB

Ensure there is enough free disk space on all required filesystems and retry the operation. If C:\temp and D:\IBM\WebSphere\AppServer are on the same partition then the amount of space required is the sum of the space required on C:\temp and D:\IBM\WebSphere\AppServer.


In the example above, notice that the IBM® WebSphere® Application Server directory does have sufficient space, but the temporary directory does not. The UpdateInstaller will not allow the installation to proceed until enough space is free in the temporary directory.

This can occur either while installing the UpdateInstaller or while applying a maintenance pack using the UpdateInstaller. Resolving each of those problems needs a different solution, and both of those solutions are described further below.

If this occurs while installing the UpdateInstaller, then the error seen above would be displayed in the "log.txt" file which would be relocated to the "updilogs" subdirectory of the user's home directory. If this occurs while using the UpdateInstaller V6.1 to apply a maintenance pack, then the error would be displayed in the "updatelog.txt" file which would be relocated to one of the "tmp" log subdirectories under updateInstaller_root /logs.

Note: If the UpdateInstaller claims that "0 MB" disk space is free (i.e., no disk space is free), yet there truly is disk space free, then a different solution is available to address that issue. Please see technote 1259888 [http://www-1.ibm.com/support/docview.wss?rs=180&uid=swg21259888] for further details.


CAUSE
This solution applies to UpdateInstaller V6.1 and V7.0, both for using the UpdateInstaller to apply maintenance packages and for installing the UpdateInstaller.

Also, this technote applies to UpdateInstaller running on Windows-based systems. This technote does not apply to Linux or Unix-based systems. For a discussion of this same topic for Linux or Unix-based systems, please refer to technote 1299366 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21299366].


RESOLVING THE PROBLEM
Use UpdateInstaller V6.1.0.13 or later 

This solution is applicable to UpdateInstaller V6.1.0.13 and later. Update the UpdateInstaller to the latest available V6.1 or V7.0 level before continuing with this process. (Note that the V7.0 UpdateInstaller is fully backward-compatible with V6.1 maintenance packs.) The latest UpdateInstaller V6.1 can be found here [http://ibm.com/support/docview.wss?rs=180&uid=swg24012718], and the latest UpdateInstaller V7.0 can be found here [http://ibm.com/support/docview.wss?uid=swg24020448].



Changing the temporary directory used while applying a maintenance package
This section describes how to change the temporary directory used when applying a maintenance package using the UpdateInstaller. This does not work for installing the UpdateInstaller -- please see the section below in this technote for details regarding installing the UpdateInstaller.

When starting the UpdateInstaller, use these parameters in addition to any other parameters being used to invoke the UpdateInstaller:

-D java.io.tmpdir "C:\newtemp" -D temp.dir "C:\newtemp"

Replace "C:\newtemp" in both places with the full path to the new temporary directory you would like to use. Be sure to specify the same directory in both parameters.

The example below shows how to invoke the UpdateInstaller wizard while changing the temporary directory to "C:\mytemp":

update -D java.io.tmpdir "C:\mytemp" -D temp.dir "C:\mytemp"

Note: These parameters may look incorrect to administrators who are familiar with modifying Java command-line options. The parameters listed in the examples above are correct when used on Windows-based systems. When passing these parameters to "update", there should be a space between the "-D" and other parameters, and the equals sign ("=") is not used here. Please use the parameters as they are specified above.



Changing the temporary directory used while installing the UpdateInstaller
This section describes how to change the temporary directory used when installing the UpdateInstaller V6.1. (Note that IBM Support representatives may refer you to these instructions when updating other WebSphere 6.1 installers, because these instructions will work for other circumstances as well.) This applies to Windows-based systems only.


 1. Open a command prompt. Navigate to the "UpdateInstaller" directory in the UpdateInstaller's installer.
    
    
 2. Set the "TEMP" and "TMP" environment variables to the new temporary directory by issuing the following commands:
    
    set TEMP="C:\newtemp"
    set TMP="C:\newtemp"
    
    Replace "C:\newtemp" in both places with the full path to the new temporary directory you would like to use. Be sure to specify the same directory in both parameters.
    
    
 3. From the same command prompt session, invoke the UpdateInstaller installer. It can be invoked by typing this command:
    
    install
    
 4. Once the UpdateInstaller installation is complete, the command prompt window can be closed.



Cross reference information Segment Product Component Platform Version Edition Application Servers WebSphere Application Server - Express Install and migration Windows 7.0, 6.1