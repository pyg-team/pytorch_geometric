Title: IBM IV90875: FIX PACK 4 ONWARDS FORMAT CHANGE DATABASEEVENTREADER DATE HANDLING NOT DEFAULT IN NOI - United States

Text:
  DIRECT LINKS TO FIXES
7.1.0-TIV-NCI-LINUX-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=7.1.0-TIV-NCI-LINUX-FP0009&source=SAR]
7.1.0-TIV-NCI-ZLINUX-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=7.1.0-TIV-NCI-ZLINUX-FP0009&source=SAR]
7.1.0-TIV-NCI-WINDOWS-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=7.1.0-TIV-NCI-WINDOWS-FP0009&source=SAR]
7.1.0-TIV-NCI-SOLARIS-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=7.1.0-TIV-NCI-SOLARIS-FP0009&source=SAR]
7.1.0-TIV-NCI-AIX-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=7.1.0-TIV-NCI-AIX-FP0009&source=SAR]
IBM Tivoli Netcool/Impact V7.1.0 Fix Pack 9(7.1.0-TIV-NCI-FP0009) [http://www-01.ibm.com/support/docview.wss?uid=swg24043378]
IBM Tivoli Netcool/Impact V7.1.0 Fix Pack 10(7.1.0-TIV-NCI-FP0010) [http://www-01.ibm.com/support/docview.wss?uid=swg24043588]
IBM Tivoli Netcool/Impact V7.1.0 Fix Pack 11(7.1.0-TIV-NCI-FP0011) [http://www-01.ibm.com/support/docview.wss?uid=swg24043858]
IBM Tivoli Netcool/Impact V7.1.0 Fix Pack 12 (7.1.0-TIV-NCI-FP0012) [http://www-01.ibm.com/support/docview.wss?uid=swg24044312]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The SQL generated by the ProcessSeasonalityAfterAction
   DatabaseEventReader contains an incorrect date field format by
   default.
   
   This behaviour was introduced in Fix Pack 4 onwards to address
   an issue recorded as APAR IV74485 [http://www-01.ibm.com/support/docview.wss?uid=swg1IV74485] "DATABASEEVENTREADER USES
   INCORRECT DATE FORMAT ON RESTARTING.
   
   The ProcessSeasonalityAfterAction DatabaseEventReader is
   pointed at the seasonalReportDatasource
   RULE_PROCESS_DELAYED_ACTIONS DataType
   which points at the Derby database table
   SEASONALITY.RULE_PROCESS_DELAYED_ACTIONS
   which contains the date field LASTUPDATE.
   
   The LASTUPDATE field date format seems to be:
   07-Nov-16 01:33:09.000
   whereas the SQL casts date values as the format:
   07-Nov-16 01.33.09.000
   In other words it uses full stops (periods) instead of the
   required colons.  This format should match by
   default and not require the application of this additional
   property by the user.
   
   
    
   
   

LOCAL FIX
 *  This is easily addressed by using the DatabaseEventReader
   property:
   impact.[DatabaseEventReaderName].formatpattern
   to correct the SQL output.  For example:
   impact.my_database_event_reader.formatpattern=dd-MMM-yy
   hh:mm:ss.SSS
   which enables one to adapt to timestamp format to match that
   employed by the target database.
   This also requires the property:
   impact.[DatabaseEventReaderName].usecustomtspattern=true
   For example:
   impact.processseasonalityafteraction.usecustomtspattern=true
   to enable the format pattern to operate with processes that
   utilise it.
   Please read the TechNote "In Impact database eventreader, the
   format of changed is incompatible":
   http://www-01.ibm.com/support/docview.wss?uid=swg21984400 [http://www-01.ibm.com/support/docview.wss?uid=swg21984400]
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All Impact Users                                             *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * The ProcessSeasonalityAfterAction Service reads from the     *
   * seasonalReportDatasource                                     *
   * utilizing the RULE_PROCESS_DELAYED_ACTIONS DataType which is *
   * a table in the derby database.                               *
   * This table in the derby database contains a date field,      *
   * LASTUPDATE.                                                  *
   *                                                              *
   * The LASTUPDATE field date format is e.g:  07-Nov-16          *
   * 01:33:09.000                                                 *
   *                                                              *
   * but the service is casting date values as the format:        *
   * 07-Nov-16 01.33.09.000                                       *
   *                                                              *
   * Full stops (periods) are being used instead of the required  *
   * colons.                                                      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * The solution is to add the following property to             *
   * impact.processseasonalityafteraction.formatpattern=dd-MMM-yy *
   * hh:mm:ss.SSS                                                 *
   * to the ProcessSeasonalityAfterAction properties file so the  *
   * service will contain this prop on creation.                  *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The formatpattern property has been added to the
   ProcessSeasonalityAfterAction Service properties file to match
   the timestamp with the format of derby date field, lastupdate.
   
   |Fix Pack|7.1.0-TIV-NCI-FP0009
   |MDVREGR 7.1.0-TIV-NCI-FP0008|
   |MDVREGR 7.1.0-TIV-NCI-FP0007|
   |MDVREGR 7.1.0-TIV-NCI-FP0006|
   |MDVREGR 7.1.0-TIV-NCI-FP0005|
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV90875
   
   
 * REPORTED COMPONENT NAME
   NETCOOL/IMPACT
   
   
 * REPORTED COMPONENT ID
   5724O59IS
   
   
 * REPORTED RELEASE
   710
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-11-18
   
   
 * CLOSED DATE
   2017-02-13
   
   
 * LAST MODIFIED DATE
   2017-02-13
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  UNKNOWN
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   NETCOOL/IMPACT
   
   
 * FIXED COMPONENT ID
   5724O59IS
   
   

APPLICABLE COMPONENT LEVELS
 * R710 PSY
   UP