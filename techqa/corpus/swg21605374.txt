Title: IBM WebSphere Transformation Extender map using the outbound SAP R/3 JALE adapter fails with service '?' unknown error - United States

Text:
Websphere Transformation Extender WTX SAP JALE outbound gateway service unknown TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 WebSphereÂ® Transformation Extender (WTX) SAP R/3 JALE adapter outbound map fails with service '?' unknown error 

SYMPTOM
Map execution results in a "Source not available" error.


CAUSE
A services entry has not been defined for the SAP Gateway

DIAGNOSING THE PROBLEM
A WTX map that uses the outbound WTX Pack for SAP Version 8.3.2 JALE adapter exits with a "Source not available" error.


If not already enabled, enable the WTX SAP adapter trace with the -tv option. The syntax in this case for the JALE outbound adapter is: 

-a <Program id> -g <SAP gateway hostname> -x <SAP gateway service> -c <Client number> -u <SAP user> -p <SAP password> -h <SAP hostname> -s <system id> -tv+ <path/trace file name> 

The + option associated with the trace is optional. The + appends to the WTX SAP adapter trace file and as with the trace option itself, is optional. 

Rebuild the map for the appropriate environment and execute the map to generate the trace file. 

Once the WTX SAP adapter trace file is generated, review the content of the trace file looking for the text similar to: 

Exception in JCO RFC Server MY_SAP_PROGRAM_ID:
com.sap.conn.jco.JCoException: (129) JCO_ERROR_SERVER_STARTUP: Server startup failed at Mon Jul 16 18:30:47 GMT 2012.
This is caused by either a) erroneous server settings, b) the backend system has been shutdown, c) network problems. Will try next startup in 1 seconds.
Could not start server: Connect to SAP gateway failed
Connection parameters: TPNAME=MY_SAP_PROGRAM_.ID GWHOST=mysapgwhost GWSERV=sapgw00

ERROR service '?' unknown


RESOLVING THE PROBLEM
There are two solutions to this issue: 

1) Change the -x parameter , SAP gateway service value to be 3300 

or 

2) Add an entry of: 

sapgw00 3300/tcp 

to C:\WINDOWS\system32\drivers\etc\services in Windows environments and /etc/services in UNIX environments. 

The above SAP gateway service of sapgw00 is used as an example. Your environment may differ. 

Information about this SAP JCo 3 requirement can be found at WTX SAP Gateway options [http://pic.dhe.ibm.com/infocenter/wtxdoc/v8r4m0/index.jsp?topic=%2Fcom.ibm.websphere.dtx.packsapr3.doc%2Ftasks%2Ft_pack_sapr3_Gateway_Options.htm&resultof%3D%2522%2565%2574%2563%252f%2573%2565%2572%2576%2569%2563%2565%2573%2522%2520]

 

PRODUCT ALIAS/SYNONYM
 Ascential Mercator DataStage WTX TX