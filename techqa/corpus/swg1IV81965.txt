Title: IBM IV81965: KRZ_CUSTOMIZED_SQLDEFAULT VALUE NOT USED WHEN CONFIGURATION PARAMETER HAS BEEN PREVIOUSLY CONFIGURED THEN UNSET WITH SPACE - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS SUGGESTION FOR FUTURE RELEASE.
    
   
   

ERROR DESCRIPTION
 *  Abstract:
   Agent reports nothing for customized SQL function if
   {KRZ_CUSTOMIZED_SQL= } is specified in the instance .cfg file.
   Environment: Extended Oracle Database agent v6.3*
   OS: any
   Problem Description:
   Workspaces for custom SQL queries do not populate with data.
   
   In the TEP GUI:
   Oracle Database Extended
     <instance>:<hostname>:RZ
       Oracle RDBMS - RZ:<insance>
         Customized SQLs
   
   "RDB Customized SQL Summary Status" and "RDB Customized SQL
   Summary Definition"
   workspace views are blank.
   
   Reviewing the RZ instances .cfg file will show a blank value for
   the KRZ_CUSTOMIZED_SQL
   parameter under the "SECTION=advanced" section.
   Ex:
   INSTANCE=TEST1 [
   SECTION=customdefault [ ]
   SECTION=default [
   { KRZ_INSTANT_CLIENT_LIBPATH=LibPath }
   {
   KRZ_CONN_PASSWORD=\{AES256:keyfile:a\}Baak5FJ7THn+Xw5WLkCw+w\=\=
   }
   { KRZ_ORACLE_HOME=/oracle/install/dir }
   { KRZ_CONN_USERID=tivoli }  ]
   SECTION=advanced [
   { KRZ_DYNAMIC_LISTENER=FALSE }
   { KRZ_SUBNODE_ONLINE=TRUE }
   { KRZ_CUSTOMIZED_SQL=  }
   ...
   
   This indicates that the KRZ_CUSTOMIZED_SQL parameter was
   previously configured,
   and then attempted to be unset by specifying a "space" on
   subsequent
   "itmcmd config -A rz" when prompted with:
   Customized SQL definition file name: (default is: <previously
   specified value>):  <-- type space
   in attempt to remove the previous setting and return the agent
   to "default" behavior.
   
   In default level KBB_RAS1=ERROR logging:
   configdata.cpp,285,"ConfigMap::setEnvProperty") Setting config
   value for property: KRZ_CUSTOMIZED_SQL
   configdata.cpp,675,"ConfigMap::trace") KRZ_CUSTOMIZED_SQL=
   krzclient.cpp,403,"Main") Environment variable settting is
   KRZ_CUSTOMIZED_SQL=
   
   The above does not use the "default" krzcussql.properties file
   located
   in platform specific directory.
   This is the full file path name of the customized SQL definition
   file.
   The default file name is $CANDLEHOME/config/krzcussql.properties
   on UNIX
   or Linux systems, %CANDLEHOME%\TMAITM6\krzcussql.properties on
   Windows
   systems, and %CANDLEHOME%\TMAITM6_x64\krzcussql.properties on
   Windows
   x64 systems. If this item was not configured, the default file
   name
   would be used.
   
   Detailed Recreation Procedure
   1) configure RZ agent instance with "itmcmd config -A rz" and
   specify a value when prompted for
   Customized SQL definition file name:
   
   2) re-configure the RZ agent instance with "itmcmd config -A rz"
   and type a space to "unset"
   the value previously set in #1 for KRZ_CUSTOMIZED_SQL= value
   when prompted for:
   Customized SQL definition file name: (default is: <previously
   specified value>):
   
   3) Confirm in instance's .cfg file that the "SECTION=advanced"
   section has a "KRZ_CUSTOMIZED_SQL= setting
   with a blank value:
   { KRZ_CUSTOMIZED_SQL = }
   
   4) Restart RZ agent instance, and refresh workspace in TEP to
   demonstrate that the Custom SQL views
   are not populated with data.
   
   Local Fix:
   Either manually edit the instance .cfg file in a text editor to
   completely remove the entire
   { KRZ_CUSTOMIZED_SQL = } value.
    or
   Re-configure the RZ agent instance and hardcode the "default"
   value for full path / filename
   to find the krzcussql.properties file.
   
   
    
   
   

LOCAL FIX
 *  Completely remove the reference for KRZ_CUSTOMIZED_SQL=
   from the instance .cfg file.
   or
   Reconfigure the RZ agent instance and hardcode complete
   path / filename to krzcussql.properties file.
   
   
    
   
   

PROBLEM SUMMARY

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  The behavior that is considered defective in this APAR is a by
   design choice. There is not indication in the documentation that
    the behavior should work as the APAR requests. This will need
   to be handled by the configuration team as this is not an aspect
    of the agent itself, but the configuration tool for the agent.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   IV81965
   
   
 * REPORTED COMPONENT NAME
   ITCAM EXT AGNT
   
   
 * REPORTED COMPONENT ID
   5724V09OR
   
   
 * REPORTED RELEASE
   631
   
   
 * STATUS
   CLOSED SUG
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-02-29
   
   
 * CLOSED DATE
   2017-04-24
   
   
 * LAST MODIFIED DATE
   2017-04-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS