Title: IBM IC86912: DATAPOWER DOES NOT USE THE TTL VALUE PASSED IN THE DNS CNAME RECORD. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Datapower only uses the Time To Live (TTL) value in the DNS A
   Record. The appliance
   should also consider the TTL value passed in the CNAME
   field, and use this value if it is shorter than the TTL value of
   the A Record
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Affected are customers using the Datapower appliance to
   reference other network devices via DNS aliases in an
   environment where these DNS aliases might change.
   
   When resolving a DNS alias name where the timeout associated
   with the alias to a canonical name is shorter than the one
   associated with the canonical name's IP address, Datapower was
   failing to re-resolve the alias name immediately after its DNS
   record had expired.
   
   Datapower DNS resolution component honors only the TTL value
   returned in A or AAAA DNS records, failing to account for
   the TTL
   value in CNAME records. Therefore, if a network alias name were
   resolved via a pair of DNS records, e.g. of CNAME and A types,
   and the TTL value of CNAME record were shorter than the one of
   the
   A record, Datapower would cache the name-to-address translation
   entry using the A TTL, effectively disregarding the CNAME TTL
   value, which is not compliant with RFC-1034.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix sets TTL to the lesser of the A record or the CNAME
   record.
   
   The fix is available in 3.8.2.16, 4.0.1.14, 4.0.2.10 and 5.0.0.4
   
   For a list of the latest fix packs available, please see:
   http://www-01.ibm.com/support/docview.wss?uid=swg21237631 [http://www-01.ibm.com/support/docview.wss?uid=swg21237631]
   
   
    
   
   

TEMPORARY FIX
 *  Customers that have control over their DNS infrastructure can
   configure the server to use timeout values on their A or AAAA
   records to be shorter than the ones for CNAME records.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC86912
   
   
 * REPORTED COMPONENT NAME
   DATAPOWER
   
   
 * REPORTED COMPONENT ID
   DP1234567
   
   
 * REPORTED RELEASE
   401
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-10-01
   
   
 * CLOSED DATE
   2012-11-13
   
   
 * LAST MODIFIED DATE
   2012-11-23
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DATAPOWER
   
   
 * FIXED COMPONENT ID
   DP1234567
   
   

APPLICABLE COMPONENT LEVELS
 * R382 PSN
   UP
   
   
 * R401 PSN
   UP
   
   
 * R402 PSN
   UP
   
   
 * R500 PSN
   UP