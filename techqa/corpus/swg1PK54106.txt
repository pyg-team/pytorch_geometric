Title: IBM PK54106: EVENTSERVER FAILS TO START AFTER MIGRATION - United States

Text:
  FIXES ARE AVAILABLE
Java SDK 1.5 SR8 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24020073]
Java SDK 1.5 SR8 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24021203]
Java SDK 1.5 SR10 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24024201]
6.1.0.31: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24026453]
6.1.0.33: Java SDK 1.5 SR12 FP1 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24027786]
6.1.0.29: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24025191]
6.1.0.35: Java SDK 1.5 SR12 FP2 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24028574]
6.1.0.37: Java SDK 1.5 SR12 FP3 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24029525]
6.1.0.39: Java SDK 1.5 SR12 FP4 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24030426]
6.1.0.41: Java SDK 1.5 SR12 FP5 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031035]
6.1.0.43: Java SDK 1.5 SR13 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031963]
6.1.0.45: Java SDK 1.5 SR14 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24033270]
6.1.0.47: WebSphere Application Server V6.1 Fix Pack 47 [http://www-01.ibm.com/support/docview.wss?uid=swg24035508]
6.1.0.47: Java SDK 1.5 SR16 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035649]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  I installed 6022 on one machine and have created an nd env,
   with dmgr and custom node on same machine. I then create a
   cluster with 1 member and configure sca,bpc,br, htm and cei. I
   install custom apps containing a bpel process and run. I
   backed up all profiles using backupConfig. Next I install
   WPS61 + all ifixes and run migration on dmgr. I then start the
   new 61 dmgr and run migration on the custom node, then start
   all servers
   
   All the apps are running except the EventServer, If I try to
   start manually I get:
   [10/2/07 16:28:04:906 PDT] 00000053 CeiApplicatio E
   com.ibm.events.service.CeiApplicationFilter
   applicationMayStart(DeployedApplication) CEIC0017E Application
   EventServer cannot be started because it belongs to a previous
   version of the event service.
   [10/2/07 16:28:04:937 PDT] 00000053 ApplicationMg W
   WSVR0101W: An error occurred starting, EventServer
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Users who are migrating a deployment         *
   *                 manager profile of Websphere Process         *
   *                 Server or Websphere Application Server       *
   *                 with Common Event Infrastructure (CEI)       *
   *                 installed,  from version 6.0 to 6.1.         *
   ****************************************************************
   * PROBLEM DESCRIPTION: The old version of CEI application      *
   *                      also appears on the migrated V6.1       *
   *                      profile. The old version should be      *
   *                      uninstalled.                            *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   CEI also migrates the 6.0 version of the CEI application when
   migrating a federated profile. The old application should be
   removed and not migrated. You see the following messages in
   the logs when you try to start the old EventServer application:
   CeiApplicatio E com.ibm.events.service.CeiApplicationFilter
   applicationMayStart(DeployedApplication)
   CEIC0017E Application EventServer cannot be started because it
   belongs to a previous version of the event service.
   ApplicationMg W   WSVR0101W: An error occurred starting,
   EventServer
   
   
    
   
   

PROBLEM CONCLUSION
 *  CEI migration code will be modified. Will add a transform that
   will remove the old version of CEI. Only the new version of
   CEI should exist on the migrated profile.
   The fix for this APAR is currently targeted for inclusion in
   fixpack 6.1.0.13.
   Please refer to the recommended updates page for delivery
   information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK54106
   
   
 * REPORTED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * REPORTED COMPONENT ID
   5724J0800
   
   
 * REPORTED RELEASE
   61W
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-10-04
   
   
 * CLOSED DATE
   2007-10-08
   
   
 * LAST MODIFIED DATE
   2007-10-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  CEI
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * FIXED COMPONENT ID
   5724J0800
   
   

APPLICABLE COMPONENT LEVELS
 * R61A PSY
   UP
   
   
 * R61H PSY
   UP
   
   
 * R61I PSY
   UP
   
   
 * R61P PSY
   UP
   
   
 * R61S PSY
   UP
   
   
 * R61W PSY
   UP
   
   
 * R61Z PSY
   UP