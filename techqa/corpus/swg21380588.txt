Title: IBM ConfigEngine.bat cluster-node-config-cluster-setup is failing with NullPointerException - United States

Text:
wp_cluster_cfg.xml:405; /wp_cluster_cfg.xml:1399: java.lang.NullPointerException; cluster-node-config-cluster-setup fails; build failed; /opt/IBM/WebSphere/PortalServer/installer/wp.config/config/includes/wp_c luster_cfg.xml:405: The following error occurred while executing this line; /opt/IBM/WebSphere/PortalServer/installer/wp.config/config/includes/wp_c luster_cfg.xml:1399: java.lang.NullPointerException TECHNOTE (TROUBLESHOOTING)

PROBLEM
When running the IBM® WebSphere® Portal ConfigEngine.bat script 'cluster-node-config-cluster-setup', the task fails with the following error:
[wplc-cluster-sync-single-node] refreshRepositoryEpoch ...
[wplc-cluster-sync-single-node] refreshRepositoryEpoch result : 1236354953536
Target finished: action-cluster-sync-node
Target finished: cluster-node-config-cluster-setup
-
- 
BUILD FAILED 
/opt/IBM/WebSphere/PortalServer/installer/wp.config/config/includes/wp_c 
luster_cfg.xml:405: The following error occurred while executing this line: 
/opt/IBM/WebSphere/PortalServer/installer/wp.config/config/includes/wp_c 
luster_cfg.xml:1399: java.lang.NullPointerException

SYMPTOM
The complete message is as follows: 

[wplc-cluster-sync-single-node] Instance attributes (Set 1 of 1):
[wplc-cluster-sync-single-node] syncNode="myNode"
[wplc-cluster-sync-single-node] server name is dmgr
[wplc-cluster-sync-single-node] server type is DEPLOYMENT_MANAGER
[wplc-cluster-sync-single-node] server name is nodeagent
[wplc-cluster-sync-single-node] server type is NODE_AGENT
[wplc-cluster-sync-single-node] server name is server1
[wplc-cluster-sync-single-node] server type is APPLICATION_SERVER
[wplc-cluster-sync-single-node] server name is WebSphere_Portal
[wplc-cluster-sync-single-node] server type is APPLICATION_SERVER
[wplc-cluster-sync-single-node] ConfigRepository handle WebSphere:name=repository,process=dmgr,platform=common,
node=myDmgrNode,version=5.0,type=ConfigRepository,mbeanIdentifier=repository,
cell=myCell,spec=1.0
[wplc-cluster-sync-single-node] refreshRepositoryEpoch ...
[wplc-cluster-sync-single-node] refreshRepositoryEpoch result : 1236354953536
Target finished: action-cluster-sync-node
Target finished: cluster-node-config-cluster-setup
-
- 
BUILD FAILED 
/opt/IBM/WebSphere/PortalServer/installer/wp.config/config/includes/wp_c 
luster_cfg.xml:405: The following error occurred while executing this line: 
/opt/IBM/WebSphere/PortalServer/installer/wp.config/config/includes/wp_c 
luster_cfg.xml:1399: java.lang.NullPointerException


CAUSE
Either the nodeagent is not started, or the communication between the deployment manager (DMGR) and Nodeagent is blocked.


RESOLVING THE PROBLEM
To resolve the problem, check these items: 

1. Make sure the nodeagent is running 

2. If there is a firewall between the DMGR and NodeAgent, then ensue all the SOAP and Node discovery ports to have communication with the Nodeagent and deployment manager (DMGR). The required ports are defined in the serverindex.xml.

Security: 
endPointName="CELL_DISCOVERY_ADDRESS"> 
endPointName="BOOTSTRAP_ADDRESS"> 
endPointName="SOAP_CONNECTOR_ADDRESS"> 
endPointName="ORB_LISTENER_ADDRESS"> 
endPointName="SAS_SSL_SERVERAUTH_LISTENER_ADDRESS"> 
endPointName="CSIV2_SSL_MUTUALAUTH_LISTENER_ADDRESS"> 
endPointName="CSIV2_SSL_SERVERAUTH_LISTENER_ADDRESS"> 
endPointName="WC_adminhost"> 
endPointName="DCS_UNICAST_ADDRESS"> 
endPointName="WC_adminhost_secure"> 

Nodeagent: 

endPointName="BOOTSTRAP_ADDRESS" 
endPointName="ORB_LISTENER_ADDRESS"> 
endPointName="CSIV2_SSL_MUTUALAUTH_LISTENER_ADDRESS"> 
endPointName="CSIV2_SSL_SERVERAUTH_LISTENER_ADDRESS"> 
endPointName="DCS_UNICAST_ADDRESS"> 
endPointName="DRS_CLIENT_ADDRESS"> 
endPointName="NODE_DISCOVERY_ADDRESS"> 
endPointName="NODE_IPV6_MULTICAST_DISCOVERY_ADDRESS"> 
endPointName="NODE_MULTICAST_DISCOVERY_ADDRESS"> 
endPointName="SAS_SSL_SERVERAUTH_LISTENER_ADDRESS"> 
endPointName="SOAP_CONNECTOR_ADDRESS">