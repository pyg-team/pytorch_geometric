Title: IBM An IBM Business Process Manager (BPM) server might crash due to a hung thread on a JDBC call - United States

Text:
Oracle; JDBC; hung; thread; query; statement; crash; out of memory; OOM; performance; database TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IBM Business Process Manager server might crash due to hung thead on a Oracle JDBC call from a Oracle JDBC driver to a Oracle database server. 

SYMPTOM
In Javaâ„¢ Core file, you might see that the following similar hung thread blocks many other IBM Business Process Manager threads: 

at java/net/SocketInputStream.socketRead0(Native Method)
at java/net/SocketInputStream.read(SocketInputStream.java:140(Compiled Code))
at oracle/net/ns/Packet.receive(Packet.java:283(Compiled Code))
at oracle/net/ns/DataPacket.receive(DataPacket.java:103(Compiled Code))
at oracle/net/ns/NetInputStream.getNextPacket(NetInputStream.java:230(Compiled Code))
at oracle/net/ns/NetInputStream.read(NetInputStream.java:175(Compiled Code))
at oracle/net/ns/NetInputStream.read(NetInputStream.java(Compiled Code))
at oracle/net/ns/NetInputStream.read(NetInputStream.java(Compiled Code))
at oracle/jdbc/driver/T4CSocketInputStreamWrapper.readNextPacket(T4CSocketInputStreamWrapper.java:132(Compiled Code))
at oracle/jdbc/driver/T4CSocketInputStreamWrapper.read(T4CSocketInputStreamWrapper.java:79(Compiled Code))
at oracle/jdbc/driver/T4CMAREngine.unmarshalUB1(T4CMAREngine.java:1128(Compiled Code))
at oracle/jdbc/driver/T4CMAREngine.unmarshalSB1(T4CMAREngine.java:1099(Compiled Code))
at oracle/jdbc/driver/T4CTTIfun.receive(T4CTTIfun.java:279(Compiled Code))
at oracle/jdbc/driver/T4CTTIfun.doRPC(T4CTTIfun.java:191(Compiled Code))
at oracle/jdbc/driver/T4CTTIOtxse.doOTXSE(T4CTTIOtxse.java:163(Compiled Code))
at oracle/jdbc/driver/T4CXAResource.doStart(T4CXAResource.java:152(Compiled Code))
at oracle/jdbc/xa/client/OracleXAResource.start(OracleXAResource.java:228(Compiled Code))
...
...
at com/lombardisoftware/server/ejb/pk/PKGeneratorCore.getNextHighInternal(PKGeneratorCore.java:106(Compiled Code))
at com/lombardisoftware/server/ejb/pk/PKGeneratorCore.access$000(PKGeneratorCore.java:36(Compiled Code))
...
... 


RESOLVING THE PROBLEM
To resolve this issue, install the WebSphere Application Server fix for APAR PM38864 [http://www.ibm.com/support/docview.wss?uid=swg1PM38864]. See the following list to determine the minimum WebSphere Application Server fix pack version that was shipped with your IBM Business Process Manager product: 

 * IBM Business Process Manager V8.0.1.x products [http://www.ibm.com/support/docview.wss?uid=swg27036594] 
 * IBM Business Process Manager V8.0 products - WebSphere Application Server V8.0.0 Fix Pack 3 
 * IBM Business Process Manager V7.5.0.x and 7.5.1.x products [http://www.ibm.com/support/docview.wss?uid=swg27022242] 
 * IBM Business Process Manager V7.5 products - WebSphere Application Server V7.0.0 Fix Pack 17


The fix provides a method to configure an application with a SQL statement query timeout value for JDBC drivers that support it. 

For more information on how to configure the timeout value, refer to the description in APAR PM38864 [http://www.ibm.com/support/docview.wss?uid=swg1PM38864]. 

 


Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Process Manager Standard Databases AIX, Linux, Linux zSeries, Solaris, Windows 8.0.1, 8.0, 7.5.1, 7.5 Business Integration IBM Business Process Manager Express Databases Linux, Linux zSeries, Windows 8.0.1, 8.0, 7.5.1, 7.5 
PRODUCT ALIAS/SYNONYM
 BPM