Title: IBM IZ32496: TACMD ADDSYSTEM FAILED AGAINST SQLSERVER 2005 - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Environment:
   ITM 6.1 SQL Server Agent..
     Customer applied 6.1.0-TIV-ITM_SQL-LA0027
     Microsoft SQL Server 2005.
   
   Problem Description:
   
     Customer was unable to add/configure an instance of the MSSQL
   agent
   using the tacmd addSystem command.
   
   Customer uses the command:
   
   tacmd addsystem -t "oq" -n "Primary:ITM61BETA:NT" -p
   DBSETTINGS.db_errorlog="C:\\Program Files\\Microsoft SQL
   Server\\MSSQL\\log\\ERRORLOG" DBSETTINGS.db_login="sa"
   DBSETTINGS.db_extparms="KOQTBLD"
   DBSETTINGS.db_ver="9.00.1399.06"
   INSTANCE="ITM61BETA" DBSETTINGS.db_home="C:\\Program
   Files\\Microsoft
   SQL
   Server\\MSSQL.1\\MSSQL" DBSETTINGS.db_password=
   
   and gets the following errors:
   ----------------------------------------------------------------
   --------
   ctbs/tools(48CA62D4.0005-A10:kdyutil.cpp,910,"Util::runCommandEn
   v") Bad
   return code (106) from command "c:\ibm\itm\tmaitm6\oq_xa.exe -p"
   (48CA62D4.0006-A10:kdyutil.cpp,913,"Util::runCommandEnv") STDOUT
   [66
   characters] is: UEN0015W KDDUTIL(1801) Environment variable
   "PORTNUMBER"
   not set
   (48CA62D4.0007-A10:kdyutil.cpp,916,"Util::runCommandEnv") STDERR
   [134
   characters] is: Error line(925): Invalid version 9 for db_ver
   property
   value '9.00.1399.06'
   +48CA62D4.0007 Error line(614): Invalid parameter(s), error code
   = 106
   (48CA62D4.0008-A10:kdy_xa.cpp,1347,"doConfigPut") Error parsing
   config
   stream
   ----------------------------------------------------------------
   --------
   
     This problem only happened when 'tacmd addSystem' was executed
   against
     sqlserver 2005.
   
   Detailed Recreation Procedure:
     1. Apply LA0027 ( or any SQL Server LA ) for sqlserver 2005.
     2. Start 'tacmd addSystem' command
        Expected Result : it'll end without any problems.
                          However the actual instance is not
   deployed and
                          agent log shows error message in db_ver.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  When the 'tacmd addsystem' command is executed against Microsoft
   SQL Server 2005, the following error occurs in the agent log.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This APAR has been fixed and delivered in a limited availability
   fix 6.1.0-TIV-ITM_SQL-LA0028. This maintenance delivery
   vehicle is a limited availability patch and therefore is in a
   "hidden directory." Level 2 Support can provide down load
   instructions to you. Contact level 2 support at:
   
   http://www.ibm.com/software/sysmgmt/products/support/Contact_L2
   Support.html [http://www.ibm.com/software/sysmgmt/products/support/Contact_L2Support.html]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ32496
   
   
 * REPORTED COMPONENT NAME
   TIV MON MS SQL
   
   
 * REPORTED COMPONENT ID
   5724B96MO
   
   
 * REPORTED RELEASE
   610
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-09-16
   
   
 * CLOSED DATE
   2008-09-30
   
   
 * LAST MODIFIED DATE
   2008-09-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TIV MON MS SQL
   
   
 * FIXED COMPONENT ID
   5724B96MO
   
   

APPLICABLE COMPONENT LEVELS
 * R610 PSY
   UP