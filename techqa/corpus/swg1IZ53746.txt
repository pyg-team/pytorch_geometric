Title: IBM IZ53746: TEPS STARTUP HANGS STARTING REPORT SERVICE - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Environment:
   ITM 6.1 or higher
   TEPS (any platform)
   WPA and S&P agents (any platform)
   
   Problem Description:
   During startup, the TEPS will hang after the message:
   
   KFW1002I Starting Service: 'Report v1.0'
   
   The hang is caused by an exclusive lock on one of the warehouse
   tables
   (WAREHOUSELOG or WAREHOUSEID) which is held by either the
   warehouse
   proxy agent or the summarization and pruning agent.  Stopping
   one or
   both of these agents allows TEPS startup to continue.
   
   
   Detailed Recreation Procedure:
   The reason for the lock being held by the WPA or S&P agents for
   an
   extended time is unknown.  To simulate the problem, issue the
   following
   command from the DB2 CLI:
   
   db2 +c "LOCK TABLE WAREHOUSELOG IN EXCLUSIVE MODE"
   
   Then start the TEPS.
   
   Related Files and Output:
   TEPS trace: (ENTRY:"CTReport_i::ReportCache::fetchWarehouse"
   ALL)
   
   
    
   
   

LOCAL FIX
 *  Stop the Warehouse Proxy Agent and/or Summarization and Pruning
   Agent and start the Portal Server first.
   
   
    
   
   

PROBLEM SUMMARY
 *  During startup, the portal server will hang after the message:
   
   KFW1002I Starting Service: 'Report v1.0'
   
   If a Warehouse Proxy or Summarization and Pruning Agent is
   running, stopping one or both of those agents allows the portal
   server startup to continue.
   
   
    
   
   

PROBLEM CONCLUSION
 *  PROBLEM CONCLUSION
   Use ODBC/JDBC API calls to query the warehouse database for
   existence of warehouse tables.
   
   
   The fix for this APAR is included in the following maintenance
   vehicle:
       | interim fix | 6.2.0.3-TIV-ITM-IF0003
       | fix pack | 6.2.1-TIV-ITM-FP0002
   
   
    
   
   

TEMPORARY FIX
 *  Stop all warehouse proxies and summarization and pruning agents.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ53746
   
   
 * REPORTED COMPONENT NAME
   TEPS
   
   
 * REPORTED COMPONENT ID
   5724C04PS
   
   
 * REPORTED RELEASE
   620
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-06-22
   
   
 * CLOSED DATE
   2009-12-07
   
   
 * LAST MODIFIED DATE
   2010-04-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TEPS
   
   
 * FIXED COMPONENT ID
   5724C04PS
   
   

APPLICABLE COMPONENT LEVELS
 * R620 PSY
   UP