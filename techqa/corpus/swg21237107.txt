Title: IBM Received SQL30082N RC=17 error when server has AUTHENTICATION TYPE = SERVER_ENCRYPT - United States

Text:
SQL30082N; AUTHENTICATION TYPE; SERVER_ENCRYPT; SERVER; cataloging TECHNOTE (FAQ)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 English 

QUESTION
 This technote describes how to resolve a SQL30082N error with reason code 17 when the server has AUTHENTICATION TYPE = SERVER_ENCRYPT and the client uses AUTHENTICATION TYPE = SERVER. 

CAUSE
This problem occurs when all of the following conditions are true: 

 * A server has SERVER_ENCRYPT specified as the authentication type in the database manager configuration. 
 * A "client" catalogs a database or attempts to connect with SERVER specified as the authentication type. In this context, the term client refers to any party that initiates the request. Examples include DB2 clients, Java application drivers (JDBC), and other DB2 servers.


Starting in Fixpak 9, a server with SERVER_ENCRYPT specified as the authentication type no longer accepts connections or attachments from clients that request SERVER authentication. The request fails with SQL30082N with reason code 17. 
ANSWER
Recatalog databases on the client to use one of the following authentication types: 

 

 * SERVER_ENCRYPT: This option has the benefit of better performance. 
 * unspecified (NOTSPEC): This option has the benefit of simpler administration.


Another option is to change the server authentication type to SERVER to match the clients. This option only applies if all clients use either SERVER or NOTSPEC for authentication. type. 

Please note: After recataloging the database on the client, it is necessary to clear the directory cache for the setting to take affect. From the DB2 CLP, the "terminate" command can be issued to reset the directory cache for the current CLP session. If there are any currently running processes, they also need to be restarted in order for the directory cache to be refreshed. 

See dir_cache - Directory cache support configuration parameter [http://www-01.ibm.com/support/knowledgecenter/SSEPGG_10.5.0/com.ibm.db2.luw.admin.config.doc/doc/r0000300.html?cp=SSEPGG_10.5.0%2F2-4-4-8-30] 

When allocated  * When an application issues its first connect, the application directory cache is allocated 
 * When a database manager instance is started (db2start), the server directory cache is allocated.

When freed  * When an the application process terminates, the application directory cache is freed 
 * When a database manager instance is stopped (db2stop), the server directory cache is freed.

RELATED INFORMATION
 Directory cache [http://www-01.ibm.com/support/knowledgecenter/SSEPGG_10.5.0/com.ibm.db2.luw.admin.config.doc/doc/r0000300.html?cp=SSEPGG_10.5.0%2F2-4-4-8-30]
A simplified Chinese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21970865]