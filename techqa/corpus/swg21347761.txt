Title: IBM Error 'Server Application Unavailable' when testing http://APPSERVER/.../controllerserver/ccrws.asmx - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 During the installation of Controller, the administrator attempts to check that the Controller ASP.NET 
webserver is correctly functioning, by launching: http://APPSERVER/cognos8/controllerserver/ccrws.asmx [http://APPSERVER/cognos8/controllerserver/ccrws.asmx] 

Administrator receives error message inside Internet Explorer. 

SYMPTOM
Screen: 

 
Server Application Unavailable
The web application you are attempting to access on this web server is currently unavailable. Please hit the "Refresh" button in your web browser to retry your request.

Administrator Note: An error message detailing the cause of this specific request failure can be found in the application event log of the web server. Please review this log entry to discover what caused this error to occur.

Event Log of Application server:

Event#1
Event Type: Error
Event Source: ASP.NET 2.0.50727.0
Event Category: None
Event ID: 1334
Date: 11/03/2008
Time: 18:29:49
User: N/A
Computer: APPSERVER
Description:
Failed to initialize the AppDomain:/LM/W3SVC/1/Root/cognos8/controllerserver
Exception: System.IO.FileLoadException
Message: Could not load file or assembly 'System.Web, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies. Access is denied.
StackTrace: at System.Reflection.Assembly._nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, Assembly locationHint, StackCrawlMark& stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection)
at System.Reflection.Assembly.nLoad(AssemblyName fileName, String codeBase, Evidence assemblySecurity, Assembly locationHint, StackCrawlMark& stackMark, Boolean throwOnFileNotFound, Boolean forIntrospection)
at System.Reflection.Assembly.InternalLoad(AssemblyName assemblyRef, Evidence assemblySecurity, StackCrawlMark& stackMark, Boolean forIntrospection)
at System.Reflection.Assembly.InternalLoad(String assemblyString, Evidence assemblySecurity, StackCrawlMark& stackMark, Boolean forIntrospection)
at System.Activator.CreateInstance(String assemblyName, String typeName, Boolean ignoreCase, BindingFlags bindingAttr, Binder binder, Object[] args, CultureInfo culture, Object[] activationAttributes, Evidence securityInfo, StackCrawlMark& stackMark)
at System.Activator.CreateInstance(String assemblyName, String typeName)
at System.AppDomain.CreateInstance(String assemblyName, String typeName)
at System.AppDomain.CreateInstance(String assemblyName, String typeName)
at System.Web.Hosting.ApplicationManager.CreateAppDomainWithHostingEnvironment(String appId, IApplicationHost appHost, HostingEnvironmentParameters hostingParameters)
at System.Web.Hosting.ApplicationManager.CreateAppDomainWithHostingEnvironmentAndReportErrors(String appId, IApplicationHost appHost, HostingEnvironmentParameters hostingParameters)

Event#2
Event Type: Error
Event Source: ASP.NET 2.0.50727.0
Event Category: None
Event ID: 1088
Date: 11/03/2008
Time: 18:29:49
User: N/A
Computer: APPSERVER
Description:
Failed to execute request because the App-Domain could not be created. Error: 0x80070005 Access is denied. 

CAUSE
The Microsoft ASP.NET system has a permissions problem, where it cannot access the Windows files which form the Controller application's website.



RESOLVING THE PROBLEM
Modify the NTFS permissions to ensure that the ASP.NET system has read/write permissions. 

 
Steps: 

 1. Logon to the Controller application server as an administrator 
 2. Navigate to the installation location of Controller (TIP: Default = C:\Program Files\Cognos\C8) 
 3. Right-click on the C8 folder and choose 'properties' 
 4. Click on 'Security' tab 
 5. Click 'Add' 
 6. Add the local group 'IIS_WPG' (also known as the 'IIS Worker Process Group') 
 7. Modify the 'permissions' so that all the boxes underneath 'Allow' are ticked 
 8. Click 'OK' to apply the changes 
 9. Re-test 

TIP: If the problem remains, try repeating the above, but this time adding the local group 'Everyone', so it has full read/write access to the C8 folder (and all child sub-folders). 
RELATED INFORMATION
#THIRD PARTY (non-IBM) [http://forums.asp.net/t/977970.aspx]
THIRD PARTY (non-IBM) 2 [http://www.velocityreviews.com/forums/t153120-p2-server-unavailable-aspnet-20-on-windows-xp.html]




HISTORICAL NUMBER
 1038915