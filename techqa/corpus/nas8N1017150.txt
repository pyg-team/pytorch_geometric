Title: IBM Interpreting Disk Space Information Reports - United States

Text:
PRTDSKINF; RTVDSKINF; DISKTASKS TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document provides information to interpret Disk Space Information Reports. 

RESOLVING THE PROBLEM
The following information shows the specific entries on a System Summary Information Disk Space Report. The Description column shows what makes up the storage size, and the Possible Actions are some suggestions for helping maximize the efficiency of disk space use. 

Field Description Possible Action if Size is Large User Libraries Size of all non-system libraries and external object contents. If this percentage is larger than expected, run a library report (including objects) and sort by last used date and last changed date to find the old or unused objects.

Use the Compress object (CPROBJ) command to compress the size of menu (*MENU), panel group (*PNLGRP), file (*FILE), and program (*PGM) objects. This will reduce the size of the objects within libraries. User Directories Space used by user directories and associated objects, which include the following object types: *DIR, *STMF, *SYMLINK, *SOCKET. Use the Work with Object Links (WRKLNK) command to view the objects and their sizes. 

Use the save (SAV) command to save unused objects and then select Option 4 (remove) on the WRKLNK display to remove unused objects. Folder and documents Size of all folders and their contents. If this percentage is larger than expected, run a folder report and sort it to find old or unused folders. QSYS Size of all external objects in QSYS library. Check to make sure there are no user objects stored in this library. 

See History files and User profiles categories in this table for other possible actions. Other IBM Libraries Size of all system libraries and the contents of external objects. The libraries in this category include those libraries that start with a pound (#) sign, except #LIBRARY. All libraries that start with the letter Q and are not considered user libraries are also included in this category. Delete any IBM libraries included in this category that are not needed. The best method of removing these libraries is to use the GO LICPGM menu and remove any products from the system that are not being used. 

See the individual fields under the Miscellaneous items in this table for other possible actions. Licensed Internal Code Size of reserved vertical licensed internal code (VLIC). Licensed Internal Code (LIC), dump space, error logs and trace tables. See the individual fields in this table for possible actions. Temporary Space Size of all temporary objects that will be automatically deleted at the next IPL. This includes QTEMP libraries for active jobs. This number could be low if the report is created when the system is not busy. This space is deleted during an IPL.

Use QACTJOB and QADLACTJ system values to reduce the number of temporary job structures that are part of the temporary space used by jobs. 

For spooled files, check the QRCLSPLSTG system value. Unused Space Size of currently unused storage. This is auxiliary storage pool (ASP) 1 and all use ASPs, if any. No action required. Internal Objects Space used by internal objects. The report puts the internal objects into logical categories and the percent amount is assigned to a category, not to the individual internal objects. Change QADSPLA, QADLTOTJ, QJOBMSGQSZ, QJOBMSGQTL, and QJOBSPLA system values to reduce the number of permanent job structures that are part of the internal objects used by jobs. Reduce mail and spooled files. Clean up old documents. Objects not in a library Size of permanent external objects that do not exist in a library.

These are typically objects that were not completely created or deleted. Use the Reclaim Storage (RCLSTG) command if the size is significant. History files Size of QHST* files in the QSYS library. Look at the files first, then use the Operational Assistant cleanup function to clean up the logs on the system (GO CLEANUP). Journal Receivers Size of all system journal receivers that
start with the letter Q and are found in the libraries that start with the letter Q. Use the Operational Assistant cleanup function. Clean up the security journal and all user journals not cleaned up by automatic cleanup (GO CLEANUP). User Profiles Size of each object of type *USRPRF. Delete unused user profiles. Configuration Information Size of all *DEVD, *CTLD, *COSD, *CNNL, *LIND, *MODD, *NTBD, *NWSD, *NWID and *SVRSTG object types. Delete unused configuration descriptions. System help (QHLPSYS) Size of system-supplied online help information. Use the Compress object (CPROBJ) command to compress the size of the objects within the library. 

If the size is larger than the decompressed size, check to make sure there are not user objects stored in this library. Calendars Size of database files in QUSRSYS managing the IBM® OfficeVision® calendar. Use the Operational Assistance cleanup function to remove old calendar items (GO CLEANUP). Directories Size of database files in QUSRSYS managing the system distribution directory. Delete directory entries, distribution lists, and nicknames that are not needed. Also, review the number of user authorities that are granted for directories and see if some can be deleted. Document files 
Space managing OfficeVision folders and documents. Delete any documents and folders that are not needed. Licensed Internal code and tables Space for Licensed internal code. Cannot be adjusted. Dump space Space on load source to dump main storage in case of a system failure. Cannot be adjusted. Error logs Space for VLIC logs, error logs, and trace tables. This is the amount of space required for error logs and its size depends on how the system is running. Set the sizes using the Start System Service Tools (STRSST) command. On the STRSST menu, select Option 1 (Start a service tool), then select Option 1 (Error log utility) and then Option 3 (Change error log size). Trace tables Space for trace tables. To clear the trace tables where the Vertical Licensed Internal Code is recorded, use the Start System Service Tools (STRSST) command. On the STRSST menu, select Option 1 (Start a service tool) and select Option 2 (Trace Vertical Licensed Internal Code). VLIC logs Space for VLIC logs. Use the Start System Service Tools (STRSST) command, Option 1 (Start a service tool), and select the option to set the size of the VLIC log. Vertical Licensed Internal Code (VLIC) Control Blocks Space on each unit used to track system configuration and checksum protection. Cannot be adjusted. Space used by internal objects Size of internal objects for system use. The objects are divided into categories to show the percentage of use per function; 
however, the categories listed are not the internal objects. The objects cannot be
seen by using the DSPLIB or DSPOBJD command. See Internal object information category above in this table. 
Miscellaneous Items Description Possible Action If Size Is Large Printer output and spooling (QSPL) Size of all printed output and other spooled output, such as diskette files and inline data files. Delete unneeded spooled output files using the Work with Spooled Files (WRKSPLF) command, option 4 (Delete). Then use the Reclaim Spool Storage (RCLSPLSTG) command. Replaced object library (QRPLOBJ) Size of all objects that were replaced on
the system. This library is deleted during an IPL. You can use the Clear Library (CLRLIB) command to clear this library if the objects are not in use. Storage possibly affected by RCLSTG Approximate size of all object that will be deleted during a Reclaim Storage (RCLSTG) command. The higher the number equates the 
necessity of running the Reclaim Storage (RCLSTG) command. This command requires a dedicated system and can run for a long period of time. Reclaim storage library (QRCL) Size of all objects that have been reclaimed and put into library QRCL prior to running this function. Because these objects have lost their library address, process them on an individual basis. Some objects can be moved into another library as is, and some objects might need to be deleted and re-created into the correct library.

To obtain a list of what is in QRCL, use the Display Object Description (DSPOBJD) command or the Display Library (DSPLIB) command.  


Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 6.1 Operating System IBM i 7.1 
HISTORICAL NUMBER
 25430614