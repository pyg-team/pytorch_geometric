Title: IBM Unexpected error occurred when creating a new user - United States

Text:
tablespace; bufferpool TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Error occurred when saving a new user. 

SYMPTOM
While accessing the Default Organization Hierarchy to create a new USER ID, there is a popup with error: "Unexpected Error Occurred".

The following errors were found in $TOP/logs/appsvr<machinename>/db.log:
WHERE chi.chi_child_id = cat_id 
AND chi.chi_cat_tree_id = 402 
AND chi.chi_parent_id = 202 
AND chi.chi_version_id <= 999999999 
AND chi.chi_next_version_id >= 999999999 
AND cat_container_id = 402 
AND cat_version_id <= 999999999 
AND cat_next_version_id >= 999999999 
ORDER BY UPPER(d), UPPER(path), UPPER(pk) ] ], Exception:DB2 SQL Error:
SQLCODE=-1585, SQLSTATE=54048, SQLERRMC=null, DRIVER=3.58.82 
com.ibm.db2.jcc.am.SqlException: DB2 SQL Error: SQLCODE=-1585, 
SQLSTATE=54048, SQLERRMC=null, DRIVER=3.58.82 
at com.ibm.db2.jcc.am.ed.a(ed.java:679) 
at com.ibm.db2.jcc.am.ed.a(ed.java:60) 
at com.ibm.db2.jcc.am.ed.a(ed.java:127) 
at com.ibm.db2.jcc.am.tm.c(tm.java:2523) 
at com.ibm.db2.jcc.am.tm.d(tm.java:2511) 
at com.ibm.db2.jcc.am.tm.a(tm.java:1991) 


CAUSE
DB2 error SQLCODE=-1585: A system temporary table space with sufficient page size does not exist. 

Check the TEMPUSRBP32 and TEMPSYSBP32 buffer pools and table spaces were missing or if enough page size was allocated.


DIAGNOSING THE PROBLEM
List the table space and buffer pool for the current product database and compare it against the product requirements from the URLs below.
Creating buffer pools. [http://pic.dhe.ibm.com/infocenter/mdm/v10r1/topic/com.ibm.pim.ins.doc/pim_tsk_creating_buffer_pools.html]
Creating table spaces. [http://pic.dhe.ibm.com/infocenter/mdm/v10r1/topic/com.ibm.pim.ins.doc/pim_tsk_creating_table_spaces.html]




RESOLVING THE PROBLEM
Create the buffer pools and table spaces using the following commands:

CREATE BUFFERPOOL TEMPUSRBP32 SIZE AUTOMATIC PAGESIZE 32K;
CREATE BUFFERPOOL TEMPSYSBP32 SIZE AUTOMATIC PAGESIZE 32K;

CREATE USER TEMPORARY TABLESPACE TEMP_USER32 PAGESIZE 32K MANAGED BY AUTOMATIC STORAGE BUFFERPOOL TEMPUSRBP32;
CREATE SYSTEM TEMPORARY TABLESPACE TEMP_SYSTEM32 PAGESIZE 32K MANAGED BY AUTOMATIC STORAGE BUFFERPOOL TEMPSYSBP32;





Cross reference information Segment Product Component Platform Version Edition Information Management InfoSphere Master Data Management Server for Product Information Management Database AIX, HP-UX, Linux, Solaris 9.0, 9.1 
PRODUCT ALIAS/SYNONYM
 MDMCE
MDMCS
MDMPIM
MDM Server for PIM
MDM Collaboration Server
InfoSphere MDM Server for PIM
InfoSphere Master Data Management Collaboration Server
InfoSphere Master Data Management Server for Product Information Management