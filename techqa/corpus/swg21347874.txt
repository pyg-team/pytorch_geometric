Title: IBM Errors 'ORA-20001: -1060', 'ORA-05512' and 'ORA-06512' when running Staging Table Oracle script - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Administrator is trying to run the staging table script. Therefore, administrator launches Oracle SQL Plus, and runs a script similar to the following: 

declare xx number; begin -- Call the function xx := schemaname.usp_triggerimportbatchjobs('IMP','#ST_EXTDIM1','1','','ADM',1,to_date('01-NOV-2007')); end; 

However, Oracle SQL Plus retuns an error. 

SYMPTOM
declare 

*
ERROR at line 1:
ORA-20001: -1060
ORA-05512: at "schemaname.usp_triggerimportbatchjobs", line 217
ORA-06512: at line 5

CAUSE
The column 'BATCH_ID' inside table 'XSTAGEDIM1' incorrectly already has its Batch ID filled in. 

 * In other words, the entry is not blank (which it expects it to be).

DIAGNOSING THE PROBLEM
Oracle error code 'ORA-20001' means that there is an application-specific error code to come. 

 * TIP: For more details on this, see separate IBM Technote #1347672.


In this case, the relating Controller-specific code/meaning is: 
 * -1060
 * 


RESOLVING THE PROBLEM
Delete the entries inside BATCH_ID and re-run. 

 
Steps:
NOTE: Before proceeding, backup the Controller database (e.g. use EXP to create a DMP file) as a precaution 

 1. Launch "Oracle Enterprise Manager Console" (Standalone) 
 2. Locate and open Controller database 
 3. Locate and open Controller schema (user) - for example "ControllerLive" 
 4. Locate table 'XSTAGEDIM1' 
 5. Right-click on 'XSTAGEDIM1' and choose 'View/Edit Contents' 
 6. Notice that there is a column called 'BATCH_ID'. If the rows beneath this column name are filled in (for example with '35') then it means that a BATCH_ID number has already been assigned. 
 7. Delete the numbers inside this column 
 8. Test by re-running the script.

RELATED INFORMATION
#1347672 - Import External Data - Staging Tables errors [http://www.ibm.com/support/docview.wss?uid=swg21347672]




HISTORICAL NUMBER
 1039666