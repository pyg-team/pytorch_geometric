Title: IBM Power Management History Tracking - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How do I enable History Tracking on the Server for Power Management? 

ANSWER
There are two separate sites for Power Management. The steps to automatically store historical data depend on the BigFix Site to which you are subscribed. Click here if you want to store data for the "Power Management" site, released in August 2010. Click here if you want to store data for the "BigFix Power Management" site, released in 2008. 

STORING DATA FOR THE "POWER MANAGEMENT" SITE (RELEASED IN AUGUST 2010)
Historical data for the Power Management site requires two separate components to be installed and configured: the BigFix Server Plugin Service, and the Store Power Data Utility. The BigFix Server Plugin Service facilitates communication and automation of the BigFix Server and Web Reports components with server side utilities.

The Store Power Data Utility, run by the BigFix Server Plugin Service, automatically stores data every day for comparison. 

 1. To set up the BigFix Server Plugin Service, follow the instructions at http://www-01.ibm.com/support/docview.wss?uid=swg21506199.
 2. Use Fixlet message 32, "Enable History Tracking on Server", to install the Store Power Data Utility. This Fixlet message will only be relevant if the registry keys required for the BigFix Server Plugin Service have been set. If they have not been set, Fixlet message 67, "BigFix Server Plugin Service is not Configured Correctly for Power Management", will be relevant.
 3. Fixlet message 32, "Enable History Tracking on Server", will also set up a task to store historical data.

Once these two components are installed and configured, historical data can be retrieved in Power Management's web reports.

STORING DATA FOR THE "BIGFIX POWER MANAGEMENT" SITE (RELEASED IN 2008)
STORE POWER RESULTS UTILITY
The "Store Power Results" utility enables administrators to automate the process of storing Power Management data for all Console Operators that have power monitoring enabled. This automated mechanism replaces the need to select the "Store Historical Data" button in the Power Tracking Information dashboard. This utility can be set to run on the BigFix Server as a daily Windows Scheduled Task to completely automate power data storage.

SETTING UP THE STORE POWER RESULTS UTILITY
 1. Install the Store Power Results utility using the Task in the BigFix Power Management Fixlet site -- Or download the file from http://software.bigfix.com/download/bes/util/StoreHistoricalPMResults.exe [http://software.bigfix.com/download/bes/util/StoreHistoricalPMResults.exe]. 
    The most recent version of the Store Power Results utility can be downloaded through the "Download the Store Power Data Utility" Task in the BigFix Power Management site. This Task will download the "StoreHistoricalPMResults.exe" executable to the "PowerManagement" folder in the BigFix Server directory. (Default C:\Program Files\BigFix Enterprise\BES Server\PowerManagement) 
 2. Create a BigFix Web Reports user account -- The Store Power Results utility connects to BigFix Web Reports using a Web Reports account, runs power calculations, and then inserts the data into the BigFix Database. You can create a BigFix Web Reports user specifically for this tool or use an existing user. 
    Note: The BigFix Web Reports user can be set to have "read only" privileges, but should not be restricted by Console Operator or by saved web reports filter.
 3. Set up a Scheduled Task on the BigFix Server to run the utility -- Once the latest version of the utility is downloaded onto the server, a Windows Scheduled Task with the proper command line options must be set up to store daily power information. More information on Windows Scheduled Tasks can be found at http://windows.microsoft.com/en-US/windows/schedule-task#1TC=windows-7 [http://windows.microsoft.com/en-US/windows/schedule-task#1TC=windows-7] 
    You should set the Scheduled Task to run daily (or another less frequent interval, depending on how often you wish to capture power statistics). 
    Note: The Windows user account used to execute the Scheduled Task must have access to the BigFix Database. 
    The utility should be executed with the following command-line paramaters:
    Command Line: StoreHistoricalPMResults.exe \L [ODBC] [Web Reports username] [Password] [URL]
    
    Parameters:
    
     * \L: This optional parameter will output the utility's progress to a log file. This file is located in the "Logs" subfolder of the utility's working directory.
     * [ODBC]: This is the ODBC DSN name for the BigFix server (should be using NT Authentication), which is almost always 'bes_bfenterprise'.
     * [Web Reports username]: This is the user name of a BigFix Web Reports user.
     * [Password]: This is the password for the BigFix Web Reports user.
     * [URL]: This is the url to the BigFix Web Reports server.
    
    
    Note: Any user that has access to view the properties of the created Scheduled Task will be able to view the BigFix Web Reports username and password for the account used to execute the utility. Example: StoreHistoricalPMResults.exe \L bes_bfenterprise user1 pass1 http://bigfix.company.com/webreports 
    
    



HISTORICAL NUMBER
 482