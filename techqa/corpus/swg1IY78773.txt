Title: IBM IY78773: NEED A NEW VERSION OF GSKIT SUPPORTED WITH ACCESS MANAGER - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PERMANENT RESTRICTION.
    
   
   

ERROR DESCRIPTION
 *  I have a customer who was having a problem with GSKIT 7.x
   shipped with IBM Tivoli Access Manager.
   
   This issue has been reproduced by GSKIT team (Larry K) and is
   working on a build which will hopefully finsihed by the end of
   November.
   
   Customer is wanting these build or builds with this fix included
   tested and supported with a future Fixpack of Access Manager.
   
   Note from GSKIT Lvl3
   The next build is 7.0.3.20 which should be available on or about
   18 Nov.
   .21 will follow
   as closely as the end of November but more likely early
   December. I
   think we can get the case problem fixed by .21.
   
   Original Problem Description of the problem:
   
   
   The issue is that when we export a cert into a file and then
   import it
   into another Key database it loses the Upper case characters...
   If we
   export a cert from one key database to another directly it
   imports it
   fine... Examples are below..
   
   
   COMMANDS: Lets verify the label of the cert we want to export...
   gsk7cmd -cert -list all -db `pwd`/PhoenixSSEP.kdb -pw xxxxxx
   
   OUTPUT: In red is the Cert we want to export
   Certificates in database:
   /var/pdweb/www-xittam01-intwsl_unit/certs/PhoenixSSEP
   .kdb
   VeriSign Class 2 OnSite Individual CA
      VeriSign International Server CA - Class 3
      Verisign Class 3 Public Primary Certification Authority - G2
      Verisign Class 2 Public Primary Certification Authority - G2
      Verisign Class 1 Public Primary Certification Authority - G2
      VeriSign Class 1 CA Individual Subscriber-Persona Not
   Validated
      Thawte Personal Premium CA
      Thawte Personal Freemail CA
      Thawte Personal Basic CA
      Thawte Premium Server CA
      Thawte Server CA
      RSA Secure Server Certification Authority
      Verisign Class 1 Public Primary Certification Authority
      Verisign Class 2 Public Primary Certification Authority
      Verisign Class 3 Public Primary Certification Authority
      PhoenixInvestments
      senddoc
      pcg
      advsurv
      advisors
   
   COMMAND: export the cert to a file
   gsk7cmd -cert -export -db `pwd`/PhoenixSSEP.kdb -pw xxxxxxx
   -label
   PhoenixInvestments -type cms -target /tmp/PhoenixInvestments.p12
   -target_pw xxxxxx -target_type pkcs12
   
   Created our file file....
   
   COMMAND: Import the cert into another Key Database
   gsk7cmd -cert -import -db /tmp/PhoenixInvestments.p12 -pw xxxxxx
   -label
   PhoenixInvestments -type pkcs12 -target `pwd`/PhoenixSSEP.kdb
   -target_pw
   xxxxxxxx -target_type cms  (imports fine)
   
   COMMAND: To view the Cert
   gsk7cmd -cert -list all -db `pwd`/PhoenixSSEP.kdb -pw xxxxxx
   
   OUTPUT: shows lower case... Label when exported was
   PhoenixInvestments
   not phoenixinvestments as you can see in the first command from
   above...
   Certificates in database: /tmp/test/hydrogen1/PhoenixSSEP.kdb
      VeriSign Class 2 OnSite Individual CA
      VeriSign International Server CA - Class 3
      Verisign Class 3 Public Primary Certification Authority - G2
      Verisign Class 2 Public Primary Certification Authority - G2
      Verisign Class 1 Public Primary Certification Authority - G2
      VeriSign Class 1 CA Individual Subscriber-Persona Not
   Validated
      Thawte Personal Premium CA
      Thawte Personal Freemail CA
      Thawte Personal Basic CA
      Thawte Premium Server CA
      Thawte Server CA
      RSA Secure Server Certification Authority
      Verisign Class 1 Public Primary Certification Authority
      Verisign Class 2 Public Primary Certification Authority
      Verisign Class 3 Public Primary Certification Authority
      phoenixinvestments
   
   Now if we export from the Key Database to another KeyDatabase it
   works
   fine::::::
   
   COMMAND:
   gsk7cmd -cert -export -db `pwd`/PhoenixSSEP.kdb -pw xxxxxx
   -label
   PhoenixInvstments -type cms -target
   /tmp/test/hydrogen/PhoenixSSEP.kdb
   -target_pw xxxxxx -target_type cms
   
   COMMAND: view and make sure cert imported fine
   gsk7cmd -cert -list all -db `pwd`/PhoenixSSEP.kdb -pw xxxxxx
   
   OUTPUT:
   Certificates in database: /tmp/test/hydrogen/PhoenixSSEP.kdb
      RSA Secure Server Certification Authority
      VeriSign Class 2 OnSite Individual CA
      VeriSign International Server CA - Class 3
      Verisign Class 3 Public Primary Certification Authority - G2
      Verisign Class 2 Public Primary Certification Authority - G2
      Verisign Class 1 Public Primary Certification Authority - G2
      VeriSign Class 1 CA Individual Subscriber-Persona Not
   Validated
      Thawte Personal Premium CA
      Thawte Personal Freemail CA
      Thawte Personal Basic CA
      Thawte Premium Server CA
      Thawte Server CA
      Verisign Class 1 Public Primary Certification Authority
      Verisign Class 2 Public Primary Certification Authority
      Verisign Class 3 Public Primary Certification Authority
      PhoenixInvestments
   
   
   From the outputs when we export to a file and import all upper
   case
   letters become lower case... when exporting directly from one
   key
   database to another case stays as it should...
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *   see main problem description
   
   
    
   
   

PROBLEM CONCLUSION
 *   This is a permanent restriction in the JCE (
   Java Security) that cannot be fixed in the TAM product.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY78773
   
   
 * REPORTED COMPONENT NAME
   ACCESS MGR E-BU
   
   
 * REPORTED COMPONENT ID
   5724C0800
   
   
 * REPORTED RELEASE
   510
   
   
 * STATUS
   CLOSED PRS
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2005-11-10
   
   
 * CLOSED DATE
   2005-11-29
   
   
 * LAST MODIFIED DATE
   2005-11-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS