Title: IBM PM74725: MONITOR COMPONENT INITIALIZATIONS, REPORT "HUNG THREADS" - United States

Text:
  FIXES ARE AVAILABLE
7.0.0.27: WebSphere Application Server V7.0 Fix Pack 27 [http://www-01.ibm.com/support/docview.wss?uid=swg24033882]
8.5.0.2: WebSphere Application Server V8.5 Fix Pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24034672]
8.0.0.6: WebSphere Application Server V8.0 Fix Pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24034673]
7.0.0.29: WebSphere Application Server V7.0 Fix Pack 29 [http://www-01.ibm.com/support/docview.wss?uid=swg24034966]
8.0.0.7: WebSphere Application Server V8.0 Fix Pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24035457]
8.0.0.8: WebSphere Application Server V8.0 Fix Pack 8 [http://www-01.ibm.com/support/docview.wss?uid=swg24036729]
7.0.0.31: WebSphere Application Server V7.0 Fix Pack 31 [http://www-01.ibm.com/support/docview.wss?uid=swg24036768]
7.0.0.27: Java SDK 1.6 SR13 FP2 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035324]
7.0.0.33: WebSphere Application Server V7.0 Fix Pack 33 [http://www-01.ibm.com/support/docview.wss?uid=swg24037573]
8.0.0.9: WebSphere Application Server V8.0 Fix Pack 9 [http://www-01.ibm.com/support/docview.wss?uid=swg24037574]
7.0.0.35: WebSphere Application Server V7.0 Fix Pack 35 [http://www-01.ibm.com/support/docview.wss?uid=swg24038310]
8.0.0.10: WebSphere Application Server V8.0 Fix Pack 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24039242]
7.0.0.37: WebSphere Application Server V7.0 Fix Pack 37 [http://www-01.ibm.com/support/docview.wss?uid=swg24039338]
8.0.0.11: WebSphere Application Server V8.0 Fix Pack 11 [http://www-01.ibm.com/support/docview.wss?uid=swg24040425]
7.0.0.39: WebSphere Application Server V7.0 Fix Pack 39 [http://www-01.ibm.com/support/docview.wss?uid=swg24041013]
8.0.0.12: WebSphere Application Server V8.0 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24041590]
7.0.0.41: WebSphere Application Server V7.0 Fix Pack 41 [http://www-01.ibm.com/support/docview.wss?uid=swg24041931]
8.0.0.13: WebSphere Application Server V8.0 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24042746]
7.0.0.43: WebSphere Application Server V7.0 Fix Pack 43 [http://www-01.ibm.com/support/docview.wss?uid=swg24043400]
8.0.0.14: WebSphere Application Server V8.0 Fix Pack 14 [http://www-01.ibm.com/support/docview.wss?uid=swg24044096]
7.0.0.45: WebSphere Application Server V7.0 Fix Pack 45 [http://www-01.ibm.com/support/docview.wss?uid=swg24044551]
8.0.0.15: WebSphere Application Server V8.0 Fix Pack 15 [http://www-01.ibm.com/support/docview.wss?uid=swg24044734]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Component initializations normally run under our standard
   thread pool, which monitors threaded actions and issues
   "may be hung" diagnostic warnings if those take an
   exceptionally long time.
   
   However, when a component was started synchronously, we were
   invoking the initialization in-line. Since there was no
   thread, we were unable to monitor it. As a result, a slow/hung
   component initialization could silently hang WebSphere
   Application Server startup.
   
   The new code runs the component init in a monitored thread (so
   we get "may be hung" warnings telling us what's going on), but
   waits for its completion, thus emulating the synchronous-start
   behavior.
   
   In WebSphere Application Server V7.0 through V8.5, we continue
   to default to the inline invocation (no behavior change). To
   enable the new diagnostics, set the property
   -Dcom.ibm.websphere.WsComponentImpl.synch_init_monitored=true
   
   In later versions, we will default to running with the new
   diagnostics turned on. To disable them and switch back to the
   old inline invocation, set
   -Dcom.ibm.websphere.WsComponentImpl..synch_init_monitored=false
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server                                      *
   ****************************************************************
   * PROBLEM DESCRIPTION: Slow or hung synchronous component      *
   *                      initialization could silently hang      *
   *                      WebSphere Application Server startup.   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Slow or hung component initialization could silently hang
   WebSphere Application Server startup.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Component initializations normally run under our standard
   thread pool, which monitors threaded actions and issues
   "may be hung" diagnostic warnings if those take an
   exceptionally long time.
   
   However, when a component was started synchronously, we were
   invoking the initialization in-line. Since there was no
   thread, we were unable to monitor it. As a result, a slow or
   hung component initialization could silently hang WebSphere
   Application Server startup.
   
   The new code runs the component init in a monitored thread (so
   we get "may be hung" warnings telling us what's going on), but
   waits for its completion, thus emulating the synchronous-start
   behavior.
   
   In WebSphere Application Server V7.0 through V8.5, we continue
   to default to the inline invocation (no behavior change). To
   enable the new diagnostics, set the property
   -Dcom.ibm.websphere.WsComponentImpl.synch_init_monitored=true
   
   In later versions, we expect to default to running with the new
   diagnostics turned on. To disable them and switch back to the
   old inline invocation, set
   -Dcom.ibm.websphere.WsComponentImpl.synch_init_monitored=false
   
   The fix for this APAR is currently targeted for inclusion in
   fix packs 8.5.0.2, 8.0.0.6, and 7.0.0.29.  Please refer to the
   Recommended Updates page for delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM74725
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE APP S
   
   
 * REPORTED COMPONENT ID
   5724J0800
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-10-10
   
   
 * CLOSED DATE
   2013-02-14
   
   
 * LAST MODIFIED DATE
   2013-02-14
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE APP S
   
   
 * FIXED COMPONENT ID
   5724J0800
   
   

APPLICABLE COMPONENT LEVELS
 * R60A PSY
   UP
   
   
 * R60H PSY
   UP
   
   
 * R60I PSY
   UP
   
   
 * R60P PSY
   UP
   
   
 * R60S PSY
   UP
   
   
 * R60W PSY
   UP
   
   
 * R60Z PSY
   UP
   
   
 * R61A PSY
   UP
   
   
 * R61H PSY
   UP
   
   
 * R61I PSY
   UP
   
   
 * R61P PSY
   UP
   
   
 * R61S PSY
   UP
   
   
 * R61W PSY
   UP
   
   
 * R61Z PSY
   UP
   
   
 * R700 PSY
   UP
   
   
 * R850 PSY
   UP