Title: IBM JR42342: Out of memory problems caused by too many coach objects in session. - United States

Text:
  FIXES ARE AVAILABLE
Version 8.0 Refresh Pack 1 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24033777]
Version 7.5.1 Fix Pack 1 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24033036]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Out of memory problems are caused when there are too many coach
   objects in session.
   
   When a large number of users run user activity tasks and a
   large number of coaches are rendered at the same
   time. This means that a large number of coach instances will be
   stored in memory.
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users of BPM Express, BPM Standard and BPM  *
   *                  Advanced.                                   *
   ****************************************************************
   * PROBLEM DESCRIPTION: Out of memory problems are caused       *
   *                      when there are too many coach           *
   *                      objects in session.                     *
   *                      When a large number of users run user   *
   *                      activity tasks and a                    *
   *                      large number of coaches are rendered    *
   *                      at the same                             *
   *                      time. This means that a large number    *
   *                      of coach instances will be              *
   *                      stored in memory.                       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Out of memory problems are caused when there are too many coach
   objects in session.
   When a large number of users run user activity tasks and a
   large number of coaches are rendered at the same
   time. This means that a large number of coach instances will be
   stored in memory.
   This problem is very much specific to the HTTP session
   persistence holding onto too many Coach objects. When there
   are a large number of users and each log on at once the memory
   problem is due to Coach objects accumulating within each
   session. ??
   They eventually get collected if the user logs off. ??
   This is not a traditional memory leak issue. ??It is a memory
   footprint problem.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problem was fixed to change the behavior to when a coach is
   submitted, the request is handled server-side and session is
   pruned.
   The fix is available in Fix Central and pre requisites JR42330 [http://www-01.ibm.com/support/docview.wss?uid=swg1JR42330]
   on the server side, JR42280 [http://www-01.ibm.com/support/docview.wss?uid=swg1JR42280] on the client side.
   (please see JR42330 [http://www-01.ibm.com/support/docview.wss?uid=swg1JR42330] for more details).
   1. This fix needs to be installed on both Process Center/Server
   and Process Designer.
   After Installing JR42342 and its pre requisites on Process
   Center/Server:
   2. On Process Center/Server run "bpmprofileUpgrade" only:
   
   For Standalone:
   http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r5m1/topic/c
   om.ibm.wbpm.imuc.doc/topics/tmig_upgrading_bpm_errors.html [http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r5m1/topic/com.ibm.wbpm.imuc.doc/topics/tmig_upgrading_bpm_errors.html]
   (step 2 only in above link)
   
   For Clusters, only Step 3 in:
   http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r5m1/topic/c
   om.ibm.wbpm.imuc.doc/topics/tmig_upgrading_bpm_nd_clusters.html [http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r5m1/topic/com.ibm.wbpm.imuc.doc/topics/tmig_upgrading_bpm_nd_clusters.html]
   (RUN only step 3 and has to be run on all clusters)
   
   3. Run upgrade7x using the instructions outlined in
   http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r5m1/topic/c [http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r5m1/topic/c]
   om.ibm.wbpm.imuc.doc/upgrade/topic/upgrading_existing_dbs_751.ht
   ml (Perform Step 1 outlined in the above link)
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR42342
   
   
 * REPORTED COMPONENT NAME
   BPM ADVANCED
   
   
 * REPORTED COMPONENT ID
   5725C9400
   
   
 * REPORTED RELEASE
   751
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-03-24
   
   
 * CLOSED DATE
   2012-04-27
   
   
 * LAST MODIFIED DATE
   2012-06-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM ADVANCED
   
   
 * FIXED COMPONENT ID
   5725C9400
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP