Title: IBM Migrating a legacy IBM Datacap Taskmaster Capture application - United States

Text:
port porting migrating migration migrate TECHNOTE (FAQ)

QUESTION
 How to migrate a non-RRS (non-Datacap Studio) Datacap Taskmaster application. 

CAUSE
Datacap Taskmaster applications typically reference a number of files using either drive-letter or UNC based paths. They access several databases using either system DSN's or ODBC Provider specifications. Finally, they typically access the Taskmaster Server via an IP address or machine name. This document identifies where these file paths, database, and server specifications are stored and how to change them when the application must be moved.

ANSWER
The three main shared folders used by Datacap Taskmaster applications: 

Datacap Taskmaster software is typically installed on a shared network drive, although it can also be installed locally on each station. In a network installation, the software folder is usually named \Datacap.

Application-specific files usually reside in a folder inside the Datacap folder. By convention the Application Process folder (and sub-folders) contains all application-specific files such as Access databases (*.mdb), Batch Pilot projects (*.bpp), custom forms and scripts (*.dcf. *.dcs, *.rra), etc.
Batches of documents, containing images and data, are usually stored in a shared folder on the network. Sometimes the Batch folder is within the Application folder, but typically it is separate.

Where file paths, database identifiers, and server IP addresses are stored: 

 * The Windows registry contains paths to the Datacap folder for registered software components, and may also contain non-critical paths such as recently used files, etc. 
 * Desktop, Start Menu, and Windows Scheduler shortcuts to Taskmaster Client, Rule Manager, AutoDelete, ENU, etc. frequently contain paths to the software, configuration settings (.ini) files, and either DSN's or ODBC Provider strings to databases. Services may also contain paths (e.g. to TMSub, the Taskmaster Client Service). 
 * The Taskmaster Admin database contains paths in dco table, dco_setup field and taskmod table, md_params field (Document Hierarchy file and task-specific setup parameters, respectively). 
 * The Taskmaster Engine database contains paths in the tmbatch table, pb_batchdir field (Batch Directory). 
 * Taskmaster Rules databases may contain paths in the action table, ac_Params field (Action parameters); paths are also stored in the Template table, tp_CCOPath and tp_ImagePath fields (fingerprint files and associated CCO's). 
 * Report Viewer databases contain paths in the Reports table, Crystal and DB fields (report file locations and databases). 
 * Batch Pilot and Taskmaster Web project files (*.bpp and *.icp) contain paths to forms, scripts, and possibly other files. 
 * Taskmaster Web configuration file Apps.ini contains the IP address of Taskmaster Server, as well as the DSN or ODBC connection string for the Admin and Engine databases for each Taskmaster Web application. 
 * Rule Manager settings files (e.g. ruleman.ini) contain paths to the Document Hierarchy (setup dco), Batch Folder, Actions Folder, Rule Runner software, and Fingerprint Folder. 
 * AutoDelete’s settings file (e.g. tmbatdel.ini)


Changing paths to the application and/or software: 
When changing drive letters, UNC paths, or switching between drive letters and UNC, the following procedures are recommended. These actions should be performed when the Datacap Taskmaster system is shut down – Taskmaster Clients, Web Clients, Web Server, and Taskmaster Server should all be logged out or stopped. The entire Application folder, the Admin and Engine databases should be fully backed up before making these changes. 

Changing the shared folder where Datacap Taskmaster software is located:  1. After installing the software in the new location, run the register install from all client stations. 
 2. Make an inventory of Datacap Taskmaster application shortcuts on client desktops, Start menus, and Windows Scheduler. Each one containing a path needs to be updated. (The install\clfolder.ini can be modified to install new or updated shortcuts automatically when the register install is performed) 
 3. If the application folder is located in the shared Datacap folder, follow the steps below for changing the shared Application folder. 
 4. If Taskmaster Server or Client is installed as a Service, select the Service, choose properties, and update the Path to Executable. 
 5. Report Viewer databases typically need to be updated – open the Reports table in the rptview.mdb database, and update paths in the Crystal and DB tables. 
 6. Batch Pilot projects (*.bpp) for standard tasks contain paths to the shared Datacap folder. Edit all *.bpp and *.icp files in the Application folder using a text editor. Change all paths as required.


Changing the shared folder where Batches are stored:  1. Identify the Batch Creation tasks in the workflows (typically scan, vscan, or fax input tasks). 
 2. For each Batch Creation task, go into Task Setup and change the Batch Directory. For Batch Pilot tasks select File/Task Settings and update the setting titled Create Batch Dir under. 
 3. If in process batches were moved, edit the Engine Database table tmbatch and make replacements to the value in field pb_batchdir for all affected batches. 
 4. If any application-custom tasks or actions contain the path to the batch folder, they should be modified. Application-custom action parameters can be scanned in the Rules database.


Changing the shared Application and Application Process folders:  1. Make an inventory of Datacap Taskmaster application shortcuts on client desktops, Start menus, and Windows Scheduler. Each one containing a path needs to be updated. (The install\clfolder.ini can be modified to install new or updated shortcuts automatically when the register install is performed) 
 2. Most Batch Pilot and Taskmaster Web projects (*.bpp and *.icp) contain paths to the Application and/or Process folder. Edit all *.bpp and *.icp files in the Application folder using a text editor. Change all paths as required. 
 3. Workflow Document Hierarchy files (XML files, also called setup DCO) need to be reset in Taskmaster Administrator for each workflow, and also reselected in each Batch Pilot Task Project that the application uses. 
 4. Some tasks refer to settings files in the Process folder. Go through the settings for each task, checking each option in each tab for paths, and update as needed. 
 5. If the Admin or Engine databases are MS-Access *.mdb files, the DSN will need to be updated in Taskmaster Server. 
 6. If the Rules or Lookup databases are MS-Access *.mdb files, update the DSN's on each server and client that runs rules or performs lookups. 
 7. If the application uses Rules:  1. Edit ruleman.ini (or whatever rules setting file is specified in the Rule Manager shortcut) and change paths as needed. 
     2. Edit the Taskmaster Rules database table action, and change any paths in the ac_Params field as needed. 
     3. In the Taskmaster Rules database table Template, change paths as needed in fields tp_CCOPath and tp_ImagePath.
    
    
 8. If the application uses FormSpecs, edit them in a text editor and search for references to the Process folder. Update the paths as required.


Changing Databases: 
Using DSNs – inventory the chosen DSN names and then use ODBC manager to: 
1. Update the Datacap Taskmaster application Admin and Engine DSN's on Taskmaster Server. 
2. If the application uses lookups, update the Lookup DSN on all client stations that require it. If TMWeb is used, this includes the Taskmaster Server station. 
3. If the application uses Rules, update the Rules DSN on all client stations that require it. If TMWeb is used, this includes the Taskmaster Server station.