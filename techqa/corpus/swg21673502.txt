Title: IBM Production Imaging Edition Viewer Pro does not display PDF or TIFF images when FileNet Workplace XT  is accessed over the HTTPS transport - United States

Text:
iviewpro; ssl; pie viewer; streamer TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Production Imaging Edition Viewer Pro does not display PDF or TIFF images when FileNet Workplace XT is accessed over the HTTPS transport. 

SYMPTOM
Attempting to open a PDF or TIFF document in Workplace XT configured to use the Production Imaging Edition Viewer Pro over an HTTPS connection result in an error message indicating: 

 * 
 * 
 * Error: ji.net.jiServerException 
 * Server did not respond with OK 
 * Error: IO Error : Cannot process redirect


The issue is not observed if Workplace XT is accessed over the HTTP transport (if configured) or if the URL of the Viewer Pro window is modified and the parameter "streamer" is set to false, for example: 

 

 * 
 * 


Other file formats open fine in Viewer Pro even when using HTTPS. 


CAUSE
The Production Imaging Edition Viewer Pro includes a Streamer module which speeds up the display of TIFF and PDF documents by retrieving individual pages of a document at a time instead of downloading the entire document and only after that displaying it. This feature is enabled by default.

When the Streamer module (deployed as part of Workplace XT) receives a request to retrieve a certain document page from the ViewerPro it will access the content by referencing the Workplace XT base URL - https://<server>:<port>/WorkplaceXT. During the access to the HTTPS Workplace XT URL, if the signer of the SSL certificate was not added to the Truststore of the Java Virtual Machine where Workplace XT is deployed, then the Streamer will not be able to retrieve the specific page of document content. 


DIAGNOSING THE PROBLEM
Enable Streamer module tracing : 

 

 1. Edit the file iviewpro.streamer.properties ( default location is ...IBM/FileNet/Config/ImageViewerPro ). 
    If you are unable to locate the file, please look in ...IBM/FileNet/WebClient/WorkplaceXT/WEB-INF/web.xml and look for a setting labeled "iviewproConfigurationDirectory". The value of this parameter will indicate a directory where the iviewpro.streamer.properties would be located. 
    
    Add the following lines to iviewpro.streamer.properties: 
    
    trace=true 
    traceNet=true 
    
    
 2. Reproduce the issue and inspect the iviewpro.streamer.log* files in the IBM/FileNet/ImageViewerPro/LogFiles folder

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 



RESOLVING THE PROBLEM
Refer to the documentation of the J2EE Application Server where Workplace XT is deployed and add the signer of the SSL certificate in the Workplace XT Base URL https://<server>:<port>/WorkplaceXT to the Java Truststore. If the Workplace XT Base URL is a load balancer or HTTP Server, then the signer of the SSL certificate presented by the load balancer or HTTP Server should be added to the Java TrustStore used by the J2EE Application Server.