Title: IBM The wineventlog probe failed to start with Japanese characters in rules file - United States

Text:
wineventlog probe utf8enabled true mode multi-byte characters compile regular expression utf8 byte order mark TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The rules file of the wineventlog probe has Japanese characters and failed to start up. 

SYMPTOM
This error are seen when the rules file is not UTF-8 encoded and probe is started in normal mode:

Error: E-UNK-000-000: Rules file 
'C:\IBM\Tivoli\Netcool\omnibus\probes\win32\wineventlog.rules' line xxx:
Failed to compile regular expression: general failure


##

This error is seen when rules file is not UTF-8 encoded and probe is running in "utf8enabled TRUE" mode:

Warning: W-ETC-102-003: Invalid character 0x83 found when converting to Unicode. 


Error: E-UNK-000-000: Rules file 
'C:\IBM\Tivoli\Netcool\omnibus\probes\win32\wineventlog.rules' line xxx:
Failed to compile regular expression: general failure

##

This error is seen in probe log when rules file is UTF-8 encoded but the probe started normally (e.g. not started in "utf8enabled TRUE") mode:

Error: E-ETC-102-038: File 
'C:\IBM\Tivoli\Netcool\omnibus\probes\win32\wineventlog.rules' contains 
utf8 byte order mark while not in utf8 mode




CAUSE
Either the probe or the rules file is not in UTF-8 mode.


DIAGNOSING THE PROBLEM
Check debug log of probe to ensure that probe is started with "UTF8Enabled: TRUE" and the rules files with the Japanese characters can be correctly displayed when opened with Windows Notepad.



RESOLVING THE PROBLEM
Make sure to encode the rules file with the Japanese characters to utf8.
Start the wineventlog probe in the %OMNIHOME%\probes\win32 directory with utf8enabled TRUE. That is,
%OMNIHOME%\probes\win32\nco_p_wineventlog.bat -utf8enabled TRUE