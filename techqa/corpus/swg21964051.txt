Title: IBM SQL0551N, authorization ID does not have the required authorization or privilege, when Windows DB2 service is running under Domain account. - United States

Text:
Windows SQL0551N authorization required DB2_GRP_LOOKUP LOCAL TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 SQL0551N authorization ID does not have the required authorization or privilege when Windows DB2 Server running under Domain account while member of local DB2ADMINS group. 

SYMPTOM
SQL0551N The statement failed because the authorization ID does not have the required authorization or privilege to perform the operation. Authorization ID: "". Operation: 

"". Object: "". SQLSTATE=42501


CAUSE
On Windows, a user can belong to groups defined at the domain level, groups defined on the local machine, or to both. The DB2_GRP_LOOKUP environment variable controls whether groups are enumerated on the local machine, or where the users are defined. 



DIAGNOSING THE PROBLEM
If Windows Extended Security is enabled, check if the domain user is member of the local DB2ADMNS group. 

Check value for DB2_GRP_LOOKUP from the DB2 Registry. 

db2set -all


RESOLVING THE PROBLEM
For DB2 service running under a Domain account but also member of local administrators group then configure DB2_GRP_LOOKUP to LOCAL. 


db2set -g DB2_GRP_LOOKUP=local

A restart of the DB2 service may be require for the change to take affect. 

RELATED INFORMATION
 The DB2_GRP_LOOKUP environment variable and DB2 group e [http://www-01.ibm.com/support/knowledgecenter/SSEPGG_10.5.0/com.ibm.db2.luw.admin.sec.doc/doc/c0055077.html]