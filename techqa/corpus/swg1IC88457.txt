Title: IBM IC88457: WMQ V7.5 AMS INCORRECTLY HANDLES MESSAGES CONTAINING AN MQRFH2 - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V7.5 Fix Pack 7.5.0.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24035286]
WebSphere MQ v7.5.0.2 Hypervisor for RHEL [http://www-01.ibm.com/support/docview.wss?uid=swg24036533]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  WMQ V7.5 AMS incorrectly handles messages containing an MQRFH2
   because it is having trouble parsing the RFH2 to find the start
   of the data that it should protect.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Applications (with the exception of those using Java/JMS
   client bindings) that retrieve messages involving RFH2 headers
   and WebSphere MQ Advanced Message Security security policies are
   affected by this APAR's code change.
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM SUMMARY:
   When an application gets a message that contains an RFH2
   header from a queue protected with a security policy, the
   WebSphere MQ Advanced Message Security interceptors will attempt
   to find the start of the protected message payload to
   unprotect the data and determine if the message meets the
   requirements of the policy. If the message encoding does not
   match the endianness of the application getting the message, the
   offset to the start of the protected message could be
   incorrectly calculated by the interceptor, in turn causing the
   interceptor to fail to find the start of the protected payload
   and thus causing the message to be requeued to the
   SYSTEM.PROTECTION.ERROR.QUEUE.
   
   This issue affects all application environments that retrieve
   RFH2 messages from queues protected with a security policy
   with the exception of Java/JMS client applications.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The WebSphere MQ Advanced Message Security interceptors have
   been updated to correctly account for message encoding when
   retrieving messages that contain a RFH2 message header.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Platform           v7.5
   --------           --------------------
   Multiplatforms     7.5.0.2
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC88457
   
   
 * REPORTED COMPONENT NAME
   WMQ AMS
   
   
 * REPORTED COMPONENT ID
   5724H7243
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-11-21
   
   
 * CLOSED DATE
   2013-02-01
   
   
 * LAST MODIFIED DATE
   2013-02-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ AMS
   
   
 * FIXED COMPONENT ID
   5724H7243
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP