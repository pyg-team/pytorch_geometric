Title: IBM TRC System recovery - United States

Text:
trc; derby; recovery; login TECHNOTE (FAQ)

QUESTION
 I am using a Derby database and since the db got corrupted I am no longer able to access the remote control server portal. 

CAUSE
trc.log shows
16-Mar-2016,08:25:55 [Default Executor-thread-54] [ERROR] - Threw SQLException whilst getting a connection from a datasource :Failed to start database 'C:/Program Files x86)/IBM/Tivoli/TRC/server/DB/TRCDB' with class loader 
com.ibm.ws.classloading.internal.AppClassLoader@c7e0e7d4, see the next 
exception for details. DSRA0010E: SQL State = XJ040, Error Code = 40,000
16-Mar-2016,08:25:55 [Default Executor-thread-54] [INFO ] - DBInfo(): Updating database information 16-Mar-2016,08:25:55 [Default Executor-thread-54] [ERROR] - Threw SQLException whilst getting a connection from a datasource :Failed to start database 'C:/Program Files (x86)/IBM/Tivoli/TRC/server/DB/TRCDB' with class loader 
com.ibm.ws.classloading.internal.AppClassLoader@c7e0e7d4, see the next exception for details. DSRA0010E: SQL State = XJ040, Error Code = 40,000
16-Mar-2016,08:25:55 [Default Executor-thread-54] [ERROR] - DBInfo(): Couldn't establish a connection to the datasource 
16-Mar-2016,08:25:55 [Default Executor-thread-54] [ERROR] - DBInfo(): 
The schema name was not found for table[ASSET] 
16-Mar-2016,08:25:55 [Default Executor-thread-54] [ERROR] - 
An unexpected application error occurred. Details are shown below. There 


ANSWER
 

Derby database is not supported in production system, it can only be used for testing purpose or poc. 

If you need to recover a Derby database you can either replace the TRCDB folder (in the TRC server installation path) with a previous backup or delete this folder. 

Prior doing any of the two actions, the IBM Remote Control Server service needs to be shut down. 

If you don't have a backup and you will restore the system by deleting the TRCDB folder, the DB will be recreated at the time you restart the TRC Server service and you will lose all the policy/configuration in your TRC server system.