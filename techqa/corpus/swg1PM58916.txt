Title: IBM PM58916: WMQ V7 JMSWMQ2002 AND JMSCMQ0001 2033 MQRC_NO_MSG_AVAILABLE IF JMSMESSAGEID CONTAINS LOWERCASE WITH QMCCSID=5026. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When a JMS message selector function is used, the message of an
   English lower case letter cannot be acquired when using
   CCSID=5026.
   .
   JMSWMQ2002: Failed to get a message from destination xxx.
   WebSphere MQ classes for JMS attempted to perform an MQGET;
   however WebSphere MQ reported an error.
   .
   JMSCMQ0001: WebSphere MQ call failed with compcode '2'
   ('MQCC_FAILED') reason '2033' ('MQRC_NO_MSG_AVAILABLE').
   .
   No issues when using QMCCSID 5035 (Japanese Kanji/Latin Mixed)
   or if JMSMessageID in consumer set to UPPER CASE,
   
   
   MQMSGPROP/K
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS Version 7 *
   *                 Release 0 Modification 1.                    *
   ****************************************************************
   * PROBLEM DESCRIPTION: Message selection using JMSMessageID,   *
   *                      JMSCorrelationID or JMSGroupID fails to *
   *                      return a matching message if the        *
   *                      selector contains lower case characters *
   *                      and the qmgr is running in CCSID 5026.  *
   *                                                              *
   *                      Other symptoms include:                 *
   *                      abend 5C6-00C20004, or loops when       *
   *                      calling MQINQMP on a qmgr running in    *
   *                      CCSID 5026.                             *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When message properties or selection strings are converted from
   a String to other data types e.g. Boolean, Float, the qmgr ccsid
   is used. In some CCSIDs, such as 5026, the lower case characters
   are found at a different codepoint to most other EBCDIC CCSIDs.
   The conversion process does not account for this, leading to
   errors if the value being converted involves lowercase
   characters.
   
   
    
   
   

PROBLEM CONCLUSION
 *  CMQXCNVA is changed to detect when converting to/from a CCSID
   where the lowercase characters are in a different codepoint to
   the compiler's CCSID and correctly handle it.
   010Y
   CMQXCNVA
   CSQACNVA
   CSQATHAK
   CSQTOHAK
   CSQUCNVA
   CSQUTHAK
   CSQXCNVA
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM58916
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   010
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-02-23
   
   
 * CLOSED DATE
   2012-03-23
   
   
 * LAST MODIFIED DATE
   2013-10-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM59982 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM59982] UK77317 IV18676
   
   

MODULES/MACROS
 *  CMQXCNVA CSQACNVA CSQATHAK CSQTOHAK CSQUCNVA
   CSQUTHAK CSQXCNVA
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R010 PSY UK77317 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK77317]
   UP12/04/11 P F204
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.