Title: IBM PM19649: DFHSC2LS GENERATES INCORRECT COPYBOOKS WHEN ELEMENTS AND TYPES EXIST IN THE XSD. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  CICS TS 4.1 running DFHSC2LS utility.
   Mapping level: 3.0 (TS 4.1 GA mappings)
   Created: 05 Jul 2010 13:21
   Release: R660
   Build-Level: PK91785 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK91785]
   .
   Problem occurs during DFHSC2LS, when the xsd-file contains
   abstract datatypes and more then 1 global datatype, and the
   
   Transformation Option 'TYPES' is set to 'ALL'
   (or at least more than one global type is set in this option)
   .
   The generated copybook names are based upon PDSMEM name and
   a suffix, e.g. PDSMEM=COPYB, so copybooks :
   COPYB001
   COPYB002
   COPYB003  are created.
   The problem is that the expected structure names are being
   placed in the wrong copybooks.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS users                               *
   ****************************************************************
   * PROBLEM DESCRIPTION: DFHSC2LS generates incorrect            *
   *                      comments in COBOL copybook when input   *
   *                      XML schemas contain global element      *
   *                      definitions and global type             *
   *                      definitions.                            *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   DFHSC2LS was run to generate COBOL copybooks from an input XML
   schema document which contains several global element and
   global type definitions. Comments are produced in the global
   element copybooks that indicate which copybooks the types used
   by the elements can be found in. These comments refer to
   incorrect dataset member names because the numeric suffix is
   less than it should be.
   
   When DFHSC2LS generated the numeric suffixes for the comments
   it did not take into account any global element definitions
   that are present in the input XML schema.  The copybooks for
   the global elements are written to the PDS first, followed by
   the copybooks for the types.  The global element copybooks use
   the first few suffixes, however, the suffixes used for the
   comments start at 01 instead of the actual suffix used by the
   first type copybook to be written.
   
   
    
   
   

PROBLEM CONCLUSION
 *  DFHSC2LS has been changed to take account of both global element
   and global type definitions in XSD files when constructing
   comments to be included in the generated COBOL copybooks.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS
 *  Å¾**** PE11/05/17 FIX IN ERROR. SEE APAR PM38921 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM38921]  FOR DESCRIPTION
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PM19649
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-08-03
   
   
 * CLOSED DATE
   2010-09-21
   
   
 * LAST MODIFIED DATE
   2011-08-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK60653
   
   

MODULES/MACROS
 *     DFJ@H176
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R60D PSY UK60653 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK60653]
   UP10/10/01 P F009
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.