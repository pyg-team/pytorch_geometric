Title: IBM IC92060: WEBSPHERE MQ V7.5 AMQRMPPA OR APPLICATION PROCESS SHOWS HIGH MEMORY USAGE - United States

Text:
  A FIX IS AVAILABLE
WebSphere MQ V7.5 Fix Pack 7.5.0.3 [http://www-01.ibm.com/support/docview.wss?uid=swg24036808]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If you have installed WebSphere MQ including the Advanced
   Message Security component then the amqrmppa process, or an
   application that is connected to the queue manager, may be
   seen to be leaking memory whenever an MQOPEN call fails.
   
   For example, if a client application connects to the queue
   manager and tries to open a queue for exclusive input but that
   queue is already open then it will receive MQRC_OBJECT_IN_USE
   and the amqrmppa process will leak approximately 10k of memory.
   
   It should be noted that the Advanced Message Security
   component needs to be installed for this condition to occur
   and the problem exists even if applications are not making
   active use of Advanced Message Security functionality.
   
   
    
   
   

LOCAL FIX
 *  There are a couple of ways of working around the
   problem:1) If the reason for the MQOPEN failures can
   be found and corrected then this will avoid the memory
   leak.2) If the WebSphere MQ Advanced Message Security
   component has been installed but is not being actively used then
   it is possible to work around the problem by disabling the
   Advanced Message Security component. This can be done by
   renaming the smqcert.lic file that can be found in the
   <MQ_INSTALLATION>/lib directory and restarting the queue
   manager.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   If the Advanced Message Security component is installed and
   applications are experiencing errors when calling MQOPEN then
   they will be affected by this problem.
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM SUMMARY:
   If the Advanced Message Security component is installed then
   MQ runs some Advanced Message Security specific code within each
   call to MQOPEN, even if Advanced Message Security is not being
   actively used. This code allocates just over 10k of memory which
   should have been freed before MQOPEN returned. In the case where
   the MQOPEN fails for any reason then this memory was not being
   freed.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code was changed to ensure that the allocated memory was
   correctly freed even if the call to MQOPEN failed.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Platform           v7.5
   --------           --------------------
   Multiplatforms     7.5.0.3
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC92060
   
   
 * REPORTED COMPONENT NAME
   WMQ BASE MULTIP
   
   
 * REPORTED COMPONENT ID
   5724H7241
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-05-02
   
   
 * CLOSED DATE
   2013-05-30
   
   
 * LAST MODIFIED DATE
   2013-05-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ BASE MULTIP
   
   
 * FIXED COMPONENT ID
   5724H7241
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP