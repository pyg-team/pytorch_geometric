Title: IBM PM05353: CANNOT RECREATE URL MAPPINGS IN VIRTUAL PORTAL WITH HOST NAME CO NFIGURATION - United States

Text:
  FIXES ARE AVAILABLE
6.1.0.4 Download: WebSphere Portal and WCM V6.1.0 fix pack 4 & 6.1.5 fix pack 1 [http://www-01.ibm.com/support/docview.wss?uid=swg24026394]
Recommended Updates for WebSphere Portal and Web Content Management V6.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24023835]
6.1.0.5 Download: WebSphere Portal and WCM V6.1.0 fix pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24027475]
6.1.0.6 Download: WebSphere Portal and WCM V6.1.0 fix pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030970]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If a virtual portal is created with a hostname but without an
   identifying url context, it is not possible to create new URL
   mappings and assign them to portal pages through the URL
   mapping admin portlet.
   
   The following error will be shown:
   EJPEC0622E: A resource of a virtual portal can only be mapped
   to a context of the same virtual portal.
   
   This APAR modifies the virtual portal creation process to always
   
   
   generate a URL mapping context, if no context name has been
   provided. So this APAR only addresses the issue for newly
   created virtual portals. Existing portals will have to be
   recreated to fix the issue (see workaround description).
   
   Detailed exception shown in URL Mapping portlet is:
   
   EJPAY0050E: Error occurred when assigning the mapping for
   context testvp2.
   com.ibm.portal.WpsException: EJPAY0050E: Error occurred when
   assigning the mapping for context testvp2.
   at
   com.ibm.wps.portlets.urlmapping.UrlMapping.setStatusMessage(UrlM
   
   apping.java:2216)
   ...
   EJPEC0622E: A resource of a virtual portal can only be mapped
   to a context of the same virtual portal.
   com.ibm.wps.command.mappingurl.MappingURLCommandException:
   EJPEC0622E: A resource of a virtual portal can only be mapped
   to a context of the same virtual portal.
   at
   com.ibm.wps.command.mappingurl.AbstractMappingURLCommand.throwMa
   
   ppingURLCommandException(AbstractMappingURLCommand.java:302)
   at
   com.ibm.wps.command.mappingurl.AssignPortalURLCommand.execute(As
   
   signPortalURLCommand.java:188)
   at
   com.ibm.wps.portlets.urlmapping.UrlMapping.actionEditMapping(Url
   
   Mapping.java:1205)
   
   
    
   
   

LOCAL FIX
 *  export the vp through XMLAccess; delete the vp and run the Clean
   
   
   
   
   up Daemon Task; recreate vp with some VP context in addition to
   the hostname (use config engine task create-virtual-portal to cr
   
   
   
   eate an empty VP!) and reimport the contents
   
   
    
   
   

PROBLEM SUMMARY
 *  If a virtual portal is created with a hostname but without an
   identifying url context, it is not possible to create new URL
   mappings and assign them to portal pages through the URL Mapping
   admin portlet.
   
   The following error will be shown:
   EJPEC0622E: A resource of a virtual portal can only be mapped to
   a context of the same virtual portal.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This APAR modifies the virtual portal creation process to always
   generate a URL mapping context, if no context name has been
   provided. So this APAR only addresses the issue for newly
   created virtual portals. Existing portals will have to be
   recreated to fix the issue:
   
       - export the vp through XMLAccess;
       - delete the vp and run the Clean up Daemon Task;
       - recreate vp with some VP context in addition to the
   hostname (use config engine task create-virtual-portal to create
   an empty VP!)
       - reimport the contents
   
   Manual Steps:
      None
   
   Failing Module(s):
      Virtual portals
   
   Affected Users:
      All users
   
   Version Information:
       Portal Version(s): 6.1.0.2
        Pre-Requisite(s):
         Co-Requisite(s): ---
   
   Platform Specific:
      This fix applies to all platforms.
   
   A fix is available from Fix Central:
   
   http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorde
   r?apar=PM05353&productid=WebSphere%20Portal&brandid=5 [http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorder?apar=PM05353&productid=WebSphere%20Portal&brandid=5]
   
   You may need to type or paste the complete address into your Web
   browser.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM05353
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   61B
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-01-19
   
   
 * CLOSED DATE
   2010-02-04
   
   
 * LAST MODIFIED DATE
   2010-02-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * FIXED COMPONENT ID
   5724E7600
   
   

APPLICABLE COMPONENT LEVELS
 * R61B PSY
   UP