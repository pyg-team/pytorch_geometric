Title: IBM LO82278: PRINTING TO PDF CAUSES HUNG THREADS WITH WEBFORM SERVER - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  ****************************************************************
   Users affected: Webform Server 4.0 all versions, 8.0 up to 8.1
   ****************************************************************
   When generating a PDF through Webform Server a race condition
   by threads occurs throwing the following error.
   [7/30/14 17:03:38:608 PDT] 00000003 ThreadMonitor W
   WSVR0605W: Thread "WebContainer : 23" (0000003f) has been
   active for 636501 milliseconds and may be hung.  There is/are 1
   thread(s) in total in the server that may be hung.
           at java.lang.Object.wait(Native Method)
           at java.lang.Object.wait(Object.java:196)
           at org.faceless.util.SimpleLock.getSharedLock(Unknown
   Source)
           at org.faceless.pdf2.PDFFont.a(Unknown Source)
           at org.faceless.pdf2.nd.a(Unknown Source)
           at org.faceless.pdf2.nd.a(Unknown Source)
           at org.faceless.pdf2.nd.a(Unknown Source)
           at org.faceless.pdf2.nd.a(Unknown Source)
           at org.faceless.pdf2.nd.a(Unknown Source)
           at org.faceless.pdf2.nd.a(Unknown Source)
           at org.faceless.pdf2.nd.a(Unknown Source)
           at org.faceless.pdf2.PDF.render(Unknown Source)
           at
   com.ibm.form.webform.translator.printing.pdf.PDFPrintEngine.hand
   lePrint(PDFPrintEngine.java:190)
           at
   com.ibm.form.webform.translator.printing.GenericPrintEngine.prin
   t(GenericPrintEngine.java:102)
           at
   com.ibm.form.webform.translator.Translator.printFormLocally(Tran
   slator.java:3470)
           at
   com.ibm.form.webform.translator.Translator.printForm(Translator.
   java:1960)
           at
   com.ibm.form.webform.translator.Translator.service(Translator.ja
   va:850)
           at
   javax.servlet.http.HttpServlet.service(HttpServlet.java:668)
           at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWr
   apper.java:1225)
           at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(Ser
   vletWrapper.java:775)
           at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(Ser
   vletWrapper.java:457)
           at
   com.ibm.ws.webcontainer.servlet.ServletWrapperImpl.handleRequest
   (ServletWrapperImpl.java:178)
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(We
   bAppFilterChain.java:136)
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebApp
   FilterChain.java:97)
           at
   com.ibm.form.webform.translator.filter.ParameterMungingFilter.do
   Filter(ParameterMungingFilter.java:163)
           at
   com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(Fi
   lterInstanceWrapper.java:195)
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebApp
   FilterChain.java:91)
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebA
   ppFilterManager.java:928)
           at
   com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters
   (WebAppFilterManager.java:1025)
           at
   com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleReques
   t(CacheServletWrapper.java:87)
           at
   com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.
   java:908)
           at
   com.ibm.ws.webcontainer.WSWebContainer.handleRequest(WSWebContai
   ner.java:1662)
           at
   com.ibm.ws.webcontainer.channel.WCChannelLink.ready(WCChannelLin
   k.java:195)
           at
   com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscr
   imination(HttpInboundLink.java:453)
           at
   com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewRe
   quest(HttpInboundLink.java:515)
           at
   com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.processRequ
   est(HttpInboundLink.java:306)
           at
   com.ibm.ws.http.channel.inbound.impl.HttpICLReadCallback.complet
   e(HttpICLReadCallback.java:83)
           at
   com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureComp
   leted(AioReadCompletionListener.java:166)
           at
   com.ibm.io.async.AbstractAsyncFuture.invokeCallback(AbstractAsyn
   cFuture.java:217)
           at
   com.ibm.io.async.AsyncChannelFuture.fireCompletionActions(AsyncC
   hannelFuture.java:161)
           at
   com.ibm.io.async.AsyncFuture.completed(AsyncFuture.java:138)
           at
   com.ibm.io.async.ResultHandler.complete(ResultHandler.java:204)
           at
   com.ibm.io.async.ResultHandler.runEventProcessingLoop(ResultHand
   ler.java:775)
           at
   com.ibm.io.async.ResultHandler$2.run(ResultHandler.java:905)
           at
   com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1691)
   
   
    
   
   

LOCAL FIX
 *  There is no workaround for this issue. Contact support for a
   patch.
   
   
    
   
   

PROBLEM SUMMARY
 *  This issue is fixed in the next major release which can be
   downloaded from FixCentral
   http://www-933.ibm.com/support/fixcentral/ [http://www-933.ibm.com/support/fixcentral/]
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   LO82278
   
   
 * REPORTED COMPONENT NAME
   LOTUS FORMS SER
   
   
 * REPORTED COMPONENT ID
   5724N0800
   
   
 * REPORTED RELEASE
   400
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-10-07
   
   
 * CLOSED DATE
   2015-02-09
   
   
 * LAST MODIFIED DATE
   2015-02-09
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  80
   
   
    
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R810 PSY
   UP