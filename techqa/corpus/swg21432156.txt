Title: IBM FileNet Workplace XT: Invalid session when using drag-and-drop or cannot display tiff or bmp files, get Annotations failed to load - United States

Text:
Workplace XT WebLogic Invalid Session timeout drag drop TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Cannot drag-and-drop files or cannot display tiff or bmp files when FileNet P8 Workplace XT is deployed in Oracle WebLogic 10 and 9.2.4 

SYMPTOM
When attempting to drag-and-drop files using FileNet Workplace XT (XT) users receive the following session error message: 

"The session state is invalid due to a session timeout or server failure." 

 

When attempting to display tiff or bmp files using XT users receive the following:

"Error: Annotation Exception : 
Annotations failed to load 

(ji.net.bh: Your session has timed out, please close the viewer and log back into the system.)"


CAUSE
Oracle WebLogic 10 and 9.2.4 has changed its default value for the cookie-http-only session descriptor.


RESOLVING THE PROBLEM
 

 1.  Undeploy Workplace XT.
     
 2.  Go to {WORKPLACEXT_INSTALLED_DIR}/FileNet/WebClient/ WorkplaceXT/WEB-INF
     
 3.  Backup the weblogic.xml.
     
 4.  Add the new session-descriptor section to the weblogic.xml.
     <weblogic-web-app xmlns="www.bea.com/ns/weblogic/90">
     <session-descriptor>
     <cookie-http-only>false</cookie-http-only>
     </session-descriptor>
     <jsp-descriptor>
     <page-check-seconds>-1</page-check-seconds>
     <verbose>true</verbose>
     </jsp-descriptor>
     <container-descriptor>
     <filter-dispatched-requests-enabled>false</filter-dispatched-requests-enabled> <prefer-web-inf-classes>true</prefer-web-inf-classes>
     <relogin-enabled>true</relogin-enabled>
     <allow-all-roles>true</allow-all-roles>
     </container-descriptor>
     </weblogic-web-app>
     
 5.  Go to {WORKPLACEXT_INSTALLED_DIR}/FileNet/WebClient/deploy directory.
     
 6.  Delete the existing web_client.war and web_client.ear.
     
 7.  Run the shell script to create a new war file "./create_web_client_war.sh"
     
 8.  Run the shell script to create a new ear file "./create_web_client_ear.sh"
     
 9.  Deploy the new web_client.ear or web_client.war file.
     
 10. Start the Workplace XT application.