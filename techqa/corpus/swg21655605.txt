Title: IBM db2idrop or db2icrt hangs indefinitely - United States

Text:
db2 hang; db2icrt hang; db2idrop hang; instance hang; install hang TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 db2idrop or db2icrt may hang indefinitely if the instance user login shell expects a user input. 

SYMPTOM
When running db2icrt or db2idrop it may hang indefinitely. Upon terminating the corresponding process and examining the available logs from /tmp directory, db2icrt_local.log or db2icrt debug output may look similar to the following: 

## Exiting: mkpermission
## Exiting: make_profiles
## Entering: updt_dbmcfg
DBI1066E Program db2icrt_local terminated by request.

Explanation

This program has been terminated by the user


CAUSE
When the user profile (.profile or /etc/profile) contains an entry to expect a user input when the instance user logs into a shell, for example: 

#
# Test for DB2 hang on instance creation or instance drop
#
if [ -f "/tmp/notice" ] ; then
cat /tmp/notice
echo -e "\nRETURN to continue\c"; read a; << This line is expecting an input.
fi

The commands that are run as the instance owner will also expect a user input due to the profile setting and hence the process may seem as if it is hung. 


RESOLVING THE PROBLEM
Obtain the user profile (ie .profile or /etc/profile) and comment out the corresponding line that expects a user input and re-try the command that was hanging.