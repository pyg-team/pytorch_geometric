Title: IBM Collecting data for: TWS MDM, BKM, or DWC WebSphere hang - United States

Text:
JSC; hang; websphere; tws; cpu; usage; MustGatherDocument; verbosegc TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 If WebSphere hangs on a TWS v8.5.x, 8.6, or 9.x MDM or BKM, or if it is suspected that the WebSphere process is causing CPU usage to increase on the Master's host, then information needs to be gathered for the WebSphere team to be able to analyze quickly. 

CAUSE
Various causes, such as a memory leak, insufficient heap memory, or code issues.

ENVIRONMENT
Tivoli Workload Scheduler (TWS) or Tivoli Dynamic Workload Console (TDWC) with embedded WebSphere Application Server (eWAS). TWS 9.x or DWC 9.x with the full version of WebSphere Application Server 8.5.x.

RESOLVING THE PROBLEM
Follow the instructions documented in WebSphere's Technote # 1116458:


MustGather: Performance, hang, or high CPU issues on AIX
http://www-01.ibm.com/support/docview.wss?rs=180&uid=swg21052641 [http://www-01.ibm.com/support/docview.wss?rs=180&uid=swg21052641]

*NOTE: Under this entry: 
The following instructions will help you setup the failing system for capturing required information 
.......
Follow instructions to Enable verbosegc for the failing application server [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21114927].

The documented instructions assume that the WebSphere Administration Console is available. In TWS v8.3 the Embedded WebSphere does not come with a console, so the following steps must be taken to enable verbose garbage collection:

To enable Verbose garbage collection for an Embedded WebSphere Application Server for TWS v8.3 (which is out of support as of September 2012), modify the file: <TWSHOME>/appserver/profiles/twsprofile/config/cells/DefaultNode/nodes/DefaultNode/servers/server1/server.xml

NOTE: Prior to making any modification to the file server.xml be sure to create a backup of that file as it is critical to WebSphere.

The very last line of the file looks like this:

<jvmEntries xmi:id="JavaVirtualMachine_1103121568234" verboseModeClass="false" verboseModeGarbageCollection="false" verboseModeJNI="false" initialHeapSize="16" maximumHeapSize="512" runHProf="false" hprofArguments="" debugMode="false" debugArgs="-Djava.compiler=NONE -Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=7777" genericJvmArguments=""/>

Change the property verboseModeGarbageCollection="false" to verboseModeGarbageCollection="true"

Stop and restart WebSphere.

Performance, hang, or high CPU MustGather links for additional operating systems:

Windows: http://www-01.ibm.com/support/docview.wss?uid=swg21111364 [http://www-01.ibm.com/support/docview.wss?uid=swg21111364]
Solaris: http://www-01.ibm.com/support/docview.wss?uid=swg21115625 [http://www-01.ibm.com/support/docview.wss?uid=swg21115625]
HP-UX: http://www-01.ibm.com/support/docview.wss?uid=swg21127574 [http://www-01.ibm.com/support/docview.wss?uid=swg21127574]
Linux: http://www-01.ibm.com/support/docview.wss?uid=swg21115785 [http://www-01.ibm.com/support/docview.wss?uid=swg21115785]

 

PRODUCT ALIAS/SYNONYM
 Maestro
TWS
IWS
TWA