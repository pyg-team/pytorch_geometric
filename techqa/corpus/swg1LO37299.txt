Title: IBM LO37299: ENCLOSING LARGE PDF ATTACHMENTS CAUSES HIGH MEMORY USAGE/OUT-OF-MEMORY ERROR IN WEBFORM SERVER - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  PROBLEM DESCRIPTION
   =================== =
   When attaching a large attachment, there are times when it takes
   longer and seems to consume a lot of memory.  In some cases, it
   would cause a crash that produces a javacore and heapdump file.
   
   
   Java core file with thread causing crash:
   
   "WebContainer : 13" (TID:0x2680D900, sys_thread_t:0x24ED4750,
   state:R, native ID:0x00000CBC) prio=5
       at
   java/lang/StringBuffer.ensureCapacityImpl(StringBuffer.java:386(
   Compiled Code))
       at
   java/lang/StringBuffer.append(StringBuffer.java:232(Compiled
   Code))
       at
   org/apache/xerces/dom/DeferredDocumentImpl.getNodeValueString(By
   tecode PC:212(Compiled Code))
       at
   org/apache/xerces/dom/DeferredDocumentImpl.getNodeValueString(By
   tecode PC:3(Compiled Code))
       at
   org/apache/xerces/dom/DeferredTextImpl.synchronizeData(Bytecode
   PC:3(Compiled Code))
       at
   org/apache/xerces/dom/CharacterDataImpl.getNodeValue(Bytecode
   PC:8(Compiled Code))
       at
   org/apache/xalan/xsltc/trax/DOM2SAX.parse(DOM2SAX.java:309(Compi
   led Code))
       at
   org/apache/xalan/xsltc/trax/DOM2SAX.parse(DOM2SAX.java:289(Compi
   led Code))
       at
   org/apache/xalan/xsltc/trax/DOM2SAX.parse(DOM2SAX.java:289(Compi
   led Code))
       at
   org/apache/xalan/xsltc/trax/DOM2SAX.parse(DOM2SAX.java:289(Compi
   led Code))
       at
   org/apache/xalan/xsltc/trax/DOM2SAX.parse(DOM2SAX.java:289(Compi
   led Code))
       at
   org/apache/xalan/xsltc/trax/DOM2SAX.parse(DOM2SAX.java:210(Compi
   led Code))
       at
   org/apache/xalan/xsltc/trax/DOM2SAX.parse(DOM2SAX.java:161)
       at
   org/apache/xalan/xsltc/dom/XSLTCDTMManager.getDTM(XSLTCDTMManage
   r.java:303(Compiled Code))
       at
   org/apache/xalan/xsltc/dom/XSLTCDTMManager.getDTM(XSLTCDTMManage
   r.java:229)
       at
   org/apache/xalan/xsltc/trax/TransformerImpl.getDOM(TransformerIm
   pl.java:484)
       at
   org/apache/xalan/xsltc/trax/TransformerImpl.transform(Transforme
   rImpl.java:652)
       at
   org/apache/xalan/xsltc/trax/TransformerImpl.transform(Transforme
   rImpl.java:316)
       at
   com/ibm/form/webform/xslt/XSLT4JProcessor.process(XSLT4JProcesso
   r.java:87)
       at
   com/ibm/form/webform/translator/Translator.createHTML(Translator
   .java:3718)
   
   
   In the browser you will receive a HTTP 500 error and the
   Webforms Server Translator will crash.
   
   
   PRODUCTS AFFECTED:
   ====================
   Lotus Forms Webform Server 3.0.1 & 3.5
   
   
    
   
   

LOCAL FIX
 *  TEMPORARY FIX / WORKAROUND
   ============================
   There is no work around for this issue and upgrade is required.
   Contact Lotus Forms Support for the required fix.
   
   
    
   
   

PROBLEM SUMMARY
 *  Adding large attachments to a form would cause a javacore.  The
   attachment mimedata was previously being placed into the heap
   which would fill it up causing the crash.
   
   This issue has been resolved in 3.5.1.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX
 *  N/A
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   LO37299
   
   
 * REPORTED COMPONENT NAME
   LOTUS FORMS SER
   
   
 * REPORTED COMPONENT ID
   5724N0800
   
   
 * REPORTED RELEASE
   301
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-02-02
   
   
 * CLOSED DATE
   2009-06-30
   
   
 * LAST MODIFIED DATE
   2009-06-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R350 PSN
   UP