Title: IBM Deleted Community Library Document Cleanup - United States

Text:
Quickr; CCM; migration; migrate; disk space TECHNOTE (TROUBLESHOOTING)

PROBLEM
When you delete a community library, or an entire community and its associated FileNet ClbTeamSpace, the documents that were uploaded to the library do not get removed from the {ConnectionsInstallDir}/data/shared/ccm/content directory.

CAUSE
In one case a customer was unable to complete a second attempt at a Quickr to Connections migration because they ran out of disk space. They had deleted the communities and ClbTeamSpaces from the first migration attempt, but the library documents were still there and were being duplicated. This caused excess usage of disk space.

DIAGNOSING THE PROBLEM
On the first migration attempt, more places were migrated than on the second attempt, and there was no disk space issue. When it was discovered that deleting a community and its ClbTeamSpace does not remove the community's library documents from the OS, it was assumed that duplication was occurring during the second migration and causing excess disk space usage.

RESOLVING THE PROBLEM
The customer deleted the communities and ClbTeamSpaces that were created during the second migration attempt. They then cleaned up disk space by deleting the orphaned library documents from the ICObjectStore under Browse > Unfiled Documents within the ACCE client. 

Additional workaround steps the customer can follow:

1) Login to ACCE
2) Navigate to ICObjectStore
3) Click Search (In ICObjectStore)
4) Click New ObjectStore Search button
5) In Simple View for Class Select Teamspace
6) In Criteria Column A Select Teamspace State
7) Condition Equal To
8) Value 2

Then Click Run.

Search Results should show the list of Libraries that are marked for Delete. Select the Libraries from Search Results. Run Actions->Batch Operations. It should show the Actions that can be run on selected Libraries. Select Delete and Click OK.

If any of the Libraries fail to delete, remove any folders within them. Manually deleting the folders maybe necessary before the teamspace can be deleted.