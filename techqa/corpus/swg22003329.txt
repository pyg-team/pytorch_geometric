Title: IBM File name with $ does not work with wildcard as remote file pattern - United States

Text:
IBM; SFTP; Sterling Integrator; SSH TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 In IBM Sterling B2B Integrator (SBI) SFTP Client GET service, if file name contains $ and remote file pattern specified as wildcard then the SFTP Client GET Service stuck with status "Waiting_on_IO" for long time but works fine with single file. 

SYMPTOM
The sftpclient.log contains below error: 

org.w3c.dom.DOMException: INVALID_CHARACTER_ERR: An invalid or illegal XML character is specified.


DIAGNOSING THE PROBLEM
While collecting multiple files using SFTP Client GET Service, with files do not have "$" in file name, it collects them successfully and the process data looks like below:

<SFTPClientGetServiceResults>
<ServiceStartTime>2016-07-27 11:00:19.536</ServiceStartTime>
<NAME1.txt SCIObjectID="4719941562ad1aa12node1"/>
<NAME2.txt SCIObjectID="7919951562ad1aa12node1"/>
<NAME3.txt SCIObjectID="7419961562ad1aa12node1"/>
<NAME4.txt SCIObjectID="7519971562ad1aa12node1"/>

When observing the process data above, the BP created the XML element name with file name, and since there is no $ in the filename it could create it successfully. 

However, when trying to collect multiple files using SFT GET Service, and filenames having $ (or any other special character which is not allowed in XML element name) , the BP tries to create XML element in process data with filename. Since in this case filename has $, it does not allow usage of "$" while creating XML element.

<SFTPClientGetServiceResults>
<ServiceStartTime>2016-07-26 19:42:08.559</ServiceStartTime>
</SFTPClientGetServiceResults>

While collecting single file where filename contains "$" it is successfully collected because this time BP makes this document as primary document and process data looks like below:

<SFTPClientGetServiceResults>
<ServiceStartTime>2016-07-27 11:04:44.459</ServiceStartTime>
<PrimaryDocument SCIObjectID="2650031562ad1aa12node1"/>
<Status>0</Status>
<ServerResponse>


RESOLVING THE PROBLEM
This is working as per current product design. As a work around, use SFTP Client GET Service in a loop and get files one by one.