Title: IBM Warehouse Proxy Agent fails to connect to DB2 Database after restarting the agent - United States

Text:
warehouse;db2;connection;fails TROUBLESHOOTING

PROBLEM
After restarting the warehouse proxy agent, the agent fails to connect to the database on the first attempt, on next attempt, the connection to the warehouse DB2 database is successful.

SYMPTOM
Warehouse proxy agent log contains the following error

+5B4F8961.0007 ERROR MESSAGE: "com.tivoli.twh.khd.KHDException: getDbConnection Error :

+5B4F8961.0007 at com.tivoli.twh.khd.khdxjdbc.getDbConnection(khdxjdbc.java:316)

+5B4F8961.0007 Caused by: com.ibm.db2.jcc.am.DisconnectNonTransientConnectionException:
[jcc][t4][2043][11550][3.69.66] Exception java.net.ConnectException: Error opening socket to server
host.com/0.0.0.0 on port 50,095 with message: Connection refused. ERRORCODE=-4499, SQLSTATE=08001

CAUSE
SLOW DNS Lookup

RESOLVING THE PROBLEM
After re-configuring the warehouse proxy agent, switched JDBC URL to include IP address of DB2 server instead of the hostname, the warehouse proxy agent connected to the warehouse database on the first attempt.

HISTORICAL NUMBER
TS001158108