Title: IBM PI59010: CWWKC2259E "UNEXPECTED CHILD ELEMENT DEFAULTDATASOURCE" IN LIBERTY FOR EJB 2.1 - United States

Text:
z/os  FIXES ARE AVAILABLE
16.0.0.2: WebSphere Application Server Liberty 16.0.0.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24042163]
16.0.0.3: WebSphere Application Server Liberty 16.0.0.3 [http://www-01.ibm.com/support/docview.wss?uid=swg24042657]
16.0.0.4: WebSphere Application Server Liberty 16.0.0.4 [http://www-01.ibm.com/support/docview.wss?uid=swg24042990]
17.0.0.1: WebSphere Application Server Liberty 17.0.0.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24043339]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Liberty profile V8.5.5.6 is shipped with full EJB 3.2support
   which includes support for EJB 2.x session beans along
   with the XMI binding and extension file support. When
   adding an EAR containing an EJB2.1 module with
   a Stateless Session bean that has a runAs
   configuration, the Liberty profile server
   throws the following exception:
   CWWKC2259E: Unexpected child element defaultDatasource of
   parent element EJBJarBinding encountered in the
   /META-INF/ibm-ejb-jar-bnd.xmi
   deployment descriptor on line 3.
   
   
    
   
   

LOCAL FIX
 *  Remove defaultDatasource from ibm-ejb-jar-bnd.xmi.
   Also, if the following exist,  remove them from
   ibm-ejb-jar-bnd.xmi :
        cmpConnectionFactory,
        defaultCMPConnectionFactory
        currentBackendId
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server Liberty Profile                      *
   ****************************************************************
   * PROBLEM DESCRIPTION: CWWKC2259E: Unexpected child element    *
   *                      defaultDatasource of parent element     *
   *                      EJBJarBinding encountered in the /META- *
   *                      INF/ibm-ejb-jar-bnd.xmi deployment      *
   *                      descriptor                              *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The parsing of the child element <defaultDatasource> of
   <EJBJarBinding> was not being handeled in the /META-INF/ibm-ejb-
   jar-ext.xmi deployment descriptor.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code handling parsing of the ibm-ejb-jar-ext.xmi deployment
   descriptor has been updated to handle the child element
   <defaultDatasource>
   
   The fix for this APAR is currently targeted for inclusion in fix
   pack 16.0.0.2.  Please refer to the Recommended Updates page for
   delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX
 *  Removing any <defaultDatasource> child elements of the
   <EJBJarBinding> element from /META-INF/ibm-ejb-jar-ext.xmi
   deployment descriptor will remove the error.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI59010
   
   
 * REPORTED COMPONENT NAME
   LIBERTY PROF -
   
   
 * REPORTED COMPONENT ID
   5655W6514
   
   
 * REPORTED RELEASE
   850
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-03-11
   
   
 * CLOSED DATE
   2016-04-12
   
   
 * LAST MODIFIED DATE
   2016-06-13
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LIBERTY PROF -
   
   
 * FIXED COMPONENT ID
   5655W6514
   
   

APPLICABLE COMPONENT LEVELS
 * R850 PSY
   UP