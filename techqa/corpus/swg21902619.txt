Title: IBM iNotes user can not login after Microsoft AD use 100% CPU - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM
In one case, Domino iNotes users depend on Microsoft AD LDAP server for web authentication through Domino Directory Assistance. 

They have a few Microsoft AD servers as LDAP server with F5 doing load balance. So all Domino DA entries point to one fixed IP of LDAP server.

In Domino DA, "st" is set in "attribute to be used as Notes distinguished name". 
[/support/docview.wss?uid=swg21902619&aid=1] [/support/docview.wss?uid=swg21902619&aid=1]
And in each user record of Microsoft AD, "state" field is filled with user's Notes distinguished name. 

Problem:
The AD servers has 100% CPU usage issue intermittently, and we can see below error in Domino console:
1.Directory Assistance is reloading internal tables due to change in LDAP server [192.168.1.1] in domain xxx received error: Timed out. 
2.Error attempting to access the Directory *[192.168.1.1]:389 (no available alternatives), error is LDAP Server is NOT available. 
3.Directory Assistance is reloading internal tables due to change in LDAP server [192.168.1.1] in domain xxx received error: Can't contact LDAP server.
4.Unable to bind to LDAP Server [192.168.1.1].

Then iNotes user can not login. Even AD CPU is recovered, iNotes user still can not login. 
"show xdir reload" shows correct output but can not resolve the problem. iNotes user can only login after Domino HTTP restarted. But the issue will appear again when AD CPU is too high.


RESOLVING THE PROBLEM
The issue is resolved by creating index in "st" (state) column on Microsoft AD server.