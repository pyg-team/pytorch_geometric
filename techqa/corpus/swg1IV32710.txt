Title: IBM IV32710: INSTALL FAILS WHEN INSTALLING SYSTEM MONITOR AGENT INTO A DIRECTORY WITH A SPECIAL CHARACTER OR SPACE. - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Monitoring 6.3.0 Fix Pack 3 (6.3.0-TIV-ITM-FP0003) [http://www-01.ibm.com/support/docview.wss?uid=swg24036775]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  APAR Type: Internal
   
   Approver: JM
   Severity: 3
   Reported Release: 623
   Compid:  5608A41CI Distributed Installer
   Abstract: Install fails when installing System Monitor Agent
   into a directory with a special character or space. Install
   fails if the PATH variable contains a special character or
   space.
   Environment:
     Windows System Monitor Agent
   Problem Description:
     Install fails if the System Monitor Agent is installed into a
     directory that contains a space or special character. In the
     PMR C:\Program Files (x86) was used. The PATH variable is not
     processed properly if the path contains a space. This happens
     whether the install directory contains a space or the PATH
     variable has a segment that contains a space. Uninstall may
   also
     fail if something is added after ITM that places an entry in
   the PATH that contains a space or special character.
   
   Recreate Instructions:
     Install into C:\Program Files (x86)\IBM\ITM or have other
     software that sets the PATH with a segment that contains a
     space. Either causes the code to fail.
   Local Fix:
     Save the existing PATH variable as PATHX then provide a
     temporary path of C:\Windows;C:\Windows\system32. Once set
     install the System Monitor Agent. When complete take the value
     after the above and add it to the saved system path. Reset the
     PATH variable to the new PATH variable. Same local fix may
     have to be used to uninstall the System Monitor Agent.
   After APAR is created, please email or ST me the number.
   I have not tested the workaround, but I believe it will work
   because it
   eliminates the problem of the special character or blank.
   ----------------------------------------------------------------
   Additional notes:
   When it failed, the install directory was left at the default
   value of:
     Install Directory=c:\IBM\ITM
   
   I tested this on multiple Windows machines and the only one it
   failed on was Windows Server 2008 R2 64 bit.
   
   
    
   
   

LOCAL FIX
 *  Save the existing PATH variable as PATHX then provide a
   temporary path of C:\Windows;C:\Windows\system32. Once set
   install the System Monitor Agent. When complete take the value
   after the above and add it to the saved system path. Reset the
   PATH variable to the new PATH variable. Same local fix may
   have to be used to uninstall the System Monitor Agent.
   
   
    
   
   

PROBLEM SUMMARY
 *  System Monitor Agent installation fails on Windows if a space
   character is found in the system environment PATH variable.
   
   
   On Windows, any of the following conditions will cause the
   System Monitor Agent installation to fail:  A space character
   anywhere in the system environment PATH variable; a space
   character in the TEMP directory value; or a space character in
   the target path directory when short path generation has been
   disabled on the target machine.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The above conditions are permanent restrictions for the System
   Monitor Agent.  The code now will diagnose these conditions and
   abort the installation.
   
   The fix for this APAR is contained in the following maintenance
   packages:
   | fix pack | 6.3.0-TIV-ITM-FP0003
   
   
    
   
   

TEMPORARY FIX
 *  If a space character is detected in the system environment PATH
   variable, remove the value temporarily in the Command Prompt
   window from which the System Monitor Agent installation is
   launched.  If the TEMP directory contains a space character, use
    C:\TEMP as a temporary TEMP and TMP variable setting.  Make
   sure the C:\TEMP directory exists.  Once the System Monitor
   Agent is installed the TEMP and TMP system environment variables
    can be reinstated to their original values.  If the target
   directory contains a space character and short path generation
   has been disabled, choose another directory, or use fsutil to
   turn short path generation back on during the installation so
   short paths can be generated and re-run the install.  If an
   existing directory is being used, fsutil can be used to create a
    short path for any existing directory as long as short name
   generation is supported on the target drive.  If short path
   generation is changed, be sure to reinstate it to its original
   value once the installation completes.
   NOTE: Each change that uses the fsutil command may require a
   reboot to activate the change.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV32710
   
   
 * REPORTED COMPONENT NAME
   OMEG DIST INSTA
   
   
 * REPORTED COMPONENT ID
   5608A41CI
   
   
 * REPORTED RELEASE
   623
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-11-28
   
   
 * CLOSED DATE
   2014-01-31
   
   
 * LAST MODIFIED DATE
   2014-08-08
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OMEG DIST INSTA
   
   
 * FIXED COMPONENT ID
   5608A41CI
   
   

APPLICABLE COMPONENT LEVELS
 * R630 PSY
   UP