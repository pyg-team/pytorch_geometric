Title: IBM Information Server 8.5 installation fails with error - ADMN0022E: Access is denied for the installApplication operation on AppManagement MBean because of insufficient or empty credentials - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When installing Information Server 8.5 in a standalone or cluster configuration with pre-installed WAS the following error occurs: ADMN0022E: Access is denied for the installApplication operation on AppManagement MBean because of insufficient or empty credentials. 

CAUSE
This error occurs when trying to install Information Server to a WebSphere profile which had Global Security enabled at one time and then disabled via the WebSphere Integrated Solutions (Administration) Console. In WebSphere 6.1 and later versions supported by Information Server 8.5, if the profile for Information Server is created with security enabled or security is enabled via the WebSphere Integrated Solutions Console, and then Administrative Security is later disabled via the WebSphere Integrated Solutions Console in preparation for installing Information Server, the security settings for the profile are not left in a state that allows for successful Information Server installation. The Information Server installation program requires Administrative Security to be disabled but needs Application Security enabled. This is the default state when creating the profile with security disabled. However, it is not possible to set this state via the WebSphere Integrated Solutions Console. Thus, if security is ever enabled for the profile before installation of Information Server, you must now manually set the security settings for the profile to the required state before attempting to install Information Server 8.5.

DIAGNOSING THE PROBLEM
Check for the following error message in the Information Server installation log file located under <informationserver_install_dir>\logs directory: 

2011-06-22T14:00:33.724, INFO: CDIIN4480I:Begin: [actionId = deploy.asb_prs.service, installUnitId = ISFServer]
2011-06-22T14:00:33.726, INFO: CDIIN2753I:Command Array: /bin/sh /opt/IBM/InformationServer/ASBServer/bin/ServiceAdmin.sh -deploy /opt/IBM/InformationServer/ASBServer/apps/deploy/ASB_PRS.ear -user isadmin -password ********, env = null, workingDir =/opt/IBM/InformationServer/ASBServer/bin
2011-06-22T14:00:57.447, WARNING: com.ibm.is.install.core.CommonProcess Exit Code: 7, Info: *** Exception::ASB_admin_client:com.ascential.asb.admin.service.tools::Code(7), Message=com.ascential.asb.manager.deployment.DeploymentException: com.ascential.asb.manager.service.ServiceManagerException: Deployment failed:
...
Caused by: javax.management.JMRuntimeException: ADMN0022E: Access is denied for the installApplication operation on AppManagement MBean because of insufficient or empty credentials.
...


RESOLVING THE PROBLEM
Information Server 8.5 - Non-Clustered configuration: 


1. Stop the WebSphere application server 
2. Make a backup copy of the security.xml file under the directory <WebSphere_install_dir>/AppServer/profiles/<profile_name>/config/cells/<cell_name>
3. Manually edit the security.xml file:
in the first XML element of the file (security:Security), find the following attributes and set the values as follows:
- enabled=”false”
- appEnabled="true"
4. Save the file
5. Start up the application server


Information Server 8.5 Clustered configuration:

1. Stop the WebSphere cluster, node agents and deployment manager
2. Make a backup copy of the security.xml file under the directory <WebSphere_install_dir>/AppServer/profiles/<DeploymentManagerProfile>/config/cells/<cell_name>
3. Manually edit the security.xml file:
in the first XML element of the file (security:Security), find the following attributes and set the values as follows:
- enabled=”false”
- appEnabled="true"
4. Save the file
5. Start the deployment manager and node agents
6. Start the cluster


Finally, click "Retry" on the Install Screen if the install is still paused at the error. Otherwise, restart the installation.