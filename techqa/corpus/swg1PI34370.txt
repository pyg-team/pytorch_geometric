Title: IBM PI34370: The CICS TG resource adapter does not allow different user IDs t o reuse a connection factory. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When the cicseci resource adapter was used to make an ECI
   request, which was enlisted with last participant support in a
   global transaction, the following message was written to the
   WAS trace. WTRN0062E: An illegal attempt to use multiple
   resources that have only one-phase capability has occurred
   within a global transaction.
   Additional search words: WTRN0062 msgWTRN0062E msgWTRN0062E
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of CICS TG ECI resource adapter.   *
   ****************************************************************
   * PROBLEM DESCRIPTION: When the cicseci resource adapter was   *
   *                      used to make an ECI request, which was  *
   *                      enlisted with last participant          *
   *                      support in a global transaction, the    *
   *                      following message was written to the    *
   *                      WAS trace.                              *
   *                      WTRN0062E: An illegal attempt to use    *
   *                      multiple resources that have only       *
   *                      one-phase capability has occurred       *
   *                      within a global transaction.            *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When using the CICS TG ECI resource adapter as the last
   participant in a global transaction, the JEE server might
   attempt to reuse cached user ID information to determine whether
   a connection can be reused. If the connection was created for a
   different user ID (flowed in an ECI request) the JEE server
   might attempt to use a new connection rather than reusing the
   existing one, resulting in the reported message.
   
   
    
   
   

PROBLEM CONCLUSION
 *  CICS TG has been changed so that the user ID cached in the
   connection details does not prevent a connection being reused.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI34370
   
   
 * REPORTED COMPONENT NAME
   CTG V9 FOR Z/OS
   
   
 * REPORTED COMPONENT ID
   5655Y2000
   
   
 * REPORTED RELEASE
   900
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-02-06
   
   
 * CLOSED DATE
   2015-02-10
   
   
 * LAST MODIFIED DATE
   2015-03-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PI34369 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI34369]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI25069 UI25070
   
   

MODULES/MACROS
 *  CTG00204 CTG00974
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CTG V9 FOR Z/OS
   
   
 * FIXED COMPONENT ID
   5655Y2000
   
   

APPLICABLE COMPONENT LEVELS
 * R900 PSY UI25069 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI25069]
   UP15/02/25 P F502
   
   
 * R910 PSY UI25070 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI25070]
   UP15/02/25 P F502
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.