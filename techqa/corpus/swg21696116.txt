Title: IBM Inconsistency in naming of SQL agent collector - United States

Text:
upgrade collector koqcoll koqcoll0 cluster IV61191 renamed install installation upgrading TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 SQL agent collector is named differently on cluster nodes 

SYMPTOM
In the Windows Cluster Administrator, the SQL agent collector can sometimes fail to be added to the cluster services because the service name is different on both cluster nodes.


CAUSE
While upgrading the SQL agent from version 6.2.3 (or lower) to version 6.3.1, the collector service name will be renamed. The service name will no longer be called KOQCOLL0 but will now be KOQCOLL_<instance name>. In case the upgrade didn't finish as expected, for example an agent or collector process that refused to stop (APAR IV61191 could contribute to this), could prevent the collector service to be renamed, and the service name would still be called KOQCOLL0 instead of KOQCOLL_<instance name>.

ENVIRONMENT
SQL agent 6.3.1

DIAGNOSING THE PROBLEM
Check the Windows Services applet, and verify the service name of the SQL agent collector: is it KOQCOLL0 or KOQCOLL_<instance name>?

RESOLVING THE PROBLEM
Remove the SQL agent instance through 'Manage Tivoli Enterprise Monitoring Services':





1° double-click the 'Monitoring Agent for Microsoft SQL Server' agent template 

2° move the monitored server instance from left ('Server to Monitor') to right ('Database Servers Available') by clicking on the >> button . Click on 'OK'.
[/support/docview.wss?uid=swg21696116&aid=1] [/support/docview.wss?uid=swg21696116&aid=1] 

 

3° double-click the 'Monitoring Agent for Microsoft SQL Server' agent template again 

4° move the monitored server instance from right ('Database Servers Available') to left ('Server to Monitor') by clicking on the << button. Click on 'OK'.
[/support/docview.wss?uid=swg21696116&aid=2] [/support/docview.wss?uid=swg21696116&aid=2]

You will be asked to enter the configuration parameters.

5° restart the SQL agent instance

After that, the collector service name will be renamed to KOQCOLL_<instance name>, in this case KOQCOLL_SQLEXPRESS
[/support/docview.wss?uid=swg21696116&amp;aid=3]

 

PRODUCT ALIAS/SYNONYM
 itm itcam sql agent