Title: IBM IC53819: "MQ JAVA/JMS APPLICATION GIVES A PEER NAME MISMATCH ERROR WHEN THE EXIT-LIST LENGTH IS GREATER THAN 8" - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V6.0 Fix Pack 6.0.2.4 [http://www-01.ibm.com/support/docview.wss?uid=swg24019276]
WebSphere MQ 6.0 for HP OpenVMS Alpha and Itanium - Fix Pack 6.0.2.7 [http://www-01.ibm.com/support/docview.wss?uid=swg24027266]
WebSphere MQ 6.0 for HP OpenVMS Alpha and Itanium - Fix Pack 6.0.2.10 (FP03) [http://www-01.ibm.com/support/docview.wss?uid=swg24029987]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  An MQRC_SSL_PEER_NAME_ERROR (MQRC 2399) is observed when a
   Websphere MQ Java/JMS client application tries to connect to a
   Queue Manager using a Client Channel Definition Table (CCDT)
   that matches the following criteria:
   
   1. The CCDT was generated by a Queue Manager on either Windows
   or a distributed UNIX platform, and has an exit-list length
   greater than 8.
   
   2. The CCDT was generated by a z/OS Queue Manager, and has an
   exit-list configured (of any size).
   
   
    
   
   

LOCAL FIX
 *  na
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   This APAR affects:
   1. All users of WebSphere MQ v6 on distributed platforms who try
   connecting to a Queue Manager using a CCDT that contains a
   channel entry which has an exit-list configured with more than 8
   entries.
   2. All users of WebSphere MQ v6 on z/OS who try connecting to a
   Queue Manager using a CCDT that contains a channel entry
   configured to use an exit-list.
   
   Platforms affected:
    All Distributed (iSeries, all Unix and Windows) +Java
   ****************************************************************
   PROBLEM SUMMARY:
   WebSphere MQ on distributed UNIX and Windows platforms appends
   two padding bytes between the exit-list and the SSLpeername
   fields in the CCDT when the exit-list length is less than 8. If
   the exit-list length is greater than 8, no padding bytes are
   added. On z/OS, two padding bytes are always appended between
   the exit-list and the SSLpeername field, irrespective of the
   exit-list length.
   
   When parsing a CCDT, the WebSphere MQ Java/JMS Client always
   skips two bytes of data after reading the exit-list, and then
   expects to find the SSLpeername field. When the 2 padding bytes
   are not present, the Client erroneously reads the SSLpeername
   field, and throws an MQRC 2399 while attempting to create a SSL
   connection to the Queue Manager.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The WebSphere MQ Java/JMS client code has now been changed to
   correctly extract the SSL information from the CCDT irrespective
   of the amount of padding present between the exit-list and the
   SSLpeername fields.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
                      v6.0
   Platform           Fix Pack 6.0.2.4
   --------           --------------------
   Windows            U200290
   AIX                U814256
   HP-UX (PA-RISC)    U814152
   HP-UX (Itanium)    U814342
   Solaris (SPARC)    U814337
   Solaris (x86-64)   U814343
   iSeries            SI31813
   Linux (x86)        U814336
   Linux (x86-64)     U814341
   Linux (zSeries)    U814338
   Linux (Power)      U814339
   Linux (s390x)      U814340
   
   The latest available maintenance can be obtained from
   'Websphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'Websphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC53819
   
   
 * REPORTED COMPONENT NAME
   WMQ WINDOWS V6
   
   
 * REPORTED COMPONENT ID
   5724H7200
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-09-18
   
   
 * CLOSED DATE
   2007-10-31
   
   
 * LAST MODIFIED DATE
   2009-01-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ WINDOWS V6
   
   
 * FIXED COMPONENT ID
   5724H7200
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSY
   UP