Title: IBM IV55714: PMS ARE GENERATING WITH TARGET START/TARGET FINISH WITH MILLISECONDS DEFINED - United States

Text:
 
APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Tested on 7.5.0.5-IFIX20140108-2152
   
   Steps to replicate:
   
   Create a PM Record
   Fill in the Work Type and Location
   On the Frequency Tab enter 1 Day and the Estimated Due Date for
   today
   02/12/14
   Save
   On the Seasonal Dates  tab
   I have 12:00 AM for the PM.TARGSTARTTIME ( default in the
   Database)
   Change status to Active
   Generate Workorder
   Go to the Workorder Application
   Go to Advanced Search Dialog and fill in
   Target Start field and Target Finish
   2/12/14 12:00 AM for both FROM and TO and click Find
   
   You will get the following System Message
   
    BMXAA4186E - No records were found that match the specified
   query.
   Check that the value you are searching for was entered correctly
   
   In the Where Clause:
   
   (targcompdate >= { ts '2014-02-12 00:00:00.000' } and
   targstartdate <=
   { ts '2014-02-12 00:00:00.000' } and siteid = 'BEDFORD' and
   targstartdate >= { ts '2014-02-12 00:00:00.000' } and
   targcompdate <= {
   ts '2014-02-12 00:00:00.000' } and wonum like '%1205%')
   
   Because Target Start on the PM is set to midnight (without any
   milliseconds), the PM WOGEN process shouldn't include
   millseconds when
   it sets the target start/target finish otherwise searches like
   this
   will fail.
   
   Run a query on the Database and you will notice that there are
   Miliseconds
   
   select targstartdate, targcompdate from workorder where
   wonum='xxx' and
   siteid='yyy';
   
   The following will be specified on the Database ( we cannot see
   the
   miliseconds in Maximo, example below;
   
   2014-02-12 00:00:00.817
   
    This has been the same since 71XX and i can reproduce on 7505
   and 7506
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Maximo users of PM work order generation                     *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * PMs are generating with milliseconds on the targstartdate    *
   * and targcompdate fields on Work Orders. This causes a        *
   * problem searching using the calendar control in Work Order   *
   * Tracking.                                                    *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Apply latest fix pack.                                       *
   ****************************************************************
   Steps to replicate:
   
   1 Create a PM Record
   2 Fill in the Work Type and Location
   3 On the Frequency Tab enter 1 Day and the Estimated Due Date
   for today 02/12/14
   4 Save
   5 On the Seasonal Dates  tab I have 12:00 AM for the
   PM.TARGSTARTTIME ( default in the Database)
   6 Change status to Active
   7 Generate Workorder
   8 Go to the Workorder Application
   9 Go to Advanced Search Dialog and fill in Target Start field
   and Target Finish 2/12/14 12:00 AM for both FROM and TO.
   10 Click Find
   
      You will get the following System Message:
      BMXAA4186E - No records were found that match the specified
   query. Check that the value you are searching for was entered
   correctly
   
   11 Note the Where Clause accessed by the dropdown arrow to the
   right of the Advanced Search button:
   (targcompdate >= { ts '2014-02-12 00:00:00.000' } and
   targstartdate <={ ts '2014-02-12 00:00:00.000' } and siteid =
   'BEDFORD' and
   targstartdate >= { ts '2014-02-12 00:00:00.000' } and
   targcompdate <= {ts '2014-02-12 00:00:00.000' } and wonum like
   '%1205%')
   ------------------------------------
   Because Target Start on the PM is set to midnight (without any
   milliseconds), the PM WOGEN process shouldn't include
   millseconds when it sets
   the target start/target finish otherwise searches like this will
   fail.
   
   If you run the following query on the Database and you will
   notice that there are non-zero milliseconds:
   
      select targstartdate, targcompdate from workorder where
   wonum='xxx' and siteid='yyy';
   
      The resulting dates include non-zero milliseconds ==>
   2014-02-12 00:00:00.817
   
   This has been the same since 71X and still occurs on 7505.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The millisecond portion of targstartdate and targcompdate on
   work orders generated from PMs will be zero.
   
   The fix for this APAR is contained in the following maintenance
   package:
   	| release\fix pack\interim fix for Release 7.1.1.13 of Base
   Services and Release 7.5.0.6 of Base Services
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV55714
   
   
 * REPORTED COMPONENT NAME
   WORK & MTRL APP
   
   
 * REPORTED COMPONENT ID
   TIVOWRKMM
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2014-02-20
   
   
 * CLOSED DATE
   2014-03-07
   
   
 * LAST MODIFIED DATE
   2014-03-07
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  MAXIMO
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WORK & MTRL APP
   
   
 * FIXED COMPONENT ID
   TIVOWRKMM
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP