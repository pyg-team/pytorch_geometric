Title: IBM Error 'Cannot set column 'bnrnamn'. The value violates the MaxLength limit of this column.' when trying to open Data Entry form - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User clicks "Company" - "Data Entry - Reported Values". User chooses a form, and clicks 'open'. User receives an error. 

SYMPTOM
Screen: 

Cognos 8 Controller
Unhandled exception has occurred in a component in your application. If you click Continue, the application will ignore this error and attempt to continue.

Cannot set column 'bnrnamn'. The value violates the MaxLength limit of this column.

[Details] [Continue]

Details:
************** Exception Text **************
System.Exception: Cannot set column 'bnrnamn'. The value violates the MaxLength limit of this column. ---> System.ArgumentException: Cannot set column 'bnrnamn'. The value violates the MaxLength limit of this column.
at System.Data.DataColumn.CheckMaxLength(DataRow dr)
at System.Data.DataTable.RaiseRowChanging(DataRowChangeEventArgs args, DataRow eRow, DataRowAction eAction, Boolean fireEvent)
at System.Data.DataTable.SetNewRecordWorker(DataRow row, Int32 proposedRecord, DataRowAction action, Boolean isInMerge, Int32 position, Boolean fireEvent, Exception& deferredException)
at System.Data.DataTable.SetNewRecord(DataRow row, Int32 proposedRecord, DataRowAction action, Boolean isInMerge, Boolean fireEvent)
at System.Data.DataRow.EndEdit()
at Cognos.Controller.ControllerForms.frmDataEntrySelection.RefreshFormPopup()
--- End of inner exception stack trace ---
at Cognos.Controller.ControllerForms.frmDataEntrySelection.RefreshFormPopup()
at Cognos.Controller.ControllerForms.frmDataEntrySelection.grdSelection_EnterCell(Object eventSender, EventArgs eventArgs)
at Cognos.Controller.Controls.ControllerFlexGrid.OnEnterCell(EventArgs e)
at C1.Win.C1FlexGrid.C1FlexGridBase.bb()
at C1.Win.C1FlexGrid.C1FlexGridBase.OnGridChanged(Object sender, GridChangedEventArgs e)
at C1.Win.C1FlexGrid.C1FlexGrid.OnGridChanged(Object sender, GridChangedEventArgs e)
at C1.Win.C1FlexGrid.v.a8(GridChangedTypeEnum A_0, Int32 A_1, Int32 A_2, Int32 A_3, Int32 A_4)
at C1.Win.C1FlexGrid.v.bm(GridChangedTypeEnum A_0)
at C1.Win.C1FlexGrid.g.c(C1FlexGridBase A_0, CellRange A_1, Boolean A_2)
at C1.Win.C1FlexGrid.C1FlexGridBase.Select(CellRange rg, Boolean show)
at C1.Win.C1FlexGrid.y.ad(MouseEventArgs A_0)
at C1.Win.C1FlexGrid.y.ah(MouseEventArgs A_0)
at C1.Win.C1FlexGrid.C1FlexGridBase.OnMouseDown(MouseEventArgs e)
at Cognos.Controller.Controls.ControllerFlexGrid.OnMouseDown(MouseEventArgs e)
at System.Windows.Forms.Control.WmMouseDown(Message& m, MouseButtons button, Int32 clicks)
at System.Windows.Forms.Control.WndProc(Message& m)
at C1.Win.C1FlexGrid.Util.BaseControls.ScrollableControl.WndProc(Message& m)
at System.Windows.Forms.Control.ControlNativeWindow.OnMessage(Message& m)
at System.Windows.Forms.Control.ControlNativeWindow.WndProc(Message& m)
at System.Windows.Forms.NativeWindow.Callback(IntPtr hWnd, Int32 msg, IntPtr wparam, IntPtr lparam)

************** Loaded Assemblies **************
mscorlib
Assembly Version: 2.0.0.0
Win32 Version: 2.0.50727.1873 (QFEN-1.050727-1800)
CodeBase: file:///c:/WINDOWS/Microsoft.NET/Framework/v2.0.50727/mscorlib.dll [file:///c:/WINDOWS/Microsoft.NET/Framework/v2.0.50727/mscorlib.dll]

Event Viewer (Application Log)
Event Type: Warning
Event Source: Cognos Controller
Event Category: None
Event ID: 0
Date: 07/10/2010
Time: 13:41:30
User: N/A
Computer: servername
Description:
Standard Error
Source: ControllerForms
Description: Cannot set column 'bnrnamn'. The value violates the MaxLength limit of this column.
at Cognos.Controller.ControllerForms.frmDataEntrySelection.ValidateUserParameters()
at Cognos.Controller.ControllerForms.frmDataEntrySelection.IForm_DoClick(Int32 lCmd, String& sTag)



CAUSE
Bug in third party (Oracle) 11G rel2 client software.



ENVIRONMENT
Controller application server has the original (unpatched) version (11.2.0.1.0) of the Oracle 11G release 2 client software installed on it.



RESOLVING THE PROBLEM
Patch the Oracle 11Gr2 client on the Controller application server, using Oracle patch #10100100. 

 * TIP: This is also known as "11.2.0.1.0 Patch 6 (11.2.0.1.6P) 32-bit"


Steps: 

See separate IBM Technote #1448885.


RELATED INFORMATION
#1361692 - How to install Oracle patchset 5473334 on Con [http://www.ibm.com/support/docview.wss?uid=swg21361692]
1448885 - "Standard Error 5 - (0x800A000D): Type mismat [http://www.ibm.com/support/docview.wss?uid=swg21448885]