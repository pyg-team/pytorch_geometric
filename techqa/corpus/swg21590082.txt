Title: IBM Migrating RuleApps - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How do I migrate the database that contains the RuleApps deployed to Rule Execution Server from one version to another? 

CAUSE
The data structure has undergone some refactoring between JRules V6.7 and V7.0. 

For instance, the RULESET_RESOURCES table for storing ruleset has been modified: in V6.7, the ruleset archive was split into several parts for storage but in V7.0 and later, it is stored as a CLOB. 

There is no change between V7.X versions. 

As a conclusion, you cannot reuse the Rule Execution Server V6.7 database tables directly with Rule Execution Server V7.1. 


ANSWER
If you are migrating between V7.X versions, you can reuse the Rule Execution Server database schema directly with the new version. 

 

If you are migrating from V6.X, you must proceed in two steps: 

 1. Set up a new Rule Execution Server database schema and create the Rule Execution Server V7.1 tables as explained in the documentation at WebSphere ILOG JRules BRMS V7.1: Java EE add-ons [http://publib.boulder.ibm.com/infocenter/brjrules/v7r1/topic/com.ibm.websphere.ilog.jrules.install.doc/Content/Business_Rules/Documentation/_pubskel/JRules_Application_Servers/ps_Installing_JRules_IC.html] > Installing on <your application server> > Installing Rule Execution Server > Installing Rule Execution Server on <your application server>. 
 2. Migrate the V6.7 RuleApps to Rule Execution Server V7.1 in one of the following ways:


Option 1 : Using Rule Execution Server Ant tasks  * Use the JRules V6.7 res-fetch-all Ant task to back up all your RuleApps to a single RuleApp archive. Or use the JRules 6.7 res-fetch Ant task to back up a specific RuleApp. 
 * Install and configure Rule Execution Server V7.1 according to the installation documentation [http://publib.boulder.ibm.com/infocenter/brjrules/v7r1/topic/com.ibm.websphere.ilog.jrules.install.doc/Content/Business_Rules/Documentation/_pubskel/JRules_Application_Servers/ps_Installing_JRules_IC.html] on your server and using the new database schema. 
 * Deploy the RuleApp archive to the new Rule Execution Server by running the JRules V7.1 res-deploy Ant task. 


Option 2: Using the Rule Execution Server management console  * From the Rule Execution Server V6.7 console, click the Server Info tab and click Backup RuleApps to back up all the deployed RuleApps. A JAR archive file containing all the RuleApps is generated. 
 * Install and configure Rule Execution Server V7.1 according to the installation documentation [http://publib.boulder.ibm.com/infocenter/brjrules/v7r1/topic/com.ibm.websphere.ilog.jrules.install.doc/Content/Business_Rules/Documentation/_pubskel/JRules_Application_Servers/ps_Installing_JRules_IC.html] on your server and using the new database schema. 
 * Access the Rule Execution Server V7.1 console, click the Server Info tab and click Restore RuleApps to restore the RuleApp.


If you are migrating from V7.1 to V7.5/V8.X, no ruleApp migration is needed, you can reuse the database. However, if you want to use the new managed XOM feature introduced in V7.5, you need to extend the database to include the XOM repository. You will do so either : 

 * through theInstallation Settings Wizard that you will be prompted when accessing the new Rule Execution Server console, 
 * or by running thexomrepository_<DatabaseName>.sqlscript found in directory <ODM_75/8X_installDir>/executionserver/databases on the existing database schema.


For more information on the managed XOM feature, see section Decision Server Rules V7.5 > Managing business rule execution in Rule Execution Server Deploying Java XOMs [http://publib.boulder.ibm.com/infocenter/dmanager/v7r5/topic/com.ibm.dserver.res/Content/Business_Rules/_pubskel/Infocenter_Primary/ps_DS_Rule_Execution_Server1500.html] of the documentation." RELATED INFORMATION
#Migrating between JRules/WODM versions [http://www.ibm.com/support/docview.wss?uid=swg21589725]
Migrating a Rule Project to JRules v7.0 and v7.1 [http://www.ibm.com/support/docview.wss?uid=swg21591800]
Migrating to Rule Team Server v7.0 and v7.1 [http://www.ibm.com/support/docview.wss?uid=swg21591798]


 


Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Decision Server Maintenance Platform Independent 7.5 All Editions