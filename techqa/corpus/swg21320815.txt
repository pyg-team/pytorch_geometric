Title: IBM Best practice for configuring default gateway on WebSphere DataPower device - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 What is the best practice for configuring a default gateway on a WebSphere DataPower SOA Appliance and will multiple default gateways improve routing? 

CAUSE
Note: The information in this technote was moved to dW Answers located here [https://developer.ibm.com/answers/questions/27222/what-is-best-practice-for-configuring-default-gateway-on-websphere-datapower-device/]. This format will allow you to ask questions about the information. This technote will be removed in the near future. Please bookmark the new location.
IBM WebSphere DataPower SOA Appliances allow you to configure default gateways with each of the four interfaces. If a default gateway is configured for an interface, then a default route is created. 
A default route is only used when a known route does not exists for a given destination address. 

In the case that:

a) outbound traffic does not match a known route and 
b) multiple default routes are configured

the appliance will randomly pick one of the interfaces with a default gateway configured.

This was designed to meet the requirements of having a robust appliance. 
The network administrator can choose to configure the device through the network requirement. 

When there are multiple default routes, routeA and routeB for instance, the device will choose routeA some times or routeB at other times. 

That may cause intermittent failure in connecting to other network destinations.


ANSWER
It is generally recommended to use one default gateway on the appliance and it should be chosen based on network design. To connect with other destinations/subnets outside of the network, then use static routes. 

For example, a network administrator could use a single default gateway to connect all internet-based servers and clients, then use a static route to Intranet servers which may include the back-end Application servers.

Using multiple default gateways will allow outbound traffic that doesn't match a specific route to have a random chance of using any of these configured default gateways even if the designated networks are different. 


On a related subject, should you choose the default gateway on interface eth0 or mgmt? 

Since all network interfaces available in a DataPower devices are the same, and one of the interfaces is named mgmtonly to help you distinguish from others, you can use any interface as a management port and you may use one or more DataPower network interfaces to route network traffic to/from the device.