Title: IBM Running MDM SE on a regionalized server can result in incorrectly parsed date values - United States

Text:
[KickstartTemplateField]mdmrnv114 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 MDM Standard Edition uses an ISO formatted date string to populate the datetime data type in SQL Server. However, the datetime data type format ignores the ISO standard YYYY-MM-DD hh:mm:ss[.mmm] format. Because of this datetime format constraint, using SQL Server on a regionalized operating system has the effect of modifying the formatting of dates to conform to that region. 

ENVIRONMENT
This issue occurs only when using MDM SE with SQL Server on a regionalized operating system.

RESOLVING THE PROBLEM
To resolve this issue, there are two options that you can take. 

 * Option 1. Set dateformat YMD 
 * Option 2. Set language 'language with YMD format'


While both options can solve the issue, there is a distinct difference between the two options. 

When setting only the dateformat (option 1), the database error messages will be in the localized language. MDM can return error messages in the selected language, but the log file is always in U.S. English. The error messages returned to users from MDM do not include the error text from the database server. MDM uses its own language-based file for the database error text. However, the error messages from the database server are written to the MDM log files for diagnostic use. The log files must remain in U.S. English. 

The best option to solve this issue is option 2, which keeps the log files in U.S. English. This option has no effect on the language of the data being stored in the database. In typical installations, all data is stored in Unicode which means that, regardless of the language selected for the database server, we can store multiple languages simultaneously. 

To change the date format using either method, you must add an initialization string that the ODBC/JDBC drivers will send to the server. This string tells the server what format MDM plans to send dates in and receive dates from the server. In the case of language, it also tells the server that MDM expects error text to be in that specified language. 

Make the following ODBC and JDBC changes on the application server (not the database server) to accomplish option 2. 

ODBC: 
On a Windows platform, the configuration of ODBC drivers is managed under the ODBC Administrator in the Administrator section of the Control panel. To add the initialization string:  1. Open up the ODBC Administrator and go to the "System DSN" tab. 
 2. Click the driver that is configured for MDM and then click the Configure button. This opens another panel. 
 3. Go to the "Advanced" tab and locate the "Initialization String" field. In this field, add the following text to modify both the error text language and the date format to be ISO compliant:
    set language us_english


JDBC: 
There are no configuration options for JDBC within Windows. Instead, the options are sent in by the application when the connection is established and MDM reads these properties from the JDBC configuration file. You must set the file options in two different locations: in the MDM installation directory and the application server directory. 

MDM installation directory:  1. Go to the INSTALL_HOME_DIR/mdm/conf directory. 
 2. Open the com.ibm.mdm.mds.jdbc.cfg file. 
 3. Add the following property: InitializationString=(set language us_english) 
 4. Save and close the file.


Application server directory:  1. Go to the WebSphere Application Server directory. For example: MDM_PROFILE_HOME\installedApps\<CELL_NAME>\MDM-native-<INSTANCE_NAME>.ear\native.war\conf\ 
 2. Open the com.ibm.mdm.mds.jdbc.cfg file. 
 3. Add the following property: InitializationString=(set language us_english) 
 4. Save and close the file.
    

RELATED INFORMATION
 Product documentation - Knowledge Center [http://www.ibm.com/support/knowledgecenter/SSWSR9_11.4.0]




Cross reference information Segment Product Component Platform Version Edition Information Management Initiate Master Data Service Information Management InfoSphere Master Data Management Server Information Management InfoSphere Master Data Management Server for Product Information Management