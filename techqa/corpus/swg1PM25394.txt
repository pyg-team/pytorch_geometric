Title: IBM PM25394: THE DOC CHANGE TO AX COMPLETION CODES FOR IMS TYPE 2 COMMANDS. - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  When the IMS TYPE 2 command UPD DB/AREA with OPTION(PFA) is
   issued, the command be routed to each IMS systems in the PLEX.
   The master IMS returned with Completed code A1 or A4 as below:
   .
   <rsp>DB(IVPDB2  ) MBR(IMSB    ) CC(  A1) CCTXT(DATABASE IS
   AUTHORIZED BY BATCH) </rsp>
   .
   <rsp>AREA(DBWTD801) MBR(BAVA    ) CC(  A4) CCTXT(NOT
   REGISTERED TO DBRC) </rsp>
   .
   The Completion Code (A1 or A4) are returned from the master
   IMS only as it attempted to set/reset the Prevent Further
   Authorization (FPA) flag in RECON.
   .
   The meaning of the Completion code A1 and A4 in IMS manual
   are not accurate as the commands are completed partially.
   The purpose of this APAR is to document the changes to the
   Ax Completion codes to IMS documentation.
   .
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All IMS V10 users of UPD DB commands.        *
   ****************************************************************
   * PROBLEM DESCRIPTION: When an UPD DB command with option PFA  *
   *                      (Prevent Further Authorization)         *
   *                      receives an Ax condition code the       *
   *                      PFA option completes successfully.      *
   ****************************************************************
   * RECOMMENDATION: INSTALL CORRECTIVE SERVICE FOR APAR/PTF      *
   ****************************************************************
   When an Ax Completion code is returned for an UPDATE DB command
   with OPTION(PFA) the command is rejected, but option PFA
   completes successfully.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The following documentation change will be made:
   
   IMS V10 Command Reference, Volume 2  (SC18-9701-02)
    *Chapter: "Chapter 31. UPDATE commands"
    *Section: "UPDATE DB command"
    *Table: "Table 256. Completion codes for the UPDATE DB command"
   
   Make the following change to Table 256, column "Meaning" for
   each Completion Code listed below:
   
   *A0
   Dynamic allocation failed.  The command entered has not
   completed processing because the dynamic allocation failed for
   the DB.  Some of the command processing may be completed before
   the error is detected.
   
   *A1
   Database is authorized by batch.  The command entered has not
   completed processing because the database is authorized by
   batch.  Some of the command processing may be completed before
   the error is detected.
   
   *A2
   Database is authorized by another IMS.  The command entered has
   not completed processing because the database is authorized by
   another active or abnormally terminated IMS and its
   authorization state is incompatible with the current
   authorization request.
   
   *A4
   Database not registered to DBRC.  The command processing has not
   completed because the database is not registered to DBRC.  Some
   of the command processing may be completed before the error is
   detected.
   
   *A5
   Prevent further Auth ON.  The command entered has not completed
   processing because the database or area is defined to DBRC as
   prevent further Auth.  Some of the command processing may be
   completed before the error is detected.
   
   *A6
   Invalid database record in RECON.  The command entered has not
   completed processing because an invalid parameter was found
   during the evaluation process of the database usage
   compatibility.  The database record might be invalid in the
   RECON data set.  Some of the command processing may be completed
   before the error is detected.
   
   *A7
   DBRC unauth failed during change authorization.  The command
   entered has not completed processing because of an error during
   UNAUTH processing during change authorization request.
   
   *A8
   ...(append the following sentence to the end)...
   Some of the command processing may be completed before the error
   is detected.
   
   *A9
   Database or area authorization error.  For a database, the
   command entered has not completed processing because of a
   database authorization error.  For an area, area authorization
   to DBRC failed.  Some of the command processing may be completed
   before the error is detected.
   
   *AA
   The UPDATE DB command was not successful because the database is
   in use by a BMP.  Some of the command processing may be
   completed before the error is detected.
   
   *AB
   The UPDATE DB command was not successful because the database
   is in use by a long-running DBCTL thread.  Some of the command
   processing may be completed before the error is detected.
   
   *AC
   The UPDATE DB command was not successful because the AREA of the
   DEDB is in long-busy wait.  Some of the command processing may
   be completed before the error is detected.
   
   *AD
   The UPDATE DB command was not successful due to a dynamic
   unallocation error.  Some of the command processing may be
   completed before the error is detected.
   
   *AE
   The UPDATE DB command was not successful due to a dynamic
   allocation error.  No SVC99 is issued.  Some of the command
   processing may be completed before the error is detected.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM25394
   
   
 * REPORTED COMPONENT NAME
   IMS V10
   
   
 * REPORTED COMPONENT ID
   5635A0100
   
   
 * REPORTED RELEASE
   010
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2010-10-27
   
   
 * CLOSED DATE
   2011-02-11
   
   
 * LAST MODIFIED DATE
   2011-02-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM31533 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM31533] PM31534 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM31534]
   
   

Publications Referenced SC18970102 FIX INFORMATION
 * FIXED COMPONENT NAME
   IMS V10
   
   
 * FIXED COMPONENT ID
   5635A0100
   
   

APPLICABLE COMPONENT LEVELS