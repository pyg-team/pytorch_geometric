Title: IBM PM94506: ALLOW CSSMTP TO TREAT TRAILING NULL CHARACTERS AS TRAILING BLANK CHARACTERS - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The length limitation of 512 on the SMTP command lines are
   enforced after the trailing blanks (x'40') are removed from the
   command.  If the trailing characters are null characters (x'00')
   then CSSMTP does not strip them away and counts these characters
   towards the length of the command line.  An option setting for
   CSSMTP is needed to allow trailing null characters to be
   treated as trailing blank characters.
   
   
   
   
   
   
   Additional Symptom(s) Search Keyword(s): KIXREVxxx 5.2.5 JES
   too long RFC821 RFC 2821
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All users of the IBM Communications Server                   *
   * for z/OS Version 2 Release 1 IP: CSSMTP                      *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * Certain mail message files contained                         *
   * trailing nulls at the end of command                         *
   * records.  When the length of the                             *
   * records was longer than 510                                  *
   * characters, the mail messages were                           *
   * rejected with a "500 5.2.5 JES                               *
   * Command line too long" reply.                                *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Please check our Communications Server for z/OS homepages    *
   * for common networking tips and fixes.  The URL for these     *
   * homepages can be found in Informational APAR II11334 [http://www-01.ibm.com/support/docview.wss?uid=isg1II11334].        *
   ****************************************************************
   A new configuration statement and parameter have been added to
   control the removal of trailing null characters in the
   command records. The new parameter is NullTrnc in the Options
   configuration statement.
   
   Options
   {
   NullTrnc No # leave trailing nulls(default)
   #NullTrnc YES # Strip trailing nulls
   }
   +-------------------------------------------------------------+
   + Please check our Communications Server for OS/390 homepages +
   + for common networking tips and fixes.  The URL for these    +
   + homepages can be found in Informational APAR II11334 [http://www-01.ibm.com/support/docview.wss?uid=isg1II11334].       +
   +-------------------------------------------------------------+
   
   
    
   
   

PROBLEM CONCLUSION
 *  CSSMTP is amended to add a new configuration statement (OPTIONS)
   and a new parameter (NULLTRNC) to remove trailing null
   characters from the end of each command statement.
   
   z/OS Communications Server
   IP Configuration Reference
   Document Number SC27-3651-00
   Chapter 30: Communications Server SMTP application
   Heading: CSSMTP configuration statements
   
   
   Update section CSSMTP configuration statements to add
   the NullTrnc parameter to the Options statement in table 103.
   
                                       Update
   Configuration                       allowed by
   file                   Required or  modified
   statement     Default  Optional     refresh     Purpose
   _____________ _______  ____________ ___________ ______________
   Options       NullTrnc Optional     Yes         CSSMTP options
                 No
   
   Options statement
   
   Use the Options statement to change the processing behavior
   of CSSMTP.
   
   Syntax
   
   >>__Options_| Put Braces and Parameters on Separate Lines |_><
   
   Put Braces and Parameters on Separate Lines:
   |__ _{______________________ _______________________________|
      |_| Options Parameters |_|
      |_}______________________|
   
   Options Parameters:
       _NullTrnc NO_______
   |__|___________________|____________________________________|
      |_NullTrnc__ _YES_ _|
                  |_NO__|
   
   NullTrnc
        Specifies if the trailing null characters are to be
        stripped from command records (EHLO, HELO, MAIL, RCPT and
        DATA).
   
        NO
            The trailing null characters are not stripped from
            the mail command records by CSSMTP. This is the
            default.
   
        YES
            The trailing null characters are stripped from the mail
            command records by CSSMTP.
   
   
   * Cross Reference between External and Internal Names
   HHHMLCFG (EZAMLCFG)  HHHMLCFP (EZAMLCFP)
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM94506
   
   
 * REPORTED COMPONENT NAME
   TCP/IP V3 MVS
   
   
 * REPORTED COMPONENT ID
   5655HAL00
   
   
 * REPORTED RELEASE
   210
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-08-05
   
   
 * CLOSED DATE
   2013-09-25
   
   
 * LAST MODIFIED DATE
   2013-11-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PM87623 [http://www-01.ibm.com/support/docview.wss?uid=isg1PM87623]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK97929
   
   

MODULES/MACROS
 *  EZAMLCFP EZAMLJSP
   
   
    
   
   

Publications Referenced SC27365100 FIX INFORMATION
 * FIXED COMPONENT NAME
   TCP/IP V3 MVS
   
   
 * FIXED COMPONENT ID
   5655HAL00
   
   

APPLICABLE COMPONENT LEVELS
 * R210 PSY UK97929 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK97929]
   UP13/10/16 P F310
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.