Title: IBM User-group references in LDAP breaks LDAP-OMNIbus synchronisation - United States

Text:
synchronization; LDAP; InvalidUniqueNameException; CWWIM0515E TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Deleting a user from the LDAP server can cause group assignments for this user to be left behind in a connected Tivoli Integrated Portal. This in turn can result in LDAP->OMNIbus user synchronisation breaking. 

SYMPTOM
Errors like this in dci-security.log: 

 
WARNING: WIMException: com.ibm.websphere.wim.exception.InvalidUniqueNameException: CWWIM0515E The '<user>' entity is not in the scope of the 'defined' realm.
<date> <time> PM null null


RESOLVING THE PROBLEM
This behaviour is a known limitation in Websphere - in that Websphere is not dynamically aware of users being deleted via an external repository and is therefore unable to manage the integrity of the group assignments for this user locally. Three steps can be performed to mitigate this problem: 

1. A cache time-out can be set for TIP so that TIP will refresh the data it is pulling from the external repository at regular intervals. See the link in the 'Related information' section below and refer to the 'Cache the search results' option. 

2. If at all possible, a user with administrative privileges in LDAP should be given permission to delete users via TIP Manage Users. This will help to ensure user integrity within TIP. 

3. Whether deleting users via TIP or directly via the LDAP server, it is best practice to always remove the user from all groups first, and only then delete the user itself.

RELATED INFORMATION
 Federated Repository Configuration [http://www-01.ibm.com/support/knowledgecenter/SSEQTP_7.0.0/com.ibm.websphere.base.iseries.doc/info/iseries/ae/twim_performance.html?cp=SSEQTP_7.0.0%2F2-8-30-2-1-3-18]