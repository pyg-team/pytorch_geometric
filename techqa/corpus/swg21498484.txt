Title: IBM "Anonymous users aren't allowed access to the Content Engine" after configuring for SSO - United States

Text:
SSO; SPNEGO; LDAP TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IBM FileNet Workplace XT (XT) users can't log on after configuring IBM FileNet Content Engine (CE) and XT for SSO. SECURITY_ANONYMOUS_DISALLOWED 

SYMPTOM
At logon to Workplace XT, the following error appears in the WebSphere (WAS) SystemOut.log: 

2011-05-02T16:04:04.298Z 02B602B6 ENG FNRCE0578E - ERROR method name: <init> principal name: /UNAUTHENTICATED Global Transaction: null User Transaction: null Exception Info: Anonymous users aren't allowed access to the Content Engine. com.filenet.api.exception.EngineRuntimeException: SECURITY_ANONYMOUS_DISALLOWED: Anonymous users aren't allowed access to the Content Engine.


CAUSE
LDAP on the WebSpere (WAS) server for CE was configured for Stand Alone, while on the XT server it was configured for Federated repositories.


DIAGNOSING THE PROBLEM
As directed in the P8 Installation Guide, the WAS LDAP settings for Workplace XT must match identically the LDAP configuration on the WAS CE. Compare by opening the WAS administrative console for the CE and XT.



RESOLVING THE PROBLEM
Set WAS LDAP configurations to match: 

 1. Open the WebSphere administrative console on the CE and XT and navigate as follows:  1. WebSphere Application Server 6.1 Navigate to Security > Secure administration, applications, and infrastructure. 
     2. WebSphere Application Server 7.0 Navigate to Security > Global security
    
    
 2. At the bottom of the panel, validate that both the CE and XT are configured the same. Both must be Stand alone, or both must be Federated repositories. If they are mismatched, determine which LDAP configuration is needed, and change one to match the other. 
 3. Once both are Stand alone LDAP or both are Federated repositories, click the configure button in the lower panel and go through each setting and panel to make sure all setting match between the CE and XT. 
 4. Save the changes to the master and restart both the CE and XT instances of WebSphere.