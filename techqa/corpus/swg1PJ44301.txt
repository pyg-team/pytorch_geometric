Title: IBM PJ44301: CASE ANALYZER : UNEXPECTED EXCEPTION OCCURRED WHILE PROCESSING TASK CAPUBLISHER FOR STORE CA STORE. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  While processing events if the UDFs are Unicode or in different
   format, the following error is thrown in the logs and processing
   terminates :
   
   CAPublisher 664483dd [Error] Unexpected exception occurred while
   processing task CAPublisher for store EpikaStore.; Exception:
   com.ibm.db2.jcc.am.SqlDataException: DB2 SQL Error:
   SQLCODE=-302, SQLSTATE=22001, SQLERRMC=null, DRIVER=4.13.80
           at com.ibm.db2.jcc.am.id.a(id.java:669)
           at com.ibm.db2.jcc.am.id.a(id.java:60)
           at com.ibm.db2.jcc.am.id.a(id.java:127)
           at com.ibm.db2.jcc.am.fo.c(fo.java:2653)
           at com.ibm.db2.jcc.am.fo.a(fo.java:2117)
           at com.ibm.db2.jcc.t4.cb.o(cb.java:844)
           at com.ibm.db2.jcc.t4.cb.j(cb.java:266)
           at com.ibm.db2.jcc.t4.cb.d(cb.java:55)
           at com.ibm.db2.jcc.t4.q.c(q.java:44)
           at com.ibm.db2.jcc.t4.sb.j(sb.java:147)
           at com.ibm.db2.jcc.am.fo.kb(fo.java:2112)
           at com.ibm.db2.jcc.am.go.b(go.java:4403)
           at com.ibm.db2.jcc.am.go.b(go.java:4550)
           at com.ibm.db2.jcc.am.go.fc(go.java:741)
           at com.ibm.db2.jcc.am.go.executeQuery(go.java:711)
           at
   com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.pmiExecuteQuer
   y(WSJdbcPreparedStatement.java:1112)
           at
   com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.executeQuery(W
   SJdbcPreparedStatement.java:714)
           at
   filenet.eventexporter.ca.sql.PADataEnvironmentBase.dimensionLook
   up(PADataEnvironmentBase.java:1122)
           at
   filenet.eventexporter.ca.publisher.udf.UDFCacheManager.insertVal
   ue(UDFCacheManager.java:289)
           at
   filenet.eventexporter.ca.publisher.udf.UDFCacheManager.valueToKe
   y(UDFCacheManager.java:177)
           at
   filenet.eventexporter.ca.publisher.udf.UDFEvaluator.evaluateUDFD
   imension(UDFEvaluator.java:55)
           at
   filenet.eventexporter.ca.publisher.udf.UDFM.evaluateUDFDimension
   (UDFM.java:156)
           at
   filenet.eventexporter.ca.publisher.udf.UDFM.evaluateUDFDimension
   s(UDFM.java:133)
           at
   filenet.eventexporter.ca.publisher.udf.UDFM.evaluateUDFDimension
   s(UDFM.java:98)
           at
   filenet.eventexporter.ca.publisher.component.pe.WIPComponent.han
   dleParentCreation(WIPComponent.java:235)
           at
   filenet.eventexporter.ca.publisher.component.pe.WIPComponent.pub
   lishEvent(WIPComponent.java:157)
           at
   filenet.eventexporter.ca.publisher.component.pe.PAComponentManag
   er.publishEvent(PAComponentManager.java:125)
           at
   filenet.eventexporter.ca.publisher.CAEventPublisherBucket.doProc
   essEvents(CAEventPublisherBucket.java:131)
           at
   filenet.eventexporter.ca.publisher.CAEventPublisherTask.doProces
   sEvents(CAEventPublisherTask.java:267)
           at
   filenet.eventexporter.common.EventPublisherTask.doJob(EventPubli
   sherTask.java:117)
           at
   filenet.jpe.server.common.DelayBackgroundTask.run(DelayBackgroun
   dTask.java:232)
           at
   java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoo
   lExecutor.java:908)
           at
   java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExe
   cutor.java:931)
           at java.lang.Thread.run(Thread.java:773)
   
   SQLCODE=-302, SQLSTATE=22001 : Data being inserted into the
   database table column is larger than the assigned column length.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Customers using Case Analyzer component of IBM Content       *
   * Platform Engine 5.2.1.5-P8CPE-FP005 and prior.               *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * See Error Description                                        *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Upgrade to 5.2.1.6-P8CPE-FP006 or higher.                    *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Fixed in 5.2.1.6-P8CPE-FP006 and higher by modifying the UDF
   column datatype of the dimension table.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PJ44301
   
   
 * REPORTED COMPONENT NAME
   CONTENT ENGINE
   
   
 * REPORTED COMPONENT ID
   5724R8101
   
   
 * REPORTED RELEASE
   521
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-07-20
   
   
 * CLOSED DATE
   2016-12-20
   
   
 * LAST MODIFIED DATE
   2016-12-20
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CONTENT ENGINE
   
   
 * FIXED COMPONENT ID
   5724R8101
   
   

APPLICABLE COMPONENT LEVELS