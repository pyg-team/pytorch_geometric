Title: IBM HE12015: Running IBM Content Collector initial configuration or setup to configure IBM FileNet P8 repository returns DB_NOT_UNIQUE error - United States

Text:
  FIXES ARE AVAILABLE
IBM Content Collector V4.0 Fix Pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24037306]
IBM Content Collector V3.0 Fix Pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24037618]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Running the IBM Content Collector initial configuration or the
   P8 Repository Configuration setup tool to configure a FileNet P8
    object store returns
   a DB_NOT_UNIQUE error.
   
   The following error message is written to the initial
   configuration log file:
   
   A P8CE error has occurred -> DB_NOT_UNIQUE : The update or
    insert failed due to an attempt to create a duplicate value in
    a unique index. ObjectStore: "ICC", SQL: ""CREATE INDEX
    ICC.UI_u27_iccmailreference ON ICC.Generic
    (u27_iccmailreference) "" : ExceptionCode=DB_NOT_UNIQUE
    Id=FNRCD0015 Class=FileNet.Api.Exception.ErrorRecord
    Source=com.filenet.api.ex ception.EngineRuntimeException
    Description=The update or insert failed due to an attempt to
    create a duplicate value in a unique index. ObjectStore: "ICC",
    SQL: ""CREATE INDEX ICC.UI_u27_iccmailreference ON ICC.Generic
    (u27_iccmailreference) "" failedBatchItem=0
    exceptionCode=DB_NOT_UNIQUE
   
   
    
   
   

LOCAL FIX
 *  Drop the index manually and rerun the P8 Repository
   Configuration setup tool.
   
   
    
   
   

PROBLEM SUMMARY
 *  Running the IBM Content Collector initial configuration or the
   P8 Repository Configuration setup tool to configure a FileNet P8
    object store returns
   a DB_NOT_UNIQUE error.
   
   The following error message is written to the initial
   configuration log file:
   
   A P8CE error has occurred -> DB_NOT_UNIQUE : The update or
    insert failed due to an attempt to create a duplicate value in
    a unique index. ObjectStore: "ICC", SQL: ""CREATE INDEX
    ICC.UI_u27_iccmailreference ON ICC.Generic
    (u27_iccmailreference) "" : ExceptionCode=DB_NOT_UNIQUE
    Id=FNRCD0015 Class=FileNet.Api.Exception.ErrorRecord
    Source=com.filenet.api.ex ception.EngineRuntimeException
    Description=The update or insert failed due to an attempt to
    create a duplicate value in a unique index. ObjectStore: "ICC",
    SQL: ""CREATE INDEX ICC.UI_u27_iccmailreference ON ICC.Generic
    (u27_iccmailreference) "" failedBatchItem=0
    exceptionCode=DB_NOT_UNIQUE
   
   This error occurs if a database index on the ICCMailReference
   column on the Generic table exists in the object store.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Starting with IBM Content Collector 4.0 Fix Pack 2, the
   installation program for the IBM Content Collector data model
   was changed to ignore the DB_NOT_UNIQUE error that the FileNet
   P8 APIs returns if a database index on the ICCMailReference
   column on the Generic table already exists in the object store.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   HE12015
   
   
 * REPORTED COMPONENT NAME
   ICC FOR EMAIL
   
   
 * REPORTED COMPONENT ID
   5724V5700
   
   
 * REPORTED RELEASE
   400
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-01-28
   
   
 * CLOSED DATE
   2014-04-23
   
   
 * LAST MODIFIED DATE
   2014-04-23
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ICC FOR EMAIL
   
   
 * FIXED COMPONENT ID
   5724V5700
   
   

APPLICABLE COMPONENT LEVELS
 * R400 PSY
   UP