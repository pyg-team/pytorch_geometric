Title: IBM Special  Instructions for WebSphere Process Server (WPS) and WebSphere Enterprise Service Bus (WESB) V7.0.0 Fix Pack 1 (V7.0.0.1) - United States

Text:
Upgrade instructions; fix pack 7.0.0.1; 7.0.0.1; 7.0.0.1 ; fix pack : upgrade PRODUCT README

ABSTRACT
 This document provides the additional instructions required to complete the upgrade of existing profiles, with special requirements, to IBM WebSphere Enterprise Service Bus and IBM WebSphere Process Server, Version 7.0.0 Fix Pack 1 (V7.0.0.1). 

CONTENT


 * WebSphere Process Server [http://www.ibm.com/support/docview.wss?uid=swg24024941]
 * WebSphere Enterprise Service Bus [http://www.ibm.com/support/docview.wss?uid=swg24025520]


TAB NAVIGATION
 * Fix Pack Install [http://www.ibm.com/support/docview.wss?uid=swg27017658]
 * Profile Upgrade [http://www.ibm.com/support/docview.wss?uid=swg27017659]
 * Special Case- selected tab,
 * Known Issues [http://www.ibm.com/support/docview.wss?uid=swg27017656]


This document provides the additional instructions required to complete the upgrade of existing profiles, with special requirements, to IBM WebSphere Enterprise Service Bus and IBM WebSphere Process Server, version 7.0.0 Fix Pack 1 (V7.0.0.1) . 


Table of Contents

 * Mixed configuration environments
 * Cluster upgrade with minimum downtime




MIXED CONFIGURATION ENVIRONMENTS


These instructions assume that you have a clustered or a non-clustered setup. If you are using a mixed configuration environment, then you may need to adapt these instructions to suit your setup. 
In a mixed configuration environment you must adhere to the following rules to prevent the upgrade from failing. 
 * All Java™ virtual machines (JVMs) in the installation that are being upgraded should be stopped. 
 * If your installation has a managed profile, the Deployment Manager should be running when you apply the Fix pack. If this is not possible you must manually call the upgrade script (BPMProfileUpgrade.ant) after receiving the appropriate error messages. See the Recovering from profile update errors [http://www.ibm.com/support/docview.wss?rs=2307&uid=swg27017659#recoverFailure] section for details. The only exception to this rule is for managed profiles hosted by the same installation as their Deployment Manager profile. The upgrade script contains special case code for this scenario. 
 * If your cluster has Business Process Choreographer configured you must stop all members at the older version before you start any of the upgraded members. After an upgraded member has been started you must no longer start members of the 'old' version.
   
   

Back to top




(WEBSPHERE PROCESS SERVER ONLY) CLUSTER UPGRADE WITH MINIMUM DOWNTIME


NOTE: This section is only applicable if you have configured Business Process Choreographer on V7.0.0.0. If you have not configured Business Process Choreographer on V7.0.0.0. you should ignore this section. 

These instructions assume the following sample setup; you may need to be adapt them to your environment: 
 * Deployment manager is on an installation of its own. 
 * The cluster includes a minimum of two servers, each on its own installation. 
 * Automatic node synchronization is enabled (this is the default). 


Perform the following steps to upgrade your clusters:  1. Stop the Deployment Manager.
    
 2. Install V7.0.0 Fix Pack 1 (V7.0.0.1) onto the Deployment Manager’s installation using either IBM Installation Manager or silent installation as explained in the fix pack installation instructions [http://www.ibm.com/support/docview.wss?rs=2307&uid=swg27017658].
    
 3. Check for any errors as explained in the Identifying Profile Update Errors [http://www.ibm.com/support/docview.wss?rs=2307&uid=swg27017659#prfError] section before continuing.
    
 4. Start the Deployment Manager. This is necessary because the fix pack installer must connect to the central configuration repository on the Deployment Manager to make the updates.
    

Upgrading clusters: 
You should not upgrade more than one remote installation at a time. The fix pack installer connects to the central configuration repository on the Deployment Manager to make the updates. Updating multiple installations that host cluster members at the same time may cause conflicts on the central configuration repository causing one or more of the profile updates to fail. 

For each cluster perform the following steps:  1.  Stop half the cluster members and their node agents (for example if you have two members, stop one). 
 2.  Install V7.0.0 Fix Pack 1 (V7.0.0.1) onto the corresponding installations that host cluster members using either IBM Installation Manager or silent installation as explained in the fix pack installation instructions [http://www.ibm.com/support/docview.wss?rs=2307&uid=swg27017658]. Check for any errors as explained in the Identifying Profile Update Errors [http://www.ibm.com/support/docview.wss?rs=2307&uid=swg27017659#prfError] section before continuing.
     Warning: Do not restart the servers at this point. 
 3.  Stop the remaining set of cluster members. This short downtime cannot be avoided.
     Note: Different versions of the cluster members cannot be up and running at the same time. After an upgraded member has been started you must no longer start members of the 'old' version. 
 4.  On the Deployment Manager, change directories to <install_root>/. 
 5.   Depending on your platform, run one of the following commands:
     
     On Windows: 
     bin\ws_ant.bat -f util\BPMProfileUpgrade.ant -profileName <profileName> -Dupgrade=true –Dcluster=<clusterName> 
     
     On UNIX and Linux:
     bin/ws_ant.sh -f util/BPMProfileUpgrade.ant -profileName <profileName> -Dupgrade=true –Dcluster=<clusterName> 
     
     Where <profileName> is the name of the deployment manager's profile and <clusterName> is the name of the cluster.
     
 6.  Check the following log file for errors: <profile_root>/logs/BPMMigrateCluster.<profileName>.<timestamp>.log
     where <profile_root> is the root directory of the Deployment Manager’s profile. 
     
     There may be more than one file whose name matches this pattern. Open the log files and search for "-cluster" to find the cluster associated with this particular log file. If there is an error, fix the cause then rerun step 5.
     
 7.  When the clusters have been successfully upgraded, stop and restart the Deployment Manager.
     
 8.  Restart the node agents of those nodes where V7.0.0 Fix Pack 1 has already been applied and wait for the node synchronisation to complete.
     
 9.  Restart the cluster members of those nodes where V7.0.0 Fix Pack 1 has already been applied.
     
 10. Install V7.0.0 Fix Pack 1 (V7.0.0.1) onto the installations of the remaining cluster members using either IBM Installation Manager or silent installation as explained in the fix pack installation instructions [http://www.ibm.com/support/docview.wss?rs=2307&uid=swg27017658].
     
 11. Check for any errors as explained in the Identifying Profile Update Errors [http://www.ibm.com/support/docview.wss?rs=2307&uid=swg27017659#prfError] section before continuing.
     
 12. Restart the node agent and cluster members after the fix pack has been installed.




Back to top




TRADEMARKS AND SERVICE MARKS
For trademark information, see the IBM Terms of Use [http://www.ibm.com/legal] Web site.






Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere Process Server AIX, HP-UX, i5/OS, Linux, Solaris, Windows 7.0.0.1 PRODUCT ALIAS/SYNONYM
 WPS
WESB