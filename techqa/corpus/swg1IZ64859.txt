Title: IBM IZ64859: SSL/TLS SECRET KEY RESET NO LONGER FUNCTIONS AFTER PATCHING AGAINST SECURITY VULNERABILITY CVE-2009-3555. - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V7.0 Fix Pack 7.0.1.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24026518]
WebSphere MQ V7.0.1 for i5/OS Fix Pack 7.0.1.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24026566]
WebSphere MQ V6, Fix Pack 6.0.2.9 [http://www-01.ibm.com/support/docview.wss?uid=swg24025669]
WebSphere MQ V6.0 for iSeries Fix Pack 6.0.2.9 [http://www-01.ibm.com/support/docview.wss?uid=swg24025670]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A WebSphere MQ user upgraded their secure socket library to
   protect against security vulnerability CVE-2009-3555. After
   installing the security patch, WebSphere MQ channels using
   secret key reset would intermittently terminate unexpectedly.
   Clients received MQ reason code 2009 and message channels
   reported error message AMQ9661 with GSKit return code 410 or
   415.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   WebSphere MQ users who use secret key reset on their SSL/TLS
   channels and who have upgraded their secure socket library to
   fix CVE-2009-3555. Installation of GSKit 7.0.4.27 for Windows,
   AIX, HP-UX, Linux or Solaris can trigger this issue, as can
   installation of i5/OS APAR II14533.
   
   MQ secret key reset is disabled by default, so only a minority
   of MQ SSL/TLS users will be impacted by this issue.
   
   WebSphere MQ Java and JMS clients do not require a client
   interim fix for this APAR because the JSSE fix for
   CVE-2009-3555 only affects server sockets which are not used
   in the MQ Java/JMS client code. However, this APAR can impact
   MQ Java/JMS client connectivity when secret key reset is
   enabled if the remote queue manager system is affected.
   
   Platforms affected:
   All Distributed (iSeries, all Unix and Windows)
   ****************************************************************
   PROBLEM SUMMARY:
   Whilst WebSphere MQ is not vulnerable to the issue reported by
   CVE-2009-3555, other applications using the same secure
   socket library might be affected. In patching the secure
   socket library to safeguard those other applications, the
   secure socket library implementation has changed in a manner
   that can impair WebSphere MQ interoperability when secret key
   reset is used.
   
   The WebSphere MQ SSL/TLS implementation on Windows, AIX, HP-UX,
   Linux, Solaris and i5/OS platforms is provided by the following
   secure socket libraries:
   - For i5/OS: the IBM i socket library
   - For Windows, AIX, HP-UX, Linux and Solaris: GSKit
   
   The latest versions of these secure socket libraries will now
   ignore secret key reset control flows by default, which will
   cause secure connections to fail if a secret key reset occurs.
   This then prevents any attacks against the applications using
   them, but it also prevents secret key reset from being used by
   any of those applications.
   
   There is typically a single secure socket library per machine,
   shared by many applications including WebSphere MQ. Upgrading
   that library to protect other applications means that MQ will
   be impacted by the change in the default behaviour, causing the
   symptoms described in this APAR when secret key reset is
   enabled.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The CVE-2009-3555 vulnerability has been carefully reviewed by
   the product architects and SSL/TLS experts. The conclusion of
   that review is that WebSphere MQ is immune from this
   vulnerability.
   
   Since MQ is not affected by CVE-2009-3555, it does not need to
   disable secret key reset. Therefore this APAR adds code to MQ
   which will ask the secure socket library for secret key reset
   interoperability to be maintained. This will allow MQ to
   continue to function as designed when running against the
   latest socket library code and will prevent disruption to MQ
   SSL/TLS connectivity when secret key reset is enabled.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
                      v6.0
   Platform           Fix Pack 6.0.2.9
   --------           --------------------
   Windows            U200313
   AIX                U828012
   HP-UX (PA-RISC)    U827381
   HP-UX (Itanium)    U827383
   Solaris (SPARC)    U827693
   Solaris (x86-64)   U828055
   iSeries            tbc_p600_0_2_9
   Linux (x86)        U827380
   Linux (x86-64)     U827694
   Linux (zSeries)    U827590
   Linux (Power)      U827382
   Linux (s390x)      U827695
   
                      v7.0
   Platform           Fix Pack 7.0.1.2
   --------           --------------------
   Windows            U200316
   AIX                U829807
   HP-UX (PA-RISC)    U829678
   HP-UX (Itanium)    U829681
   Solaris (SPARC)    U829806
   Solaris (x86-64)   U829680
   iSeries            tbc_p700_0_1_2
   Linux (x86)        U829677
   Linux (x86-64)     U829676
   Linux (zSeries)    U829682
   Linux (Power)      U829679
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ64859
   
   
 * REPORTED COMPONENT NAME
   WMQ AIX V6
   
   
 * REPORTED COMPONENT ID
   5724H7201
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-11-13
   
   
 * CLOSED DATE
   2009-11-30
   
   
 * LAST MODIFIED DATE
   2009-11-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ AIX V6
   
   
 * FIXED COMPONENT ID
   5724H7201
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSY
   UP