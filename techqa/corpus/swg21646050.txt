Title: IBM Session IDs in COGIPF_USERLOGON and COGIPF_RUNREPORT do not match - United States

Text:
COGIPF_SESSIONID; SESSION_ID; Session ID; COGIPF_USERLOGON; COGIPF_RUNREPORT; digest algorithm; SHA-256; SHA-1 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 SESSION_ID column values in the COGIPF_USERLOGON and COGIPF_RUNREPORT do not match in a multi-tier environment. In prior releases, the sample Audit package would correctly show Report Usage, however, after upgrading, no data is returned. 

SYMPTOM
When reports are executed against the dispatcher which is installed with the Content Manager, the Session IDs match; however, for reports executed against other two other dispatchers, the Session IDs generated in the COGIPF_RUNREPORT do not have corresponding entries in the COGIPF_USERLOGON table. This prevents the join between COGIPF_RUNREPORT and COGIPF_USERLOGON from returning results


CAUSE
One of the Dispatchers is using a SHA-256 digest Algorithm, whereas the other Dispatcher is using a SHA-1. 

In releases previous to IBM Cognos 10.2.1, the default was SHA-1. In 10.2.1, the default is SHA-256. If a configuration was upgraded from prior release, it would keep the value SHA-1, whereas new configuration (or configuration from scratch) will default to SHA-256


DIAGNOSING THE PROBLEM
In a session/time frame, select data from the COGIPF_USERLOGON and COGIPF_RUNREPORT tables and determine if all Session IDs in COGIPF_RUNREPORT have corresponding values in COGIPF_USERLOGON table. Alternatively, with no load on the system, review the cogserver.log and find a UserLogon then run a report and see if the Session ID is different string length. 

SHA-1 will produce a 40 byte string, whereas SHA-256 will produce a 64 byte string. 


RESOLVING THE PROBLEM
Set all digest algorithm values to the same value. This can be done in IBM Cognos Configuration--> Security---> Cryptography---> Digest Algorithm: Set value to SHA-256 in all dispatchers or SHA-1, or another value as long as they are consistent across each dispatcher within the environment