Title: IBM DB2 error during server rename:  Batch failure.Â The batch was submitted, but at least one exception occurred on an individual member of the batch - United States

Text:
server; rename; db2; data warehouse; Batch failure; The batch was submitted; but at least one exception occurred on an individual member of the batch TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 During a server rename getting an error in the log files, Batch failure. The batch was submitted, but at least one exception occurred on an individual member of the batch, when using IBM Rational Team Concert (RTC). 

SYMPTOM
 

Errors reported in the log files during a server rename: 

 

Batch failure. The batch was submitted, but at least one exception occurred on an individual member of the batch. 

 

The full stack trace of the error: 




[com.ibm.team.repository.service.mapping.internal.ServerRenameService] ERROR sqlExceptionLogger 

- SQL: UPDATE "RICALM"."REQUEST_HISTORY" SET "URL" = ?, "EXTERNAL_ID" = ? WHERE " 

REQUEST_HISTORY_ID" = ? 

SQL Exception #1 

SQL Message: [jcc][t4][102][10040][4.14.88] Batch failure. The batch was submitted, but at least one exception occurred on an 

individual member of the batch. 

Use getNextException() to retrieve the exceptions for specific batched elements. ERRORCODE=-4229, SQLSTATE=null 

SQL State: null 

Error Code: -4229 

SQL Exception #2 

SQL Message: Error for batch element #1: DB2 SQL Error: SQLCODE=-1476, SQLSTATE=40506, SQLERRMC=-964, DRIVER=4.14.88 

SQL State: 40506 

Error Code: -1476 

Exception Details: Transaction rollback 

SQL Exception #3 

SQL Message: [jcc][103][10843][4.14.88] Non-recoverable chain-breaking exception occurred during batch processing. The batch is 

terminated non-atomically. ERRORCODE=-4225, SQLSTATE=null 

SQL State: null 

Error Code: -4225 

 

com.ibm.db2.jcc.am.BatchUpdateException: [jcc][t4][102][10040][4.14.88] Batch failure. The batch was submitted, but at least one exception occurred on an individual member of the batch. 

Use getNextException() to retrieve the exceptions for specific batched elements. ERRORCODE=-4229, SQLSTATE=null 



CAUSE
 

The error is caused by the DB2 Transaction log for the Data Warehouse becoming full and not able to process the full batch operation.


RESOLVING THE PROBLEM
 

 1. Increase the LogFilSiz, LogPrimary, and LogSecond for the Data Warehouse.
    
 2. Stop the IBM Collaborative Lifecycle Management (CLM) server and re-start it. This should start the processing of the batch process.


Changing the LogFilSiz, LogPrimary, and LogSecond variable is illustrated under the topic of Tuning transaction log characteristics [http://pic.dhe.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=%2Fcom.ibm.db2.luw.spatial.topics.doc%2Fdoc%2Fcfgtranslog.html] in the IBM DB2 Information Center.



RELATED INFORMATION
#IBM DB2 Information Center [http://pic.dhe.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=%2Fcom.ibm.db2.luw.spatial.topics.doc%2Fdoc%2Fcfgtranslog.html]