Title: IBM ITM TEPS login times out - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IBM Tivoli Monitoring (ITM) Tivoli Enterprise Portal Server (TEPS) times out when the user tries to log in; no error is displayed. 

SYMPTOM
The TEPS will not allow any more logins and times out when users try to log in. No error will be seen in the GUI. 


CAUSE
The eWAS process ran out of memory resulting in the TEPS not allowing any more logins. 

DIAGNOSING THE PROBLEM
When you look at the TEPS logs you will see a sequence of errors similar to this: 


(506D55CC.0000-1F:ctsqlaccessodbc.cpp,683,"CTSQLEvaluatorODBC_i::AccessElement::init") ERRMSG: Warning: 100 active connections. Retry #61 on datasource 'TEPS'
(506D55CC.0001-1F:ctsqlaccessodbc.cpp,693,"CTSQLEvaluatorODBC_i::AccessElement::init") EXCEPTION: Connection retry limit of 60 exceeded. 

This sequence of errors will repeat, each time trying to connect 61 times. 

Looking at the SystemOut.log file the following error was seen indicating an OutOfMemoryError: 
[10/10/12 9:04:34:834 PDT] 00000020 SystemErr R Exception in thread "LT=3:P=562115:O=0:port=15202" Exception in thread 
"LT=1:P=562115:O=0:port=15207" java.lang.OutOfMemoryError 
[10/10/12 9:04:34:857 PDT] 00000020 SystemErr R java.lang.OutOfMemoryError



RESOLVING THE PROBLEM
If the eWAS shows this OOM error, the heap storage needs to be increased. This can be done by editing the eWAS' server.xml file. 

On Linux/Unix, this server.xml file can typically be found here: 

<ITMHome>/<arch>/iw/profiles/ITMProfile/config/cells/ITMCell/nodes/ITMNode/servers/ITMServer. 

On Windows, it can be found here: 

<ITMHome>\CNPSJ\profiles\ITMProfile\config\cells\ITMCell\nodes\ITMNode\servers\ITMServer. 

In server.xml, change the default maximumHeapSize="512" to a higher value. On a 32-bit system, the maximum value which can be set would be about 1.5 GB. Very large environments may have to implement a 64-bit TEPS and eWAS.