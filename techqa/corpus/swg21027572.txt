Title: IBM Assign userid from a DPL program returns the default userid - United States

Text:
DFHSN1400 MSGDFHSN1400 ASSIGN USERID WEB APPLICATION SERVER WAS EXCI DEFAULT USERID DFLTUSER ACF2 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97 5655S9700 R670 670 R700 700 HCI6700 5655-S97 5655S97 kixinfo TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are using the CICS web server plug-in to run EXCI programs in the CICS region. You are unable to obtain the USERID using the ASSIGN command. When you issue the EXCI command from the CICS web server plug-in, you receive DFHSN1400 in the CICS server region indicating the user has signed on. The user ID appearing in message DFHSN1400 is correct, but when you issue an ASSIGN USERID() command from the DPL program, you receive default user ID. 

CAUSE
CA ACF2 is changing the user ID.

DIAGNOSING THE PROBLEM
The EXCI command is issued from the CICS web server plug-in [http://www.ibm.com/support/knowledgecenter/SSGMCP_4.2.0/com.ibm.cics.ts.internet.doc/topics/dfhtlj0.html] using a connection defined with ATTACHSEC=IDENTIFY. Trace shows the userid flow in the attach FMH5. CICS starts the transaction and issues a signon attach header with the userid passed. There are several UEH entries in the trace going to a CA-ACF2 program. Then, a USAD entry add user without password is done, but this time the userid is the CICS default.

RESOLVING THE PROBLEM
Specify the following parameter in the ACF2/CICS parameter file for the region:
MRO SYSID=EXCG,TRANSMIT=NO,RECEIVE=NO,FORMAT=CICS

CA ACF2 expected the FMH data to be in a ACF2/CICS format. The FORMAT=CICS tells ACF2 to expect standard FMH headers and records over this connection, and not ACF2/CICS embedded information. 


Contact [/support/docview.wss?uid=swg21027572&amp;aid=1]CA Technologies [http://www.ca.com/] if you need additional information on setting the ACF2 parameter.

RELATED INFORMATION
 ASSIGN command [http://www.ibm.com/support/knowledgecenter/SSGMCP_4.2.0/com.ibm.cics.ts.applicationprogramming.doc/commands/dfhp4_assign.html]


 

PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server