Title: IBM How to run headerfinder - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document describes how to run advanced analysis macro headerfinder on IBM i partitions. 

RESOLVING THE PROBLEM
How to run headerfinder 

Notes: 

 * Hardware issues must be resolved prior to assessing damage. 
 * An alternative to running headerfinder is a full system save, as this procedure attempts to access all objects. 
 * headerfinder can be run while the system is in use. 
   
 * Often, multiple means of detecting damage are required.
   


To proceed with headerfinder: 

A. Find the unit numbers associated with the disk resource names: 

STRSST and signon 
Select Work with disk units 

Select Display disk configuration 
Select Display disk configuration status 
The unit numbers and resource names are listed. 
Document the unit numbers of all the units. 
Press F3 twice to the SST Main menu 



B. Start the scan: 

Select Start a service tool 
Select Display/Alter/Dump 

Select Display/Alter storage 

Select Licensed Internal Code (LIC) data 

Select Advanced Analysis (Option 14) 

Type 1 on the Option field and type headerfinder on the Command field 

Type -unit xxx yyy zzz on the Options field. As an example: 22 23 24 25 (whichever drives of interest to be scanned) and press Enter 
The scan will start at this point. 



Note: This will take some time as it only does 3 drives at a time, yet it will report when all drives are complete. 



C. Monitor the progress of the scan from another 5250 session: 

Select Start a service tool 

Select Display/Alter/Dump 

Select Display/Alter storage 

Select Licensed Internal Code (LIC) data 

Select Advanced Analysis (Option 14) 

Type 1 on the Option field and type headerfinder on the Command field 

Type -status on the Options field and press Enter 

The 'percent done' is displayed. 




D. To stop a scan (because it is running too long, or taking up too much 
system resource, etc.): 

Select Start a service tool 

Select Display/Alter/Dump 

Select Display/Alter storage 

Select Licensed Internal Code (LIC) data 

Select Advanced Analysis (Option 14) 

Type 1 on the Option field and type headerfinder on the Command field 

Type -stop on the Options field and press Enter 

The scan tasks that are running will stop within 30 seconds. 


Upload the LIC Logs to ecurep with the PMR number for analysis by the IBM i team. See this link for instructions on doing so: http://www.ibm.com/support/docview.wss?uid=nas8N1014800 [http://www.ibm.com/support/docview.wss?uid=nas8N1014800] 


If headerfinder runs clean, a full system save is another means of potentially detecting damage. 

Once headerfinder has completed, the major code 1000 LIC logs (selecting 3=Header and entire entry) is needed via the following steps: 

STRSST 
1. Start a service tool 
5. Licensed Internal Code log 
2. Dump entries to printer from the Licensed Internal Code log 

Dump Entries to Printer from Licensed Internal Code Log 

Type choices, press Enter. 

Dump option . . . . . . . . . . . 3 1=Header 
2=Header and note entry 
3=Header and entire entry 

Entry ID: 
Starting . . . . . . . . . . . 00000000 00000000-FFFFFFFF 
Ending . . . . . . . . . . . . FFFFFFFF 00000000-FFFFFFFF 

Entry type: 
Major code . . . . . . . . . . 1000 0000-FFFF 
Minor code . . . . . . . . . . 0000 0000-FFFF 

Starting: 
Date . . . . . . . . . . . . . 00/00/00 MM/DD/YY <--- Date headerfinder started 
Time . . . . . . . . . . . . . 00:00:00 HH:MM:SS <---Time headerfinder started 
Ending: 
Date . . . . . . . . . . . . . 00/00/00 MM/DD/YY <--- Date headerfinder ended 
Time . . . . . . . . . . . . . 00:00:00 HH:MM:SS <--- Time headerfinder ended 

Enter. 
Wait for it to complete before doing any other dumps or before exiting SST. 
F3 
7. Display dump status. If Dump requests 
not complete . . . . . . . . : 0 - it is done 
not complete . . . . . . . . : 1 - it is not done F5=Refresh until done 

Note: Do not exit SST before the LIC log dump is finished. 
Note: Please do not send PDFs, please send the text/spooled output as possible. 


Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 7.2 Operating System IBM i 7.1 Operating System IBM i 6.1