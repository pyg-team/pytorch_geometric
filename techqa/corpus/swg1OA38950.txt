Title: IBM OA38950: SDA JAR UTILITY NOT WORKING ON SOME Z/OS 1.13 SYSTEMS - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Environment:
   
   z/OS 1.13 systems
   ITM 6.2.3
   
   Problem:
   
   Some z/OS 1.13 systems are not passing arguments to the spawned
   Unix System Services shell script that un-jars application
   support files for SDA introduced in ITM 6.2.3.  This problem
   does NOT occur on every z/OS 1.13 system.  There were
   differences in the z/OS and USS maintenance levels between
   working and failing systems, so the behavior may have been
   fixed by a recent PTF.  This fix will address the "spawn" logic
   so that it's better equipped to handle OS anomalies of this sort
   in the future.
   
   A small, low-risk fix to the KLX spawn() function was used
   to allow it to extract a jar even if the command line arguments
   don't get passed.  The principle behind the fix is that only two
   arguments are required for SDA jar extraction, and it's easy to
   redundantly set those two values as environment variables passed
   to the spawned script.  When the spawned script executes,
   if the arguments are empty, it just obtains the required values
   from its own local environment variables instead.
   
   Symptoms:
   
   Received the following errors during TEMS startup on z/OS:
   
   (0009-E20B3C23:kfasdimf.c,456,"KFASDM_DoZOSPackageInstall")
   Unable to open product package zOS mapping file /
   tmp/tivoli/tstest/TESTMVS/kds/support/TEMS/m5tms_support_zos.txt
   (000A-E20B3C23:kfasdimf.c,159,"KFASDM_InstallSDpackage") SDM
   package installation utility failed - (4) analyzing manifest
   file error (000B-E20B3C23:kfasdwlm.c,777,"KFASDM_RequestMgr")
   KFASDM_InstallSDpackage failed status <1011>. product code  <M5>
   product version <05100000> managed system <TESTPLX:MVST:MVSSYS>
   thrunode <TESTMVS:CMS> KFASD102   Self-Describing Install Failed
   with STATUS <1011> for PRODUCT <M5>, VER <05100000>, ID <TMS>,
   IDVER <05100000>.
   (000C-E0328D23:kraaulog.cpp,755,"IRA_OutputLogMsg")
   Self-Describing Agent Register/Install failed with STATUS
   (1011/Manifest File Error) for PRODUCT "M5", with TEMS
   "TESTMVS:CMS", VERSION_INFO "product_vrmf=0510000
   0;tms_package_vrmf=05100000;tps_package_vrmf=05100000;tpw_packag
   e_vrmf=05100000;".
   (000D-E0328D23:kraaulog.cpp,543,"ctira_insert_log") KRAA0003,
   Self-Describing Agent Register/Install failed wi th STATUS
   (1011/Manifest File Error) for PRODUCT "M5", with TEMS
   "TESTMVS:CMS", VERSION_INFO "product_vr
   mf=05100000;tms_package_vrmf=05100000;tps_package_vrmf=05100000;
   tpw_package_vrmf=05100000;"., Producer(S DA_Install) Subsequent
   retry generated the following;
   (0017-DDB13E6B:kraaulog.cpp,755,"IRA_OutputLogMsg")
   Self-Describing Agent Register/Install failed with STATUS
   (1014/UnKnown Error) for PRODUCT "M5", with TEMS "TESTMVS:CMS",
   VERSION_INFO "product_vrmf=05100000;tms_
   package_vrmf=05100000;tps_package_vrmf=05100000;tpw_package_vrmf
   =05100000;". (0019-DE38D75B:kraaptcp.cpp,520,"CreateTimer")
   Timer for owner KPX.RNODESTS started. TimerControl 224C6AA8
   Implementor 224CC618
   (001A-DDB13E6B:kraaulog.cpp,543,"ctira_insert_log") KRAA0003,
   Self-Describing Agent Register/Install failed with STATUS
   (1014/UnKnown Error) for PRODUCT "M5", with TEMS "TESTMVS:CMS",
   VERSION_INFO "product_vrmf=051
   00000;tms_package_vrmf=05100000;tps_package_vrmf=05100000;tpw_pa
   ckage_vrmf=05100000;"., Producer(SDA_Ins Tall)
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All ITMS/ENGINE users.                       *
   ****************************************************************
   * PROBLEM DESCRIPTION: JAR UTILITY NOT WORKING ON Z/OS 1.13    *
   *                      SYSTEM                                  *
   ****************************************************************
   * RECOMMENDATION: Apply the PTF.                               *
   ****************************************************************
   When expanding SDA (Self Describing Agent) application
   support packages in 6.2.3, a particular configuration
   of the z/OS can prevent command line parameters from being
   passed into the USS shell script used to extract the
   packages with JAR.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The SDA processing engine was updated to place command line
   parameters in the shell environment as well as passing via
   command line.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   OA38950
   
   
 * REPORTED COMPONENT NAME
   MGMT SERVER DS
   
   
 * REPORTED COMPONENT ID
   5608A2800
   
   
 * REPORTED RELEASE
   623
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2012-02-28
   
   
 * CLOSED DATE
   2012-03-05
   
   
 * LAST MODIFIED DATE
   2016-02-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *     KDELIB
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CT/ENGINE
   
   
 * FIXED COMPONENT ID
   5608A41CE
   
   

APPLICABLE COMPONENT LEVELS
 * R623 PSY UA64470 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UA64470]
   UP12/03/09 P F203
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.