Title: IBM How to assign reports using Hive datasources to specific queues on Hadoop - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 By default reports which were built against HIVE datasources will be sent to a default processing queue on Hadoop.

It turns out that during peak time this queue is over used and over loaded due to high processing user/system demand so how to assign Cognos reports which use a particular HIVE datasource to different and not over loaded queues ? 

SYMPTOM
Reports based on HIVE datasource connections run with good performance during off peak periods however the same report(s) will take much longer to get completed - sometimes hours. 

When checking where on the server this(these ) reports are sent to, it is noticed they are being sent and put on a default queue for which use seems to be over capacity ( for example, it shows 200% usage while other queues shows less usage - please refer to screenshot )


CAUSE
Data source connection needs to have desired queue informed



ENVIRONMENT
C11 

Windows 

UX


DIAGNOSING THE PROBLEM
Same reports have expected performance during off peak period 

While checking queues on Hadoop/Yarn server


RESOLVING THE PROBLEM
Change the HIVE datasource connection to contain the desired queue. 

By default, the HIVE jdbc connection will inform the following: 

 

jdbc:hive2://<host>:<port>/<database> 

This needs to be changed so that the desired queue is informed:
jdbc:hive2://<Host:port>/dbname;transportMode=http;httpPath=cliservice?mapred.job.queue.name=<desired_queue_name>; 

The following should also work:

jdbc:hive2://<Host:port>/dbname;transportMode=http;httpPath=cliservice?hive.execution.engine=tez;tez.queue.name=<desired_queue_name>; 

[/support/docview.wss?uid=swg22008289&aid=2]Default queue over loaded.png [/support/docview.wss?uid=swg22008289&aid=1]