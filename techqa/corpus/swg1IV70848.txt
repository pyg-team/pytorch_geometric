Title: IBM IV70848: MISSING OPTION TO REDUCE CPU CONSUMPTION WHEN DATA COLLECTIONS ARE NOT REQUIRED - United States

Text:
  FIXES ARE AVAILABLE
IBM Tivoli Monitoring: Unix(R) OS Agent 6.3.0.5-TIV-ITM_UNIX-IF0001 [http://www-01.ibm.com/support/docview.wss?uid=swg24040403]
IBM Tivoli Monitoring 6.3.0 Fix Pack 6 (6.3.0-TIV-ITM-FP0006) [http://www-01.ibm.com/support/docview.wss?uid=swg24040390]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Problem:
   There are cases where the UNIX OS agent is only needed to
   support remote deploy or other infrastructural tasks. In these
   cases metrics data collections are not required and in
   particular it is not necessary to spawn the kuxagent children
   processes. Introducing a configuration variable to prevent these
   processes from starting would allow to save a lot of unnecessary
   CPU workload on such systems.
   
   
   
   Affected Platforms / Versions:
    This issue affects all the UNIX OS agent versions.
   
   
   
   Diagnostics:
    n/a
   
   
   
   Initial Impact:
    High, when the unnecessary CPU workload occurs on multiple
   virtual environments, like Solaris Local Zones or AIX WPARs, all
   on the same physical server.
   
   
   
   Additional Keywords:
    stat_daemon, mount_stat, kux_vmstat, ifstat, nfs_stat,
   kuxdstat, aixdp_daemon
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  The Monitoring Agent for UNIX OS is sometimes only installed to
   support remote deploy of other agents, or to perform take
   actions or other infrastructural tasks.  No operating system
   resources actually need to be monitored, but still the agent
   consumes a lot of CPU and memory because it starts the
   subdaemons for gathering statistical metrics (stat_daemon,
   ifstat, kux_vmstat, kuxdstat, nfs_stat, mount_stat and
   aixdp_daemon).
   
   In order for this APAR to be properly implemented in your
   environment, a new environment variable has been added.  See the
   "Install Actions" section of the APAR conclusion for more
   details.
   
        j
   
   
    
   
   

PROBLEM CONCLUSION
 *  Introduced new environment variable that allows to prevent
   subdaemons from starting.  When configured, all of the
   attributes that are based on metrics from the subdaemons will
   not be collected but the kuxagent main executable remains
   available to support infrastructure tasks.
   
   Install Actions:
   set KUX_DISABLE_SUBDAEMONS=true
   Allowed values are "true" or "false".  The default value is
   "false".
   
   
   The fix for this APAR will be contained in the following
   maintenance packages:
   
   | FixPack    | 6.3.0-TIV-ITM-FP0006
   | InterimFix | 6.3.0.5-TIV-ITM_UNIX-IF0001
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV70848
   
   
 * REPORTED COMPONENT NAME
   ITM AGENT UNIX
   
   
 * REPORTED COMPONENT ID
   5724C040U
   
   
 * REPORTED RELEASE
   630
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-03-12
   
   
 * CLOSED DATE
   2015-06-30
   
   
 * LAST MODIFIED DATE
   2015-12-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITM AGENT UNIX
   
   
 * FIXED COMPONENT ID
   5724C040U
   
   

APPLICABLE COMPONENT LEVELS
 * R630 PSY
   UP
   
   
 * R610 PSN
   UP
   
   
 * R620 PSN
   UP
   
   
 * R621 PSN
   UP
   
   
 * R622 PSN
   UP
   
   
 * R623 PSN
   UP