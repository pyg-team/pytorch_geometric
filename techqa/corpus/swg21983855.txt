Title: IBM Using Oracle statistics on the AlgoDB schema - United States

Text:
$AIDB_HOME/bin/orastats.sh; orastats; oracle; statistics; udsloader; uds; filter; algodb TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This is with regards to the UDS failure issue we had last month, I see that you were suggesting to run orastats.sh against a loaded ADB on a monthly basis, to prevent recurrences of the issue? Please explain this command and how to use it. 



Note1: request is Oracle specific and is not applicable to other Relational Database Managers such as MS-SQL or DB2.

Note2: This is applicable to AlgoOne version 4.9.0 and below only 

CAUSE
A symptom of not running orastats.sh is that the Riskwatch simulation can run slowly. To build up the instrument portfolios needed to calculate a simulation, Riskwatch needs to pull the instruments from the AlgoDB, it does this using UDS filters to select the specific instruments that it needs. UDS Filters are metadata queries that run various complex SELECT statements, if the underlying AlgoDB schema has out-of-date or inaccurate information about the indexes and tables then the result set will take longer to return back to UDS filter and therefore a slower response is experienced within Riskwatch.

RESOLVING THE PROBLEM
As a brief overview. Oracle has a built in 'optimizer' that will establish how best to execute the query to get the data back to the requestor in the fastest way. To do that the optimizer relies on a set of generated statistics that describe the indexes and table layout within that schema. These statistics can change over time as more data is added/removed from the database, so it's best if the statistics are updated in line with the changes made to the database.

Specifically to Algorithmics software, there is a built in command that runs the oracle statistics command on the AlgoDB, that is: $AIDB_HOME/bin/orastats.sh

We recommend that this command be run *after* all the UDSLoader statements have completed, therefore the statistics about the data are up to date, and any subsequent queries run on that database have the most accurate picture of the data layout.