Title: IBM Collecting Data:  ConfigEngine for WebSphere Portal 8.0 - United States

Text:
Collecting Data; Collecting Data; Collecting Data; MustGather; MustGather; MustGather; MustGatherDocument; ConfigEngine; database-transfer; modify-servlet-path; update-wcm; cluster-node-config-cluster-setup RECOMMENDED RESOURCES

ABSTRACT
 Collecting troubleshooting data for ConfigEngine issues with IBM® WebSphere® Portal 8.0 expedites time to resolution by enabling IBM Support to provide informed problem analysis. 

CONTENT
If you have already contacted IBM Support and must collect data to determine the nature of a problem in WebSphere Portal, review the information below for the available methods of data collection. Otherwise, review Collecting Data: Read first for WebSphere Portal 8.0. [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21591590] 

Collecting ConfigEngine information 

ConfigEngine issues include any problems you encounter when executing any ConfigEngine script. 



Automated collection of troubleshooting data Automated log collection is available for this data collection and is the recommended method for improving accuracy of the data collection.

IBM Support Assistant Data Collector (ISADC) for WebSphere Portal version 8
Download Tool [http://www.ibm.com/support/docview.wss?rs=688&ca=portall2&uid=swg24008662] | Access the Quick Start Guide [http://www-01.ibm.com/support/docview.wss?rs=688&uid=swg27008317]

After downloading the IBM Support Assistant Data Collector, perform the following steps to collect the data and send to IBM Support: 

1. Extract the contents of the downloaded file to the <wp_profile_root>\PortalServer directory, which will create the subdirectory "ISADC" (e.g. c:\WebSphere\wp_profile\PortalServer\ISADC). 

2. Run the isadc.bat file (Windows) or isadc.sh (UNIX or Linux) from the ISADC directory (e.g. c:\WebSphere\wp_profile\PortalServer\ISADC\isadc.bat). 

3. Provide the file name of the collection to be created: "<PMR #>.isadc.zip" (e.g. 22222,111,000.isadc.zip). 

4. Select the following options from the next set of command prompts: WebSphere Portal->Installation and Configuration Problem->Portal Configuration Problem. 

5. Next follow the series of prompts to set the tracing and reproduce the issue. For additional information on usage, access the Quick Start Guide [http://www-01.ibm.com/support/docview.wss?rs=688&uid=swg27008317]. If you choose not to FTP the files to IBM via ISADC, follow the instructions in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571].

Note: When sending in logs for review, include any console output from the ConfigEngine command that might be useful. 


Manual collection of troubleshooting data If you are unable to use IBM Support Assistant Data Collector (ISADC) for WebSphere Portal for automatic log collection, use the following instructions for manually collecting the necessary information.

I. Collecting and submitting logs and configuration data using wpcollector 

1. Run the following script from <wp_profile>/PortalServer/bin to collect the data: 

 * Windows: wpcollector.bat 
 * Linux/Unix/i: wpcollector.sh


Note: If you wish to use wpcollector to FTP the files to IBM Support, include the -Dpmr=<pmr_number> parameter to indicate the relevant PMR #. For example: wpcollector.bat -Dpmr=11111,222,333 

2. If you did not FTP your files via wpcollector, locate the "wp.mustgather.zip" file or the "<pmr #>-wp.mustgather-timestamp.zip" file in <wp_profile_root> [https://idoc2.swg.usma.ibm.com/portal/topic/com.ibm.wp.ent.doc_v70/reference/wpsdirstr.html#wpsdirstr__wp_profile_root]/filesForAutoPD/. Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571]. Note: When sending in logs for review, include any console output from the ConfigEngine command that might be useful. 

II. Collecting and submitting logs and configuration data manually 

1. Collect the following log directories and files: 

 * <wp_profile root>/ConfigEngine/log 
 * <wp_profile root>/ConfigEngine/properties 
 * <wp_profile root>/ConfigEngine/registry.xml 
 * <wp_profile root>/logs 
 * <wp_profile root>/PortalServer/jcr 
 * <wp_profile root>/PortalServer/config 
 * <wp_profile root>/config/cells/<cellname>/nodes 
 * <wp_profile root>/config/cells/<cellname>/wim 
 * <wp_profile root>/config/cells/<cellname>/security.xml 
 * <wp_profile>/config/cells/<cellname>/registry.xml
   


2. If you have a clustered environment, also collect the following directory from the DMGR:  * <dmgr_profile>/logs 
 * <dmgr_profile>/config/cells/<cellname>/nodes 
 * <dmgr_profile>/config/cells/<cellname>/clusters 
 * <dmgr_profile>/config/cells/<cellname>/security.xml 
 * <dmgr_profile>/config/cells/<cellname>/registry.xml
   


3. If possible, gather a full file listing of the WebSphere file structure so that the AppServer, PortalServer and profile directories are included. To do that, execute the following command: Windows: dir /S > fileListing.txt
Linux/UNIX: ls -latR > fileListing.txt


4. Include any console output from the ConfigEngine command that might be useful. 

5. Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571]. 

Related Information  * IBM Support Portal: WebSphere Portal Troubleshooting [http://www.ibm.com/support/entry/portal/Troubleshooting/Software/WebSphere/WebSphere_Portal] [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571] 
 * WebSphere Portal Family wiki: Troubleshooting [http://www.lotus.com/ldd/portalwiki.nsf/dx/Troubleshooting_wp8] 
 * Collecting Data: Read first for WebSphere Portal 8.0 [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21591590]



 * 
 *