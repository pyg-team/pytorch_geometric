Title: IBM Installing WebSphere Portal v8.0.0.1 Cumulative Fix 04 or 05 when Web Content Manager extensions have been installed. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM
WebSphere Portal version 8.0.0.1 and Web Content Manager version 8.0.0.1 include some new optional features, including Mulitlingual Solution (MLS), a set of tools used to manage translated versions of localized and regionalized websites, and Social Media Publisher (SMP), which allows you to post status updates about your content to Facebook profiles and pages. If you have installed any of these functions, then you will need to take extra steps to apply Cumulative Fix 04 or 05 to your system.

SYMPTOM
If Web Content Manager Multilingual Solution or Social Media Publisher has been installed on Portal Server V8.0.0.1, then an error will occur when applying Cumulative Fix 04 or 05. The error will appear in the ConfigTrace.log as:
Target started: import-wcm-data

import-wcm-data:
Target finished: import-wcm-data
--- Exception Thrown ---
C:\WP8001\PortalServer\wcm\prereq.wcm\config\includes\prereq.wcm_cfg.xml:5147: The following error occurred while executing this line:
java.lang.OutOfMemoryError: Java heap space
at org.apache.tools.ant.ProjectHelper.addLocationToBuildException(ProjectHelper.java:539)
at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:384)
at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:107)
at com.ibm.wps.config.tasks.AntCallTask.execute(AntCallTask.java:13)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
at org.apache.tools.ant.Task.perform(Task.java:364)
at org.apache.tools.ant.Target.execute(Target.java:341)
at org.apache.tools.ant.Target.performTasks(Target.java:369)
at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)
at org.apache.tools.ant.Project.executeTarget(Project.java:1185)
at com.ibm.wps.config.tasks.AntCallTask.execute(AntCallTask.java:18)
......


CAUSE
An error in the configuration code included in the Cumulative Fix causes an endless loop, and the update will fail with an OutOfMemoryError.



RESOLVING THE PROBLEM
To resolve the problem, take the following steps to install the cumulative fix: 

 

 1. Add the following line to the <wp_profileHome>/ConfigEngine/properties/wkplc.properties file:
    skip-wcm-extensions=true 
 2. Follow the published instructions to install the cumulative fix as usual. 
 3. Remove the "skip-wcm-extensions=true" line that was added in Step 1 from the wkplc.properties file. 
 4. Switch to the <wp_profileHome>/ConfigEngine directory and run the command:  * Windows:
       ConfigEngine.bat action-update-wcm-extensions -DWasPassword=<password> -DPortalAdminPwd=<portal_pwd> 
     * All other platforms:
       ./ConfigEngine.sh action-update-wcm-extensions -DWasPassword=<password> -DPortalAdminPwd=<portal_pwd>
    
    


The update is now complete. RELATED INFORMATION
 WebSphere Portal and WCM V8.0.0.1 Cumulative Fix Readme [http://www.lotus.com/ldd/portalwiki.nsf/xpDocViewer.xsp?lookupName=Cumulative+fix+readme+8.0.0.1#action=openDocument&res_title=WebSphere_Portal_and_Web_Content_Manager_V8.0.0.1_Combined_Cumulative_Fix_Readme_cf8001&content=pdcontent]