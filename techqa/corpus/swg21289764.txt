Title: IBM BPEL problem exists in the Business Process Choreographer Explorer for WebSphere Process Server (WPS) after deployment manager migration - United States

Text:
v61rnotes TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 In an IBM WebSphere Process Server V6.0.2 network deployment environment, when you migrate only the deployment manager to V6.1, a java.lang.NullPointerException exception occurs. Theis error occurs after starting the 6.0.2 node for the first time, then opening Business Process Choreographer Explorer, 
and starting a Business Process Execution Language (BPEL) instance. 

SYMPTOM
The following error message is displayed in the Business Process Choreographer Explorer and in the SystemOut.log file: 



java.lang.NullPointerException 
Exception Error Message 
Exception Stack Trace 
java.lang.NullPointerException
at com.sun.faces.el.VariableResolverImpl.resolveVariable(Variable
ResolverImpl.java:82)
at com.sun.faces.el.impl.NamedValue.evaluate(NamedValue.java:125)
at com.sun.faces.el.impl.ExpressionEvaluatorImpl.evaluate(Expression
EvaluatorImpl.java:243)
at com.sun.faces.el.ValueBindingImpl.getValue(ValueBindingImpl.java:156)
at com.sun.faces.el.ValueBindingImpl.getValue(ValueBindingImpl.java:137)
at com.ibm.bpe.jsf.util.FacesUtils.showErrorPage(FacesUtils.java:215)
at com.ibm.bpe.jsf.component.CommandHandler.handleClientException
(CommandHandler.java:319)
at com.ibm.bpe.jsf.component.CommandHandler.executeCommand(
CommandHandler.java:262)
at com.ibm.bpe.jsf.component.CommandHandler.processAction(
CommandHandler.java:103)


In addition, some application artifacts are missing from the remote artifact loader (RemoteAL) repository. Navigate to the following folder and note that some directories with application names are missing:


WPS602_HOME/profiles/profile_name/installedApps/cell_name/RemoteAL.ear/RemoteALWeb.war/artifacts


CAUSE
Business Process Choreographer relies on RemoteAL to find the artifacts it uses. When you start the WebSphere Process Server V6.0.2 node for the first time after migrating the deployment manager from V6.0.2 to V6.1, RemoteAL tries to extract all of the installed application artifacts to the following directory:


WPS602_HOME/profiles/profile_name/installedApps/cell_name/RemoteAL.ear/RemoteALWeb.war/artifacts


At the same time, the node agent synchronizes the deployment manager to the node. All of the installed applications, including RemoteAL, are synchronized. Because the extraction and synchronization operations occur in random order and modify the same folder, the results are unexpected and application artifacts might be missing.


RESOLVING THE PROBLEM
You can resolve this problem in one of two ways: 

 * Synchronize the node before starting it:
   
   
   WPS602_HOME/profiles/profile_name/bin/syncNode dmgr_host dmgr_port
   
   
 * Restart the node agent a second time by running these commands: 
   
   
   WPS602_HOME/profiles/profile_name/bin/stopNode
   WPS602_HOME/profiles/profile_name/bin/startNode