Title: IBM "This server is offline or unreachable" when clicking on the Home Menu dropdown in Rational Jazz Team Server - United States

Text:
This server is offline or unreachable; offline; SRVE0068E; unreachable; peer not authenticated; GSK_ERROR_BAD_KEYFILE_PASSWORD; GSK_ERROR_BAD_CERT TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote provides methods to troubleshoot an issue that occurs when you click on the Home Menu icon dropdown in IBM Rational Jazz Team Server (JTS) and see the message 'This server is offline or unreachable' for some or all the applications registered with the Jazz Team Server. 

SYMPTOM
The following symptoms are observed: 

 * When clicking on the Home Menu icon dropdown in Jazz Team Server or any applications that are registered with the Jazz Team Server, the message 'This server is offline or unreachable' is displayed for some or all the applications.
   
 * In the Server Administration Home page (https://<server:port>/jts/admin), links to the applications that are registered with the Jazz Team Server are not listed. Examples of these links are Applications, Users, Project Areas, and others.
   
 * You can still access all the applications' Administration page from the HTTP server which in this case is IBM HTTP server (IHS). The applications' administration pages shows OK status with no error. All services are running and the database status is good. In the 'Registered application' of the JTS Administration page, all the applications are listed as expected.
   
 * The server log SystemOut.log shows the following error:
   
   [6/28/12 10:35:28:244 EDT] 00000028 servlet E com.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E: Uncaught exception created in one of the service methods of the servlet equinoxbridgeservlet in application ccm_war. 
   Exception created : javax.servlet.ServletException: Failed to determine authentication method. The URL from the request is: https://<server_name>:9080/ccmnull 
   at 
   com.ibm.team.repository.service.internal.identity.UserIdentityHelper.getAuthMethod(UserIdentityHelper.java:260) 
   ...
   Caused by: javax.net.ssl.SSLPeerUnverifiedException: peer not authenticated
   at java.lang.Throwable.<init>(Throwable.java:67) 
   at com.ibm.jsse2.fc.getPeerCertificates(fc.java:27) 


CAUSE
IHS server started up with errors such as the following gsk error 408 (GSK_ERROR_BAD_KEYFILE_PASSWORD) which is found in http_plugin.log on the IHS server: 

[Tue Jul 3 13:39:54 2012] 00005d74 00000001 - ERROR: lib_security: logSSLError: str_security (gsk error 408): GSK_ERROR_BAD_KEYFILE_PASSWORD
[Tue Jul 3 13:39:54 2012] 00005d74 00000001 - ERROR: lib_security: initializeSecurity: Failed to initialize GSK environment
[Tue Jul 3 13:39:54 2012] 00005d74 00000001 - ERROR: ws_transport: transportInitializeSecurity: Failed to initialize security 


ENVIRONMENT
IBM Collaborative Lifecycle Management (CLM) Applications are deployed with IBM HTTP Server.



DIAGNOSING THE PROBLEM
 

 * Review the server logs (SystemOut.log, SystemErr.log) for any associated errors 
 * Review the HTTP Server logs (http_plugin.log, access.log, error.log) to see whether there are any GSK errors when starting up IHS.

RESOLVING THE PROBLEM
You can follow the steps in technote 1177702 HTTP plug-in log records "gsk error 408 (GSK_ERROR_BAD_KEYFILE_PASSWORD)" [http://www.ibm.com/support/docview.wss?uid=swg21177702] to resolve the GSK 408 (GSK_ERROR_BAD_KEYFILE_PASSWORD) error. 


Once you address the GSK 408 error, the HTTPS transports should load in plugin. You may then experience a Gskit 414 (GSK_ERROR_BAD_CERT) error during the SSL handshake between the IHS plugin and IBM WebSphere if you did not add the WebSphere certificate being used by WebSphere into the plugin-key.kdb "signer certificates" section. If you run into this 414 error after correcting the 408 error, refer to technote 1433593 "GSK_ERROR_BAD_CERT" error in IBM Web Server Plug-in V7.0 (and later) [http://www.ibm.com/support/docview.wss?uid=swg21433593] to resolve the error

Note: You will need to implement this for each server (if using different WebSphere certificates).


 

 

Leverage the Jazz Community The Jazz based products have an active community that can provide you with additional resources. Browse and contribute to the User forums, contribute to the Team Blog and review the Team wiki.
Refer to technote 1319600 [http://ibm.com/support/docview.wss?uid=swg21319600] for details and links.

RELATED INFORMATION
#Request failures accessing WebSphere App server [http://www.ibm.com/support/docview.wss?uid=swg21141306]