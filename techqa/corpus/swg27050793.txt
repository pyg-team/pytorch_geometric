Title: IBM Post-upgrade tasks for IBM Business Process Manager V8.6 CF2018.03 - United States

Text:
 PRODUCT README

ABSTRACT
 After you successfully upgrade your IBM Business Process Manager V8.6 cumulative fix (CF) 2018.03 environment, some additional configuration steps might be required.

Consider the following tasks if any of the fixes in the table affect your environment or how you use the product. 

CONTENT





TAB NAVIGATION
 * Fix list [http://www.ibm.com/support/docview.wss?uid=swg27050792]
 * What's new [http://www.ibm.com/support/docview.wss?uid=swg27050794]
 * Downloading the cumulative fix [http://www.ibm.com/support/docview.wss?uid=swg24044425]
 * Installing the cumulative fix [http://www.ibm.com/support/docview.wss?uid=swg27050788]
 * Upgrading the profiles from V8.6.x [http://www.ibm.com/support/docview.wss?uid=swg27050790]
 * Upgrading the profiles from V8.5.x [http://www.ibm.com/support/docview.wss?uid=swg27050789]
 * Post-upgrade tasks [http://www.ibm.com/support/docview.wss?uid=swg27050793]- selected tab,




Important notes 
 * Depending on the version of IBM BPM version you are upgrading from, you must also look at earlier post-upgrade tasks:  *   * Post-installation tasks for IBM Business Process Manager V8.5.6 CF02 and V8.5.6 CF01 [http://www.ibm.com/support/docview.wss?uid=swg27047155] 
       * Post-upgrade tasks for IBM Business Process Manager V8.5.7 [http://www.ibm.com/support/docview.wss?uid=swg27047585] 
       * Post-upgrade tasks for IBM Business Process Manager V8.5.7 Cumulative Fix (CF) 2016.09 and CF2016.06 [http://www.ibm.com/support/docview.wss?uid=swg27048418] 
       * Post-upgrade tasks for IBM Business Process Manager V8.5.7 Cumulative Fix (CF) 2016.12 [http://www.ibm.com/support/docview.wss?uid=swg27049143] 
       * Post-upgrade tasks for IBM Business Process Manager V8.5.7 Cumulative Fix (CF) 2017.03 [http://www.ibm.com/support/docview.wss?uid=swg27049396] 
       * Post-upgrade tasks for IBM Business Process Manager V8.5.7 Cumulative Fix (CF) 2017.06 [http://www.ibm.com/support/docview.wss?uid=swg27049932] 
       * Post-upgrade tasks for IBM Business Process Manager V8.6 [http://www.ibm.com/support/docview.wss?uid=swg27050104] 
       * Post-upgrade tasks for IBM Business Process Manager V8.6 CF2017.12 [http://www.ibm.com/support/docview.wss?uid=swg27050529]
         For example, if you are upgrading from IBM BPM V8.5.7 CF2017.06, also look at the Post-upgrade tasks for IBM Business Process Manager V8.6 [http://www.ibm.com/support/docview.wss?uid=swg27050104] and the Post-upgrade tasks for IBM Business Process Manager V8.6 CF2017.12 [http://www.ibm.com/support/docview.wss?uid=swg27050529].
         
      
      
   
   
 * After IBM Process Center is successfully upgraded, update your process applications to the latest IBM BPM toolkit levels so you can integrate the latest improvements and defect fixes associated with the toolkit objects. After you update to the latest IBM BPM toolkit levels, you might notice small behavior changes in your process application, such as to the user interfaces, which you might need to modify.
   
 * Installing cumulative fixes can modify the existing system toolkits for the associated version. If your applications are associated with the latest system toolkits, they will automatically include the changes. 

 * Change the security parameter names in your scripts. For more information, see the "Security-hardening properties with the ProcessServer prefix" entry in Table 1. Deprecated features for IBM BPM V8.6.0 of Deprecated and removed features [https://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.main.doc/topics/gbpm_deprecationlist.html]. 


Post-upgrade steps for V8.6 CF2018.03 

Interim fix (APAR) Description Tasks to enable the function JR58201 [http://www.ibm.com/support/docview.wss?uid=swg1JR58201]
When a task is interrupted by an intermediate event, its status might not be correctly updated in IBM Process Portal. When the <cancel-fire-on-close-regardless> property is set to true, the terminate event is triggered regardless of the task's status. Otherwise the terminate is triggered only if it isn't already closed. To fire task events regardless of the task status, such as when a task is marked as closed but it's still open in the Process Portal index or you use the APIs to simultaneously close and cancel a task, add the following lines to the 100Custom.xml file for IBM Process Center and IBM Process Server 
<server>
<bpd-engine>
<cancel-fire-on-close-regardless merge="replace">true</cancel-fire-on-close-regardless>
</bpd-engine>
</server>

by following this procedure:


 1. Stop the servers of your IBM BPM deployment environment. 
 2. Start the scripting client in disconnected mode as described in updateBPMConfig command [https://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.ref.doc/topics/rref_updatebpmconfig.html]. 
 3. Run the following commands:
    
    wsadmin> AdminTask.updateBPMConfig( [ '-create', '/server' ] )
    wsadmin> AdminTask.updateBPMConfig( [ '-create', '/server/bpd-engine' ] )
    wsadmin> AdminTask.updateBPMConfig( [ '-create', '/server/bpd-engine/cancel-fire-on-close-regardless', '-xNodeValue', 'true' ] )
    wsadmin> AdminConfig.save()
    
 4. Restart the servers of your IBM BPM environment.


For more information, seeModifying runtime server configuration properties [https://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/cadm_modconfigprops.html]and The 100Custom.xml file and configuration [https://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/managing_twks_config_settings.html]. JR59199 [http://www.ibm.com/support/docview.wss?uid=swg1JR59199]
You can't configure email notification to allow communication with the mail server via SSL. You might need the ability to add configuration to the email notification mechanism of IBM Business Process Manager (BPM) Standard to allow communication with the mail server via SSL. To allow communication with the mail server via SSL, add the <use-ssl > parameter to the 100Custom.xml file for Process Center and Process Server. If your mail server uses a custom port, also add the <mail-smtp-port> parameter, for example

<server>
<email>
<use-ssl merge="replace">true</use-ssl>
<mail-smtp-port merge="replace">465</mail-smtp-port>
<ssl-protocols merge="replace">TLSv1.2</ssl-protocols>
</email>
</server>

Follow this procedure:
 1. Stop the servers of your IBM BPM deployment environment. 
 2. Start the scripting client in disconnected mode as described in updateBPMConfig command [https://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.ref.doc/topics/rref_updatebpmconfig.html]. 
 3. Run the following commands:
    
    wsadmin> AdminTask.updateBPMConfig( [ '-create', '/server' ] )
    wsadmin> AdminTask.updateBPMConfig( [ '-create', '/server/email' ] )
    wsadmin> AdminTask.updateBPMConfig( [ '-create', '/server/email/use-ssl', '-xNodeValue', 'true' ] )
    wsadmin> AdminTask.updateBPMConfig( [ '-create', '/server/email/mail-smtp-port', '-xNodeValue', '465' ] )
    wsadmin> AdminConfig.save()
    
 4. Restart the servers of your IBM BPM environment. 
 5. In the <install_root>/BPM/Lombardi/lib directory, add the version of jaxamail.jar you want to use (minimum 1.4.5).


If your mail server uses a SSL protocol other than TLSv1.2, add the <ssl-protocols> parameter too, specifying a whitespace-separated list of SSL protocols.

Note: You can remove the <mail-smtp-port> setting to revert to using the default port.

For more information, seeModifying runtime server configuration properties [https://www.ibm.com/support/knowledgecenter/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/cadm_modconfigprops.html]and The 100Custom.xml file and configuration [https://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.6.0/com.ibm.wbpm.admin.doc/topics/managing_twks_config_settings.html]. 



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Process Manager Express Installation / Configuration Linux, Windows 8.5.7.CF201706, 8.5.7.CF201703, 8.5.7.CF201612, 8.5.7.CF201609, 8.5.7.CF201606, 8.5.7, 8.5.6.2, 8.5.6.1, 8.5.6, 8.5.5 Business Integration IBM Business Process Manager Standard Installation / Configuration AIX, Linux, Solaris, Windows 8.5.7.CF201706, 8.5.7.CF201703, 8.5.7.CF201612, 8.5.7.CF201609, 8.5.7.CF201606, 8.5.7 Business Integration IBM Business Process Manager Advanced Installation / Configuration AIX, Linux, Solaris, Windows, z/OS 8.5.7.CF201706, 8.5.7.CF201703, 8.5.7.CF201612, 8.5.7.CF201609, 8.5.7.CF201606, 8.5.7 Business Integration IBM Business Process Manager Installation / Configuration AIX, Linux, Windows 8.6.0.CF201712, 8.6 IBM Business Process Manager Server, IBM Business Process Manager Server Express PRODUCT ALIAS/SYNONYM
 BPM