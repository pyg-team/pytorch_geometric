Title: IBM IC54522: WebSphere MQ and JMS bindings do not transpose message expiry   dates through into generated SCA messages - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When using WebSphere MQ or JMS bindings, the MQMD expiry or
   JMSExpiration properties of the message are not transposed
   down into any generated SCA message's timeout property.
   
   The consequence of this is that should the WebSphere MQ or
   JMS messages expire for some reason in the message flow,
   generated SCA messages may be left on the Mediation Flow
   Component's interim destinations (eg. the Callback and
   Context destinations).  As messages do not have their
   expiry time set, they never expire and may build up, and
   would need to be deleted by hand to remove them from the
   destinations.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Users of WebSphere Enterprise Service Bus    *
   *                 and WebSphere Process Server v6.0 who are    *
   *                 using JMS or WebSphere MQ message bindings   *
   *                 with WebSphere MQ or JMS messages with a     *
   *                 defined message expiry time.                 *
   ****************************************************************
   * PROBLEM DESCRIPTION: The timeout value within WebSphere MQ   *
   *                      and JMS messages is not transposed      *
   *                      through to created SCA messages.        *
   ****************************************************************
   * RECOMMENDATION: If you encounter this problem and find that  *
   *                 you have interim SCA messages building up    *
   *                 within your runtime server's destinations,   *
   *                 (eg. context messages or callback messages)  *
   *                 you can delete them manually.  Obtaining     *
   *                 the code fix which is associated with this   *
   *                 APAR will result in new interim messages     *
   *                 having their expiration time set to match    *
   *                 the JMS or WebSphere MQ message.             *
   ****************************************************************
   When SCA messages are created from WebSphere MQ or JMS message
   bindings, the MQMD expiry or JMSExpiration times are not set
   within the internal SCA message.  Should the request/response
   message flow fail for some reason (for example with a modelled
   fault), then these interim messages may not be deleted from
   these destinations, which will in turn lead to a build up of
   messages as they will not expire.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code was modified such that the expiry times are transposed
   into the interim SCA messages.  This means that once the
   expiration times for the WebSphere MQ or JMS messages is
   reached, these interim messages will also expire and be removed
   from the interim destinations.
   
   Other than manually deleting these messages periodically, there
   are no known workarounds for this issue.
   
   Note that applying the code fix will not expire (and therefore
   remove) existing timed out interim messages on the
   destinations.  Any messages which should have expired prior
   to applying the code fix must be removed manually.
   
   The code fix was targetted to be included with:
   
       v6.0.2 Fix Pack 4  (v6.0.2.4)
   
   The code fix was also included in v6.1.0.0, so this problem
   is also resolved in the v6.1 version of the product.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC54522
   
   
 * REPORTED COMPONENT NAME
   WEB ESB FOR WIN
   
   
 * REPORTED COMPONENT ID
   5724I8200
   
   
 * REPORTED RELEASE
   200
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-11-27
   
   
 * CLOSED DATE
   2008-03-06
   
   
 * LAST MODIFIED DATE
   2008-03-06
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEB ESB FOR WIN
   
   
 * FIXED COMPONENT ID
   5724I8200
   
   

APPLICABLE COMPONENT LEVELS
 * R100 PSN
   UP
   
   
 * R200 PSY
   UP
   
   
 * R300 PSN
   UP