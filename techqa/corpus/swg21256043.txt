Title: IBM MustGather: Service Data Objects (SDO) problems for WebSphere Application Server - United States

Text:
mustgather; mustgather; mustgather; SDO; WDO; datagraph; mediator; mediation; JDO; DMS; CWSJO; schema; commonj; commonj.sdo; MustGatherDocument TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Collecting data for problems with the IBM WebSphere Application Server Service Data Objects (SDO) component. Gathering this MustGather information before calling IBM support will help you understand the problem and save time analyzing the data. SDOs use mediators. IBM WebSphere Application Server supports a number of data mediators, such as JDBC and XML. 

RESOLVING THE PROBLEM
For more information on SDO, see Introduction to Service Data Objects [http://www.ibm.com/developerworks/java/library/j-sdo/].
If you have already contacted support, continue on to collect SDO MustGather data. Otherwise, click: MustGather: Read first for WebSphere Application Server. [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21145599]

SDO specific MustGather information 

 1. What type of Mediation are you using, JDBC, EJB, XML, or other?
    
    
 2. Is this a problem in programming with the SDO APIs or with the data returned from SDO?
    
    
 3. Can you provide a code snippet of the code that is using SDO?
    
    
 4. If you are using a custom data binder with your SDO application, please provide a copy of the binding.
    
    
 5. If possible, please provide a copy of the datagraph you are using.
    
    
 6. What is your back-end data source? For example, DB2 UDB 8.2 database.
    
    
 7. Enable the following trace:  * For a servlet:
       a. Run genHistoryReport.bat or genHistoryReport.sh which is located in the following directory:
       
       
       install_root/profiles/profile_name/bin 
       The historyreport.html file will be generated in your working directory. 
       b. Log on to the administrative console.
       
       
       c. In the left panel, expand Troubleshooting.
       
       
       d. Click on Logs and Trace.
       
       
       e. In right panel, click on Logging and Tracing > server_name > Diagnostic Trace Service.
       
       
       f. Perform the following tasks in Configuration tab:  1. Select the Enable Log property.
           
           
        2. In the Trace Output, choose File Name and type a file name.
           
           
        3. Increase the Maximum file size to 100 MB.
           
           
        4. Increase Maximum number of historical files to 10 as well.
           
           
        5. Select Basic (Compatible) Trace Output Format unless otherwise specified by support.
           
           
       
       g. Navigate back to Logging and Tracing > server_name > Change Log Detail Levels.
       
       
       h. In the Configuration tab under Trace Specification, enter the following line:
       
       
       *=info:com.ibm.ws.sdo.*=all
       :com.ibm.websphere.sdo.*=all
       :WAS.j2c=all
       :WAS.database=all
       :RRA=all
       :Webcontainer=all
       :HTTPChannel=all
       :GenericBNF=all 
       Note: The preceding string should be entered as 1 line, with no spaces. 
       i. Click Apply then OK and then Save your configuration (select Synchronize changes with Nodes option).
       
       
       j. Stop the Application Server.
       
       
       k. Clear all logs for your Application Server:  * native_stderr 
        * native_stdout 
        * SystemErr 
        * SystemOut
       
       
       The logs are located in the following directory:
       
       
       install_root/profiles/profile_name/logs/server_name 
       If you are configured to write Application Server log files into a different location, then clear 
       them accordingly. 
       l. Stop the Node Agent.
       
       
       m. Clear all Application Server FFDC logs. FFDC files are located in the followign directory:
       
       
       install_root/profiles/profile_name/logs/ffdc 
       If you are configured to write FFDC log files into a different location, then clear them accordingly. 
       n. Start the Node Agent and WebSphere Application Server.
       
       
       o. Recreate the problem.
       
       
       p. Run the collector tool [http://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.doc/ae/ttrb_runct.html] to create a JAR file of the logs, trace, and configuration.
    
    
    For an EJB
    Enable the following trace events  1.  Run genHistoryReport.bat or genHistoryReport.sh which is located in the following directory:
         
         
         install_root/profiles/profile_name/bin 
         The historyreport.html file will be generated in your working directory. 
         
     2.  Log on to the administrative console.
         
         
     3.  In left panel expand Troubleshooting.
         
         
     4.  Click on Logs and Trace.
         
         
     5.  In the right panel click on Logging and Tracing > server_name > Diagnostic Trace Service.
         
         
     6.  Perform the following tasks in the Configuration tab:  1. Select the Enable Log property.
             
             
          2. In the Trace Output, choose File Name and type a file name.
             
             
          3. Increase the Maximum file size to 100 MB.
             
             
          4. Increase Maximum number of historical files to 10 as well. 
             
             
          5. Select Basic (Compatible) Trace Output Format unless otherwise specified by support.
             
             
         
         
     7.  Navigate back to Logging and Tracing > server_name > Change Log Detail Levels.
         
         
     8.  In the Configuration tab under Trace Specification, enter the following line:
         
         
         *=info:com.ibm.ws.sdo.*=all
         :com.ibm.websphere.sdo.*=all
         :WAS.j2c=all
         :WAS.database=all
         :RRA=all
         :EJBContainer=all 
         Note: The preceding string should be entered as 1 line, with no spaces. 
         
     9.  Click Apply then OK and then Save your configuration (select Synchronize changes with Nodes option).
         
         
     10. Stop the Application Server.
         
         
     11. Clear all logs for your Application Server:  * native_stderr 
          * native_stdout 
          * SystemErr 
          * SystemOut
         
         
         The logs are located in the following directory:
         
         
         install_root/profiles/profile_name/logs/server_name 
         If you are configured to write Application Server log files into a different location, then clear them accordingly. 
         
     12. Stop the Node Agent.
         
         
     13. Clear all Application Server FFDC logs. FFDC files are located in the following directory:
         
         
         install_root/profiles/profile_name/logs/ffdc 
         If you are configured to write FFDC log files into a different location, then clear them accordingly. 
         
     14. Start the Node Agent and Application Server.
         
         
     15. Recreate the problem.
         
         
     16. Run the collector tool [http://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.nd.doc/ae/ttrb_runct.html] to create a JAR file of the logs, trace, and configuration.
    
    
    
 8. Follow instructions to send diagnostic information to IBM support [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21153852].


For a listing of all technotes, downloads, and educational materials specific to the SDO component, search the WebSphere Application Server Product Support page [http://www-306.ibm.com/software/webservers/appserv/was/support/]. The IBM developerWorks [http://www.ibm.com/developerworks] site also has some helpful technical articles and tutorials. RELATED INFORMATION
 Recording your screen to share with IBM Support [https://www.ibm.com/developerworks/community/blogs/IBMElectronicSupport/entry/recording_your_screen_to_share_with_support?lang=en]





Cross reference information Segment Product Component Platform Version Edition Application Servers Runtimes for Java Technology Java SDK