Title: IBM TSO logon reconnect fails - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User is logged on to TSO via TPX Session Manager. They get disconnected and attempt to perform a logon reconnect. The logon reconnect fails.
In V1R11 and above the LOGONHERE function will also fail. 

SYMPTOM
IEF402I userid FAILED IN ADDRESS SPACE 00A9 SESSID=+MASTER+474 

 SYSTEM ABEND S622 
IST804I CLOSE IN PROGRESS FOR TSOnnnn OPENED BY userid 
IST400I TERMINATION IN PROGRESS FOR APPLID TSO0001 
IST804I CLOSE IN PROGRESS FOR TSOnnnn OPENED BY userid 
IST400I TERMINATION IN PROGRESS FOR APPLID TSOnnnn 
IST805I VTAM CLOSE COMPLETE FOR TSOnnnn 
IST805I VTAM CLOSE COMPLETE FOR TSOnnnn 
IEF187I userid FAILED - SYSTEM ERROR IN INITIATOR SESSID=*UNKNWN* 
IEF450I userid name TSOPROC - ABEND=S922 U0000 REASON=00000000 TIME=
BOC987I JOB=userid STP=IEFPROC RC=S922 
IEF170I 3 userid BOC987I JOB=userid STP=IEFPROC RC=S922 
HASP395 userid ENDED 
HASP250 userid URGED -- (JOB KEY WAS ) 
IEF170I 3 userid IEC223I IC,IFG0200V,MSTJCL00,INIT,UNKNOWN 
IKT120I CLOSE ACB FOR TSOnnnn FAILED, CODE = 00000004, ERROR = 00 


RESOLVING THE PROBLEM
TPX was configured to use SHR terminal type. The terminal type should be GRP or UNQ to allow TSO reconnect. Refer to TPX Systems Administrators Guide, Customizing TSO section. This section discusses tailoring TSO to work with Unicenter CA-TPX.

Creating an Application Definition 

Complete the following steps to create an application definition for TSO: 

1. Specify one of the following in the Type field of the application characteristics Table (ACT): 

GRP—Specify GRP if you want to use the TSO RECONNECT parameter or if you use data in the SessionData field in Session Options in user or profile maintenance to pass data to the application when it is activated. For more information, see TSO RECONNECT in this same chapter. 

SHR—Specify SHR if you do not want to use the TSO RECONNECT parameter or if you do not want to use data in the SessionData field in Session Options in user or profile maintenance to pass data to the application when it is activated. 

UNQ - for applications that require a separate virtual terminal for each user. Example: INFO/NET.