Title: IBM IT20317: SVC PROBE FAILS WHEN PERSISTING INFORMATION INTO THE DATABASE - United States

Text:
AIX SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The backend data returned for the SVC was too large to fit into
   one of the table fields.  This data is complex and the following
   error can occur when inserting it into the database:
   
    com.ibm.db2.jcc.am.SqlDataException: DB2 SQL Error:
   SQLCODE=-302, SQLSTATE=22001, SQLERRMC=null, DRIVER=4.19.49
   	at com.ibm.db2.jcc.am.kd.a(Unknown Source)
   	at com.ibm.db2.jcc.am.kd.a(Unknown Source)
   	at com.ibm.db2.jcc.am.kd.a(Unknown Source)
   	at com.ibm.db2.jcc.am.fp.b(Unknown Source)
   	at com.ibm.db2.jcc.am.fp.c(Unknown Source)
   	at com.ibm.db2.jcc.t4.bb.l(Unknown Source)
   	at com.ibm.db2.jcc.t4.bb.a(Unknown Source)
   	at com.ibm.db2.jcc.t4.p.a(Unknown Source)
   	at com.ibm.db2.jcc.t4.wb.b(Unknown Source)
   	at com.ibm.db2.jcc.am.gp.tc(Unknown Source)
   	at com.ibm.db2.jcc.am.gp.b(Unknown Source)
   	at com.ibm.db2.jcc.am.gp.b(Unknown Source)
   	at com.ibm.db2.jcc.am.gp.lc(Unknown Source)
   	at com.ibm.db2.jcc.am.gp.executeUpdate(Unknown Source)
   	at
   com.ibm.tpc.infrastructure.database.DBPreparedStatement.executeU
   pdate(DBPreparedStatement.java:110)
   	at
   com.ibm.tpc.infrastructure.mapping.AbstractDBAttributeMapper.att
   emptInsert(AbstractDBAttributeMapper.java:2574)
   	at
   com.ibm.tpc.infrastructure.mapping.AbstractDBAttributeMapper.per
   sistWithJDBC(AbstractDBAttributeMapper.java:2685)
   	at
   com.ibm.tpc.infrastructure.mapping.AbstractDBAttributeMapper.per
   sist(AbstractDBAttributeMapper.java:1199)
   	at
   com.ibm.tpc.infrastructure.mapping.CLISVC_ControllerToBackendCon
   trollerDBMapper.persist(CLISVC_ControllerToBackendControllerDBMa
   pper.java:135)
   	at
   com.ibm.tpc.disk.collection.DiskCIMProcessor.persist(DiskCIMProc
   essor.java:1885)
   	at
   com.ibm.tpc.discovery.parser.NAPI_DS_SVC_Parser.persistEntity(NA
   PI_DS_SVC_Parser.java:272)
   	at
   com.ibm.tpc.discovery.parser.NAPI_DS_SVC_Parser.processOutputFil
   e(NAPI_DS_SVC_Parser.java:211)
   	at
   com.ibm.tpc.disk.discovery.SVC_CLI_PostProcess.parse(SVC_CLI_Pos
   tProcess.java:85)
   	at
   com.ibm.tpc.disk.discovery.NAPIProbePostProcess.process(NAPIProb
   ePostProcess.java:427)
   	at com.ibm.tpc.Router.perform(Router.java:673)
   	at com.ibm.tpc.Router.perform(Router.java:415)
   	at
   com.ibm.tpc.discovery.ProcessProcessor.process(ProcessProcessor.
   java:74)
   	at
   com.ibm.tpc.infrastructure.threads.TPCThread.run(TPCThread.java:
   260)
   com.ibm.tpc.infrastructure.mapping.CLISVC_ControllerToBackendCon
   trollerDBMapper persistWithJDBC(DBConnection conn, Hashtable
   htValues, String scanID)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * IBM Spectrum Control 5.2.x users monitoring SVC storage      *
   * devices                                                      *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * The backend data returned for the SVC was too large to fit   *
   * into one of the IBM Spectrum Control table fields.  This     *
   * data is complex and caused an error when attempted to insert *
   * it into the database.                                        *
   *                                                              *
   * This problem has occurred when an SVC has numerous WWNs for  *
   * a backend controller, the list of WWPNs exceeded over 300    *
   * characters.                                                  *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Apply fix maintenance when available                         *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is contained in the following maintenance
   package:
   
   | refresh pack | 5.2-TIV-TPC-RP0015 - August 2017
   
   Fixed in IBM Spectrum Control 5.2.15
   
   http://www.ibm.com/support/docview.wss?&uid=swg21320822 [http://www.ibm.com/support/docview.wss?&uid=swg21320822]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT20317
   
   
 * REPORTED COMPONENT NAME
   TPC ADVANCED
   
   
 * REPORTED COMPONENT ID
   5608TPCA0
   
   
 * REPORTED RELEASE
   529
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-04-21
   
   
 * CLOSED DATE
   2017-09-18
   
   
 * LAST MODIFIED DATE
   2017-09-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TPC ADVANCED
   
   
 * FIXED COMPONENT ID
   5608TPCA0
   
   

APPLICABLE COMPONENT LEVELS
 * R529 PSY
   UP
   
   
 * R52A PSY
   UP
   
   
 * R52B PSY
   UP
   
   
 * R52C PSY
   UP
   
   
 * R52D PSY
   UP
   
   
 * R52E PSY
   UP