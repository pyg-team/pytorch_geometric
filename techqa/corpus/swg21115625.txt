Title: IBM MustGather: Performance, hang, or high CPU issues on Solaris - United States

Text:
mustgather; mustgather; mustgather; ProblemDeterminationTool; Sun; MustGatherDocument; WASSDK hung slow; autopd TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 If you are experiencing performance degradation, hang, no response, hung threads, CPU starvation, high CPU utilization, network delays, or deadlocks, this MustGather will assist you in collecting the critical data that is needed to troubleshoot your issue. 

RESOLVING THE PROBLEM


 If you are experiencing performance degradation, hang, no response, hung threads, CPU starvation, high CPU utilization, network delays, or deadlocks, this MustGather will assist you in collecting the critical data that is needed to troubleshoot your issue.

Complete the following three steps:

(1) Collecting the required data:

If you have not already done so, enable verboseGC [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21114927] and restart the problematic server(s) [http://www.ibm.com/support/docview.wss?uid=swg21114927].

At the time of the problem, run the attached script with the following command:

./solperf.sh [PID]


[/support/docview.wss?uid=swg21115625&aid=2] solperf.sh [/support/docview.wss?uid=swg21115625&aid=1] 
This script will create a file named solperf_RESULTS.tar.gz and write three thread dumps to the native_stdout.log. This script should be executed as the root user. As with any script, you may need to add execute permissions before executing the script (chmod). 

In the above command, [PID] is the Process ID of the problematic JVM(s). If specifying multiple Process IDs they should each be separated by a space. 

(2) Collecting log files and configuration data: 

Collect the server logs (SystemOut.log, native_stdout.log,...) from the problematic server(s): 

profile_root /logs/ server_name /* 

Collect the server.xml from the problematic server(s): 

profile_root /config/cells/ cell_name /nodes/ node_name /servers/ server_name /
server.xml 

(3) Finishing up and submitting the results: 

Zip/Tar all the files gathered: 
 * solperf_RESULTS.tar.gz 
 * server logs (SystemOut.log, native_stdout.log,...) 
 * server.xml


Send the results to IBM Support: "Exchanging information with IBM Support" [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21153852] 


Frequently Asked Questions: 
 * What is the impact of enabling verboseGC?
   
 * 
 * 
 * 
 * What is the solperf_RESULTS.tar.gz file and where can I find it?
 * 
 * 


RELATED INFORMATION
 Recording your screen to share with IBM Support [https://www.ibm.com/developerworks/community/blogs/IBMElectronicSupport/entry/recording_your_screen_to_share_with_support?lang=en]


 


Cross reference information Segment Product Component Platform Version Edition Application Servers WebSphere Application Server - Express Hangs/performance degradation Solaris 8.5, 8.0, 7.0, 6.1 Application Servers Runtimes for Java Technology Java SDK