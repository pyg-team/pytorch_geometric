Title: IBM Host On-Demand Enhanced Web Express Logon (WEL) support - United States

Text:
1255893 TECHNOTE (FAQ)

QUESTION
 With IBM Host On-Demand V9.04 and V10.0 and z/OS® Communications Server V1R7 and V1R8, IBM® has enhanced its Web Express Logon (WEL) support.


CAUSE
With Host On-Demand V9.04 and V10.0 and z/OS Communications Server V1R7 and V1R8, IBM has enhanced its Web Express Logon (WEL) support to allow a foreign principal name such as a Kerberos principal name to be passed to RACF to obtain a passticket for a 3270 host application. This solution does not require Kerberos authentication, but it may be desirable in a solution where Kerberos is already being used for accessing other applications, and where principal names have been defined. This function is only available for Host On-Demand clients running Windows® operating system that are connected to a Windows Domain controller.

ANSWER
 Please refer to the Web Express Logon Whitepaper [ftp://ftp.software.ibm.com/software/network/hostondemand/library/whitepapers/wel2.pdf] for information on how to configure Host On-Demand for Express Logon. This technote only documents the additional steps required to obtain a passticket using a network id as a foreign principal name. 

The steps required to enable this new support are as follows:

Host On-Demand Setup
There are a few new HTML parameters required to enable this feature. These are documented in the table below. The parameters can all be entered through the HTML Parameters facility when using the Deployment Wizard. 



HTML Parameter Value Default value (if parameter not present) WindowsDomain Name of the domain to which the user is connected. Multiple domains are allowed in a comma-separated list. The domain must be fully qualified such as “was61.raleigh.ibm.com” None AppendDomainName true – enables Host On-Demand client code to construct an ID that includes the user id plus the domain name as the local id
false – the domain name is not appended as the local id false UppercaseLocalID true – results in a local id using all upper case. 
false - the id is constructed in all lower case. false AppendApplID true – appends the application ID as part of the local id
false – does not append the application id
Note: This would only be used if a user had different host ids for different applications. false UseridBeforeDomainName true – constructs the local id as user/domain_name
false – constructs the local id as domain_name/user.
This must match how the definitions were made in RACF. false 
RACF Setup 
Two steps are required for RACF to generate passtickets for a foreign principal name. First, for the host application to accept passtickets, a passticket data profile must be defined. RACF provides passticket support using the PTKTDATA class. 

Secondly, in order to map a foreign principal name, the id must be mapped to a RACF user ID by defining general resource profiles in the KERBLINK class for each user using RDEFINE and RALTER commands. The name of the KERBLINK profile for a foreign principal contains the principal name, fully qualified with the name of the foreign realm. As an example of what would be defined in RACF, for user skyora on the domain kerbzos.endicott.ibm.com/skyora with RACF User ID of PETRS: RDEFINE KERBLINK /.../KERBZOS.ENDICOTT.IBM.COM/SYKORA APPLDATA('PETRS') 

Note: If a user has different host ids for different host applications, the application id can be entered as part of the KERBLINK, and the HTML parameter AppendApplID would be required for Host On-Demand. For example if user skyora used a host id of PETRS for application NM30CICS and a host id of SYKORA for application NM30TSO1, the following RDEFINES would be required. 

RDEFINE KERBLINK /.../KERBZOS.ENDICOTT.IBM.COM/SYKORA_NM30CICS APPLDATA('PETRS')
RDEFINE KERBLINK /.../KERBZOS.ENDICOTT.IBM.COM/SYKORA_NM30TSO1 APPLDATA('SYKORA')

Refer to the RACF Security Administrators Guide for additional information on KERBLINK profiles and Passticket Profiles in RACF.

DCAS Setup
DCAS is Tcp/Ip server that runs on z/OS and is in the Web Express Logon solution to interface between Host On-Demand and RACF and provide the User ID and passticket to the Host On-Demand end user. z/OS Communications Server V1R7 DCAS Server must be configured to support the receipt of a foreign principal name from Host On-Demand. This requires APAR PK21197 for V1R7 and APAR PK33497 for V1R8.

For Configuring and starting DCAS, refer to the z/OS Communications Server IP Configuration Reference. In the DCAS configuration profile, the SERVERTYPE keyword has been extended to support the new Web Express Logon function. Code one of the following for SERVERTYPE:

SERVERTYPE KERBEROSTYPE

or

SERVERTYPE ALLTYPES 

Note that the ALLTYPES is an existing parameter that indicates that DCAS will support all available Express Logon solutions.

For DCAS support of Web Express logon, several additional configuration steps must be taken to setup the solution. Please perform the following steps. You may also refer to the Web Express Logon Whitepaper mentioned above for setting up DCAS client authentication and passticket generation.

DCAS requires all clients to connect using SSL and the client must be authenticated. DCAS uses IBM System SSL. Review the CLIENTAUTH parameter in the DCAS configuration profile for determining the level of DCAS client authentication. Refer to the IP Configuration Guide, Appendix B, to understand how to configure SSL keyrings and certificates for DCAS.

Credential Mapper Setup
The Host On-Demand credential mapper servlet is the entity that provides the mapping between one user id to a host id. In the scenario where the customer wishes to use DCAS passtickets, this servlet is the facility which communicates with DCAS and obtains the passticket and passes it back to the Host On-Demand client. General information for configuring the credential mapper servlet to communicate with DCAS is documented in the Web Express Logon whitepapers and the Web Express Logon book provided with Host On-Demand. In order to use the function that maps the foreign principal name in RACF to a host id, some new parameters need to be passed to the servlet in the web.xml file. The parameters are documented below.

<init-param> 

 * 
 * 
 * 
 * <description> 
   Value of true indicates a foreign principal name will be passed to DCAS. 
   </description> 

</init-param> 
<init-param>  * 
 * 
 * 
 * <description>A value of True will use the network ID as the RACF ID without performing any mapping. 
   </description> 

</init-param> 

 

HISTORICAL NUMBER
 99159