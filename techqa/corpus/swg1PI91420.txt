Title: IBM PI91420: DFHSJ0001 ABEND AKEA OCCURRED AT OFFSET X'12C0' IN MODULE DFHSJIN WHEN TRYING TO START A NEW LIBERTY TASK - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Trying to start a new task on a liberty jvm server xxxxxx and
   get suspended for the JVM lock.
   During this suspend, the JVM server was disabling, as seen in
   the following message:
   DFHSJ0918 applid userid JVMSERVER xxxxxx is being disabled due
             to a PHASEOUT request.
   you receive the following errors when that new task wakes up,
   attempting to go to this disabling JVM server:
   .
   DFHSJ1004 applid userid  An exception has been thrown by the
             route method of class com/ibm/cics/router/Router.
   DFHSJ0001 applid An abend (code ---/AKEA) has occurred at
             offset X'12C0' in module DFHSJIN
             .
   Reviewing the dump from the SJ0001, we find a program check-
   ABEND0C4 occurred on a T8 TCB, in module DFHSJSA.  Code there
   assumes we have a Task Transaction environment, attempts
   to retrieve the TCA address from the TASENTRY control block.
   Since we do not have a transaction environment yet, there
   is not a TCA, which leads to this program check.
   Additional Symptom(s) Search Keyword(s): KIXREVEPH
   0C4 SJ0001 KTCB CHANGE_MODE
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS Users.                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: Abend AKEA at offset x'12C0' in module  *
   *                      DFHSJIN during failed Liberty startup.  *
   ****************************************************************
   The Liberty server fails to startup correctly. CICS sets the
   JVMSERVER to a disabled state.  While shutdown of the JVMSERVER
   is occurring a thread is allowed to execute within the JVMSERVER
   which fails to execute cleanly.  This causes CICS recovery to be
   driven on that thread. There is no TCA for this thread and so
   when CICS attempts to access the TCA the AKEA abend occurs.
   
   Additional Keywords: abendAKEA x12C0 DFHSJ0001 msgDFHSJ0001
   
   
    
   
   

PROBLEM CONCLUSION
 *  DFHSJTH has been changed to detect a JVMSERVER state change
   and not allocate a thread.  DFHSJSA has been updated to handle
   a thread without a TCA
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI91420
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V5
   
   
 * REPORTED COMPONENT ID
   5655Y0400
   
   
 * REPORTED RELEASE
   000
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-12-12
   
   
 * CLOSED DATE
   2018-03-22
   
   
 * LAST MODIFIED DATE
   2018-04-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  DFHSJDM  DFHSJDUF DFHSJJS  DFHSJSA  DFHSJST  DFHSJTH
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V5
   
   
 * FIXED COMPONENT ID
   5655Y0400
   
   

APPLICABLE COMPONENT LEVELS
 * R000 PSY UI54656 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI54656]
   UP18/03/23 P F803
   
   
 * R100 PSY UI54657 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI54657]
   UP18/03/23 P F803
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.