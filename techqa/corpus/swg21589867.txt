Title: IBM Running RebuildTextIndices command results in StackOverflowError - United States

Text:
repotools; ccm; RTC; rebuildTextIndices; stackOverflow; stack; overflow TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to run repotools rebuildTextIndices command results in java.lang.StackOverflowError with IBM Rational Team Concert (RTC). 

SYMPTOM
Running repotools-ccm -rebuildTextIndices fails. In the repotools-ccm_rebuildTextIndices.log file, the following error is seen:


java.lang.StackOverflowError
at java.util.regex.Pattern$Add.match(Pattern.java:5199)
at java.util.regex.Pattern$Curly.match(Pattern.java:4226)
at java.util.regex.Pattern$GroupHead.match(Pattern.java:4606)
at java.util.regex.Pattern$Loop.match(Pattern.java:4733)
at java.util.regex.Pattern$GroupTail.match(Pattern.java:4665)
at java.util.regex.Pattern$Single.match(Pattern.java:3350)
.......

CAUSE
A regular expression used in RTC while indexing the records is causing a deep recursion with some long strings. This causes the operation to use all available stack space and fails to rebuild the indices.



RESOLVING THE PROBLEM
In order to resolve this issue, the java stack should be increased. The default stack for java 1.5 is 512 Kb, and can be increased by adding -Xss5m to the Java command line. This will cause the indexer to run slower than normal when parsing the strings that caused the crash, but will complete successfully. 


In order to increase the stack size, complete the following steps:



 1. Open the repotools-ccm script in a text editor
    
    
 2. Find the following entry:
    set VMARGS=%VMARGS% -Xmx1500M
    
    
 3. Add -Xss5M to the end of that line
    Example: set VMARGS=%VMARGS% -Xmx1500M-Xss5M
    
    
 4. Re-run repotools-ccm -RebuildTextIndices
    


Leverage the Jazz Community Jazz and Rational Team Concert have an active community that can provide you with additional resources. Browse and contribute to the User forums, contribute to the Team Blog and review the Team wiki.
Refer to technote 1319600 [http://ibm.com/support/docview.wss?uid=swg21319600] for details and links.