Title: IBM IR45570: SWD THE SLAPD PROCESS DIES WHEN CHANGING PASSWORDS ON DIRECTORY 3.2 ON NT. NO ERRORS ARE LOGGED IN THE ERROR FILES. - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  ENVIRONMENT:
   Keywords: Secureway Directory, SWD, ldap
   App: SW Directory 3.2.0
   OS:  NT 4.0
   CMVC Defect: 64412
   SYMPTOM:
   .
   When you try to change user passwords after some time the slapd
   process dies.  The time varies by the amount of activity and
   amount of changes that are being made.  We recreated it by doing
   a batch change of user  passwords.  The number of users in my
   testcase was 224.  Other customers have run into this over a
   period of time depending on how often and how many passwords
   were changed using some other application.
   .
   The main symptom is that the slapd process dies.  There are no
   errors in the slapd.errors or cli.error files.  This happens
   when the Directory server encryption is set to imask and SHA.
   .
   When the Directory server encryption is set to crypt, you get a
   slapd.exe - Application Error box with the following information
   in it:
   The instruction at "0x77f1d479" referenced memory at
   "0x00000000".  The memory could not be "written".
   When the server encryption is set to crypt, you also do NOT get
   any errors in the slapd.errors or cli.error files.
   .
   When the server encryption is set to none you do not get the
   failure.
   .
   To recreate the problem you will need to do the following:
   1) Have Directory 3.2 installed on NT
   2)  I used DB2 6.1
   3) have your database populated with over 200 user entries.
   Mine was 224 for example and I got it to fail.
   4) Have a script (in my case I was using a java code the
   customer provided, but it has also been seen with other
   applications) or program that does a mass change of passwords
   continuously.  The operation needs to be a modify replace as
   developement has suggested.
   5) There does need to be some other activity besides just the
   password change program going on, like for instance I used a
   repetitive ldapsearch with the filter objectclass=* while the
   java code was changing the passwords.
   6)  If the Directory server encryption is set to imask, crypt,
   or SHA you will have a failure occur where the slapd process
   will die in the manner indicated above.
   .
   PROPOSED WORKAROUND:
   .
   Although this is not a realistic workaround,
   Set the Directory server encryption to NONE.
   .
     NOTES:
     Requesting the below items to be addressed by LDAP L3.
     1. Need to have the proposed workaround OK'd and/or modified
   by
        development and inserted in the the Local Fix area of this
        APAR.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Fixed in 3.2.1-SWD-004 and will be available at
   http://www-4.ibm.com/software/network/directory/support/fixes/ef
   ixes.html [http://www-4.ibm.com/software/network/directory/support/fixes/efixes.html]
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem Resolved
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IR45570
   
   
 * REPORTED COMPONENT NAME
   S'WAY DIR 3.2 N
   
   
 * REPORTED COMPONENT ID
   5648D8700
   
   
 * REPORTED RELEASE
   320
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2001-04-17
   
   
 * CLOSED DATE
   2001-07-27
   
   
 * LAST MODIFIED DATE
   2001-07-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   S'WAY DIR 3.2 N
   
   
 * FIXED COMPONENT ID
   5648D8700
   
   

APPLICABLE COMPONENT LEVELS
 * R320 PSN
   UP