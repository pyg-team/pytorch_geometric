Title: IBM IT02283: "GETDOCUMENTINFO" SERVICE THROWS ERROR WHEN CORRELATION CONTAINS "&" CHARACTER - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



 DIRECT LINKS TO FIXES
si_52_build_5020500_interimfix_12 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FOther+software%2FSterling+File+Gateway&fixids=5.2.5-OtherSoftware-SFG-All-IF00012&source=SAR]
si_52_build_5020500_interimfix_12 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FOther+software%2FSterling+B2B+Integrator&fixids=5.2.5-OtherSoftware-SI-All-IF00012&source=SAR]


APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  "GetDocumentInfo" Service throws error when correlation
   contains "&" character.
   
   Error in WF log:-
   
   [2014-05-14 15:15:14.093] ERROR 000110010759
   WORKFLOW.WORKFLOW.ERR_WFCUtil_stringToDocument
   WFCUtil.stringToDocument() converting xml string to DOM obj
   caught parsing exception
   [2014-05-14 15:15:14.093] ERROR 000000000000 GLOBAL_SCOPE
   [1400073314093] The entity name must immediately follow the '&'
   in the entity reference.
   [2014-05-14 15:15:14.093] ERRORDTL 000000000000 GLOBAL_SCOPE
   [1400073314093]org.xml.sax.SAXParseException: The entity name
   must immediately follow the '&' in the entity reference.
       at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
       at
   com.sterlingcommerce.woodstock.workflow.WFCUtil.stringToDocument
   (WFCUtil.java:91)
   
   
    
   
   

LOCAL FIX
 *  STRRTC - 424759
   AE / AE
   Circumvention: None
   
   
    
   
   

PROBLEM SUMMARY
 *  USERS AFFECTED:
   ALL
   
   PROBLEM DESCRIPTION:
   GetDocumentInfo Service throws an error when a correlation
   contains "&" character.
   
   PLATFORMS AFFECTED:
   ALL
   
   
    
   
   

PROBLEM CONCLUSION
 *  The issue is caused basically because '&' does not escape as
   '&amp;'.
   Even though this is explicitly set in the Business Process
   (BP), when the value is passed from BP to a specific java class
   for further processing, it is again converted back to '&'.
   Through this APAR this erroneous behavior is corrected.
   Also, this issue was observed when the 'VALUE' element in the
   CorrelationService contained '&' character.
   With the current fix, care is taken to escape the '&'
   character when it is present in both 'NAME' and 'VALUE'
   elements.
   
   DELIVERED IN:
   5020500_12
   5105
   5020601_7
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT02283
   
   
 * REPORTED COMPONENT NAME
   STR B2B INTEGRA
   
   
 * REPORTED COMPONENT ID
   5725D0600
   
   
 * REPORTED RELEASE
   510
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2014-06-05
   
   
 * CLOSED DATE
   2016-03-30
   
   
 * LAST MODIFIED DATE
   2017-03-08
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   STR B2B INTEGRA
   
   
 * FIXED COMPONENT ID
   5725D0600
   
   

APPLICABLE COMPONENT LEVELS
 * R525 PSY
   UP