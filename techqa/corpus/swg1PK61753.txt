Title: IBM PK61753: CANNOT CONNECT THROUGH LOAD BALANCER/PROXY TO LDAP SERVER - United States

Text:
  A FIX IS AVAILABLE
PK61753; 6.1.0.13: Cannot connect through load balancer/proxy to LDAP server [http://www-01.ibm.com/support/docview.wss?uid=swg24018805]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  IBM WebSphere Application Server is configured to use a load
   balancer/proxy sitting in front of LDAP servers.  It uses
   Federated repository. It takes few attempts to login to the
   administrative console.
   
   The error that we see in the log is:
   
   com.ibm.ws.wim.adapter.ldap.LdapConnection getRangeAttributes
   CWWIM4520E The 'javax.naming.ServiceUnavailableException:
   xx.xxxxx.com:3268; socket closed;
   remaining name 'CN=xxxxxxx,OU=Generics,OU=xxxxx
   Users,dc=xxxxx,dc=com'
   resolved object com.sun.jndi.ldap.
   LdapCtx@7b907b90' naming exception occurred during processing.
   
   The Application Server is in one location the current LDAP
   proxy resides in another location.
   We tested the scenario without the proxy locally as well as
   as in the other location and it works fine, the issue is only
   when we connect to LDAP using the proxy.
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: This affects IBM Websphere Application       *
   *                 Server V6.1 users who use federated          *
   *                 repositories (VMM - virtual member manager). *
   ****************************************************************
   * PROBLEM DESCRIPTION: Virtual Member Manager will throw a     *
   *                      ServiceUnavailableExcepiton if there    *
   *                      is connection problem to LDAP.          *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   If there is network problem connecting to LDAP, the following
   exception will be thrown and the connection to LDAP will not
   be retried:
   
   [12/5/07 12:35:51:749 CST]  0000000a exception     E
   com.ibm.ws.wim.adapter.ldap.LdapConnection getDirContext
   com.ibm.websphere.wim.exception.WIMSystemException:
   CWWIM4520E The 'javax.naming.ServiceUnavailableException:
   server1.com:26362; socket closed' naming exception occurred
   during processing.
   at com.ibm.ws.wim.adapter.ldap.LdapConnection
   .getDirContext(LdapConnection.java:1355)
   at com.ibm.ws.wim.adapter.ldap.LdapConnection
   .search(LdapConnection.java:2378)
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problem has been fixed.  The exception will not be thrown
   and the connection to LDAP can be retried.
   
   This fix is included in PK61753 and targeted for fix pack
   6.1.0.17.
   Please refer to the recommended updates page for delivery
   information:
   http://www-1.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www-1.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK61753
   
   
 * REPORTED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * REPORTED COMPONENT ID
   5724J0800
   
   
 * REPORTED RELEASE
   61I
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-02-26
   
   
 * CLOSED DATE
   2008-03-27
   
   
 * LAST MODIFIED DATE
   2008-03-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  CONNECTI LDAP     ON
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * FIXED COMPONENT ID
   5724J0800
   
   

APPLICABLE COMPONENT LEVELS
 * R60A PSN
   UP
   
   
 * R60H PSN
   UP
   
   
 * R60I PSN
   UP
   
   
 * R60P PSN
   UP
   
   
 * R60S PSN
   UP
   
   
 * R60W PSN
   UP
   
   
 * R60Z PSN
   UP
   
   
 * R61A PSY
   UP
   
   
 * R61H PSY
   UP
   
   
 * R61I PSY
   UP
   
   
 * R61P PSY
   UP
   
   
 * R61S PSY
   UP
   
   
 * R61W PSY
   UP
   
   
 * R61Z PSY
   UP