Title: IBM DFHSO0123 and DFHWB0732 repeatedly after opening a TCPIPSERVICE - United States

Text:
DFHSO0123 DFHWB0732 TOPSECRET SSL CICS TS 3.2 3.1 MSGDFHSO0123 MSGDFHWB0732 RC00000008 RC8 RC08 RSN00000084 RSN84 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97 5655S9700 R670 670 R700 700 HCI6700 5655-S97 5655S97 kixinfo retention42 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Your CICS Transaction Server for z/OS application receives a GSK_KEYRING_OPEN_ERROR due to IRRSDL00 GetUpdateCode failed: SAF 8, RC 8, Reason 84. The error is due to RACF_user_ID/Ring_name not found. You also receive messages DFHWB0732 and DFHSO0123. 

SYMPTOM
The following messages are issued repeatedly:

DFHWB0732 [http://pic.dhe.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.messages.doc/cics_mc/dfhwb/WB0732.html] CWXN CICS Web attach processing encountered a sockets I/O error while receiving a client request. Host IP address: hostaddr. Client IP address: clientaddr. TCPIPSERVICE: tcpipservice

DFHSO0123 [http://pic.dhe.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.messages.doc/cics_mc/dfhso/SO0123.html] Return code 1 received from function 'gsk_secure_socket_init' of System SSL. Reason: Unrecognized return code. Client: clientaddr, TCPIPSERVICE: tcpipservice


CAUSE
CA Top Secret causing Reason 84 [http://publib.boulder.ibm.com/infocenter/zos/v1r13/topic/com.ibm.zos.r13.ichd100/ichzd1c0220.htm] on IRRSDL00 GetUpdateCode. Missing CA Top Secret fix RO04516.

DIAGNOSING THE PROBLEM
System SSL opens the keyring and reads all the certificates from the keyring by calling the IRRSDL00 interface with functions DataGetFirst and DataGetNext. Then another call to IRRSDL00 for GetUpdateCode is done to get the ring sequence number. This results in a call to TopSecret that fails with: IRRSDL00 GetUpdateCode failed: SAF 8, RC 8, Reason 84

Reason 84 means that the key ring profile for this RACF_user_ID/Ring_name was not found. The Reason 84 is unexpected since the keyring was just opened and read successfully on the DataGetFirst and DataGetNext functions.

It is necessary to capture SSL trace to determine the cause of an SSL problem. See technote 1394697 How to capture and format SSL component trace [http://www.ibm.com/support/docview.wss?uid=swg21394697]. Since this problem occurs during CICS initialization, you will need to restart CICS to recreate the error after you have SSL trace active.

RESOLVING THE PROBLEM
Apply fix RO04516 for [/support/docview.wss?uid=swg21405634&amp;aid=1]CA [http://www.ca.com/] Top Secret release 12.0.

RELATED INFORMATION
#System SSL Programming [http://publib.boulder.ibm.com/infocenter/zos/v1r13/topic/com.ibm.zos.r13.gska100/sssl2srt1000643.htm]




PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server