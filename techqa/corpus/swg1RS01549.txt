Title: IBM RS01549: NPE THROWN ON ENUM RULESET PARAMETER WHEN RETREIVING WSDL FROM HTDS/REST - United States

Text:
  FIXES ARE AVAILABLE
Operational Decision Manager V8.5.1: Interim Fix 24 [http://www-01.ibm.com/support/docview.wss?uid=swg24037215]
Operational Decision Manager V8.5.1.1 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24037905]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A NullPointerException is thrown when retrieving WSDL with the
   ruleset for both REST & HTDS.
   This happens when the OUT ruleset parameter is an Enum.
   
   Stack Trace for REST:
   [2/20/14 12:58:59:465 CET] 0000018f execution     E   The
   interaction com.ibm.rules.htds.plugin.cci.internal.
   generateZIPWADL has failed.
                                    com.ibm.rules.res.xu.internal.
   LocalizedResourceException: GBRXU0448E: Plugin error.
           at com.ibm.rules.res.xu.client.internal.jca.
   XUInteraction.execute(XUInteraction.java:267)
           at com.ibm.rules.res.xu.client.internal.XUSession.
   executeOperation(XUSession.java:174)
           at com.ibm.rules.htds.description.DLPluginWrapper.
   generateWADL(DLPluginWrapper.java:236)
           at com.ibm.rules.htds.DecisionServiceController.
   generateWADL(DecisionServiceController.java:367)
           at com.ibm.rules.htds.servlet.
   RESTDecisionServiceServlet.handleWADLRequest(
   RESTDecisionServiceServlet.java:619)
   ...
           at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.
   java:1815)
   Caused by: javax.resource.ResourceException: Unable to generate
   WSDL from ruleset /XXRuleApp/YYRuleset
           at com.ibm.rules.htds.plugin.cci.internal.WADLGenerator.
   createResourceException(WADLGenerator.java:844)
           at com.ibm.rules.htds.plugin.cci.internal.
   DLGeneratorInteractionExtension.generateWadl(
   DLGeneratorInteractionExtension.java:329)
           at com.ibm.rules.htds.plugin.cci.internal.
   DLGeneratorInteractionExtension.execute(
   DLGeneratorInteractionExtension.java:164)
           at ilog.rules.res.xu.cci.IlrXUConnection.
   executeInteractionExtension(IlrXUConnection.java:200)
   ...
           at com.ibm.rules.res.xu.client.internal.jca.
   XUInteraction.execute(XUInteraction.java:248)
           ... 29 more
   Caused by: java.lang.NullPointerException
           at com.ibm.rules.htds.plugin.cci.internal.WADLGenerator.
   addParameter(WADLGenerator.java:816)
           at com.ibm.rules.htds.plugin.cci.internal.WADLGenerator.
   getSchemas(WADLGenerator.java:604)
           at com.ibm.rules.htds.plugin.cci.internal.WADLGenerator.
   extractXSDs(WADLGenerator.java:452)
           at com.ibm.rules.htds.plugin.cci.internal.WADLGenerator.
   populateDefaultDefinition(WADLGenerator.java:131)
           at com.ibm.rules.htds.plugin.cci.internal.WADLGenerator.
   generateWADL(WADLGenerator.java:83)
           at com.ibm.rules.htds.plugin.cci.internal.
   DLGeneratorInteractionExtension.generateWadl(
   DLGeneratorInteractionExtension.java:297)
           ... 34 more
   
   Stack trace for HTDS:
   [2/20/14 12:32:01:168 CET] 0000018f execution     E   The
   interaction com.ibm.rules.htds.plugin.cci.internal.generateWSDL
   has failed.
                                    com.ibm.rules.res.xu.internal.
   LocalizedResourceException: GBRXU0448E: Plugin error.
       at com.ibm.rules.res.xu.client.internal.jca.XUInteraction.
   execute(XUInteraction.java:267)
       at com.ibm.rules.res.xu.client.internal.XUSession.
   executeOperation(XUSession.java:174)
       at com.ibm.rules.htds.description.DLPluginWrapper.
   generateWSDL(DLPluginWrapper.java:152)
       at com.ibm.rules.htds.DecisionServiceController.
   generateWSDL(DecisionServiceController.java:351)
   ...
       at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:
   1815)
   Caused by: javax.resource.ResourceException: Unable to generate
   WSDL from ruleset /XXRuleApp/YYRuleset
       at com.ibm.rules.htds.plugin.cci.internal.WSDLGenerator.
   createResourceException(WSDLGenerator.java:954)
       at com.ibm.rules.htds.plugin.cci.internal.
   DLGeneratorInteractionExtension.generateWsdl(
   DLGeneratorInteractionExtension.java:266)
   ...
       at com.ibm.rules.res.xu.client.internal.jca.XUInteraction.
   execute(XUInteraction.java:248)
       ... 29 more
   Caused by: java.lang.NullPointerException
       at com.ibm.rules.htds.plugin.cci.internal.WSDLGenerator.
   declareParametersContent(WSDLGenerator.java:299)
       at com.ibm.rules.htds.plugin.cci.internal.WSDLGenerator.
   getSchemas(WSDLGenerator.java:428)
       at com.ibm.rules.htds.plugin.cci.internal.WSDLGenerator.
   getTypes(WSDLGenerator.java:691)
       at com.ibm.rules.htds.plugin.cci.internal.WSDLGenerator.
   populateDefaultDefinition(WSDLGenerator.java:723)
       at com.ibm.rules.htds.plugin.cci.internal.WSDLGenerator.
   generateWSDL(WSDLGenerator.java:913)
       at com.ibm.rules.htds.plugin.cci.internal.
   DLGeneratorInteractionExtension.generateWsdl(
   DLGeneratorInteractionExtension.java:234)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  We use introspection to find the method on the bean and
   this
   does not always return the expected result if the bean has the
   same method defined in multiple subclasses.
   
   
    
   
   

PROBLEM CONCLUSION
 *  fix the code to use the most relevant method
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   RS01549
   
   
 * REPORTED COMPONENT NAME
   WS DECISION CTR
   
   
 * REPORTED COMPONENT ID
   5725B6900
   
   
 * REPORTED RELEASE
   851
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-02-25
   
   
 * CLOSED DATE
   2014-03-12
   
   
 * LAST MODIFIED DATE
   2014-03-12
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WDS FOR RULES
   
   
 * FIXED COMPONENT ID
   5725B6903
   
   

APPLICABLE COMPONENT LEVELS
 * R851 PSY
   UP