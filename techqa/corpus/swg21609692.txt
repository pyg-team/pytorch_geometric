Title: IBM Content Analytics Notes crawler cannot be started - United States

Text:
ICA; CCA TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 I installed IBM Content Analytics with Enterprise Search V3.0.0.1. I followed the instructions for enabling the NRPC Notes crawler to install a Lotus Domino server and execute the escrnote.vbs/sh command. 
I can configure the crawler and select the Notes databases that I want to crawl, but when I try to start the crawler, I get an error message. 

SYMPTOM
This error message is displayed in the Admin UI when starting the crawler: 

FFQEP0002E An error occurred when processing a remote API. The reason is : FFQO0264E The session <Collection>.<Crawler_ID> could not be started.

You might also see errors that are similar to the following error in the audit logs:

E FFQO0177E 2012/08/16 23:32:03.272 PDT FFQO0177E A Java exception occurred: java.lang.NoClassDefFoundError: lotus.domino.local.NotesReferenceQueue
at lotus.domino.NotesThread.checkLoaded(Unknown Source)
at lotus.domino.NotesThread.sinitThread(Unknown Source)
at com.ibm.es.crawler.notes.NotesResidentThread.intInitialize(NotesResidentThread.java:75)
at com.ibm.es.crawler.notes.NotesResidentThread.run(NotesResidentThread.java:51)
Caused by: java.lang.ClassNotFoundException: lotus.domino.local.NotesReferenceQueue
at java.net.URLClassLoader.findClass(URLClassLoader.java:434)
at java.lang.ClassLoader.loadClass(ClassLoader.java:660)
at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:358)
at java.lang.ClassLoader.loadClass(ClassLoader.java:626)



RESOLVING THE PROBLEM
After you run the setup script (escrnote.vbs or escrnote.sh), add the following classpath at the beginning of the classpath property value in $ES_INSTALL_ROOT/configurations/interfaces/crawler_NOTES_interfaces.ini 


classpath=esctrl.jar,cloudscape/lib/derby.jar,rdsutil.jar,dscrawler.jar,es.oss.jar,siapi.jar,es.siapi.jar,es.dl.client.jar,es.indexservice.jar,notescrawler.jar,/opt/IBM/es/lib/es.commiso.jar:/opt/ibm/lotus/notes/latest/linux/jvm/lib/ext/Notes.jar:/local/notesdata/domino/java/NCSO.jar:

Although the path separator looks platform dependant, the comma character can be used on any platform. The additional classpath value is separated by a comma.

Then restart IBM Content Analytics with the following commands: 

 * esadmin system stopall
 * 
 * esadmin system startall