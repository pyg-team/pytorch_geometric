Title: IBM Connection Factories are not properly configured, by default, in IBM Business Process Manager (BPM) Express V8.5 and V8.5.0 Fix Pack 1 (8.5.0.1) - United States

Text:
connection factories; configure; configuration TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you use the default configuration for IBM Business Process Manager (BPM) Express V8.5 and V8.5.0 Fix Pack 1, you see errors and experience problems using Process Designer. You might also experience issues when you try to connect to the IBM BPM SIB buses. 

SYMPTOM
On Process Designer clients, this issue is displayed with the following error message in the ae.log file: 

javax.jms.JMSException: CWSIA0241E: An exception was received during the call to the method JmsManagedConnectionFactoryImpl.createConnection: com.ibm.websphere.sib.exception.SIResourceException: CWSIT0006E: It was not possible to contact any of the specified bootstrap servers. Please see the linked exception for further details. Bootstrap connections were attempted to: [localhost:7286:BootstrapSecureMessaging].
at com.ibm.ws.sib.api.jms.impl.
JmsManagedConnectionFactoryImpl.createConnection
...
at com.lombardisoftware.client.ae.server.
ServerNodeImpl.reconnectJMS


CAUSE
This issue has been identified as a product defect under APAR JR48563 [http://www.ibm.com/support/docview.wss?uid=swg1JR48563]. 
The initial product connection factories used to make connections to the messaging engine are not set with the proper endpoints. 


RESOLVING THE PROBLEM
To resolve this issue, complete the following steps after you finish creating each environment using an IBM Business Process Manager Express 8.5.0.0 or 8.5.0.1 installation: 

 

 1. Make note of the host name for the Process Center server that Process Designer clients can access.
    
    
 2. Make note of the port that is needed to securely connect to the SIB bus.  1. In the administrative console, go to the server settings page and click Server > Server Types > WebSphere application servers > server_name. The server_name variable refers to the name of your server. 
     2. On the right side of the window, expand Communications > Ports and make note of the SIB_ENDPOINT_SECURE_ADDRESS port.
        
        
    
    
 3. Go to the connection factory settings by clicking Resources > JMS > Topic connection factories > TWClientConnectionFactory.
    
    
 4. In the Connection section of the connection factory settings, find Provider Endpoints and enter the appropriate value. The value should be in the following format: 
    host_name:port_number:BootstrapSecureMessaging
    The host_name is the externally accessible host name for the IBM BPM server. 
    The port_number is the SIB_ENDPOINT_SECURE_ADDRESS port.
    
    
    Note: Because IBM Business Process Manager Express allows only a single-server environment, there is only one entry. For IBM Business Process Manager environments that use clustering, the list is a comma-separated list of all the endpoints for the messaging cluster.
    
    
    The TWClientConnectionFactory endpoint is the main endpoint that receives outside connections into an IBM Business Process Manager Express environment. However, you might need to complete the steps for the following product connection factories that also do not have an accessible endpoint. Depending on the connection factor type, these endpoints are located in the same administrative console section under Topic connection factories, Queue connection factories, or Connection factories. 
    
     * QueueConnectionFactory 
     * TopicConnectionFactory 
     * cacheMessageConnectionFactory 
     * eventMgrMessageConnectionFactory 
     * TWClientConnectionFactory 
     * TWClientConnectionFactoryNoTX 
     * TaskChangeConnectionFactory 
     * bpm.pal.service.deployCF 
     * PortalWebMessagingTopicConnectionFactory 
     * DataDefLoaderConnectionFactory 
     * ViewManagerConnectionFactory 
     * PostLoadCalculationConnectionFactory 
     * RepresentationManagerConnectionFactory 
     * bpm.BPDDocMig.service.deployCF
       
       
    
    
 5. Ensure that the configuration is saved and restart the server.



These steps should resolve any SIB bootstrap connection issues. If you have further SIB bootstrap issues, then confirm that the host and port are accessible to the client. Also, verify that firewall and network issues do not exist.  

PRODUCT ALIAS/SYNONYM
 BPM