Title: IBM Enhanced Debugging for CORBA Visibroker probes - United States

Text:
visibroker; debug; debugging; corba; corba probe; Huawei; CORBA; ORB TECHNOTE (FAQ)

QUESTION
 Debugging visibroker : How to enable CORBA Probe advanced diagnosis 

ANSWER

Note: Visibroker is no longer used by the Netcool/OMNIbus CORBA probes. It is recommended that the latest probe is used if there are problems being experienced by any Visibroker based probe.

You can enable enhanced debugging as follows;

Edit a copy of the nco_jprobe script and add the Visibroker debug options in the java command line;
e.g.
cd $OMNIHOME/probes
mv nco_p_<visibroker probe> nco_p_<visibroker probe>_original
cp nco_p_<visibroker probe>_original nco_p_<visibroker probe>
chmod 755 nco_p_<visibroker probe>
vi nco_p_<visibroker probe> 
...
# Debugging messages
$JAVA -version
echo "CLASSPATH = $CLASSPATH"
# LAST EXEC
exec $OMNIHOME/probes/$ARCH/nco_p_nonnative $JAVA \
-Dorg.omg.CORBA.ORBClass=com.inprise.vbroker.orb.ORB \
-Dorg.omg.CORBA.ORBSingletonClass=com.inprise.vbroker.orb.ORB \
-Dvbroker.orb.debug=true \
$NCO_JPROBE_JAVA_FLAGS -cp $CLASSPATH $NCO_JPROBE_JAVA_XFLAGS -DOMNIHOME="$OMNIHOME" $PROGRAM "$@"

The probes log file now contains 'com.inprise.vbroker' debug messages relating to the use of the visibroker class.

To revert back to the GA script move the original file back:
mv nco_p_<visibroker probe>_original nco_p_<visibroker probe> 
This needs to be done for DE installations [Netcool/OMNIbus v7.3.0 or above].

With the latest non-native probe [nco_jprobe] you can use the probes '.env' file as an alternative method.

e.g.
cd $OMNIHOME/probes/java
vi nco_p_<visibroker probe>.env
NCO_JPROBE_JAVA_FLAGS="-Dorg.omg.CORBA.ORBClass=com.inprise.vbroker.orb.ORB -Dorg.omg.CORBA.ORBSingletonClass=com.inprise.vbroker.orb.ORB -Dvbroker.orb.debug=true"


RELATED INFORMATION
 How to enable Java SSL debug logging [http://www-01.ibm.com/support/docview.wss?uid=swg21572468]
Nonnative probe debug log [http://www-01.ibm.com/support/docview.wss?uid=swg21642759]