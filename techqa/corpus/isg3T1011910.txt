Title: IBM The Supported Methods to Test SEA Failover? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 What are the supported methods to test SEA failover? 

CAUSE
The command that I entered does not seem to make the SEA failover to the other SEA.

ANSWER
Here are the supported methods to test or force SEA failover: 

Manual Failover: 

 * 
 * $ lsdev -type adapter 
   or 
   $ oem_setup_env 
   # lsdev -Cc adapter |grep ent 

- Note which ent is the SEA 
# entstat -d entX ---> check for the status (PRIMARY, or BACKUP) 

- Set ha_mode to standby on primary with chdev command: 
# chdev -l entX -a ha_mode=standby 
or 
$ chdev -dev -attr ha_mode=standby 
- Reset it back to auto and the SEA should fail back to the primary: 
# chdev -l entX -a ha_mode=auto 
or 
$ chdev -dev -attr ha_mode=auto 

Primary VIOS shutdown 
- Reboot the VIOS on the primary for fail over to backup 
adapter 
- When the primary VIOS is up again, should fail back to the 
primary adapter. 

Primary VIOS error 
- Deactivate primary VIOS from the HMC for fail over to 
backup adapter 
- Activate the primary VIOS for the fail back to the primary 
again 

Physical link failure 
- unplug the link of the physical adapter on primary for fail 
over to the backup adapter 
- and replug of physical link of physical Ethernet adapter on 
primary for the fail back to the primary 

Reverse boot sequence 
- Shut down both the VIO servers 
- Reboot the VIOS with backup SEA and the adapter becomes 
active 
- Reboot the VIOS with primary SEA and fail back happens to 
the primary SEA