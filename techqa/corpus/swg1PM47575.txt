Title: IBM PM47575: "NO MATCHING REF FOR NAME" SERIALIZATION ERROR THROWN WHEN USING @RESOURCE ANNOTATION - United States

Text:
  FIXES ARE AVAILABLE
7.0.0.21: WebSphere Application Server V7.0 Fix Pack 21 [http://www-01.ibm.com/support/docview.wss?uid=swg24031366]
7.0.0.23: WebSphere Application Server V7.0 Fix Pack 23 [http://www-01.ibm.com/support/docview.wss?uid=swg24032493]
7.0.0.25: WebSphere Application Server V7.0 Fix Pack 25 [http://www-01.ibm.com/support/docview.wss?uid=swg24033267]
7.0.0.27: WebSphere Application Server V7.0 Fix Pack 27 [http://www-01.ibm.com/support/docview.wss?uid=swg24033882]
7.0.0.29: WebSphere Application Server V7.0 Fix Pack 29 [http://www-01.ibm.com/support/docview.wss?uid=swg24034966]
7.0.0.31: WebSphere Application Server V7.0 Fix Pack 31 [http://www-01.ibm.com/support/docview.wss?uid=swg24036768]
7.0.0.27: Java SDK 1.6 SR13 FP2 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035324]
7.0.0.33: WebSphere Application Server V7.0 Fix Pack 33 [http://www-01.ibm.com/support/docview.wss?uid=swg24037573]
7.0.0.35: WebSphere Application Server V7.0 Fix Pack 35 [http://www-01.ibm.com/support/docview.wss?uid=swg24038310]
7.0.0.37: WebSphere Application Server V7.0 Fix Pack 37 [http://www-01.ibm.com/support/docview.wss?uid=swg24039338]
7.0.0.39: WebSphere Application Server V7.0 Fix Pack 39 [http://www-01.ibm.com/support/docview.wss?uid=swg24041013]
7.0.0.41: WebSphere Application Server V7.0 Fix Pack 41 [http://www-01.ibm.com/support/docview.wss?uid=swg24041931]
7.0.0.43: WebSphere Application Server V7.0 Fix Pack 43 [http://www-01.ibm.com/support/docview.wss?uid=swg24043400]
7.0.0.45: WebSphere Application Server V7.0 Fix Pack 45 [http://www-01.ibm.com/support/docview.wss?uid=swg24044551]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Two EJB applications are deployed onto WebSphere Application
   Server v7.0.0.17.
   
   In EAR1 there is one Stateless EJB with a Remote Interface and
   no Bindings File (AutoLink Feature of WebSphere Application
   Server is used)
   
   In EAR2 there is another Stateless EJB which references the
   first one using @EJB (Dependency Injection) and an EJB Bindings
   file.
   
   If the code of the second EJB contains also the injection:
   
      @Resource
      private EJBContext context;
   
   
   then the following warning appears in the SystemOut.log when the
   second EAR is deployed:
   
   
   [22-7-11 17:44:17:215 CEST] 0000000b serialization W
   EjbRefBindingImpl(anon) eResolveProxy No matching ref for name [
   Bean1Remote ]
   
   
   If that injection of the EJBContext is absent, then the warning
   does not appear.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server V7.0 deploying J2EE version 5        *
   *                  applications with an EJB that contains      *
   *                  both @Resource and @EJB annotations         *
   ****************************************************************
   * PROBLEM DESCRIPTION: When a deployed application contains    *
   *                      both @Resource and @EJB annotations,    *
   *                      an error message can occur during       *
   *                      application start.                      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   During application installation, an entry is created in the
   bindings file for the EJB reference denoted by the @EJB
   annotation. While starting the application, the @Resource
   annotaion is processed before the @EJB annotation. This
   processing requires that the bindings file be loaded. During
   the loading of the bindings file, the EJB references in it are
   resolved by finding the matching EJBs. Since the @EJB
   annotations have not yet been processed, there is no matching
   EJB reference found and the following warning message is
   displayed.
   22-7-11 17:44:17:215 CEST] 0000000b serialization W
   EjbRefBindingImpl(anon) eResolveProxy No matching ref for name
   [
   Bean Name ]
   
   
    
   
   

PROBLEM CONCLUSION
 *  No workaround exists. Annotation processing has been changed so
   that the @EJB annotations are processed before the @Resource
   annotations.
   
   The fix for this APAR is currently targeted for inclusion in
   fix pack 7.0.0.21.  Please refer to the Recommended Updates
   page for delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM47575
   
   
 * REPORTED COMPONENT NAME
   WEBS APP SERV N
   
   
 * REPORTED COMPONENT ID
   5724H8800
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-09-12
   
   
 * CLOSED DATE
   2011-09-29
   
   
 * LAST MODIFIED DATE
   2011-09-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS APP SERV N
   
   
 * FIXED COMPONENT ID
   5724H8800
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP