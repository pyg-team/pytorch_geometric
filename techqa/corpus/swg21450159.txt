Title: IBM Large metric log files can cause the ITCAM for SOA agent to crash during a restart. - United States

Text:
ITCAM for SOA Agent abends core at startup TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
When the ITCAM for SOA data collectors are enabled, they write entries to the metric log files regardless of whether or not the agent is active. If the agent is down for an extended period of time while the data collectors are enabled, the metric log files can grow to a very large size depending on SOA traffic patterns. If the combined size of the log files is too large, the agent can crash trying to process the files during restart.

SYMPTOM
The ITCAM for SOA agent crashes during repeated restart attempts.

CAUSE
The combined size of the metric log files is too great for the agent to handle during restart.

ENVIRONMENT
This problem can occur on any supported agent environment.

DIAGNOSING THE PROBLEM
If the ITCAM for SOA agent crashes repeatedly during restart attempts look at the combined size of the following files:




<KD4_DIR>/logs/KD4*.metric.log 

<KD4_DIR>/logs/KD4.DCA.CACHE/KD4*.metric.log.* 

Where KD4_DIR is: 

<ITM_DIR>/<platform>/d4/KD4 on Unix 

<ITM_DIR>\TMAITM6\KD4 on Windows 

If the combined size of these files is very large, the agent may crash trying to process them during restart. 


RESOLVING THE PROBLEM
The problem can be prevented by making sure the data collectors are disabled if the agent is going to be down for an extended period of time. 

Once the problem occurs, you must delete the metric log files specified above, and then restart the agent. 

If may be sufficient to delete just those metric log files located in: 

<KD4_DIR>/logs 

If not, then also delete the metric log files located in: 

<KD4_DIR>/logs/KD4.DCA.CACHE




PRODUCT ALIAS/SYNONYM
ITCAMfSOA