Title: IBM How can I determine the space taken by Content Manager OnDemand/i on my system? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 I am trying to establish how much disk space is taken by my Content Manager OnDemand for i installation 

ANSWER
Content Manager OnDemand for i uses several libraries and IFS paths to store programs and data. These are as follows: 

Note: When QUSROND is referred to this is the default instance name. you may have used a different instance name and may have more than 1 instance on the system. To determine all the instances on a system, run the command: WRKOBJ OBJ(*ALL/ARSAG) OBJTYPE(*FILE). All libraries listed are instance libraries. When checking instance libraries or directories use each library listed in place of or in addition to QUSROND. 

QRDARS - Program library 

QUSRRDARS - Shared user data library 

QUSROND - Instance library with instance specific data. 

/QIBM/ProdData/OnDemand/... Program objects 

/QIBM/UserDats/OnDemand/... Data for all instances including shared data such as configuration files 

/QIBM/UserData/OnDemand/QUSROND/... Data for the QUSROND instance. 

/QIBM/UserData/RDARS/... - If you used to run Spool File Archive at V5R4 or earlier and depending on how you migrated your dat there may still be data in this path. 

/dev/QASPnn/... - ONDEMAND_QUSROND.../.UDFS objects contain the .../ASMASPnn UDFS data 

To determine the space taken by the various libraries, run the following commands: - NOTE that all the steps below must be done with a user profile that has *ALLOBJ authority.
DSPOBJD OBJ(QRDARS/*ALL) 
OBJTYPE(*ALL) 
OUTPUT(*OUTFILE) 
OUTFILE(mylib/ODLIBS) - where mylib is an existing library of your choice
DSPOBJD OBJ(QUSRRDARS/*ALL) 
OBJTYPE(*ALL) 
OUTPUT(*OUTFILE) 
OUTFILE(mylib/ODLIBS)
OUTMBR(*FIRST *ADD) 
DSPOBJD OBJ(QUSROND/*ALL) - Repeat for each instance library
OBJTYPE(*ALL) 
OUTPUT(*OUTFILE) 
OUTFILE(mylib/ODLIBS)
OUTMBR(*FIRST *ADD) 
STRSQL
SELECT ODLBNM, SUM(ODOBSZ) FROM mylib/ODLIIBS GROUP BY ODLBNM
ORDER BY ODLBNM
SUM(ODOBSZ) will be the number of bytes in each library 

To determine the space taken by each of the IFS paths, do the following: 

Using Windows Explorer, map a drive to your System i
Start Windows Explorer. Click Tools/Map Network Drive
Select a drive letter and the Root Folder on your System i as below:
[/support/docview.wss?uid=swg21974191&aid=1] [/support/docview.wss?uid=swg21974191&aid=1]
Click Finish and authenticate as required.
Expand the tree so that you can see all the applicable IFS paths as shown above.
Right click on each path of interest and click Properties
Wait until the properties are static (may take a while) and then note the value for Size on disk:
[/support/docview.wss?uid=swg21974191&amp;aid=2]
If your UDFS is mounted at the time of viewing the properties, then the UDFS space is included in the instance path (/QIBM/UserData/OnDemand/QUSROND). If not mounted, check the size of the applicable /dev/QASPnn .UDFS object(s)
To check if the UDFS is mounted, run the following command from the 5250 session:
DSPMFSINF OBJ('/QIBM/UserData/OnDemand/QUSROND/ASMASP01/PRIMARY') 
If File system type = 'root" (/) - then the UDFS is not mounted
If File system type = User-defined file system - then the UDFS is mounted 

The above does not include any space taken by objects on Optical, Virtual Optical or tape volumes