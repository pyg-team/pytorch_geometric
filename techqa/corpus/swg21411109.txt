Title: IBM Can WebSphere Portal be configured to send a specific 302 redirect for nonexistent URLs? - United States

Text:
404; HTTP; public; private; protected; redirect; malformed; bogus; uri; decoding; fallback; custom; friendly; URL; mapping; state; decoding; fallback; not found; redirect; change location; map to; home page; homepage; login page TECHNOTE (FAQ)

QUESTION
 IBM WebSphere Portal is successfully installed and configured. End-users occasionally mistype a URL which does not exist. How can users be redirected to a specific page when this condition occurs? 

CAUSE
The default behavior of WebSphere Portal is to send an HTTP 302 redirect to the end user. A modification in the Portal page configuration is required to allow a specific page to display.

ANSWER
Forward Note: If you wish for Portal to throw an HTTP 404 "not found" instead of an HTTP 302 "redirect", please see this Technote [http://www-01.ibm.com/support/docview.wss?uid=swg21674823] for further details on configuring HTTP 404 behavior. This Technote will discuss the 302 behavior option. 

1. Log into the Portal Server as the Portal administrator and navigate to Administration --> Manage Pages.

2. Select the Content Root --> Home label.

3. Create a new page named "private". Add two test portlets such as IBM Press Releases and IBM Redbooks to the page.

4. Create a new page named "public". Add two test portlets such as IBM Press Releases and IBM Redbooks to the page.

5. Reorder the pages under the Home label so that the "private" page is the first page and the "public" page is the second page. 

 * 


6. Click the key icon to set page permissions on the public page. 

7. Add Anonymous Portal User to the User role. Click "public" to navigate back to the Resource Permissions page and click Done. 

8. On the left side, locate the "Access" category and click Resource Permissions. 

9. Click the Portlets resource type and search for "IBM". 

10. Click the key icon to assign access for the IBM Press Releases portlet only. 
 * [/support/docview.wss?uid=swg21411109&amp;aid=2]


11. Add Anonymous Portal User to the User role. Click IBM Press Releases to navigate back to the Resource Permissions page and click Done. 

12. Click Home. 
 * [/support/docview.wss?uid=swg21411109&amp;aid=3]


13, Observe that the first page viewed by the authenticated Portal administrator is the private page. Both portlets display successfully. 

14. Log out of the Portal server. The public page is now displayed. However, only the IBM Press Releases portlet is viewable by the anonymous / unauthenticated user. 

15. Navigate to a non-Portal page such as www.ibm.com. 

16. Attempt to visit the private page,http://portalserver.com:10040/wps/myportal/private  

 * 


17.Navigate to a non-Portal page such as www.ibm.com, 

18. Attempt to visit a non-existent Portal page,http://portalserver.com:10040/wps/portal/widget  

 * 


Technical note #1: In this specific example, a web server was not assumed to be in use. However, the same behavior can be induced and same solution may be used if a web server is configured for use with WebSphere Portal, e.g. http://www.mycompanyname.com/wps/myportal/widget 

Technical note #2: Typically a public and protected context exist within Portal such as /wps/portal and /wps/myportal respectively. If an unauthenticated user access a nonexistant URL protected context such as http://portalserver.mycompanyname.com:10040/wps/myportal/widget, and they are not yet logged in they will be prompted for login credentials, regardless of whether the widget URL actually exists. 

This is correct behavior since Portal first authenticates the user, then verifies authorization / access to the requested URL After logging in, if the URL does not exist, the user will be redirected to the first page under Home to which they have access (in this example, the "private" page).  



Cross reference information Segment Product Component Platform Version Edition Organizational Productivity- Portals & Collaboration WebSphere Portal End of Support Products AIX, HP-UX, IBM i, Linux, Solaris 7.0, 6.1