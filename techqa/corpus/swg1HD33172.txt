Title: IBM HD33172: FOR MULTI INSTANTIATION,CANNOT CREATE CONSISTENT NOAS WITH SO M E "MODIFIABLE IN INSTANCE" TEXT - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  For multi instantiation,cannot create consistent
   NOAs with so me "Modifiable in instance" text.
   .
   variable "OMB_RESOLUTION_LINK_CACHING=TRUE
   "
   V5R12SP6 hotfix 12
   Cache management must be activated
   Environment:
   HP UX 11i and also W2K and SUN
   Scenario:
   .
   .
   Problem:
   The multi-instantiation with CAA API does not work
   properly
   on Modifiable in instance text NOA.
   Scenario:
   0- Decompress the hf_src.zip file on your local disk
   Settings:
   1- Keep active the "Other Folder" option on
   Options/General/Documents
   folder. All the other option (Folder of the link, VPM
   ...) shall be deactivated
   2-2 Click on 'Other Folder' + 'Configure'
   2-3 Select the directory within you stored
   the
   Holes_and_Fasteners_Drawing_Symbols.catalog
   file (This catalog
   is included inside the provided zip file)
   2-4 Select also the 'Resolved' folder as 'Other
   Folder'
   3- Restart CATIA
   4- Exit CATIA
   Code CAA use:
   1- Compile the code
   2- Go inside the intel_a/command/bin directory of
   your CATIAV5
   installation
   3- Run the setcatenv command allowing to take
   into account the new Run
   Time
   4- Edit the generated environment file (.txt format)
   5- Add the following variable:
   AIFHnFSymbolsCatalogDirectory
   Note: This variable is equal to the whole path of
   directory with in
   you store the
   Holes_and_Fasteners_Drawing_Symbols.catalog
   file i.e
   Imagine you stored the catalog inside the D:/toto
   directory, you write:
   AIFHnFSymbolsCatalogDirectory = D:/toto
   6- Save the environment file
   7- Run the new environment (click on the
   generated icon by the
   setcatenv command)
   8- Open the ACE_CN_01280.catpart provided with
   the scenario
   9- Activate the Wireframe & Surface Design
   workbench
   ====>>> Some new icon appears in the
   workbench
   10- Click on the command
   AIFHnFAssociateDftSymbolsToholesHdr
   ====>>>> A panel appears
   11- Sel the UDFs called 'Hole_for_Fasteners.1
   & Hole_for_Fasteners.2 as "Holes"
   12- Sel the annotation view called Projected view.1
   inside the part
   13- Click on Preview button
   Result:
   The result on instantiated is not the expected one
   (See
   ACE_CN_01280.doc). Indeed, the modifiable in
   instance text is
   updated for all the instances of the same
   reference. Here, the
   Catdrawing used as NOA origin is
   Hole_7.9mm.catdrawing with some
   editable text called Text_on_right & Text_on_left .
   All instances
   in case of multi instantiation with by CAA code will
   take the value of
   the last created instance.
   The behaviour is different in interactive mode. The
   instantiation is
   done one NOA by NOA. The NOA instances can be
   different when they are
   created from the same reference.
   This behaviour shall be the same with CAA code for
   multi-instantiation
   scenario
   Note:
   For information, this method was delivered by
   Dassault Systemes on
   V5R12Sp6 to answer customer's need for an
   Internal development (Holes &
   Fasteners). Today, we can not guarantee we could
   address our
   requirement due to the non-reliability of
   CAA interfaces. Indeed, additional workload is
   necessary to keep
   consistent instantiated NOAs on a drafting view. In
   some cases, for a
   large assembly, the number of NOAs on a drawing
   can be close to 1000.
   One by one, the user shall have to check the
   consistency of each NOA.
   It is the reason why the incident status is P0.
   Additional data:
   - hnf_src.zip file : Source file including the interface
   & all
   necessary CATIAV5 resources to run the code
   (NOA reference, NOA
   Library .)
   .
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  For multi instantiation,cannot create consistent NOAs with so m
   e "Modifiable in instance" text
   For multi instantiation,cannot create consistent
   NOAs with so me "Modifiable in instance" text.
   .
   variable "OMB_RESOLUTION_LINK_CACHING=TRUE
   "
   V5R12SP6 hotfix 12
   Cache management must be activated
   Environment:
   HP UX 11i and also W2K and SUN
   Scenario:
   .
   .
   Problem:
   The multi-instantiation with CAA API does not work
   properly
   on Modifiable in instance text NOA.
   Scenario:
   0- Decompress the hf_src.zip file on your local disk
   Settings:
   1- Keep active the "Other Folder" option on
   Options/General/Documents
   folder. All the other option (Folder of the link, VPM
   ...) shall be deactivated
   2-2 Click on 'Other Folder' + 'Configure'
   2-3 Select the directory within you stored
   the
   Holes_and_Fasteners_Drawing_Symbols.catalog
   file (This catalog
   is included inside the provided zip file)
   2-4 Select also the 'Resolved' folder as 'Other
   Folder'
   3- Restart CATIA
   4- Exit CATIA
   Code CAA use:
   1- Compile the code
   2- Go inside the intel_a/command/bin directory of
   your CATIAV5
   installation
   3- Run the setcatenv command allowing to take
   into account the new Run
   Time
   4- Edit the generated environment file (.txt format)
   5- Add the following variable:
   AIFHnFSymbolsCatalogDirectory
   Note: This variable is equal to the whole path of
   directory with in
   you store the
   Holes_and_Fasteners_Drawing_Symbols.catalog
   file i.e
   Imagine you stored the catalog inside the D:/toto
   directory, you write:
   AIFHnFSymbolsCatalogDirectory = D:/toto
   6- Save the environment file
   7- Run the new environment (click on the
   generated icon by the
   setcatenv command)
   8- Open the ACE_CN_01280.catpart provided with
   the scenario
   9- Activate the Wireframe & Surface Design
   workbench
   ====>>> Some new icon appears in the
   workbench
   10- Click on the command
   AIFHnFAssociateDftSymbolsToholesHdr
   ====>>>> A panel appears
   11- Sel the UDFs called 'Hole_for_Fasteners.1
   & Hole_for_Fasteners.2 as "Holes"
   12- Sel the annotation view called Projected view.1
   inside the part
   13- Click on Preview button
   Result:
   The result on instantiated is not the expected one
   (See
   ACE_CN_01280.doc). Indeed, the modifiable in
   instance text is
   updated for all the instances of the same
   reference. Here, the
   Catdrawing used as NOA origin is
   Hole_7.9mm.catdrawing with some
   editable text called Text_on_right & Text_on_left .
   All instances
   in case of multi instantiation with by CAA code will
   take the value of
   the last created instance.
   The behaviour is different in interactive mode. The
   instantiation is
   done one NOA by NOA. The NOA instances can be
   different when they are
   created from the same reference.
   This behaviour shall be the same with CAA code for
   multi-instantiation
   scenario
   Note:
   For information, this method was delivered by
   Dassault Systemes on
   V5R12Sp6 to answer to customer's need for an
   Internal development (Holes &
   Fasteners). Today, we can not guarantee we could
   address our
   requirement due to the non-reliability of
   CAA interfaces. Indeed, additional workload is
   necessary to keep
   consistent instantiated NOAs on a drafting view. In
   some cases, for a
   large assembly, the number of NOAs on a drawing
   can be close to 1000.
   One by one, the user shall have to check the
   consistency of each NOA.
   It is the reason why the incident status is P0.
   Additional data:
   - hnf_src.zip file : Source file including the interface
   & all
   necessary CATIAV5 resources to run the code
   (NOA reference, NOA
   Library .)
   .
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  THIS PROBLEM WILL BE FIXED ON CATIA VERSION
   V5R12sp12, V5R13sp10 V5R14sp5 and V5R15GA
   level.
   .
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   HD33172
   
   
 * REPORTED COMPONENT NAME
   CAA V5 HP-UX
   
   
 * REPORTED COMPONENT ID
   569102100
   
   
 * REPORTED RELEASE
   512
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2005-01-06
   
   
 * CLOSED DATE
   2005-02-17
   
   
 * LAST MODIFIED DATE
   2009-06-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R512 PSN
   UP
   
   
 * R513 PSN
   UP
   
   
 * R514 PSN SP51405
   UP05/03/31 N 1000