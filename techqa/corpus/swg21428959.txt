Title: IBM Oracle Gateway : Exits unexpectedly during large data insert - United States

Text:
nco_g_oracle; nco_g_jdbc; nco_g_odbc; nco_g_objserv_bi; nco_g_objserv_uni; Ipc.StackSize; inserts; gateway TECHNOTE (FAQ)

QUESTION
 
Oracle Gateway : Why does the gateway keep exiting for large data resynchronisation? 

CAUSE
There is not enough memory allocated to the socket to send the data.

ANSWER
 

This issue affects all gateways:- 

 

For large amounts of data inserts|updates the object server needs to have the Ipc.StackSize increased. 

vi $NCHOME/etc/NCOMS.props
#Ipc.StackSize: 67584
# Increased for large data inserts - 4*standard
Ipc.StackSize: 524288
:wq

Netcool/OMNIbus v8.1 uses 262144 by default:
Ipc.StackSize: 262144

Therefore you should ensure that all components that use Ipc.StackSize have a value equal to or less than the Ipc.StackSize in the object server. In general Ipc.StackSize is set to a common value throughout the Netcool/OMNIbus system, to prevent issues.

Restart the object server for the Ipc.StackSize update to take affect.

The default Object server stack size can be between 65k to 262k by default, depending upon the version of Netcool/OMNIbus.
Increasing the stack size limits the number of connections that can be established to the Object Server, since each connection requires its own stack. 

i.e. stacksize * number of clients connected = memory used

Maximum memory sizes for a 32-bit Object Server ranges from 2Gb to 3.5 Gb.
Therefore the current memory size of the Object Server needs to be measured and taken into account before increasing the Object Server's stack size property.


 

PRODUCT ALIAS/SYNONYM
 nco-g-oracle
nco-g-jdbc
nco-g-odbc