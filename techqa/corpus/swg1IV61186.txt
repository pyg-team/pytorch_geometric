Title: IBM IV61186: MISSING PROCESS SITUATION DOES NOT WORK - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Monitoring 6.3.0 Fix Pack 4 (6.3.0-TIV-ITM-FP0004) [http://www-01.ibm.com/support/docview.wss?uid=swg24037653]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  In case of missing situation on the process attribute group, the
   agent duplicates the information for the first process and does
   not send data for the process for the last process (with
   highest pid).
   
   Affected Platforms / Versions:
   Unix OS Agent 6.30 FP2
   
   Diagnostics:
   The data sent to the portal from the kux03agt.cpp are
   duplicated for the first process.
   In the following example the addSTGValues print in the log the
   proceed pid that is sent to the portal as a single row:
   
   (5382F763.00DA-7:kux03agt.cpp,235,"addSTGValues") Entry
   ...
   (5382F763.0145-7:kux03agt.cpp,255,"addSTGValues") Added
   PROCESSES data for: '1' from STG: '1'
   (5382F763.0146-7:kux03agt.cpp,283,"addSTGValues") Exit
   (5382F763.014B-7:kux03agt.cpp,235,"addSTGValues") Entry
   (5382F763.014C-7:kux03agt.cpp,255,"addSTGValues") Added
   PROCESSES data for: '1' from STG: '1'
   (5382F763.014D-7:kux03agt.cpp,283,"addSTGValues") Exit
   (5382F763.0152-7:kux03agt.cpp,235,"addSTGValues") Entry
   (5382F763.0153-7:kux03agt.cpp,255,"addSTGValues") Added
   PROCESSES data for: '721044' from STG: '721044'
   (5382F763.0154-7:kux03agt.cpp,283,"addSTGValues") Exit
   
   Initial Impact: Medium
   Additional Keywords:
    ProcCmdInfo
    Missing Process situation
    Highest Pid
   
   
    
   
   

LOCAL FIX
 *  Setting KUX_PROCESS_CMD_SAMPLE_SECS=0 in ux.ini causes the
   agent using another path in retrieving processes data where the
   issue is not present.
   
   
    
   
   

PROBLEM SUMMARY
 *  False alerts on missing processes from the Monitoring agent for
   UNIX OS on AIX.
   
   
   Based on rare timing conditions it may occur that the Command
   and Process Command attributes in the Process group are
   incorrect for the associated process ID, being those of another
   process.  This can in turn trigger situations monitoring for the
   presence of the expected Command or Process Command value.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Introduced additional checks to detect and handle the above
   conditions.
   
   The fix for this APAR will be contained in the following
   maintenance packages:
   
   | FixPack    | 6.3.0-TIV-ITM-FP0004
   
   
    
   
   

TEMPORARY FIX
 *  Set KUX_PROCESS_CMD_SAMPLE_SECS=0 in ux.ini file which will
   disable process caching.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV61186
   
   
 * REPORTED COMPONENT NAME
   ITM AGENT UNIX
   
   
 * REPORTED COMPONENT ID
   5724C040U
   
   
 * REPORTED RELEASE
   630
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-06-04
   
   
 * CLOSED DATE
   2014-06-26
   
   
 * LAST MODIFIED DATE
   2014-12-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITM AGENT UNIX
   
   
 * FIXED COMPONENT ID
   5724C040U
   
   

APPLICABLE COMPONENT LEVELS
 * R630 PSY
   UP
   
   
 * R610 PSN
   UP
   
   
 * R620 PSN
   UP
   
   
 * R621 PSN
   UP
   
   
 * R622 PSN
   UP
   
   
 * R623 PSN
   UP