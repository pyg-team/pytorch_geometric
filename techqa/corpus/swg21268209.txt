Title: IBM Error: Cannot restore segment prot after reloc: Permission denied, during Linux installation - United States

Text:
RATLC01248676; CQ; cqreg; cannot restore segment prot after reloc: Permission denied; RHEL5; "libcqlic.so"; "libcqlic; so"; SELinux; Security Enhanced Linux; prot; reloc; 1268209 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote how to resolve a Permission denied error that can occur during the installation of IBM速 Rational速 ClearQuest速 on a Linux速 operating system. 

CAUSE
Some users might encounter the following error message when installing ClearQuest on Linux: 

 * 
 * /opt/rational/clearquest/linux_x86/bin/cqreg_main: error while loading shared libraries: /opt/rational/clearquest/linux_x86/shlib/libcqlic.so: cannot restore segment prot after reloc: Permission denied


RESOLVING THE PROBLEM
This problem occurs because SELinux (Security Enhanced Linux) is installed on the machine. The SELinux configuration is preventing the shared library "libcqlic.so" from loading. There are two workarounds: 

 

 1. SELinux disabled
    If the user does not need "SELinux" enabled, they should disable it by editing the file /etc/selinux/config. Change the line "SELINUX=enforcing" to "SELINUX=disable" or "SELINUX=permissive", and then reboot the machine. 
 2. SELinux enabled
    If the user wants to keep SELinux enabled, execute the following two commands in order to change the security context type of two shared libraries:  * 
     * chcon -t textrel_shlib_t libcqlic.so
       chcon -t textrel_shlib_t libratlldap.so
    
    

After one of those two workarounds, the cqreg_main command will work correctly. The user can now manually run the command:  * 
 * /opt/rational/clearquest/bin/cqreg initialize -force -associate %ClearQuest database registry directory%