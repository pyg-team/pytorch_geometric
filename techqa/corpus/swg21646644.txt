Title: IBM Empty APP_SERVER_HOME value in runConfig.lax file on Deployment Manager only node - United States

Text:
itim isim runConfig.lax UpdateInstaller DMGR fixpack TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 During installation of an Identity Manager cluster environment with the deployment manager node by itself, the install can leave the APP_SERVER_HOME value in the runConfig.lax file blank. The problem will occur if the WebSphere installation path on the machine cannot be determined by the UI installer and you have to browse to the WebSphere install path. The issue is only seen when deployment manager node is by itself and UI Identity manager installer is run. 

SYMPTOM
When the APP_SERVER_HOME value is blank in the runConfig.lax file, this will cause failure when later trying to apply Identity Manager fixpacks or interim fixes. The failure will show in the ITIMConfigActions.log file as failure to run wsadmin and will show it is trying to be run from WebSphere UpdateInstaller path and not WebSphere Application server path. The failure will most often occur during the backup ear step of the patch process. 

Example of error in the ITIMConfigAction.log file from Identity Manager fixpack install attempt.

init:
[echo] The wsadmin script to be executed is /opt/IBM/isim/properties/version/nif/config/install/was/exportEar.py
[echo] The ear will be backed up the following location: /opt/IBM/isim/ITIM.backup.ear

wsAdminExec.dm-unix:

BUILD FAILED
/opt/isim/properties/version/nif/config/install/was/exportEar.ant:108: Execute failed: java.io.IOException: Cannot run program "/WASupdates/tmp/FP25/UPDI/bin/wsadmin.sh" (in directory "/WASupdates/tmp/FP25/UPDI/bin"): java.io.IOException: error=2, No such file or directory


RESOLVING THE PROBLEM
The fix is to manually edit the runConfig.lax file after the Identity Manager installation on the deployment manager node to make sure the APP_SERVER_HOME value is defined. The APP_SERVER_HOME value should be set to the path to WebSphere installation on the machine, this should also be the same value as the WAS_DM_HOME line in the runConfig.lax file. The runConfig.lax file is located in <itim home>/bin directory.