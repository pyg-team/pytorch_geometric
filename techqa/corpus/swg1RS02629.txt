Title: IBM RS02629: NULLPOINTEREXCEPTION DURING SYNCHRONIZATION WITH NEWLY ADDED DEPENDENT PROJECTS - United States

Text:
  FIXES ARE AVAILABLE
Operational Decison Manager z/OS 8.8.1.2 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24043654]
Operational Decision Manager V8.8.1.2 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24043530]
Operational Decision Manager V8.9.0.1 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24043671]
Operational Decison Manager z/OS 8.9.0.1 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24043670]
Operational Decision Manager V8.9.1 Download Document [http://www-01.ibm.com/support/docview.wss?uid=swg24044122]
Operational Decision Manager V8.9.1 Mod Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24044253]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  ODM 8.8.1
   In Rule Designer, suppose a new rule project is added to an
   existing decision service with dependancies, this rule project
   is published to decision center first and then the decision
   service is synced to decision center. This rule project has to
   stay connected to Decision Center while synchronizing the
   decision service.
   If you disconnect the rule project after publish it to DC (keep
   connection entries), there will be various errors afterwards in
   Decision Center while extracting project state, and pulling the
   projects from DC into a new workspace.
   To reproduce with loan validation service sample:
   1. import Loan Validation Service sample to workspace A, and
   publish "Loan Validation Service" to DC.
   2. open a new workspace B, import Loan Validation Service
   sample, and add a new rule project "Loan Test" with the
   following dependancies:
         Loan Validation Service > Loan Test > Loan Validation Base
   3. right click "Loan Test" and publish this rule project to DC,
   it publishes to main branch by default.
   4. right click "Loan Test" > Decision Center > Disconnect and
   select keep connection entries.
   5. create a new branch based on main in business console for
   Loan Validation Service "newBranch"
   6. in Rule Designer, right click "Loan Validation Service" and
   synchronize it to newBranch, publish the changes in Sync view.
   7. login to DCEC, select Loan Validation Service > newBranch,
   Export Current Project State will throw the following error. (
   attached)
   8. create a new workspace C, and create rule project from
   Decision Center from Loan Validation Service, the rule projects
   are created in the workspace with empty folders. Errors in
   workspace log:
   !MESSAGE Caught exception processing: class ilog.rules.
   synchronization.endpoint.remote.server.CollectChangesHandler
   !STACK 0
   ilog.rules.synchronization.SyncException: Caught exception
   processing: class ilog.rules.synchronization.endpoint.remote.
   server.CollectChangesHandler
           at ilog.rules.synchronization.subscriber.
   DataAccessSignatureVariantTree.collectChanges(
   DataAccessSignatureVariantTree.java:68)
           at ilog.rules.synchronization.subscriber.
   SignatureVariantTree.refresh(SignatureVariantTree.java:139)
           at ilog.rules.synchronization.subscriber.Subscriber.
   refresh(Subscriber.java:349)
           at ilog.rules.synchronization.subscriber.Subscriber.
   refresh(Subscriber.java:305)
           at ilog.rules.synchronization.subscriber.service.
   SynchronizationService.collectSyncInfos(SynchronizationService.
   java:126)
           at ilog.rules.synchronization.eclipseui.subscriber.
   EclipseWrapperSubscriber.configureFromRuleTeamServer(
   EclipseWrapperSubscriber.java:1197)
           at ilog.rules.synchronization.eclipseui.wizards.
   NewRuleProjectFromRTServerWizard$ConfigureJob.runInWorkspace(
   NewRuleProjectFromRTServerWizard.java:145)
           at org.eclipse.core.internal.resources.
   InternalWorkspaceJob.run(InternalWorkspaceJob.java:38)
           at org.eclipse.core.internal.jobs.Worker.run(Worker.
   java:54)
   Caused by: ilog.rules.model.dataaccess.DataAccessException:
   Caught exception processing: class ilog.rules.synchronization.
   endpoint.remote.server.CollectChangesHandler
           at ilog.rules.synchronization.endpoint.remote.client.
   RemoteRuleModelDataAccess.collectChanges(
   RemoteRuleModelDataAccess.java:373)
           at ilog.rules.synchronization.subscriber.
   DataAccessSignatureVariantTree.collectChanges(
   DataAccessSignatureVariantTree.java:66)
   Note that there will be no errors in step 7 and 8 if the new
   rule project is not disconnected from DC in step 4.
   Connection is not required for classic rule project with
   dependancies in similar scenario.
   
   
    
   
   

LOCAL FIX
 *  stay connected during sync. or restore the connection for the
   dependent projects.
   
   
    
   
   

PROBLEM SUMMARY
 *  We got a NullPointerException during synchronization with newly
   added dependent projects because If the sync branch is null
   this causes an NPE later on in ProjectBranch
   This can happen if the project was disconnected from DC in RD.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code is fixed
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   RS02629
   
   
 * REPORTED COMPONENT NAME
   WS DECISION CTR
   
   
 * REPORTED COMPONENT ID
   5725B6900
   
   
 * REPORTED RELEASE
   881
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-01-31
   
   
 * CLOSED DATE
   2017-02-17
   
   
 * LAST MODIFIED DATE
   2017-02-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  999
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WS DECISION CTR
   
   
 * FIXED COMPONENT ID
   5725B6900
   
   

APPLICABLE COMPONENT LEVELS
 * R881 PSY
   UP