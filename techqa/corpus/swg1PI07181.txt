Title: IBM PI07181: SHARED SDR RECEIVED CSQX202E RC=00000467 (ETIMEDOUT), THE CHANNEL IS WAITING FOR THE TCP/IP SOCKET TO RESPOND. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Shared SDR (Sender channel) received CSQX202E RC=00000467
   (ETIMEDOUT).
   The channel is waiting for the TCP/IP socket to respond.
   .
   The issue occurs when the following occurs:
   
   - A shared sender channel is starting on one qmgr in
     the QSG (QM1), but the connection is not able to be
     established immediately. The channel is waiting for
     the TCP/IP socket to respond.
   .
   +CSQX202E WMQ1 CSQXRCTL Connection or remote listener
         unavailable, channel SOME.CHANNEL.
         connection SOME.REMOTE.QMGR (xxx.xxx.xxx.xxx).
         TRPTYPE=TCP RC=00000467 (ETIMEDOUT) reason=00000000.
   .
   - STOP CHINIT is issued for QM1.
   
   - START QMGR and START CHINIT are issued for another
     member of the QSG (QM2).
   
   - QM2 detects that QM1's chinit is stopping and
     attempts to recover any active shared channels that
     are owned by QM1. This updates the state for the
     problem channel to show QM2 as the owner.
   
   - On QM1, the socket for the channel detects that
     there is a problem and provides a return code which
     causes the channel to end.
   - As part of the channel termination processing,
     QM1 temporarily changes the XMIT queue to
     GET(DISABLED).
   - After completing the channel processing, QM1 should
     re-enable the XMIT queue, but it notices that it is
     not the channel owner and incorrectly determines
     that the queue does not need re-enabling.
   .
   This leaves the XMIT queue GET(DISABLED), and the channel
   is stuck with a status of starting. No further retry
   of the channel connection occurs without manual
   intervention.
   
   
   
   
   Additional Symptom(s) Search Keyword(s):
   
   
    
   
   

LOCAL FIX
 *  The issue could be avoided by changing the automated processing
   for this QSG so that you are not doing the stop and restart of
   all queue managers at the same time.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS Version 7 *
   *                 Release 1 Modification 0.                    *
   ****************************************************************
   * PROBLEM DESCRIPTION: Shared channel may fail to enter        *
   *                      retry after being peer-recovered        *
   *                      to another channel initiator            *
   *                      in the QSG and failing to start.        *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   If a shared channel fails at the same time as its channel
   initiator is being shut down and another channel initiator
   is starting peer channel recovery, the recovered channel
   instance on the new channel initiator may fail to open
   the XMITQ.
   
   The following error messages may appear on the channel initiator
   joblog:
   
   +CSQX477E +CSQ1 CSQXSUPR Channel CHANNEL.NAME is active,
   transmission queue XMIT.QUEUE
   in use on ????
   
   Following the above error, instead of the channel entering retry
   the channel remains inactive requiring manual intervention to
   start.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Shared channel restart processing has been amended to ensure
   that the channel correctly enters the retry state.
   100Y
   CSQXRCSI
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI07181
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   100
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-12-02
   
   
 * CLOSED DATE
   2014-02-25
   
   
 * LAST MODIFIED DATE
   2014-05-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI15442
   
   

MODULES/MACROS
 *  CSQXRCSI
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R100 PSY UI15442 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI15442]
   UP14/04/08 P F404
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.