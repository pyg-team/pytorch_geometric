Title: IBM Deployment of FileNet Content Engine fails - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The deployment of the Content Engine fails when using Configuration Manager, either the GUI interface or the command line, or when manual deployment is used. 

SYMPTOM
The Content Engine deployment log when using WebSphere: 

ADMA5008E: The EJBDeploy program failed on file /usr/WebSphere/AppServer/profiles/dmgr/wstemp/-58775129/upload/Engine-ws.ear. Exception: com.ibm.etools.ejbdeploy.EJBDeploymentException: Error executing EJBDeploy 

ADMA0063E: An error occurred during Enterprise JavaBeans (EJB) deployment. Exception: com.ibm.etools.ejbdeploy.EJBDeploymentException: Error executing EJBDeploy 

ADMA5011I: The cleanup of the temp directory for application FileNetEngine is complete. 

ADMA5014E: The installation of application FileNetEngine failed. 

SystemOut.log 

[5/11/12 14:42:10:163 EDT] 0000004c SystemOut O com.ibm.etools.ejbdeploy.EJBDeploymentException: Error executing EJBDeploy 

FFDC1003I: FFDC Incident emitted on /usr/WebSphere/AppServer/profiles/dmgr/logs/ffdc/dmgr_6bb96bb9_12.05.11_14.42.10.0746502179706935034032.txt com.ibm.ws.management.application.task.DeployEJBTask.ejbDeploy 393 

[5/11/12 14:42:10:163 EDT] 0000004c FfdcProvider W com.ibm.ws.ffdc.impl.FfdcProvider logIncident FFDC1003I: FFDC Incident emitted on /usr/WebSphere/AppServer/profiles/dmgr/logs/ffdc/dmgr_6bb96bb9_12.05.11_14.42.10.1147976157297031999394.txt com.ibm.ws.management.application.SchedulerImpl.run 307 

[5/11/12 14:50:39:792 EDT] 00000051 DeployEJBTask I ADMA0158I: [EJBDeploy] /usr/WebSphere/AppServer/bin/ejbdeploy.sh[5]: : Cannot access parent directories. 

[5/11/12 14:50:39:796 EDT] 00000051 DeployEJBTask I ADMA0158I: [EJBDeploy] /usr/WebSphere/AppServer/bin/ejbdeploy.sh[5]: usr/WebSphere/AppServer/bin/ejbdeploy.sh[5]: : Cannot access parent directories.: not found. 

... 

[5/11/12 14:50:49:975 EDT] 00000053 DeployEJBTask E ADMA0086E: [EJBDeploy] /Engine-ejb-ws: The project was not built since its build path is incomplete. Cannot find the class file for com.filenet.apiimpl.transport.ejbstubs.EREWrapperException. Fix the build path then try building this project 

FFDC log: 

5/11/12 14:42:10:075 EDT] FFDC Exception:com.ibm.etools.ejbdeploy.EJBDeploymentException SourceId:com.ibm.ws.management.application.task.DeployEJBTask.ejbDeploy ProbeId:393 Reporter:java.lang.Class@dbb0dbb 

com.ibm.etools.ejbdeploy.EJBDeploymentException: Error executing EJBDeploy


CAUSE
The mount point ownership was set to root instead of the wasadmin user.



ENVIRONMENT
AIX



DIAGNOSING THE PROBLEM
The deployment message pointed to a problem executing EJBDeploy. In the Application Server logs, the error stack trace related to the EJBDeploy also showed errors trying to access parent directories and notes that the project was not built since the build path was incomplete. This indicated a permission issue might be the problem. 



RESOLVING THE PROBLEM
Changing the ownership of the mount point for \usr\WebSphere.