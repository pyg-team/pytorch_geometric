Title: IBM CSQP014E EXPANSION FAILED FOR PAGE SET and IEC070I 034(014)-202 - United States

Text:
4G 4GB GIG 4 G GB GIG TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 A page set expansion fails with 

IEC070I 034(004)-220,ssidMSTR,ssidMSTR,<ddname>,<device>,<volser>, 
IEC070I hlq.PSIDnn,hlq.PSIDnn.DATA, 
IEC070I <catalog name>

CSQP014I CSQPEXT1 EXPANSION FAILED FOR PAGE SET <psid>. FUTURE REQUESTS TO EXTEND IT WILL BE REJECTED

Due to the failure, WebSphere MQ will not attempt to expand this pageset again. 

If the queue manager is restarted, or ALT PSID([n]) EXPAND(USER) is issued, WMQ will attempt expansion again, but it is likely this will also fail. 

SYMPTOM
Additional symptoms may include 
- MQ reason code 2192 ( MQRC_PAGESET_FULL or MQRC_STORAGE_MEDIUM_FULL )
- CSQX548E Messages sent to local dead-letter queue, channel <channel-name>, reason=2192



CAUSE
The IEC070I with return code 034 means: 
The maximum relative byte address (RBA) limit (4,294,967,295) has been reached. The subfunction information field, if present, contains a decimal problem-determination code (reason code) for use by the IBM Support Center in case further problem diagnosis is necessary. 

Reason Codes 004 for Return Code 034 means:
End of volume - Non-extended addressable. The new allocation amount would exceed 4 GB. 

This shows that the pageset could not be expanded because it is not extended addressable, and the expansion would have caused it to grow beyond 4Gb. The current size of the page set is close to this limit. 

RESOLVING THE PROBLEM



Determine why the page set needs to expand: 

 * Do you simply have the kind of message volume/size that would require a page set larger than 4G? 
 * Is something preventing the getting application from running? 
 * Could there be an application that is failing to commit its gets/puts? You can tell if there are uncommitted messages using 
   /cpf DISPLAY QSTATUS(qname) UNCOM QDEPTH
   where "cpf" is the command prefix for the queue manager. There is not a display to show how many messages are uncommitted and whether they are gets or puts. 
 * Could there be expired messages that need to be cleaned up? See technote 1177103 [http://www-01.ibm.com/support/docview.wss?uid=swg21177103]. 
 * If the getting application is a channel, is it starting, and is it able to successfully move messages? Use the command
   /cpf DIS CHSTATUS(channelname) ALL
   to verify the channel status [https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_9.0.0/com.ibm.mq.ref.adm.doc/q086090_.htm] attributes including STATUS, SUBSTATE, and INDOUBT. 


Use a page set larger than 4GB if necessary: 

 * 
 * 
 * Task 15: Define your page sets
 * 
 *  
 * The topic Defining a page set to be larger than 4GB [https://www.ibm.com/support/knowledgecenter/en/SSFKSJ_9.0.0/com.ibm.mq.adm.doc/q022500_.htm?view=kc#q022500___DlentryDefiningAPageSetToBeLarge] has a list of steps and sample JCL to complete this task.
   

 

Cross reference information Segment Product Component Platform Version Edition Business Integration IBM MQ 
PRODUCT ALIAS/SYNONYM
 WMQ MQ IBMMQ