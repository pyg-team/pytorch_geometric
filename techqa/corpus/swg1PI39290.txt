Title: IBM PI39290: DFHUS0002 CODE X'0309' IS ISSUED WHEN SIGNON FAILS DUE TO USERID CONTAINING EMBEDDED BLANKS - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  An attempt to signon to a terminal with a userid containing
   an embedded blank results in severe error message
   
   DFHUS0002  A severe error (code X'0309') has occurred in
              program DFHUSAD.
   
   CICS produces a dump for the severe error. This is
   much too strong of a reaction by CICS.
   
     The problem is that DFHUSAD is not handling the
   XSPW_USERID_FORMAT_ERROR
   
   Trace shows:
   
   AP 2080 SNTU  ENTRY - FUNCTION(SIGNON_TERMINAL_USER)
                         USERID(abcd e f) <<<embedded blank(s)
   
   US 0301 USAD  ENTRY - FUNCTION(ADD_USER_WITH_PASSWORD)
                         SIGNON_TYPE(USER_SIGN_ON)
                         USERID_LENGTH(8) USERID(abcd e f)
   
   
   XS 0601 XSPW  ENTRY - FUNCTION(INQUIRE_PASSWORD_DATA)
                         USERID_LENGTH(8) USERID(abcd e f)
   
   
   XS FE04 XSSB  *EXC* FUNCTION(INQUIRE_PASSWORD_DATA)
      RESPONSE(EXCEPTION) REASON(EXTRACT_FAILURE) SAF_RESPONSE(8)
      SAF_REASON(50) ESM_RESPONSE(18) ESM_REASON(50)
   
   .
   XS 0602 XSPW  EXIT - FUNCTION(INQUIRE_PASSWORD_DATA)
     RESPONSE(EXCEPTION) REASON(USERID_FORMAT_ERROR)
     SAF_RESPONSE(8) SAF_REASON(50) ESM_RESPONSE(18) ESM_REASON(50)
   
   
   US 0309 USAD  *EXC* - Exception-unknown -
       FUNCTION(ADD_USER_WITH_PASSWORD) SIGNON_TYPE(USER_SIGN_ON)
       USERID_LENGTH(8) USERID(abcd e f)  <<<embedded blank(s)
   
   
   
   
   Additional Symptom(s) Search Keyword(s): KIXREVDAM
   CESN ABENDAEXZ AEXZ DFHUSAD
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS Users.                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: Message DFHUS0002 with code X'0309' is  *
   *                      issued by program DFHUSAD when there is *
   *                      an attempt to signon to CICS with a     *
   *                      userid that contains embedded blanks.   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   If there is an attempt to signon to a terminal with a
   userid containing embedded blanks, CICS issues message:
   DFHUS0002 A severe error (code X'0309') has occurred in module
   DFHUSAD.
   CICS takes a system dump and terminates the transaction with
   abend code AEXZ.
   CICS detects that the userid contains blanks but DFHUSAD fails
   to handle the USERID_FORMAT_ERROR exception returned by DFHXSPW.
   This exception should be handled and passed back to
   DFHEIP to return an EIBRESP and EIBRESP2 in response to
   the signon request.
   
   Additional keywords: MSGDFHUS0002 US0002
   
   
    
   
   

PROBLEM CONCLUSION
 *  CICS is changed so an EIBRESP of USERIDERR with EIBRESP2=8 is
   returned when a userid supplied on a CESN or EXEC CICS SIGNON
   request contains embedded blanks.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI39290
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-04-16
   
   
 * CLOSED DATE
   2015-05-12
   
   
 * LAST MODIFIED DATE
   2015-06-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PI35981 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI35981]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI27604
   
   

MODULES/MACROS
 *  DFHESN   DFHSNPU  DFHSNTU  DFHSNUS  DFHSNUST DFHUSAD  DFHUSADT
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY UI27604 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI27604]
   UP15/05/22 P F505
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.