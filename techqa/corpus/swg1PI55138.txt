Title: IBM PI55138: ABEND S0C4 OCCURRING IN VERSIONED MODULE CJE9XLGR AT OFFSET X'214' - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A CICS region was shutting down, when it
   experienced an abend S0C4/AKEA in CPSM versioned module
   CJE9XLGR. In the job log, the following messages occurred
   repeatedly indicating the problem:
   
   DFHAP0701  An abend (code 0C4/AKEA) has occurred in exit
              program CJE9XLGR at exit point XPCTA.
   DFHAP0001  An abend (code 0C4/AKEA) has occurred at
              offset X'00000214' in module CJE9XLGR.
   ........
   
   DFHAP0701  An abend (code ---/ASRA) has occurred in exit
              program CJE9XLGR at exit point XPCTA.
   DFHAP0001  An abend (code ---/ASRA) has occurred at
              offset X'192C' in module DFHABAB.
   
   For the task that experienced the S0C4, code in EYU9XLGR picked
   
   up the value in XLWA_AOPB_VO (XLWA +x'360') and  XLWA_AOPB_LEN
   
   (XLWA +x'364'). These values are no longer valid but get used
   
   as the location of the AOPB, we use AOPB_ELE_VO (AOPB +x'180')
   
   as the start address of the array AOPB_CURR_ELE (AOPB +x'14')
   
   as the number of entries.
   
   
   
   The abend occurs because the XLWA_AOPB_VO address in the XLWA
   
   is not getting cleared.
   
   Additional Symptom(s) Search Keyword(s): KIXREVxxx
   
   
    
   
   

LOCAL FIX
 *  n/a
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All CICSPlex SM V5R3M0 Users                                 *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * When your CTS 5.3 MAS is running on a CICS 690 or CICS 680   *
   * region, then the MVS Console reports AKEA abends in the      *
   * XPCTA exit point for module CJF9XLGR or module CJE9XLGR      *
   * during CICS shutdown.                                        *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * After applying the PTF that resolves this APAR, all MASes    *
   * must be recycled to pick up the new code. Note that regions  *
   * do not need to be brought down and restarted at the same     *
   * time.                                                        *
   ****************************************************************
   When the CPSM MAS agent shuts down, it should disable all CICS
   Global User Exits that it had enabled. Due to a module naming
   logic error, the CPSM modules for the XPCTA and XSRAB were not
   being disabled at MAS shutdown. Consequently, if a program abend
   occurred subsequent to the shutdown, then CPSM Exit modules were
   still being called, and they attempted to locate the CPSM
   control block infrastructure - which no longer existed. This
   resulted in an abend in the CPSM XPCTA exit module CJF9XLGR or
   CJE9XLGR.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Changes were made to CPSM Kernel Program EYU9XLEV to ensure that
   it disables the correct XPCTA and XSRAB module names when the
   CPSM V5.3 agent is running on either a CICS 680 or CICS 690
   region. Also, the XPCTA Abend Exit module EYU9XLGR, and the
   XSRAB Abend Exit module EYU9XLSR, have been modified to capture
   abends from CPSM 5.3 modules running on CICS regions prior to
   CICS 700.
   
   The Linkage Editor control statements for the CJF9DBUG and
   CJE9DBUG modules (that is the CPSM 530/CICS 690 and CPSM530/CICS
   680 modules) have had an ENTRY statement added, to prevent the
   programs from trying to execute their prologue messages. Also,
   the programs now use Load Address (LA) instructions to set
   internal problem notification codes, rather than standard Load
   (L) instructions.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI55138
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V5
   
   
 * REPORTED COMPONENT ID
   5655Y0400
   
   
 * REPORTED RELEASE
   00M
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-01-11
   
   
 * CLOSED DATE
   2016-01-21
   
   
 * LAST MODIFIED DATE
   2016-02-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PI53032 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI53032]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI34653
   
   

MODULES/MACROS
 *  CJA9DBUG CJA9XLEV CJA9XLGR CJA9XLSR CJB9DBUG CJB9XLEV CJB9XLGR
   CJB9XLSR CJC9DBUG CJC9XLEV CJC9XLGR CJC9XLSR CJD9DBUG CJD9XLEV
   CJD9XLGR CJD9XLSR CJE9DBUG CJE9XLEV CJE9XLGR CJE9XLSR CJF9DBUG
   CJF9XLEV CJF9XLGR CJF9XLSR EYU9DBUG EYU9XLEV EYU9XLGR EYU9XLSR
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V5
   
   
 * FIXED COMPONENT ID
   5655Y0400
   
   

APPLICABLE COMPONENT LEVELS
 * R00M PSY UI34653 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI34653]
   UP16/01/23 P F601
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.