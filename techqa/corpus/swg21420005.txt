Title: IBM Updates to actual CI attributes not updating Authorized - United States

Text:
efeature; ci; cis; actual; authorized TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Updates to actual CI attributes not being updated in authorized space. Note we are using the Update Promotion eFeature. 

SYMPTOM
The original load of classification attributes for the authorized CIs 

had misspellings in the attribute names. These "bad" attributes have 
been removed and the correct ones added using the CI Space Loader tool. 
The problem is that the correct attributes are not being added to the 
CIs when they are promoted with the update and copy attributes options 
checked.

Once the attribute names were fixed I tried to recreate the CIs from the Select Action menu. After the operation completed there was no change to the CI in the authorized space.


RESOLVING THE PROBLEM
The key problem is that the CI Space Loader tool is not compatible 
with the Update Promotion eFeature in certain scenarios. In particular, 
if you use the CI Space Loader tool to add CI Attributes to a CI Type 
after CI instances have been created with promotion, the Update 
Promotion eFeature will not work correctly. The problem is that the CI 
Space Loader tool does not use the MBO interface and thus it bypasses 
new logic that has updated the classification MBO with the eFeature. The
supported use case is to add an attribute in the classification 
application. This will go through all CI instances of that CI Type and 
add a blank attribute. You can even choose to copy the value for the 
actual CI attribute if you desire. However, there is a known performance
issue with this function that has been corrected in 7.2. If you have 
more than 5000 CIs of one CI Type, you may experience OOM exceptions. 
The work around is to increase the JVM Memory for this operation. 

There are 3 options to correct this:

1) Try the classification "add attribute" function and consider increasing JVM memory if needed. This is the officially supported way to handle your use case. Note, delete the attribute before trying to add it again.

2) Delete all of your authorized CIs and then promote again. Do not use 
the CI Space Loader tool to load new attributes and you will not have 
this issue again.

3) Use a custom written script to add a blank attribute to each CI 
instance. Then update promotion will bring the values over from the 
actual Side.