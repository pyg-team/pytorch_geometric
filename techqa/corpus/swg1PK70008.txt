Title: IBM PK70008: ISSUES WITH THEMES AND SKINS IN 6.1 - United States

Text:
  FIXES ARE AVAILABLE
6.1.0.1 Download: WebSphere Portal and Web Content Management V6.1, fix pack 1 [http://www-01.ibm.com/support/docview.wss?uid=swg24020387]
6.1.0.2 Download: WebSphere Portal and Web Content Management V6.1, fix pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24022898]
6.1.0.3 Download: WebSphere Portal and WCM V6.1 fix pack 3, 6.1.5 feature pack [http://www-01.ibm.com/support/docview.wss?uid=swg24025054]
6.1.0.4 Download: WebSphere Portal and WCM V6.1.0 fix pack 4 & 6.1.5 fix pack 1 [http://www-01.ibm.com/support/docview.wss?uid=swg24026394]
6.1.0.5 Download: WebSphere Portal and WCM V6.1.0 fix pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24027475]
6.1.0.6 Download: WebSphere Portal and WCM V6.1.0 fix pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030970]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Issues with themes and skins in 6.1.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  When a theme is deployed as a war file a NullPointerException
   occurs.
   
   To reproduce the OOB theme "Portal" has to be copied and used
   to create a new - custom - theme like described on:
   
   
   http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1m0/topic/com.
   ibm.wp.ent.doc/dev/dgn_crthm.html [http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1m0/topic/com.ibm.wp.ent.doc/dev/dgn_crthm.html]
   
   The problem is caused by context path used to address the
   themeConfig.properties These properties cannot be loaded, when a
   theme is deployed as a standalone war file.
   
   Here is the exception:
   
      [8/5/08 9:52:35:991 CEST] 0000002b SystemOut     O Unable to
   load theme configuration
   /MyTheme/themes/html/MyTheme/colors/themeConfig.properties
   
      [8/5/08 9:52:35:992 CEST] 0000002b ServletWrappe E
   SRVE0068E: Uncaught exception thrown in one of the service
   methods of the servlet: /themes/html/MyTheme/Default.jsp. Exc
   
      eption thrown : java.lang.NullPointerException
   
              at
   com.ibm._jsp._Default._jspService(_Default.java:794)
   
              at
   com.ibm.ws.jsp.runtime.HttpJspBase.service(HttpJspBase.java:87)
   
              at
   javax.servlet.http.HttpServlet.service(HttpServlet.java:856)
   
              at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWr
   apper.java:1068)
   
              at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(Ser
   vletWrapper.java:543)
   
              at
   com.ibm.ws.wswebcontainer.servlet.ServletWrapper.handleRequest(S
   ervletWrapper.java:478)
   
              at
   com.ibm.wsspi.webcontainer.servlet.GenericServletWrapper.handleR
   equest(GenericServletWrapper.java:122)
   
              at
   com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionServletWrappe
   r.handleRequest(AbstractJSPExtensionServletWrapper.java:225)
   
              at
   com.ibm.ws.jsp.webcontainerext.AbstractJSPExtensionProcessor.han
   dleRequest(AbstractJSPExtensionProcessor.java:278)
   
              at
   com.ibm.ws.webcontainer.webapp.WebAppRequestDispatcher.include(W
   ebAppRequestDispatcher.java:639)
   
              at
   com.ibm.wps.services.dispatcher.DispatcherServiceImpl.handleRequ
   est(DispatcherServiceImpl.java:93)
   
              at
   com.ibm.wps.services.dispatcher.DispatcherServiceImpl.include(Di
   spatcherServiceImpl.java:53)
   
              at
   com.ibm.wps.services.dispatcher.Dispatcher.include(Dispatcher.ja
   va:50)
   
              at
   com.ibm.wps.engine.templates.themes.Default.doDispatch(Default.j
   ava:283)
   
              at
   com.ibm.wps.engine.templates.themes.Default.render(Default.java:
   236)
   
              at
   com.ibm.wps.engine.templates.ThemeTemplate.render(ThemeTemplate.
   java:65)
   
              at
   com.ibm.wps.engine.phases.WPRenderPhase.processRendering(WPRende
   rPhase.java:394)
   
              at
   com.ibm.wps.engine.phases.WPBaseRenderPhase.execute(WPBaseRender
   Phase.java:173)
   
              at
   com.ibm.wps.state.phases.AbstractRenderPhase.next(AbstractRender
   Phase.java:106)
   
              at
   com.ibm.wps.engine.phases.WPAbstractRenderPhase.next(WPAbstractR
   enderPhase.java:97)
   
              at
   com.ibm.wps.engine.Servlet.callPortal(Servlet.java:805)
   
              at com.ibm.wps.engine.Servlet.doGet(Servlet.java:607)
   
              at
   javax.servlet.http.HttpServlet.service(HttpServlet.java:743)
   
              at
   com.ibm.wps.engine.Servlet.doFilter(Servlet.java:1184)
   
              at
   com.ibm.wps.resolver.servlet.ContentHandlerCleanup.doFilter(Cont
   entHandlerCleanup.java:648)
   
              at
   com.ibm.wps.resolver.servlet.AbstractFilter.doFilter(AbstractFil
   ter.java:82)
   
              at
   com.ibm.wps.engine.Servlet.service(Servlet.java:1175)
   
              at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWr
   apper.java:1068)
   
              at
   com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWr
   apper.java:1009)
   
              at
   com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebApp
   FilterChain.java:145)
   
              at
   com.ibm.wps.engine.ExtendedLocaleFilter.doFilter(ExtendedLocaleF
   ilter.java:93)
   
   
    
   
   

PROBLEM CONCLUSION
 *  For custom themes the context path is cut off when addressing
   the themeConfig.properties.
   
   Affected Area:
      Page Aggregation
   
   Failing Module(s):
      Database
      XML Access
      Engine: Page Assembly
      Portlet Container
   
   Affected Users:
      All Users
   
   Version Information:
       Portal Version(s): 6.1.0.0
        Pre-Requisite(s): PK89568 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK89568]
         Co-Requisite(s): ---
   
   Platform Specific:
      This fix applies to all platforms.
   
   A fix is available from Fix Central:
   
   http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorde
   r?apar=PK70008&productid=WebSphere%20Portal&brandid=5 [http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorder?apar=PK70008&productid=WebSphere%20Portal&brandid=5]
   
   You may need to type or paste the complete address into your Web
   browser.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK70008
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   610
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-08-05
   
   
 * CLOSED DATE
   2009-06-25
   
   
 * LAST MODIFIED DATE
   2009-06-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * FIXED COMPONENT ID
   5724E7600
   
   

APPLICABLE COMPONENT LEVELS
 * R610 PSY
   UP