Title: IBM Starting urbanCode Deploy server results in "ERROR main com.urbancode.container.tomcat.Container" - United States

Text:
container; tomcat; launcher; launch; RuntimeException; Runtime; Exception TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to start the IBM UrbanCode Deploy server results in the error "java.lang.RuntimeException: Failed to start IBM UrbanCode Deploy". 

SYMPTOM
The full error message is as follows:

2015-08-25 13:27:57,799 ERROR main com.urbancode.container.tomcat.Container - Failed to start IBM UrbanCode Deploy
java.lang.RuntimeException: Failed to start IBM UrbanCode Deploy
at com.urbancode.ds.UDeployServer.start(UDeployServer.java:449)
at com.urbancode.container.tomcat.Container.run(Container.java:103)
at com.urbancode.ds.UDeployServer.main(UDeployServer.java:295)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:95)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:56)
at java.lang.reflect.Method.invoke(Method.java:620)
at com.urbancode.launcher.Launcher.invokeMainMethod(Launcher.java:235)
at com.urbancode.launcher.Launcher.launch(Launcher.java:161)
at com.urbancode.launcher.Launcher.main(Launcher.java:89)
Caused by: java.lang.IllegalStateException: Failed to create directory ../var/repository/references
at com.urbancode.commons.fileutils.FileUtils.assertDirectory(FileUtils.java:142)
at com.urbancode.vfs.store.HashReferenceTracker.<init>(HashReferenceTracker.java:76)
at com.urbancode.vfs.util.VFSHelper.registerVFSRepository(VFSHelper.java:74)
at com.urbancode.ds.UDeployServer.startVFS(UDeployServer.java:1120)
at com.urbancode.ds.UDeployServer.start(UDeployServer.java:396)
... 9 more 



CAUSE
Windows: The share was not set up with read/write permissions. 

UNIX/Linux: The file system mounted does not have read/write access.


RESOLVING THE PROBLEM
Apply read & write permissions (to the share or mounted file system) to start the server successfully. 


The following folders must have read/write access:


 *  install_folder/var/email 
 *  install_folder/var/plugins 
 *  install_folder/var/repository 
 *  install_folder/var/sa 
 *  install_folder/logs 
 *  install_folder/conf/server/notification-templates 
 *  install_folder/conf/encryption.keystore 
 *  install_folder/conf/server.keystore 
 *  install_folder/conf/collectors 
 *  install_folder/patches 
 *  install_folder/conf/server/log4j.properties


Note: The default server installation directory is /opt/ibm-ucd/server on UNIX and Linux and C:\Program Files\ibm-ucd\server on Windows. 

RELATED INFORMATION
 Adding servers to high availability clusters [http://www.ibm.com/support/knowledgecenter/SS4GSP_6.1.2/com.ibm.udeploy.install.doc/topics/server_install_clustered.html]