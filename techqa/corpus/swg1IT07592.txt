Title: IBM IT07592: APPLICATION PROTECTION FOR SQL SERVER 2008 R2 APPEARS NOT TO BE AVAILABLE IN QUERY VM COMMAND - United States

Text:
AIX  A FIX IS AVAILABLE
IBM Spectrum Protect Client 7.1.3 Downloads and READMEs [http://www-01.ibm.com/support/docview.wss?uid=swg24040232]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The Tivoli Storage Manager client Application Protection feature
   available with the Tivoli Storage Manager for Virtual
   Environment - Data Protection for VMware used to protect
   Microsoft SQL servers, Microsoft Exchange servers or Microsoft
   Advanced Directory when these are running in VMware guests
   appears not to be available for the SQL server W2008 R2
   application.
   There is no error logged and the 'backup VM' command output will
   indicate Application Protection is used.
   However, listing the backup images for the VM guest with the
   command :
   dsmc query VM <vm guest name> -detail
   will only display :
   
   Application protection type: VMware
   
   instead of the expected :
   
   Application protection type: 'TSM VSS'
   Application protection type: 'MS SQL 2008 R2'
   
   
   
   The VMVSS type backup images cannot be seen from
   the Tivoli Data Protection for Databases GUI.
   
   Tivoli Storage Manager Versions Affected:
   All Windows and Linux Tivoli Storage Manager client 6.4 and
   higher
   
   Customer/L2 Diagnostics (If Applicable)
   A trace done with the flags : vm enter exit is needed to check
   out the defect.
   Search for 'VmCreateGroup'. After which the vmAppProtection
   value can be checked.
   If it is 'vmAppProtection:        0' then this APAR applies.
   
   <timestamp> [001156] [3564] :
   ..\..\common\vm\vmbackcommon.cpp(1708): ENTER =====>
   VmCreateGroup()
   <timestamp> [001156] [3564] :
   ..\..\common\vm\vmbackvddk.cpp(9553):
   VM Objinfo: vmObjInfoVersion:       4
               vmInfoVerMajor:         3
               vmInfoVerMinor:         1
               vmInfoDataFormat:       CDF
               vmInfoProxyOSType:      Windows
               vmInfoDisplayName:      <VM display name>
               vmInfoIPAddress:        <VM ip address>
               vmInfoHost:             ESXi name
               vmInfoSize:             83886080000
               vmInfoUuid:    4234010e-07a9-9360-511e-146089cfd0c1
               vmInfoTimestamp:        20150227121544
               vmInfoBackupOrigin:     TSM
               vmInfoSnapshotOrigin:   TSM Software Only
               vmInfoBackupType:       IfIncr
               vmInfoBackupsSinceFull: 11
               vmInfoBackupFragRatio:  0
               vmInfoBackupCBTRatio:   0
               vmInfoObjCount:         0
               vmAppProtection:        0    <== check this
               vmTotalIncrementalSize: 0
               vmToolsStatus:          Running
               vmGuestPowerState:      On
               vmInfoADRunningGuest:   UNKNOWN
   
   
   Initial Impact: Medium
   Additional Keywords: zztsm tsm4ve tdp4ve SQL VMVSS
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Tivoli Storage Manager for Virtual Environments component    *
   * Data Protection for VMware versions 7.1.1 running on         *
   * Microsoft Windows platforms                                  *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * See ERROR DESCRIPTION.                                       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * This issue is projected to be fixed in the Tivoli Storage    *
   * Manager Client on Windows x64  and Linux x86_64 in version   *
   * v7.1.3                                                       *
   * Note 1: The Tivoli Storage Manager (TSM) Client is a         *
   * prerequisite to using the Data Protection for VMware. In     *
   * Data Protection for VMware environments, the TSM Client is   *
   * also known as the data mover.                                *
   * Note 2: This is subject to change at the discretion of IBM.  *
   ****************************************************************
   *
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problem described in this APAR has been fixed so that it no
   longer occurs.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT07592
   
   
 * REPORTED COMPONENT NAME
   TSM FOR VE DP V
   
   
 * REPORTED COMPONENT ID
   5725TVEVM
   
   
 * REPORTED RELEASE
   71W
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-03-12
   
   
 * CLOSED DATE
   2015-06-19
   
   
 * LAST MODIFIED DATE
   2015-07-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  dsmc
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TSM CLIENT
   
   
 * FIXED COMPONENT ID
   5698ISMCL
   
   

APPLICABLE COMPONENT LEVELS
 * R71L PSY
   UP
   
   
 * R71W PSY
   UP