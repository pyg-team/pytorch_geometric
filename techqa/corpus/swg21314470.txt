Title: IBM Collecting Data: XML Configuration Interface (XMLAccess) for WebSphere Portal 6.1 - United States

Text:
Collecting data; collecting data; collecting data; mustgather; PORTSE; xmlaccess; xml configuration interface; MustGatherDocument; mustgather; mustgather; config; configuration; interface RECOMMENDED RESOURCES

ABSTRACT
 Collecting data for problems with the IBM WebSphere Portal's XML configuration interface (XMLAccess) component in version 6.1. Collecting this information before calling IBM Support will help to understand the problem and save time analyzing the data. 

CONTENT
If you already contacted IBM Support and must collect data to determine the nature of a problem in IBM WebSphere Portal, review the information below regarding data collection. O 

Collecting XMLAccess information 


Problem and environment description


 * Whether XML Configuration Interface is failing on update or export. 
 * What the XMLAccess command does to the Portal server: deploying portlets or pages, full XML export, modifying configuration on resources, and so on. 
 * Whether the environment is clustered or standalone. 
 * A short description of the environmen, including number of machines, the operating system, WebSphere Portal and WebSphere Application Server version, the type and version of database/LDAP/HTTP server and any additional components (for example, an external security manager such as Tivoli Access Manager) 
 * The complete XMLAccess command line that was executed including SSL key file locations. The output produced in the terminal window after running the failing command. The XML files used after the "-in" and "-out" parameters on the command line. 
   Example: The XML configuration interface command line is
   # /xmlaccess.sh -user wpsadmin -password wpsadmin -in input.xml -out result.xml -url myhost.domain.com:10038/wps/config

 * 
 * input.xml
 * 
 * result.xml
 * 


Automated collection of troubleshooting data Automated log collection is available for this MustGather information and is the recommended method for improving accuracy of the data collection.

IBM Support Assistant Lite
Download Tool [http://www.ibm.com/support/docview.wss?rs=688&ca=portall2&uid=swg24008662] | View Demo of Trace Collection [http://www-10.lotus.com/ldd/portalwiki.nsf/dx/isalite-fundamentals-version-1.3.3-for-ibm-websphere-portal]

After downloading IBM Support Assistant Lite, perform the following steps to collect the data and send to IBM Support:

1. Extract the contents of the downloaded file to the <wp_profile_root>\PortalServer directory which will create the subdirectory "ISALite" (such as c:\WebSphere\wp_profile\PortalServer\ISALite). 

2. Run the runISALite.bat file (Windows) or runISALite.sh (UNIX or Linux) from the ISALite directory (c:\WebSphere\wp_profile\PortalServer\ISALite\runISALite.bat).

3. Once the tool starts, select the following problem type: WebSphere Portal -> Installation and Configuration -> Portal XML Configuration Interface Problem.

4. Provide the output path and a file name of <PMR #>.isalite.zip (22222,111,000.isalite.zip).

5. Click Collect Data and follow the series of dialog boxes to set the tracing, reproduce the issue, and send the files to IBM Support. 

6. When asked to proceed to collect data, select "Enable tracing with restarting the server" and enter the following trace string: com.ibm.wps.command.xml.*=all

7. When asked to recreate the problem, try the XMLaccess command and then click, "I have recreated the problem", to proceed to the data collection. 

 

Manual collection of troubleshooting data 
Enabling trace
If you are unable to reproduce the problem and gather trace at this time, proceed to collect log and config files. However, trace often helps to determine the problem more quickly than log files alone.

If the IBM Support Assistant Lite application cannot be used, XML Configuration Interface trace can be enabled in one of two ways. The first method which enables traces dynamically for the current session only is set by logging in to the Portal server as the administrator and specifying the trace specification using the Enable Tracing portlet.

1. Temporarily enabling traces using the Enable Tracing Portlet:


 * 
 * 
 * 
 * 
 * 
 *  com.ibm.wps.command.xml.*=all 
 * 
 * 
 * 
 * NOTE
 * 


The second method is to define trace in the WebSphere Application Server console. This method requires a Portal server restart and the trace is enabled until it is explicitly disabled. 

2. To set trace that will stay in effect longer than the current session: 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 *  com.ibm.wps.command.xml.*=all 
 * 
 * 
 * 



Collecting log and files 

Whether or not trace is enabled, collect the following files in addition to the XML files and other data specified in the section above: 
 * <WP_profile_root>/config/cells/<cell>/security.xml, 
 * <WP_profile_root>/config/cells/<cell>/fileRegistry.xml (if the file registry is still configured) 
 * <WP_profile_root>/config/cells/<cell>/nodes/<node>/servers/WebSphere_Portal/resources.xml (if it's in a cluster, please take the following instead, <dmgr_profile_root>/config/cells/<cell>/clusters/<WPcluster>/resources.xml) 
 * <WP_profile_root>/config/cells/<cell>/wim/config/wimconfig.xml 
 * <WP_profile_root>/ConfigEngine/properties/wkplc.properties and wkplc_comp.properties 
 * <WP_profile_root>/ConfigEngine/log/ConfigTrace.log 
 * <WP_profile_root>/logs/WebSphere_Portal/SystemOut.log, SystemErr.log, trace.log, and VersionInfo.log


Trace.log will be created if the trace is enabled for the session or it may already exist in the directory as a result of trace being enabled in the past for another WebSphere Portal component. 

Send the diagnostic information to IBM Support: 
Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571].  

Related Information 
 * Overview: WebSphere Portal Support [http://www.ibm.com/software/genservers/portal/support/] [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571] 
 * Steps to getting support for WebSphere Portal [http://www.ibm.com/developerworks/websphere/zones/portal/support/portal_support.html] 
 * Collecting Data: Read first for WebSphere Portal [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21312740]