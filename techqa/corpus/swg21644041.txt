Title: IBM Product Package Name in IBM Installation Manager shows as %Offering.name 8.0.4 - United States

Text:
IM; java.lang.IllegalStateException; %Offering.name; RAD; rational application developer; Installation manager; Can not find shareable entities TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Client had installed Rational Application Developer (RAD) v8.0.4 (64bit) on Windows 7 Ultimate 64 bit, using an Id that was part of the Administrator group, into C:\Program Files\IBM\SDP, using IBM Installation Manager (IM) 1.6.2 from a repository: X:\RAD , that had disk1-10 and RAD_SETUP contents all in one folder. They were unable to uninstall RAD and received;
Error :- An internal error occurred during: "Uninstall Packages" .
The product in IM shows as %Offering.name 8.0.4. The IBM Packaging Utility was not involved. 

SYMPTOM

The IBM Installation Manager (IM) logs show:


8 INFO 15:40.32
Elapsed time 00:00.58 for: Preparing
com.ibm.rational.application.developer.v80
8.0.4000.RADO804-I20111108_1151.

69 ERROR 15:40.33

The resolve process can not be completed.Can not find shareable
entities for %Offering.name in C:\ProgramData\IBM\Installation
Manager\installRegistry\metadata/Offerings/com.ibm.rational.application.
developer.v80_8.0.4000.RADO804-I20111108_1151.jar/com.ibm.rational.appli
cation.developer.v80_8.0.4000.RADO804-I20111108_1151/ShareableEntities.


70 INFO 15:47.36

Collecting artifacts for com.ibm.rational.application.developer.v80
8.0.4000.RADO804-I20111108_1151 features: none.
selectors: ws=win32, os=win32, arch=x86_64, nl=en

71 ERROR 15:47.45

No metadata found for installed IU
com.ibm.rad.splashpath..com.ibm.rad.splashpath.set
999.999.999.810227679.
java.lang.IllegalStateException: No metadata found for installed IU
com.ibm.rad.splashpath..com.ibm.rad.splashpath.set
999.999.999.810227679.

72 ERROR 15:54.88

An internal error occurred during: "Uninstall Packages".
java.lang.IllegalStateException: No metadata found for installed IU
com.ibm.rad.splashpath..com.ibm.rad.splashpath.set
999.999.999.810227679.




CAUSE
Windows Start > All Programs > Installation Manager > View Installed Packages shows under "Packages" for RAD v8.0.4:


%Offering.name
Version 8.0.4 (8.0.4000.RADO804-I20111108_1151)

Repository
X:\RAD

instead of, for example:


IBM® Rational® Application Developer for WebSphere® Software
Version 8.0.4.2_iFix1 (8.0.4021.RADO8042iFix1-I20130214_1904)

Repository
https://www.ibm.com/software/repositorymanager/localService/com.ibm.rational.application.developer.v80



ENVIRONMENT
Windows 7 Ultimate 64 bit

DIAGNOSING THE PROBLEM
The product Package Name in IBM Installation Manager (IM) shows as some variation of : %Offering.name 8.0.4 .
Also the IM Agent Data logs show errors as per the Symptom section above.

RESOLVING THE PROBLEM
This solution for RAD, is applicable with some product specific variations to other IBM Rational products (especially desktop products) installed with IBM Installation Manager (IM) and showing similar symptoms.

For the case of an uninstall error where the package name in IM shows as say %Offering.name 8.0.4 ( for RAD 8.0.4) , it is typically because the IM metadata (under IM Agent Data Directory) is corrupted. It can happen when the install media is bad, or there is install issue that prevents the install to be completed.

It will be necessary to manually uninstall the products and packages and IM as follows.






 *  Use IM to uninstall as many packages as possible. In this user scenario it was not possible for RAD 8.0.4, but if there are any other packages installed, try to uninstall them. Identify the packages that are still installed, and manually clean them up as follows:
   
   - For RAD offering, the user can simply delete the RAD install directory (...\SDP). For other offerings, other instructions might be required.
   
   For example, if WebSphere Application Server (WAS) v6.x or v7.x Test Environment (TE) servers are installed (not the case here), then follow, for example, steps similar to those in technote 1503338: How to uninstall Rational Application Developer 7.5 and Installation Manager manually on Windows XP [http://www.ibm.com/support/docview.wss?uid=swg21503338], as applicable for RAD v8.0.x on Windows 7
   Example: C:\Windows\.nifregistry only applies to WAS 6.x/7.x TE server
   
   - Delete the IM Shared directory:
   Example on Windows: 
   C:\Program Files (x86)\IBM\{IBMIMShared | SDPShared}
   Delete IBM Installation Manager:
   
   Example on Windows:
   - Delete the IM install directory:
   C:\Program Files (x86)\IBM\Installation Manager\
   
   - Delete the AppData directory (IM Agent Data):
   Windows XP: C:\Documents and Settings\All Users\Application Data\IBM\Installation Manager
   Windows 7: C:\ProgramData\IBM\Installation Manager
   
   - Delete the Windows registry (regedit) entry : HKEY_LOCAL_MACHINE\SOFTWARE\IBM\Installation Manager
   
   - re-install IM
   Example:
   IBM Installation Manager 1.6.2 download [http://www-01.ibm.com/support/docview.wss?uid=swg24033586]
   
   Search for the latest IM download from:
   IBM Installation Manager Support Portal - Downloads [http://www-947.ibm.com/support/entry/portal/downloads//software/rational/ibm_installation_manager] Re-install RAD v8.0.4 (and other products, as applicable)
   
   Note: You can try install using your existing repository, but you first should download fresh install images into a new clean local repository directory from IBM Passport Advantage.
   
   Example, in the case of RAD 8.0.4:
   Passport Advantage parts list - Rational Application Developer v8.0.x [http://www-01.ibm.com/support/docview.wss?uid=swg24027295]
   [go to the 8.0.4 install image tab]
   
   RAD v8.0 Information Center
   - Creating an installable image from installation files downloaded from Passport Advantage [http://publib.boulder.ibm.com/infocenter/radhelp/v8/index.jsp?topic=%2Fcom.ibm.rad.install.doc%2Ftopics%2Ft_preinst_prep_esd.html] 

NOTE: Consult the IBM Rational product support team that services your product regarding manual uninstall details, or in general if you encounter this error.


RELATED INFORMATION
#1441998 Error:... shareable entities for %Offering.name [http://www.ibm.com/support/docview.wss?uid=swg21441998]