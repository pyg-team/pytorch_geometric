Title: IBM IC56737: SQL ERROR SRV0081E WHILE TRYING TO CREATE PORT CONNECTION REPORT - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  PMR NO: 24641,292,848
   COMPID: 5608TC100            AFFECTED RELEASE(s): 3.3.1.81
   ________________________________________________________________
   ______
   ABSTRACT: SQL error SRV0081E while trying to create Port
   Connections Report
   .
   DETAIL OF PROBLEM (include example(s) of error(s)):
   Received a pop up windows with these messages:
   SRV0081E: SQL error. Unable to access table T_RES_PORT
                   stat Type: SELECT, Stmt Phase: EXECUTE
                   SQLSTATE: 42704, Vendor error code: -204
                   DB2 SQL error: SQLCODE: -204, SQLSTATE: 42704,
   SQLERRMC: TPC.T_RES_NODE2HBA
   SQLSTATE: 56098, Vendor error code: -727
                   DB2 SQL error: SQLCODE: -727, SQLSTATE: 56098,
   SQLERRMC: 2;-204;42704;TPC.T_RES_NODE2HBA
   SQLSTATE: 56098, Vendor error code: -727
                   DB2 SQL error: SQLCODE: -727, SQLSTATE: 56098,
   When generate report in "my reports -> system reports -> fabric
   -> port connections"
   The problem appears to be specific to environments where
   the customer has installed the database using a unique
   (i.e., non default) schema name.
   The SQL query in quesion has the default "TPC" schema hardcoded
   .
   RECREATE STEPS:
   From TPC GUI, go to IBM TotalStorage Productivity Center->My
   Reports->
   System Reports->Fabric->Port Connections
   ________________________________________________________________
   ______
   DB2 Version used for Server:
   The defect is against component: 5608TC100
   Server/Manager build/release (TPC): 3.3.1.81
   Agent build/release (TPC): n/a
   Server/Manager (OS): AIX
   Agent (OS): n/a
   ________________________________________________________________
   ______
   Problem as described by customer: unable to create fabric report
   by port connections
   Initial customer impact (low/med/high): unknown
   
   
    
   
   

LOCAL FIX
 *  Local Fix: Development has provided a tested fix for this
   situation.
   Please contact L2 defect support to obtain temporary fix or
   status of PTF
   
   
    
   
   

PROBLEM SUMMARY
 *  Users Affected:
   Any user which customizes the TPC schema on the database and not
   through TPC.
   
   Problem:
   Port Connections report fails with a pop up SQL exception when
   schema changed directly on the database and not with TPC.
   
   SQL error SRV0081E while trying to create Port
   Connections Report
   .
   DETAIL OF PROBLEM (include example(s) of error(s)):
   Received a pop up windows with these messages:
   SRV0081E: SQL error. Unable to access table T_RES_PORT
   stat Type: SELECT, Stmt Phase: EXECUTE
   SQLSTATE: 42704, Vendor error code: -204
   DB2 SQL error: SQLCODE: -204, SQLSTATE: 42704,
   SQLERRMC: TPC.T_RES_NODE2HBA
   SQLSTATE: 56098, Vendor error code: -727
   DB2 SQL error: SQLCODE: -727, SQLSTATE: 56098,
   SQLERRMC: 2;-204;42704;TPC.T_RES_NODE2HBA
   SQLSTATE: 56098, Vendor error code: -727
   DB2 SQL error: SQLCODE: -727, SQLSTATE: 56098,
   When generate report in "my reports -> system reports -> fabric
   -> port connections"
   
   
    
   
   

PROBLEM CONCLUSION
 *  The customer is presented with the option to customize the TPC
   schema at install time, so is no problem if the
   user changes it, as long as he does it from TPC and not by hand
   directly on the database. TPC needs to be aware
   of the schema modification.
   
   A fix will be available in upcoming IBM TotalStorage
   Productivity Center monthly interim fixes.
   
   version 3.3.1 - target August 2008
   version 3.3.2 - target October 2008
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC56737
   
   
 * REPORTED COMPONENT NAME
   TPC FOR FABRIC
   
   
 * REPORTED COMPONENT ID
   5608TC100
   
   
 * REPORTED RELEASE
   33A
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-06-02
   
   
 * CLOSED DATE
   2008-07-09
   
   
 * LAST MODIFIED DATE
   2008-07-09
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TPC FOR FABRIC
   
   
 * FIXED COMPONENT ID
   5608TC100
   
   

APPLICABLE COMPONENT LEVELS
 * R33A PSY
   UP
   
   
 * R33L PSY
   UP
   
   
 * R33W PSY
   UP