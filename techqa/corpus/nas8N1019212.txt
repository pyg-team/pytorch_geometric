Title: IBM Connecting a NetServer Drive Automatically When Microsoft Windows XP or Windows 7 Password Is Different Than the IBM System i Password - United States

Text:
NetServer; user profile TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document explains an unsupported method of authenticating NetServer drives automatically on Microsoft Windows XP or Windows 7 when passwords are different on the PC and the IBM System i system. This same functionality probably exists in all Windows versions more recent than XP, but at the current time IBM Support has verified this on Windows 8 or above. 

RESOLVING THE PROBLEM
This document explains an unsupported method of authenticating NetServer drives automatically on Microsoft Windows XP or Windows 7 when passwords are different on the PC and the IBM System i system. This same functionality probably exists in all Windows versions more recent than XP; however, at the current time, IBM Support has verified this on Windows 8 or above. 

Windows will attempt to use the Windows network or desktop user profile and password to log on to the IBM i NetServer when mapping a network drive. If a matching profile exists on the i, the passwords will be checked. If the passwords match, the drive will be mapped with no prompting. If the passwords do not match, NetServer will prompt the user to type a password. 

NetServer limits the number of sign on attempts based on the system value QMAXSIGN. When accessing NetServer, the Windows Networking Client will make repeated attempts to log on (under the covers) if the authorization fails. This can disable the user profile (for NetServer access only) before the user is ever prompted to type the password. Therefore, it has always been recommended that the QMAXSIGN system value be set to 5 or higher. 

A user profile can be disabled for Netserver use while other functions (such as emulation, data transfer, ODBC, etc.) are not affected. If the profile is displayed, it will still be STATUS *ENABLED, even though it is disabled for NetServer use.

Windows (NT/2000/XP and above) allows a user to select an option to connect using a different user name or connect using different credentials when mapping a network drive. This option allows the user to specify the password to be used for the NetServer connection when making that connection. This option can be used to avoid accidentally disabling the IBM i user profile for NetServer use. However, in the case of persistent network drives (mapped automatically at reboot time) using connect using a different user name is not an available option. 

Historical Information: When using versions of Windows prior to Windows XP (Windows 9x/ME/2000 and Windows NT), users have the following options available to map a persistent network drive automatically (without prompting for a password and without accidentally disabling the User Profile for NetServer use): 

o The user must log on to the network (or PC desktop), with a user profile that exists on the iSeries family server and has the same password on the network and on the iSeries family server. o The user must use a network (or PC desktop) user profile that does not exist on the iSeries family, and GUEST support must be enabled for the iSeries NetServer. For additional information, see IBM i Global Support Center Knowledgebase document New, Configuring AS/400 NetServer to Use a GUEST Profile: Database 'DCF Technotes (IBM i)', View 'Products', Document 'Configuring AS/400 NetServer to Use a GUEST Profile' [http://www-01.ibm.com/support/icons/doclink.gif] [http://www-01.ibm.com/support/docview.wss?uid=nas8N1016971]. 
Windows XP Professional (and above) offers a possible alternative to these options. Windows XP Professional has an option called Manage my network passwords and Windows 7 has a Credential Manager. Although IBM Support has not verified this, it is expected that versions more recent than Windows 7 also have a Credential Manager. 

Information on how to set up network passwords can be found in the Windows XP Professional Help Text by searching on Manage my network passwords, in Windows 7 Help Text by searching on Credential Manager, or by reviewing the following Microsoft Articles: 

Note: These Microsoft documents were available at the time this document was written; however, IBM cannot guarantee the availability of this information in the future. 

Microsoft Knowledgebase Article - 306541 - HOW TO: Manage Stored User Names and Passwords on a Computer That Is Not in a Domain in Windows XP; 

Microsoft Knowledgebase Article - 306992 - HOW TO: Manage Stored User Names and Passwords on a Computer in a Domain in Windows XP. 

In either document, refer to the section titled How to Manage Stored User Names and Passwords. 

An additional Microsoft article, applying to Windows 7, is titled: Manage stored passwords, certificates, and other credentials 


For additional information on setting up a User Account to access a new network resource (such as NetServer), open Windows XP Professional Help and Support Center (accessible from the Windows Start button or by left clicking on the Windows XP desktop and then pressing the F1 key) or the Windows 7 Help and Support Center, search for stored user names and passwords or manage my network passwords, or (on Windows 7) credential manager. 

Note: In Windows XP and Windows 7, the Manage my network passwords or Credential manager GUI screen can be opened from the DOS command prompt, by running the following command: 

rundll32.exe keymgr.dll, KRShowKeyMgr 

This same command might work for other versions of Windows; however, IBM has not confirmed it on any versions other than those listed. 

Notes: 1. These options (stored user names and passwords, manage my network passwords, and Credential Manager) are Microsoft Windows XP Professional and Microsoft Windows 7 functions. IBM i Support has determined that in some cases using these options will allow a NetServer Network drive to be automatically mapped, even when the user's network user profile has a different password than the IBM i user profile. However, IBM does not support this function and can not guarantee it to work in every case. Additional support may be requested from Microsoft. 2.

3. Windows XP Home Edition does not provide the same support for network functions that Windows XP Professional provides. These steps are probably not available in Windows XP Home Edition.
During IBM Support testing with Windows 7, it was found that the computer name that the user was connecting to had to match the domain used to qualify the user. That is, if mapping to \\rchask50 then the user had to use rchask50\username for the user instead of 9.5.4.208\username. This is probably true of Windows versions more recent than Windows 7 as well, but has not been confirmed by IBM. 
Additional Note - added for searchability: 

The name i5/OS NetServer may be used interchangeably with IBM i NetServer, iSeries NetServer, OS/400 NetServer, or (older) AS/400 NetServer or AS400 NetServer.  


Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 6.1 Operating System IBM i 7.1 
HISTORICAL NUMBER
 334698695