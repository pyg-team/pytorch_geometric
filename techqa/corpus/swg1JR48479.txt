Title: IBM JR48479: SHARED SERVICE WEBSPHERE APPLICATION SERVER MONITORING DOES NOT WORK CORRECTLY FOR IBM BPM V8.0.1.0 ADVANCED PATTERN - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  System monitoring for the IBM WebSphere Application Server
   shared &#65410; &#65440;service does not monitor the WebSphere &#65410; &#65440;Application
   Server instances that run on deployed instances of the IBM BPM
   V8.0.1.0 Advanced Pattern. The WebSphere Application Server
   agent that runs on &#65410; &#65440;the IBM BPM virtual machine does not detec
   the correct location where WebSphere Application Server is
   installed.
   
   
    
   
   

LOCAL FIX
 *  Option 1:
   ---------
   1) install newer plugin.com.ibm.itcamwas into rack.
       - Do this by going to "Workload Console->Cloud->System
   Plug-ins" panel.
       - Click the "+" button to import the new plugin.  This will
   result in a "Import plug-in" dialog where you can browse to the
   "itcamwas-1.0.1.0.tgz" plugin that was provided in another
   email.
       - NOTE:  The "Adding, modifying, and deleting system
   plug-ins" section of the PureAS InfoCenter provides additional
   information related to this type of activity.
   
   2) upload the EnableITMForBPM.zip script package and add it
   into BPM pattern
       - Go to "Workload Console->Catalog->Script Packages"
       - Click the "+" button and enter "EnableITMForBPM" for the
   "Script name" and click OK
       - In the resulting EnableITMForBPM panel, click the
   "Browse" link in the "Script package file" field and select the
   location where the EnableITMForBPM.zip file is located (this is
   script I sent you).  Click Open and then click the "Upload"
   button on the panel.  Everything else in this panel should be
   okay and not need changing.
       - Go to "Workload Console->Patterns->Virtual System
   Patterns" and click on the BPM vSys pattern and then click the
   Edit button.
       - On the right part of the panel under "Panel Editor",
   expand the "Scripts" section.
       - Scroll down to the EnableITMForBPM script and add it to
   the "Process Center deployment manager" and the "Process Center
   custom nodes" VMs.   Please let me know if these nodes are not
   seen in your BPM vSys pattern.
   
   3) deploy a new BPM vSys to pick up changes from 1) and 2),
   which will be using ITCAMWAS monitoring;
   
   
   
   Option 2: manually fixing the already deployed BPM VM:
   -----------------------------------------------------
   NOTE:  after discussing this option more with my development
   team, I wanted to note that we do not encourage updating
   plug-ins for deployed/running VMs.  This would be required in
   order to get this Option 2 to work.  This scenario has not been
   adequately tested and verified and we suggest that this option
   not be used at this time.  I do have some detailed steps and
   another script that can be used to attempt this, but due to the
   un-guaranteed nature of this option, I will wait and send this
   to you after you have time to consider this and let me know if
   you still wanted to proceed with this.  Unless you really need
   to get the current deployed BPM instances working with the ITM
   monitoring, I would suggest that you leave them as they are and
   possibly redeploy new instancess instead after Option 1 is
   complete.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  IBM BPM V8.0.1.0 Advanced Pattern           *
   ****************************************************************
   * PROBLEM DESCRIPTION: System monitoring for the WebSphere     *
   *                      Application Server shared &#130; &#160;service
   *                      does not monitor the                    *
   *                      WebSphere &#130; &#160;Application Server
   *                      instances that run on deployed          *
   *                      instances of the IBM BPM V8.0.1.0       *
   *                      Advanced Pattern.                       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Several parameters that the system monitoring function needs
   for the WebSphere Application Server shared &#130; &#160;service during
   configuration are not provided by IBM BPM &#130; &#160;V8.0.1.0 Advanced
   Pattern.
   
   
    
   
   

PROBLEM CONCLUSION
 *  An emergency fix is available that sets the proper parameter
   for a running IBM BPM instance. After restarting the custom
   node virtual machines, system monitoring for the WebSphere
   Application Server shared &#130; &#160;service monitors the custom nodes
   correctly.
   
   On Fix Central (http://www.ibm.com/support/fixcentral), search
   for JR48479:
   
   1. Select the product group, product, installed version,
   and platform, and click Continue.
   2. Select APAR or SPR, enter JR48479, and click Continue.
   
   When downloading fix packages, ensure that you also download
   the readme file for each fix. Review each readme file for
   additional installation instructions and information about the
   fix.
   
   
    
   
   

TEMPORARY FIX
 *  IS A WORKAROUND AVAILABLE? (Y/N) IF Y: EXPLAIN IT.
   ==>Yes. Complete the following steps:
   1. Log on to each custom node virtual machine. &#130; &#160;
   2. Set the correct values of com.ibm.SOAP.loginUserid and
   com.ibm.SOAP.loginPassword in
   /opt/IBM/BPM/v80/profiles/*/properties/soap.client.props, for
   example
      com.ibm.SOAP.loginUserid=virtuser
      com.ibm.SOAP.loginPassword=password
   3. Set WAS_INSTALL_ROOT=${WAS_HOME} in /etc/profile. Note that
   you need replace ${WAS_HOME} with correct WAS Home directory,
   for example, /opt/IBM/BPM/v80.
   4. Set
   WAS_ORDERED_SERVERS=BPM.Messaging.${part_node_name}.0,BPM.Suppor
   t.${part_node_name}.0,BPM.AppTarget.${part_node_name}.0,BPM.WebA
   pp.${part_node_name}.0 in /etc/profile. Note that replace
   ${part_node_name} with the custom profile name. You can find
   the custom profile name BPMNode by using the following command:
   $ls /opt/IBM/BPM/v80/profiles
   5. Clean the environment for ITCAM WAS to take effect:
      ps -ef | grep kynagent | grep -v grep | awk '{print $2}' |
   xargs kill -9
      rm -r -f /opt/IBM/maestro
      rm /0config/0config.log
      rm /0config/doneconfig
      rm /etc/itcamwas.cfg &#130; &#160;
   6. Restart the custom node virtual machines. After restarting,
   wait for the ITCAMWAS configuration to complete.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR48479
   
   
 * REPORTED COMPONENT NAME
   BPM ADVANCED
   
   
 * REPORTED COMPONENT ID
   5725C9400
   
   
 * REPORTED RELEASE
   801
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-11-12
   
   
 * CLOSED DATE
   2014-06-16
   
   
 * LAST MODIFIED DATE
   2014-06-16
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM ADVANCED
   
   
 * FIXED COMPONENT ID
   5725C9400
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP