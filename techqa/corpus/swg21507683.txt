Title: IBM Rule Execution Server looks for a data source even after you have changed persistence to "file" by running the ANT script. - United States

Text:
RES file persistence; ressetup.xml; datasource; jrules TECHNOTE (FAQ)

QUESTION
 After I have configured Rule Execution Server persistence to "file" instead of "datasource" by using the ANT script, the Rule Execution Server application fails to start. The log indicates that Rule Execution Server is still looking for "datasource" persistence. How can I resolve this? 

CAUSE
Although Rule Execution Server persistence is changed from "datasource" to "file", the deployment descriptors of Rule Execution Server still point to "datasource". This has been identified as a product defect under APAR RS00635. We present the changes that you must make manually for Rule Execution Server to use file persistence.

ANSWER
Follow the procedure below before you deploy the Rule Execution Server EAR file and XU RAR file. If you have already deployed these files, first uninstall them from the application server, modify the descriptors as mentioned below, and then redeploy the EAR and RAR files: 

Edit the following parameter in jrules-res-management-<applicationserver>.ear\jrules-res-management.war\WEB-INF\web.xml

from
<param-name>persistenceType</param-name>
<param-value>datasource</param-value> 

to 

<param-name>persistenceType</param-name> 
<param-value>file</param-value> 

Edit the following property in jrules-res-xu-<applicationserver>.rar\META-INF\ra.xml:

from 
<config-property-name>persistenceProperties</config-property-name>
<config-property-type>java.lang.String</config-property-type>
<config-property-value>JNDI_NAME=jdbc/resdatasource</config-property-value>

to

<config-property-name>persistenceProperties</config-property-name>
<config-property-type>java.lang.String</config-property-type>
<config-property-value>DIRECTORY=res_data </config-property-value> 



After these changes, you should be able to use file persistence with Rule Execution Server.

RELATED INFORMATION
#Rule Execution Server persistence layer [http://publib.boulder.ibm.com/infocenter/brjrules/v7r1/index.jsp?topic=%2Fcom.ibm.websphere.ilog.jrules.doc%2FContent%2FBusiness_Rules%2FDocumentation%2F_pubskel%2FJRules%2Fps_JRules_Global929.html]
Packaging the Rule Execution Server archives using Ant [http://publib.boulder.ibm.com/infocenter/brjrules/v7r1/index.jsp?topic=%2Fcom.ibm.websphere.ilog.jrules.doc%2FContent%2FBusiness_Rules%2FDocumentation%2F_pubskel%2FJRules%2Fps_JRules_Global236.html]
Changing the ruleset persistence type [http://publib.boulder.ibm.com/infocenter/brjrules/v7r1/index.jsp?topic=%2Fcom.ibm.websphere.ilog.jrules.doc%2FContent%2FBusiness_Rules%2FDocumentation%2F_pubskel%2FJRules%2Fps_JRules_Global1013.html]


 


Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Operational Decision Manager Platform Independent 7.5 Enterprise