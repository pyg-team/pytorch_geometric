Title: IBM PI35981: DFHSN0002 CODE X'2086' IS ISSUED WHEN SIGNON FAILS DUE TO USERID CONTAINING EMBEDDED BLANKS 15/11/10 PTF PECHANGE - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  An attempt to signon to a terminal with a userid containing
   an embedded blank results in severe error message
   
   DFHSN0002  A severe error (code X'2086') has occurred in
              program DFHSNTU.
   
   CICS produces a dump for the severe error. This is
   much too strong of a reaction by CICS.
   
     The problem is that DFHSNTU is not handling the
   USAD_USERID_FORMAT_ERROR on return from the USAD
   ADD_USER_WITH_PASSWORD function call.
   Trace shows:
   
   XS FE04 XSSB  *EXC* FUNCTION(INQUIRE_PASSWORD_DATA)
     RESPONSE(EXCEPTION) REASON(EXTRACT_FAILURE) SAF_RESPONSE(8)
     SAF_REASON(50) ESM_RESPONSE(18) ESM_REASON(50) FASTPATH_AUTH()
   
   XS 0602 XSPW  EXIT - FUNCTION(INQUIRE_PASSWORD_DATA)
    RESPONSE(EXCEPTION) REASON(USERID_FORMAT_ERROR) SAF_RESPONSE(8)
    SAF_REASON(50) ESM_RESPONSE(18) ESM_REASON(50)
   
   US 0302 USAD  EXIT - FUNCTION(ADD_USER_WITH_PASSWORD)
        RESPONSE(EXCEPTION) REASON() SAF_RESPONSE(8) SAF_REASON(50)
        ESM_RESPONSE(18) ESM_REASON(50) USER_TOKEN(00000000)
   
   AP 2086 SNTU  *EXC* - UNKNOWN_EXCEPTION -
     FUNCTION(SIGNON_TERMINAL_USER) USERID(CEMT I T)<embedded blank
     USERID_LENGTH(8) GROUPID(ASK) GROUPID_LENGTH(3)
     SCOPE_CHECK(YES)
   
   Additional Symptom(s) Search Keyword(s): KIXREVDAM
   CESN ABENDAEXZ AEXZ DFHUSAD
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS Users.                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: Message DFHSN0002 with code X'2086' is  *
   *                      issued by program DFHSNTU when there is *
   *                      an attempt to signon to CICS with a     *
   *                      userid that contains embedded blanks.   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   If there is an attempt to signon to a terminal with a
   userid containing embedded blanks, CICS issues message:
   DFHSN0002 A severe error (code X'2086') has occurred in program
   DFHSNTU.
   CICS takes a system dump and terminates the transaction with
   abend code AEXZ.
   CICS detects that the userid contains blanks but DFHSNTU fails
   to handle the USERID_FORMAT_ERROR exception returned by DFHUSAD.
   This exception should be handled and passed back to
   DFHEIP to return an EIBRESP and EIBRESP2 in response to
   the signon request.
   
   Additional keywords: MSGDFHSN0002 SN0002
   
   
    
   
   

PROBLEM CONCLUSION
 *  CICS is changed so an EIBRESP of USERIDERR with EIBRESP2=8 is
   returned when a userid supplied on a CESN or EXEC CICS SIGNON
   request contains embedded blanks.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI35981
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V5
   
   
 * REPORTED COMPONENT ID
   5655Y0400
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   YesPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   YesSpecatt / Pervasive
   
   
 * SUBMITTED DATE
   2015-02-27
   
   
 * CLOSED DATE
   2015-05-12
   
   
 * LAST MODIFIED DATE
   2015-11-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PI39290 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI39290] UI27605 UI27606
   
   

MODULES/MACROS
 *  DFHALP   DFHAPCE  DFHAPRX  DFHBRFM  DFHBSTS  DFHBSTZO DFHCESC
   DFHCRNP  DFHESN   DFHMRXM  DFHRTC   DFHSNAS  DFHSNPU  DFHSNSG
   DFHSNSU  DFHSNTU  DFHSNUS  DFHSNUST DFHTACP  DFHTCRP  DFHUSAD
   DFHUSADT DFHXTP   DFHZATA2 DFHZATS  DFHZCNA  DFHZCN2  DFHZCT1
   DFHZISP  DFHZIS2  DFHZNAC  DFHZSGN  DFHZSTU  DFHZSUP  DFHZTSP
   DFH62XM
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V5
   
   
 * FIXED COMPONENT ID
   5655Y0400
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY UI27605 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI27605]
   UP15/05/22 P F505
   
   
 * R900 PSY UI27606 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI27606]
   UP15/05/22 P F505
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.