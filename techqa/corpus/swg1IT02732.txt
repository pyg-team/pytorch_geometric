Title: IBM IT02732: ESQLMANAGER NOT UPDATED WHEN ESQL THAT USES JAVA IS REDEPLOYED - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When applications are deployed to an execution group, the
   execution group classloader is destroyed and recreated. When you
   redeploy Java that is used by ESQL without redeploying the ESQL,
   the ESQL objects hold on to the old classloader and class
   objects and do not update. ESQL needs to be tied into the Java
   update mechanism so that it gets pinged with the new classloader
   as and when Java is redeployed. Java Compute nodes get pinged
   with the new classloader so they can reload their classes.
   
   
    
   
   

LOCAL FIX
 *  Workarounds :
   -------------
   1. Deploy custom Java jars externally and do not redeploy them
   with other applications
   2. Always deploy Java jars and all ESQLs referring to it in one
   BAR file
   3. Separate different ESQLs together with the relevant Java jars
   in different Execution Groups
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   All users of IBM Integration Bus V9.0 using ESQL to call
   external Java.
   
   
   Platforms affected:
   z/OS, MultiPlatform
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   When a bar file is deployed to an execution group which includes
   a jar file, the execution group classloader is destroyed and
   recreated. When the Java code that is used by ESQL is redeployed
   as part of a jar file without redeploying the ESQL, the ESQL
   objects hold on to the old classloader and class objects. This
   may cause expected results.
   
   
   There are a number of resource name changes between WebSphere
   Message Broker and IBM Integration Bus Version 9.0. For details
   visit
   http://pic.dhe.ibm.com/infocenter/wmbhelp/v9r0m0/topic/com.ibm.e
   tools.mft.doc/bb23814_.htm [http://pic.dhe.ibm.com/infocenter/wmbhelp/v9r0m0/topic/com.ibm.etools.mft.doc/bb23814_.htm]
   
   
    
   
   

PROBLEM CONCLUSION
 *  The product now refreshes the ESQL manager when the Java code is
   redeployed so any subsequent external Java calls from ESQL will
   use the new classloader.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v8.0       8.0.0.7
   v9.0       9.0.0.3
   
   The latest available maintenance can be obtained from:
   http://www-01.ibm.com/support/docview.wss?rs=849&uid=swg27006041 [http://www-01.ibm.com/support/docview.wss?rs=849&uid=swg27006041]
   
   If the maintenance level is not yet available,information on
   its planned availability can be found on:
   http://www-1.ibm.com/support/docview.wss?rs=849&uid=swg27006308 [http://www-1.ibm.com/support/docview.wss?rs=849&uid=swg27006308]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT02732
   
   
 * REPORTED COMPONENT NAME
   INTEGRATION BUS
   
   
 * REPORTED COMPONENT ID
   5724J0530
   
   
 * REPORTED RELEASE
   900
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2014-06-23
   
   
 * CLOSED DATE
   2014-09-29
   
   
 * LAST MODIFIED DATE
   2016-03-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   INTEGRATION BUS
   
   
 * FIXED COMPONENT ID
   5724J0530
   
   

APPLICABLE COMPONENT LEVELS
 * R900 PSY
   UP