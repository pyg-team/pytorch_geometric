Title: IBM PM15618: CONFIGURABEL PARAMETER TO RESAVE ITEMS FAILING WITH             STALEVALUEEXCEPTION - United States

Text:
  FIXES ARE AVAILABLE
6.1.0.5 Download: WebSphere Portal and WCM V6.1.0 fix pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24027475]
Fixes integrated in WebSphere Portal V7.0 Combined Cumulative Fix [http://www-01.ibm.com/support/docview.wss?uid=swg24027254]
6.1.0.6 Download: WebSphere Portal and WCM V6.1.0 fix pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030970]
7.0.0.2 Download: WebSphere Portal and WCM V7.0 fix pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24031676]



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  wcm.num.retry.stalevalue parameter has been created to allow
   items that are not being saved due to stalevalue excaptions to
   be retried multiple times
   
   
    
   
   

LOCAL FIX
 *  NA
   
   
    
   
   

PROBLEM SUMMARY
 *  Stalevalue exceptions in logs during syndication
   
   Customerr stated syndication is working but they are not
   receiving
   conformation.  Also, theyy are seeing stalevalueexceptions in
   the logs.
   
   The customer is seeing the following exception in SystemOut.log
   during syndication:
   [5/24/10 11:13:13:110 EDT] 0000002e ItemChangedTa E
   
   StaleValueException: com.ibm.workplace.wcm.services.repository.
   StaleValueException: IWKMU1062X: Message: Could not save object
   in
   repository., Cause: javax.jcr.StaleValueException: Error while
   calling
   a function updateItems of PLS data manager.: Error while calling
   a
   function updateItems of PLS data manager.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem Analysis:
   StaleValueExceptions may be occurring because both the
   syndication process and the itemchange task have the syndicator
   node checked out.
   PK64778 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK64778] was coded for this issue and retries the save one time.
   Could be that the retry is still failing for the same reason.
   
   Problem Solution:
   Made the number of retries a new optional config parameter,
   PROP_NUM_RETRY_STALE_VALUE,  with default of 2 (the current
   value). Increasing the value to 5 solved the issue.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM15618
   
   
 * REPORTED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * REPORTED COMPONENT ID
   5724I2901
   
   
 * REPORTED RELEASE
   61A
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-06-01
   
   
 * CLOSED DATE
   2011-01-21
   
   
 * LAST MODIFIED DATE
   2011-01-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * FIXED COMPONENT ID
   5724I2901
   
   

APPLICABLE COMPONENT LEVELS
 * R610 PSY
   UP
   
   
 * R61A PSY
   UP
   
   
 * R61B PSY
   UP
   
   
 * R61C PSY
   UP
   
   
 * R610 PSY
   UP
   
   
 * R615 PSY
   UP