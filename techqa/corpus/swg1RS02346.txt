Title: IBM RS02346: WHEN DEPLOYING DECISION ENGINE RULEAPP GET "ILRARCHIVEEXCEPTION: ERREUR EN COURS DE TRAITEMENT DE L'ARCHIVE DE RULEAPP" - United States

Text:
  A FIX IS AVAILABLE
Operational Decison Manager z/OS 8.8.1.1 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24042837]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Under the below conditions:
   - ODM 8.7.1 Rule Designer,
   - Decision Service with Decision Engine
   - BOM element navigation verbalization without the {this}
   - Ruleflow transition condition refering to the above BOM
   element
   no error message is reported associated to the transition
   as opposed to Classic Rule Engine where "Identificateur var$_$0
   non d &#171;fini" is caught
   and when deploying a ruleapp, the below error is returned
   ilog.rules.res.model.archive.IlrArchiveException: Erreur en
   cours de traitement de l'archive de RuleApp.
   at com.ibm.rules.res.model.archive.internal.Archive.write(
   Archive.java:97)
   at com.ibm.rules.res.model.archive.internal.
   ArchiveManagerWithXOM.writeWithXOM(ArchiveManagerWithXOM.java:
   67)
   at ilog.rules.res.model.archive.IlrArchiveManager.write(
   IlrArchiveManager.java:45)
   at ilog.rules.res.model.archive.IlrArchiveManager.write(
   IlrArchiveManager.java:62)
   at com.ibm.rules.decisionservice.DsRuleAppArchiveBuilder.
   refreshArchive(DsRuleAppArchiveBuilder.java:214)
   at com.ibm.rules.studio.decisionservice.
   SDsRuleAppArchiveBuilder.refreshArchive(
   SDsRuleAppArchiveBuilder.java:80)
   at com.ibm.rules.studio.decisionservice.SDsRuleAppDeploymentJob.
   generateRuleApp(SDsRuleAppDeploymentJob.java:68)
   at com.ibm.rules.studio.decisionservice.SDsRuleAppDeploymentJob.
   deploy(SDsRuleAppDeploymentJob.java:42)
   at com.ibm.rules.studio.decisionservice.SDsXOMDeploymentJob.
   runInWorkspace(SDsXOMDeploymentJob.java:90)
   at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(
   InternalWorkspaceJob.java:38)
   at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)
   Caused by: ilog.rules.res.model.archive.IlrArchiveException:
   "/RULEAPPNAME/1.0/RULESETNAME/1.0" : valeur null non admise
   pour l'archive d'ensemble de r  gles. at com.ibm.rules.res.model
   archive.internal.Archive.addRulesetArchiveEntry(Archive.java:
   190)
   at com.ibm.rules.res.model.archive.internal.Archive.write(
   Archive.java:81) ... 10 more
   
   
    
   
   

LOCAL FIX
 *  Either:
   - Change to Classic Rule Engine
   - Add {this} to verbalization and fix transition condition
   - Create a variable set in a rule and used in the transition
   
   
    
   
   

PROBLEM SUMMARY
 *  The fix for that defect is to report an error when a navigation
   without {this} is used on ruleflow transition.
   Because:
   - Navigation without {this} refer to working memory when
   executing.
   - It is not possible to use that kind of phrases in a ruleflow,
   because there is no working memory when executing a ruleflow.
   So in that kind of situation an error should be reported, but
   is not
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code is fixed
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   RS02346
   
   
 * REPORTED COMPONENT NAME
   WDS FOR RULES
   
   
 * REPORTED COMPONENT ID
   5725B6903
   
   
 * REPORTED RELEASE
   871
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-03-16
   
   
 * CLOSED DATE
   2016-06-15
   
   
 * LAST MODIFIED DATE
   2016-06-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  999
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WDS FOR RULES
   
   
 * FIXED COMPONENT ID
   5725B6903
   
   

APPLICABLE COMPONENT LEVELS
 * R880 PSY
   UP