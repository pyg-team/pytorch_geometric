Title: IBM IZ12278: DB2 ALTERNATE SERVER FEATURE CAN CORRUPT DB DIRECTORY ENTRY ON  CLIENT RUNNING JAVA DB2 APPS ON MULTIPROCESSOR MACHINES. - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The high availabilty feature alternate server can lead to
   database directory corruption or duplicate entries on
   multiprocessor clients running java application accessing DB2.
   
   The problem may have symptons of duclicate DB directory entries,
   corrupted DB entries or missing DB entries.
   
   Errors similar to the following may also be seen in the
   db2diag.log :
   
   2007-06-13-09.11.05.513271+120 E7758C358          LEVEL: Warning
   (OS)
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, oper system services, sqlochgfileptr,
   probe:100
   CALLED  : OS, -, unspecified_system_function
   OSERR   : EBADF (9) "A file descriptor does not refer to an open
   file."
   
   2007-06-13-09.11.05.513751+120 I8117C272          LEVEL: Severe
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, base sys utilities, sqleGetAlternateServer,
   probe:20
   RETCODE : ZRC=0xFFFFD8EC=-10004
   
   
    
   
   

LOCAL FIX
 *  Avoid using the alternate server feature
   
   
    
   
   

PROBLEM SUMMARY
 *  Users Affected
   DB2 systems using Alternate Server High Availability feature
   
   Problem  Description
   The high availabilty feature alternate server can lead to
   database directory corruption or duplicate entries on
   multiprocessor clients running java application accessing DB2.
   
   The problem may have symptons of duclicate DB directory entries,
   corrupted DB entries or missing DB entries.
   
   Errors similar to the following may also be seen in the
   db2diag.log :
   
   2007-06-13-09.11.05.513271+120 E7758C358          LEVEL: Warning
   (OS)
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, oper system services, sqlochgfileptr,
   probe:100
   CALLED  : OS, -, unspecified_system_function
   OSERR   : EBADF (9) "A file descriptor does not refer to an open
   file."
   
   2007-06-13-09.11.05.513751+120 I8117C272          LEVEL: Severe
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, base sys utilities, sqleGetAlternateServer,
   probe:20
   RETCODE : ZRC=0xFFFFD8EC=-10004
   
   Problem Summary:
   Use of Alternate server feature can corrupt the Db2 directory.
   
   
    
   
   

PROBLEM CONCLUSION
 *  First fixed in DB2 UDB Version 8 Fixpak 17
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ12278
   
   
 * REPORTED COMPONENT NAME
   DB2 CEE AIX
   
   
 * REPORTED COMPONENT ID
   5765F3000
   
   
 * REPORTED RELEASE
   820
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-01-04
   
   
 * CLOSED DATE
   2008-09-22
   
   
 * LAST MODIFIED DATE
   2008-09-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    IZ12279 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ12279] IZ12280 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ12280]
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 CEE AIX
   
   
 * FIXED COMPONENT ID
   5765F3000
   
   

APPLICABLE COMPONENT LEVELS
 * R820 PSY
   UP