Title: IBM PQ53987: CSV002I REQUESTS FOR MODULE EZASOH03 EXCEED MAXIMUM USE COUNT MESSAGE IS ISSUED IF INITAPI REPEATLY FAILS. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  EZASOH03 is not deleted if INITAPI fails causing system to issue
   CSV002I REQUESTS FOR MODULE EZASOH03 EXCEED MAXIMUM USE COUNT
   message.
   EZASOH03 is loaded when an initapi call is issued. If the
   initapi call fails, EZASOH03 does not get deleted.If initapi
   continues to fail EZASOH03's use count continues to grow until
   it reaches the maximum use count.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of the Communications Server for   *
   *                 OS/390 Releases 8 & 10 IP and                *
   *                 z/OS Version 1 Release 2 IP: macro API       *
   ****************************************************************
   * PROBLEM DESCRIPTION: CDE use count of EZASOH03 is not        *
   *                      decremented after an INITAPI failure    *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The expansion of the EZASMI macro contains a LOAD for program
   EZASOH03 (alias of EZBSOH03) which gets executed if the EZASMI
   task storage area (EZASMTIE) does not contain the address of
   EZASOH03.  The expansion of the EZASMI TYPE=TERMAPI macro
   contains a DELETE of EZASOH03.  However, most application
   programs do not issue a TERMAPI if the INITAPI fails.  Thus,
   the LOAD of EZASOH03 that occurs when an INITAPI is issued will
   not have a corresponding DELETE.  If there are many INITAPI
   failures, then the CDE use count of EZASOH03 can keep getting
   increment until it is exceeded.  At this point the LOADs start
   failing and the message log is flooded with CSV002I messages.
   
   This problem has been seen with the resolver executing in the
   CICS address space.  If the SYSTCPD DD card is not in the
   CICS startup JCL and there are many GETHOSTBYNAME and
   GETHOSTBYADDR issued by CICS application programs, then there
   can be many INITAPI failures in the resolver.  With each failure
   the CDE use count of EZASOH03 gets incremented.  Eventually the
   CSV002I messages start flooding the message log.
   +-------------------------------------------------------------+
   + Please check our Communications Server for OS/390 homepages +
   + for common networking tips and fixes.  The URL for these    +
   + homepages can be found in Informational APAR II11334 [http://www-01.ibm.com/support/docview.wss?uid=isg1II11334].       +
   +-------------------------------------------------------------+
   
   
    
   
   

PROBLEM CONCLUSION
 *  The EZASMI macro has been amended to have the DELETE of EZASOH03
   invoked if the call that invoked the LOAD of EZASOH03 failed.
   
   The release 8 and 10 versions of EZARESSD have been recompiled
   in order to use the new version of EZASMI in the resolver.
   
   * Cross Reference between External and Internal Names
   
   
    
   
   

TEMPORARY FIX

COMMENTS
 *  &#215;**** PE01/11/29 FIX IN ERROR. SEE APAR PQ55314 [http://www-01.ibm.com/support/docview.wss?uid=isg1PQ55314]  FOR DESCRIPTION
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PQ53987
   
   
 * REPORTED COMPONENT NAME
   TCP/IP V3 MVS
   
   
 * REPORTED COMPONENT ID
   5655HAL00
   
   
 * REPORTED RELEASE
   380
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2001-10-25
   
   
 * CLOSED DATE
   2001-11-06
   
   
 * LAST MODIFIED DATE
   2001-12-14
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UQ59694 UQ59695 UQ59696
   
   

MODULES/MACROS
 *  EZARESSD EZASMI
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TCP/IP V3 MVS
   
   
 * FIXED COMPONENT ID
   5655HAL00
   
   

APPLICABLE COMPONENT LEVELS
 * R120 PSY UQ59694 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UQ59694]
   UP01/11/21 P F111
   
   
 * R380 PSY UQ59695 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UQ59695]
   UP01/11/21 P F111
   
   
 * R50A PSY UQ59696 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UQ59696]
   UP01/11/21 P F111
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.