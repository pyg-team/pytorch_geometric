Title: IBM DFHAC2002 not received when CICS printer device is defined with TTI=NO - United States

Text:
DFHAC2002 MSGDFHAC2002 AC2002 TTI=YES TTI=NO USER_NOT_AUTHORIZED SECURITY CA-TSS ; CA Top Security Security ; Computer Associates ; 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 ; 5655S9700 R660 660 R600 600 HCI6600 R670 670 R700 700 HCI6700 5655-S97 5655S97; 5655Y0400 R680 680 R800 800 HCI6800 5655-Y04 5655Y04 KIXINFO TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are attempting to run a transaction on a terminal that is defined as a printer to CICS. Transaction security works differently for the same transaction and user depending on whether terminal is defined with TTI(YES) or TTI(NO). If TTI is equal to NO, you do not receive message DFHAC2002 as expected. You are using CA Top Secret from CA technologies. 

SYMPTOM
The user ID assigned to the printer, CICSUSER (the region default), does not have access to the transaction you are attempting to run. The transaction is AAAA and if you go up to any 3270 terminal and without signing on just clear the screen and type "AAAA" you will get a security violation as expected. 

If a printer is defined with TTI [http://pic.dhe.ibm.com/infocenter/cicsts/v5r1/topic/com.ibm.cics.ts.resourcedefinition.doc/resources/typeterm/dfha4_attributes.html](YES) and the application does a START TRAN(AAAA) TERM(YYYY) you get the following message at the printer: 

DFHAC2002 To use this transaction you must sign on or have the right security level

This is expected since the terminal has the default CICS user ID (CICSUSER) assigned to it and that user ID does not have access to transaction AAAA.

However, if you change the terminal attributes to TTI(NO) and issue the same START TRAN(AAAA) TERM(YYYY) command, the AAAA transaction runs successfully and runs under the Default User (CICSUSER).


CAUSE
Top Secret treats TTI(NO) differently than RACF. This is basically a philosophical difference between RACF and Top Secret. If TTI(NO) is coded, Top Secret assumes the request could not have come from the device and does not validate it against the user signed onto the device.

RESOLVING THE PROBLEM
If you want security validation to take place, change the terminal definition from TTI(NO) to TTI(YES). Then all validation will take place against the user who actually enters the START command when the START is entered. As long as that user has permission to run the transaction, it will run.

Contact [/support/docview.wss?uid=swg21267435&amp;aid=1]CA Technologies [http://ca.com/] if you need additional assistance with CA Top Secret.



PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server