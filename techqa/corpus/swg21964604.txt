Title: IBM "Take Action" command fails to run on MS-Windows Server. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 A situation is correctly created to perform a system command in the "Take Action" tab, but the system command is not performed when the situation is triggered. 

DIAGNOSING THE PROBLEM
Review the MS-Windows OS agent's LG0 file (%CANDLE_HOME%\TMAITM6_x64\logs\Primary_<HOSTNAME>_NT.LG0). 

Error seen in the LG0 file:
1150810150822967 KRAKGE001 Instruction session token register failed - status 2032. Situation A_Remote_Command KPX.CLACTRMT, <665875789,856687397> IRA Security
1150810150922965 KRAKGE001 Instruction session token register failed - status 2032. Situation A_Remote_Command KPX.CLACTRMT, <131102641,860881701> IRA Security 





RESOLVING THE PROBLEM
Starting with ITM 6.3 all automation commands, such as Take Action, situation-driven reflex actions, tacmd executeCommand, and Policy Workflow commands, operate in a more secure environment . 


The KAES256.ser file at the Agent Server, must be identical to the KAES256.ser file at the TEMS (HUB and Remote).

Use the OS-command md5sum to verify the files are identical:

Example seen when running the md5sum against 2 different KAES256.ser files:
#md5sum KAES256*

943aeee61197dd3b042f6146b7505f8b KAES256_Agent.ser 
40cae7c713b716ee45ed5794bde61650 KAES256_HUBTEMS.ser 

To resolve the failing "Take Action" command, copy the KAES256.ser file from the HUB TEMS to the MS-Windows OS agent server.

Location of KAES256.ser file:
Windows: %CANDLE_HOME%\keyfiles

RELATED INFORMATION
 Understanding Command Security in ITM 6.3 FP1 [http://www-01.ibm.com/support/docview.wss?uid=swg27038508]