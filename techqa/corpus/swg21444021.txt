Title: IBM Opening a DOORS module results in error "Unable to open module... No such file or directory" - United States

Text:
missing file; module fails to open; treedata.dtb; module; open; treedata TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to open a formal module in IBM Rational DOORS results in the error "Unable to open module 
No such file or directory C:\Program Files\IBM\Rational\...\data\v6\...\current.ver\treedata.dtc". 

SYMPTOM
An administrator logs in to IBM Rational DOORS and attempts to open a module but can not. 

A Rational DOORS Report message displays:

'Unable to open module '.../ModuleName' No such file or directory 
C:\Program Files\IBM\Rational\9.5\data\v6\...\current.ver\treedata.dtc'


image
[/support/docview.wss?uid=swg21444021&aid=1] [/support/docview.wss?uid=swg21444021&aid=1] 

The module is visible but cannot be open.

CAUSE
Unknown.



DIAGNOSING THE PROBLEM
Files with extension .dtn should only exist during a transaction. The presence of any .dtn files beyond that time indicates a failed data update. 


Treedata files contain 'cached' encrypted/compressed data. 

There are crucial data files the database server creates or modifies during an update transaction. 

 * The current version of a file ends with a .dtc extension 
 * The backup version of a file ends with a .dtb extension 
 * The change version of a file ends with a .dtn extension


During a file modification transaction, updates are stored in a temporary file with a .dtn extension. 

Upon completion of the transaction, the current data is saved for backup as a .dtb file and the changed .dtn file is saved as the current data file. Upon successful update the .dtn file then is removed. 

This sequence is performed during the successful closing of a transaction 'cache'.



RESOLVING THE PROBLEM
The current version of the file needs to exist for a DOORS module to open. If the current version of the data file is missing, a backup file may be used as a potential replacement. 

The Rational DOORS Report Window error message should contain the location of the problem data file. Make a note of the data path as you will need to navigate to that location in the data area. 

You can also use a module's unique ID to determine the folder location of the data files. 


 1. Click File > Module Properties... (in the module)
    
    
 2. Select the General tab (on the module properties window)
    
    The URL lists the module unique ID at the end of the string 
    doors://doors.ibm.com:36678/?version=2&prodID=0&urn=urn:telelogic::1-51c0aaa635c57f03-M-00000020
    
    Note: DOORS is the default type URL used for identification; however if you have enabled the optional DOORS redirector service [http://pic.dhe.ibm.com/infocenter/doorshlp/v9r5/index.jsp?topic=%2Fcom.ibm.rational.dwa.install.doc%2Ftopics%2Fc_introredirector.html&resultof%3D%2522%2572%2565%2564%2569%2572%2565%2563%2574%256f%2572%2522%2520%2522%2573%2565%2572%2576%2565%2572%2522%2520] the URL format will be either http or https. 
    
    For example
    http://doors.ibm.com:8080/dwa/rm/urn:rational:1-51c0aaa635c57f03-M-00000020


Here are the steps to replace the missing file. 

Note: No users should be logged into the project with the problem module opened until repairs are complete.


 1. Make a copy of the directory as a backup
    
    
 2. Navigate to the server data directory location identified for the problem module
    
    
 3. Open the Current Version directory
    
    
 4. Rename the treedata.dtn file (if it exists ) from this directory to treedata.dtc
    
    
 5. Restart the DOORS database server (ddbs)
    
    


When there is no .dtn file, or after renaming the change (.dtn) file, and the module still fails to open 
you can attempt to use the backup treedata.dtb by renaming the file to treedata.dtc; then restart ddbs. 
If the module opens successfully click save before performing any work. If the problem is not resolved after renaming the file you need to obtain a working copy of the .dtc file from system backup of the last known good version of the data file and paste it in the directory.