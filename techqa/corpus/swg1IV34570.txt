Title: IBM IV34570: THE ADJUSTMENT OF COMPUTER CLOCK WHILE JAVA PROGRAM IS RUNNING C AN CREATE AN EFFECT OF 'TIME GOES BACKWARDS' - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Error Message: JVMDUMP039I Processing dump event "systhrow",
   detail "java/lang/OutOfMemoryError" at 2012/04/01 23:28:40 -
   please wait.
   JVMDUMP032I JVM requested System dump using
   '/tmp/bld_106960/cmdLineTester_classesdbgddrext/106026550/core.2
   0120401.232840.21717.0001.dmp' in response to an event
   JVMDUMP010I System dump written to
   /tmp/bld_106960/cmdLineTester_classesdbgddrext/106026550/core.20
   120401.232840.21717.0001.dmp
   JVMDUMP032I JVM requested Heap dump using
   '/tmp/bld_106960/cmdLineTester_classesdbgddrext/106026550/heapdu
   mp.20120401.232840.21717.0002.phd' in response to an event
   JVMDUMP010I Heap dump written to
   /tmp/bld_106960/cmdLineTester_classesdbgddrext/106026550/heapdum
   p.20120401.232840.21717.0002.phd
   JVMDUMP032I JVM requested Java dump using
   '/tmp/bld_106960/cmdLineTester_classesdbgddrext/106026550/javaco
   re.20120401.232840.21717.0003.txt' in response to an event
   JVMDUMP010I Java dump written to
   /tmp/bld_106960/cmdLineTester_classesdbgddrext/106026550/javacor
   e.20120401.232840.21717.0003.txt
   JVMDUMP032I JVM requested Snap dump using
   '/tmp/bld_106960/cmdLineTester_classesdbgddrext/106026550/Snap.2
   0120401.232840.21717.0004.trc' in response to an event
   JVMDUMP010I Snap dump written to
   /tmp/bld_106960/cmdLineTester_classesdbgddrext/106026550/Snap.20
   120401.232840.21717.0004.trc
   JVMDUMP013I Processed dump event "systhrow", detail
   "java/lang/OutOfMemoryError".
   Exception in thread "Thread-20" java.lang.OutOfMemoryError: Java
   heap space
    at
   java.lang.StringBuffer.ensureCapacityImpl(StringBuffer.java:338)
    at java.lang.StringBuffer.append(StringBuffer.java:204)
    at Test$StreamMatcher.run(Unknown Source)
   .
   Stack Trace: N/A
   .
   "!!! The external wall clock shift (backwards) detected !!!"
   message in GC verbose log
   
   
    
   
   

LOCAL FIX
 *  This is extremely intermittent issue occur if computer clock was
   adjusted while Java program was running. This is
   -Xgcpolicy:gencon specific issue, so this issue can be worked
   around using another GC policy or just re-running Java program.
   
   
    
   
   

PROBLEM SUMMARY
 *  An adjustment of computer clock while Java program is running
   can create an effect of "time goes backwards" when GC End time
   is earlier then GC Start time. This might be a reason for
   mistake in calculation of duration of GC Cycle (very large
   number). The result of this might be unnecessary throwing OOM or
   even crash in Java VM
   
   
    
   
   

PROBLEM CONCLUSION
 *  This defect will be fixed in:
   7.0.0 SR3
   6.0.1 SR4
   .
   Added detection of "time goes backwards" situation and adjust
   required calculations.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV34570
   
   
 * REPORTED COMPONENT NAME
   J9 COMMON CODE
   
   
 * REPORTED COMPONENT ID
   620700127
   
   
 * REPORTED RELEASE
   260
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-01-11
   
   
 * CLOSED DATE
   2013-01-11
   
   
 * LAST MODIFIED DATE
   2013-01-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   J9 COMMON CODE
   
   
 * FIXED COMPONENT ID
   620700127
   
   

APPLICABLE COMPONENT LEVELS
 * R260 PSY
   UP