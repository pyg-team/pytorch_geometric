Title: IBM Opening a process instance migrated from an old snapshot causes the CWTBG0047E error to appear in IBM Business Process Manager (BPM) - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you open a process instance which is migrated from an old snapshot in the Process Admin Console, the error CWTBG0047E appears. 

SYMPTOM
Opening a BPD in the Process Admin Console causes the following error message to appear: 

"CWTBG0047E:Process 'BPD.XXX-XXX-XXX-XXX-XXX' does not exist; it might have been deleted in the meantime"

[/support/docview.wss?uid=swg21675156&aid=1] [/support/docview.wss?uid=swg21675156&aid=1] 

 

There is no error message that indicates the instance migration failure in SystemOut.log: 


[4/8/14 15:16:01:975 CST] 0000219f wle I Migrated instances of Process App 'TestMigration' from snapshot 'Test1' to snapshot 'Test3'. No token policy file was used to handle possible orphan tokens.
[4/8/14 15:17:11:720 CST] 0000a8d0 wle_security I CWLLG1088I: Initializing session is done for user admin


CAUSE
The error message indicates that the BPD from which the migrated instance is created has been deleted in new snapshot.



RESOLVING THE PROBLEM
You need to pay attention to orphaned tokens if there are process deletions during instance migration. 

Refer to the IBM Business Process Manager product documentation [http://pic.dhe.ibm.com/infocenter/dmndhelp/v8r5m0/index.jsp?topic=%2Fcom.ibm.wbpm.admin.doc%2Ftopics%2Freleasing_installing_procs_E.html] for information on migrating instances.

You can use policy files to handle the orphaned tokens, or use the REST API -> Move Token command to manually move the token after the migration.

Policy files provide an automated way to move tokens after instance migration. The administrative user needs to determine whether there are orphaned tokens that need to be moved. If there are no orphaned tokens, policy files are not needed. 

The message in SystemOut.log is an indication that no policy files were used. Orphaned tokens must be moved or deleted using policy files or the REST API commands.

You can refer to the IBM Business Process Manager product documentation [http://pic.dhe.ibm.com/infocenter/dmndhelp/v8r0mx/index.jsp?topic=%2Fcom.ibm.wbpm.admin.doc%2Ftopics%2Fmigrating_instances_pac.html] for information on how to use policy files during instance migration.

 



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Process Manager Advanced Business Process Definition (BPD) AIX, Linux, Solaris, Windows 8.5.0.1, 8.5, 8.0.1.2, 8.0.1.1, 8.0.1, 8.0 Business Integration IBM Business Process Manager Express Business Process Definition (BPD) Linux, Windows 8.5.0.1, 8.5, 8.0.1.2, 8.0.1.1, 8.0.1, 8.0 
HISTORICAL NUMBER
 08526
999
760