Title: IBM Integration Bus and WebSphere Message Broker Utility trace (on z/OS) - United States

Text:
command trace TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Use this procedure to capture a trace of an IBM Integration Bus (IIB) or WebSphere Message Broker (WMB) command on z/OS. 

DIAGNOSING THE PROBLEM
Note that only some commands can be traced with the "Utility Trace".
These are listed in the product documentation mqsireadlog [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/an07300_.htm] article. 

Other mqsi* commands (not listed under 'mqsireadlog') are traced by a flag.
To confirm whether your command has a flag for tracing, locate it in the product documentation:
See: Commands [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/an07060_.htm]



RESOLVING THE PROBLEM
 

1. Enable tracing of utility commands.

Add the following environment variables to the broker ENVFILE either manually or 
by adding to the BIPBPROF member and running the BIPGEN batch job. 

MQSI_UTILITY_TRACE=debug
MQSI_UTILITY_TRACESIZE=51200 

Note: The value is set in kilobytes (here, we suggest 50MB).

2. Restart the broker to pick up the changes. Verify that the updates are in place 
by viewing the environment variables listed in the broker joblog. 

3. Run the failing mqsi* command(s) to reproduce the issue.

4. Disable the trace by removing the two variables from the ENVFILE and restarting the broker. 

5. Retrieve the trace log for the specified command.
This can be issued against all commands executed in step 3.

Edit the BIPRELG job to add the following flags/values 

-t -b <mqsicommand> -f -o <mqsicommand>trace.xml

Note: The <mqsicommand> should just be the command name, and should not include any flags or arguments.

6. Format the xml trace log(s) into text by running the BIPFMLG using the following flags/values

-i <mqsicommand>trace.xml -o <mqsicommand>trace.txt


Note:
The value of '<component>' will changed based on the object of the failing mqsi* command. You can find more information in the product documentation on which component name to use.
See: mqsireadlog command [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/an07300_.htm].



 



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Integration Bus z/OS 9.0 
PRODUCT ALIAS/SYNONYM
 WMB IIB