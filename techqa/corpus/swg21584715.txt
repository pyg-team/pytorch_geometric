Title: IBM javax.xml.soap.SOAPException using outbound Web Services - United States

Text:
Webservice SOAP outbound J2CA0056I JCAHTTP-WS javax.xml.soap.SOAPException TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When using WebSphere Commerce as a service consumer and trying to send out an outbound web service request, the system can report a fatal connection exception deriving from the SAX parser. 

SYMPTOM
The following exception is seen in the SystemOut.log: 

ConnectionEve A J2CA0056I: The Connection Manager received a fatal connection error from the ResourceAdapter for resource eis/JCAHTTP-WS. The exception is:
java.io.IOException: javax.xml.soap.SOAPException: org.xml.sax.SAXException: Can't find resource for bundle com.ibm.ws.webservices.engine.resources.ProjectResourceBundle, key unsupportedSAXEvent Message being parsed:
at com.ibm.ws.webservices.engine.SOAPPart.getEnvelope(SOAPPart.java:662)
at com.ibm.websphere.webservices.soap.IBMSOAPMessage.getSOAPBody(IBMSOAPMessage.java:53)
at com.ibm.commerce.messaging.outboundservice.SOAPWrapperRecordImpl.read(SOAPWrapperRecordImpl.java:150)
at com.ibm.commerce.wc.messaging.adapters.jcahttp.JCAHTTPInteractionImpl.execute(JCAHTTPInteractionImpl.java:205)
at com.ibm.commerce.wc.messaging.adapters.jcahttp.ws.JCAHTTPWSInteractionImpl.execute(JCAHTTPWSInteractionImpl.java:104)
at com.ibm.commerce.messaging.objects.JMSMessageBean.sendReceiveImmediate(JMSMessageBean.java:665)
at com.ibm.commerce.messaging.objects.EJSRemoteStatelessJMSMessage_d6d5624d.sendReceiveImmediate(EJSRemoteStatelessJMSMessage_d6d5624d.java:31)
at com.ibm.commerce.messaging.objects._JMSMessage_Stub.sendReceiveImmediate(_JMSMessage_Stub.java:339)
at com.ibm.commerce.messaging.objects.JMSMessageAccessBean.sendReceiveImmediate(JMSMessageAccessBean.java:120)
at com.ibm.commerce.messaging.outboundservice.Messaging.sendReceiveRecordImmediate(Messaging.java:4986)
at com.ibm.commerce.foundation.internal.client.services.invocation.impl.JCAInvocationBindingImpl.invoke(JCAInvocationBindingImpl.java:174)
at com.ibm.commerce.foundation.internal.client.services.invocation.InvocationService.invoke(InvocationService.java:113)
...
...
Caused by: org.xml.sax.SAXException: Can't find resource for bundle com.ibm.ws.webservices.engine.resources.ProjectResourceBundle, key unsupportedSAXEvent Message being parsed:
at com.ibm.ws.webservices.engine.WebServicesFault.makeFault(WebServicesFault.java:300)
at com.ibm.ws.webservices.engine.SOAPPart._getSOAPEnvelope(SOAPPart.java:1090)
at com.ibm.ws.webservices.engine.SOAPPart.getAsSOAPEnvelope(SOAPPart.java:628)
at com.ibm.ws.webservices.engine.SOAPPart.getEnvelope(SOAPPart.java:656)
... 36 more


CAUSE
The web service request may be missing the SOAPAction required by the service provider. To confirm this, a reverse proxy such as TCP monitor may be used to view the contents of the SOAP request and find whether or not the SOAPAction is in fact missing from the message header.
More information about TCP Monitor can be found here: Deploying and validating the MyCompanyMember client [http://publib.boulder.ibm.com/infocenter/wchelp/v7r0m0/topic/com.ibm.commerce.webservices.doc/tutorial/twvoutbound8.htm]


ENVIRONMENT
WebSphere Commerce V7.0



RESOLVING THE PROBLEM
The request may need to be generated with the SOAPAction present in the header. The following Technote describes how to enable such a header: Configuring SOAPAction in WebSphere Commerce for JCA HTTP transport [http://www-01.ibm.com/support/docview.wss?uid=swg21297330]