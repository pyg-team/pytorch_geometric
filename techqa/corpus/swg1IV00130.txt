Title: IBM IV00130: WAS V7 USING MQ V7 RESOURCE ADAPTER WITH CCDT CONFIGURED GETS 2035 AUTHORIZATION FAILURE INSTEAD OF USING NEXT CHANNEL IN CCDT - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V7.0 Fix Pack 7.0.1.6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030108]
WebSphere MQ V7.0.1 for i5/OS Fix Pack 7.0.1.6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030534]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When using WebSphere Application Server V7 with Activation
   Specifications each configured to use a different Client Channel
   Definition Table (CCDT) to connect to different channels of the
   same WebSphere MQ V7 Queue Manager, a 2035 MQRC_NOT_AUTHORIZED
   error is received by application.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   This issue affects users of:
   
   - The WebSphere MQ V7 classes for JMS.
   - The WebSphere MQ V7 Resource Adapter.
   - The WebSphere Application Server V7 WebSphere MQ messaging
   provider.
   - the WebSphere Application Server V6 WebSphere MQ messaging
   provider who have configured the WebSphere Variable
   MQ_INSTALL_ROOT to point to a WebSphere MQ V7 installation.
   
   that have two or more applications running inside the same
   application server or Java runtime environment, where the
   applications use Connection Factories, Listener Ports and/or
   Activation Specifications configured to use different Client
   Channel Definition Tables (CCDTs).
   
   Platforms affected:
   All Distributed (iSeries, all Unix and Windows) +Java
   ****************************************************************
   PROBLEM SUMMARY:
   The issue here was caused by the fact that the WebSphere MQ V7
   classes for JMS (used internally by the WebSphere MQ Resource
   Adapter and the WebSphere Application Server V7 WebSphere MQ
   messaging provider) contained a cached copy of the last CCDT
   that was successfully used to create a connection to a queue
   manager.
   
   When another application running either within the same
   application server or Java runtime environment tried to create
   a new connection using a different CCDT, the WebSphere MQ V7
   classes for JMS initially checked to see if the cached CCDT
   contained a matching entry. If a match was found, then the
   channel definition in the cached CCDT was used in preference to
   the channel definition in the CCDT that the application was
   configured to use.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The WebSphere MQ V7 classes for JMS have been updated to ensure
   that the CCDT specified by an application is used when looking
   for a matching channel definition.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
                      v7.0
   Platform           Fix Pack 7.0.1.6
   --------           --------------------
   Windows            U200328
   AIX                U840698
   HP-UX (PA-RISC)    U841555
   HP-UX (Itanium)    U841560
   Solaris (SPARC)    U841556
   Solaris (x86-64)   U841562
   iSeries            tbc_p700_0_1_6
   Linux (x86)        U841557
   Linux (x86-64)     U841561
   Linux (zSeries)    U841558
   Linux (Power)      U841559
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV00130
   
   
 * REPORTED COMPONENT NAME
   WMQ AIX V7
   
   
 * REPORTED COMPONENT ID
   5724H7221
   
   
 * REPORTED RELEASE
   701
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-05-09
   
   
 * CLOSED DATE
   2011-05-27
   
   
 * LAST MODIFIED DATE
   2011-05-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ AIX V7
   
   
 * FIXED COMPONENT ID
   5724H7221
   
   

APPLICABLE COMPONENT LEVELS
 * R701 PSY
   UP