Title: IBM Deploying ClearQuest Web 7.1.x, with IBM HTTP Server and WebSphere Application Server on separate hosts - United States

Text:
1414418; CQ; Clearquest; CQWEB; ClearQuest Web; CQ Web; Change Management; CM Server; Webphere application server; WAS; IBM HTTP Server; IHS; install; deploy; host; server; separate; different; firewall TECHNOTE (FAQ)

QUESTION
 How can you deploy IBM Rational ClearQuest Web 7.1.x, with the IBM HTTP Server on one host and the IBM WebSphere Application Server service on another? 

CAUSE
There might be security requirements that call for the HTTP functions to be carried out with a server on the opposite side of a firewall than that of WebSphere Application Server. WebSphere is utilized to run the ClearQuest Web and Change Management (CM) Server processes.

ANSWER
 

1. Install ClearQuest Web 7.1.x on one of your server hosts.


2. On a different server, install IBM HTTP Server. You can download a free version from this download page [http://www14.software.ibm.com/webapp/download/product.jsp?s=p&id=U519128P70489E31].


3. On the server where you installed IBM HTTP Server, locate the httpd.conf file, located in C:\Program Files\ibm\HTTPServer\conf by default. Add these lines to the file: 

 * 
 * LoadModule was_ap20_module modules/mod_was_ap20_http.dll
 * 
 * WebSpherePluginConfig "C:/PROGRA~1/IBM/HTTPServer/profiles/plugin-cfg.xml"


4. On the server where you installed ClearQuest Web, locate the mod_was_ap20_http.dll file located in C:\Program Files\IBM\RationalSDLC\common\IHS\modules by default. Copy it to the C:\Program Files\ibm\HTTPServer\modules directory on the host with IBM HTTP Server. 


5. On the server where you installed ClearQuest Web, locate the config-cfg.xml file located in C:\Program Files\IBM\RationalSDLC\common\eWAS\profiles by default. Copy it to the C:\Program Files\ibm\HTTPServer\profiles directory on the host with IBM HTTP Server. 

6. On the IBM HTTP Server host, replace any value in the config-cfg.xml file pointing to localhost with the host name of your ClearQuest Web server. Here is an example of what these lines would look like: 
 * <ServerCluster Name="profile1_Cluster"> 
 *  <Server Name="server1">  * <Transport Hostname="localhost" Port="10080" Protocol="http"/>
   
   </Server> 
 * </ServerCluster>
 * 
 * <ServerCluster Name="profile2_Cluster">
 *  <Server Name="server1">  * <Transport Hostname="localhost" Port="11080" Protocol="http"/>
   
   </Server> 
 * </ServerCluster>
 * 
 * <ServerCluster Name="cmprofile_Cluster">
 *  <Server Name="server1">  * <Transport Hostname="localhost" Port="12080" Protocol="http"/>
   
   </Server> 
 * </ServerCluster>
 * 
 * <ServerCluster Name="cqsearchprofile_Cluster">
 *  <Server Name="server1">  * <Transport Hostname="localhost" Port="14080" Protocol="http"/>
   
   </Server> 
 * </ServerCluster>



7. One the same host, start the IBM HTTP Server service in the Microsoft Windows Control Panel. 
 

8. Test the configuration by accessing this URL, where the <server name> is that of the host to which you installed IBM HTTP Server:

http://<server name>/cqweb/login 




Alternative:


You can also install ClearQuest Web on the intended HTTP server. You would need to edit the config-cfg.xml to point to your intended ClearQuest Web server on the other host. However, you must disable IBM WebSphere Application Server V6.1 - cmprofile in Windows Services, so that it does not start.







Cross Reference information Segment Product Component Platform Version Edition Software Development Rational ClearQuest CM Server 7.1, 7.1.1 Application Servers IBM HTTP Server Base Server 6.1