Title: IBM Can I just download the AGENT bundle for 6.23.03 and apply these APARs  - IV65616 and IV65616.1 for the purpose of manually installing on RHEL7 (locally on the box)? Does a local install at 6.23.03 actually work? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Can I just download the AGENT bundle for 6.23.03 and apply these APARs - IV65616 and IV65616.1 for the purpose of manually installing RHEL7 (locally on the box)? Does a local install at 6.23.03 actually work? 

ANSWER
06.23.03.00 is not a pristine installable image as delivered. You need to perform one of the scenarios below to perform a pristine installation of 06.23.03.00 without having to install an earlier version and then upgrade.
Check if the customer is using Remote Deploy, "tacmd createnode" to install the OS agent on new systems: 
If they do, what version of the Linux OS agent is in the Monitoring server depot?
Do you support multiple types of Linux hardware?
Do you have a 06.23.03.00 Monitoring Server installed anywhere?


 * If the version of the OS agent currently in the Monitoring Server depot in production is less than or equal to 06.23.03.00, then you can use "Scenario 1" 
 * If you do not want to use "tacmd createnode", then you have to use "Scenario 2" or "Scenario 2B". 
 * If the version of the OS agent currently in the Monitoring Server depot in production is greater than 06.23.03.00 and you do not support multiple types of Linux hardware, then you have to use "Scenario 2". 
 * If the version of the OS agent currently in the Monitoring Server depot in production is greater than 06.23.03.00 and you support multiple types of Linux hardware (x86_64, x86 32 bit, Linux on Power, zLinux), then you should use "Scenario 2B". 
 * If the version of the OS agent currently in the Monitoring Server depot in production is greater than 06.23.03.00 and you support multiple types of Linux hardware (x86_64, x86 32 bit, Linux on Power, zLinux) and you do not have a 06.23.03.00 Monitoring Server installed and do not want to install one, then you must use "Scenario 2".


NOTE: "tacmd createnode" does not support a version option, so it will always use the highest version of the Linux OS agent that is in the Monitoring Server depot when installing to a new Linux system. For this reason, "Scenario 2" or "Scenario 2B" may be the safer options over time. 

For any of the scenarios; 

 1. Download the 06.23.03.00 Agents media from FixCentral, expand it and make it available to the required systems.
    http://www-01.ibm.com/support/docview.wss?uid=swg24033803 [http://www-01.ibm.com/support/docview.wss?uid=swg24033803]6.2.3-TIV-ITM_TMV-Agents-FP0003.tar.gz
    
    
 2. Download the 06.23.03.00 IV65616 patches from FixCentral, expand them and make them available to the required systems.
    http://www-01.ibm.com/support/docview.wss?uid=swg24038956 [http://www-01.ibm.com/support/docview.wss?uid=swg24038956]
    6.2.3-TIV-ITM-FP0003-IV65616.tar - required for all scenarios
    6.2.3-TIV-ITM-FP0003-IV65616.README - required for all scenarios
    6.2.3-TIV-ITM-FP0003-IV65616.1.tar - required for scenario 2B
    6.2.3-TIV-ITM-FP0003-IV65616.1.README - required for scenario 2B


For the purpose of the following commands; 
MEDIADIR - must be set to the fully qualified directory which contains the install.sh file for the 06.23.03.00 Agents media. 
PATCHDIR - must be set to the fully qualified directory which contains the install-IV65616 file for the 6.2.3-TIV-ITM-FP0003-IV65616 patch 
P2DIR - must be set to the fully qualified directory which contains the kue_*_tema_iv65616.1.tar files for the 6.2.3-TIV-ITM-FP0003-IV65616.1 patch. 
CANDLEHOME - must be set to the Monitoring Server installation directory. 

======================================================================= 
Scenario 1 
Use "tacmd createnode" to perform pristine install of 06.23.03.00 Linux OS agent to new (RHEL 7) Linux systems. 

 1. Make sure that the 06.23.03.00 Agents media has been expanded and is available. 
 2. Run "tacmd addbundles"
    $CANDLEHOME/bin/tacmd addbundles -i $MEDIADIR/unix -t lz 
 3. Apply the 6.2.3-TIV-ITM-FP0003-IV65616 patch to the Monitoring Server depot as described in section "5.2.2 Depot image update" in the 6.2.3-TIV-ITM-FP0003-IV65616.README file. 
 4. Run "tacmd createnode" to deploy to a new (RHEL 7) Linux systems.


======================================================================= 
Scenario 2 
Use "tacmd exportbundles" to generate pristine installable 06.23.03.00 Linux OS agent bundles for a single type of new (RHEL 7) Linux systems. 

NOTE: These steps must be performed on any release Monitoring Server system on any supported platform. 

 1. Make sure that the 06.23.03.00 Agents media has been expanded and is available. 
 2. Run "tacmd addbundles"
    $CANDLEHOME/bin/tacmd addbundles -i $MEDIADIR/unix -t lz 
 3. Apply the 6.2.3-TIV-ITM-FP0003-IV65616 patch to the Monitoring Server depot as described in section "5.2.2 Depot image update" in the 6.2.3-TIV-ITM-FP0003-IV65616.README file. 
 4. Run "tacmd exportbundles" to generate a pristine installable bundle for a single platform type of (RHEL 7) Linux system.
    $CANDLEHOME/bin/tacmd exportbundles -v 062303000 -p lx8266 -t lz -o LOCAL -e /tmp
    
    Note: Repeat step 4 for each Linux hardware type that you support:
    x86_64: -p lx8266
    x86 32 bit: -p li6263
    Linux on Power: -p lpp266
    zLinux: -p ls3266
    
    
 5. Tar up each generated bundle directory (/tmp/lz_062303000_lx8266).
    cd /tmp
    tar -cf lz_062303000_lx8266.tar lz_062303000_lx8266 
 6. Transport the correct tar file for the system type to the required systems.
    
    

On the required endpoint system: 

 1. Expand the correct tar file for the system type.
    cd /tmp
    tar -xf lz_062303000_lx8266.tar 
 2. Perform the installation. You CAN NOT invoke install.sh from the bundle directly.
    cd /tmp/lz_062303000_lx8266
    export CANDLEHOME=/opt/IBM/ITM
    ./silentInstall.sh


======================================================================= 
Scenario 2B 
Use "tacmd exportbundles" to generate a single pristine installable 06.23.03.00 Linux OS agent bundle for multiple types of new (RHEL 7) Linux systems. 

To use this scenario, you must have a 06.23.03.00 Monitoring Server installed. If you do not have a 06.23.03.00 Monitoring Server on any supported platform, then you will need to download one of the 06.23.03.00 Server packages and install the Monitoring Server. This Monitoring Server does not need to be integrated (connected) to your current enterprise structure. 

To use this scenario, you must download the 
6.2.3-TIV-ITM-FP0003-IV65616.1 tar and README files. 

NOTE: These steps must be performed on a Linux or Unix system, Monitoring Server not required. 

 1. Make sure that the 06.23.03.00 Agents media has been expanded and is available. The steps performed will either update the media image if it is writable from this system, or create a new media image if the original media image is not writable from this system. If you are going to create a new media image (and tar) you will need to have two time the size of the Agents media tar file for freespace in a writable filesystem available to this system. 
 2. Apply the 6.2.3-TIV-ITM-FP0003-IV65616 patch to the Agents media tar file or directory as described in section "5.2.1 Media image update" in the 6.2.3-TIV-ITM-FP0003-IV65616.1.README file.
    


NOTE: These steps must be performed on a 06.23.03.00 Monitoring Server system on any supported platform. 

 1. Make sure that the new patched 06.23.03.00 Agents media has been expanded and is available and that MEDIADIR points to this new directory. 
 2. Apply the 6.2.3-TIV-ITM-FP0003-IV65616.1 patch to the Monitoring Server installed on this system as described in section "5.2.1 Local installation" in the 6.2.3-TIV-ITM-FP0003-IV65616.1.README file. 
 3. Run "tacmd exportbundles" to generate a single pristine installable bundle for multiple platform types of (RHEL 7) Linux systems.
    $CANDLEHOME/bin/tacmd exportbundles -v 062303000 -os LINUX -t lz -o LOCAL -e /tmp -i $MEDIADIR/unix
    
    Note: Repeat step 3 only if you also need to support zLinux using:
    -os LINUX_Z
    
    
 4. Tar up each generated bundle directory (/tmp/lz_062303000_LINUX).
    cd /tmp
    tar -cf lz_062303000_LINUX.tar lz_062303000_LINUX 
 5. Transport the correct tar file for the system type to the required systems.
    


On the required endpoint system: 

 1. Expand the correct tar file for the system type.
    cd /tmp
    tar -xf lz_062303000_LINUX.tar 
 2. Perform the installation. You CAN NOT invoke install.sh from the bundle directly.
    cd /tmp/lz_062303000_LINUX
    export CANDLEHOME=/opt/IBM/ITM
    ./silentInstall.sh

 

HISTORICAL NUMBER
 02789
442
000