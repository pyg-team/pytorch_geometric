Title: IBM Checking the health of Security Network Protection and Security Network IPS sensors - United States

Text:
XGS; GX; health TECHNOTE (FAQ)

QUESTION
 How can you check the general health of Security Network Protection (XGS) and Security Network IPS (GX) sensors? 

ANSWER



YouTube Video Checking the health of Security Network Protection and Security Network IPS sensors (5:02) How can you check the general health of Security Network Protection (XGS) and Security Network IPS (GX) sensors? Watch the video on YouTube [https://www.youtube.com/watch?v=kWw0DyQcZmE] (5:02) 

This article is intended to serve as a basic guide for users regarding where to look for health issues or errors on XGS or GX sensors. If you feel that your sensor might be experiencing an issue, contact IBM Support [http://www.ibm.com/support/customercare/sas/f/handbook/contacts.html] for further assistance. 

Checking sensor health in SiteProtector 

When managed by SiteProtector, both XGS and GX sensors send health and status information that can be viewed in the SiteProtector Console. 

Status information 

The status of an XGS or GX sensor in SiteProtector indicates the current communication status between the sensor and the SiteProtector Agent Manager. You can check the status of a sensor by using the following instructions: 
 1. Open the SiteProtector Console.
    
 2. Change to the Agent view.
    
 3. Locate the sensor and check the value under the Status column.


The following list contains common XGS and GX statuses: 
 * Active: All communication is open and the sensor is functioning as it should. 
 * Offline: The sensor is failing to communicate with the Agent Manager within the Agent Manager's Unresponsive Agent Threshold time period. 
 * Active with Errors: The sensor is having a problem with one or more policies being sent by SiteProtector. 
 * Not Managed: The sensor has been unregistered from SiteProtector.


Health information 

The health checks for an XGS or GX sensor allow users to monitor various important parts of the sensor in a single location. The Health Summary view is divided into tabs based on subject. You can check the health of a sensor by using the following instructions: 
 1. Open the SiteProtector Console.
    
 2. Change to the Agent view.
    
 3. Right-click the sensor and select Properties.
    
 4. Select Health summary from the left pane.


Each health check can be expanded to provide additional information. 

Checking sensor health in the LMI 

XGS and GX sensors have a Local Management Interface (LMI) which can be used to check system status. The XGS and GX LMIs allow users to monitor things such as hardware resource usage and to view system events. 

Checking the health of XGS sensors using the LMI 

 * To view hardware resource usage, go to Monitor Analysis and Diagnostics > System Graphs and select Memory, CPU, or Storage.
   
   [/support/docview.wss?uid=swg21980543&aid=1] [/support/docview.wss?uid=swg21980543&aid=1]
   
 * To view system events, go to Monitor Analysis and Diagnostics > Event Log > System Events.
   
   [/support/docview.wss?uid=swg21980543&aid=2] [/support/docview.wss?uid=swg21980543&aid=2]


Within the System Events page, you can filter based on the contents of the event fields. If you are checking for possible sensor health issues, a good starting point is to filter for Medium or High priority events. The following instructions explain how to do this: 

 1. Click the Filter button at the upper left of the page.
    
    [/support/docview.wss?uid=swg21980543&aid=3] [/support/docview.wss?uid=swg21980543&aid=3]
    
 2. Configure the following settings:
    
    Match: all rules
    Column: Priority
    Condition: is (This is configured by default when Priority is selected as the column.)
    Value: Select Medium Priority or High Priority
    
    [/support/docview.wss?uid=swg21980543&amp;aid=4]
    
 3. Click Filter to apply your filter settings when finished.


Checking the health of GX sensors using the LMI 

The Appliance Dashboard section of the GX LMI home page contains general health checks for Network, Security, and System health. Users can obtain more information by clicking Dashboard for each topic. 

[/support/docview.wss?uid=swg21980543&amp;aid=5] 
 * Network health: Provides network information such as link status and traffic throughput. 
 * Security health: Provides security information such as blocked attacks per second and top 10 attacks. 
 * System health: Provides system information such as update versions and hardware usage.


Note: The GX LMI only shows memory and disk space usage. Users must log in to the GX using the root account via SSH and run a command such as top in order to view CPU usage. For GX6 and GX7 series appliances, see Technote 1436550: Half of available CPU resources are 100% utilized on the GX6 and GX7 Series appliances [http://www.ibm.com/support/docview.wss?uid=swg21436550] for further information regarding CPU usage. 

Checking sensor health in log files 

XGS and GX sensors have a log files which can be used to check system status. These logs record information about the activities that are currently occurring on the system and can be viewed in the LMI. 

Checking the health of XGS sensors using log files 

To view information from the XGS system log in the LMI, go to Monitor Analysis and Diagnostics > Logs > System Events and add a filter by using the following instructions: 

 1. Click the Filter button at the upper left of the page.
    
    [/support/docview.wss?uid=swg21980543&aid=6] [/support/docview.wss?uid=swg21980543&aid=6]
    
 2. Configure the following settings:
    
    Match: all rules
    Column: Event Description
    Condition: contains
    Value: error
    
    [/support/docview.wss?uid=swg21980543&amp;aid=7]
    
 3. Click Filter when finish to apply your filter settings.


Checking the health of GX sensors using log files 

To view information from the GX system log in the LMI, go to Review Analysis and Diagnostics > Logs > System and add a filter by using the following instructions: 
 1. Enter error in the Search text field.
    
    [/support/docview.wss?uid=swg21980543&aid=8] [/support/docview.wss?uid=swg21980543&aid=8]
    
 2. Click Submit to apply your filter settings.


Checking sensor health in the command line 

XGS sensors have a command line interface (CLI) which can be accessed by using the admin account. It is possible to view resource usage and other statistical information in this CLI. 

Note: GX sensors do not offer this option. 
 1. Log in to the sensor using the admin account via SSH or console connection.
    
 2. Enter: stats
    
 3. Enter: show
    
 4. Enter the number from the following list that corresponds to the statistics that you want to view:
    
    1: Show all available status
    2: CPU Usage
    3: Memory Usage
    4: Storage Usage
    5: Packet Processing
    6: Protection Interfaces
    7: Inbound SSL
    8: Outbound SSL
    9: Login Expiration
    10: NTP Time Drift
    11: Last Policy Modification Time
    12: Number of reboots


Checking sensor health on the physical sensor 

XGS and GX sensors have LED status indicators for sensor activity on their physical chassis. See Technote 1959769: LED status indicators on the Security Network Protection and Security Network IPS appliances [http://www.ibm.com/support/docview.wss?uid=swg21959769] for more information on the meaning of these LED indicators. 




[/support/docview.wss?uid=swg21980543&aid=9] [https://ibm.biz/BdHdZx] [/support/docview.wss?uid=swg21980543&aid=10] [http://ibm.biz/InfraSecForumTechnote] [/support/docview.wss?uid=swg21980543&aid=11] [http://ibm.biz/SecSuptUTube] [/support/docview.wss?uid=swg21980543&aid=12] [http://ibm.biz/InfraSecFixes] [/support/docview.wss?uid=swg21980543&aid=13] [http://ibm.biz/FlexLicLogin] [/support/docview.wss?uid=swg21980543&aid=14] [http://ibm.biz/MyNotification] [/support/docview.wss?uid=swg21980543&aid=15] [http://ibm.biz/ContactSecSupport] 
RELATED INFORMATION
 A Japanese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21986016]





Cross reference information Segment Product Component Platform Version Edition Security IBM Security Network Intrusion Prevention System General Information Firmware 4.6.1, 4.6.2