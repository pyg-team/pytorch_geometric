Title: IBM PM03861: NO CONSOLE MESSAGE WITH RC MQRC_Q_FULL (2053, X'805') IS PRODUCED WHEN THE INITQ QUEUE IS FILLED UP. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The customer encountered a production problem where an MQ
   pageset was full. After investigation, they found out it was
   because the dead letter queue was filled with lots of messages.
   Further investigation of the contents of the messages in the
   dead letter queue showed that the dead letter messages were
   because that an initialization queue was full and that
   additional trigger messages all kept being put to the dead
   letter queue. In the MQ log, they could not find anything
   telling us the INITQ was full; the customer could only find the
   log entries that contained RC 2192 (pageset full).
   We are taking this APAR to investigate the possibility of
   issuing a console message when there is a failure to put a
   trigger message to an initiation queue.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS V6.       *
   ****************************************************************
   * PROBLEM DESCRIPTION: No log messages are written when there  *
   *                      is a problem writing to the initiation  *
   *                      queue.                                  *
   *                      If the problem writing to the           *
   *                      initiation queue continues undetected   *
   *                      the dead-letter queue may fill up       *
   *                      resulting in MQRC_PAGESET_FULL or       *
   *                      MQRC_STORAGE_MEDIUM_FULL                *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   CSQMTRG2 attempts to write a trigger message to an initiation
   queue but receives an error. A message is written to the
   dead-letter queue but no notification of the error is written to
   the log. After repeated occurrences of this it is possible that
   the page set containing the dead-letter queue becomes full.
   
   
    
   
   

PROBLEM CONCLUSION
 *  CSQMTRG2 has been changed to output a message to the log if an
   error occurs when writing to an initiation queue.
   
   The message will not be issued more than once every 30 seconds
   for each initiation queue.
   
   The message is new and is:
   
   'CSQM057E +ssid CSQMTRG2 MQPUT of trigger message failed for
                           queue 'init queue name',MQRC=2053'
   
   
   Documentation should be changed as follows:
   
   In WebSphere MQ for z/OS Messages and Codes Version 6.0
   Chapter 6. Message manager messages (CSQM...)
   add
   _____________________________________________________________
   CSQM057E csect-name MQPUT of trigger message failed
            for queue q-name, MQRC=mqrc
   
   
   Explantion: an error has occurred when writing to an
               initiation queue.
   Severity: 8
   
   System Action: A message is written to the dead-letter queue
   
   System Programmer Response: Refer to Appendix A, "API completion
   and reason codes" for information about mqrc, and resolve the
   error.
   _____________________________________________________________
   
   000Y
   001Y
   002Y
   003Y
   004Y
   CSQFMDIC
   CSQFMDIE
   CSQFMDIK
   CSQFMDIU
   CSQFMDTA
   CSQFMTXC
   CSQFMTXE
   CSQFMTXK
   CSQFMTXU
   CSQFXTXC
   CSQFXTXE
   CSQFXTXK
   CSQFXTXU
   CSQIDDA1
   CSQMINI3
   CSQMINTC
   CSQMMNUM
   CSQMPDOA
   CSQMSTRT
   CSQMTRG2
   CSQM1CGW
   CSQM1PAW
   CSQM1PDA
   CSQM1PFW
   CSQM1PGW
   CSQ7CBK
   CSQ7CBM
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM03861
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V6
   
   
 * REPORTED COMPONENT ID
   5655L8200
   
   
 * REPORTED RELEASE
   000
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-12-17
   
   
 * CLOSED DATE
   2010-04-16
   
   
 * LAST MODIFIED DATE
   2010-06-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM11007 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM11007] UK56149 UK56150 UK56151 UK56152 UK56153
   
   

MODULES/MACROS
 *     CSQFMDIC CSQFMDIE CSQFMDIK CSQFMDIU CSQFMDTA
   CSQFMTXC CSQFMTXE CSQFMTXK CSQFMTXU CSQFXTXC CSQFXTXE CSQFXTXK
   CSQFXTXU CSQIDDA1 CSQMINI3 CSQMINTC CSQMMNUM CSQMPDOA CSQMSTRT
   CSQMTRG2 CSQM1CGW CSQM1PAW CSQM1PDA CSQM1PFW CSQM1PGW CSQ7CBK
   CSQ7CBM
   
   
    
   
   

Publications Referenced GC34660200 FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V6
   
   
 * FIXED COMPONENT ID
   5655L8200
   
   

APPLICABLE COMPONENT LEVELS
 * R000 PSY UK56149 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK56149]
   UP10/05/08 P F005
   
   
 * R001 PSY UK56150 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK56150]
   UP10/05/08 P F005
   
   
 * R002 PSY UK56151 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK56151]
   UP10/05/08 P F005
   
   
 * R003 PSY UK56152 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK56152]
   UP10/05/08 P F005
   
   
 * R004 PSY UK56153 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK56153]
   UP10/05/08 P F005
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.