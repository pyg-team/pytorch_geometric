Title: IBM IC53530: TSM CLIENT WILL REMOVE THE STORED PASSWORD, FAIL SUBSEQUENT AUTHENTICATION WHEN SESSIONINIT=SERVERONLY - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Customer reports than when a server other than the server a
   client node normally connects to prompts the node with a
   schedule, the client node will remove the stored password and
   fail all subsequent authentication attempts to the server it
   normally connects to. The client must be set up with
   sessioninit=serveronly for this to happen.
   -
   Recreate scenario:
   1. Set up a test TSM server with access to a network which
   has a TSM client node using sessioninit=serveronly. This
   node should be configured to do backups to some other
   TSM server, called the production server for this
   scenario.
   2. Register a node on the test server which has the same
   configuration information for the node as the production
   TSM server, but does not have the correct password.
   3. Send a scheduled action to the client from the test
   server.
   4. The scheduled action will not complete, the client
   node will remove the stored password, and require
   authentication to be re-established between the node and
   it's server. All subsequent backups will fail until
   authentication has been re-established.
   -
   The administrator may not know that this occurred until
   backups fail and the reason is investigated.
   -
   The TSM client node, when using sessioninit=serveronly,
   does not have the ability to reject connections for prompted
   schedules that arrive from incorrect TSM servers. The
   rejection happens during authentication by not allowing the
   incorrect scheduled action to run because it couldn't
   authenticate. In this case, connection attempts from incorrect
   servers should not cause the client node to fail subsequent
   authentication with the correct TSM server.
   TSM Versions affected:
   All
   Customer/L2 Diagnostics:
   None
   Initial Impact:
   Medium
   Additional Keywords:
   TSM.PWD passwordaccess generate serveronly sessioninit
   
   
    
   
   

LOCAL FIX
 *  Install a firewall program on the TSM client machine, and
   set it up to reject connections from any machine other than
   the proper TSM server on the port the TSM scheduler is
   listening on.
   -
   Apply fixing maintenance.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All 5.4 clients running on any               *
   *                 platform except Netware.                     *
   ****************************************************************
   * PROBLEM DESCRIPTION: Locally stored password is deleted      *
   *                      upon unsuccessful authentication        *
   *                      attempt.                                *
   ****************************************************************
   * RECOMMENDATION: Apply fixing level when available. This      *
   *                 problem is currently projected to be fixed   *
   *                 in level 5.4.2. Note that this is subject    *
   *                 to change at the discretion of IBM.          *
   ****************************************************************
   Unsuccessful client-server authentication means the stored
   password is incorrect. In most cases it is OK to delete
   the stored password right away since it is no longer valid.
   However, as this APAR describes, it doesn't work when
   server initiates sessions, since the client has no way to
   verify the server's identity. In case of a wrong server trying
   to initiate a session, the password gets erroneously deleted.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The client has been fixed so that stored passwords are not
   deleted upon unsuccessful authentication attempts.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC53530
   
   
 * REPORTED COMPONENT NAME
   TSM CLIENT
   
   
 * REPORTED COMPONENT ID
   5698ISMCL
   
   
 * REPORTED RELEASE
   54L
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-08-17
   
   
 * CLOSED DATE
   2007-09-24
   
   
 * LAST MODIFIED DATE
   2007-09-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TSM CLIENT
   
   
 * FIXED COMPONENT ID
   5698ISMCL
   
   

APPLICABLE COMPONENT LEVELS
 * R54A PSY
   UP
   
   
 * R54D PSY
   UP
   
   
 * R54E PSY
   UP
   
   
 * R54F PSY
   UP
   
   
 * R54H PSY
   UP
   
   
 * R54I PSY
   UP
   
   
 * R54L PSY
   UP
   
   
 * R54M PSY
   UP
   
   
 * R54P PSY
   UP
   
   
 * R54S PSY
   UP
   
   
 * R54W PSY
   UP
   
   
 * R54X PSY
   UP