Title: IBM Many links in QuickPlace do not point to correct URL when protected by Tivoli Access Manager - United States

Text:
qp; quickplace; team workplace; tivoli access manager; tam; link; links; url; urls; rewrite TECHNOTE (TROUBLESHOOTING)

PROBLEM
After configuring QuickPlace to be protected by Tivoli Access Manager (TAM), you notice the My Places link continues to redirect you directly to the QuickPlace server and not through the TAM junction as it should. Sametime meetings created in QuickPlace can also have the same problem, as well as Links to pages after using the search All Places feature.

RESOLVING THE PROBLEM
In QuickPlace 6.5.1, the product began using page compression when sending HTTP pages from QuickPlace to the browser. When page compression is used, TAM cannot read the page sent to the browser and filter the URLs as it should. 

To resolve this issue, use one of the following options: 

1. Disable page compression in QuickPlace 

 * 
 * 
 * <page_compression enabled="false">
   </page_compression>


2. Set WebSeal to force QuickPlace to not use page compression with working with TAM. 

 * 
 * 
 * [filter-request-headers]
   header = accept-encoding


3. Set up script filtering.


 * 
 * 
 * [script-filtering] 
   # When script filtering support is enabled, filtering of 
   # absolute urls between html <script> tags can be enabled. 
   # 
   # Only absolute URLs that exist as a complete string in the 
   # html schema:server format will be filtered. 
   script-filter = yes 
 * 
 * 


4. Edit the qpconfig.xml to specify a hostname. 
 * 
 * 
 * 
 * 
 * 
 * <cluster> 
   <master virtual="true" ssl="true"> 
   <port></port> 
   <hostname> tamserver.domain.com/qpjunction</hostname> 
   <path_prefix></path_prefix> 
   </master> 
   </cluster> 
   
 * 
 * 
 * lo qptool unregister -a 
   lo qptool unregister -server 
   lo qptool register -server 
   lo qptool register -a 






This behavior can also occur if you setup Tivoli Access Manager to work with SSL, and you do not have SSL installed. Or it can occur if you set up Tivoli Access Manager to work without SSL, and you have SSL installed. Tivoli Access Manager protects a specific URL. If the URL is https://servername instead of http://servername, the configuration will not work. Examine the URLs in use closely to make sure they are using the expected protocol (http or https).