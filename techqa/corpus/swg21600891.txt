Title: IBM Collecting Data: IBM Forms 8.0 products - United States

Text:
mustgatherdocument; IBM Forms; IBM Forms API; IBM Forms Server; troubleshooting; mustgather; support; documentation; wpf; wpf.pel; pel file; logs; log files; problem management record; PMR TECHNOTE (TROUBLESHOOTING)

PROBLEM
This document will aid in problem determination and save time resolving Problem Management Records (PMRs) for IBM Forms products. 

Collecting this data early, even before opening a PMR, helps IBM Support determine: 

 * If symptoms match known problems (rediscovery) 
 * If there is a non-defect problem that can be identified and resolved 
 * The root cause, which can accelerate the development of a code fix

RESOLVING THE PROBLEM
A. Gather general information
When working with IBM Support, every problem must have a corresponding problem management record (PMR) opened for it. There are several potential problem areas that will need to be investigated. 

Include the following general information:


 1. Provide all software being used including all service packs. Note: If you do not know how to collect the version information for one of the products listed above, please refer to our collecting data technote titled. How to determine version information for IBM Forms [http://www.ibm.com/support/docview.wss?uid=swg21457001].
    
 2. Provide hardware specifics (i.e. CPU, available hard dive space, memory, and so on)
    
 3. Describe the problem in detail giving step by step instructions and screen shots to duplicate the issue. What is the error? How is it manifested (i.e. popups, server crash, and so on)
    
 4. How often does the problem occur?
    
 5. Provide the form and servlet/portlet application code experiencing the issue. Note: If a simplified application that is able to duplicate the issue and can be deployed without requiring outside resources is provided, this will cut down on investigation times.
    
 6. What is the business impact that the issue is causing (how many users affected)? What are your current time lines? When do you absolutely need this issue resolved by?
    
 7. Provide an architectural overview of the server. Helpful when clustering and multiple servers are involved.
    
 8.  Additional contact information - phone number and e-mail address
    
 9. Log files (see Step C)


COLLECTING DATA USING IBM SUPPORT ASSISTANT
 1. Download ISA Lite [https://www-304.ibm.com/support/docview.wss?uid=swg24029414] and extract it to your WAS_HOME directory.
    
    
 2. Start ISA Lite by running runISALite.[sh|bat].
    
    
 3. Select the following collector: IBM Forms General Data Collection
    
    
 4. Follow the prompts to automatically submit the collected data to IBM Support.
 5. 

Note: Due to limited functionality of tool, ISA Lite will only collect logs for runtime issues. This tool currently is not able to collect logs generated by wpf.pel file or install specific issues. Please review section B and C of the 'Collecting data manually' section for further information. This functionality will be added in a later iteration of the tool.

COLLECTING DATA MANUALLY
B. Gather debug information 


To help IBM Support with its troubleshooting, take the following steps to create debug information:

On a WindowsÂ® system, create an empty text file in the C: directory or the user profile directory named wpf.pel. 

You can confirm the user profile directory path by running the 'set USERPROFILE' command on the command line. 

Make sure the extension is .pel rather than .pel.txt. Re-run your application when this file exists. Note: We look for the pel file in the user profile directory first. 

IBM Forms generates log files first on the C: drive else the user profiles temp directory. 

You can confirm the temp directory's location by running the 'set temp' command on the command line.

When working with Viewer, a masqform.log will be generated. When working with Webform Server or the API, a java.log will be created. 

On a Unix system, create an empty text file in the /etc directory or in the current working directory (Translator or custom application using Forms API). When this file exists, IBM Forms Server products will generate a debug.log in the current working directory.

For debugging signature issues, open the pel file in a text editor and add the word 'signmessage'. This will create signmessage-java-x.xml files in the same location as the pel file.

For debugging Webform Server or Forms Experience Builder (FEB) issues, you can increase the debug log level to finest under Websphere's Admin Console;Troubleshooting -> Logs and trace -> TranslatorServer -> Change log detail levels and modify com.ibm.form.*. *=info is default log level.

ie. *=info: com.ibm.form.*=finest

Note: For SharedFileCache issues (database out of sync, Cache locking), you may want to refine your tracing to:

*=info: com.ibm.form.webform.logging.facility.fom.*=FINE: 

com.ibm.form.webform.logging.facility.fom.FormInstances=FINEST

Note: For debugging issues where you need to log all activity between your front end application that extends our framework and the translator, you may want to refine your tracing under the server you have deployed your application (ie. server1) to:

*=info: com.ibm.form.webform.framework.*=FINEST

C. Gather log files 

Viewer 

1. See section B 

Designer 

1. .log file under C:\<path to workspace>\workspace\.metadata if a runtime error is encountered. 

2. Core and javacore files in C:\Program Files (x86)\IBM\Forms Designer\8.0\platform\eclipse if Designer experiences a crash. 

Webform Server 

Install issues 

When running into an install/uninstall issue, please provide the following logs 

If the install does not let you select the finish button in the install process, please provide the following logs: 

Windows: 
C:\Users\ <user>\AppData\Local\Temp\FormsServerInstall-xx.log 
C:\Users\ <user>\AppData\Local\Temp\FormsServerUninstall-xx.log 

Unix: 
<System Temp dir>/FormsServerInstall-xx.log 
<System Temp dir>/FormsServerUninstall-xx.log 

If the install/uninstall finishes with serious errors, please provide the following zip file: 

<IBM Forms Install Dir>\Server\8.0\logs.zip 

Runtime issues 

See section B 

Zip the WebSphere Application Server logs folder 

<WebSphere Install Dir>\AppServer\profiles\ <profileName>\logs 

WebSphere Portal logs 

<WebSphere Install Dir>\PortalServer\log 
<WebSphere Install Dir>\AppServer\profiles\ <profileName>\logs\ffdc 
<WebSphere Install Dir>\AppServer\logs 

<IBM Forms Install Dir>\Translator\translator.properties 

Forms Experience Builder (FEB) 

Zip the WebSphere Aplication Server logs folder in a manual deployment of FEB: 

<WebSphere Install Dir>\AppServer\profiles\ <profileName>\logs 

If you use WASCE during the FEB install, zip and upload the following folder: 

<FEB install location>/WebSphere/AppServerCommunityEdition/var/log 

Provide the Builder_config.properties file 

Windows: C:\ibm\forms\extensions 
Unix: /opt/ibm/forms/extensions 

API 

See section B 

Zip the WebSphere Application Server logs folder 

<WebSphere Install Dir>\AppServer\profiles\ <profileName>\logs 
EXCHANGING DATA WITH IBM SUPPORT
Follow the instructions to send diagnostic information to IBM support, and be sure to provide all information captured above. This step requires that a PMR be opened if not already: 

 * IBM Support Assistant (ISA) 
 * Service Request (SR)
 * E-mail 
 * FTP to the Enhanced Customer Data Repository (ECuRep) 




Instructions for exchanging information with IBM Support [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21153852]