Title: IBM Deployment Engine (DE) - Collecting Data for Installation issues - United States

Text:
DEL2 Deployment Engine DE mustgather collecting data document TECHNOTE (FAQ)

QUESTION
 This document outlines the information required by the IBM Tivoli Deployment Engine (DE) Support team to investigate the problems. 

ANSWER
Please provide below information to troubleshoot Deployment Engine (DE) issues during installation of components. Create a zip or tar file and attach to the PMR.

1) A clear, specific problem description, including specific usage information and error scenario on how to recreate the problem you encountered.

2) Gather general environment information 

Operating system Report the current level AIX® oslevel -r Windows® Right click on My Computer on Desktop, select "Properties". Find the "System" information in the "General" tab. Linux® uname –arv Solaris uname -a 
3) Output of “ java –version” command. 
4) Gather detail information and logs depending upon the platform and the user who performed the installation. Go to the appropriate section below and provide required information. 

[/support/docview.wss?uid=swg21439183&amp;aid=1] 
For Admin install : 
 * Provide output of below commands
   1. C:\Program Files\IBM\Common\acsi\bin\de_version.cmd
   2. C:\Program Files\IBM\Common\acsi\bin\listIU.cmd
   3. C:\Program Files\IBM\Common\acsi\bin\de_lsrootiu.cmd
   
 * The IA (Install Anywhere) log from installation user's home dir. The log file name varies by each product but it may have string "*IA*" (look for logs which were created at the time of installation). 
 * Attach DE logs directory as a zip file which will be at below location:
   1. C:\Program Files\IBM\Common\acsi\logs 
   2. <%TEMP%>/acsitempLogs_<username>\logs
   3. <INSTALL_DIR>/_uninst* 
 * Attach the below file:
   1. C:\Program Files\IBM\Common\acsi\ACUApplication.properties
   2. Collect the contents of below dir to investigate the db corruption issues
   C:\Program Files\IBM\Common\acsi\repos
   

For Non-admin install:  * Provide output of below commands: 
   1. C:\Documents and Settings\<username>\acsi\bin\de_version.cmd
   2. C:\Documents and Settings\<username>\acsi\bin\listIU.cmd
   3. C:\Documents and Settings\<username>\acsi\bin\de_lsrootiu.cmd

 * The IA (Install Anywhere) log from installation user's home dir. The log file name varies by each product but it may have string "*IA*" (look for logs which were created at the time of installation). 
 * Attach DE logs directory as a zip file which will be at below location:
   1. C:\Documents and Settings\<username>\acsi\logs 
   2. <%TEMP%>/acsitempLogs_<username> \logs
   3. <INSTALL_DIR>/_uninst*
   
 * Attach below file:
   1. C:\Documents and Settings\<username>\acsi\ACUApplication.properties
   2. Collect the contents of below dir to investigate the db corruption issues
   C:\Documents and Settings\<username>\acsi\repos
   

[/support/docview.wss?uid=swg21439183&amp;aid=2] 
For root install :  * Provide output of below commands
   1. /usr/ibm/common/acsi/bin/de_version.sh
   2. /usr/ibm/common/acsi/bin/listIU.sh
   3. /usr/ibm/common/acsi/bin/de_lsrootiu.sh

 * The IA (Install Anywhere) log from installation user's home directory(typically /root). The log name varies by each product but it may have string "*IA*" (look for logs which were created at the time of installation). 
 * Attach DE logs directory as a zip file which will be at below location:
   1. /usr/ibm/common/acsi/logs 
   2. /tmp/acsitempLogs_<username>/logs
   3. <INSTALL_DIR>/_uninst*
   
 * Attach below files:
   1. /var/ibm/common/acsi/ACUApplication.properties
   2. Collect the contents of below dir to investigate the db corruption issues
   /usr/ibm/common/acsi/repos


For Non-root install :  * Provide output of below commands: 
   1. /home/<username>/.acsi_<username>/bin/de_version.sh
   2. /home/<username>/.acsi_<username>/bin/listIU.sh
   3. /home/<username>/.acsi_<username>/bin/de_lsrootiu.sh
   
 * The IA (Install Anywhere) log from installation user's home directory. The log name varies by each product but it may have string "*IA*" (look for logs which were created at the time of installation). 
 * Attach DE logs directory as a zip file which will be at below location:
   1. /home/<username>/.acsi_<username>/logs 
   2. /tmp/acsitempLogs_<username>/logs
   3. <INSTALL_DIR>/_uninst*

 * Attach below file:
   1. /home/<username>/.acsi_<username>/ACUApplication.properties.
   2. Collect the contents of below dir to investigate the db corruption issues
   /home/<username>/.acsi_<username>/repos


Note : 
In db corruption issues (which requires removing everything and start over), if the failure is easily re-creatable then please collect the above logs after enabling & re-running the failing scenario with the max logging (for DE & Derby both). This can be done using the following steps 
1. Open the <de_install_dir>/common/acsi/ACULogger.properties file. 
2. change the acu.logger.level from DEBUG_MIN to DEBUG_MAX 

3. Enable Derby max_logs. Append the below entries to <DE_INSTALL_LOCATION>\repos\derby.properties 
derby.infolog.append=true 
derby.stream.logSeverityLevel=0 
derby.drda/logConnections=true 
derby.language.logStatementText=true 


The location of IA log files and file names vary by product. Please see below technote as a guideline: 
http://www-01.ibm.com/support/docview.wss?uid=swg21620473 [http://www-01.ibm.com/support/docview.wss?uid=swg21620473]