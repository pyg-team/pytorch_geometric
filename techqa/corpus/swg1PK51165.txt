Title: IBM PK51165: Database move from SQL Server to Oracle using IBM Rational Clea rquest (R) 7.0.1 fails with Connection Dead error - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Moving a  IBM Rational Clearquest (R) user database from SQL ser
   ver 2000 to Oracle 9i gives the error
   insert into Defect ( customer_severity,dbid,description,fldcolum
   n,headline,id,is_active,is_duplicate,keywords,lock_version,locke
   d_by,mydate,note_entry,notes_log,old_id,owner,priority,project,r
   atl_mastership,resolution,severity,state,submit_date,submitter,s
   ymptoms,unduplicate_state,version ) values ( ?,?,?,?,?,?,?,?,?,?
   ,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,? )
   [CQ 182.593, 20070816, 15:27:10, 476, 7588, 1072] SQL bind: DATA
   TYPE : C_CHAR; VALUE : NULL
   [DataDirect][ODBC Oracle Wire Protocol driver][Oracle]Connection
    Dead. Error in parameter 4.
   It fails on description field.
   Moving same database  from sql server to another sql server  wor
   ks fine.
   Moving to Oracle from SR5 or 7.0.0.1 machine works fine.
   I exported  a record ( only the multiline field  and id)  from c
   ustomer's database and imported into Defect record type in my SA
   MPL database mapping their multiline field to Description.  I co
   uld reproduce the error.There are smart quotes and long dash in
   the field. If I remove those, move works fine. Oracle driver in
   7.0.1 must be choking up on those characters.
   I have attached the file to import into Clearquest SAMPL databas
   e. I have also attached my connection profile that can be used t
   o reproduce the issue.
   Steps to reproduce:
   1. Import the attached file into defect record in SAMPL database
    in a SQL server Clearquest database. Map report-description fie
   ld in the file to description field in CQ.
   ( or you can connect to the databases in the connection profile
   and move the SAMPL database).
   2. From designer, use the move tool to move the database.
   3. It will give the error message.
   Workaround:
   Move tha database from a pre 7.0.1 machine.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  It is not possible to move a user database from SQL Server
   2000 to Oracle 9i.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A fix is available in ClearQuest version 7.0.1.03
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK51165
   
   
 * REPORTED COMPONENT NAME
   CLEARQUEST WIN
   
   
 * REPORTED COMPONENT ID
   5724G3600
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-08-16
   
   
 * CLOSED DATE
   2008-12-15
   
   
 * LAST MODIFIED DATE
   2008-12-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CLEARQUEST WIN
   
   
 * FIXED COMPONENT ID
   5724G3600
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSN
   UP