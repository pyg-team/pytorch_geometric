Title: IBM Datastage job using DB2 Enterprise Stage aborts with error indicating unable to load module "libdb2.a". - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Datastage job using DB2 Enterprise Stage aborts with following error message:

node_DB2Node1: Warning: library "orchdb2op" failed to load: Could not 
load "orchdb2op": 0509-022 Cannot load module 
/opt/IBM/InformationServer/Server/DSComponents/bin/orchdb2op.o. 
0509-150 Dependent module libdb2.a(shr_64.o) could not be loaded. 
0509-022 Cannot load module libdb2.a(shr_64.o). 
0509-026 System error: A file or directory in the path name does not 
exist. 
0509-022 Cannot load module 
/opt/IBM/InformationServer/Server/DSComponents/bin/orchdb2op.o. 
0509-150 Dependent module 
/opt/IBM/InformationServer/Server/DSComponents/bin/orchdb2op.o could not
be loaded.


CAUSE
The LIBPATH/LD_LIBRARY_PATH environment variable is missing references to the DB2 libraries on the server that is referenced in the error message. In the above example, the message indicates "node_DB2Node1". 

Example of Datastage configuration file:


 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 

RESOLVING THE PROBLEM
The LIBPATH/LD_LIBRARY_PATH environment variable is missing references to the DB2 libraries on the server that is referenced in the error message.. 


The following steps should be followed to address this issue:

1. Obtain the db2 library path information for the both your DB2 Client and DB2 Server:

NOTE: You can get the name of your DB2 installation path, by executing the following commands:

>su - <db2instance>
>db2level 

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * /opt/IBM/db2_client/V9
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * /opt/IBM/db2/V9
 * 


2. Update the LIBPATH/LD_LIBRARY_PATH in your dsenv to include the DB2 libraries as appropriate. 
 * 
 * :/opt/IBM/db2_client/V9/lib64:/opt/IBM/db2/V9/lib64
 * 
 * 
 * -or-
 * 
 * 
 * 
 * 
 * 
 * :/opt/IBM/db2_client/V9/lib32:/opt/IBM/db2/V9/lib32 



3. Restart DataStage to pick up the LIBPATH/LD_LIBRARY_PATH changes made in the dsenv. 
4. Re-run your DB2 Enterprise Stage job to validate that it runs successfully. 

If still failing and you need assistance from IBM Support for resolution, please provide the following: 
 * 
 * 
 * 
 * 
 * 
 * 
 *