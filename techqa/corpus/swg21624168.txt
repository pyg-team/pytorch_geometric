Title: IBM Case Manager Client is unresponsive if WebSphere Deployment Manager is offline or non-responsive. - United States

Text:
KnowledgeCollection; TroubleshootingGuideDocument; FAQCollection TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IBM Case Manager Client can be unresponsive if WebSphere Deployment Manager is offline or non-responsive. 

SYMPTOM
After logging into IBM Case Manager Client, when it is loading the Solution space for the user, the application can become unresponsive. This situation occurs if IBM Case Manager is deployed in a Network Deployment and the WebSphere Deployment Manager is offline or non-responsive. 

In the IBM WebSphere application server logs, you see the following exception: 

 [12/22/12 6:07:11:390 CST] 00000034 ControllerSer I WebDav support is ENABLED
[12/22/12 6:07:11:437 CST] 00000034 E com.ibm.mm.was.core.admin.WASAdminClient getAdminClient(boolean) Exception caught invoking getDeploymentManagerAdminClient: com.ibm.websphere.management.exception.ConnectorNotAvailableException 

If the following runtime tracing is enabled: com.ibm.mm.*=all, you will get the following error messages in the trace.log:


 [12/22/12 6:07:11:421 CST] 00000034 admin > com.ibm.mm.was.core.admin.WASAdminClient getAdminClient ENTRY false
[12/22/12 6:07:11:437 CST] 00000034 E com.ibm.mm.was.core.admin.WASAdminClient getAdminClient(boolean) Exception caught invoking getDeploymentManagerAdminClient: com.ibm.websphere.management.exception.ConnectorNotAvailableException
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R com.ibm.websphere.management.exception.AdminException: com.ibm.websphere.management.exception.ConnectorNotAvailableException
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.ws.management.AdminServiceImpl.getDeploymentManagerAdminClient(AdminServiceImpl.java:1839)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.was.core.admin.WASAdminClient.getAdminClient(WASAdminClient.java:103)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.was.core.admin.WASAdminService.addAppManagementNotificationFilter(WASAdminService.java:94)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.was.core.admin.WASAdminService.addAppManagementNotificationFilter(WASAdminService.java:81)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.was.core.admin.WarWidgetsTracker$1.run(WarWidgetsTracker.java:129)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.ws.security.auth.ContextManagerImpl.runAs(ContextManagerImpl.java:4678)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.ws.security.auth.ContextManagerImpl.runAsSystem(ContextManagerImpl.java:4766)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.ws.security.core.SecurityContext.runAsSystem(SecurityContext.java:255)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.was.core.admin.WarWidgetsTracker.start(WarWidgetsTracker.java:124)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.was.core.admin.WarWidgetsTracker.getInstance(WarWidgetsTracker.java:177)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.was.core.internal.theme.WARThemeProvider.getAllThemes(WARThemeProvider.java:70)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.server.persistence.theme.ThemeSkinHomeImpl.getAllThemes(ThemeSkinHomeImpl.java:63)
[12/22/12 6:07:11:437 CST] 00000034 SystemErr R at com.ibm.mm.server.model.theme.persist.ThemeModelPersistenceHandlerImpl.loadThemeModel(ThemeModelPersistenceHandlerImpl.java:142)



CAUSE
IBM Case Manager Client, after a user logs in, tries to load a Solution space for the user. The Solution space consist of a theme, which is loaded by the Business Space framework. When loading the theme, Business Space, using Mashup libraries, will try to contact the Deployment Manager in order to look up the WebSphere Application Server instance. 


If the Deployment Manager is slow in responding, or not available, the Mashup libraries will time out, resulting in errors with Business Space, and ultimately prevent IBM Case Manager Client from loading the Solution space. 


ENVIRONMENT
This issue occurs only when IBM Case Manager Client is deployed in Network Deployment for WebSphere.



DIAGNOSING THE PROBLEM
Review the SystemOut.log on the deployed node for IBM Case Manager Client, to see if the following exception is logged. 

 [12/22/12 6:07:11:390 CST] 00000034 ControllerSer I WebDav support is ENABLED
[12/22/12 6:07:11:437 CST] 00000034 E com.ibm.mm.was.core.admin.WASAdminClient getAdminClient(boolean) Exception caught invoking getDeploymentManagerAdminClient: com.ibm.websphere.management.exception.ConnectorNotAvailableException 

 

Also enable additional WebSphere trace by configuring com.ibm.mm.*=all.



RESOLVING THE PROBLEM
This is being tracked by IBM Business Space APAR [http://www.ibm.com/support/docview.wss?uid=swg1JR45648] JR45648.