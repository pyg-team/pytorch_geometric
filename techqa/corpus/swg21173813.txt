Title: IBM Can WebSphere MQ convert Unicode data on AIX - United States

Text:
mqminfo AMQ6047 Data Conversion UNICODE 437 1208 UTF-8 iconv TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are running WebSphere MQ on AIX and exchanging data with a system such as Windows, iSeries or zSeries which stores data in another code page. 

You have noticed that WebSphere MQ on AIX is unable to convert Unicode messages exchanged with these systems. 

SYMPTOM
When WebSphere MQ tries to convert Unicode messages exchanged with the remote system it writes message "AMQ6047: Conversion not supported" to its error logs. 

The explanation reads, "WebSphere MQ is unable to convert string data tagged in CCSID 1208 to CCSID 437". On your system you may see different CCSID numbers like 037, 437, 500, 850, or 1200.


CAUSE
The AIX converter between Unicode and the other character set is not installed on your system.


RESOLVING THE PROBLEM
WebSphere MQ relies on the AIX base operating system to perform data conversion on its behalf. In order to support Unicode conversion AIX provides several optional filesets, including: 

 * 
 * 
 * AIX LPPs for Unicode data conversion
 * bos.iconv.ucs.baltic Unicode Converters for Baltic Countries
   bos.iconv.ucs.com Unicode Converters for AIX Code Sets/Fonts
   bos.iconv.ucs.ebcdic Unicode Converters for EBCDIC Code Sets
   bos.iconv.ucs.pc Unicode Converters for Additional PC Code Sets
   bos.iconv.ucs.ZH_CN Unicode Converters for Simplified Chinese (UTF)
   bos.iconv.ucs.Zh_CN Unicode Converters for Simplified Chinese (GBK)
   


 

Use the lslpp command to list the LPPs on your system and see whether any of these filesets are missing. In the example below, the system only has the Unicode converters for AIX code sets: 

 * 
 * 
 * Check installed Unicode data conversion LPPs
 * sh> lslpp -L "bos.iconv.ucs.*"
   Fileset Level State Type Description (Uninstaller)
   ----------------------------------------------------------------------------
   bos.iconv.ucs.com 6.1.7.0 C F Unicode Base Converters for
   AIX Code Sets/Fonts
   
   


You should install missing filesets from the AIX operating system installation media if you need to convert data to and from Unicode on your system. Once the filesets are installed you can use the AIX iconv program to test the data conversion. For example, the following commands test conversion between Unicode (UTF-8) and CCSID 437 (IBM-437) using a text file: 

 * 
 * 
 * AIX Unicode data conversion test
 * sh> iconv -f IBM-437 -t UTF-8 ascii.txt > unicode.txt
   
   sh> iconv -f UTF-8 -t IBM-437 unicode.txt > ascii.txt
   


If the converters are installed, the iconv command should convert the file contents. If not, the iconv command will print an error like "iconv: 0791-004 cannot open converter", and WebSphere MQ will also be unable to convert data.

RELATED INFORMATION
#A Japanese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21646866]


 

HISTORICAL NUMBER
 62726 4GV 

PRODUCT ALIAS/SYNONYM
 WMQ MQ