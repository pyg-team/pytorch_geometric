Title: IBM IV23883: UPON DOMAIN CREATION OR STARTUP SOME RESOURCES ARE SET "CONTROL=UNDEFINED" WHICH PROPAGATES TO RG LEVEL - United States

Text:
  DIRECT LINKS TO FIXES
3.2.2-TIV-SAMP-Windows-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+System+Automation+for+Multiplatforms&fixids=3.2.2-TIV-ITSAMP-Windows-FP0009&source=SAR]
3.2.2-TIV-SAMP-Windows-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+System+Automation+for+Multiplatforms&fixids=3.2.2-TIV-SAMP-Windows-FP0009&source=SAR]
3.2.2-TIV-SAMP-Solaris-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+System+Automation+for+Multiplatforms&fixids=3.2.2-TIV-ITSAMP-Solaris-FP0009&source=SAR]
3.2.2-TIV-SAMP-AIX-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+System+Automation+for+Multiplatforms&fixids=3.2.2-TIV-ITSAMP-AIX-FP0009&source=SAR]
3.2.2-TIV-SAMP-Linux-FP0009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+System+Automation+for+Multiplatforms&fixids=3.2.2-TIV-ITSAMP-Linux-FP0009&source=SAR]
3.2.2-TIV-ITSAMP-FP0008, Tivoli System Automation for Multiplatforms [http://www-01.ibm.com/support/docview.wss?uid=swg24036701]
3.2.2-TIV-ITSAMP-FP0009, Tivoli System Automation for Multiplatforms [http://www-01.ibm.com/support/docview.wss?uid=swg24040187]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  BE Engineer:    CJ
   L3 Engineer:    EJ
   
   TSAMP: 3.2.1.2+
   
   Problem Description:  When the domain is started or a  newly
   created IBM.RecoveryRM queries all resources during resource
   validation.  During this process some resources could go into a
   status of "Control=Undefined" which then propagates up to the
   RG level so the RG status is the same.  This is not an issue
   after the master role for IBM.RecoveryRM switches due to global
   registration being enabled by default for Purescale
   environments (OperationalFlags=8152) so only happens during the
   initial resource validation period after domain startup or
   creation.
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Tivoli System Automation for Multiplatforms
   * users
   ****************************************************************
   * PROBLEM DESCRIPTION:
   * When the domain was started the IBM.RecoveryRM queried all
   * resources during resource validation. During this process some
   * resources did go into a status of "Control=Undefined", which
   * then propagated up to the RG level so the RG status is the
   * same.
   * This was caused by a hang with the IBM.GblResRM command thread
   * and prevented the IBM.RecoveryRM from finishing the resource
   * validation, leaving the resource groups with Control=Undefined
   * as it could not retrieve all required resource information,
   * like StartCommandTimeout, nor OpState.
   * The probability for this hang situation is very low and within
   * DB2 pureScale environments it can only happen during initial
   * domain start, because afterwards there is no further resource
   * validation since the global resource subscription is enabed
   * (OperationalFlags=8152).
   * The situation can be cleared by either restarting the hanging
   * IBM.GblResRM, or stopping and restarting the entire domain.
   ****************************************************************
   * RECOMMENDATION:
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The internal handling of the IBM.GblResRM has been adjusted to
   correct the issue. Now the root cause for the hang of the RMC
   command thread has been eliminated, and the resource validation
   initiated by the IBM.RecoveryRM can succeed.
   .
   The official fix will be included in fixpack 3 of Tivoli System
   Automation for Multiplatforms 3.2.2
   | 3.2.2-TIV-ITSAMP-FP0003 |
   .
   Additional Search Keywords
   .
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV23883
   
   
 * REPORTED COMPONENT NAME
   SA MULTIPLATFOR
   
   
 * REPORTED COMPONENT ID
   5724M0000
   
   
 * REPORTED RELEASE
   321
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-06-27
   
   
 * CLOSED DATE
   2012-08-03
   
   
 * LAST MODIFIED DATE
   2012-08-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   SA MULTIPLATFOR
   
   
 * FIXED COMPONENT ID
   5724M0000
   
   

APPLICABLE COMPONENT LEVELS
 * R322 PSY
   UP