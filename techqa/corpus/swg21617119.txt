Title: IBM Extended agent for Oracle, Configuration in cluster environment - United States

Text:
5724V09ORTR TECHNOTE (FAQ)

QUESTION
 How should ITCAM Extended monitoring agent for Oracle be configured, in a high availability cluster environment, such as HACMP, so that agent will automatically start on the active node during node failover? 

ANSWER
For a non-RAC cluster environment such as HACMP, following configuration steps are recommended so that the failover starts the agent on active node of the cluster: 

Step 1. There are two possibilities of agent install location, shared disk or non-shared disk on the two nodes. 

- If the Extended agent for Oracle is installed in local non-shared disk on each node of the cluster then configure the agent with same instance name separately, and then update the rz_<instance>.config file in all nodes as per step 2. 

- If the Extended agent for Oracle is installed in a shared disk location of the cluster environment then make a copy of ITM/config/<active_hostname>_rz_<instance>.cfg and rename it to <standby_hostname>_rz_<instance>.cfg. 

This will allow the agent start up script to find the configuration file on the failover node when the switch occurs and the agent will start successfully. 

Step 2. Add following line in the ITM/config/rz_<instance>.config file: 
export CTIRA_HOSTNAME=cluster_name 

This will cause the agent to show under cluster_name in TEP navigation instead of under individual node host names. 

Step 3. Add the Oracle agent process (service) to the group of Oracle database services in the failover management tool.