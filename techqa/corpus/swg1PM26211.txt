Title: IBM PM26211: CSQX541E CSQXRESP INVALID CCSIDS FOR DATA CONVERSION, 500 1208 FOR CHANNEL - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS UNREPRODUCIBLE IN NEXT RELEASE.
    
   
   

ERROR DESCRIPTION
 *  CSQX541E ;QIX1 CSQXRESP Invalid CCSIDs for data conversion, 500
   and 1208 for channel SYSTEM.BKR.CONFIG is received because
   client has set the FAP level in the "ID" TSH to x'FF'.
   The code currently treats the FapLevel field in the TSH
   ID section as a signed field so the FAP Level is assumed to be
   10. This results in an attempt to convert the data in the
   ProductIdentifier field of the TSH. As this conversion is
   invalid CSQATRAN sets CSQA_CONVERTED_BUFFER_TOO_BIG. This non-
   zero return code is reported as rrcE_INVALID_CCSID. A FFST
   results and the SVRCONN channel is terminated.
   
   
    
   
   

LOCAL FIX
 *  Deploy an uplevel client (and java/JMS) version.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS Version 7 *
   *                 Release 0 Modification 0 connecting using    *
   *                 WebSphere MQ java clients prior to Version 6 *
   ****************************************************************
   * PROBLEM DESCRIPTION: When connecting to a queue manager      *
   *                      using a java client earlier than        *
   *                      Version 6 (for example, the java client *
   *                      libraries shipped with WebSphere        *
   *                      Application Server V6.0.2), the client  *
   *                      connection may fail due to a conversion *
   *                      error reported by 'CSQX541E INVALID     *
   *                      CCSIDS FOR DATA CONVERSION, 500 1208    *
   *                      for CHANNEL xxxx'                       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When a client connects to the queue manager the capabilities of
   the connection are negotiated between the client and the server.
   When using java clients prior to Version 6 the client initially
   provides an invalid FAP level to the chinit.
   The chinit does not handle this value correctly, leading to an
   attempt to convert residual storage. If this conversion fails
   the channel terminates with CSQX541E.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  The code has been changed to detect the invalid FAP level and
   skip the conversion attempt.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PM26211
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   000
   
   
 * STATUS
   CLOSED UR1
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-11-08
   
   
 * CLOSED DATE
   2011-01-17
   
   
 * LAST MODIFIED DATE
   2011-03-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PM14021 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM14021]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK63981
   
   

MODULES/MACROS
 *  CMQXRMCV CSQXRMSA
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R000 PSY UK63981 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK63981]
   UP11/02/06 P F102
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.