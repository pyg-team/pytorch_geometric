Title: IBM The Accept user tokens Bootstrap Settings in will not stay set to the Yes value. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After following the Configuring WebSphere Application Server to support user tokens and WebDAV connections for FileNet WorkplaceXT installation procedure in P8 5.1 Infocenter document the Accept user tokens Bootstrap Settings in FileNet Workplace XT will not stay set to the Yes value. 

CAUSE
An incorrect value in the taskman.login.config file is causing a java.lang.ArrayIndexOutOfBoundsException when saving Site Preferences.

ENVIRONMENT
FileNet Workplace XT, WebSphere Application Server

DIAGNOSING THE PROBLEM
Check the WebSphere Application Server's SystemOut.log file located in 


install_root/profiles/<profile-name>/logs/<server-name> directory for an exception similar to:

[2/15/12 11:41:05:670 CST] 00000013 SystemOut O 2012-02-15 11:41:05,654 ERROR [WebContainer : 0] - Error when saving taskman.login.config.
java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 2
at com.filenet.wcm.apps.server.ui.info.prefs.PrefSiteGeneralInfoPage.updateTaskmanLoginConfigFile(PrefSiteGeneralInfoPage.java:1077)
at com.filenet.wcm.apps.server.ui.info.prefs.PrefSiteGeneralInfoPage.panelFinish(PrefSiteGeneralInfoPage.java:1264)
at com.filenet.wcm.apps.server.ui.WcmInfoModule.applyModifiedPanels(WcmInfoModule.java:488)
at com.filenet.wcm.apps.server.ui.WcmInfoModule.apply(WcmInfoModule.java:454)
at com.filenet.wcm.apps.server.ui.info.prefs.PrefSiteInfo.apply(PrefSiteInfo.java:187)
at com.filenet.wcm.apps.server.ui.WcmInfoModule.onApply(WcmInfoModule.java:445)




RESOLVING THE PROBLEM
 

Modify the routerurl="xxxx" in the taskman.login.config file to the value of the Process Engine Connection Point 


 1. Open FileNet WorkplaceXT Site Preferences General page and write down the current selected value for the Process Engine Connection Point. 
    
    
 2. Open the taskman.login.config file in a editor.
    
    Windows: C:\Program Files(x86)\IBM\FileNet\WebClient\Router\taskman.login.config
    UNIX: /opt/IBM/FileNet/WebClient/Router/taskman.login.config 
    
    
 3. For the routerurl property in the CELogin section, enter in the same value currently selected for the Process Engine Connection Point from step 1. Be sure to preserve the quotation marks as shown in the example below where xxxx is the Connection point value. 
    
    CELogin 
    { 
    filenet.vw.server.VWLoginModule required routerurl="xxxx"; com.filenet.wcm.toolkit.server.operations.util.CELoginModule 
    required credTag=Clear; 
    filenet.contentops.ceoperations.util.CELoginModule required 
    credTag=Clear; 
    }; 
    
    
 4. Save the taskman.login.config file. 

RELATED INFORMATION
 Configuring Webdav documentation [http://publib.boulder.ibm.com/infocenter/p8docs/v5r1m0/topic/com.ibm.p8.installingxt.doc/wxtip018.htm]