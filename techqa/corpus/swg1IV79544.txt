Title: IBM IV79544: PROBLEM APPLYING SLAS WITH CALENDAR CALCUATIONS - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Problem Detail:
   We are experimenting problems with sccd applying SLAs with
   Calendar
   calcuations to SR's,, Incidents and Problems. We have created a
   calendar
   named Tel_2015 and set up a shift pattern with working perionds
   of 8:00
   - 17:00 for it. We have associated this calendar to many of our
   SLAs but
   happens that when we apply an sla to a ticket, it will
   calculate the
   time starting at 3am, instead of 8am as is set on the Calendar
   shift
   patter. This happens with Problems, SR's and Incidents. We need
   your
   help to check why is SCCD on Cloud (V7.5.4) showing this
   behavior. We
   have made a laboratory with a local Smart Cloud Control Desk V
   7.5.3 and
   with the same configuration of calendars, SLA the calculations
   work
   fine.
   PERFORMANCE ISSUE:  NO
   STEPS TO REPRODUCE:
   Machines I used to test:
    env 7540        machine1
    env 7513        machine2
   To be consistent I made sure , In Maximo, under default
   information,
   Time Zone on all three machine was America/Bogota. Later I
   tried all
   three machines with US-EST time Zone.
   ------------------------------
    machine1 (7540)
   ------------------------------
   create CALENDAR: TEL_2015
   Start 8/1/2015 ends 12/31/2015
   Create SHIFT:DIURNO:
   ------------------------------
   StartDay: SUNDAY
   Mon 8 - 17 9hr : Break 1hr 12-13
   Tue 8 - 17 9hr : Break 1hr 12-13
   Wed 8 - 17 9hr : Break 1hr 12-13
   Thu 8 - 17 9hr : Break 1hr 12-13
   Fri 8 - 17 9hr : Break 1hr 12-13
   ------------------------------
   Create SLA
   S1041 (active)
   -Ranking: 1
   -Type: Customer
   -Applies: Problem
   -Calculation Calendar:
     Organization for Calc Calendar: TEL
     Calc Calendar:TEL_2015
     Calc Shift:DIURNO
   -Commitments
    1037
    Value 30
    Type  Resolution
    Unit  Days
   Now go to problem 1427
   Reported Date: 8/31/15 16:43:00
   Now  apply SLA,
   Target Finish: 10/13/15 03:00:00
   This is the problem WHY we are getting 03:00:00 in "Target
   Finish" ?
   CURRENT ERRONEOUS RESULT:
   Target finish is calculated wrong, its always 03:00
   EXPECTED RESULT:
   SLA, every calculation is done based on seconds (considering
   the SLA
   commitment) for math purposes then it's converted back to
   dates, so you
   cannot take 1 day strictly as the number implies. Instead we
   must
   follow this calculation path:
   1) First we need to figure out the total seconds for the
   commitment, in
   our example it's 1 day for resolution.
       1 (day) x 24 (number of hours a day has) x 60 (total of
   minutes an
   hour has) x 60 (total os seconds a minute has) = 86400 (total of
   seconds 1 day has)
   2) Then we need to figure out the total of seconds for the work
   hours
   per day, in our example it's 9 hours.
       9 (number of work hours per day) x 60 (total of minutes as
   hour
   has) x 60 (total os seconds a minute has) = 32400 (total of
   seconds the
   working hours per day has)
   3) And then we need to divide that total of seconds the 1 day
   of the
   commitment has by the total of seconds the working hours a work
   day has
       86400 / 32400 = 2.6 (2 days and 6 hours, based on the SLA
   commitment)
       So 2.6 is the number of days the SLA will add to the Target
   Finish
   (for SLA Hold, not used by this customer), following the
   Calendar and
   Shift (that means, if the Calendar does not consider weekend
   days -
   Saturday and Sunday - those dates will be skipped.
   Taking the Reported Date (11/30/15 08:01:15) from the ticket
   and adding
   2.6 days (2 days and 6 hours) will take us directly to the date
   we're
   seeing in Target Finish (12/02/15 14:01:15). I'll show you:
   11/30/15 08:01:15 + 2 days = 12/02/15 08:01:15 (we're still in
   the
   middle of the week, no weekends to be skipped)
   12/02/15 08:01:15 + 6 hours = 12/02/15 14:01:15 (final Target
   Finish)
   ADDITIONAL INFO:
   ENVIRONMENT:
   - SCCD: 7540
   - TPAE: 7.5.0.7 Build 20141017-1600
   - OS  : Linux 2.6.32-573.7.1.el6.x86_64
   - DB  : DB2/LINUXX8664 10.5 (SQL10053)
   - Base Language: ENGLISH
   - Additional Language: N/A
   - Browser:  IE/FF and version  IE9. IE10, FF38
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  PROBLEM APPLYING SLAS WITH CALENDAR CALCUATIONS
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR will be available in ICD 7.5.3.1 and
   7.6.0.1
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV79544
   
   
 * REPORTED COMPONENT NAME
   CONTROL DESK/SC
   
   
 * REPORTED COMPONENT ID
   5725E2400
   
   
 * REPORTED RELEASE
   753
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-12-08
   
   
 * CLOSED DATE
   2015-12-15
   
   
 * LAST MODIFIED DATE
   2016-10-26
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CONTROL DESK/SC
   
   
 * FIXED COMPONENT ID
   5725E2400
   
   

APPLICABLE COMPONENT LEVELS