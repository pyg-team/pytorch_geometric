Title: IBM IV10403: JOBMON HANG AFTER THE CLUSTER FAILOVER. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Problem Description:
   Even after the cluster failover, jobmon.exe keeps running
   up on the primary node with high CPU usage.
   
   Environment:
   Win2k8 R2 MSFC
   TWS(FTA) V8.5.1 FP02
   
   Recreation Scenario:
   1) Log in with the Cluster Management User.
   2) Start "Failover cluster management".
   3) Select the "ITWSWorkstation" group in "Services and
   applications" in the left side of the screen.
   4) Check that the status of all resources in the group
   is "ONLINE".
   5) Right click the group name and select "Move this
   service or application to another node".
   6) Administrator logs in, and opens "Task Manager" and
   click "Process" tab.
   7) After failover, both jobmon.exe on the primary node
   and jobmon.exe on the standby node are running at the same
   time.And Jobmon.exe on the primary node keeps high CPU usage.
   
   The problem happens also in case that the customer tries
   to fail back from the standby node to the primary node
   in the same way.
   
   L3 found that Jobmon is hanging because while it is
   stopping and trying to clean its internal status,
    an error accessing mailbox.msg file occurs due to
   the failover procedure: the error is not correctly
   managed and it leads to an hang in jobmon process.
   
   
    
   
   

LOCAL FIX
 *  The problem does not happen if you set the status of
   the the nodes "OFFLINE" before selecting
   "Move this service or application to another node"
   with "Failover cluster management" tool.
   
   
    
   
   

PROBLEM SUMMARY
 *  Even after the cluster failover, jobmon.exe keeps running
   
    up on the primary node with high CPU usage.
   Jobmon is hanging because while it is
    stopping and trying to clean its internal status,
     an error accessing mailbox.msg file occurs due to
    the failover procedure: the error is not correctly
    managed and it leads to an hang in jobmon process.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This apar will be fixed in
    8.4.0-TIV-TWS-FP0007, 8.5.0-TIV-TWS-FP0004,
   8.5.1-TIV-TWS-FP0003, 8.6.0-TIV-TWS-FP0001
   
   
    
   
   

TEMPORARY FIX
 *  See local fix
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV10403
   
   
 * REPORTED COMPONENT NAME
   TIV WKLD SCHDL
   
   
 * REPORTED COMPONENT ID
   5698WKB85
   
   
 * REPORTED RELEASE
   885
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-11-09
   
   
 * CLOSED DATE
   2011-11-18
   
   
 * LAST MODIFIED DATE
   2011-11-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TIV WKLD SCHDL
   
   
 * FIXED COMPONENT ID
   5698WKB85
   
   

APPLICABLE COMPONENT LEVELS
 * R8L5 PSY
   UP