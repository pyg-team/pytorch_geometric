Title: IBM Enabling logging for Stand-Alone IBM Daeja ViewONE Virtual - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How do you enable IBM Daeja ViewONE Virtual logging for a stand-alone installation? 

ANSWER
With a stand-alone installation of the viewer logging is enabled in two different areas depending on the logs you have been requested to obtain. 

With IBM Daeja ViewONE Virtual generally both sets of logs (client and server) will be requested for the same reproduction. Please check the times match on both logs to make it easier for the support representative to trace the issue from start to finish. 

Once the logging has been added as described below you will need to restart the web application for these to be detected.

Enabling the client side traces 

The Client logging can be obtained from the "shift+t " window which is detailed further down this TechNote. 

Enabling debug tracing is done by adding additional parameters to the HTML page that runs the viewer. 

Using the simplest example of this page (in an HTML format) it would look like:

<!DOCTYPE html>
<HTML>

<script type="text/javascript"src="../v1files/viewone.js">

</script>
<OBJECT CLASS = "com.ibm.dv.client.Viewer"
ID = "viewone"
WIDTH = "900"
HEIGHT = "900">

<param name="trace" value="true">
<param name="tracenet" value="true">
<param name="tracefilter" value="true">

</OBJECT>

</HTML>>

This example includes three of the standard trace parameters which are typically required but this does vary depending on the issue you are trying to resolve.

You may have integrated the viewer using JSP files or some other method but the above information should be able to be applied by the integration team.

Enabling the server side traces and log file location

There are two server components to the viewer which you may need to gather the logging for (streamer or redaction).

All the logging is added for these components using the viewone.properties file.

The properties file is generally located in \webapps\viewone\WEB-INF (depending on webapp name)

viewone.properties

By default the viewone.properties file looks like this:

logfile=WEB-INF/viewone.log
modifiedDocumentCheckMethod=uniqueid

As you can see the log file is already specified.

The traces take the following format:

trace=true
tracefilter=true
tracenet=true

So you would end up with the following in your viewer.properties file:

logfile=WEB-INF/viewone.log
modifiedDocumentCheckMethod=uniqueid
trace=true
tracefilter=true
tracenet=true

Please note that in the server side logging properties file, the log file location can be specified as relative to the root of the application or an absolute path can be used.

logFile=c:\\streamer\\streamer.log
logFile=WEB-INF/viewone.log

Please note that any backslashes (\) should be entered as a double backslash.

Once all logging has been enabled please restart the web application for the viewer.
Please recreate the issue once the web application has been restarted.
Please copy the log from the specified location.
You may see more that one log file which are numbered.
Please supply all these logs.

Shift+t console

The shift+t console has several purposes but for this note it is important for two reasons.
You can verify the client side logging has been added and you can obtain the "Log Console" (Client console).
This next section will discuss both of these reasons.

Load the viewer and reproduce the issue:
[/support/docview.wss?uid=swg21989269&aid=1] [/support/docview.wss?uid=swg21989269&aid=1]

With the focus on the viewer hold the "shift" button on your keyboard and press the letter t.
You should see the three tabs across the top.

[/support/docview.wss?uid=swg21989269&aid=2] [/support/docview.wss?uid=swg21989269&aid=2] 

The "Viewer Settings" tab we have all the viewer parameters that have been specified to the client. 

This is the first place you can see if the client side tracing has been enabled correctly. 

[/support/docview.wss?uid=swg21989269&aid=3] [/support/docview.wss?uid=swg21989269&aid=3]

Under the "Trace Settings" tab.
This is the second place to confirm the tracing has been enabled for the client correctly.
[/support/docview.wss?uid=swg21989269&aid=4] [/support/docview.wss?uid=swg21989269&aid=4]
It is generally recommended that you add the client tracing as described above rather then via this shift+t window, since just ticking the boxes on this page only enables the traces for this viewer session and cannot be enabled prior to start up so any annotation load, viewer startup or document load issue may well have occurred prior to you being able to enable them here.

You can see the button labelled "Log Console", Click this button.
This will open a new tab in your browser that shows the client logging.
At the bottom of this page you will see two buttons.
[/support/docview.wss?uid=swg21989269&amp;aid=5]
PLEASE DO NOT CLEAR THE CLIENT LOG UNLESS INSTRUCTED as this will delete all your reproduction steps up to this point.
Use the "Download Log" button. You should see a standard browser open/save dialog. 
Please save this log.

Your support representative should confirm the logging and traces that will be required.

Some logging will increase the load on your server so these should only be enabled when required and disabled once the issue is resolved to your satisfaction.

Please zip up all requested logging prior to delivery to IBM.