Title: IBM PM42712: bpeconfig.jacl doesn't set the schema qualifier for the WebSphere scheduler it creates - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When using the bpeconfig.jacl script to configure Business
   Process Choreographer, and specifying a non-empty value for the
   database schema name, this schema name will not be set for the
   WebSphere scheduler configuration that is created for Business
   Process Choreographer. This results in the following exception
   in SystemOut.log when starting the server:
   
   [6/21/10 16:04:57:520 CEST] 0000001c ExceptionUtil E
   CNTR0020E: EJB threw an unexpected (non-declared) exception
   during invocation of method "createScheduledItem" on bean
   "BeanId(TaskContainer_fmtc7090Node01_Servlets_Server01#taskejb.j
   ar#TaskServiceManagerBean, null)". Exception data:
   com.ibm.task.core.SchedulerError: CWTKE0001E: An error occurred
   when setting up the scheduler.
   com.ibm.websphere.scheduler.SchedulerNotAvailableException:
   SCHD0124E: Unable to initialize TaskStore due to error:
   SCHD0046E: The table SCHED_TREG in datasource jdbc/BPEDB used by
   scheduler resource BPEScheduler (BPEScheduler) is missing or is
   not accessible.
           at
   com.ibm.ws.scheduler.SchedulerImpl.initialize(SchedulerImpl.java
   :411)
           at
   com.ibm.ws.scheduler.SchedulerImpl.access$100(SchedulerImpl.java
   :171)
           at
   com.ibm.ws.scheduler.SchedulerImpl$1.run(SchedulerImpl.java:621)
           at
   java.security.AccessController.doPrivileged(AccessController.jav
   a:241)
           at
   com.ibm.ws.scheduler.SchedulerImpl.updateOrCreate(SchedulerImpl.
   java:604)
           at
   com.ibm.ws.scheduler.SchedulerImpl.create(SchedulerImpl.java:565
   )
   
   
    
   
   

LOCAL FIX
 *  If you already have Business Process Choreographer configured
   follow these steps to fix up the configuration:
   
   1. In the admin console, go to Resources > JDBC > Business
   Integration Data Sources.
   
   2. Locate the data source with JNDI Name "jdbc/BPEDB" on the
   appropriate scope and note the value in the "Schema" column.
   
   3. In the admin console, go to Resources > Schedulers
   
   4. Select the scheduler named "BPEScheduler" on the appropriate
   scope.
   
   5. Change the "Table prefix" attribute to "<dbSchema>.SCHED_"
   where <dbSchema> is the schema name noted in step 2.
   
   6. Save your changes and in a network deployment environment
   synchronize the configuration changes with the managed nodes.
   
   7. Re-start the application server or cluster members where
   Business Process Choreographer is configured.
   
   
    
   
   

PROBLEM SUMMARY
 *  When using the bpeconfig.jacl script to configure Business
   Process Choreographer, and specifying a non-empty value for the
   database schema name, this schema name will not be set for the
   WebSphere scheduler configuration that is created for Business
   Process Choreographer.
   
   Apply this interim fix before using bpeconfig.jacl to configure
   Busines Process Choreograhper or Business Process Archive
   Manager.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem fixed.
   Fix will be included in V6204.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM42712
   
   
 * REPORTED COMPONENT NAME
   WEB PROC SRVR F
   
   
 * REPORTED COMPONENT ID
   5655N5300
   
   
 * REPORTED RELEASE
   620
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-06-29
   
   
 * CLOSED DATE
   2011-12-22
   
   
 * LAST MODIFIED DATE
   2015-04-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PM42409
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEB PROC SRVR F
   
   
 * FIXED COMPONENT ID
   5655N5300
   
   

APPLICABLE COMPONENT LEVELS
 * R620 PSY
   UP