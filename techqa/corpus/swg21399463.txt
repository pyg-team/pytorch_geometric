Title: IBM Content Collector Web Application fails with  java.lang.NoClassDefFoundError. - United States

Text:
FEM; ICC TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The IBM Content Collector for File Systems fails with java.lang.NoClassDefFoundError when trying to do a retrieve or search. FileNet P8 Content Engine 4.5 is used as the archive repository. 

SYMPTOM
The following error can be seen from the web application log. 

For example, in <Content Collector installDir>\WebApplication\afu\logs\trace.log : 

[2009-09-01] [12:13:40.116] 32 WebContainer : 0 SEVERE
java.lang.NoClassDefFoundError: 
com.filenet.api.exception.EngineRuntimeException


CAUSE
The FileNet APIs are not installed correctly.


ENVIRONMENT
IBM Content Collector with FileNet P8 Content Engine 4.5 as the archive repository.



DIAGNOSING THE PROBLEM
The validation of the configuration web services is successful and P8 connector is correctly chosen for the web application. 



RESOLVING THE PROBLEM
In FileNet P8 4.5, API is no longer installed as part of the FileNet Enterprise Manager installation. If you have already installed the FileNet Enterprise Manager 4.5, perform the following steps to resolve the problem: 

 1. Install the FileNet Content Engine Client 4.5. Select the option for "Other Applications." 
 2. In <Content Collector installDir>\WebApplication, modify the file afu_ewas_install.bat and change FNCEPATH to point to the path of the newly installed FileNet Content Engine Client 4.5. Save the file. 
 3. From the same directory, run afu_ewas_uninstall.bat 
 4. Next, run afu_ewas_install.bat. 
 5. In the Content Collector configuration manager, check to make sure all parameters are filled in correctly under Email Service > Web Application and Email Service > Configuration web service. 
 6. Restart the Content Collector web application service. 
 7. Update the description of the configuration web service in Content Collector configuration manager. Save the changes. Configuration web service will be restarted automatically.