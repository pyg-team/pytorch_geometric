Title: IBM Security Directory Suite 801 - Troubleshooting topics - United States

Text:
 QUESTION/ANSWER

QUESTION
What are the newly added troubleshooting topics for IBM Security Directory Suite 8.0.1 Virtual Appliance Troubleshooting Guide?

CAUSE
There are few topics added to existing troubleshooting topics of IBM Security Directory Suite 8.0.1 Virtual Appliance that are not currently available in the IBM Knowledge Center database.

ANSWER
New troubleshooting topics:

PROBLEM : HOW TO USE AN ADMIN ACCOUNT THAT IS NOT CN=ROOT TO ENGAGE THE SCIM INTERFACE IN SDS VIRTUAL APPLIANCE?
Solution:
We can achieve it by mapping any user name with cn=root admin of ldap and use it while accessing SCIM interface.
Steps:
1. Login to SDS Virtual Appliance LMI and go to Configure Directory Suite --> Advanced Configuration --> Update Property --> All properties
Click on SCIM Service Property Files option and Select SCIM.properties file.
2. Add New Property to Set mapTenantNames = true
3. Also add new properties to define any user to map to existing cn=root (or admin user of LDAP) as
newadmin.access = all
newadmin.ldapName = cn=root
newadmin.password = <new_admin_password>
newadmin.ldapPassword = <Password_for_cn=root>
4. Restart the SCIM service from LMI dashboard
5. Access SCIM interface link :
https://<SDS_VA_IP_OR_HOSTNAME>:8070/USERS
and provide the username as "newadmin" and password that was set in <new_admin_password> field for newadmin.password property.
Reference:
https://www.ibm.com/support/knowledgecenter/en/SSCQGF_7.2.0.1/com.ibm.IBMDI.doc_7.2.0.1/scimauthentication.html

PROBLEM : HOW TO AVOID GLGUP1012E EVENTS IN SDS VIRTUAL APPLIANCE?
The virtual appliance periodically logs GLGUP1012E System Events.
The following message is logged in the Monitor --> Logs --> Event Logs page of the SDS virtual appliance LMI:
GLGUP1012E An attempt to download the primary update catalog has failed. Common
causes of this failure are not having a license installed and DNS errors.

Cause:
There is a periodic check, even if the virtual appliance is configured not to connect over the internet.

Solution:
Follow these steps to prevent this message from being logged:
1 In the virtual appliance dashboard,
select Manage --> System settings --> Advanced Tuning Parameters.
2 In the Advanced Tuning Parameters panel, click New.
3 Create the update.disable.remote.discovery key and set 1 as its value.

With update.disable.remote.discovery set to 1 (true), the appliance no longer searches the Internet for updates.

PROBLEM : ERRORS WHILE TAKING SNAPSHOT ON SDS VIRTUAL APPLIANCE.
We can see following errors while taking Snapshot on SDS Virtual Appliance.
From Virtual Appliance LMI it can give – “System Error “
And
From CLI it can give error as:
sdsva.example.com >snapshots> create
Unexpected error

Cause:
Most probable reason could be the Virtual Appliance's Disk is full.
While taking snapshot, monitor the Disk usage from LMI. Before it gives error notice if there is any "High Disk Usage" message on Dashboard.
Check the free space on Disk usage tab. If it is very low, the snapshot creation might fail.

Solution:
Free some disk by:
1. Cleaning logs from LMI --> Configure Directory Suite --> Advanced Configuration --> Custom File Management --> CustomOut --> archived_logs.
2. Clean core dumps (if any) from LMI --> Manage --> Maintenance --> Core dumps
If not able to clean enough space, then it is advisable to create new SDS Virtual Machine with the help of previous snapshots and Database backup taken periodically.

PROBLEM : HOW TO USE DIAGNOSTIC TOOLS ON SDS VIRTUAL APPLIANCE LMI?
Diagnostic tools that capture and record details about how the program operates. The information can help locate the product or component from which an error originates.
Logs:
The virtual appliance records system events during specific transactions. Log files contain levels of information about the product processes. Log files also include information about other software that is used to complete a task. Use the information in log files to help isolate and debug system problems.
Traces:
Trace data provides in-depth processing information to help you focus on a particular area that you suspect is causing a problem. Trace data is more complex and detailed than message data.

To view the virtual appliance event log, see the event logs:
System events are logged when the system settings are changed and when problems occur with the system. Use the Event Log management page to view and to export system events on your network.
Procedure:
==> From the top-level menu of the Appliance Dashboard, click Monitor --> Logs --> Event Log. The Event Log page displays system events in the System Events tab.
==> From the System Events tab, do one of the following actions.
Click Pause Live Streaming to stop the live updating of the event log.
Click Start Live Streaming to resume live updating of the event log.
Click Export to download the displayed event log data to a CSV file.
Note: The default file name is export.csv.

For information about viewing and configuring component-specific and virtual appliance log and trace files as well as SDS logs please review below link:
https://www.ibm.com/support/knowledgecenter/en/SS3Q78_8.0.0/com.ibm.IBMDS.doc_8.0.0/ds_ag_va_mgmt_log_files.html