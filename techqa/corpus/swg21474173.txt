Title: IBM There is no currently active transaction error in IBM InfoSphere Information Server - United States

Text:
was; websphere application server TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The error may be encountered when trying to log in to IBM WebSphere Console after services tier installation and/or during installation of engine tier.

The login to Web Console fails with the error: 

Commit attempt failed (There is no currently active transaction)

Note: the same error message will display during engine installation.


SystemOut.log contains: 

com.ascential.xmeta.exception.ServiceException: Error when executing query: 
* SQLException during execution of sql-statement:
* sql statement was 'SELECT A0.name_xmeta FROM service_ASBService7643c6b5 A0 WHERE A0.name_xmeta LIKE 'LoggingQueryTaskExecution' ESCAPE '\''
* Exception message is [[IBM][Oracle JDBC Driver][Oracle]ORA-01425: escape character must be character string of length 1] 

CAUSE
This is a known issue in Oracle 10g: 

(Bug 9689594 - ORA-1425 using binds in ESCAPE clause of a LIKE predicate [ID 9689594.8] and it is resolved in 11gR2 Fixpack 2 (11.2.0.2)

If you are not using Oracle 10g, the Oracle database/repository may not be configured with correct UTF characterset (AL32UTF8).


DIAGNOSING THE PROBLEM
In order to identify the NLS_CHARACTER_SET defined in the Oracle database, issue the following statement: 

select * from nls_characterset_parameters;



RESOLVING THE PROBLEM
For Oracle 10g, set Oracle CURSOR_SHARING to EXACT or upgrade Oracle client to 11gR2 Fixpack 2 (11.2.0.2). 

 

For Oracle 11g, if the NLS_CHARACTER_SET is not AL32UTF8, contact your Oracle DBA for assistance. 

 

If the characterset is set correctly, you may need to upgrade the Oracle version. Please contact your Oracle DBA for assistance.