Title: IBM Use isamchk  - Sterling Gentran:Server for UNIX - United States

Text:
STERLINGPRI TECHNOTE (FAQ)

QUESTION
 How do you use isamchk? 

ANSWER
Follow these steps: 

 1. cd $EDI_ROOT/mysql/var/GENTRAN_SAP 
 2. To see the invocation screen for isamchk command, run:
    ../../bin/isamchk
    


The results show all of the possible parameters for running isamchk. isamchk [OPTIONS] tables.[ISM]
-a --analyze Analyze distribution of keys. Will make some joins in MySQL faster.
-#, --debug=... Output debug log. Often this is 'd:t:o,filename'<BR>-d, --description Prints some information about table.
-e, --extend-check Check the table very thoroughly. If you do not use this option isamchk can only be 99% sure that a table is ok
-f, --force Overwrite old temporary files. If one uses -f when checking tables (running isamchk without -r), isamchk will automatically restart with -r on any wrong table.
-?, --help Display this help and exit.<BR>-i, --information Print statistic information about table that is checked
-k, --keys-used=# Used with '-r', Tell ISAM to update only the first # keys. This can be used to get 
faster inserts!
-l, --no-symlinks Do not follow symbolic links when repairing. Normally isamchk repairs the table a symlink points at.
-q, --quick Used with -r to get a faster repair. (The data file is not touched.) You can give a second '-q' to force use of old datafile.
-r, --recover Can fix almost anything except unique keys that aren't unique.
-o, --safe-recover Uses old type recovering; Slower than '-r' but can handle a couple of cases that '-r' can handle.
-O, --set-variable var=option Change the value of an variable.
-s, --silent Only print errors. One can use two -s to get isamchk very silent
-S, --sort-index Sort index blocks. This speeds up 'read-next' in applications
-R, --sort-records=# Sort records according to an index. This makes your data much more localized and may speed up things (It may be VERY slow to do a sort the first time!)
-u, --unpack Unpack file packed with pack_isam.
-v, --verbose Print more information. This can be used with -d and -e. Use many -v for more verbosity!
-V, --version Print version and exit.
-w, --wait Wait if table is locked. 

Possible variables to opion --set-variable (-O)) are:
keybuffer current value: 520192
readbuffer current value: 262136
writebuffer current value: 262136
sortbuffer current value: 2097144
sort_key_bocks current value: 16
decode_bits current value: 9

 

HISTORICAL NUMBER
 PRI4970
SCI34368