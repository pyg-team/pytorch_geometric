Title: IBM Using the same WSDL with multiple web service proxies - United States

Text:
datapower; Multiple Web Service Proxies; Web Service Proxy; ws-proxy; wsdl; doc; 7993; 9004; 9235 machine type 7993; machine type 9235; machine type 9004 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You have attached the same WSDL to multiple web service proxies (WS-Proxies) and now when a ?wsdl request is sent to one of the WS-Proxies, the WS-Proxy returns a WSDL based on the last configured or updated WS-Proxy. 

SYMPTOM
The soap address location defined in the returned WSDL is the address of the WS-Proxy that was most recently updated.


CAUSE
Once a WSDL is attached to a WS-Proxy, the IBM WebSphere DataPower device will maintain a global listing of that WSDL in memory. The WSDL's Front-side Handler port and URI are part of the global information maintained. If appropriate steps are not taken when attaching the same to multiple WS-Proxies or copying over a WS-Proxy from one domain to the other, there can be some configuration conflicts leading to unexpected behaviors of the WS-Proxy.

RESOLVING THE PROBLEM
To avoid these type of conflicts, make sure the URI or port on which the WSDL is being attached is different among the WS-Proxies. 

Follow these steps to copy a WS-Proxy from one domain into another. Assume you are copying over WS-Proxy_A in Domain_A into Domain_B : 

 1. Export WS-Proxy_A from Domain_A 
 2. Go back to Domain_A and modify WS-Proxy_A by changing the Front-side Handler port or URI. You can change the WS-Proxy_A Front-side Handler's IP address as well. This modification might help prevent any conflicts once WS-Proxy_A is imported into a different domain. 
 3. Switch to Domain_B and import WS-Proxy_A 
 4. Try to retrieve the WSDL from both domains using the ?wsdl request to see if the expected WSDL is returned.


Another approach is to: 

 1. Upload the WSDL file(s) fromDomain_A into Domain_B 
 2. Create a new WS-Proxy in Domain_B and attach the uploaded WSDL(s) on a different port or change the URI.