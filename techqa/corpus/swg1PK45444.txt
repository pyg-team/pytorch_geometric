Title: IBM PK45444: V10 TSO SPOC USER EXIT INTERFACE NOT WORKING PROPERLY - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Customer is attempting to use the TSO SPOC user exit interface.
   He reports the following problems:
   1) There is no obvious way to add a EXITPGM(name) parameter to
   invoke the exit.
   2) On entry he does a VGET for the variable EXITTYPE from the
   shared pool and it does not exist.
   3) Before returning from the exit, he sets RTC to a 1 character
   value of 8 and RSN to a one character value of 1 and puts
   RSN, RTC, and MSGTEXT to the shared pool and the command
   entered on the SPOC panel executes as normal.
   +
   The SPF log contains the following:
   - %DFSSPSRT HLQ(TFTPROD.RELEASEA) EXITPGM(COPESPOC)
   - %DFSSPSRT HLQ(TFTPROD.RELEASEA) EXITPGM(COPESPOC)
   - DFSSPOC EXITPGM(COPESPOC)
   - Original paramters:
   - > IMSPlex = PLEX1, ROUTE = IVPA
   - > COMMAND = DIS ACT ! ;
   - Rejected by user exit: COPESPOC
   - > IMSPlex = PLEX1, ROUTE = IVPA
   - > COMMAND = DIS ACT
   - > RETURN CODE = 8, REASON CODE = 0
   - ! > MESSAGE = &n bsp;
   - ALTLIB DEACTIVATE USER(CLIST)
   - ALTLIB DEACTIVATE APPLICATION(EXEC)
   +
   There is no message and the reason code is not valid.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All IMS V10 users of TSO SPOC with           *
   *                 a TSO SPOC command pre-submit exit.          *
   ****************************************************************
   * PROBLEM DESCRIPTION: Variables saved by the user exit are    *
   *                      not processed correctly by TSO SPOC.    *
   ****************************************************************
   * RECOMMENDATION: INSTALL CORRECTIVE SERVICE FOR APAR/PTF      *
   ****************************************************************
   There are problems related to the setup and
   processing of the variables shared by TSO SPOC and
   the command pre-submit user exit.
   
   1. EXITTYPE variable was not shared
   2. changes to ROUTE not honored
   3. the command is still issued after RTC=8
   4. The exits message was not in the log.
   
   
    
   
   

PROBLEM CONCLUSION
 *  AIDS: RIDS/UTIL RIDS/SYS SYS/UTIL
     DEP: NONE
     GEN:
   
   *** END IMS KEYWORDS ***
   This APAR changes the setup and processing of variables
   shared with the command pre-submit exit.
   
   Code changes:
   
   CSLULUE1 program
    - Initialize and VDEFINE EXITTYPE.
    - Process return code from CSLULCM3
    - on RCT=8, VGET variables
   
   CSLULCMD
    - consistent use of the new XMD pointer.
   
   CSLULRSP
    - displays exit MSGTEXT for user exit
   
   DFSSPSRT
    - accept EXITCMD and EXITPGM as parameters
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK45444
   
   
 * REPORTED COMPONENT NAME
   IMS V10
   
   
 * REPORTED COMPONENT ID
   5635A0100
   
   
 * REPORTED RELEASE
   010
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   YesSpecatt / New Function / Xsystem
   
   
 * SUBMITTED DATE
   2007-05-17
   
   
 * CLOSED DATE
   2007-07-29
   
   
 * LAST MODIFIED DATE
   2007-09-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK27745
   
   

MODULES/MACROS
 *  CSLM10   CSLM13   CSLULCMD CSLULRSP CSLULUE1
   DFSSPSRT
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   IMS V10
   
   
 * FIXED COMPONENT ID
   5635A0100
   
   

APPLICABLE COMPONENT LEVELS
 * R010 PSY UK27745 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK27745]
   UP07/08/07 P F708
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.