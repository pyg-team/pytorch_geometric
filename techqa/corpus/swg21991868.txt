Title: IBM What Does this message says "Mapping SSL error -5000 to 4176 [SSLHandshakeNoDone]"? - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM
What Does this message says "Mapping SSL error -5000 to 4176 [SSLHandshakeNoDone]"? 

[4674:000E-30C8] 09/13/2016 09:49:47.90 PM SSLProcessHandshakeMessage
Exit> Message: ServerHello (2) State: HandshakeServerHello (5) Key
Exchange: 15 Cipher: ECDHE_RSA_WITH_AES_128_GCM_SHA256 (0xC02F)
[4674:000E-30C8] 09/13/2016 09:49:47.90 PM SSLAdvanceHandshake Enter>
Processed: ServerHello (2) State: HandshakeServerHello (5)
[4674:000E-30C8] 09/13/2016 09:49:47.90 PM SSLAdvanceHandshake Exit>
State HandshakeCertificate (8)
[4674:000E-30C8] 09/13/2016 09:49:47.90 PM SSL_Handshake> After
handshake state = HandshakeCertificate (8); Status = -5000
[4674:000E-30C8] 09/13/2016 09:49:47.90 PM int_MapSSLError> Mapping SSL
error -5000 to 4176 [SSLHandshakeNoDone]


ENVIRONMENT
domino 8x, 85x, 9.0x



RESOLVING THE PROBLEM
The above debug output messages are controlled by these debugs from notes.ini. 



DEBUG_SSL_ALL=2

DEBUG_SSL_HANDSHAKE=2

DEBUG_SSL_CERT=2

So if you dont want to see data messages like the one above on the console, then the ini setting above must be removed from the notes.ini


If you say log says "Mapping SSL error -5000 to 4176 [SSLHandshakeNoDone]"

means there is something , somewhere in doing data transaction , there is 'error ' code -5000 to 4176 '


So this is not an error

"Mapping SSL error -5000 to 4176 [SSLHandshakeNoDone]

The TLS handshake is a state machine and this is debug data that describes the mapping of internal error codes between the layers of code, the state SSLHandshakeNoDone means that the TLS negotiation is not complete and there are still more negotiation to take place between the client and server. So its advised not to read/interpret this developer debug for the Domino TLS stack.

Few more points we need to consider on this are:

The ini settings above should never be set unless one is trying to debug TLS/SSL failures. Setting the debug ini settings can have significant performance impact on a server and should only be enabled if
there are TLS issues that need to be debugged.


Here is an example of seeing this debug message which shows this is just a informational message.

"Mapping SSL error -5000 to 4176 [SSLHandshakeNoDone]


Example:

Message in process/thread [5308:0016-249C] showing Mapping SSL error
-5000 to 4176 [SSLHandshakeNoDone], then we see a successfully completed
handshake

[5308:0016-249C] 09/22/2016 03:40:07.24 PM int_MapSSLError> Mapping SSL
error -5000 to 4176 [SSLHandshakeNoDone]

More negotiation taking place then completing successfully,

[5308:0016-249C] 09/22/2016 03:40:07.24 PM SSL_Handshake> TLS/SSL
Handshake completed successfully