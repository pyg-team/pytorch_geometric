Title: IBM Cannot access the console "The user UNAUTHENTICATED not granted required roles.." - United States

Text:
security mapping setup TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Message "The user UNAUTHENTICATED (unique ID: unauthenticated) was not granted any of the following required roles" when accessing the Rule Execution Server console. 

SYMPTOM
When you open the Rule Execution Server console, you are not prompted to log in. Instead, you get a message similar to the following one in the log, when you try to do anything in the console:

RoleBasedAuth A SECJ0305I: The role-based authorization check failed for admin-authz operation Discovery:getParent. The user UNAUTHENTICATED (unique ID: unauthenticated) was not granted any of the following required roles: deployer, operator, configurator, monitor, administrator, adminsecuritymanager, auditor.


A similar issue can happen when using the Decision Center console.


CAUSE
First, make sure that application security is enabled under Security > Global Security, as explained in the sections on configuring the Rule Execution Server or Decision Center consoles. For example: Operational Decision Manager V8.5.1 > Configuring > Configuring Operational Decision Manager on WebSphere Application Server > Configuring Rule Execution Server on WebSphere Application Server > Step 5: Activating security on WebSphere Application Server [http://pic.dhe.ibm.com/infocenter/dmanager/v8r5m1/topic/com.ibm.odm.distrib.config.was/config_ds_res_was8/tpc_was_activate_security.html].

Then, verify the group-to-role mapping of the Rule Execution Server application. Make sure that none of the groups that you use to log into the console (resAdministrators, resDeployers or resMonitors) is mapped to the "Everyone" special-subject, which grants access to the console to all, without a need to log in.

You can refer to section Network Deployment (All operating systems), Version 8.0 > Reference > Settings > Security role to user or group mapping [http://pic.dhe.ibm.com/infocenter/wasinfo/v8r0/topic/com.ibm.websphere.nd.multiplatform.doc/info/ae/ae/usec_tselugrad.html] of the WebSphere Application Server documentation for more information.


RESOLVING THE PROBLEM
The "Everyone" special-subject is not supported, because the console can only grant the required roles to log in to already authenticated user groups: 

 * resAdministrators, resDeployers or resMonitors, for Rule Execution Server 
 * rtsAdministrator, rtsConfigManager, rtsInstaller, andrtsUser for Decision Center


You must either map the role to specific users/groups as mentioned in our documentation, or choose the "ALL_AUTHENTICATED" special-subject to identify, for example, everyone as resMonitors once logged in.

RELATED INFORMATION
#Not granted any of the required roles [http://www.ibm.com/support/docview.wss?uid=swg21578192]