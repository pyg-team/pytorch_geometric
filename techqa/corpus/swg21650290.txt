Title: IBM What are the changes to clustering introduced in MQ 7.1, 7.5, 8.0 and 9.0? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 What are the changes to clustering introduced in WebSphere MQ 7.1, 7.5, 8.0 and 9.0? 

ANSWER
So far, no attributes or object changes related to clusters were done in MQ 9.0.
In WebSphere MQ 7.1, MQ 7.5, and MQ 8.0 the changes related to clustering are:

++ Section 1: New attributes for clustering objects 

For the whole list of new attributes, see corresponding technote:
http://www.ibm.com/support/docview.wss?uid=swg21620936 [http://www.ibm.com/support/docview.wss?uid=swg21620936]
New objects and new attributes for objects in WebSphere MQ 7.1, 7.5, 8.0 and 9.0

Object: Transmission Queues:
New attribute: CLCHNAME => New in 7.5
http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.adm.doc/q085330_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.adm.doc/q085330_.htm]
WebSphere MQ > Reference > Administration reference > MQSC reference > The MQSC commands
ALTER queues
CLCHNAME(channel name)
CLCHNAME is the generic name of the cluster-sender channels that use this queue as a transmission queue. The attribute specifies which cluster-sender channels send messages to a cluster-receiver channel from this cluster transmission queue.

Object: Cluster Receiver Channel (CLUSRCVR)
Object: Cluster Sender Channel (CLUSSDR) and Cluster Sender Channel (CLUSSDR)
New attribute: BATCHLIM => New in 7.1
http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.con.doc/q114230_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.con.doc/q114230_.htm]
WebSphere MQ > WebSphere MQ 8.0.0 > IBM MQ > Reference > Configuration reference > Channel attributes > Channel attributes in alphabetical order > 
Batch limit (BATCHLIM)
The limit, in kilobytes, of the amount of data that can be sent through a channel before taking a sync point. 

Object: Cluster Sender Channel (CLUSSDR) and Cluster Sender Channel (CLUSSDR)
New attribute: RESETSEQ => New in 7.1
http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.adm.doc/q086040_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.adm.doc/q086040_.htm]
WebSphere MQ > WebSphere MQ 8.0.0 > IBM MQ > Reference > Administration reference > MQSC reference > The MQSC commands > 
DISPLAY CHANNEL
RESETSEQ
Pending reset sequence number.
This is the sequence number from an outstanding request and it indicates a user RESET CHANNEL command request is outstanding.

Object: Cluster Sender Channel (CLUSSDR) and Cluster Sender Channel (CLUSSDR)
New attribute: USEDLQ => New in 7.1
http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.con.doc/q082280_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.con.doc/q082280_.htm]
WebSphere MQ > WebSphere MQ 8.0.0 > IBM MQ > Reference > Configuration reference > Channel attributes > Channel attributes in alphabetical order > 
Use Dead-Letter Queue (USEDLQ)
Determines whether the dead-letter queue is used when messages cannot be delivered by channels.

Object: Topic
New attribute: CLROUTE => New in 8.0
http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.adm.doc/q085770_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.ref.adm.doc/q085770_.htm]
WebSphere MQ 8.0.0 > WebSphere MQ > Reference > Administration reference > MQSC reference > The MQSC commands >
DEFINE TOPIC
CLROUTE - The routing behavior to use for topics in the cluster defined by the CLUSTER parameter.

++ Section 2: New attributes in DISPLAY QMGR for new or migrated queue managers

For the whole list of new attributes, see corresponding technote:
http://www.ibm.com/support/docview.wss?rs=171&uid=swg21578742 [http://www-01.ibm.com/support/docview.wss?rs=171&uid=swg21578742]
New WebSphere MQ 7.1, 7.5, 8.0 and 9.0 attributes in DISPLAY QMGR for new or migrated queue managers
[http://www.ibm.com/support/docview.wss?rs=171&uid=swg21578742]
Attribute DEFCLXQ (New in 7.5):
http://www.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.con.doc/q004790_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.con.doc/q004790_.htm]
IBM WebSphere MQ information center, Version 7.5 Operating Systems: UNIX, Linux, Windows
WebSphere MQ > Configuring > Configuring a queue manager cluster > Clustering: Best practices >
How to choose what type of cluster transmission queue to use 
From version 7.5 onwards, you can choose which cluster transmission queue is associated with a cluster-sender channel.
All cluster-sender channels are automatically associated with a separate cluster transmission queue. 
The queues are created by the queue manager from the model queue SYSTEM.CLUSTER.TRANSMIT.MODEL.QUEUE and named SYSTEM.CLUSTER.TRANSMIT.ChannelName. 
Select this alternative default option by setting the queue manager attribute DEFCLXQ to CHANNEL. 

Attribute PSCLUS (New in 7.1):
Controls whether this queue manager participates in publish subscribe activity across any clusters in which it is a member. No clustered topic objects can exist in any cluster when modifying from ENABLED to DISABLED.
http://www.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.ref.adm.doc/q086240_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.ref.adm.doc/q086240_.htm]
WebSphere MQ > Reference > Administration reference > MQSC reference > The MQSC commands
DISPLAY QMGR
PSCLUS
Controls whether this queue manager participates in publish subscribe activity across any clusters in which it is a member. No clustered topic objects can exist in any cluster when modifying from ENABLED to DISABLED.

++ Section 3: New SYSTEM queues related to clustering

For the whole list of new SYSTEM queues, see corresponding technote:
http://www.ibm.com/support/docview.wss?uid=swg21608033 [http://www.ibm.com/support/docview.wss?uid=swg21608033]
New SYSTEM queues added in WebSphere MQ 7.1, 7.5, 8.0 and 9.0

For MQ 7.5:
http://www.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.con.doc/q017380_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_7.5.0/com.ibm.mq.con.doc/q017380_.htm]
WebSphere MQ > Configuring > Configuring a queue manager cluster > Managing WebSphere MQ cluster >
Adding a queue manager to a cluster – separate transmission queues
Every time the queue manager creates a cluster-sender channel to send a message to a queue manager, it creates a cluster transmission queue. 
The transmission queue is used only by this cluster-sender channel. 
The transmission queue is permanent-dynamic. It is created from the model queue, SYSTEM.CLUSTER.TRANSMIT.MODEL.QUEUE, with the name SYSTEM.CLUSTER.TRANSMIT.ChannelName.

++ Section 4: Sample: Cluster Queue Monitoring sample program (AMQSCLM)

Starting with MQ 7.1:
http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.dev.doc/q024620_.htm [http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.dev.doc/q024620_.htm]
WebSphere MQ > Developing applications > Developing MQI applications with IBM MQ > Sample IBM MQ procedural programs > Sample procedural programs (platforms except z/OS) >
The Cluster Queue Monitoring sample program (AMQSCLM) 
This sample uses the built-in WebSphere® MQ cluster workload balancing features to direct messages to instances of queues that have consuming applications attached. This automatic direction prevents the build-up of messages on an instance of a cluster queue to which no consuming application is attached.

 



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM MQ 
PRODUCT ALIAS/SYNONYM
 WebSphere MQ WMQ