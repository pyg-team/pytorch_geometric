Title: IBM Inspecting inbound SSL traffic on an internal server - United States

Text:
Inbound SSL; internal server TECHNOTE (FAQ)

QUESTION
 My server is configured to use SSL Diffie-Hellman key exchange or session resumption, but XGS inbound SSL inspection doesn't support it. How can I still inspect that traffic? 

ANSWER
To protect an internal server for which you own the private key, you can configure inbound SSL inspection policy rules to decrypt and inspect traffic. The inbound SSL inspection feature does not support Diffie-Hellman key exchange or session resumption (session ID and session ticket). If you require either of these features, you can use the Man-in-the-Middle (MitM) technology supported by the Outbound SSL inspection policy to provide the protection to internal servers without additional configuration. 


Before you begin:
To enable the appliance to inspect encrypted connections, you must install an SSL Inspection license. For more information about licenses, see Installing a license [https://www.ibm.com/support/knowledgecenter/SSHLHV_5.3.1/com.ibm.alps.doc/tasks/alps_installing_a_license.htm] in the IBM Knowledge Center.
You must add the certificate and private key for the protected server. For more information about managing inbound SSL certificates, see Managing inbound SSL inspection certificates [https://www.ibm.com/support/knowledgecenter/SSHLHV_5.3.1/com.ibm.alps.doc/tasks/alps_managing_inbound_ssl_certificates.htm].


 1. In the Local Management Interface, click Manage > Advanced Tuning Parameters, and set tuning parameter alpsd.ssl.inverse to a value of 1. 
 2. Click Secure > Outbound SSL inspection policy. 
 3. Create a rule and make sure the internal servers are the Destination. 
 4. Select Any for the Source, and Inspect for the Action. 
 5. Delete any existing rules for inspecting the internal servers from the Inbound SSL Inspection policy.


Notes  1. This tuning parameter only applies to flows matching Outbound SSL policy. 
 2. The tuning parameter directly applies to the new SSL connections. The tuning parameter only takes effect for existing SSL connections after the current SSL session expires. 
 3. SSL Session resumption, including Session ID and Session Ticket is silently disabled by the appliance. There is no need to change the server side settings. 
 4. The appliance begins performing SSL MitM inspection to the inbound traffic when the tuning parameter is applied. MitM inspection is compute-intensive. Check for performance impacts. 
 5. Clear the session cache on servers after applying this tuning parameter. 
 6. Since firmware version 5.3.2.3, a tuning parameter alpsd.ssl.intercept.domains has been added to ISNP to force outbound SSL inspection on matched connections. See technote #1984078 [http://www-01.ibm.com/support/docview.wss?uid=swg21984078] for details.
    
    The SSL inspection will be abandoned when the TLS extension used by the internal server is not supported by the Outbound SSL inspection. Applying the tuning parameter alpsd.ssl.intercept.domains in comma separate format forces the matched connections to strip out the unsupported TLS extension in its clientHello message, allowing the connection to be inspected.





[/support/docview.wss?uid=swg21960119&aid=1] [https://ibm.biz/BdHdZx] [/support/docview.wss?uid=swg21960119&aid=2] [http://ibm.biz/InfraSecForumTechnote] [/support/docview.wss?uid=swg21960119&aid=3] [http://ibm.biz/SecSuptUTube] [/support/docview.wss?uid=swg21960119&aid=4] [http://ibm.biz/InfraSecFixes] [/support/docview.wss?uid=swg21960119&aid=5] [http://ibm.biz/FlexLicLogin] [/support/docview.wss?uid=swg21960119&aid=6] [http://ibm.biz/MyNotification] [/support/docview.wss?uid=swg21960119&aid=7] [http://ibm.biz/ContactSecSupport]