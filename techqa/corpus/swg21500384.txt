Title: IBM DataPower Web Service Proxy WSDL Source Location using a DNS Static Host or Host Alias for 127.0.0.1 is unable to retrieve WSDL file - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Why does an IBM WebSphere DataPower SOA Appliance Web Service Proxy show WSDL Status "ERROR" when using a DNS Static Host or Host Alias for 127.0.0.1 configured in the WSDL Source Location? 

CAUSE
If a DNS Static Host or Host Alias is configured to point to 127.0.0.1 and that is used within the Web Service Proxy configuration as the wsdl source-location, the Web Service Proxy configuration is unable to retrieve the WSDL file. 

 
This may result in the Web Service Proxy reporting the WSDL Status as "Error" and displaying the message: 

"There was an error while reading WSDL: '<URL>'" 

The logs may show: 

"Waiting for route to '<localhost>' to complete network dependent management event."
"The wsdl '<wsdl>' could not be parsed or failed validation." 




For example, if a local DataPower HTTP Service has been configured to serve a WSDL file and a DNS Static Host or Host Alias is set for 127.0.0.1, then a Web Service Proxy will be unable to retrieve the WSDL file if the WSDL Source Location uses the localhost DNS Static Host or Host Alias. 


This has been identified as a product defect under APAR IC76498. 


ANSWER
The fix for this issue has been targeted for a future unannounced firmware version, but there are several workarounds: 

 * Explicitly define the IP address as 127.0.0.1 in the WSDL Source Location instead of a DNS Static Host or Host Alias. 
 * Use an explicitly configured IP address on one of the interfaces in the DNS Static Host or Host Alias instead of 127.0.0.1 
 * Store the file in a local directory and use the file location similar to: local:///mylocal.wsdl instead of a "remote" protocol.