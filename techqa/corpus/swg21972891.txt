Title: IBM Error when Associating Objects - OP-00700 - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Error occurs the first time the user tries to associate some objects. When the user attempts the association again, it succeeds. 

SYMPTOM
The following error can be seen in the aurora.log:
java.sql.SQLSyntaxErrorException: ORA-01031: insufficient privileges
ORA-06512: at "SYS.DBMS_SESSION", line 114
ORA-06512: at "OPENPAGES.OP_CONTEXT_MGR", line 30
ORA-06512: at "OPENPAGES.OP_RPS_TRIANGLE_MGR", line 4353
ORA-06512: at "OPENPAGES.OP_RPS_TRIANGLE_MGR", line 4475
ORA-06512: at "OPENPAGES.OP_RPS_DML_MGR", line 2763
ORA-06512: at "OPENPAGES.OP_ASSOCIATION_MGR", line 311
ORA-06512: at "OPENPAGES.OP_ASSOCIATION_MGR", line 1452
ORA-06512: at line 1



CAUSE
Context mapping is missing from the Oracle database. As this is the first script that is run during an install/upgrade, most likely user forgot to run the script.

DIAGNOSING THE PROBLEM
Using sqlplus, log into the openpages schema and run:
select namespace, schema, package, type from dba_context;

If there is no NAMESPACE entry named OPX_SE_OPENPAGES and OPX_GE_OPENPAGES, then these need to be created.


[/support/docview.wss?uid=swg21972891&aid=1] [/support/docview.wss?uid=swg21972891&aid=1]



RESOLVING THE PROBLEM
Run the following statements via sqlplus as openpages:

create or replace context OPX_SE_OPENPAGES using OPENPAGES.op_context_mgr;
create or replace context OPX_GE_OPENPAGES using OPENPAGES.op_context_mgr accessed globally;