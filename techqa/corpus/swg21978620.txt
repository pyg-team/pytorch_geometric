Title: IBM di-preprocess utility terminates with the java.lang.ClassCastException: java.sql.SQLException incompatible with java.lang.ClassNotFoundException - United States

Text:
di-preprocess ClassCastException ClassNotFoundException TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to run the WebSphere Commerce di-preprocess utility on a toolkit installation with the Apache Derby database result in the following error: java.lang.ClassCastException: java.sql.SQLException incompatible with java.lang.ClassNotFoundException 

SYMPTOM
INFO: Data import pre-processing started:Tue Mar 08 11:32:28 EST 2016
Exception in thread "main" java.lang.ClassCastException: java.sql.SQLException incompatible with java.lang.ClassNotFoundException
at com.ibm.commerce.util.AllDBConnector.connectOrFail(AllDBConnector.java:1021)
at com.ibm.commerce.foundation.dataimport.util.DatabaseConnectionManager.openConnection(DatabaseConnectionManager.java:263)
at com.ibm.commerce.foundation.dataimport.util.DatabaseConnectionManager.getNewDatabaseConnection(DatabaseConnectionManager.java:485)
at com.ibm.commerce.foundation.dataimport.preprocess.DataImportPreProcessorMain.init(DataImportPreProcessorMain.java:593)
at com.ibm.commerce.foundation.dataimport.preprocess.DataImportPreProcessorMain.main(DataImportPreProcessorMain.java:262)


CAUSE
Running the di-preprocess utility when the WebSphere Commerce server is running exceeds the Derby database limitations.

RESOLVING THE PROBLEM
Stop the WebSphere Commerce server before running the di-preprocess utility. Using a DB2 or Oracle database instead of Derby would also prevent such an exception.