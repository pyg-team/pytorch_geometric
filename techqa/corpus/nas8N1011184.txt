Title: IBM Problem Installing Installation Manager - Error:  'Administrative Priviledges Required' - United States

Text:
IM; WAS TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document explains that despite using a user profile with *SECADM and *ALLOBJ special authority, Installation Manager will not install. The installation fails with a message stating 'Administrative Priviledges Required'. 

RESOLVING THE PROBLEM
This document explains that despite using a user profile with *SECADM and *ALLOBJ special authority, Installation Manager will not install. The installation fails with a message stating Administrative Priviledges Required. 

In order to install WebSphere Installation Manager on the IBM i, the following special authorities need to be explicitly granted to the user profile running the installation:

*SECADM
*ALLOBJ

Note: If these are part of a group profile, they will not be inherited.

However, despite the user having these authorities, the following errors are seen:

Installation Manager 1.4.4:

$
installc -acceptLicense -log /was8/im.install.log.txt
00:03.81 ERROR [main] com.ibm.cic.common.core.utils.NativeUtils isNativeAdministrator
Unexpected exception
java.lang.reflect.InvocationTargetException
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
at java.lang.reflect.Method.invoke(Method.java:611)
...
CRIMC1561031CE ERROR: Administrator privileges are required.
00:14.18 ERROR [main] com.ibm.cic.agent.internal.application.HeadlessApplication run
Administrator privileges are required.
$

Installation Manager 1.5.1:

$
installc -acceptLicense -log /was8/im.install.log.txt
00:05.23 ERROR [main] com.ibm.cic.common.core.utils.NativeUtils isNativeAdministrator
CRIMC1067E Unexpected exception
java.lang.reflect.InvocationTargetException
java.lang.reflect.InvocationTargetException
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37)
at java.lang.reflect.Method.invoke(Method.java:611)
...
CRIMC1018E ERROR: Administrator privileges are required.
00:05.45 ERROR [main] com.ibm.cic.agent.internal.application.HeadlessApplication run
CRIMC1018E Administrator privileges are required.
You started the Installation Manager in administrator mode, but you do not have the required administrator privileges. On Microsof
t Windows XP Professional, you must be a member of an administrator group. On Windows Vista, Windows 2008, and Windows 7, you must u
se the Run as administrator option. On Linux, UNIX, IBM i, and z/OS, you must have root privileges.
To use the Run as administrator option on Windows:
1. Right-click the executable icon.
2. Select Run as administrator.
3. Enter an administrator password when prompted for either an administrator password or a confirmation.
4. Click Continue.
$


Resolutions 

1. This has been caused by a CLASSPATH environment variable set in WRKENVVAR LEVEL(SYS) that had an old Java toolbox jar defined. This caused the installation code not to properly check the administrative privileges of the user profile. Once this environment variable was removed, the installation completed normally.

Note: This could also be caused by having a copy of jt400.jar in the default classpath location in the IFS ('/qibm/userdata/java400/ext'). 2. This can also be a very accurate message, so you should be sure to verify the user profile carefully. For example, you will receive the same error if:

User class . . . . . . . . . : *SECOFR
with 
Special authority . . . . . . . : *NONE

Instead, you must have:
Special authority . . . . . . . : *USRCLS  


Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 6.1 Operating System IBM i 7.1 
HISTORICAL NUMBER
 622857885