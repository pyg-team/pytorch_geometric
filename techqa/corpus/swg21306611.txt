Title: IBM Agent leaves .tmp files in user's %TEMP% directory for .retag and .bset commands - United States

Text:
tmp; temp; agent; AgentReadError; error 0 creating; .retag encountered an error during variable expansion; value 'Check_${BF_SERVER}_${BF_BID}' expanded to 'AgentReadError'; 1306611; PK67083; RATLC01066091; ifix03; ifix3; ifix 3; ifix 03; 7.0.2-ifix3; 7.0.2-ifix03 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote explains why the IBM® Rational® Build Forge® Agent processes leave behind files in the TEMP directory on Microsoft® Windows®. 

SYMPTOM
 

After a project run that performs a .bset or .retag, a number of 0-length files are left in the %TEMP% directory on the agent host.

Directory of C:\DOCUME~1\user\LOCALS~1\Temp

06/03/2008 03:04 PM 0 bf2A0.tmp
06/03/2008 03:04 PM 0 bf2A2.tmp
06/03/2008 03:05 PM 0 bf2A4.tmp
06/03/2008 03:05 PM 0 bf2A6.tmp
06/03/2008 03:05 PM 0 bf2AA.tmp
06/03/2008 03:05 PM 0 bf2AC.tmp
06/03/2008 03:05 PM 0 bf2AE.tmp
06/03/2008 03:05 PM 0 bf2B1.tmp
06/03/2008 03:06 PM 0 bf2B3.tmp

If these files build up for a while, they can lead to more severe agent failures due to Windows OS limitations, such as the following Agent error:

".retag encountered an error during variable expansion, value 'Check_${BF_SERVER}_${BF_BID}' expanded to 'AgentReadError'." 
command line error = "error 0 creating/accessing temporary file" 


CAUSE
 

This is a resolved defect against the Build Forge Agent, APAR PK67083.


RESOLVING THE PROBLEM
 

 

This defect, APAR PK67083 [http://www.ibm.com/support/docview.wss?uid=swg1PK67083], has been resolved in Build Forge iFix3 for version 7.0.2 [http://www.ibm.com/support/docview.wss?&rs=3099&uid=swg21254846]. The functionality now cleans up the files that are created in %TEMP%, but if this issue has already occurred, you will need to delete the files as detailed in the workaround. 

 

WORKAROUND: 

The upgrade prevents the problem from occurring, but it does not clean up files that have already been left in the %TEMP, and you will need to remove the files as detailed by this workaround. 

Delete all bf*.tmp files from %TEMP% on a regular basis. You may want to code a script to clear the %TEMP% directory on the agent host before or after each project run.