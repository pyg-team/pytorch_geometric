Title: IBM PK36846: The information center should not suggest that you set the EXTSHM environment entry to ON for the AIX operating system - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  The "Tuning AIX systems" and "Performing platform-specific
   tasks for JDBC access" topics in the Information Center for
   WebSphere Application Server Version 6.x need to be updated.
   These topics should not suggest that you set the EXTSHM
   environment entry to ON for the AIX operating system.
   
   
    
   
   

LOCAL FIX
 *  The technote at the following address describes the problem:
   http://www-1.ibm.com/support/docview.wss?uid=swg21054385 [http://www-1.ibm.com/support/docview.wss?uid=swg21054385]
   
   The information center will be updated to reflect this
   information.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  This APAR affects users who are reading     *
   *                  the documentation on tuning                 *
   *                  connections to DB2 databases with           *
   *                  WebSphere Application Server Version 6.x    *
   *                  on the AIX operating system.                *
   ****************************************************************
   * PROBLEM DESCRIPTION: The documentation for tuning AIX        *
   *                      operating systems that connect to DB2   *
   *                      databases states that you should set    *
   *                      the EXTSHM environment entry to "ON"    *
   *                      to enable better performance.           *
   *                      However, improvements to database       *
   *                      connectivity  have occurred so that     *
   *                      setting the EXTSHM environment entry to *
   *                      "ON" can cause performance              *
   *                      degradation.                            *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The "Tuning AIX systems" and "Performing platform-specific
   tasks for JDBC access" topics in the Information Center for
   WebSphere Application Server Version 6.x suggests that you
   should enable the EXTSHM environment entry and set it to "ON."
   
   Although this suggestion previously applied, improvements have
   been made in the product so that it is no longer suggested that
   you enable the EXTSHM environment entry to tune connections to
   DB2 databases. There are a number of alternative methods to
   configure your application serving environment to better
   connect AIX operating systems to DB2 databases. Enabling
   the EXTSHM environment entry might cause performance
   degradation rather than performance improvements.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The documentation has been updated to reflect the current
   suggestions for tuning AIX operating systems.
   
   In the topic "Tuning AIX systems," the section entitled
   "Allocating large pages (16 MB) for Java virtual machines
   heap" has been updated and now states the following
   information:
   
   Some applications require a very large heap for optimal
   performance. Reduce the CPU overhead of managing a large
   heap by using large page support that is provided by the
   CPU and the operating system. The following steps allocate
   4 GB of RAM as large pages (16 MB):
   
   1. As root user, run the following commands to reserve 4 GB
   of large page:
   vmo  -r  -o  lgpg_regions=256  -o lgpg_size=16777216
   bosboot  -ad  /dev/ipldevice
   reboot   -q
   
   2. After reboot, run the following command to enable large
   page support on the AIX operating system:
   vmo -p -o  v_pinshm=1
   
   3. As root user, add the following capabilities for the
   user:
   chuser  capabilities=CAP_BYPASS_RAC_VMM,CAP_PROPAGATE $USER
   
   4. Add the -Xlp Java options to the Java command.
   a. Click Servers > Application Servers > server_name.
   b. Under Server Infrastructure, click Java and Process
   Management > Process Definition > Java Virtual Machine.
   c. In the Generic JVM Argument field, add -Xlp.
   
   5. Add the EXTSHM environment entry and set the value to OFF.
   a. Click Servers > Application Servers > server_name.
   b. Under Server Infrastructure, click Java and Process
   Management > Process Definition > Environment Entries >
   New.
   c. In the Name field, enter EXTSHM.
   d. In the Value field, enter OFF.
   
   6. Validate large page support is used with the following
   command:
   vmstat  -l  1
   
   Note: The "alp" column is non-zero when the application is
   running.
   ---------------------------------------------------------
   The "Enable multiple session clients for local DB2 databases
   on AIX systems" section has been removed from the
   "Performing platform-specific tasks for JDBC access" topic.
   
   Date that information will be available externally to
   customers:
   The modified documentation will be available in the next
   update to the Information Centers, which is scheduled to
   occur on or before September 30, 2008.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK36846
   
   
 * REPORTED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * REPORTED COMPONENT ID
   5724J0800
   
   
 * REPORTED RELEASE
   61A
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-01-03
   
   
 * CLOSED DATE
   2008-06-11
   
   
 * LAST MODIFIED DATE
   2008-06-12
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS