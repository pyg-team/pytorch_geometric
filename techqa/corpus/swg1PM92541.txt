Title: IBM PM92541: DURING CF INSTALLATION LIBRARY IMPORTS WILL FAIL IF THE WCM APPL ICATION IS NOT RESTARTED - United States

Text:
  A FIX IS AVAILABLE
Fixes integrated in WebSphere Portal 8.0.0.1 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24034497]



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  During a CF installation, if the WCM application is not
   correctly restarted then any subsequent library imports (such
   as
   to import the content-templating libraries) will fail with the
   following message:
   
   run-wcm-admin-task:
   [echo] VirtualPortalContext =  , VirtualPortalHost =
   [echo] Initialized: host XXXXXX  vpContext
   [echo] To call ConfigModuleClient: host XXXXXX  vpContext
   [ConfigModuleClient] Connecting to login address:
   http://XXXXXX/wps/wcm/login [http://XXXXXX/wps/wcm/login]
   [ConfigModuleClient] Connecting to task address:
   http://XXXXXX/wps/wcm/myconnect?MOD=data&processLibraries=false& [http://XXXXXX/wps/wcm/myconnect?MOD=data&processLibraries=false&]
   
   taskType=import&input.dir=%2FWebSphere%2F1%2FAppServer%2Fprofile
   
   s%2Fdefault%2FConfigEngine%2Fconfig%2Fwork%2Fct_import%2Fweb+con
   
   tent+templates&importLibrary=%24%7Bimport.library%7D with user
   name: uid=WSADMIN,o=defaultWIMFileBasedRealm
   [ConfigModuleClient] No output will be shown while this task is
   running. Check the SystemOut.log for progress information.
   --- Exception Thrown ---
   /WebSphere/1/AppServer/PortalServer/wcm/prereq
   .wcm/config/includes/prereq.wcm_cfg.xml:3842: An exception
   occurred while executing the task: Header field 'Set-Cookie' is
   null. The login failed. Can not continue.
   at com.ibm.workplace.wcm.maintenance.module.ConfigModuleClient
   .execute(ConfigModuleClient.java:103)
   at org.apache.tools.ant.UnknownElement.execute(UnknownElement
   .java:275)
   at org.apache.tools.ant.Task.perform(Task.java:364)
   at org.apache.tools.ant.Target.execute(Target.java:341)
   
   Opened for release 8001
   
   
    
   
   

LOCAL FIX
 *  Manually start the WCM application and re-run the library import
   
   
    
   
   

PROBLEM SUMMARY
 *  During a CF installation, if the WCM application is not
   correctly restarted then any subsequent library imports (such
   as
   to import the content-templating libraries) will fail with the
   following message:
   
   run-wcm-admin-task:
   [echo] VirtualPortalContext =  , VirtualPortalHost =
   [echo] Initialized: host XXXXXX  vpContext
   [echo] To call ConfigModuleClient: host XXXXXX  vpContext
   [ConfigModuleClient] Connecting to login address:
   http://XXXXXX/wps/wcm/login [http://XXXXXX/wps/wcm/login]
   [ConfigModuleClient] Connecting to task address:
   http://XXXXXX/wps/wcm/myconnect?MOD=data&processLibraries=false& [http://XXXXXX/wps/wcm/myconnect?MOD=data&processLibraries=false&]
   
   taskType=import&input.dir=%2FWebSphere%2F1%2FAppServer%2Fprofile
   
   s%2Fdefault%2FConfigEngine%2Fconfig%2Fwork%2Fct_import%2Fweb+con
   
   tent+templates&importLibrary=%24%7Bimport.library%7D with user
   name: uid=WSADMIN,o=defaultWIMFileBasedRealm
   [ConfigModuleClient] No output will be shown while this task is
   running. Check the SystemOut.log for progress information.
   --- Exception Thrown ---
   /WebSphere/1/AppServer/PortalServer/wcm/prereq
   .wcm/config/includes/prereq.wcm_cfg.xml:3842: An exception
   occurred while executing the task: Header field 'Set-Cookie' is
   null. The login failed. Can not continue.
   at com.ibm.workplace.wcm.maintenance.module.ConfigModuleClient
   .execute(ConfigModuleClient.java:103)
   at org.apache.tools.ant.UnknownElement.execute(UnknownElement
   .java:275)
   at org.apache.tools.ant.Task.perform(Task.java:364)
   at org.apache.tools.ant.Target.execute(Target.java:341)
   
   Opened for release 8001
   
   
    
   
   

PROBLEM CONCLUSION
 *  Analysis: WCM was not ensuring that its application was started
   prior to importing any libraries at the end of a CF installation
   
   Solution: The CF installation process was modified to ensure
   that the wcm application was started prior to running any
   post-apply steps, the server-side ConfigModuleClient was also
   enhanced to improve its error reporting in the event of a
   failure
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM92541
   
   
 * REPORTED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * REPORTED COMPONENT ID
   5724I2901
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-07-08
   
   
 * CLOSED DATE
   2013-10-16
   
   
 * LAST MODIFIED DATE
   2013-10-16
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * FIXED COMPONENT ID
   5724I2901
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP