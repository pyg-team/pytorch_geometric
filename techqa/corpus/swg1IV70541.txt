Title: IBM IV70541: APPLICATION HANGS FOR USERS WHEN QBR REPORTS ARE CREATED AND SAVED. - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When a QBR report is created and saved, this causes the
   presentation cache to be reloaded, then results on the
   MAXLABELS being reloaded. This happens for all JVM's causing
   slow downs in the application resulting in user sessions
   hanging.
   
   Thread Dump:
   
   TP_http : 40817" J9VMThread:0x000000000541B800,
   j9thread_t:0x00007F2E6BEA0900,
   java/lang/Thread:0x00000007326BF8F0, state:CW, prio=5
   3XMJAVALTHREAD            (java/lang/Thread getId:0xD170,
   isDaemon:true)
   3XMTHREADINFO1            (native thread ID:0x7232, native
   priority:0x5, native policy:UNKNOWN)
   3XMTHREADINFO2            (native stack address range
   from:0x00007F2E47D3D000, to:0x00007F2E47D7E000, size:0x41000)
   3XMHEAPALLOC             Heap bytes allocated since last GC
   cycle=0 (0x0)
   3XMTHREADINFO3           Java callstack:
   4XESTACKTRACE                at
   oracle/jdbc/driver/NumberCommonAccessor.getBigDecimal(NumberComm
   onAccessor.java:3265)
   4XESTACKTRACE                at
   oracle/jdbc/driver/NumberCommonAccessor.getObject(NumberCommonAc
   cessor.java:4014(Compiled Code))
   4XESTACKTRACE                at
   oracle/jdbc/driver/T4CNumberAccessor.getObject(T4CNumberAccessor
   .java:410(Compiled Code))
   4XESTACKTRACE                at
   oracle/jdbc/driver/OracleResultSetImpl.getObject(OracleResultSet
   Impl.java:2347(Compiled Code))
   5XESTACKTRACE                   (entered lock:
   oracle/jdbc/driver/T4CConnection@0x00000007293BE998, entry
   count: 1)
   4XESTACKTRACE                at
   oracle/jdbc/driver/OracleResultSet.getObject(OracleResultSet.jav
   a:914(Compiled Code))
   4XESTACKTRACE                at
   psdi/mbo/MboSet.getNextRecordData(MboSet.java:3173(Compiled
   Code))
   4XESTACKTRACE                at
   psdi/mbo/MboSet.fetchMbosActual(MboSet.java:2697(Compiled Code))
   4XESTACKTRACE                at
   psdi/mbo/MboSet.fetchMbos(MboSet.java:2654(Compiled Code))
   4XESTACKTRACE                at
   psdi/mbo/MboSet.getMbo(MboSet.java:1936(Compiled Code))
   4XESTACKTRACE                at
   psdi/mbo/MboSet.moveNext(MboSet.java:1742(Compiled Code))
   4XESTACKTRACE                at
   psdi/webclient/system/controller/LabelCacheMgr.readLabelSetToCac
   he(LabelCacheMgr.java:227(Compiled Code))
   4XESTACKTRACE                at
   psdi/webclient/system/controller/LabelCacheMgr.loadSystemLabels(
   LabelCacheMgr.java:197)
   4XESTACKTRACE                at
   psdi/webclient/system/controller/LabelCacheMgr.getSystemLabelCac
   he(LabelCacheMgr.java:95(Compiled Code))
   5XESTACKTRACE                   (entered lock:
   psdi/webclient/system/controller/LabelCacheMgr@0x0000000704F7498
   0, entry count: 1)
   4XESTACKTRACE                at
   com/ibm/_jsp/_image._jspService(_image.java:486(Compiled Code))
   
   Maximo log from the same time as the thread dump and hang
   
   Refreshed library "replibrary".
   [CID-UIASYNC-476293] BMXAA6444I - Reloading PRESENTATION in
   Maximo cache.
   [3/4/15 8:13:32:290 EST] 0000ceed SystemOut     O Successfully
   imported REPLIBRARY application
   [CID-UIASYNC-476293] Correlated data: BEGIN UserId:MAXIMO
   AppName:wotrack UISessionId:4589 ElapsedTime:194564 ms  END
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * This performance problem would impact clients with a large   *
   * number of adhoc reports and multiple jvms.                   *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * APPLICATION HANGS FOR USERS WHEN QBR REPORTS ARE CREATED AND *
   * SAVED.                                                       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Fixed in Tpae 7.5.0.9 fix pack.                              *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Changed caching so that replibrary labels and presentation cache
   are only loaded when needed.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV70541
   
   
 * REPORTED COMPONENT NAME
   MAXIMO SYSTEMS
   
   
 * REPORTED COMPONENT ID
   5724R46AV
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-03-04
   
   
 * CLOSED DATE
   2015-04-10
   
   
 * LAST MODIFIED DATE
   2015-04-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  MAXIMO
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   MAXIMO SYSTEMS
   
   
 * FIXED COMPONENT ID
   5724R46AV
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP