Title: IBM IZ54195: BAD_PARAM:NULL PARAM(2) DURING META (TIMING ISSUE) - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Error Message: meta() callback request processing fails on the
   server with a BAD_PARAM exception, possibly after few fragments
   of the meta reply are sent to the peer.
   On the peer, a MARSHAL exception (org.omg.CORBA.MARSHAL:No
   available data) is logged.
   .
   Stack Trace: Server side log (where meta is being processed):
   org.omg.CORBA.BAD_PARAM: Null Param (2) - string  vmcid: IBM
   minor code: 202 completed: Maybe
    at
   com.ibm.rmi.iiop.CDROutputStream.write_string(CDROutputStream.ja
   va:970)
    at
   com.ibm.org.omg.CORBA.ValueMemberHelper.write(ValueMemberHelper.
   java:150)
    at
   com.ibm.org.omg.CORBA.ValueMemberSeqHelper.write(ValueMemberSeqH
   elper.java:96)
    at
   com.ibm.org.omg.CORBA.ValueDefPackage.FullValueDescriptionHelper
   .write(FullValueDescriptionHelper.java:206)
    at
   com.ibm.org.omg.SendingContext.CodeBase_Tie._invoke(CodeBase_Tie
   .java:108)
    at
   com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDe
   legate.java:621)
    at
   com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:4
   74)
    at com.ibm.rmi.iiop.ORB.process(ORB.java:503)
   meta reply processing on the client(which requested the meta)
   org.omg.CORBA.MARSHAL: No available data: Request 56:read beyond
   end of data. No fragments available.  vmcid: OMG  minor code: 8
   completed: Maybe
   at
   com.ibm.rmi.iiop.CDRInputStream.alignAndCheck(CDRInputStream.jav
   a:803)
   at
   com.ibm.rmi.iiop.CDRInputStream.readBytesForString(CDRInputStrea
   m.java:1033)
   at
   com.ibm.rmi.iiop.CDRInputStream.readStringOrIndirection(CDRInput
   Stream.java:1074)
   at
   com.ibm.rmi.iiop.CDRInputStream.read_string(CDRInputStream.java:
   1086)
   at
   com.ibm.org.omg.CORBA.ValueMemberHelper.read(ValueMemberHelper.j
   ava:136)
   ..
   .
   
   
    
   
   

LOCAL FIX
 *  Ensure that the meta callback is not triggered. This can be done
   by ensuring that the application class versions are the same on
   the server and the client
   
   
    
   
   

PROBLEM SUMMARY
 *  On the server side, the meta processing fails with the BAD_PARAM
   because of a timing issue wherein, the FVD class value is picked
   up before the state has been setup.This exception may be thrown
   after a few fragments of the meta reply have been pumped out.
   Consequently, on the client side, the meta reply processing
   begins and when fragments stop arriving (coinciding with the
   time of the BAD_PARAM on the server), the client's marshalling
   engine throws a MARSHAL:no available data.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This defect will be fixed in:
   5.0.0 SR11
   .
   The timing issue has been fixed on ORB marshalling engine.
   .
   To obtain the fix:
   Install build 20090812 or later
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ54195
   
   
 * REPORTED COMPONENT NAME
   JAVA 5 ORB
   
   
 * REPORTED COMPONENT ID
   620500123
   
   
 * REPORTED RELEASE
   500
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-07-01
   
   
 * CLOSED DATE
   2009-08-13
   
   
 * LAST MODIFIED DATE
   2009-08-13
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   JAVA 5 ORB
   
   
 * FIXED COMPONENT ID
   620500123
   
   

APPLICABLE COMPONENT LEVELS
 * R500 PSN
   UP