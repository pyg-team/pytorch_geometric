Title: IBM IIB Integration Server cannot be started - United States

Text:
IBM Integrated Bus; ibm integration bus; permission; BIP4512S; java.lang.ExceptionInInitializerError TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are using IBM Integration Bus 9.0 (IIB) and are trying to create and start an Integration Server (formerly known as an Execution Group). The Integration Server does not start and a BIP4512S error is logged in the error log, stating 'java.lang.ExceptionInInitializerError'. 

CAUSE
The Integration Node's working directory has incorrect permissions.
If you are using WebSphere Message Broker (WMB), this will be the broker's working directory.

DIAGNOSING THE PROBLEM
The complete error can be found in a start up trace of the Integration Server or in the stderr/console.out file for the particular Integration Server (or Execution Group). This can be found in the working path:
/MQSI_WORKPATH/components/<broker_name>/<executiongroup_uuid>/

java/lang/RuntimeException: default directory must be absolute
at sun/nio/fs/UnixFileSystem.<init> (UnixFileSystem.java:55)
at sun/nio/fs/AixFileSystem.<init> (AixFileSystem.java:42)
at sun/nio/fs/AixFileSystemProvider.newFileSystem(AixFileSystemProvider.java:42)
at sun/nio/fs/AixFileSystemProvider.newFileSystem(AixFileSystemProvider.java:35)
at sun/nio/fs/UnixFileSystemProvider.<init>(UnixFileSystemProvider.java:55)
at sun/nio/fs/AixFileSystemProvider.<init>(AixFileSystemProvider.java:37)
at java/lang/J9VMInternals.newInstanceImpl (Native Method)
at java/lang/Class.newInstance (Class.java:1600)


RESOLVING THE PROBLEM
Check and resolve any issues with the mount permissions of the Node/Broker's working directory.


Note: The permissions of the directory might not show any problems. However, the mount point permissions might still be too restrictive. 

 

Please follow these steps to resolve the problem: 

1. Stop all applications that are using these file systems:
/var/mqsi
/var/mqm
/opt/IBM/mqsi

2. Unmount the file systems. 
Note: If required, you may need to reboot the system into maintenance mode if you are unable to identify all the processes using the file systems and you are unable to unmount.

3. Once you have the file systems unmounted, run the commands:

chmod -R 777 /var/mqsi
chmod -R 777 /var/mqm
chmod -R 777 /opt/IBM/mqsi

4. Then remount the file systems, restart the applications. to see if they start correctly. 

 



Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere Message Broker Execution Group AIX, Linux, Windows, z/OS 7.0, 8.0 
PRODUCT ALIAS/SYNONYM
 WMB MB WebSphere Message Broker IBM Integration Bus IIB IBMIB MQ Integrator WBIMB WBI-MB MQSI WMQI