Title: IBM Connect:Direct Windows MySQL database crash caused by a specific search for statistics - United States

Text:
STERLINGNFX TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Connect:Direct Windows MySQL database crash caused by a specific search for statistics 

SYMPTOM


(1) A user had initiated a very large Select Statistics query from C:D Requester. The C:D server passes the query to the database, which starts returning a large amount of data into the C:D server.
(2) While waiting on the result, the user went into Properties and updated his search criteria. This in fact triggers another query and also caused the C:D Requester to crash (see below). There is no way to cancel a running query. Again, the C:D server passes the query to the database, which starts returning even more data.
(3) Possibly the user repeated these step or there are other queries running on the C:D server at the time.

Error Message The C:D server / ODBC client receives too much data from the database at the same time and finally is running out of resources to store the results (2 gigabyte). The C:D server shuts down with an ODBC error:
[S1T00][MySQL][ODBC 3.51 Driver][mysqld-5.0.86-enterprise-nt]MySQL client ran out of memory - Native Error 2008, Thread id 0x1c38;.


RESOLVING THE PROBLEM


In summary, the problem is caused by too much Select Statistics information requested at the same time.
The solution is to perform smaller and/or less Select Statistics queries at the same time, so that the C:D server does not get overloaded. This will also provide results more quickly to the user.

 

HISTORICAL NUMBER
 NFX8870 

PRODUCT ALIAS/SYNONYM
 

Function Area


Select Statistics


Escalation ID


00161985


Severity


Normal