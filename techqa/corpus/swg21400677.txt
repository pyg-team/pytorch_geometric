Title: IBM While installing or using JRules under UNIX the class sun/awt/motif/MToolkit is not found - United States

Text:
AWT; DISPLAY; MToolkit; UNIX; X server; java.lang.NoClassDefFoundError TECHNOTE (FAQ)

QUESTION
 While installing or using JRules under UNIX and the class sun/awt/motif/MToolkit is not found, how can I resolve it? 

ANSWER
If you receive an error similar to the following:

Error 500--Internal Server Error 

java.lang.NoClassDefFoundError: sun/awt/motif/MToolkit
at java.lang.Class.forName1(Native Method)
at java.lang.Class.forName(Class.java(Compiled Code))
at java.awt.Toolkit$2.run(Toolkit.java:796)
at java.security.AccessController.doPrivileged1(Native Method)
at java.security.AccessController.doPrivileged(AccessController.java(Compiled Code))
at java.awt.Toolkit.getDefaultToolkit(Toolkit.java:787)
...

This is due to the display environment. The Awt library requires an X server and a well-set DISPLAY variable to display a graphic object.

You can have this problem in several different cases, but it will occur when you try to display a graphic object. For example: 

 *  During JRules installation when running jrules.bin under Linux/Unix. This error will appear when JRules tries to launch the installer;
 *  Under the WebBuilder for JRules 5.1 or under the Rule Team Server for JRules 6 and above when you try to display a ruleflow.


You have several options to solve this problem. 
 * The first one is to set a valid DISPLAY. 
   
 * The best way to get rid of the problem is to use the headless mode by adding the following definition to the Java command line: 
   -Djava.awt.headless=true 
   
 * Another solution is to use an X virtual server such as Xvfb to emulate a display. 


You can find more information at the Sun website [http://java.sun.com/products/java-media/2D/reference/faqs/index.html] and especially the following FAQ: Q: I have an application that reads, writes, and processes images (but does not display them) using Java2D. When I run my application on Solaris or Linux, it complains that X11 is not available. What can I do to make my application work in this environment? [http://java.sun.com/products/java-media/2D/reference/faqs/index.html#Q_I_have_an_application_that_rea] 
 

Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Operational Decision Manager Platform Independent 7.5 Enterprise 
HISTORICAL NUMBER
 jrules/FAQ/230