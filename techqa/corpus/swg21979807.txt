Title: IBM Facing issue with Downward Acknowledgement on specific port in
Nokia Netact 3GPP V6 Probe server - United States

Text:
Acknowledgement; Nokia Netact 3GPP Probe; AckSystemId; Command Port TECHNOTE (FAQ)

QUESTION
 Downward Acknowledgement is not working and the command port should be in “LISTEN” state. 

ANSWER
For the Downward Acknowledgement, we have observed that Console Port (Probe command port) is getting released automatically over time. This is causing an issue for Downward Acknowledgement. The command port should be in “LISTEN” state.
Check the output of netstat –na | grep <commandport> 

For example, the CommandPort (6944) is listening while the probe is active, from the netstat output.

# netstat -na | grep 6944
tcp 0 0 :::6944 :::* LISTEN 

We need to confirm the alarm IDs and user IDs are valid because we can see issues with alarm acknowledge in the log.

Debug: D-JPR-000-000: [Command Port]
<ip address> read 'userid_acknowledge_alarm xxxxxxxxx xxxxxxxx''
2016-03-02T22:00:16: Debug: D-JPR-- D-JPR-000-000: NetcoolIRPManager:
Acknowledging AlarmID 'xxxxxxxxx'
Error: E-JPR-000-000: NetcoolIRPManager: Failed to
acknowledge_alarms() : ManagedGenericIRPSystem.InvalidParameter:
IDL:3gppsa5.org/ManagedGenericIRPSystem/InvalidParameter:1.0
Information: I-JPR-104-000: [stderr]
ManagedGenericIRPSystem.InvalidParameter:
IDL:3gppsa5.org/ManagedGenericIRPSystem/InvalidParameter:1.0
2016-03-02T22:00:16: Information: I-JPR-104-000: [stderr] at
ManagedGenericIRPSystem.InvalidParameterHelper.read(InvalidParameterHelp
er.java:73)
Information: I-JPR-104-000: [stderr] at
AlarmIRPSystem._AlarmIRPStub.acknowledge_alarms(_AlarmIRPStub.java:208)
2016-03-02T22:00:16: Information: I-JPR-104-000: [stderr] at
NetcoolIRPManager.acknowledge_alarm(NetcoolIRPManager.java:1064)
Information: I-JPR-104-000: [stderr] at
Generic3GPPProbe.acknowledge_alarm(Generic3GPPProbe.java:923)
Information: I-JPR-104-000: [stderr] at
com.ibm.probes.nokia.netact3gpp_v6.cli.HandleConnection.run(CommandPort.
java:320)

We need to check where are the missing alarm id , user id and why the exception is being thrown from the CORBA connection.

Alarm volume in Netcool will not affect the acknowledgement using Command Port.

We should check which of those is resulting in the ManagedGenericIRPSystem::InvalidParameter error. The userid is invalid, a system id needs to be configured, or the alarm ID is not in the system. It should be configured in the probe properties file as AckSystemId. The alarm id is not in the system it may be deleted in the netact EMS, so when user tried to acknowledge from OMNIbus, it is not matching.

 

HISTORICAL NUMBER
 30298
999
749