Title: IBM db2haicu error "IP address cannot live on the network" - United States

Text:
TSA; TSAMP; db2haicu; IBM.ServiceIP; VIP; SIP; cannot live TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Using db2haicu to configure DB2 for HADR in a TSAMP cluster to add the IBM.ServiceIP resource results in a error message.


SYMPTOM
Error message text: 

"The IP address 10.10.10.10 cannot be added to the cluster because the IP address cannot live on the network <network_name>"

The HADR database DB2_DB has been determined to be valid for high availability. However, the database cannot be added to the cluster from this node because db2haicu detected this node is the standby for the HADR database DB2_DB. Run db2haicu on the primary for the HADR database DB2_DB to configure the database for automated failover. The IP address 10.10.10.10 cannot be added to the cluster because the IP address cannot live on the network db2_db_public.


RESOLVING THE PROBLEM
One possible solution is that the IBM.ServiceIP (SIP) has already been created in the cluster so it cannot be added again, db2haicu is not smart enough to use the SIP should it already be created. You can check for the configured SIPs with the following command:
lsrsrc -Ap IBM.ServiceIP Name IPAddress 

 

If you see the IP Address listed from the above command you can delete it using the 'rmrsrc" command and then attempt to add it to the cluster with db2haicu again.