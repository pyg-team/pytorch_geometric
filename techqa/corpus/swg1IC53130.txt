Title: IBM IC53130: PURPOSE ATTRIBUTE VALIDATION CHANGE TO OPEN SSL CERTIFICATION CHECKING - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ for HP NonStop Server v5.3.1, Fix Pack 5.3.1.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24017102]
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.6 [http://www-01.ibm.com/support/docview.wss?uid=swg24025461]
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.7 [http://www-01.ibm.com/support/docview.wss?uid=swg24027369]
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.8 [http://www-01.ibm.com/support/docview.wss?uid=swg24030009]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Customer is trying to setup SSL on MQ5.3.1. efix04. Customer is
   getting following errors.
   AMQ9637: Channel is lacking a certificate.
   AMQ9665: SSL connection closed by remote end of channel.
   
   
    
   
   

LOCAL FIX
 *  Temporary fix sent to customer.
   
   
    
   
   

PROBLEM SUMMARY
 *   SSL channel fails to start with log message
   AMQ9637: Channel is lacking a certificate.
   EXPLANATION:
   The channel is lacking a certificate to use for the SSL
   handshake. The channel
   name is '????' (if '????' it is unknown at this stage in
   the SSL processing).
   The channel did not start.
   ACTION:
   Make sure the appropriate certificates are correctly
   configured in the key
   repositories for both ends of the channel.
   .
   AMQ9228: The TCP/IP responder program could not be started.
   EXPLANATION:
   An attempt was made to start an instance of the responder
   program, but theprogram was rejected.
   ACTION:
   The failure could be because either the subsystem has not been
   started (in thiscase you should start the subsystem), or there
   are too many programs waiting(in this case you should try to
   start the responder program later). The reason code was 0.
   
   
    
   
   

PROBLEM CONCLUSION
 *   WMQ rejects a cerificate whose X509
   'purpose' does match the usage. If a certificatehas a purpose
   of 'server only' and is used by a remote sender channel (client)
   thenWMQ HPNSS responder channels (SSL servers) would reject
   that certificate with"verify error:num=26:unsupported
   certificate purpose"
   .
   The queue manager error log contained the following messages
   when this conditionwas encountered:
     AMQ9637: Channel is lacking a certificate.
   .
   The channel communications library was revised to accept a
   mismatch of this kind. The channel will now be allowed to
   successfully start.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC53130
   
   
 * REPORTED COMPONENT NAME
   WEBS MQ NSS ITA
   
   
 * REPORTED COMPONENT ID
   5724A3902
   
   
 * REPORTED RELEASE
   531
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-07-02
   
   
 * CLOSED DATE
   2007-07-03
   
   
 * LAST MODIFIED DATE
   2007-07-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS MQ NSS ITA
   
   
 * FIXED COMPONENT ID
   5724A3902
   
   

APPLICABLE COMPONENT LEVELS
 * R530 PSY
   UP