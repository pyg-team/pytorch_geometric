Title: IBM WebSphere Portal 8.0.0.1 upgrade to CF13 fails during CONFIG-WP-PTF-CF task - United States

Text:
CF; upgrade; permissions; implementation does not exist; portal TECHNOTE (TROUBLESHOOTING)

PROBLEM
While attempting to upgrade Portal 8.0.0.1 to CF13 the CONFIG-WP-PTF-CF task fails with the following error...

pre-apply-PTF:

[echo] ,wp.base,prereq.wcm

[null] setAntiTaskName parameter is deprecated and will be
ignored: pre-remove-PTF

setAntiTaskName parameter is deprecated and will be ignored:
pre-remove-PTF

[null] !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ERROR
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

[null] The extension pre-apply-PTF is registered for component
wp.base but the implementation does not exist.

[null] The component wp.base must implement the target
action-pre-apply-PTF-applyPTF8002-wp.base


SYMPTOM
The ConfigTrace.log shows the following...

pre-apply-PTF:

[echo] ,wp.base,prereq.wcm

[null] setAntiTaskName parameter is deprecated and will be
ignored: pre-remove-PTF

setAntiTaskName parameter is deprecated and will be ignored:
pre-remove-PTF

[null] !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ERROR
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

[null] The extension pre-apply-PTF is registered for component
wp.base but the implementation does not exist.

[null] The component wp.base must implement the target
action-pre-apply-PTF-applyPTF8002-wp.base


CAUSE
In this scenario the customer had permissions issues. The IIM had been installed as root and IIM is requierd to run as the user it was installed with. However, in this case, the customer did not have access to run as root and can only run operations as a non-root user or su or sudo to root. IIM does not allow su or sudo.

ENVIRONMENT
Portal 8.0.0.1
AIX

DIAGNOSING THE PROBLEM
Review of the ConfigTrace.log shows the following clue...

[null] !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! ERROR
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

[null] The extension pre-apply-PTF is registered for component
wp.base but the implementation does not exist.

RESOLVING THE PROBLEM
Perform the CF upgrade by separating the upgrade into 2 steps. Using IIM to upgrade the binaries and then upgrading the profile by running the CONFIG-WP-PTF-CF manually. See steps below.




- Edit /opt/IBM/InstallationManager/eclipse/configuration/config.ini, adding property "WP_UPDATE_SKIP_CONFIG=true"
- Run IIM as root and upgrade the binaries
- chown -R <os_user>:<os_group> on the /usr/WebSphere directories
- chmod -R 777 the /usr/WebSphere directories
su - <os_user>
Run ./ConfigEngine.sh CONFIG-WP-PTF-CF to upgrade the profile

RELATED INFORMATION
 Related solution [http://www.ibm.com/support/docview.wss?uid=swg21686111]