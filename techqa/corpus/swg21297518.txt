Title: IBM Repairing duplicated stereotype applications and stereotype applications that do not appear in the correct resources - United States

Text:
RN7.0.0.4; RN7.0.5; RN7.0.0.6C; RN7.0.5.1C; RATLC01216331; RATLC00564308; 1297518 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When multiple modeling elements with stereotype applied are moved from one resource to another, some stereotype applications are not moved and remain in the original resource. This happens if you directly select multiple elements that belong to the same physical resource, such as fragment. It does not happen if one element is selected and it has other elements in its hierarchy. 
When an element with a required stereotype applied is copied and pasted, an additional stereotype application might be created as a result.
This technote explains how to fix the issues above. 

SYMPTOM
A stereotype applied to an element no longer appears after the element is moved from one resource to another. 

After an element with a required stereotype applied is copied and pasted, it does not display the attribute values of the element.


RESOLVING THE PROBLEM
This product deficiency has been addressed in Rational Software Architect version 7.0.0.6 and Rational Software Modeler version 7.0.5.1 (as well as Rational Systems Developer v7.0.5.1). 


If you encounter the above issues in your models, the pluglet accompanying this document can help you to resolve them.

The pluglet does the following:


 1. Parse the model selected. For each element in the model, check if it has multiple stereotype applications from the same stereotype. If so, the last stereotype application is assumed to be the original one whereas the rest is expected to be duplicates. The attribute values of the duplicates are then checked, and the first stereotype application with a modified attribute value is retained and the rest of the stereotype applications are discarded. If none of the duplicates contains any modified attribute values, they are discarded and the original stereotype application is retained. 
 2. Parse the resources associated with the model selected. Verify that all stereotype applications are residing in the same resource as the element associated with them. If the elements are residing in another resource, the stereotype applications are moved. If the elements cannot be found or if the stereotype does not apply to the resource where the element resides, the stereotype applications are deleted.


To run the pluglet, complete the following steps: 
 1. Start RationalÂ® Software Architect, Rational Software Modeler, or Rational System Developer with a workspace containing the models that you want to repair. 
 2. Click File > New > Pluglets Project. 
 3. Click File > New > Pluglet. 
 4. Select the type UML Modeler -> Model Enumeration (If you do not see this option, verify and ensure you have Modeling Extensibility feature installed.). 
 5. Type the package com.ibm.rational.support.umlmodeler. 
 6. Type the name VerifyStereotypeApplication. 
 7. Replace the template code with the code attached at the bottom of this technote. 
 8. Open the models that you want to repair. Ensure that all referenced models are open and available. Note: Any unavailable referenced model may result in improper deletion of stereotype applications. 
 9. Select the models in the Project Explorer view, then run the Pluglet (Run > Internal Tools > VerifyStereotypeApplication).


After running the pluglet, save, close, and then reopen all models before continuing to work on the models. Also verify the values of your stereotypes properties are correct. 

For more information on pluglets, see the on-line help topics:  * Extending Rational Software Architect Functionality > Extending your Java Environment with Pluglets 
 * Extending Rational Software Architect Functionality > Reference for extending the modeling environment


Disclaimer All source code and/or binaries attached to this document are referred to here as "the Program". IBM is not providing program services of any kind for the Program. IBM is providing the Program on an "AS IS" basis without warranty of any kind. IBM WILL NOT BE LIABLE FOR ANY ACTUAL, DIRECT, SPECIAL, INCIDENTAL, OR INDIRECT DAMAGES OR FOR ANY ECONOMIC CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS OR SAVINGS), EVEN IF IBM, OR ITS RESELLER, HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.




VerifyStereotypeApplication.java [/support/docview.wss?uid=swg21297518&aid=2] [/support/docview.wss?uid=swg21297518&aid=1]



Cross Reference information Segment Product Component Platform Version Edition Software Development Rational Software Architect Modeling Linux, Windows 7.0, 7.0.0.1, 7.0.0.2, 7.0.0.3, 7.0.0.4, 7.0.0.5, 7.0.0.6 Software Development Rational Systems Developer Modeling Linux, Solaris, Windows 7.0, 7.0.0.1, 7.0.0.2, 7.0.0.3, 7.0.0.4, 7.0.5, 7.0.5.1