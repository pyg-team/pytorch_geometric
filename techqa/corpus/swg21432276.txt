Title: IBM TEPS upgrade on Windows 2003 from 6.2.0 FP1 to 6.2.2 FP1 hangs - United States

Text:
Could not find specified globalization resource: ras_msg TEPS hang configuring TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 TEPS upgrade is hanging in the "Configuring Tivoli Enterprise Portal" phase. 

SYMPTOM
Running "kincinfo.exe -i" DOES show that TEPS was now at 6.2.2.1 level. 

Using Process Explorer the parent/child relationship of the install shows the following: 

setup.exe 

->ISBEW64.exe 

->kinconfg.exe 

-->javaw.exe 

--->cmd.exe 

---->java.exe 

 

So it was the java.exe process at the bottom that was hanging. 

This was running the following command: 


"C:\IBM\ITM\CNPSJ\java\bin\java" 
-Dcmd.properties.file="C:\IBM\ITM\CNPSJ\profiles\ITMProfile\temp\wsadmin.11030\wsadmin.properties" 
-Xms256m
-Xmx256m 
-Xj9 
-Xquickstart 
-Djava.util.logging.manager=com.ibm.ws.bootstrap.WsLogManager
-Djava.util.logging.configureByServer=true "
-Dcom.ibm.SOAP.ConfigURL=file:C:\IBM\ITM\CNPSJ\profiles\ITMProfile/properties/soap.client.props" 
"-Djava.security.auth.login.config=C:\IBM\ITM\CNPSJ\profiles\ITMProfile/properties/wsjaas_client.conf" 
"-Dcom.ibm.CORBA.ConfigURL=file:C:\IBM\ITM\CNPSJ\profiles\ITMProfile/properties/sas.client.props" "-Dcom.ibm.SSL.ConfigURL=file:C:\IBM\ITM\CNPSJ\profiles\ITMProfile/properties/ssl.client.props" 
"-Duser.install.root=C:\IBM\ITM\CNPSJ\profiles\ITMProfile" 
"-Dwas.install.root=C:\IBM\ITM\CNPSJ"
com.ibm.wsspi.bootstrap.WSPreLauncher 
-nosplash 
-application com.ibm.ws.bootstrap.WSLauncher com.ibm.ws.runtime.WsAdmin 
-connType soap -wsadmin_classpath C:/IBM/ITM/tmaitm6/kjrall.jar 
-f C:/IBM/ITM/CNPSJ/scripts/configureLDAPRepository.jacl C:/IBM/ITM/CNPS/kfwenv file:/C:/IBM/ITM/keyfiles/ !EVERYTHING-WORKED!


Using Process Explorer found that all of the processes in the above listed chain, were logging to a file called 


C:\Documents and Settings\<userid>\Local Settings\Temp\logs\stdout

this file could not be opened unless the install was cancelled, as it appeared to have the file still opened.

After cancelling the install, the file still remained and it contained the following error

Could not find specified globalization resource: ras_msg


CAUSE
Researching the above error found another customer that reported this same error in pmr 10607,227,000 O10/04/12

and the workaround provided was as follows: 

PROBLEM: 
Upgrade of customer ITM infrastructure from ITM 6.2.0 FP1 to 6.2.2 FP1 1 fails. 
RESOLUTION: First there is a loc file in the D:\IBM\ITM\CNPS\bdp\ 
directory called 
lorland.lic.loc. It should be zero length and should be deleted. 
Second the TEPS upgrade to ITM 6.2.2 FP1 is hung awaiting approval to 
add the current signer to the trusted store. This is because SSL 
communication is being used. 


DIAGNOSING THE PROBLEM
Used Process Explorer to identify which logfiles were being written to during the install process which can identify why the install stopped processes at a specific time. 



RESOLVING THE PROBLEM
To approve the signer, do the following before the upgrade is attempted: 

1. Open a DOS prompt. 

2. Navigate to the following directory: 
D:\IBM\ITM\CNPSJ\profiles\ITMProfile\bin 

3. From that directory enter command: 
wsadmin.bat 

4. It will respond..... 
*** SSL SIGNER EXCHANGE PROMPT *** 
SSL signer from target host localhost is not found in trust store 
D:/IBM/ITM/CNPSJ/profiles/ITMProfile/etc/trust.p12. 
Here is the signer information (verify the digest value matches what is
displayed at the server): 
Subject DN: CN=XXX..YYY, O=IBM, C=US 
Issuer DN: CN=XXX..YYY, O=IBM, C=US 
Serial number: 1234567890
Expires: Sun Jul 18 19:31:01 PDT 2010 
SHA-1 Digest: 
D5:D7:.....
MD5 Digest: 77:20:....
Add signer to the trust store now? (y/n) 

5. Respond to the above question: y 

6. The system will respond... 
A retry of the request may need to occur if the socket times out while 
waiting for a prompt response. If the retry is required, note that the
prompt will not be redisplayed if (y) is entered, which indicates the 
signer has already been added to the trust store. 
WASX7209I: Connected to process "ITMServer" on node ITMNode using SOAP 
connector 
; The type of process is: UnManagedProcess 
WASX7029I: For help, enter: "$Help help" 
wsadmin> 

7. At the above prompt enter: quit 
Once these two items have been addressed, the customer should be able
to upgrade their environment without any further issues. 


 

HISTORICAL NUMBER
 46072
057
649