Title: IBM Creating SOA Data Collector instance - United States

Text:
CAMSOAALL; CAMSOAINST; CAMSOACONN; CAMSOADPDC; Create SOA instance TECHNOTE (FAQ)

QUESTION
 We have 1 instance in SOA, which shows thru TEP view. How can I create another Data Power Data Collector instance under the same Services Management Agent Environment (SMAE) view ? 

CAUSE
Testing - to create a situation mainly to simulate certain test scenario.

ANSWER
There are different ways to create instance(s) for testing purpose. Here are 2 options that you can choose to follow (please choose only 1 to implement). 

 * OPTION 1 : By Configuring Data Power (DP) Data Collector (DC). 


1. Stop SOA Data Collector => <SOA_HOME>/bin/stopDC.bat(sh)  (Note: use stopDC.bat in Windows, stopDC.sh in Unix) 

 2. Configure the Data Collector => <SOA_HOME>/bin/configDC.bat(sh) 

 (Choose option to configure Data Power, provide all the attributes for the new instance). 

 3. Start SOA Data Collector 

 <SOA_HOME>/bin/startDC.bat (in Windows) 

 <SOA_HOME>/bin/startDC.sh (in UNIX) 

 4. Generate data traffic for the newly configured DP instance. 

 5. You will see the instance created under Services Management Agent Environment (SMAE) view. 

 

 * OPTION 2: By adding additional stanza entry block for the newly creating instance.


(Note : The password is set with encrypted value which is generated by system. Following instruction of Instance creation is requiring user to use same userid and password ("admin", "TGV2ZWwyd2Fz") in this example case. Other fields can be changed for user's discretion.)  1. Stop DC. 

 2. Edit <SOA_HOME>/config/KD4.dpdcConfig.properties (description follows in 3, 4 and 5 below) 

 3. Say, the initial entry of the properties file is as following. This block of entry is called "stanza". 

*** Initial stanza: 
DataPower.count=1
DataPower.host.1=testDPmachine.rtp.raleigh.ibm.com
DataPower.port.1=5550
DataPower.path.1=/
DataPower.poll.1=10
DataPower.user.1=admin
DataPower.encpswd.1=TGV2ZWwyd2Fz
DataPower.subExpire.1=15
DataPower.domainlist.1=L2SOA 

 4. For the new instance that you want to create - Add the 2nd stanza (in bold below) with your choice of values on each line. Here is some of the rules for setting the values. 

 * Add 1 to the DataPower.count (In example below, it becomes 2 - the initial value was 1). 
 * For the adding standa, add the trailing numbers (of all fields entry) by 1 - from the highest number of previous stanza(s). (note: In this example, it becomes 2 since there are only 1 stanza before adding the 2nd one, and the trailing number for the 1st stanza is 1) 
 * For (DataPower.user.x, DataPower.encpswd.x), the value should not be changed. Every other fields can be changed, if you know what you are doing when you enter the new values. 


(Note: in following example, only the DataPower.domainlist.2 value is changed for the unique Data Power Data Collector (DPDC) instance creation.) *** With additional stanza, the whole entry looks like following :
DataPower.count=2 
DataPower.host.1=testDPmachine.rtp.raleigh.ibm.com
DataPower.port.1=5550
DataPower.path.1=/
DataPower.poll.1=10
DataPower.user.1=admin
DataPower.encpswd.1=TGV2ZWwyd2Fz
DataPower.subExpire.1=15
DataPower.domainlist.1=L2SOA 
DataPower.host.2=testDPmachine.rtp.raleigh.ibm.com
DataPower.port.2=5550
DataPower.path.2=/
DataPower.poll.2=10
DataPower.user.2=admin
DataPower.encpswd.2=TGV2ZWwyd2Fz
DataPower.subExpire.2=15
DataPower.domainlist.2=NEWDomain 

5. Save above entry as same file : (KD4.dpdcConfig.properties). 

6. Start DC. 

7. Generate data for the new DP instance that is just added. 

8. You will see the instance created under Services Management Agent Environment (SMAE) view. 

************************************************************************************************************************** 

Note : If your SOA instance creation is not in use any more and wants to remove it, use following technote. 

Remove SOA instance from TEPS workspace.
http://www-01.ibm.com/support/docview.wss?uid=swg21665737 [http://www-01.ibm.com/support/docview.wss?uid=swg21665737]