Title: IBM ASJE when running sample transactions JHE1, JHE2, and JPC1 - United States

Text:
asje abendasje; DFHSJ0501 5697E9300 R300 300 R630 630 HCI6300 5697-E93 5697E93 5655M1500 R640 640 R400 400 HCI6400 5655-M15 5655M15 kixinfo retention31 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You run the JAVAâ„¢ sample transactions for the HELLO WORLD Java application on your CICS Transaction Server for z/OS (CICS TS) V2.3 or V3.1 region and receive the ASJE abend. 

SYMPTOM
The abend AJSE is caused by an incorrect classpath.
DFHSJ0501 [http://publib.boulder.ibm.com/infocenter/cicsts/v3r1/index.jsp?topic=/com.ibm.cics.ts31.doc/dfhg4/dfhg4sj.htm] An attempt to obtain the CICS Wrapper class com.ibm.jvmAllocationPolicy using the JNI function 'FindClass' has failed.


CAUSE
You are using the incorrect version of the IBM Software Developer Kit for z/OS, Java 2 Technology Edition. The classpaths defined in the V1.5 release of JAVA causes this problem.

DIAGNOSING THE PROBLEM
You are working from the CICS Java manuals and are trying to run the JHE1, JHE2, and JPC1 transactions. You are using the DFHJVMPR profile. You receive ASJE abends and the DFHSJ0501 missing class message for several classes. You added to the classpath based on the missing class messages, but you cannot find any jar that looks like it would have com.ibm.jvmAllocationPolicy in it.

RESOLVING THE PROBLEM
Use JAVA V1.4.2 for CICS TS V3.1, recompile the samples, and specify the dfjcics jar file on the classpath.

RELATED INFORMATION
#JDK requirements/Understanding JVMs [http://publib.boulder.ibm.com/infocenter/cicsts/v3r1/index.jsp?topic=/com.ibm.cics.ts31.doc/dfhpj/topics/dfhpj1k.htm]
ABEND ASxx CODES [http://publib.boulder.ibm.com/infocenter/cicsts/v3r1/index.jsp?topic=/com.ibm.cics.ts31.doc/dfhg4/dfhg4b0027.htm]




PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server