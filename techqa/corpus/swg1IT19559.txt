Title: IBM IT19559: WDI CLIENT IMPORT ERROR 11052 DURING "EXPORT TO SYSTEM" OR FOR TAGGED FORMAT "EXPORT TO FILE" ON A PARTICULAR MAP. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  Environment: Current CFP14 level of WDI Client connecting to
   DB2 on Windows. Issue also recreated when connecting WDI Client
   to DB2 for z/OS.
   
   "Export to System" function fails with the following error for
   a particular map.
   
   11052 - A database error occurred while attempting to add a row
   in table "EDIENU33.EDIMAPNODES". ODBC return code is: -1.
   Description: SQL0803N One or more values in the INSERT
   statement, UPDATE statement, or foreign key update caused by a
   DELETE statement are not valid because the primary key, unique
   constraint or unique index identified by "1" constrains table
   "EDIENU33.EDIMAPNODES" from having duplicate rows for those
   columns. SQLSTATE=23505
   
   Importing...
       Data Transformation Map  <map_name>...
           Data Transformation Map
           Mapping Syntax Data
           Mapping Local Variable
           Mapping Named Reference
           Mapping Node
   Import completed with errors.
   
   Record 31676 had the error.  The failed record is:
   3VD  TPTID(map_name)  PARENTID(130929)  SEQNO(4000)  TYPE(M) ...
     SUBTYPE(X)  ASSOCFWD(-1)  ASSOCBKD(-1)  POSNO(3)  EDIT(N)  ...
     REFID(270)  REPEATS(N)  QUALIFIED(N)
   
   The same error occurs during import when using "Export to file",
   however, only when using Tagged format.  Whether export to
   system or export to file, WDI Client is not outputting
   UNIQUEID(131072) to the above record when tagged format is
   effective. It is output as expected when CSV is used for the
   export format, i.e.
   
   3VD,"map_name",131072,130929,4000,"M","X",-1,-1,3,"N",270,"N","N
   ",""
   
   Keywords: export import ei format tagged comma separated values
   
   
    
   
   

LOCAL FIX
 *  Use CSV style export format to export/import this particular map
   
   
    
   
   

PROBLEM SUMMARY
 *  Tagged export files fail to include a generated unique key.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT19559
   
   
 * REPORTED COMPONENT NAME
   WEBS DI MP
   
   
 * REPORTED COMPONENT ID
   5724C5003
   
   
 * REPORTED RELEASE
   330
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-03-06
   
   
 * CLOSED DATE
   2017-12-08
   
   
 * LAST MODIFIED DATE
   2017-12-08
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R330 PSY
   UP