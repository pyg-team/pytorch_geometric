Title: IBM Downgrading the PureData System for Analytics Netezza Platform Software (NPS) - United States

Text:
 PREVENTIVE SERVICE PLANNING

ABSTRACT
 These are the steps that need to considered during an NPS downgrade 

CONTENT
Downgrade Support
The upgrade process also provides features that can help to ease the process of downgrading to a previously running version of the Netezza software on your system. (You cannot downgrade to a release that has not run on your system previously.) Downgrades are not common, but they can be helpful if a new software release introduces a change which has an unexpected effect on your existing operations or queries. In those cases, downgrades can help to restore your previous release before users are impacted.

Follow these steps to carry out a downgrade: 

 1.  Schedule precheck 2-7 days before upgrade or right before upgrade. If precheck fails upgrade might need to be rescheduled. Follow Technote 1627193 Full Upgrade Prechecks of Pure Data Systems for Analytics [http://www-01.ibm.com/support/docview.wss?uid=swg21627193] 
 2.  Verify desired NPS version has been previously installed on the system and there is an existing kit in the /nz directory. /nz/kit is a soft link that points to the current kit version being used and /nz/kit.bak is a soft link that points to the previous version used. You can see these pointers and all the kits previously unpacked on this system by doing an ls -l from /nz. 
 3.  On the day of the precheck, gather stats as nz: nzstats, nzrev, nzds -issues, nzhw -issues, nzspupart -issues 
 4.  Run nzupgrade command gathered during precheck and specify kit by using -K option from /nz/kit/sbin. E.g. /nz/kit/sbin/nzupgrade -K /nz/kit.7.0.P8 upgrade 
 5.  If you want to monitor the downgrade, tail the corresponding upgrade log /nz/var/log/upgrade.YYYYMMDD.<NPS-release>.downgrade 
 6.  Once downgrade has been completed run nzstart as nz 
 7.  Monitor /nz/kit/log/startupsvr/startupsvr.log until Discovering state is noticed 
 8.  As nz monitor SPUs stats by running watch nzhw -type spu 
 9.  Monitor /nz/kit/log/sysmgr/sysmgr.log 
 10. Once system is online, check stats checked at the beginning as nz: nzstats, nzrev, nzds -issues, nzhw -issues, nzspupart -issues