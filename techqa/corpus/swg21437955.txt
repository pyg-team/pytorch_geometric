Title: IBM CNX0220E A connection error has occurred: NOTPERMIT, USRID - United States

Text:
CNX0220E; MSGCNX0220E ; CSD.DEF ; BAS.DEF ; security; 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97 R700 R70M JCI670M 5655Y0400 R800 R80M 5655-Y04 5655Y04 FMID JCI680M TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Your CICS Explorer is successfully connected to the CICSPlex SM Web User Interface (WUI) server using CMCI. When you click the Administration pulldown and select a CICS resource definition with the left navigation context focused on a CICS Transaction Server for z/OS (CICS TS) V4.1 or higher region, you receive message CNX0220E in the status area. 

SYMPTOM
CNX0220E A connection error has occurred: NOTPERMIT, USRID


CAUSE
No resource security profile definition for CSD.DEF.context.scope defined in the CPSMOBJ class or the CICS Explorer userid does not have sufficient authority to the profile.

ENVIRONMENT
CICS Explorer V1.0.0.6 or higher; CICS TS V4.1 or higher with SEC=YES in the CICS SIT for the WUI server.

DIAGNOSING THE PROBLEM
Do the following to get diagnostic information to send to IBM Support:




 1.  Signon to the CMAS where the WUI server connects and enter transaction COD0 [http://pic.dhe.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.doc/eyus1/topics/eyus1dt.html].
     
     
 2.  Enter command TRACE FLAGS.
     
     
 3.  Specify a 1 in column 31 of the COM row in the trace matrix and press Enter. 
     
     
 4.  Enter command TRACE ON RESET.
     
     
 5.  From the CICS Explorer click on the Administration pulldown and click on a CICS resource definition while in the left navigation you have selected a CICS TS V4.1 region. 
     
     
 6.  The CICS Explorer should display the message CNX0220E A connection error has occurred: NOTPERMIT, USRID in the status area.
     
     
 7.  From the COD0 transaction in the CMAS enter command TRACE OFF STOP. 
     
     
 8.  Enter command TRACE FLAGS.
     
     
 9.  Specify a 0 in column 31 of the COM row in the trace matrix and press Enter.
     
     
 10. Enter EXIT to end the COD0 debugger transaction.
     
     
 11. Terse and FTP as binary the CMAS DFHAUXT and DFHBUXT datasets to the IBM FTP server as described in Exchanging diagnostic information with IBM Technical Support for problem determination. [http://www.ibm.com/support/docview.wss?uid=swg21204910].

RESOLVING THE PROBLEM
Do the following to fix this problem: 

 * Define the CSD.DEF.context.scope resource profile to the CPSMOBJ class when defining resources to the DFHCSD. 
   
 * Define the BAS.DEF.context.scope resource profile to the CPSMOBJ class when defining CICS resources to the CICSPlex SM data repository. 
   
 * Ensure that the CICS Explorer userid has sufficient authority to access the profile.

RELATED INFORMATION
#Valid resource name combinations [http://pic.dhe.ibm.com/infocenter/cicsts/v5r1/topic/com.ibm.cics.ts.doc/dfht5/topics/dfht5b00113.html]
Specifying CICSPlex SM resource names in profiles [http://pic.dhe.ibm.com/infocenter/cicsts/v5r1/topic/com.ibm.cics.ts.doc/dfht5/topics/dfht5mo.html]




PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server