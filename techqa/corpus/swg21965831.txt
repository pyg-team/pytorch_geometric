Title: IBM Sequential outbound queue cron task instance stops running intermittently - United States

Text:
TPAEINTEGRATION TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When an external system is configured to write to interface tables in a SQL Server database, the sequential outbound queue cron task my hang with no errors being written in the message reprocessing application or the integration global directory. 

SYMPTOM
You may see the following stack trace in a java core captured after the cron task has stopped:

3XMTHREADINFO "maximo-JMSQSEQCONSUMER.SEQQOUT" J9VMThread:0x0000000004A26F00, j9thread_t:0x0000000011CC0440, java/lang/Thread:0x00000000862A0B98, state:CW, prio=5
3XMJAVALTHREAD (java/lang/Thread getId:0xC2, isDaemon:true)
3XMTHREADINFO1 (native thread ID:0x1E34, native priority:0x5, native policy:UNKNOWN)
3XMTHREADINFO3 Java callstack:
4XESTACKTRACE at com/microsoft/sqlserver/jdbc/SQLServerException.<init>(SQLServerException.java:142(Compiled Code))
4XESTACKTRACE at com/microsoft/sqlserver/jdbc/SQLServerException.makeFromDatabaseError(SQLServerException.java:196(Compiled Code))
4XESTACKTRACE at com/microsoft/sqlserver/jdbc/SQLServerResultSet$FetchBuffer.nextRow(SQLServerResultSet.java:4700(Compiled Code))
4XESTACKTRACE at com/microsoft/sqlserver/jdbc/SQLServerResultSet.fetchBufferNext(SQLServerResultSet.java:1683(Compiled Code))
4XESTACKTRACE at com/microsoft/sqlserver/jdbc/SQLServerResultSet.discardFetchBuffer(SQLServerResultSet.java:4864(Compiled Code))
4XESTACKTRACE at com/microsoft/sqlserver/jdbc/SQLServerResultSet.closeInternal(SQLServerResultSet.java:555(Compiled Code))
4XESTACKTRACE at com/microsoft/sqlserver/jdbc/SQLServerResultSet.close(SQLServerResultSet.java:567(Compiled Code))
4XESTACKTRACE at psdi/iface/intertables/WriteToIfaceTable.getTransId(WriteToIfaceTable.java:693(Compiled Code))
4XESTACKTRACE at psdi/iface/intertables/WriteToIfaceTable.setIfaceTabledata(WriteToIfaceTable.java:289(Compiled Code))
4XESTACKTRACE at psdi/iface/router/IfaceTableHandler.invoke(IfaceTableHandler.java:127(Compiled Code))
4XESTACKTRACE at psdi/iface/jms/QueueToDestManagerProcessor.processMessage(QueueToDestManagerProcessor.java:90(Compiled Code))
4XESTACKTRACE at psdi/iface/jms/JMSQueueCronTask.getMessage(JMSQueueCronTask.java:447(Compiled Code))
4XESTACKTRACE at psdi/iface/jms/JMSQueueCronTask.cronAction(JMSQueueCronTask.java:274(Compiled Code))
4XESTACKTRACE at psdi/server/CronTaskManager.callCronMethod(CronTaskManager.java:1590(Compiled Code))
4XESTACKTRACE at psdi/server/CronTaskManager.access$400(CronTaskManager.java:87(Compiled Code))
4XESTACKTRACE at psdi/server/CronTaskManager$CronThread.run(CronTaskManager.java:2160)
3XMTHREADINFO3 No native callstack available on this platform


CAUSE
The most likely cause is a bug in the version of the Microsoft SQL Server driver used in the configuration of the integration interface table endpoint.

RESOLVING THE PROBLEM
Replace the SQL Server driver used in the integration interface table endpoint definition to a later version and restart the application server. The version known to resolve this issue is SQL Server JDBC driver (v4.0 from Microsoft).