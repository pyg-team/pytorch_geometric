Title: IBM What to do when TM1 Contributor returns an "Operation Failed" message - United States

Text:
TM1 Contributor Operation Failed error message TM1 Planning Service PMPSVC log logging logger log4j log4j.properties DEBUG pmpsvc.log TM1 Web Excel Report Server TM1ExcelService.exe TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You triggered an operation in TM1 Contributor, for instance you tried to Snapshot to Excel, to Slice to Excel or to Export to PDF a cube view displayed by the TM1 Contributor Thin Client. 

SYMPTOM
Your operation failed with the message:

Operation Failed
System has encountered a problem with handling your request.
Please try again.
If you keep having trouble, please contact your system administrator for assistance.

But the "Operation Failed" message is just that, a message that an operation failed - except that it does not deliver any information at all. Thus it is useless when it comes to investigate and to resolve the issue. 


RESOLVING THE PROBLEM
The TM1 Contributor Thin Client is a customized version of the TM1 Web Cube Viewer. When an operation in TM1 Web fails, the "Operation Failed" message is returned. To investigate why the operation failed, the TM1 Administrator has to start manual administrative actions, he has to start debugging TM1 Web and the Excel Report Server TM1ExcelService.exe as outlined in the IBM Technote 1516647: 

https://www-304.ibm.com/support/docview.wss?uid=swg21516647 [https://www-304.ibm.com/support/docview.wss?uid=swg21516647]
What to do when TM1 Web returns an "Operation Failed" message


In case of TM1 Contributor, in addition to debugging TM1 Web and the Excel Report Server TM1ExcelService.exe, the TM1 Administrator must also debug the TM1 Planning Service, also known as the PMPSVC Service, which is a Java application executed by a Java Application Server like Apache Tomcat. 


If Apache Tomcat is used as the Java Appalication Server, the default path to the installation directory of the PMPSVC Service is "C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\pmpsvc\".

The PMPSVC Service is using log4j to control the service logging, which is configured by the logger configuration log4j.properties, whose default path is "C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\pmpsvc\WEB-INF\configuration\log4j.properties".

The settings in the logger configuration log4j.properties are dynamic: Changes to this file will be detected and applied while the PMPSVC Service is running.

By default only messages of log level ERROR will be logged into a text file labeled "pmpsvc.log" which contains all the log entries for a 24 hour period. Older text files will be relabeled according to the scheme "pmpsvc.log.YYYY-MM-DD".

The default path of the text file "pmpsvc.log" is "C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\pmpsvc\WEB-INF\logs\pmpsvc.log".


There are four log levels:

ERROR - outputs exceptional events which will cause the service not to be able to complete the current operation.
WARNING - outputs conditions from which the service can continue but should be addressed by an administrator.
INFO - outputs information for each of the service operations.
DEBUG - outputs details tracing information for the service operations.

Any log level will contain all log entries for that level and each higher level.


The log level of information is controlled by changing the log level of the two root loggers "log4j.logger.com.ibm.cognos" and "log4j.logger.com.cognos". The childen of a root logger inherit the log level from it's parent root logger. To change the PMPSVC Service to log at the INFO level instead of the (by default) ERROR level, change the two root loggers like:

# System logging settings
log4j.rootLogger=ERROR, TextFile
log4j.logger.com.ibm.cognos=INFO
log4j.logger.com.cognos=INFO



RELATED INFORMATION
#What to do when TM1 Web returns an "Operation Failed" m [https://www-304.ibm.com/support/docview.wss?uid=swg21516647]






Cross reference information Segment Product Component Platform Version Edition Business Analytics Cognos Express Xcelerator Windows