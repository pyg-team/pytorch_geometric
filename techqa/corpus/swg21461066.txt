Title: IBM IIB Utility trace - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Use this procedure to capture a trace of particular command on IBM Integration Bus (IIB).



RESOLVING THE PROBLEM
First:
Determine whether your mqsi* command is traced via IIB Utility Trace or command flag/argument. 

 * Commands using Utility trace are listed in the IIB Knowledge Center's mqsireadlog [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/an07300_.htm] article. 
 * To confirm whether your command has a flag/argument for tracing, locate it in the IIB Knowledge Center (see: Commands [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/an07060_.htm])


If your command takes a trace flag/argument, use the correct syntax to enable tracing. 


If your command uses IIB Utility Trace, use these instructions: 
 1. Enable tracing of utility commands.
    set/export MQSI_UTILITY_TRACE=debug
    
 2. Set the maximum size of the trace.
    The value is set in kilobytes (here, we suggest 50MB).
    set/export MQSI_UTILITY_TRACESIZE=51200
    
 3. Run the failing mqsi* command(s)
    
 4. Disable the trace
    set/export MQSI_UTILITY_TRACE=none
    
 5. Retrieve the trace log for the specified command.
    This can be issued against all commands executed in step 3.
    mqsireadlog <component> -t -b <mqsicommand> -f -o <mqsicommand>trace.xml
    Note that the <mqsicommand> should just be the command name, and should not include any flags or arguments.
    
 6. Format the XML trace log(s) into text.
    mqsiformatlog -i <mqsicommand>trace.xml -o <mqsicommand>trace.txt
    


Note: 
The value of '<component>' will change based on the object of the failing mqsi* command. You can find more information in the IIB Knowledge Center on which component name to use. 
See: mqsireadlog command [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/an07300_.htm]. 


PRODUCT ALIAS/SYNONYM
 WMB MB WebSphere Message Broker MQ Integrator WBIMB WBI-MB MQSI WMQI