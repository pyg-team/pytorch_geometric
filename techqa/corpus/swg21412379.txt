Title: IBM The AppTarget cluster-scoped namebindings.xml file is not migrated to the v7.0 clustered environment - United States

Text:
WPS62.AppTarget not found; app target; apptarget TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The cluster-scoped namebindings.xml file (which contains namespace bindings needed by WebSphere Business Services Fabric) is not migrated to the v7.0 clustered environment. 

SYMPTOM
After Starting the deployment manager (DMGR), navigate to Environment > Naming > Name Space Bindings and look at all the bindings. The WebSphere Business Services Fabric name space bindings from v6.2.x do not get migrated to v7.0 and are not available in the Name Space Bindings view. 

If the Cluster is started without this binding then you will see the following error in the log:

FabricEventFa E Error looking up emitter factory
javax.naming.NameNotFoundException: Context: bpm3Cell01/clusters/WPS62.AppTarget, name: com/ibm/events/configuration/emitter/Default: First component in name events/configuration/emitter/Default not found. [Root exception is org.omg.CosNaming.NamingContextPackage.NotFound: IDL:omg.org/CosNaming/Naminconntext/NotFound:1.0]


RESOLVING THE PROBLEM
The problem above can be resolved by following the steps mentioned below: 


In version 6.2.x, the namebindings.xml file existed at the scope of the cluster where WebSphere Business Services Fabric is deployed (for example, the AppTarget cluster). The name space binding pointed to a Common Event Infrastructure (CEI) emitter resource JNDI that is found at a different cluster scope (for example, the support cluster).

The CEI emitter resource exists at the support cluster scope and WebSphere Business Services Fabric events should be emitted to that emitter in the support cluster. After Migrating a 6.2.x cluster to 7.0, start the DMGR (do not start the clusters) and navigate to the WebSphere Process Server Integrated solutions console.

1. In the Integrated Solutions Console, navigate to Servers > Clusters and select the Application Cluster.

2. Expand Common Event Infrastructure and click Common Event Infrastructure Destination.

3. Note the JNDI name under the Event Infrastructure emitter factory JNDI name. For example: 

cell/clusters/default.Support/com/ibm/events/configuration/emitter/Default

4. Navigate to Environment > Naming > Name Space Bindings. In the scope selection box, select Cluster = default.AppTarget (select your Application Cluster) and click New.

5. Select String as the binding type and click Next.

6. Specify the following values:
a. Binding Identifier: wbsf-cbe-emitter-factory
b. Name in name space: wbsf-cbe-emitter-factory
c. String value: cell/clusters/default.Support/com/ibm/events/configuration/emitter/Defaul
Note: The value that must be provided is from step 3.

7. Click Finish, the settings will take effect on the next start of the cluster.