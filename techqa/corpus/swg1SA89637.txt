Title: IBM SA89637: MQM400 MQV5 REFRESH CLUSTER LEAVES RUNNING CHANNEL TBD - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  On a subset repository queue manager in a cluster with a
   CLUSSDRA channel in running state :-
   Enter REFRESH CLUSTER.
   The refresh operation appears to complete successfully, but the
   running channel is marked 'TBD'; which means that when the
   channel finally stops - it is DELETED.
   This APAR will be used to fix two additional problems :-
   * CSQX038E UNABLE TO PUT MESSAGE TO SYSTEM.CLUSTER.COMMAND.
   * ref IC26573
   * The channel initiator receives these messages:
   * CSQX410I CSQXREPO Repository manager started .
   * CSQX038E CSQXREPO Unable to put message to
   * SYSTEM.CLUSTER.COMMAND.QUEUE, MQCC=2 MQRC=2189.
   * CSQX448E CSQXREPO Repository manager stopping because of error
   * Restart in 600 seconds.
   *
   * This causes the queue to be disabled, which may result in
   * subsequent messages:
   * CSQX037E Unable to get msg from SYSTEM.CLUSTER.COMMAND.QUEUE
   * CC=2 RC=2016
   * CSQX038E Unable to Put msg to SYSTEM.CLUSTER.COMMAND.QUEUE
   * CC=2 RC=2269.
   * CSQX411I Repository Manager Stopped
   * MQCD DOES NOT CONTAIN THE QMGR'S NAME WHEN THE CHADEXIT
   * IS LOADED FOR A CLUSTER RECEIVER CHANNEL.
   * ref IC26863
   * We want to have an exit running on the receiving side of
   * a cluster sender-receiver pair.
   * To do so a chad exit was specified on the receiving QMGR,
   * to have it insert an exit function.
   * Yet the MQCD, passed to the chad exit, does not contain the
   * QMGR's name when it is loaded for the CLUSRCVR channel.
   * (Note: for a CLUSSNDR, the QMGR's name is loaded correctly in
   * the MQCD).
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  On a subset repository queue manager in a cluster with a
   CLUSSDRA channel in running state :-
   Enter REFRESH CLUSTER.
   The refresh operation appears to complete successfully, but the
   running channel is marked 'TBD'; which means that when the
   channel finally stops - it is DELETED.
   This APAR will be used to fix two additional problems :-
   * CSQX038E UNABLE TO PUT MESSAGE TO SYSTEM.CLUSTER.COMMAND.
   * ref IC26573
   * The channel initiator receives these messages:
   * CSQX410I CSQXREPO Repository manager started .
   * CSQX038E CSQXREPO Unable to put message to
   * SYSTEM.CLUSTER.COMMAND.QUEUE, MQCC=2 MQRC=2189.
   * CSQX448E CSQXREPO Repository manager stopping because of error
   * Restart in 600 seconds.
   *
   * This causes the queue to be disabled, which may result in
   * subsequent messages:
   * CSQX037E Unable to get msg from SYSTEM.CLUSTER.COMMAND.QUEUE
   * CC=2 RC=2016
   * CSQX038E Unable to Put msg to SYSTEM.CLUSTER.COMMAND.QUEUE
   * CC=2 RC=2269.
   * CSQX411I Repository Manager Stopped
   * MQCD DOES NOT CONTAIN THE QMGR'S NAME WHEN THE CHADEXIT
   * IS LOADED FOR A CLUSTER RECEIVER CHANNEL.
   * ref IC26863
   * We want to have an exit running on the receiving side of
   * a cluster sender-receiver pair.
   * To do so a chad exit was specified on the receiving QMGR,
   * to have it insert an exit function.
   * Yet the MQCD, passed to the chad exit, does not contain the
   * QMGR's name when it is loaded for the CLUSRCVR channel.
   * (Note: for a CLUSSNDR, the QMGR's name is loaded correctly in
   * the MQCD).
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problems with using cluster channels and queues have been
   fixed.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   SA89637
   
   
 * REPORTED COMPONENT NAME
   MQSERIES FOR AS
   
   
 * REPORTED COMPONENT ID
   5733A3800
   
   
 * REPORTED RELEASE
   510
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2000-06-20
   
   
 * CLOSED DATE
   2000-06-20
   
   
 * LAST MODIFIED DATE
   2003-06-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    SF63030
   
   

MODULES/MACROS
 *  AMQRRMFA LMQMR    LMQMRR
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   MQSERIES FOR AS
   
   
 * FIXED COMPONENT ID
   5733A3800
   
   

APPLICABLE COMPONENT LEVELS
 * R510 PSY SF63030
   UP00/08/24 P 0294