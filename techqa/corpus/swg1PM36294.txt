Title: IBM PM36294: ENABLE JCR XPATH QUERY TIMEOUT - United States

Text:
  FIXES ARE AVAILABLE
6.1.0.6 Download: WebSphere Portal and WCM V6.1.0 fix pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030970]
7.0.0.2 Download: WebSphere Portal and WCM V7.0 fix pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24031676]
Fixes integrated in WebSphere Portal 7.0.0.1 & 7.0.0.2 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24029452]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Opened for release 6105
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Fix has been provided
   
   
    
   
   

PROBLEM CONCLUSION
 *  PM36294
   =======
   
   Problem Description:
      Enable JCR XPath query timeout
   
   Problem Solution:
            PM36294 contains code changes.
   
   Affected Users:
      All portal users.
   
   Pre-Requisite(s):
      Portal Version: 6.1.0.5
      Portal Fixes:   PM35781 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM35781]
   
   Installation Steps:
      NOTE:  YOU MUST FIRST DOWNLOAD THE UPDATE INSTALLER TOOL IN
   ORDER TO INSTALL A FIX.
             The WebSphere Portal Update Installer (PUI) can be
   downloaded from the following link:
             http://www.ibm.com/support/docview
   .wss?rs=688&uid=swg24006942 [http://www.ibm.com/support/docview.wss?rs=688&uid=swg24006942]
   
   *Reminder: the version of PUI used varies based on the version
   of WebSphere Portal.
   Ensure the correct version is in use.*
   
   Refer to the "Maintaining the cluster" topic in the 6.0
   InfoCenter
   (http://publib.boulder.ibm.com/infocenter/wpdoc/v6r0/index
   .jsp?topic=/com.ibm.wp.ent.doc/wpf/clus_maint.html)
   for additional information on installing or uninstalling interim
   fixes in clustered environments
   while maintaining continuous availability of your portal.
   
   1. Stop the WebSphere Portal server
   2. Apply the PM36294.jar using the PUI (Portal update
   installer).
      Refer to the PUI readme for further information on using the
   PUI.
   
   3. Edit &lt;ProfileRoot&gt;/PortalServer/jcr/lib/com/ibm/icm/icm
   .properties and add the lines below:
   
   # XPATH Query Timeout
   # This properties enables support for a timeout value to be set
   when executing JCR XPATH queries.  The value is in seconds.
   # If a timeout occurs, JCR will log an error in the logs but the
   query will return without an exception, it just will have no
   results.
   # If no value is provided, the default behavior is to not set a
   timeout effectively allow the query to run until completion,
   # regardless of how much time that takes.
   # This feature is not supported if the Database Type is Derby
   # Example to set the timeout to 45 seconds.
   # jcr.query.timeout = 45
   
   4. Restart the WebSphere Portal server.
   
   
   Uninstall:
   NOTE:  FIXES MUST BE REMOVED IN THE ORDER THEY WERE APPLIED.
          DO NOT REMOVE A FIX UNLESS ALL FIXES APPLIED AFTER IT
   HAVE FIRST BEEN REMOVED.
          YOU MAY REAPPLY ANY REMOVED FIX.
   
   Use the Portal Update Installer to uninstall the fix:
   
      1. Shutdown WebSphere Portal.
      2. Remove the above lines from
   &lt;ProfileRoot&gt;/PortalServer/jcr/lib/com/ibm/icm/icm
   .properties
      3. Follow the instructions that are packaged with the Portal
   Update Installer on how to uninstall a fix.
      4. Restart WebSphere Portal.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM36294
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   610
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-04-07
   
   
 * CLOSED DATE
   2011-09-30
   
   
 * LAST MODIFIED DATE
   2011-09-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * FIXED COMPONENT ID
   5724E7600
   
   

APPLICABLE COMPONENT LEVELS
 * R610 PSY
   UP
   
   
 * R61A PSY
   UP
   
   
 * R61B PSY
   UP
   
   
 * R61C PSY
   UP
   
   
 * R610 PSY
   UP