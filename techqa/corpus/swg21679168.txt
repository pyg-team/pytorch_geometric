Title: IBM How to encrypt/obscure the  clear text password in the activemqconfig.xml - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 FAQ: How can the clear text password in the /<install_directory>/activemq/conf/activemqconfig.xml file be encrypted or obscured in a way that it will not be rewritten when setupfiles is run? 

ANSWER
 

 1.  Open the <install_directory>/activemq/conf/activemqconfig_b2b_oba_ext.xml.in
     file. 
 2.  Find the line that begins: <property name="password "value= 
 3.  Note the value to the right of the equals sign, and leave the file open temporarily. 
 4.  Open a command prompt. 
 5.  Change Directories to the /<install_directory>/bin directory. 
 6.  Type in (without the quotation marks) "encrypt_string.sh <password>", where <password> is the unencrypted value of the password from step 3. 
 7.  A value will be returned by the encrypt_string command that begins with the word "OBSCURED". Copy that entire value, including the word "OBSCURED" to a temporary file. 
 8.  Go back to the still open activemqconfig_b2b_oba_ext.xml.in file. 
 9.  Paste the value of the obscured password from step 7 in the file, replacing the clear text password value to the right of the equals sign. 
 10. Save the change made and close the file. 
 11. Stop IBM Sterling B2B Integrator. 
 12. Run ./setupfiles.sh from a <install directory>/bin prompt. 
 13. Restart IBM Sterling B2B Integrator.
     
     
     Note: Currently, the activemqconfig.xml file does not have an abbreviation available which would enable its parameters to be overridden using the customer_overrides.properties file. Due to that, the above procedure is applied to the activemqconfig.xml.in file. However, that means that the application of an iFix (hotfix), or a patch, or doing an in-place version upgrade of the software may undo the effects of the above procedure. Not all iFixes, patches or upgrades would do so, but any individual one might. Therefore, after any of those types of events, IBM recommends that the activemqconfig.xml file's content and the activemqconfig.xml.in file's content be checked to make sure that the password is still obscured. If it is not, the above procedure will have to be re-run.