Title: IBM NameServer timeout and Cluster failover issues - United States

Text:
netcool; impact; netcool/impact; nci; name; server; nameserver; time; out; timeout; fail; over; failover TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 A loss of communication with and between the NameServers leads to a failover of Services while the Primary ImpactServer is still up and running. 

SYMPTOM
A Service that was running on the Primary fails over to run on the Secondary ImpactServer when it is still valid on the Primary and the Primary ImpactServer is still up and running.


CAUSE
Loss of communication with the NameServer and between the NameServers due to network latency and/or multiple NIC environment.

RESOLVING THE PROBLEM
Increasing the time-out with and between the NameServers and directing the connections to absolute IP addresses with the process (per the TechNote "Erratic Nameserver communication in multi-NIC'ed environment"): 

This process will change the netcall_timeout value (default [n] value is 60) in the files:



 * 
 * impact.nameserver.netcall_timeout= [n] 


and: 

 * 
 * nameserver.netcall_timeout= [n] 


and: 

 * 
 * <param-name>NSSERVICES_LOCK_TIMEOUT</param-name> 
   <param-value> [n]</param-value> 


but to include this change into the GUIServer ear just restarting is not enough. What you need to do is: 

A:- Edit the file: 

 * 
 * 
 * 
 * 


B:- Redeploy the GUIServer ear (extract from Netcool/Impact 5.1.1 Administration Guide page 40): 

 * Redeploying the GUI Server
 * 
 * 
 * 
 * 
 * 
 * 
 * $NCHOME/guiserver/install/ncgui_createear 
 * 


C:- Stop the installation ($NCHOME/bin/ewas.sh stop). 

D:- Edit the files: 

 * 
 * 
 * 
 * 
 * 
 * 


E:- Also edit the file: 

 * 
 * [ImpactServerName]
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * [IPAddress]


F:- And edit the file: 

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * [IPAddress]


G:- Edit the file: 

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * [IPAddress]
 * 


H:- Restart the installation ($NCHOME/bin/ewas.sh start). 

This process will need to be performed on all Cluster members. 
RELATED INFORMATION
 Erratic Nameserver communication in multi-NIC'ed enviro [http://www-01.ibm.com/support/docview.wss?uid=swg21398972]
Cluster with IP addresses [http://www-01.ibm.com/support/docview.wss?uid=swg21635040]