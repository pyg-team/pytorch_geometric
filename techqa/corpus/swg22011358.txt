Title: IBM RMAN-03009, ORA-19554 when attempting an Oracle backup with multiple channels - United States

Text:
TDP; TDPO; RMAN; threaded; channel; session TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Multi-Session Data Protection for Oracle backup fails with RMAN-03009, ORA-19554, ORA-27000, ORA-19511, but single channel backups are successful. 

SYMPTOM
Multi-threaded backups can fail with the following: 

RMAN-03009: failure of allocate command on t2 channel at 10/26/2017 
18:05:29 

ORA-19554: error allocating device, device type: SBT_TAPE, device name: 

ORA-27000: skgfqsbi: failed to initialize storage subsystem (SBT) layer 

ORA-19511: non RMAN, but media manager or vendor specific failure, error
text: 

However, single-threaded backups are successful. 


CAUSE
THREADED_EXECUTION Oracle parameter set to TRUE


ENVIRONMENT
Environments using Oracle 12c or higher. If using a lower Oracle version, then this document does not apply.



DIAGNOSING THE PROBLEM
Connect to SQL Plus on the Oracle server and issue the following to check the THREADED_EXECUTION parameter: 

 
SQL> show parameter thread 


 * 

RESOLVING THE PROBLEM
THREADED_EXECUTION specifies whether to enable the multithreaded Oracle model. Starting in Oracle Database 12c, the multithreaded Oracle model enables Oracle processes on UNIX and Linux to run as operating system threads in separate address spaces. Current Data Protection for Oracle versions expect the original Oracle thread configuration when performing multi-channel backups, so set THREADED_EXECUTION to FALSE. Reference the Oracle link below for more information on this option: 

https://docs.oracle.com/database/121/REFRN/GUID-7A668A49-9FC5-4245-AD27-10D90E5AE8A8.htm#REFRN10335 [https://docs.oracle.com/database/121/REFRN/GUID-7A668A49-9FC5-4245-AD27-10D90E5AE8A8.htm#REFRN10335] 



PRODUCT ALIAS/SYNONYM
 TSM