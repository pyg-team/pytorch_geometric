Title: IBM PK89833: WHEN USING SSL WITH CICS IF THE DEFAULT CERTIFICATE USED HAS A  PRIVATE KEY LENGTH OF GREATER THAN 1024 CICS ABENDS DFHXS0002. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If a CICS region is configured to use SSL and the default
   certificate in the keyring used by the CICS region has a private
   key length greater than 1024 then CICS display message
   
   DFHXS0002  xxxxxxxxx A severe error (code X'0109') has occurred
   in module DFHXSDM.
   
   and then abend U1800.
   
   
    
   
   

LOCAL FIX
 *  Create the default certificate to be used by the CICS/SSL
   connection to have a private key length of 1024 or less.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS users.                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: DFHXS0002  A severe error               *
   *                      (code X'0109') has occurred in module   *
   *                      DFHXSDM.                                *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A keyring was created where the default certificate had a
   private key size greater than 1024 bytes, this was then
   specified as the KEYRING parameter in the CICS System
   Initialisation Table (the SIT). During CICS initialisation
   msgDFHXS0002 was issued and CICS abended with U1800.
   This is because DFHXSIS does not supply a large enough
   buffer on the IRRSDL00 call to RACF which is used to obtain
   the certificate and the private key.
   The same problem will occur if a TCPIPSERVICE or a
   CORBASERVER is defined specifying a certificate with a private
   key greater than 1024 bytes in length. In that case DFHXSCT
   does not supply a large enough buffer. When the resource is
   installed, this results in msgDFHXS0002 being issued.
   
   Additional keywords: msgDFHXS0002 XS0002 U1800 SSL 0109
   GET-PARMS-FAILED 0B08 IRRSDL00_ERROR INQUIRE_CERTIFICATE
   
   
    
   
   

PROBLEM CONCLUSION
 *  DFHXSIS and DFHXSCT have been changed to pass a buffer of
   length 4096 on the IRRSDL00 call.
   
   
    
   
   

TEMPORARY FIX
 *  *********
               * HIPER *
               *********
   FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK89833
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-06-25
   
   
 * CLOSED DATE
   2009-07-27
   
   
 * LAST MODIFIED DATE
   2009-08-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PK87785 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK87785]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK48716
   
   

MODULES/MACROS
 *  DESXSCT  DESXSIS  DFHXSCT  DFHXSIS
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSY UK48716 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK48716]
   UP09/07/29 P F907
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.