Title: IBM XML data not mapped to output and no map error (JOBLOG shows RC=0) - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The XML data may not be mapped to the output and no map error when using IBM Transformation Extender (ITX) on the z/OS platform. 

SYMPTOM
The JOBLOG shows a final job step code of RC=0 despite a warning being issued by a child map called via a RUN() function.


CAUSE
The ITX product will issue a warning code under these specific circumstances:

1. An XML Schema XSD with a series of restriction / enumeration values is used to create an type tree MTT (which implements those as a restriction list).
2. The XML and XSD add a new extra value, but the type tree is NOT re-imported or modified.
3. The map is called as a child map using a RUN() function.
4. The child map ends with a warning BUT the parent map does not.
5. The JOBLOG shows a job step code of 0 for the top level map.

The output may not contain the values that have been added to the XML / XSD, because they do not exist in the type tree object restriction list.

ENVIRONMENT
IBM Transformation Extender (ITX) on the z/OS Batch execution platform

DIAGNOSING THE PROBLEM
Examination of the JOBLOG will show other condition codes for the child map, such as:

Mapping return code 28, severity WARNING:
Input type contains errors
Job step return code is 4
Elapsed CPU time 0.04 seconds

RESOLVING THE PROBLEM
To correct, the XML schema should be imported again, or values manually added to restriction list in the type tree and the map should be recompiled.

With Xerces, if the XML schema changes the XML schema should be re-imported and map recompiled.