Title: IBM PI16144: EXPIRED LTPA TOKEN CAUSES THE EXCEPTIONS - United States

Text:
  FIXES ARE AVAILABLE
Fixes integrated in WebSphere Portal 8.0.0.1 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24034497]
Fixes integrated in WebSphere Portal 8.5.0.0 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24037786]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  In case the LTPA token times out in some situations the
   following error is written to the logs. Code is working as
   designed, only the log statement should not be written.
   
   0000006f
   SessionValida E com.ibm.wps.auth.impl
   .SessionValidationDefaultFilter validateSession
   EJPSD0024E:Exception occurred.com.ibm.wps.services
   .authentication.exceptions.PortalLoginFailedException:
   EJPSD0021E: No subject was setfor PortalLogin.        at
   com.ibm.wps.services.authentication.impl
   .AuthenticationServiceImpl.doPortalLogin(AuthenticationServi
   ceImpl.java:383)        at com.ibm.wps.auth.impl
   .SessionValidationDefaultFilter.validateSession(SessionValid
   ationDefaultFilter.java:197)        at
   com.ibm.wps.auth.impl.SessionValidationFilterChainImpl
   .validateSession(SessionValidationFilterChainImpl
   .java:48)        at com.ibm.wps.auth.impl
   .AuthenticationFilterChainHandlerImpl
   .invokeSessionValidationFilterChain(AuthenticationFilterChai
   nHandlerImpl.java:532)        at
   com.ibm.wps.engine.phases.WPActionPhase
   .processSessionValidation(WPActionPhase.java:4249)
   at com.ibm.wps.engine.phases.WPActionPhase
   .execute(WPActionPhase.java:1132)        at
   com.ibm.wps.state.phases.AbstractActionPhase
   .next(AbstractActionPhase.java:146)        at
   com.ibm.wps.engine.Servlet.callPortal(Servlet
   .java:305)::[3/14/14 8:43:30:622 CET] 0000006f
   LTPAServerObj W   SECJ0371W:Validation of the LTPA token
   failed because the token expired with thefollowing info:
   Token expiration Date: Fri Mar 14 01:01:00 CET 2014,current
   Date: Fri Mar 14 08:43:30 CET 2014 Token
   attributes...
   
   
    
   
   

LOCAL FIX
 *  None available
   
   
    
   
   

PROBLEM SUMMARY
 *  In case the LTPA token times out in some situations the
   following error is written to the logs. Code is working as
   designed, only the log statement should not be written.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Code fixed to not write the exception to the logs.
   .
   A code fix for this issue is integrated into the WebSphere
   Portal & WCM Combined Cumulative Fix 12 (PI14791 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI14791]) for Portal
   8.0.0.1 available from Fix Central:
   
   http://www-933.ibm.com/support/fixcentral/swg/selectFixes?parent
   =ibm/WebSphere&product=ibm/WebSphere/WebSphere+Portal&release=Al [http://www-933.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm/WebSphere&product=ibm/WebSphere/WebSphere+Portal&release=Al]
   l&platform=All&function=aparId&apars=PI14791
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI16144
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-04-16
   
   
 * CLOSED DATE
   2014-05-19
   
   
 * LAST MODIFIED DATE
   2014-05-19
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * FIXED COMPONENT ID
   5724E7600
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP