Title: IBM IY86556: WPM 6.0 CONFIGURATION FAILED WITH ERROR: HPDJA0116E JAVAX.NET.SSL.SSLKEYEXCEPTION: RSA PREMASTER SECRET ERROR - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS UNREPRODUCIBLE IN NEXT RELEASE.
    
   
   

ERROR DESCRIPTION
 *  PMR: 55381,7TD,000
   
   WPM 6.0 configuration failed.
   
   root@ctpsid21 PROD# pdconfig
   
   
           Tivoli Access Manager Setup Menu
   
           1. Configure Package
           2. Unconfigure Package
           3. Display Configuration Status
           x. Exit
   
   Select the menu item [x]: 3
   
   
           Tivoli Access Manager Configuration Status
   
           Package Name Configured?
   
   
   ___________________________________________________________
   
           Access Manager Runtime                          Yes
           Access Manager Policy Server                    Yes
           Access Manager Authorization Server             Yes
           Access Manager Web Portal Manager               No
           Access Manager Runtime for Java                 No
   
   Press Enter to continue.
   
   
           Tivoli Access Manager Setup Menu
   
           1. Configure Package
           2. Unconfigure Package
           3. Display Configuration Status
           x. Exit
   
   Select the menu item [x]: 1
   
   
           Tivoli Access Manager Configuration Menu
   
   
           1. Access Manager Web Portal Manager Configuration
           2. Access Manager Runtime for Java Configuration
           x. Return to the Tivoli Access Manager Setup Menu
   
   
   Select the menu item [x]: 2
   Specify the full path of the Java Runtime Environment (JRE)
   to configure for Tivoli Access Manager
   [/opt/app/WebSphere/AppServer/java/jre]:
   
   Enter 'full' or 'standalone' for the configuration type [full]:
   
   Enter the hostname of the Access Manager
   policy server [pomona]:
   
   Enter the port number of the Access Manager policy server
   [7135]:
   
   Enter the Access Manager policy server domain [Default]:
   
   Tivoli Common Directory logging is currently configured.
   You may enable this application to use Tivoli Common Directory
   logging
   using the currently configured directory for log files.
   
   
   Do you want to use Tivoli Common Directory logging (y/n) [n]?
   
   Configuration of Access Manager Runtime for Java is in progress.
   This might take several minutes.
   Configuration of Access Manager Runtime for Java completed
   successfully.
   
   Press Enter to continue.
   
   
           Tivoli Access Manager Configuration Menu
   
   
           1. Access Manager Web Portal Manager Configuration
           2. Access Manager Runtime for Java Configuration
           x. Return to the Tivoli Access Manager Setup Menu
   
   
   Select the menu item [x]: 1
   Enter the IBM WebSphere Application Server or Deployment Manager
   installation full path [/opt/app/WebSphere/AppServer]:
   Enter the hostname of the Access Manager
   policy server [pomona]:
   Enter the port number of the Access Manager policy server
   [7135]:
   Does the Access Manager domain contain an
   Authorization Server (y/n) [y]?
   Enter the hostname of the Access Manager
   authorization server [pomona]:
   Enter the port number of the Access Manager authorization server
   [7136]:
   Tivoli Access Manager administrator ID: [sec_master]:
   Password for Tivoli Access Manager administrator:************
   HPDJA0116E   Cannot contact server. (0x307a8074)
   
   Here is the exception in amwpmcfg1.log
   
   2006.06.29 18:15:54.567 ----- PROGRAM ERROR null null
   com.tivoli.pd.jts.h sendIt main
   HPDJA0116E   Cannot contact server.
     javax.net.ssl.SSLKeyException: RSA premaster secret error
    at com.ibm.jsse2.u.<init>(Unknown Source)
    at com.ibm.jsse2.w.a(Unknown Source)
    at com.ibm.jsse2.w.a(Unknown Source)
    at com.ibm.jsse2.v.a(Unknown Source)
    at com.ibm.jsse2.by.a(Unknown Source)
    at com.ibm.jsse2.by.l(Unknown Source)
    at com.ibm.jsse2.by.a(Unknown Source)
    at com.ibm.jsse2.f.write(Unknown Source)
    at com.tivoli.pd.jts.h.b(h.java:114)
    at com.tivoli.pd.jts.h.a(h.java:76)
    at com.tivoli.pd.jts.e.a(e.java:18)
    at com.tivoli.pd.jutil.p$0.run(p$0.java)
    at java.security.AccessController.doPrivileged(Native Method)
    at com.tivoli.pd.jutil.p.b(p.java:16)
    at com.tivoli.pd.jutil.p.a(p.java:30)
    at com.tivoli.pd.jutil.PDContext.c(PDContext.java:184)
    at com.tivoli.pd.jutil.PDContext.<init>(PDContext.java:200)
    at
   com.tivoli.pd.jwpmcfg.WPMCommand.isValidUser(WPMCommand.java:298
   )
    at
   com.tivoli.pd.jwpmcfg.WPMCommandPrompt.promptUserInfo(WPMCommand
   Prompt.j
   ava:821)
    at
   com.tivoli.pd.jwpmcfg.WPMCommandPrompt.prompt(WPMCommandPrompt.j
   ava:138)
    at
   com.tivoli.pd.jwpmcfg.AMwpmcfg.interactCfg(AMwpmcfg.java:383)
    at com.tivoli.pd.jwpmcfg.AMwpmcfg.main(AMwpmcfg.java:275)
   Caused by: java.security.NoSuchAlgorithmException: Mode: SSL not
   implemented
    at com.ibm.crypto.provider.RSA.engineSetMode(Unknown Source)
    at javax.crypto.Cipher.a(DashoA6275)
    at javax.crypto.Cipher.getInstance(DashoA6275)
    ... 22 more
   
   Customer's java version:
   
   root@ctpsid21 PROD# type java
   java is /opt/app/WebSphere/AppServer/java/bin/java
   
   root@ctpsid21 PROD# java -fullversion
   java full version "1.4.2_08-b03"
   
   root@ctpsid21 PROD# java -version
   java version "1.4.2_08"
   Java(TM) 2 Runtime Environment, Standard Edition (IBM build
   1.4.2_08-b03
   20050517)
   Java HotSpot(TM) Client VM (build 1.4.2_08-b03, mixed mode)
   IBM Java ORB build orb142-20050429
   XML build XSLT4J Java 2.6.5
   XML build XmlCommonsExternal 1.2.04
   XML build XML4J 4.3.4
   
   And /opt/WebSphere is a link to /opt/app/WebSphere.
   
   root@ctpsid21 PROD# ls -ld WebSphere
   lrwxrwxrwx   1 root     other         18 Feb 24  2005 WebSphere
   ->
   /opt/app/WebSphere
   
   
    
   
   

LOCAL FIX
 *  no
   
   
    
   
   

PROBLEM SUMMARY
 *   This issue has not been recreatable in the L3 l
   ab environment and a suggestion has been made to the L2 team to
   followup with the WebSphere team.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY86556
   
   
 * REPORTED COMPONENT NAME
   ACCESS MGR E-BU
   
   
 * REPORTED COMPONENT ID
   5724C0800
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED UR1
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-06-30
   
   
 * CLOSED DATE
   2006-07-21
   
   
 * LAST MODIFIED DATE
   2006-07-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ACCESS MGR E-BU
   
   
 * FIXED COMPONENT ID
   5724C0800
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSN
   UP