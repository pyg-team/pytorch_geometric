Title: IBM Unable to get VOB tag registry information for replica uuid - United States

Text:
Unable to get VOB tag registry information for replica uuid; registry inconsistency; rgy_check; rgycheck; 1123967 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote explains why the error, Unable to get VOB tag registry information for replica uuid, is reported in IBM® Rational® ClearCase®. 

SYMPTOM
 

This error can be reported in different scenarios: 

 

From the Rational ClearCase ALBD log: 

Job 6 "Daily VOB Space" (13044) Completed: FAILED (0x100) with messages:
"cleartool: Error: Unable to get VOB tag registry information for replica uuid "778a63a2.96044c6e.96cc.e0:7f:32:2a:cd:62": ClearCase object not found
cleartool: Error: Trouble opening VOB database: "/files/test.vbs".
cleartool: Error: Unable to get VOB tag registry information for replica uuid "778a63a2.96044c6e.96cc.e0:7f:32:2a:cd:62": ClearCase object not found
cleartool: Error: Unable to open file "/files/test.vbs": 0. 

 

 

From the vob_scrubbing log: 

Started VOB myhost:/usr/local/vobstore/myvob.vbs at Thu Oct 10 
05:38:48 2002
scrubber/vob/map: Error: Unable to get VOB tag registry 
information for replica uuid "151b24aa.5c5a11d6.a773.00:01:80:22:fc:48": ClearCase object 
not found
scrubber/scrubber: Error: unable to access VOB 
myhost:/usr/local/vobstore/myvob.v
bs: ClearCase object not found
scrubber/scrubber: Warning: skipping VOB 
myhost:/usr/local/vobstore/myvob.vbs due
to earlier errors
Finished VOB myhost:/usr/local/vobstore/myvob.vbs at Thu Oct 10 
05:38:48 2002
Started VOB myhost:/usr/local/vobstore/myvob.vbs at Thu Oct 10 
05:38:48 2002
Start scrub VOB myhost:/usr/local/vobstore/myvob.vbs Pool ddft
Stats for VOB myhost:/usr/local/vobstore/myvob.vbs Pool ddft: 

 

 

Attempts to import a syncreplica packet: 

C:\>multitool syncreplica -import -receive 

multitool: Error: Unable to get VOB tag registry information for replica uuid "7f4ba5ee.ca6d4075.bf74.75:0e:d9:d3:4d:4b": ClearCase object not found 
multitool: Warning: Could not get vobh from msinfo selector (replica oid: 7f4ba5ee.ca6d4075.bf74.75:0e:d9:d3:4d:4b): ClearCase object not found. 
multitool: Error: Invalid input arguments to "msinfo_selector_to_replica_vobh". 

 

 

From the msadm_server log: 

5/10/2006 6:32:20 AM msadm_server(29113): Error: Operation "vob_ob_replica_oid_to_vobh" failed ("4b1e9977.e1af4406.b4ef.75:cb:34:09:bd:79"): ClearCase object not found.

5/10/2006 6:32:20 AM msadm_server(29113): Error: 
Unable to get VOB object registry information for replica uuid "4b1e9977.e1af4406.b4ef.75:cb:34:09:bd:79": ClearCase object not found 

 

 

Attempts to remove a VOB: 

cleartool rmvob <vob-storage-pathname>

cleartool: Error: Unable to get VOB tag registry information for replica uuid "<view-uuid>": ClearCase object not found
cleartool: Error: Trouble opening VOB database: "<vob-storage-pathname>".

Note: This error will occur when trying to remove the VOB from a region that it was not created in. There is no option from the command line to remove a VOB from a region that it is not tagged in. 

 

 

Attempts to mount a VOB 

If the error is happening in the case of mounting a VOB, refer to technote 1228175 [http://www-1.ibm.com/support/docview.wss?&rs=984&uid=swg21228175] to help troubleshoot and resolve the error.

CAUSE

In each instance, the root problem is that there is a VOB registry entry that does not have a VOB tag associated with it in a given region. 

The VOB tag was removed (or never created), but the ClearCase registry entry for the VOB still exist; hence, the error, Unable to get VOB tag registry information for replica uuid. 


This error also happens when you replicate VOBs, and copy UCM views on the replicated server. When you try to access any directory in a VOB from a UCM view it reports the same error. The reason is that VOB gets a new UUID after replication, and UCM view's config spec is associated with old VOBs, and thus they fail. 


RESOLVING THE PROBLEM
 

Use the rgy_check utility to help identify the cause of the error. 

This utility examines the contents of Rational ClearCase or ClearCase LT VOB and or view registries, and reports any errors or inconsistencies. 

Note: If a VOB tag needs to be created in the region for this registry entry, then refer to the below section, Create a VOB tag. 

 

Example:


 1. Run the rgy_check utility, rgy_check -vobs:
    
    > rgy_check -vobs
    rgy_check: Error: This VOB object is stranded (it has no tags in any region):
    -hostname = "trinity"
    -local_path = "/files/test.vbs"
    -vob_replica = "778a63a2.96044c6e.96cc.e0:7f:32:2a:cd:62"
    -vob_family = "e55374b4.417f43ed.b893.6d:41:8e:43:7c:39"
    
    rgy_check: Error: 1 total registry errors/inconsistencies detected.
    
    
 2. Unregister the VOB object, cleartool unregister -vob -uuid <vob_replica>:
    
    > cleartool unregister -vob -uuid 778a63a2.96044c6e.96cc.e0:7f:32:2a:cd:62
    


Note: If the VOB is being removed that caused the error, delete the VOB storage directory using the operating system level delete or remove commands after running rgy_check.  

For more information on the rgy_check utility, refer to IBM Rational ClearCase Command Reference, or run cleartool man rgy_check.




Create a VOB Tag In the case where the VOB tag was removed, and you need to recreate one, execute the cleartool mktag command: 

 * 
 * cleartool mktag -vob -tag <vob-tag> <vob-storage-pathname>



Upon completion of the cleartool mktag command, you can now execute the command that had failed previously, such as:  * cleartool rmvob <vob-storage-pathname> 
 * C:\>multitool syncreplica -import -receive


Note: If you need to remove a VOB that is tagged in a different region, use the above command to tag it in the region that your host is set to, or change the region your client is set to, then remove the VOB from the region it is registered in.






In the case where you get the error when accessing a replicated UCM VOB from a view that was copied from another server, the solution is to either create new UCM views, or run the view_sr utility. This will need to be done to associate each UCM View to each component and PVOB individually. 

Refer to technote 1142752 [http://ibm.com/support/docview.wss?rs=727&uid=swg21142752] Checkouts are not visible after a VOB replica replacement for further information about the view_sr utility. 


RELATED INFORMATION
#About vobsvr_contact call failed: RPC: Program unavaila [http://www.ibm.com/support/docview.wss?uid=swg21135500]






Cross reference information Segment Product Component Platform Version Edition Software Development Rational ClearCase VOB Software Development Rational ClearCase Scheduler Software Development Rational ClearCase Scheduler Software Development Rational ClearCase Synchronization Software Development Rational ClearCase Sync Manager