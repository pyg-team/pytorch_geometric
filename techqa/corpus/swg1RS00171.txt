Title: IBM RS00171: EMPTY DECISION TABLE LEADS TO INCORRECT RULESET GENERATION - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  When an empty decision table is used as the body of a rule task
   (for instance by dragging and dropping it into the ruleflow,
   this will lead to an incorrect ruleset archive generation, and a
   parsing error at execution time.
   
   I get a stack trace as follows:
   
   ilog.rules.res.xu.ruleset.impl.IlrRulesetParseException: Ruleset
   /RuleApp/1.0/testrules/1.0 parsing failed Compilation error in
   task flow#DT1: could not find the group DT1
     at
   ilog.rules.bres.session.j2se.IlrStatelessRuleSessionImpl.execute
   Rules(IlrStatelessRuleSessionImpl.java:188)
     at
   ilog.rules.ras.tools.engine.impl.IlrEngineWrapperAbstract.runRul
   eset(IlrEngineWrapperAbstract.java:431)
     at
   ilog.rules.ras.ssp.servlets.IlrExecutionServlet.doPost(IlrExecut
   ionServlet.java:65)
     at
   javax.servlet.http.HttpServlet.service(HttpServlet.java:637)
     at
   javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
     at
   org.apache.catalina.core.ApplicationFilterChain.internalDoFilter
   (ApplicationFilterChain.java:290)
     at
   org.apache.catalina.core.ApplicationFilterChain.doFilter(Applica
   tionFilterChain.java:206)
     at
   org.apache.catalina.core.StandardWrapperValve.invoke(StandardWra
   pperValve.java:233)
     at
   org.apache.catalina.core.StandardContextValve.invoke(StandardCon
   textValve.java:191)
     at
   org.apache.catalina.authenticator.AuthenticatorBase.invoke(Authe
   nticatorBase.java:433)
     at
   org.apache.catalina.core.StandardHostValve.invoke(StandardHostVa
   lve.java:128)
     at
   org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportVa
   lve.java:102)
     at
   org.apache.catalina.core.StandardEngineValve.invoke(StandardEngi
   neValve.java:109)
     at
   org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapte
   r.java:286)
     at
   org.apache.coyote.http11.Http11Processor.process(Http11Processor
   .java:845)
     at
   org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.
   process(Http11Protocol.java:583)
     at
   org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.ja
   va:447)
     at java.lang.Thread.run(Thread.java:619)
   
   This is due to the fact that the rule task references the group
   of the DT:
   
   ruletask flow#DT1 {
     algorithm = default;
     ordering = dynamic;
     body {
       group("DT1")
     }
   };
   
   However, the DT being empty, its IRL is also empty. The problem
   comes from the fact that the group is set as a property of the
   rules generated from the DT. Hence, if there are no rules, no
   group is defined, and the parsing of the rule task will fail.
   
   
    
   
   

LOCAL FIX
 *  A workaround is to add a rule selection to the the rule task
   that references the empty DT.
   Adding "true" as a static BAL rule selection works.
   
   Another workaround is to put the DT in a separate package and
   use this package as the rule task's body.
   
   You can also generate the corresponding ruleset with an
   extractor instead : keep the default extractor to have all rules
   deployed, just like when there is no extractor.
   
   
    
   
   

PROBLEM SUMMARY
 *  When an empty decision table is used as the body of a rule task
   (for instance by dragging and dropping it into the ruleflow,
   this will lead to an incorrect ruleset archive generation, and a
   parsing error at execution time.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Usage of empty decision tables, dragged into a ruletask, should
   be documented as not supported.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   RS00171
   
   
 * REPORTED COMPONENT NAME
   WS ILOG JRULES
   
   
 * REPORTED COMPONENT ID
   5724X9800
   
   
 * REPORTED RELEASE
   701
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-03-24
   
   
 * CLOSED DATE
   2010-07-07
   
   
 * LAST MODIFIED DATE
   2011-05-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS