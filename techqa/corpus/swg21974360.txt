Title: IBM DASH/JazzSM allow local user logins when an LDAP repository is down - United States

Text:
DASHL2; DASHCONF; allow login when LDAP down; allowOperationIfReposDown TECHNOTE (FAQ)

QUESTION
 Can DASH (Dashboard Application services Hub) a component of JazzSM be configured to allow local users to log in when LDAP repository in the federated repository is unreachable or unavailable? 

CAUSE
When a DASH server is configured with an LDAP server in the federated repository and the LDAP server is unavailable, the default behavior of DASH is to restrict all user logins.


ANSWER
To enable access to DASH for users defined in the defaultWIMFileBasedRealm (including "smadmin" ) if the LDAP server becomes unavailable:

1. Make a backup copy of the wimconfig.xml file located under:

<JazzSM-HOME>/profile/config/cells/JazzSMNode01Cell/wim/config/wimconfig.xml
For example, make a copy called "wimconfig.xml.bak"

2. Get the Realm name as below.

grep -i realms 
<JazzSM-HOME>/profile/config/cells/JazzSMNode01Cell/wim/config/wimconfig.xml

You will see line like below. Here name is the Realm name. Make a note of it.
<config:realms delimiter="/" name="defaultWIMFileBasedRealm" securityUse="active">


3. Start an interactive wsadmin session using the wsadmin script found under 

 <JazzSM-HOME>/profile/bin:

Windows: wsadmin.bat -lang jacl
Unix: ./wsadmin.sh -lang jacl
Enter the following wsadmin commands. Replace "<Realm Name>" with name found in step 2. 
Note that $ sign is part of the command.

$AdminTask updateIdMgrRealm {-name <Realm Name> -allowOperationIfReposDown true}

$AdminConfig save

exit

4. Restart the DASH server process for the change to be picked up.


To revert the change:

Restore the backup copy of the wimconfig.xml you created under:
<JazzSM-HOME>/profile/config/cells/JazzSMNode01Cell/wim/config

Restart the DASH server process for the original wimconfig.xml file to be picked up.