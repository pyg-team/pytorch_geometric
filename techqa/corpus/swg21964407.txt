Title: IBM Datacap Rulerunner server stops after several aborted batches - United States

Text:
Rulerunner hang stop abort TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After several batches abort consecutively in Rulerunner, all threads shut down. 

CAUSE
Rulerunner has a thread control feature that acts as a safety to prevent all pending batches from aborting. When it detects a certain number of consecutively aborted batches on a single thread, Rulerunner shuts down all threads. By default, the threshold is three batches, so shutdown occurs if four batches abort consecutively.

DIAGNOSING THE PROBLEM
With Rulerunner logging turned on, aborting batches will show in the rulerunnerX.log files (where X is the thread number. If there is a question as to whether a Rulerunner shutdown is being caused by this feature, check the rulerunnerX logs for each thread to see if there are four consecutive aborts followed by a shutdown.

RESOLVING THE PROBLEM
If there is a need to change this behavior due to situations where a large number of batches might legitimately abort, the threshold can be increased or the feature can be turned off through the following registry keys.


x86 (32-bit) OS: 

HKEY_LOCAL_MACHINE\SOFTWARE\Datacap\Rulerunner\Misc (REG_DWORD) Restart
Individual processors [default: 1] 

HKEY_LOCAL_MACHINE\SOFTWARE\Datacap\Rulerunner\Misc (REG_DWORD) Restart
processor Attempts [default: 3] 

 

x64 (64-bit) OS: 

HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Datacap\Rulerunner\Misc
(REG_DWORD) Restart Individual processors [default: 1) 

HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Datacap\Rulerunner\Misc
(REG_DWORD) Restart processor Attempts [default: 3] 

 

 * Restart Individual processors - 1 is on, 0 is off. 
 * Restart processor Attempts - Number of times Rulerunner will move to the next batch without shutting down the threads after a series of batches abort.



Cross reference information Segment Product Component Platform Version Edition Enterprise Content Management Datacap Taskmaster Capture Not Applicable Windows 8.1.0.3