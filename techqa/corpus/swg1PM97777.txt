Title: IBM PM97777: INVALIDCLASSEXCEPTION WHEN SYNDICATING FROM 7002 TO 8001 - United States

Text:
  A FIX IS AVAILABLE
Fixes integrated in WebSphere Portal 7.0.0.1 & 7.0.0.2 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24029452]



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Steps to reproduce.
   1. Create a cross version syndication Pair 7 to 8. Wait for the
   syndication to complete.
   2. Create a new Item on Syndication, and then Purge it
   immediately. This will cause a ItemNotFoundException on
   Syndication and will produce a DispatchResult object to
   subscriber.
   3. Wait for the syndication to complete.
   You will see a InvalidClassException exception in the logs.
   
   
    
   
   

LOCAL FIX
 *  The problem of this defect is DispatchResult class has no
   Transformer to make it a TransportNode, instead, it's
   serialized
   with Java serialization framework. This is the problem when we
   do cross version syndication, the signature of DispatchResult
   is
   changed in portal 80. There is no way we can deserialize it in
   8. So a new transformer is created for DispatchResult class,
   then syndicator will send a TransportNode that contains
   DispatchResult and also old serialization version of
   DispathResult in the same response. So if the subscriber can
   recognize this new TransportNode, it will use it. If it can't,
   it will use the serialization version.
   
   
    
   
   

PROBLEM SUMMARY
 *  Steps to reproduce.
   1. Create a cross version syndication Pair 7 to 8. Wait for the
   syndication to complete.
   2. Create a new Item on Syndication, and then Purge it
   immediately. This will cause a ItemNotFoundException on
   Syndication and will produce a DispatchResult object to
   subscriber.
   3. Wait for the syndication to complete.
   You will see a InvalidClassException exception in the logs.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Makeing a DispatchResult a TransportNode fix this issue.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM97777
   
   
 * REPORTED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * REPORTED COMPONENT ID
   5724I2900
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-09-24
   
   
 * CLOSED DATE
   2013-10-15
   
   
 * LAST MODIFIED DATE
   2013-10-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * FIXED COMPONENT ID
   5724I2900
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP