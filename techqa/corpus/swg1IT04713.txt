Title: IBM IT04713: TIVOLI DATA PROTECTION FOR VMWARE PLUG-IN GUI MOUNT OF LINUX GUEST DOES NOT MOUNT ALL LINUX VOLUMES - United States

Text:
AIX  FIXES ARE AVAILABLE
IBM Tivoli Storage Manager (TSM) client 7.1.1.x interim fix downloads [http://www-01.ibm.com/support/docview.wss?uid=swg24038694]
TSM Client 7.1.2 Downloads and READMEs [http://www-01.ibm.com/support/docview.wss?uid=swg24039740]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Attempts to mount a Linux virtual machine guest for file-level
   restore to a Linux mount proxy host results in a single volume
   being mounted.  The Data Protection for VMware plug-in GUI
   reports success messages.
   Customer/L2 Diagnostics:
   The following messages are displayed in the progress history
   section of the plug-in GUI:
   VM '<vmname>': Starting the mount operation for file-level
   restore
   VM '<vmname>': Restoring VM configuration information for
   '<vmname>'
   VM '<vmname>': ANS3155I The Windows data mover is '<datamover>'
   (IPaddress)
   VM '<vmname>': ANS3156I The iSCSI server address used is
   'IPaddress'
   VM '<vmname>': The selected VM is a Linux VM
   VM '<vmname>': ANS3157I The Linux data mover is '<datamover>'
   (IPaddress)
   VM '<vmname>': The Linux iSCSI Initiator Name is
   "iqn.1994-05.com.redhat:b8e711dc894".
   VM '<vmname>': Mounting a snapshot of VM '<vmname>' from disc
   'Hard Disk 1'. Please wait...
   VM '<vmname>': Connecting to the iSCSI targets from the Target
   Portal 'IPaddress'. Please wait...
   VM '<vmname>': Connected successfully to the iSCSI Target
   '<vmname>-hard9disk41-20140923193731'
   VM '<vmname>': Created block device '/dev/sdb1' of type 'ext3'
   VM '<vmname>': Created block device '/dev/sdb2' of type
   'LVM2_member'
   VM '<vmname>': Mounting block devices. Please wait...
   VM '<vmname>': Block device '/dev/sdb1' of type 'ext3' is
   mounted to
   '/tsmmount/tsm_file_level/<vmname>/2014-09-23-19_37_31/Volume1'
   VM '<vmname>': ANS3102I '<vmname>' mounted successfully and is
   ready
   VM '<vmname>': objects examined:1
   VM '<vmname>': objects complete:1
   VM '<vmname>': objects failed:0
   VM '<vmname>': total bytes:0
   Collect a service trace on the mount proxy host for further
   review.  The following will be displayed:
   WARNING: Activation disabled. No device-mapper interaction will
   be attempted.
   dev_is_mpath: failed to get device for 8:2
   dev_is_mpath: failed to get device for 8:18
   WARNING: Duplicate VG name vg00: Existing
   cdCzsv-L322-00kg-1ceX-y4YN-SVlv-HDEGuz (created here) takes
   precedence over 5mWCet-wF2d-qIXQ-s1s6-2SYo-TLF0-pyDN9E
   WARNING: Duplicate VG name vg00:
   cdCzsv-L322-00kg-1ceX-y4YN-SVlv-HDEGuz (created here) takes
   precedence over 5mWCet-wF2d-qIXQ-s1s6-2SYo-TLF0-pyDN9E
   Physical volume "/tmp/snap.9vClRuKv/vgimport1" changed
   This occurs when the mount proxy host has logical volumes with
   the same logical volume group name as the target guest machine.
   
   Note:  This issue does not affect the Recovery Agent.
   
   Initial Impact: Low
   Tivoli Storage Manager Versions Affected:
   7.1.1 Linux
   Additional Keywords:
   TSM VM plugin
   | MDVPARTL 7.1.1.0-TIV_5725TVEVM |
   
   
    
   
   

LOCAL FIX
 *  Rename the logical volume group name on the mount proxy host
   prior to mount, or use a mount proxy host without logical
   volumes.
   
   
    
   
   

PROBLEM SUMMARY
 *  ***************************************************************
    * USERS AFFECTED:                                             *
    * Users of                                                    *
    *  - Tivoli Storage Manager for Virtual Environments:         *
    *    Data Protection for VMware 7.1.1                         *
    ***************************************************************
    * PROBLEM DESCRIPTION: See ERROR DESCRIPTION                  *
    ***************************************************************
    * RECOMMENDATION: This issue is projected to be fixed in the  *
    *            -Tivoli Storage Manager Client on Linux x86 7.1.2*
    *                                                             *
    * Note 1: The Tivoli Storage Manager (TSM) Client is a        *
    *         prerequisite to using the Data Protection for VMware*
    *         In Data Protection for VMware environments, the TSM *
    *         Client is also known as the data mover.             *
    * Note 2: This is subject to change at the discretion of IBM. *
    ***************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The backup-archive client now verifies that only lvm devices to
   be mounted are including in the volume group rename process.
   The lvm devices are now correctly mounted.
   
   
    
   
   

TEMPORARY FIX
 *  -Tivoli Storage Manager Client on Linux x86 7.1.1.1
   
   Note: Until a Data Protection for VMware packaged fix of a
   fixing TSM Client level is available, Data Protection for VMware
   customers can install an use a fixed level of the the TSM Client
   in their environment.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT04713
   
   
 * REPORTED COMPONENT NAME
   TSM FOR VE DP V
   
   
 * REPORTED COMPONENT ID
   5725TVEVM
   
   
 * REPORTED RELEASE
   71L
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-10-02
   
   
 * CLOSED DATE
   2014-12-02
   
   
 * LAST MODIFIED DATE
   2014-12-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TSM CLIENT
   
   
 * FIXED COMPONENT ID
   5698ISMCL
   
   

APPLICABLE COMPONENT LEVELS
 * R71L PSY
   UP