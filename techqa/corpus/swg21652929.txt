Title: IBM Protecting ODM applications against clickjacking attacks - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How to prevent the Decision Center and Rule Execution Server console applications from being embedded in an iframe? 

CAUSE
Embedding an application in an iframe and hiding it can enable attackers to manipulate users into clicking certain areas of iframe. It is possible for the application embedded in the iframe to have sensitive areas such as Delete buttons, which can lead to unintentional deletion of data and to other damageable consequences.

ANSWER
The following link directs you to a procedure to integrate a Java EE filter into a web application, in order to prevent it from being embedded in an iframe: https://www.owasp.org/index.php/Clickjacking_Protection_for_Java_EE [https://www.owasp.org/index.php/Clickjacking_Protection_for_Java_EE] 

Note: You might need to change the source code of the solution that is attached in the above article to make sure that the X-FRAME-OPTIONS header is added before the rest of the filter chain is processed, as per the code below: 


public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {
HttpServletResponse res = (HttpServletResponse)response;
res.addHeader("X-FRAME-OPTIONS", mode ); 
chain.doFilter(request, response);
}

After you have compiled the class, the next step is to integrate this filter. 


 1. Place the filter in the WEB-INF/classes directory of both Decision Center and Rule Execution Server management console applications. 
 2. Edit the web.xml deployment descriptor in the WEB-INF folder of Decision Center and Rule Execution Server management console applications and insert the following content (if you use the DENY mode). Make sure that <filter-name> is the first filter-mapping element in the web.xml file:


<filter> 
<filter-name>ClickjackFilterDeny</filter-name> 
<filter-class>org.owasp.filters.ClickjackFilter</filter-class> 
<init-param> 
<param-name>mode</param-name> 
<param-value>DENY</param-value> 
</init-param> 
</filter> 

<!-- use the Deny version to prevent anyone, including yourself, from framing the page --> 
<filter-mapping> 
<filter-name>ClickjackFilterDeny</filter-name> 
<url-pattern>/*</url-pattern> 
</filter-mapping>  


Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere ILOG JRules 7.1.1, 7.1, 7.0.3, 7.0.2, 7.0.1, 7.0