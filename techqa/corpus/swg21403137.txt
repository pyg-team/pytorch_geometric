Title: IBM Rational Application Developer v7.5 Server tools fail to detect correct ports for WebSphere Portal Server v6.1 - United States

Text:
RoleBasedAuth; SECJ0306E; wp_profile; port; number; RATLC00322151; PK95392; Automatically determine connection settings; Manually provide connection settings; server; WebSphere; RAD; RSA; v7.5.3; v6.1; global security; Secure File Transfer; publish; security; global; filetransferSecured; ear; wp_profile; server1 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IBM Rational Application Developer for WebSphere Software v7.5.3 Server tools fail to detect correct ports for WebSphere Portal Server v6.1 on RedHat Linux v5.0. 

SYMPTOM
WebSphere Portal Server v6.1 fails on manual publish or server startup with error, for example:

"[9/1/09 10:42:11:184 EDT] 0000005c RoleBasedAuth E SECJ0306E: Noreceived or invocation credential exist on the thread. The Role based authorization check will not have an accessId of the caller to check. 

The parameters are: access check method listApplications:java.util.Hashtable:java.lang.String on resource AppManagement and module AppManagement. The stack trace is java.lang.Exception: Invocation and received credentials are both null" 

 

and when starting up the WebSphere Portal Server v6.1 server you should see the following content: 

 

 * Activity.log:


.. Application started: filetransferSecured ..  

 * SystemOut.log


.. Starting application: filetransferSecured .. 




Steps to Reproduce: 

 1. Open Rational Application Developer in new workspace 
 2. Configure local Portal server runtime if not detected (such as on Linux) 
 3. Create a new Portal 6.1 server (on WebSphere Application Server v7 if applicable) 
 4. Accept the defaults and ensure username/password are correct 
 5. Save 
 6. Open the Server overview. 
 7. The default ports of 10031 for RMI and 10033 for SOAP are always selected. 
 8. Click "Manually provide connection settings" 
 9. Click "Automatically determine connection settings".


Result: The port numbers for server1 (as opposed to WebSphere_Portal) are loaded into the Port field for RMI and SOAP.



CAUSE
This issue has been identified as a product defect under APAR PK95392.


 

DETAILS: 

The automatically detected server profile port values are incorrect (RMI: 10004, SOAP: 10005 
instead of RMI: 10031 and SOAP: 10033). The server tools detected available ports on the WebSphere Application Server v6.1 "server1" server that supports portal configuration instead of the Portal server profile: wp_profile, that supports the Portal and portlets.

Note: The above port number are the defaults for an installation of WebSphere Portal Server v6.1.
They may vary of they had already been assigned to another WebSphere Application Server v6.x/v7.x server profile.


ENVIRONMENT
 

 * WebSphere Portal Server v6.1 installed with global security enabled and specific id(s) and password(s) for the WebSphere Application Server profile "server1" and Portal Server profile "wp_profile". 
 * Secure File Transfer is enabled by default if installed with WebSphere Application Server v6.1 (not needed in v7.0). 
 * You should see the EAR under: \\WebSphere Portal Server 6.1\AppServer\SystemAps\filetransferSecured.ear 


RESOLVING THE PROBLEM
 

WORKAROUND:
Specify in the Server Overview (server configuration) editor for the WebSphere Portal server profile: wp_profile:
"Manually provide connection settings" and using SOAP with port # 10033 (or whatever the wp_profile port number may be set to on your machine).