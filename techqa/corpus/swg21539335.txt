Title: IBM How to call an Oracle stored procedure from an ODBC map (SCI81624) - United States

Text:
Mapping; Translation; STERLINGPRI TECHNOTE (FAQ)

QUESTION
 How to call an Oracle stored procedure from an ODBC map (SCI81624) 

ANSWER
The procedure has to be defined with one output parameter defined as a cursor. For example:
CREATE or replace PROCEDURE Test1 (emp_cv OUT emp_data.EmpCurTyp) as BEGIN OPEN emp_cv FOR select * from PRODUCTS; END Test1 ;

where in this case the cursor (emp_data.EmpCurTyp) is defined in the emp_data package:

CREATE or replace PACKAGE emp_data AS TYPE EmpCurTyp IS REF CURSOR; END;

In the map editor define the stored procedure call this way:
Test1(?) //The ? indicates to the translator that it needs to grab one output parameter and this output parameter will be a cursor. 


Note:Stored procedures that return a result set can only be called from the Input side of a SQL map where the Input File Format is SQL. When the output side of the map uses the SQL File Format, result sets cannot be returned to the map. 

 

HISTORICAL NUMBER
 PRI7792 

PRODUCT ALIAS/SYNONYM
 

Fact


SQL Map 
SQL File Format 
Gentran Integration Suite
All Releases 

SCI81624


Goal


How to call an Oracle stored procedure from an ODBC map