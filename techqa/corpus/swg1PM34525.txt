Title: IBM PM34525: ACCESSDENIEDEXCEPTION GENERATED WHEN RENDERING MENU RESULTS - United States

Text:
  A FIX IS AVAILABLE
6.1.0.6 Download: WebSphere Portal and WCM V6.1.0 fix pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030970]



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  AccessDeniedException generated when rendering menu results
   
   
   
   Details:
   Rendering the Web Content Management Menu incorrectly generated
   AccessDeniedException in the SystemOut.log.
   
   For this scenario the following error was observed:
   
   
   SystemOut.log.
   
   [3/7/11 15:42:26:770 EST] 0000011c AbstractContr E   The
   requested
   operation violates one or more access constraints.
   
   com.ibm.icm.jcr.access.AccessDeniedException: The requested
   operation
   violates one or more access constraints.
       at
   com.ibm.icm.jcr.NodeImpl.checkPermissions(NodeImpl.java:6072)
       at
   com.ibm.icm.jcr.WorkspaceImpl.getNodeByUuid(WorkspaceImpl.java:1
   164)
       at
   com.ibm.icm.jcr.WorkspaceImpl.getNodeByUuid(WorkspaceImpl.java:1
   056)
       at
   com.ibm.workplace.wcm.data.jcr.JCRDataUtils.getNodeByUUID(JCRDat
   aUtils.j
   ava:265)
       at
   com.ibm.workplace.wcm.domain.transformers.controllable.AbstractC
   ontrolla
   bleTransformer.implodeControl(AbstractControllableTransformer.ja
   va:739)
       at
   com.aptrix.pluto.control.Controllable.getControl(Controllable.ja
   va:212)
       at
   com.aptrix.pluto.control.Controllable.getControl(Controllable.ja
   va:185)
       at
   com.aptrix.pluto.control.ControlSummaryUtils.getControl(ControlS
   ummaryUt
   ils.java:136)
       at
   com.aptrix.pluto.control.ControlSummaryUtils.getControl(ControlS
   ummaryUt
   ils.java:118)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt.isDraft(BaseReferenceC
   mpnt.jav
   a:1254)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt.validateIdentity(BaseR
   eference
   Cmpnt.java:1289)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt.getTargetContentID(Bas
   eReferen
   ceCmpnt.java:717)
       at
   com.aptrix.pluto.cmpnt.IDCmpnt.getTargetCmpnt(IDCmpnt.java:311)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt.retrieveCmpnt(BaseRefe
   renceCmp
   nt.java:1666)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt.resolve(BaseReferenceC
   mpnt.jav
   a:1482)
       at com.aptrix.pluto.cmpnt.Cmpnt.resolveCmpnt(Cmpnt.java:160)
       at
   com.aptrix.pluto.cmpnt.FormatterCmpnt.applyMicroTemplate(Formatt
   erCmpnt.
   java:984)
       at
   com.aptrix.pluto.cmpnt.FormatterCmpnt.resolveNode(FormatterCmpnt
   .java:79
   5)
       at
   com.aptrix.pluto.cmpnt.FormatterCmpnt.resolve(FormatterCmpnt.jav
   a:695)
       at
   com.aptrix.pluto.cmpnt.MenuCmpnt.resolve(MenuCmpnt.java:2091)
       at
   com.aptrix.pluto.cmpnt.CmpntUtils.resolveToText(CmpntUtils.java:
   345)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt.getResult(BaseReferenc
   eCmpnt.j
   ava:1775)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt.resolve(BaseReferenceC
   mpnt.jav
   a:1511)
       at com.aptrix.pluto.cmpnt.Cmpnt.resolveCmpnt(Cmpnt.java:160)
       at
   com.aptrix.pluto.renderer.PlutoRenderer.renderCmpnt(PlutoRendere
   r.java:2
   13)
       at
   com.aptrix.pluto.renderer.CmpntRequestProcessor.processRequest(C
   mpntRequ
   estProcessor.java:168)
       at
   com.aptrix.pluto.renderer.RendererModule.processNonConnectTagCac
   heableRe
   quest(RendererModule.java:1126)
       at
   com.aptrix.pluto.renderer.RendererModule.processCacheableRequest
   (Rendere
   rModule.java:1040)
       at
   com.aptrix.pluto.renderer.RendererModule.processCmpntRequest(Ren
   dererMod
   ule.java:1369)
       at
   com.ibm.workplace.wcm.api.WCM_Workspace.render(WCM_Workspace.jav
   a:4359)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Problem Description:
   In some cases, when rendering menu component or IDCmpnt tag an
   access denied exception such as the following can be written to
   the logs:
   
   [3/7/11 15:42:26:770 EST] 0000011c AbstractContr E   The
   requested
   operation violates one or more access constraints.
   
   com.ibm.icm.jcr.access.AccessDeniedException: The requested
   operation
   11 of 20
   violates one or more access constraints.
       at com.ibm.icm.jcr.NodeImpl.checkPermissions(NodeImpl
   .java:6072)
       at
   com.ibm.icm.jcr.WorkspaceImpl.getNodeByUuid(WorkspaceImpl
   .java:1164)
       at
   com.ibm.icm.jcr.WorkspaceImpl.getNodeByUuid(WorkspaceImpl
   .java:1056)
       at
   com.ibm.workplace.wcm.data.jcr.JCRDataUtils
   .getNodeByUUID(JCRDataUtils.j
   ava:265)
       at
   com.ibm.workplace.wcm.domain.transformers.controllable
   .AbstractControlla
   bleTransformer.implodeControl(AbstractControllableTransformer
   .java:739)
       at
   com.aptrix.pluto.control.Controllable.getControl(Controllable
   .java:212)
       at
   com.aptrix.pluto.control.Controllable.getControl(Controllable
   .java:185)
   12 of 20
       at
   com.aptrix.pluto.control.ControlSummaryUtils
   .getControl(ControlSummaryUt
   ils.java:136)
       at
   com.aptrix.pluto.control.ControlSummaryUtils
   .getControl(ControlSummaryUt
   ils.java:118)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt
   .isDraft(BaseReferenceCmpnt.jav
   a:1254)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt
   .validateIdentity(BaseReference
   Cmpnt.java:1289)
       at
   com.aptrix.pluto.cmpnt.BaseReferenceCmpnt
   .getTargetContentID(BaseReferen
   ceCmpnt.java:717)
       at com.aptrix.pluto.cmpnt.IDCmpnt.getTargetCmpnt(IDCmpnt
   .java:311)
   13 of 20
   
   
    
   
   

PROBLEM CONCLUSION
 *  WCM changed this message from warning to tracing
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM34525
   
   
 * REPORTED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * REPORTED COMPONENT ID
   5724I2900
   
   
 * REPORTED RELEASE
   615
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-03-10
   
   
 * CLOSED DATE
   2011-03-11
   
   
 * LAST MODIFIED DATE
   2011-03-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * FIXED COMPONENT ID
   5724I2900
   
   

APPLICABLE COMPONENT LEVELS
 * R615 PSY
   UP