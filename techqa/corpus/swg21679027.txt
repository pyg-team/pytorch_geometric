Title: IBM The Portal startup fails with these messages..."UnsupportedClassVersionError" and "bad major version at offset=6" - United States

Text:
UnsupportedClassVersionError; bad major version; offset=6; startup TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 During the Portal startup the startup fails with these messages in the SystemOut.log..."UnsupportedClassVersionError" and "bad major version at offset=6" 

SYMPTOM
The SystemOut.log shows the following...

[7/11/14 13:20:23:684 EDT] 0000001a Servlet E com.ibm.wps.engine.
Servlet init EJPFD0016E: Initialization of service failed.
java.lang.
UnsupportedClassVersionError:
(com/ibm/wps/services/puma/PumaServiceImpl) bad major version at
offset=6
at java.lang.ClassLoader.defineClassImpl(Native Method)
at java.lang.ClassLoader.defineClass(ClassLoader.java:267)


CAUSE
This message can occur when component was compiled under a newer version of a JDK
than what the Portal JVM is running.

In this case, this specific issue was that the customer had placed a PUMA test fix they had received from IBM while working another problem in the PortalServer/shared/app directory. This fix was made for a higher version of Portal and therefore was complied on a high JDK version than what the customer was running.

ENVIRONMENT
Portal 6.1x
AIX

DIAGNOSING THE PROBLEM
Review the last Portal startup attempt in the SystemOut.log

RESOLVING THE PROBLEM
In this case, the customer simply removed the test fix code from the PortalServer/shared/app directory and restarted Portal