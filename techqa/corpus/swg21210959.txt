Title: IBM AMOS: logon to Web Portal manager fails with error HPDJA0116E Cannot contact server - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 When I try to logon to Web Portal Manager I obtain the following error message in the 
browser:
'HPDJA0116E Cannot contact server' 
The problem occurs for any user/admin userid I try to login with.
It's possible to login via command line using pdadmin and perform any AMOS command, but not via GUI 

ANSWER
If the cert for WPM is not already expired then, run the following steps:
1. Change the default cert expiration time. 
then all servers need to run a -chgcert command to generate a new cert with the extended expiration time 
On the Policy Server: 
Example to set a cert life of 10 years would be: pd_start stop
/opt/PolicyDirector/sbin/mgrsslcfg -modify -l 3650 
pd_start start 

Now, any cert that is renewed will be set to 10 years for the cert life 

2. Refresh the cert for WPM run the following: 
On the WPM box 
For AIX: /usr/WebSphere/AppServer/java/jre/bin/java com.tivoli.pd.jcfg.SvrSslCfg
-action replcert -admin_id sec_master -admin_pwd ****** -cfg_file /opt/PolicyDirector/java/export/pdwpm/pdwpm.properties

For Windows:
%WAS_HOME%\java\jre\bin\java com.tivoli.pd.jcfg.SvrSslCfg -action 
replcert -admin_id sec_master -admin_pwd ****** -cfg_file 
"c:\progra~1\tivoli\Policy~1\java\export\pdwpm\pdwpm.properties" 
If the cert for WPM is already expired then, run the following steps:
Since this is a java keystore certificate, an unconfig and reconfig of the WPM is needed.

On the WPM box:
1. Unconfigure WPM
/usr/WebSphere/AppServer/java/jre/bin/java com.tivoli.pd.jcfg.SvrSslCfg -action unconfig -admin_id sec_master
-admin_pwd **** -appsvr_id app_svr_ID -policysvr PD_svr_name:7135:1 -cfg_file /opt/PolicyDirector/java/export/pdwpm/pdwpm.properties

where 
app_svr_ID is the application server ID 
PD_svr_name is the Policy server hostname


2. Reconfigure the WPM:
/usr/WebSphere/AppServer/java/jre/bin/java com.tivoli.pd.jcfg.SvrSslCfg -action config -admin_id sec_master
-admin_pwd ******* -appsvr_id app_svr_ID -mode remote -port 7200
-policysvr PD_svr_name:7135:1 -authzsvr auth_svr_name:7136:1 -cfg_file /opt/PolicyDirector/java/export/pdwpm/pdwpm.properties -key_file /opt/PolicyDirector/java/export/pdwpm/pdwpm.ks -cfg_action replace

where 
app_svr_ID is the application server ID 
PD_svr_name is the Policy server hostname
auth_svr_name is the authorization server name


 

HISTORICAL NUMBER
 pmr 23715.000.613