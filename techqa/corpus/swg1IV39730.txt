Title: IBM IV39730: 1000'S OF NRS ERRORS CAUSED BY CONSTRAINT ERROR ON DUPLICATES TABLE. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The following error occurs in error.log on the TADDM Storage
   Server(s) many times;
   
   
   2013-03-26 14:47:50,396 TopologyManager [RMI TCP
   Connection(171167)-10.1.2.3]  ERROR util.NRSNamingUtility -
   com.ibm.tivoli.namereconciliation.common.NrsDatabaseException:
   3001. An unexpected database system error has occurred.
    at
   com.ibm.tivoli.namereconciliation.service.NrsService.handleDatab
   aseException(NrsService.java:372)
    at
   com.ibm.tivoli.namereconciliation.service.NrsService.handleAllOt
   herExceptions(NrsService.java:415)
    at
   com.ibm.tivoli.namereconciliation.service.NrsService.fixDuplicat
   es(NrsService.java:2760)
    at
   com.ibm.tivoli.namereconciliation.service.NrsService.register(Nr
   sService.java:904)
    at
   com.ibm.tivoli.namereconciliation.api.NrsApi.register(NrsApi.jav
   a:314)
    at
   com.collation.platform.model.util.NRSNamingUtility$NRSHandle.reg
   ister(NRSNamingUtility.java:1124)
    at
   com.collation.platform.model.util.NRSNamingUtility.traverseTree(
   NRSNamingUtility.java:627)
    at
   com.collation.platform.model.util.NRSNamingUtility.traverseTree(
   NRSNamingUtility.java:203)
    at
   com.collation.platform.model.util.NRSNamingUtility.traversePoint
   ers(NRSNamingUtility.java:858)
    at
   com.collation.platform.model.util.NRSNamingUtility.computeGuidRe
   sults(NRSNamingUtility.java:1004)
    at
   com.collation.topomgr.jdo.topology.sys.ComputerSystemJdo.compute
   Names(ComputerSystemJdo.java:7259)
    at
   com.collation.topomgr.jdo.topology.sys.ComputerSystemJdo.persist
   JdoComputerSystemJdo.java:7401)
   
   
   
   The root cause can be found in the NamingReconService.log* as a
   constraint error on Duplicates table;
   
   
   Mar 26, 2013 2:47:30 PM
   com.ibm.tivoli.namereconciliation.service.NrsSer
   vice fixDuplicates(duplicateList)
   SEVERE: NOTE ^*** SQL State = 23505.   SQL Code  = -803.   SQL
   Message =
    Error for batch element #1: DB2 SQL Error: SQLCODE=-803,
   SQLSTATE=23505
   , SQLERRMC=4;DB2INST2.DUPLICATES, DRIVER=3.63.75^n^
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  The following error occurs in error.log on the TADDM Storage
   Server(s) many
   times; 2013-03-26 14:47:50,396 TopologyManager [RMI TCP
   Connection(171167)-10.1.2.3] ERROR util.NRSNamingUtility -
   com.ibm.tivoli.namereconciliation.common.NrsDatabaseException:
   3001. An
   unexpected database system error has occurred. at
   com.ibm.tivoli.namereconciliation.service.NrsService.handleDatab
   aseException(NrsService.java:372)
   at
   com.ibm.tivoli.namereconciliation.service.NrsService.handleAllOt
   herExceptions(NrsService.java:415)
   at
   com.ibm.tivoli.namereconciliation.service.NrsService.fixDuplicat
   es(NrsService.java:2760)
   at
   com.ibm.tivoli.namereconciliation.service.NrsService.register(Nr
   sService.java:904)
   at
   com.ibm.tivoli.namereconciliation.api.NrsApi.register(NrsApi.jav
   a:314) at
   com.collation.platform.model.util.NRSNamingUtility$NRSHandle.reg
   ister(NRSNamingUtility.java:1124)
   at
   com.collation.platform.model.util.NRSNamingUtility.traverseTree(
   NRSNamingUtility.java:627)
   at
   com.collation.platform.model.util.NRSNamingUtility.traverseTree(
   NRSNamingUtility.java:203)
   at
   com.collation.platform.model.util.NRSNamingUtility.traversePoint
   ers(NRSNamingUtility.java:858)
   at
   com.collation.platform.model.util.NRSNamingUtility.computeGuidRe
   sults(NRSNamingUtility.java:1004)
   at
   com.collation.topomgr.jdo.topology.sys.ComputerSystemJdo.compute
   Names(ComputerSystemJdo.java:7259)
   at
   com.collation.topomgr.jdo.topology.sys.ComputerSystemJdo.persist
   JdoComputerSystemJdo.java:7401)
   The root cause can be found in the NamingReconService.log* as a
   constraint error
   on Duplicates table; Mar 26, 2013 2:47:30 PM
   com.ibm.tivoli.namereconciliation.service.NrsSer vice
   fixDuplicates(duplicateList) SEVERE: NOTE ^*** SQL State =
   23505. SQL Code =
   -803. SQL Message = Error for batch element #1: DB2 SQL Error:
   SQLCODE=-803,
   SQLSTATE=23505 , SQLERRMC=4;DB2INST2.DUPLICATES,
   DRIVER=3.63.75^n^
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is contained in the following maintenance
   packages:
   | Fix Pack | 7.2.1-TIV-ITADDM-FP0005
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV39730
   
   
 * REPORTED COMPONENT NAME
   APP DEPENDENCY
   
   
 * REPORTED COMPONENT ID
   5724N5500
   
   
 * REPORTED RELEASE
   721
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-04-12
   
   
 * CLOSED DATE
   2013-07-23
   
   
 * LAST MODIFIED DATE
   2013-07-23
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   APP DEPENDENCY
   
   
 * FIXED COMPONENT ID
   5724N5500
   
   

APPLICABLE COMPONENT LEVELS
 * R721 PSY
   UP