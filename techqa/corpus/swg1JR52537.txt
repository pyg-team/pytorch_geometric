Title: IBM JR52537: INBOUND WEB SERVICE GENERATE INCORRECT WSDL AND SOAP MESSAGE FOR COMPLEX TYPE LIST PARAMETERS - United States

Text:
  DIRECT LINKS TO FIXES
bpm.8560.cf1.delta.repository.2 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=bpm.8560.cf1.delta.repository.2&source=SAR]
bpm.8560.cf1.delta.repository.1 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=bpm.8560.cf1.delta.repository.1&source=SAR]
8.5.6.0-WS-BPM-IFJR52537 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=8.5.6.0-WS-BPM-IFJR52537&source=SAR]
8.5.5.0-WS-BPM-IFJR52537 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=8.5.5.0-WS-BPM-IFJR52537&source=SAR]
Version 8.5 Refresh Pack 7 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24041575]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When you place your inbound web service  inside a toolkit and
   one parameter is defined as a complex type list, the inbound
   web service generated WSDL contains an array type definition
   in a non-existent namespace and the runtime-generated SOAP
   message does not accomplish the WSDL definition. As a result,
   the web service client reports an error when loading the wrong
   WSDL or parsing the SOAP response message.
   
      This can lead to the following hung threads
   [4/14/16 8:01:33:763 CEST] 000000a5 ThreadMonitor W   WSVR0605W:
    Thread
   "WebContainer : 0" (000001b2) has been active for 726141
   milliseconds and may be hung.  There is/are 1 thread(s) in
   total in the server that may be hung.
           at
   java.util.HashMap.findNonNullKeyEntry(HashMap.java:605)
   
   
   "WebContainer : 37" J9VMThread:0x0000000049652700,
   j9thread_t:0x000001004F719B40,
   java/lang/Thread:0x000000071FA2E298,
   state:R, prio=5
    (java/lang/Thread getId:0x24E2, isDaemon:true)
    (native thread ID:0x43D001D, native priority:0x5, native
   policy:UNKNOWN, vmstate:CW, vm thread flags:0x00000001)
   CPU usage total: 21.683002000 secs, user: 21.648816000 secs,
   system:
   0.034186000 secs
   Heap bytes allocated since last GC cycle=0 (0x0)
   Java callstack:
     at java/util/HashMap.findNonNullKeyEntry(HashMap.java:605
   (Compiled Code))
     at java/util/HashMap.getEntry(HashMap.java:589(Compiled Code))
     at java/util/HashMap.get(HashMap.java:575(Compiled Code))
     at com/lombardisoftware/core/xml/XMLTypeDescriptor.
   getFieldDescriptorByElementQName(XMLTypeDescriptor.java:495
   (Compiled Code))
     at com/lombardisoftware/core/xml/AbstractXMLSerializer.
   deserializeComplexType(AbstractXMLSerializer.java:1871(Compiled
   Code))
     at com/lombardisoftware/core/xml/AbstractXMLSerializer.
   deserializeObject(AbstractXMLSerializer.java:1335(Compiled
   Code))
     at com/lombardisoftware/core/xml/AbstractXMLSerializer.
   deserialize(AbstractXMLSerializer.java:1089)
     at com/lombardisoftware/sca/databinding/AxiomToTWObject.
   fromOMElement(AxiomToTWObject.java:111)
   
   
    
   
   

LOCAL FIX
 *  No local fix
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  IBM Business Process Manager (BPM)          *
   *                  Advanced                                    *
   *                  IBM BPM Express                             *
   *                  IBM BPM Standard                            *
   ****************************************************************
   * PROBLEM DESCRIPTION: When you place your inbound web         *
   *                      service  inside a toolkit and one       *
   *                      parameter is defined as a complex       *
   *                      type list, the inbound web service      *
   *                      generated WSDL contains an array type   *
   *                      definition in a non-existent            *
   *                      namespace and the runtime-generated     *
   *                      SOAP message does not accomplish the    *
   *                      WSDL definition. As a result, the web   *
   *                      service client reports an error when    *
   *                      loading the wrong WSDL or parsing the   *
   *                      SOAP response message.                  *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When you put the inbound web service inside a toolkit, the
   WSDL might use the namespace of the toolkit instead of the
   process application namespace. As a result, the array list
   items are created with the wrong namespace and wrong WSDL and
   a wrong SOAP message are generated.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A fix is available for IBM BPM V8.5.5.0 that ensures the
   correct namespace is used no matter where the web service is
   placed.
   
   On Fix Central (http://www.ibm.com/support/fixcentral), search
   for JR52537:
   
   1.Select IBM Business Process Manager with your edition from
   the product selector, the installed version to the fix pack
   level, and your platform, and then click Continue.
   2.Select APAR or SPR, enter JR52537, and click Continue.
   
   When you download fix packages, ensure that you also download
   the readme file for each fix. Review each readme file for
   additional installation instructions and information about the
   fix.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR52537
   
   
 * REPORTED COMPONENT NAME
   BPM ADVANCED
   
   
 * REPORTED COMPONENT ID
   5725C9400
   
   
 * REPORTED RELEASE
   855
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-02-12
   
   
 * CLOSED DATE
   2015-04-07
   
   
 * LAST MODIFIED DATE
   2016-12-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM ADVANCED
   
   
 * FIXED COMPONENT ID
   5725C9400
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP