Title: IBM Content Navigator (ICN) - document preview returns the error: "No such file or directory". - United States

Text:
navigator /tmp temp temporary storage _loadDocument java.io.IOException Linux tmpwatch java.io.tmpdir exclude TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Previewing documents in ICN returns the error below.


SYMPTOM
CIWEB Error: com.ibm.ecm.beans.viewer.DocServicesSessionBean$ICNStreamingDocServices.
_loadDocument java.io.IOException: No such file or directory


CAUSE
ICN creates a subdirectory under UNIX: /tmp or Windows:\temp for temporary file storage. On some systems, automated housecleaning procedures at OS level delete the contents of /tmp and its subdirectories, resulting in the error.

DIAGNOSING THE PROBLEM
On startup, ICN sets the variable ENGINE_TEMPDIR which defines a temporary directory, for example:
'/tmp/ECMClient.IBMWebSphereApplicationServer80.navigator.tmpdir' .
Verify the directory path and check whether the directory exists or has been deleted.

RESOLVING THE PROBLEM
There are two ways to resolve the problem:


1) Disable the automation which deletes the contents of /tmp. Some Linux systems for example use a 'tmpwatch' process which deletes files in /tmp. For tmpwatch, an 'EXCLUDE' job parameter can be defined, causing the process to skip the named subdirectory.
2) ICN uses the Java Virtual Machine (JVM) default temp file directory, which can be overridden at JVM level by adding the Java system property java.io.tmpdir. For example, specify "-Djava.io.tmpdir=/var/temp" in the application server startup configuration. Note that this setting is JVM-wide and will affect all applications running on the application server.