Title: IBM How do I troubleshoot Computer Associates SiteMinder Single Sign On (SSO) related issues for IBM Case Manager? - United States

Text:
icm; acm; sm sso; ca sm sso; sso; http 302; http 404; CDEWG2803E; CDEWG2805E TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When configuring Computer Associates (CA) SiteMinder Single Sign On (SSO) for IBM Case Manager some configuration issues may occur. This tech note describes how to resove those issues.


RESOLVING THE PROBLEM
In Case Manager Client, when loading in-basket content list you may get HTTP 302 redirect resulting into CDEWG2805E error.


If you receive the CDWG2805E error, check the following possible causes:
1. Ensure that the "SSLProxyEngine" directive exists and is On, within the httpd.conf file on the IHS server.
2. Check for missing certificates on the IHS server. If certificates are missing, export the default and root certificates from the WebSphere Application Server.
3. Check whether the Reverse Proxy settings match the type of HTTP server, for example, Apache or IHS. For IHS, use the following settings:
(i) Location tag is replaced with LocationMatch
(ii) LocationMatch URI starts with ^ symbol
(iii) ProxyPass pair moves outside of the LocationMatch tag, and the directive's endpoint is added to the middle.
(iv) Ensure there is a Reverse Proxy set of tags for WorkplaceXT. If not, add the setting.


Examples of where the errors might be seen:

Case Manager Client: 

There will be a pop-up message indicating error code CDEWG2805E.

If you have the Firebug plugin, the console shows the URL being accessed as: (getting http code 302)
https://subdomain.mydomain.com/CaseManager/P8BPMREST/p8/bpm/v1/appspaces/ABCD%20II/roles/My%20Summary?cp=PEACMCP1&includeCustomAttributes=true&dojo.preventCache=134859 302 

 

 

Case Manager Client HTTP 302 redirects resulting in "Cancel Checkout failed" errors 


If the above error is seen, check the following possible cause: 

 * Ensure that "DELETE" Web Agent Action is added to the following Realms in the Site Minder Policy server. If not add it.
   1. Case Manager
   2. Case Manager Proxy



Examples of where the errors could be seen: 

Client side: 
There will be a pop-up message indicating error 'Cancel Checkout failed'. 

Case Manager Client gets "Error 404: ProxyServlet: /mum/loader" error after logging in

If the above errors is seen, this may indicate that some of the Business Space related files are not created correctly. Use the following steps to try to resolve the issue: 

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 *   * <WebSphere Installation Root Directory>\AppServer\bin 
    * <WebSphere Installation Root Directory>\AppServer\profiles\Dmgr01\bin 
    * <WebSphere Installation Root Directory>\AppServer\profiles\Custom01\bin
   
   
 * 
 * 
 * 
 * 
 * 



Examples of where the errors could be seen: 
Client side: 
The Welcome page will be blank. 

If you have Firebug plugin its console shows: 
https://subdomain.mydomain.com:port/mum/loader?type=js&path=/js/com/ibm/mm/enabler&name=enabler&locale=en&path=/mum/js/openajaxhub/OpenAjaxManagedHub-all.js 

missing ; before statement 
parse()loader...-all.js (line 1474) 
str = "postmessage.test" 
_1b2()loader...-all.js (line 1927) 
_1b3 = message 
[Break On This Error] 

Error 404: ProxyServlet: /mum/loader 

loader...-all.js (line 1474, col 6) 

missing ; before statement 
[Break On This Error] 

Error 404: ProxyServlet: /mum/loader 

loader...cale=en (line 1, col 6)  


Deploying newly created or copied solutions using Case Manager Builder or Case Manager administration client fails with the error FNRPA9012E. 

 

This failure might occur in a development environment when using a browser that is remote from IBM Case Manager or in a production environment if multiple nodes in the cluster are running. 

 

For examples of where the errors could be seen and how to resolve this problem, refer to the Tech Note: 

http://www.ibm.com/support/docview.wss?uid=swg21600480 [http://www.ibm.com/support/docview.wss?uid=swg21600480] 



In Case Manager Client, when trying to select roles you may get HTTP 302 redirect resulting into CDEWG2803E error.

In general the HTTP response status code 302 Found is a common way of performing a redirection.

An HTTP response with this status code will additionally provide a URL in the Location header field. The User Agent (e.g. a web browser) is invited by a response with this code to make a second, otherwise identical, request, to the new URL specified in the Location field. The HTTP/1.0 specification (RFC 1945) defines this code, and gives it the description phrase "Moved Temporarily".

Many web browsers implemented this code in a manner that violated this standard, changing the request type of the new request to GET, regardless of the type employed in the original request (e.g. POST). For this reason, HTTP/1.1 (RFC 2616) added the new status codes 303 and 307 to disambiguate between the two behaviors, with 303 mandating the change of request type to GET, and 307 preserving the request type as originally sent. Despite the greater clarity provided by this disambiguation, the 302 code is still employed in web frameworks to preserve compatibility with browsers that do not implement the HTTP/1.1 specification.

If the environment requires SSO -WITH- a 302 because of multiple cookie domains, a single cookieprovider is required for these domains.

If the environment requires SSO -without- a 302 (redirect), you would be required to have all applications in a single cookie domain.

If your environment experiences errors due to HTTP 302 redirects you should consult with your Site Minder administrator prior to making any changes to fix this problem. One of the work around to reduce the frequency of this problem is to increase "SessionUpdatePeriod" parameter of the Reverse Proxy Agent Configuration Object (ACO) to a higher value. However, depending on how your Site Minder environment is configures this may not completely resolve your problem.

Examples of where the errors could be seen:

Client side: There will be a pop-up message indicating the error: Your user ID is not associated with the role "XYZ" that the in-basket is configured to display. (CDEWG2803E)

If you have Firebug plugin its console shows URL being accessed as: (getting http code 302)
https://subdomain.mydomain.com/CaseManager/P8BPMREST/p8/bpm/v1/appspaces/ABCD%20II/roles/My%20Summary?cp=PEACMCP1&includeCustomAttributes=true&dojo.preventCache=123456789 302

RELATED INFORMATION
 Configuring SSO for Case Manager by using CA SiteMinder [http://www.ibm.com/support/docview.wss?uid=swg27024932]




PRODUCT ALIAS/SYNONYM
 Advanced Case Management
Case Manager
IBM Case Manager