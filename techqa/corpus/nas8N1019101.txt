Title: IBM Access for Web Database - Creating a Customized Download of an IBM i OS Table to a PC Using Run SQL - United States

Text:
data transfer; DATABASE TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document describes how to use the IBM Access for Web's Database Run SQL function to create a customized download of an IBM i OS system database table to a browser or to a file on the PC. 

RESOLVING THE PROBLEM
IBM Access for Web provides support for creating customized downloads of IBM i OS system database files to the browser window or to the PC hard drive. This support is provided as part of the Database Function of the Web client. Transfers are created using similar options as those used by the Process Select as Native SQL option of the Data Transfer from iSeries GUI in the Access for Windows environment. 

This document provides step-by-step directions for creating a customized data transfer download request and running it in the web browser.

Note: To follow these directions, the Access for Web product (57##XH2) must be installed, configured, and be active on the iSeries family system.

Creating a customized download of an iSeries database table:

Step 1: Log on Access for Web by using a URL similar to the following: 

Note: Use http if you are not using SSL (secure socket layer), and use https if you are using SSL.

http://<server>:<port>/webaccess/iWAMain 

where you replace <server> with your iSeries family system name and <port> with the port that the active Access for Web instance is configured to use.

Step 2: When prompted, type the IBM i OS user ID and password.

Step 3: Double-click on Database (from the menu bar on the left side of the window) to expose the Tables, My requests, Run SQL, Copy data to table, Import request, and Extract server data options.

Screenshot depicting Database table selection [/support/docview.wss?uid=nas8N1019101&aid=1] [/support/docview.wss?uid=nas8N1019101&aid=1]

Step 4: Scroll down to see the options for Run SQL and click on Run SQL to get to the input window.

Screenshot depicting Run SQL selection on database page [/support/docview.wss?uid=nas8N1019101&aid=2] [/support/docview.wss?uid=nas8N1019101&aid=2]

iSeries Access for Web offers the same options for creating a transfer request that are offered in iSeries Access for Windows. The Web screens are a little different; however, the options are the same.

Screenshot depicting Run SQL page and parameters [/support/docview.wss?uid=nas8N1019101&aid=3] [/support/docview.wss?uid=nas8N1019101&aid=3]

Step 5: Type the SQL Statement to be run. This image shows what the input window might look like after typing a simple SQL Statement (for example, SELECT * FROM QIWS.QCUSTCDT):

Screenshot depicting query (listed above) into Run SQL statement text entry box [/support/docview.wss?uid=nas8N1019101&aid=4] [/support/docview.wss?uid=nas8N1019101&aid=4]

The SQL Wizard can be used as an alternative to manually creating and typing the SQL Statement. Following is the SQL Wizard screen that is shown if the SQL Wizard button is selected. Click on each tab to see the options that correspond to the Data Options screens in the Access for Windows GUI:

Screenshot depicting SQL Wizard after query has been submitted [/support/docview.wss?uid=nas8N1019101&aid=5] [/support/docview.wss?uid=nas8N1019101&aid=5]

Step 6: After the SQL Statement is created, click Finish to return to the main Run SQL screen. Scroll down the screen to the SQL Output section.

Step 7: Following are the options that are displayed if the SQL Output Type drop-down menu is selected from the main Run SQL screen. They correspond to the options in the Access for Windows GUI, and the default option is to Preview. This corresponds to Output Device Display in the Access for Windows Data Transfer from iSeries GUI.

Screenshot depicting output type selection on the second stage of SQL Wizard [/support/docview.wss?uid=nas8N1019101&aid=6] [/support/docview.wss?uid=nas8N1019101&aid=6]

Step 8: The SQL Output Destination option allows files to be displayed to the browser window or saved in a personal folder. The following is the window that is shown if the drop-down menu in SQL Output Destination is shown:

Screenshot depicting same SQL wizard page, second parameter 'Destination' selecting 'Personal Folder' [/support/docview.wss?uid=nas8N1019101&aid=7] [/support/docview.wss?uid=nas8N1019101&aid=7]

Step 9: Click on the Run SQL button to run the transfer and send the results to your personal folder as a plain (ASCII) text file. 

Screenshot depicting SQL Output 'Run SQL' button pressed after selections made [/support/docview.wss?uid=nas8N1019101&aid=8] [/support/docview.wss?uid=nas8N1019101&aid=8]

Notes: 

1 If any SQL Output Type is chosen (other then Text - Plain (.txt)), the results are the same. The output file is created in the specified file format (see the first image under Step 7 of this document), and the resulting file is created in your personal folder. 2 A Destination of Browser may be chosen rather than a Personal Folder. 
Creating a customized download of an IBM i OS database table: 

If an SQL Output Destination of Personal Folder was chosen before clicking on the Run SQL button (see the print screen above), the output from the transfer request will be stored in the Access for Web Personal Folder of the person running the request. Click on My Folder to see the output. 

Screenshot of statement 'Your request has been submitted' [/support/docview.wss?uid=nas8N1019101&aid=9] [/support/docview.wss?uid=nas8N1019101&aid=9] 

After the output is stored in My Folder, use the options in the Action column to work with it (as show below): 

Screenshot depicting stored output in 'my folder' [/support/docview.wss?uid=nas8N1019101&aid=10] [/support/docview.wss?uid=nas8N1019101&aid=10] 


Saving the new download request: 

Download requests can also be saved from the Run SQL window: 

Screenshot depicting select statement within Run SQL pane [/support/docview.wss?uid=nas8N1019101&aid=11] [/support/docview.wss?uid=nas8N1019101&aid=11] 

Give the transfer request a name and description: 

Screenshot depicting naming the request on 'Save Request' page [/support/docview.wss?uid=nas8N1019101&aid=12] [/support/docview.wss?uid=nas8N1019101&aid=12] 

The Request saved successfully message is displayed along with the options Create another request, My requests, and Run Web Transfer. Click on My requests to see the list of saved transfer requests: 

'Screenshot depicting succesful SQL request save [/support/docview.wss?uid=nas8N1019101&aid=13] [/support/docview.wss?uid=nas8N1019101&aid=13] 

All saved transfer requests are listed under My Requests: 

Screenshot depicting succesfully saved requests in 'My Requests' page [/support/docview.wss?uid=nas8N1019101&aid=14] [/support/docview.wss?uid=nas8N1019101&aid=14]  



Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 6.1 Operating System IBM i 7.1 
HISTORICAL NUMBER
 379293561