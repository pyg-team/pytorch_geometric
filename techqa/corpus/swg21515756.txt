Title: IBM JRExecAction() function usage - United States

Text:
netcool; impact; netcool/impact; nci; jr; exec; jrexec; action; jrexecaction; function; policy; syntax; usage TECHNOTE (FAQ)

QUESTION
 Correct usage of JRExecAction() function - filling the gap in the documentation 

ANSWER
A problem has arisen where the scope of the Command parameter has been assumed to be the entire command line.
In actuality the Command parameter is just that, the command. The rest of the command line is made up of the Parameters and these should be supplied in the Parameters parameter - please refer to pages 54 & 55 of Netcool/Impact 5.1 & 5.1.1 Policy Reference Guide [Link Below]

The example on page 55 shows a simple Command - the script to be run - and the Parameters are variables created by some method not described therein. Users have discovered hard way that setting the Command as:



 * 


does not fulfil the syntax expectations of JRExecAction(). The value "TEST" would be an array item in Parameters, as would the rest of the command line options & switches. One could possibly write the Policy as: 

 * 
 * 
 * 
 * 
 * 
 * 
 * 


However, the best way to use JRExecAction is to have it run a script that does all expected and is supplied with the input parameters, so rather than a command line full of switches and options and values - the script builds the structure of the command line and applies the variables provided by the Policy. 

So, one would build a script or batch file to build the structure of the command (echo $1 > blah blah blah) and the $1 would be the first item of the array fed by Parameters parameter of the JRExecAction() function. If the script gets a return value this is the transferred back via JRExecServer as an array to the variable assignment of the JRExecAction() - for example: 

 * 
 * 
 * 
 * 
 * 
 * 
 * 


Please note that by default JRExecAction returns acquired values to the internal variable "ExecOutput" not necessitating the redirection to a custom variable. 

Please also note that the use of JRExecAction requires the JRExecServer to be running locally to the ImpactServer. 
RELATED INFORMATION
 Impact 6.1.0.1 Policy Reference Guide JRExecAction [http://www-01.ibm.com/support/knowledgecenter/SSSHYH_6.1.0/com.ibm.netcoolimpact.doc6.1/policy/impr_action_jrexecaction_c.html]
Impact 6.1.1.3 Managing Policies JRExecAction [http://www-01.ibm.com/support/knowledgecenter/SSSHYH_6.1.1.3/com.ibm.netcoolimpact.doc/policy/impr_action_jrexecaction_c.html]
Impact 7.1.0.2 Managing Policies JRExecAction [http://www-01.ibm.com/support/knowledgecenter/SSSHYH_7.1.0.2/com.ibm.netcoolimpact.doc_7.1.0.2/policy/impr_action_jrexecaction_c.html]