Title: IBM LO70802: IMAGEWHITELIST NOT WORKING WHEN PUSHED VIA 853 MAIL POLICY - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS USER ERROR.
    
   
   

ERROR DESCRIPTION
 *  1.  I created a mail policy with these settings set:
   Basics tab:  "List of trusted websites for images in MIME
   Messages" = www.ibm.com, www.etrade.com
   2.  I applied policy to 3 users
   3.  tell adminp process mail policy
   4.  I verified the mail policy was applied:
   a.)  policy synopsis shows field $IWLImageWhiteList  is part of
   the "AlwaysSetItems"
   b.)  I now have a NEW profile document in the mail file called
   "remoteimageprofile"; the text list Field called ImageWhiteList
   has value of "www.ibm.com" : "www.etrade.com" (exactly as
   defined in policy settings doc).
   c.)  $Policies view of local client MailPolicy doc has field
   $IWLImageWhiteList = "www.ibm.com" : "www.etrade.com"; the
   field $IWLImageWhiteList is also listed under $FL_2 field.
   5.  I verified under User Preferences --> Mail --> Internet -->
   Image Security:  "To ensure privacy, do not show remote images
   without my permission" IS CHECKED.
   6.  I manually added "EnableImageWhiteLIst=1" in my Notes
   client notes.ini (since this did not automatically get added to
   my client and is required, according to SPR# HPXG8KSAH7)
   7.  I created a MIME message with 2 images:  1 from www.ibm.com
   and another from www.etrade.com and sent to test users (via
   telnet in my case, via SMTP mail in customer's case)
   8. I opened the test email, which has images from domains in my
   white list.
   RESULTS:  Images broken with red X icon, and I always see the
   "Show Images" link in all new and existing emails, even though
   the originating domains are supposed to be in my white list.
   
   
   Additional Notes:
   a.)  I tested the mail policy field set to
   "http://www.ibm.com", "www.ibm.com", and "ibm.com", but I got
   the exact same results in all 3 cases
   --I also tested different variations of the www.ibm.com
   (www-01.ibm.com), etc. and always got the same results = Broken
   images + Show images link always displays in new and existing
   emails.
   b.)  I also tested Person document set to "Keep in Sender's
   format" and "Prefers MIME" but I got the same results in all
   tests = Broken images +  Show images link always displays in
   new and existing emails.
   c.)  It is unclear if the setting is supposed to work
   retroactively on email with images in white lists previously
   received OR just received AFTER the policy was applied (even if
   from same domain);  in all cases, I always get the same
   behavior: = Broken images +  Show images link always displays
   in new and existing emails.
   d.)  I tested with 853FP2 server, 853 client, 853 version of
   mail85.ntf.
   
   Questions:
   1. What behavior should we see?  Should we ever see the images
   without clicking on the "Show Images" link?
   2. What format does the field expect for  "List of trusted
   websites for images in MIME Messages"?
   3. If EnableImageWhiteList=1 is required for this feature to
   work, why is it not pushed down automatically to Notes client
   notes.ini?
   4. Are we expected to add this notes.ini parameter via a
   Desktop Policy?
   
   
    
   
   

LOCAL FIX
 *  none known at this time.
   
   
    
   
   

PROBLEM SUMMARY

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  This APAR is associated with SPR# AKNX8WLS4Z.
   The problem was caused by a user error or user misunderstanding.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   LO70802
   
   
 * REPORTED COMPONENT NAME
   DOMINO SERVER
   
   
 * REPORTED COMPONENT ID
   5724E6200
   
   
 * REPORTED RELEASE
   853
   
   
 * STATUS
   CLOSED USE
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-07-27
   
   
 * CLOSED DATE
   2013-09-30
   
   
 * LAST MODIFIED DATE
   2013-09-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS