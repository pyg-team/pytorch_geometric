Title: IBM PQ69951;4.0.3,4.0.4,4.0.5: Ports do not bind to a specified IP Address/Hostname - United States

Text:
PQ69951; multi-NIC; binding ports; WASWLM; Websphere; ports don't bind to specified IP Address DOWNLOADABLE FILES

ABSTRACT
 IBM® WebSphere® Application Server does not bind ORB communication ports to a particular IP address/hostname when they are specified. 

DOWNLOAD DESCRIPTION
PQ69951 resolves the following problem:

USERS AFFECTED: 
All IBM WebSphere Application Server users of multiple network interface cards in a box.

PROBLEM DESCRIPTION: 
WebSphere Application Server ORB binds a primary IP address or hostname with RMI-IIOP communication ports even though the user has explicitly set the localhost to be a secondary (virtual) IP or hostname. The user might have or use more than one network interface card in a box. When the user intends to set or run WebSphere Application Server on a secondary (Virtual) IP or hostname, the user may observe that Application Server is still using the primary IP or hostname as default on some of the RMI-IIOP communication ports.

PROBLEM CONCLUSION:
When WebSphere Application Server ORB creates a new socket, it now binds each RMI-IIOP communication port to the specific IP or hostname set by the user. To achieve the correct behavior, the user needs to add the following ORB properties to all WebSphere Application Server client and server processes that use RMI-IIOP. 

 1. 
 2. 
 3. Add these entries into admin.config file for adminServer:
    com.ibm.CORBA.LocalHost=<IP Address or hostname>
    com.ibm.ejs.sm.adminServer.bootstrapHost=<IP address or hostname>
    # Note: you need to get fix PQ69956 before using this property setting.
    # Otherwise you will not be able to start adminServer.
    com.ibm.ejs.sm.adminServer.bootstrapPort=yyyy
    # default port value is 900
    com.ibm.ejs.sm.adminServer.lsdHostName=<IP Address or hostname>
    com.ibm.ejs.sm.adminServer.lsdPort=xxxx
    # default port value is 9000
    com.ibm.CORBA.ListenerPort=zzzz
    # if this property is not added, the port value will be dynamically assigned 
    com.ibm.ejs.sm.adminServer.nodeName=<short DNS name>
    
    
    
 4. Add these entries to the command line argument of JVM™ Advanced settings in Application Server through the administrative console:
    -Dcom.ibm.CORBA.LocalHost=<IP Address or hostname>
    -Dcom.ibm.CORBA.BootstrapHost=<IP Address or hostname>
    # IP Address of hostname should be the adminServer process's IP Address or hostname
    -Dcom.ibm.CORBA.BootstrapPort=yyyy
    # where yyyy should be matching to the bootstrap port value set in admin.config
    
    Note: the ports, xxxx, yyyy, and zzzz should be unique and valid 
    
    
 5. Take advantage of using Virtual IP address (VIP). You can add the following properties to the Java™ command to allow your client to run on a specified hostname/IP address instead of on the default primary hostname/IP address:
     1. 
     2. 
     3. Add CORBA properties to the adminclient.bat/sh for adminclient:
        -Dcom.ibm.CORBA.LocalHost=<hostname or IP>
        -Dcom.ibm.CORBA.ListenerPort=aaaa
        
        For example:
        %JAVA_HOME%\bin\java -Dcom.ibm.CORBA.LocalHost=nic3.us.ibm.com
        -Dcom.ibm.CORBA.ListenerPort=11002 -Xms19m ...
        %JAVA_HOME%\bin\javaw
        -Dcom.ibm.CORBA.LocalHost=nic3.us.ibm.com
        -Dcom.ibm.CORBA.ListenerPort=11002 -Xms19m ...
        
        
     4. Add CORBA properties to the XMLConfig.bat/sh: 
        -Dcom.ibm.CORBA.LocalHost=<hostname or IP>
        -Dcom.ibm.CORBA.ListenerPort=bbbb
        
        For example:
        %JAVA_HOME%\bin\java %CLIENTSAS%
        -Dcom.ibm.CORBA.LocalHost=nic3.us.ibm.com
        -Dcom.ibm.CORBA.ListenerPort=11003
        
        
     5. Add CORBAproperties to WSCP.bat/sh: 
        -Dcom.ibm.CORBA.LocalHost=<hostname or IP>
        -Dcom.ibm.CORBA.ListenerPort=cccc
        
        For example:
        %JAVA_HOME%\bin\java %WSCPCLIENTSAS%
        -Dcom.ibm.CORBA.LocalHost=nic3.us.ibm.com
        -Dcom.ibm.CORBA.ListenerPort=11004
        
        
     6. Add CORBA properties to stand-alone EJB™ client: 
        -Dcom.ibm.CORBA.LocalHost=<hostname or IP>
        -Dcom.ibm.CORBA.ListenerPort=ddddd
        
        For example:
        $JAVA_HOME/bin/java -Dcom.ibm.CORBA.LocalHost=nic3.us.ibm.com
        
    
    

INSTALLATION INSTRUCTIONS
Please review the readme.txt for detailed installation instructions.

URL LANGUAGE SIZE(Bytes) Readme [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PQ69951/readme.txt] US English 35089 
DOWNLOAD PACKAGE


Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 
What is DD? [http://www6.software.ibm.com/dldirector/doc/DDfaq_en.html] PQ69951 1/17/2003 US English 1196493 FTP [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PQ69951/] DD 
TECHNICAL SUPPORT
 800-IBM-SERV (U.S. calls only) 

Cross Reference information Segment Product Component Platform Version Edition Application Servers Runtimes for Java Technology Java SDK 
 [/support/docview.wss?uid=swg24004407&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24004407&aid=2]Problems (APARS) fixed
PQ69951