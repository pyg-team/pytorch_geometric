Title: IBM What are .dtf and .tmp files and how do you remove them from the Data directory? - United States

Text:
.DTF; .TMP; TEMP; dtf; tmp; working directory; not purged; saveimporterrors; saveexporterrors; server crashes; crashes; crash; crashed; Update task; update; CPU resources; cpu; resources; file types; filetype; Data directory; s0; idbc; removed; remove; save import errors; save export errors TECHNOTE (FAQ)

QUESTION
Your Lotus Domino® server crashes but prior to the crash, you noticed that the Update task was eating up the CPU resources. Several thousand files of the following types appear in the Lotus Notes® Data directory: 

 * 
 * 
 * 
 * 


What are these files and how can they be removed? 
ANSWER
.DTF files are temporary files that are created by Domino in a temporary directory specified by the system's environment variable. The format is "S0-S9" or "IDB", followed by a unique five-digit number. These files are normally purged from the system automatically and if there is no Temp or Tmp directory specified, the files are placed in the working directory. Files placed in the working directory are not purged.

Every time the Update task runs, it creates view files in the Data directory that start with the letter "S" and have a .dtf extension. These files can also be created in the notes.ini file View_Rebuild_Dir directory. When the Update task ends, all the files should be purged automatically. If the files are not removed, it is likely that the Update task never ended, perhaps because the server crashed while Update was running possibly by running out of disk space.

.TMP files are generated by mail debuggers in the notes.ini file, for example, as SaveImportErrors and SaveExportErrors.

On the Domino server, check the Notes Data directory for *.dtf and *.tmp files, and if any are found, the Domino server should be shut down and the files deleted.

Supporting information:
Additional detail on commands you would use on the iSeries:

1. Files can be displayed by using the "dsplnk" operating system command, for example: 

 * dsplnk '/notes/data/*.dtf'
 * 
 *  
 * 

 * NOTE: 
 * 
 * 
 * http://publib.boulder.ibm.com/infocenter/iseries/v5r4/index.jsp?topic=/cl/dsplnk.htm


2. Files can be removed by using the "rmvlnk" operating system command, for example:  * rmvlnk '/notes/data/*.dtf

RELATED INFORMATION
 A simplified Chinese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21603231]