Title: IBM ITCAM4Tx - AMC Editor - T3 depot agent could not be contacted - United States

Text:
AMC AMCe error failure exception parsing profile .xml TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Launching the AMC (Application Management Configuration) Editor from ITM TEP GUI fails with popup window "Error loading profiles" with message : "T3 depot agent could not be contacted" 

SYMPTOM
Application Management Console depot agent (T3) service or process is actually up and running. 

 * http://<AMC agent>:1920/ url for "IBM Tivoli Monitoring Service index" works fine.


CAUSE
One possible cause can be that one entry in one of the .xml files located under ./kt1depot/T3 on the AMC agent system is 'corrupted', and contains unexpected or garbled character(s), and preventing the AMC editor to start.

ENVIRONMENT
ITCAM for Transactions V7.3, with Application Management Console (T3) agent.



DIAGNOSING THE PROBLEM
Reproduce the issue accessing AMC Editor from the TEP. 

 * Check the latest entries on the AMC agent in latest modified Application Management Console Java diagnostic log file named trace-dashboard.log
   location of this file
   Unix : /var/ibm/tivoli/common/BMW/logs/tracedashboard.log
   Windows: C:\Proga~Files\ibm\tivoli\common\BWM\logs\tracedashboard.log
   
 * trace-dashboard.log may contain error message similar to these: 
   
   ERROR - main - com.ibm.tivoli.monitoring.cconfig.DepotIndex.DepotIndex(FileTransfer fileTransfer) - TransactionManager is unable to load transactions or profiles from depot directory C:\IBM\ITM\kt1depot\T3
   
   ERROR - main - com.ibm.tivoli.monitoring.cconfig.DepotIndex.DepotIndex(FileTransfer fileTransfer) - com.ibm.tivoli.transperf.config.util.FileDepotException: Error parsing XML file profiles/<filename>.xml
   ...
   ...
   Caused by: org.xml.sax.SAXParseException: Invalid byte 1 of 1-byte UTF-8 sequence.
   at com.ibm.tivoli.transperf.config.util.DOMParserErrorHandler.fatalError(DOMParserErrorHandler.java:66)

RESOLVING THE PROBLEM
-Open in a web browser the identified 'wrong' <filename>.xml file listed in error message found in trace-dashboard.log file
- Check the error message and string entry listed by the web browser and around where the parsing may have failed.
- Open in a text editor the identified 'wrong' <filename>.xml file, search for the string entry given by the web browser, and look around this entry, possibly 10 to 20 lines before and after this entry. The corrupted line could be found there.
- Or use for example an application like : "xml notepad from Microsoft", http://www.microsoft.com/en-us/download/details.aspx?id=7973 [http://www.microsoft.com/en-us/download/details.aspx?id=7973]. 
open the xml file with such application and it should tell you the line(s) where the invalid characters are.
- Fix the corrupted entry manually in <filename>.xml

Or


 1. -Rename the problematic file as <filename>.xml.backup
    - Stop and restart AMC agent
    - Verify that AMC Editor no longer reports any error
    - Use a text editor or web browser to edit <filename>.xml.backup
    - Open AMC Editor and re-create manually the problematic entries, based on data (agent, application, etc..) contained in <filename>.xml.backup



PRODUCT ALIAS/SYNONYM
 itcam itcam4tx itcamfortx