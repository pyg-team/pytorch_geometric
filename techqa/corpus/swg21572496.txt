Title: IBM zTMS DLS: Discovering z/OS Managed Systems - United States

Text:
ITM FIX README

ABSTRACT
 The z/OS Tivoli Monitoring Services Discovery Library Adapter (zTMS DLA) scans the IBM Tivoli Monitoring (ITM) environment and discovers resources monitored by OMEGAMON agents. 

CONTENT
 

Discovering z/OS Managed Systems


The z/OS Tivoli Monitoring Services Discovery Library Adapter (zTMS DLA), available as of v6.2.2 FP7 or later, scans the IBM Tivoli Monitoring (ITM) environment and discovers resources monitored by OMEGAMON agents. The data in the IDML book generated by the zTMS DLA can be used to supplement data gathered by the z/OS DLA, enabling context sensitive launching into the Tivoli Enterprise Portal from z/OS objects or events in Tivoli Business Service Manager (TBSM) or Tivoli Application Dependency Discovery Manager (TADDM). The zTMS DLA only identifies resources on z/OS operating systems. To discover distributed systems, you must also run the Tivoli Monitoring Services Discovery Library Adapter (TMS DLA).

The zTMS DLA creates the following Common Data Model (CDM) objects:
• sys.zOS.Sysplex
• sys.zOS.SysplexGroup
• sys.zOS.ZSeriesComputerSystem
• sys.zOS.ZOS
• sys.zOS.CICSRegion
• sys.zOS.DB2Subsystem
• sys.zOS.IMSSubsystem
• sys.zOS.MQSubsystem
• sys.zOS.AddressSpace

Important Note: In order to reconcile with the zTMS DLA book, the version of the z/OS DLA required is v3.1, with PTF UA61720. The IDML book generated by the zTMS DLA does not contain all required attributes for the various z/OS CDM objects. Before importing the zTMS DLA book into a consuming application, you must first run the z/OS DLA on all the systems monitored by ITM OMEGAMON agents and import the resulting z/OS DLA books into the consuming application. Then you may import the zTMS DLA book, and all objects will be reconciled with existing objects found in the z/OS DLA books. If the zTMS DLA book is imported without having imported the z/OS DLA books first, objects may appear in the TBSM UI as “Label Missing”.



User Scenario 

1. On z/OS LPARS, execute the z/OS DLA on all z/OS LPARs of interest 

2. On the TEPS server, execute the zTMSDLA on TEPS server with z/OS agents 

3. On the TBSM server, import z/OS DLA books into TBSM using the TBSM toolkit 

4. On the TBSM server, import the zTMSDLA book into TBSM using the TBSM toolkit. 

5. On TBSM server graphical user interface, right-click on the TBSM object to display the ITM launch-in-context menu items.


Procedure 

The zTMS DLA is run from the command line on the computer where the Tivoli Enterprise Portal Server is installed.

• Windows: To make an IDML book, enter the following command:

Install_dir\CNPS\ztmsdla.exe

The output file is written to the Install_dir\CNPS\tmsdla directory.


• Linux/UNIX: To make an IDML book, enter the following command:

Install_dir/bin/itmcmd execute cq “ztmsdla”

The output file is written to the Install_dir/arch/cq/bin/tmsdla directory.


Results 

The DLA generates the XML output file in the directory identified above. The name of this file begins with the string “ZTMSDISC100-B”, and follows the standard Discovery Library file name format. For example: 

 ZTMSDISC100-B.<hostname>.<timestamp>.refresh.xml 

To import this book into TADDM or TBSM, you must transfer the XML file to the Discovery Library File Store and then use the Discovery Library Bulk Loader.


Usage 

ztmsdla [/?] [/b] [/d] [/o orgname] [/s] [/x outputfile] 

 

where: 

/? 

 Displays the syntax help information. 

/b 

 Open a browser with which to view the output file of the discovery library adapter (on Windows only). 

/d 

 Creates a diagnostic file during the discovery process. You can use this file for debugging. The file is located in the same directory as the DLA IDML book. The file name is the same as the DLA IDML book, with the extension “.log” at the end of the filename: 

 ZTMSDISC100-B.<hostname>.<timestamp>.refresh.xml.log 

/o orgname 

 Sets the Organization GlobalName value. If this argument is not specified, the GlobalName defaults to “<defaultOrg>”. 

/s 

 When specified, the URL created for the sourceContactInfo attribute of the ManagementSoftwareSystem class is created using the HTTPS protocol. This URL is used by TBSM and TADDM when performing a launch in context to the Tivoli Enterprise Portal. 

/x outputfile 

 Indicates the name of the XML output file. 


Known Limitations 

• When using SNA communication, as opposed to IP.PIPE, between a z/OS TEMS and OMEGAMON TEMA agents, limitations exist. Two CICS objects representing the same CICS Region will appear in TBSM, but only one provides the ability for the user to <right- mouse click> and launch from one of the TBSM CICS objects to the OMEGAMON CICS TEP workspace.





PRODUCT ALIAS/SYNONYM
 ITM