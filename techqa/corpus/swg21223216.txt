Title: IBM How do I resolve authorization error that occurs when I run asnqcap as a service? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 This error is caused under the following scenario:

1. You set up the Q Capture program as a service by using the following command:

asnscrt <instance name> .\<userid> <password> asnqcap capture_server = <capture_server name> 

2. You start the service.

3. You then review the Q Capture log and find an error that looks something like this:

<qConnMgr::qConnMgr> ASN0575E "Q Capture" : "ASN" : "Initial" : The program encountered a WebSphere MQ error "2035" while issuing the WebSphere MQ command "MQCONN" on queue "*". 
<asnqcap::main> ASN8001D "Q Capture" : "ASN" : "Initial" : Unexpected return code "501" from routine "qConnMgr::qConnMgr". 

Notice, the "2035" is the MQRC 2035, a WebSphere MQ authorization error. 

CAUSE
The user ID that runs asnqcap as a service does not have sufficient rights to perform the action.

ANSWER
In the DB2 Information Center and in the Version 8 Redbook WebSphere Information Integrator Q replication: Fast Track Implementation Scenarios [http://www.redbooks.ibm.com/redbooks/pdfs/sg246487.pdf] we mention that the user ID that runs asnqcap should be a member of the mqm group. Follow these steps to solve the problem:


 * 
 * 
 * 2. Restart the queue manager using the runmqsc command. 
 * 3. Retry the Q replication task such as starting the Q Capture service.


If the problem persists, you can run a WebSphere MQ trace that the software support team can use to try to solve your problem. Follow these steps:  * 
 * 
 *  
   strmqtrc 
 * 
 * 
 * 3. End the trace: 
 *  
   endmqtrc 
 * 
 * 
 * 

RELATED INFORMATION
 A simplified Chinese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21635286]