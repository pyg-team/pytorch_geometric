Title: IBM Mobile Connect HTTP Access Services not redirecting HTTP Port 80 traffic - United States

Text:
Port 80 Redirect HTTP.sys netstat PID 4 TECHNOTE (TROUBLESHOOTING)

PROBLEM
Mobile Connect HTTP Access Services (aka Clientless Access) suddenly no longer processes traffic inbound to port 80. Only HTTPS originated traffic (Port 443) is processed and routed.

SYMPTOM
The Mobile Connect HTTP Access Service may be optionally configured to redirect specified ports to the listening port of the HTTP Service. This is normally done to redirect port 80 to port 443 to allow end users to just enter 'http' at the front of their service URL rather than 'https'. If using a desktop or mobile device browser to access the configured HTTP service the end user may just see a white blank screen. There may be other symptoms, but the end result will be an inability to access the configured service without any error message. HTTPS directed traffic will still be processed normally.


CAUSE
On Windows based Connection Manager servers the Windows HTTP.sys driver had loaded and bound itself to port 80. When Mobile Connect attempts to bind to port 80 it will get an error message (INADDR_ANY) which indicates another process already has that port.

ENVIRONMENT
IBM Mobile Connect running on a Windows based Operating System

DIAGNOSING THE PROBLEM
In the Connection Managers' wg.log if the administrator has the startup of the Connection Manager captured, then you will be able to see the (INADDR_ANY) warning message that the Connection Manager was unable to bind to port 80 as it is already in use. Also, other symptoms from the wg.log will be that there are no 'processRedirect' messages in the log which are present when the Connection Manager has been configured to redirect port 80 into the HTTPS service. 
From a Windows perspective there are some commands which can help determine what is listening on port 80:

netstat -aon | findstr 0.0:80 or perhaps netstat -a -b

Upon learning what process has bound to port 80 (We found that it was PID 4 which is reported to always be a Windows system process ID) then steps can be taken to overcome it. 

RESOLVING THE PROBLEM
In the case prompting this article a simple restart of the Windows OS cleared the problem and allowed Mobile Connect to bind to port 80 as usual and all activity returned to normal. If this is not sufficient to prevent the HTTP.sys driver from getting the port first, we also had seen the following steps taken to remedy the problem:
http://superuser.com/questions/352017/pid4-using-port-80 [http://superuser.com/questions/352017/pid4-using-port-80]
http://superuser.com/questions/352017/pid4-using-port-80 [http://superuser.com/questions/352017/pid4-using-port-80]

This article is meant to provide suggestions to remedy this problem, but IBM is not giving a direction or requirement to alter the Windows registry.