Title: IBM WebGUI : Can not delete last filter assigned to a user - United States

Text:
wegui delete last filter TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The last filter assigned to a user can not be deleted. If you try to delete it you will get a message saying "You can not delete the last filter". 

CAUSE
Web GUI by design does not allow deletion of last filter assigned to a user.

RESOLVING THE PROBLEM
As an alternate WAAPI (Web GUI Administration API) can be used to delete the filter.

The WAAPI command line takes a command file which is written in XML. This command file is parsed by the server and then the command in the file is executed. 

Follow below steps to remove the filter:

1. Create a temp file (eg; /tmp/delete_filter.xml) with below contents. Change name to the actual filter name to be deleted, the user Id to whom it is assigned and the filter type.



In below example; the command would delete a user filter named "test_filter" assigned to a user "testuser".

<methodCall>
<method methodName="filter.deleteFilter">
<filter name="test_filter" user="testuser" type="user"> </filter>
</method>
</methodCall>


2. Run below command. Please make sure that the user Id you are using on below command line has ncw_admin or ncw_user roles.

cd omnibus_webgui
./waapi/bin/runwaapi -file /tmp/delete_filter.xml -user userid -password password

See below URL for more details on waapi command:
https://www-01.ibm.com/support/knowledgecenter/SSSHTQ_8.1.0/com.ibm.netcool_OMNIbus.doc_8.1.0/webtop/wip/reference/web_api_request_filter_delete.html [https://www-01.ibm.com/support/knowledgecenter/SSSHTQ_8.1.0/com.ibm.netcool_OMNIbus.doc_8.1.0/webtop/wip/reference/web_api_request_filter_delete.html]