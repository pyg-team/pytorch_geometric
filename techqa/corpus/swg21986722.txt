Title: IBM NullPointerExceptionÂ building WebSphere Commerce EJB project through IBM Bluemix build service - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 In WebSphere Commerce version 8, you might notice a NullPointerException when you build an EJB project through Bluemix build service. 

SYMPTOM
You might notice the following error message in WebSphere Commerce Build and Deploy tool log file: 

[wsejbdeploy] SEVERE: Error creating top-down schema & map: null.
[wsejbdeploy] java.lang.NullPointerException
[wsejbdeploy] at com.ibm.etools.ejbdeploy.core.utils.BackendManager.getMaps(BackendManager.java:85)
[wsejbdeploy] at com.ibm.etools.ejbdeploy.plugin.EJBDeployOperation.needTopDownMapping(EJBDeployOperation.java:432)
[wsejbdeploy] at com.ibm.etools.ejbdeploy.plugin.EJBDeployOperation.createTopDownMapping(EJBDeployOperation.java:270)
[wsejbdeploy] at com.ibm.etools.ejbdeploy.plugin.EJBDeployOperation.doRun(EJBDeployOperation.java:1598)


CAUSE
WebSphere Application Server 8.5 + only supports dbvendor values as documented in the following link:
http://www.ibm.com/support/knowledgecenter/en/SSAW57_8.5.5/com.ibm.etools.ejbbatchdeploy.doc/topics/regenc.html?cp=SSAW57_8.5.5 [http://www.ibm.com/support/knowledgecenter/en/SSAW57_8.5.5/com.ibm.etools.ejbbatchdeploy.doc/topics/regenc.html?cp=SSAW57_8.5.5]


DIAGNOSING THE PROBLEM
Check the following: 

 1. Open WebSphere Commerce Developer Toolkit (Rational Application Developer) 
 2. Check the backend ID in file (WebSphereCommerceServerExtensionsData.jar/META-INF/ejb-jar-bnd.xmi) 
    or 
 3. Check the WebSphereCommerceServerExtensionsData.jar\META-INF\backends\ folder 
    for any reference to back-end ID, which is not a supported database vendor according to the documentation in the IBM Knowledge Center page.

RESOLVING THE PROBLEM
Follow these steps: 

 1. Open WebSphere Commerce Developer Toolkit (Rational Application Developer). 
 2. Back up your EJB Project. 
 3. Delete the folder "WebSphereCommerceServerExtensionsData/META-INF/Backend" 
 4. Right-click the EJB Project > Java EE > EJB to EDB Mappings (1.x-2.x) > Generate Map. 
 5. Select "Create new backend folder" click "Next". 
 6. Select "Top-Down", select one of supported dbvendor values and click "Finish". 
 7. Build the EJB Project again