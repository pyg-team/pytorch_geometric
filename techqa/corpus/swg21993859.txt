Title: IBM Install/Upgrade of Maximo for Utilities interim fix fails - United States

Text:
HF7501_10; JOBTASK; CREWWORKGROUP; PLUSDWORKGROUP; Utilities 7.5.0.1 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Applying Maximo for Utilities 7.5.0.1 interim fix can fail in UpdateDB. 

SYMPTOM
Error found in UpdateDB log:

update jobtask set crewworkgroup = plusdworkgroup where plusdworkgroup is not null and crewworkgroup is null
;

BMXAA7025E -- Script failed while running.;
BMXAA8313E -- A statement failed to execute inside a freeform statement. See the nested exception.;
sql#904;
ORA-00904: "PLUSDWORKGROUP": invalid identifier



CAUSE
UpdateDB script HF7510_10.dbc populates column JOBTASK.CREWWORKGROUP from column JOBTASK.PLUSDWORKGROUP, but column PLUSDWORKGROUP does not exist. The column was dropped when Maximo for Utilities 7.5.0.1 was installed.

ENVIRONMENT
Maximo for Utilities 7.5.0.1

DIAGNOSING THE PROBLEM
Run this SQL query. If it returns no rows, then we have confirmed that column JOBTASK.PLUSDWORKGROUP does not exist.. This is the cause of failure.

Select * From maxattribute Where objectname='JOBTASK' And attributename='PLUSDWORKGROUP' ;




Cannot copy column JOBTASK.PLUSDWORKGROUP if the column does not exist.


RESOLVING THE PROBLEM
Edit file maximo\tools\maximo\en\tnd\HF7501_10.dbc. Replace this line:

update jobtask set crewworkgroup = plusdworkgroup where plusdworkgroup is not null and crewworkgroup is null

with this line:

Update jobtask Set crewworkgroup=(Select crewworkgroup From jobplan Where jobplanid=jobtask.jobplanid) Where crewworkgroup is null

Restart UpdateDB. UpdateDB will pick where if left off and run to completion.

HF7501_10.dbc [/support/docview.wss?uid=swg21993859&aid=2]HF7501_10.dbc [/support/docview.wss?uid=swg21993859&aid=1] 



Cross reference information Segment Product Component Platform Version Edition Systems and Asset Management Maximo for Utilities 7.5 Systems and Asset Management IBM Enterprise Asset Management on Cloud (Maximo) Utilities Add-On