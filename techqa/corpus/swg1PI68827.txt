Title: IBM PI68827: WEBSPHEREMB-CMP: DOESN'T ALLOW COMPONENT CONTAINING AN EXISTING LIB DEPLOYED TO THE SAME INTEGRATION SERVER - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PERMANENT RESTRICTION.
    
   
   

ERROR DESCRIPTION
 *  Multiple components being deployed to the same execution group.
   Each component has the same Lib file where manually, this Lib
   folder would be overwritten. When run in parallel, 1 of the
   components will successfully deploy. All others will fail
   because they are not expected the Lib to be in the execution
   group.
   
   When the parallel deployment is run again, all component
   processes will succeed. This is because on run time, the other
   components are expecting the Lib file to be there, and their
   expected deployment environment is not being changed mid
   command.
   
   In the end, this is a race condition that needs to be managed
   within the plugin.
   
   
    
   
   

LOCAL FIX
 *  1) Run the deployments sequentially.
   
   2) Run one till completion. Then run the others in parellel.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Users using the WebSphere IIB plugin and attempting to       *
   * deploy multiple times the same library bar file to the same  *
   * execution group in parallel.                                 *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * The user will see that the one deploy step will succeed and  *
   * all others will fail with a BIP2262E: Request to create      *
   * deployed resource                                            *
   * RESOURCE: deployed resource already exists.                  *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The correct implementation strategy is outlined in IIB Knowledge
   Center:
   https://www.ibm.com/support/knowledgecenter/en/SSMKHH_9.0.0/com.
   ibm.etools.mft.doc/bc23060_.htm [https://www.ibm.com/support/knowledgecenter/en/SSMKHH_9.0.0/com.ibm.etools.mft.doc/bc23060_.htm]
   
   â œIf you want to develop an integration solution where changes
   made to common resources can be deployed in one deployment
   operation without redeploying all your message flows and
   subflows, then you should define your message flows and subflows
   as independent resources within an Integration project or
   library that references the library that contains your common
   resources.â 
   
   Within UCD, this would involve separating each of the bar files
   in separate components. Each component would then be tagged as a
   library, message flow, etc. Then at deploy time, you would
   specify exact bars you wish to deploy with the associated
   library file. Because each bar file must be deployed in a
   specific order, you would structure your process in a way where
   the library files would first be deployed, followed by other bar
   files.
   
   This strategy would eliminate the duplicate libraries saved
   within codestation (which increase the require storage) and
   eliminate race conditions when deploying the same library.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI68827
   
   
 * REPORTED COMPONENT NAME
   UC DEPLOY
   
   
 * REPORTED COMPONENT ID
   5725M5400
   
   
 * REPORTED RELEASE
   611
   
   
 * STATUS
   CLOSED PRS
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-09-07
   
   
 * CLOSED DATE
   2017-05-25
   
   
 * LAST MODIFIED DATE
   2017-05-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS