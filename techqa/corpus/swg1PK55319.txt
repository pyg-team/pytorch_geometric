Title: IBM PK55319: BATCHEXTENSION NOT FOUND WHEN RUNNING EJBDEPLOY - United States

Text:
z/os  FIXES ARE AVAILABLE
Java SDK 1.5 SR8 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24020073]
Java SDK 1.5 SR8 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24021203]
Java SDK 1.5 SR10 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24024201]
6.1.0.31: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24026453]
6.1.0.33: Java SDK 1.5 SR12 FP1 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24027786]
6.1.0.29: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24025191]
6.1.0.35: Java SDK 1.5 SR12 FP2 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24028574]
6.1.0.37: Java SDK 1.5 SR12 FP3 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24029525]
6.1.0.39: Java SDK 1.5 SR12 FP4 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24030426]
6.1.0.41: Java SDK 1.5 SR12 FP5 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031035]
6.1.0.43: Java SDK 1.5 SR13 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031963]
6.1.0.45: Java SDK 1.5 SR14 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24033270]
6.1.0.47: WebSphere Application Server V6.1 Fix Pack 47 [http://www-01.ibm.com/support/docview.wss?uid=swg24035508]
6.1.0.47: Java SDK 1.5 SR16 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035649]
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When running ejbdeploy customer encounters the following error:
   .
   
   ADMA0115W: Resource assignment of name DB2I and type
   javax.sql.DataSource, with JNDI name DB2I is not found within
   scope
   of module VPS_Systemdoc_web with URI VPS_Systemdoc_web.war,
   WEB-INF/web.xml deployed to target
   WebSphere:cell=soat,node=vps1,
   server=wsoat.
   .
   ADMA5068I: The resource validation for application sysdok
   completed
   successfully, but warnings occured during validation.
   .
   ADMA5018I: The EJBDeploy command is running on enterprise
   archive
   (EAR) file
   /was/soat/AppServer/profiles/default/wstemp/754256292/
   upload/sysdok.ear.
   .
   Starting workbench.
   .
   framework search path:
   /SWVPS1/usr/lpp/zWebSphere/V6R1/deploytool/itp/plugins
   .
   An unexpected exception was thrown. Halting execution.
   Shutting down workbench.
    .
   Error executing deployment:
   org.eclipse.core.runtime.CoreException.
   Error is Plug-in com.ibm.etools.ejbdeploy was unable to load
   class
   com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension..
   .
   org.eclipse.core.runtime.CoreException: Plug-in
   com.ibm.etools.ejbdeploy was unable to load class
   com.ibm.etools.ejbdeploy.batch.plugin.BatchExtension.
   at
   org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.
   throwException(RegistryStrategyOSGI.java:165)
   .
   .
   .
   
   
    
   
   

LOCAL FIX
 *  To circumvent this problem you may follow these steps:
   .
   
   1. First you need to locate the EJB Deploy configuration
      directory. To do that run ejbdeploy.sh from the
      $WAS_HOME/bin directory with the -log command
      line option.  The format of this should be:
      ejbdeploy.sh <inputEAR> <workingDirectory> <outputEAR> -log
      or:
      ejbdeploy.sh -log EARFILENAME CURRENTLOCATION
      DESTINATIONEARFILENAME
   .
   2. Delete all files/directories from the EJB Deploy
       configuration directory found in Step 1 with the
       exception of config.ini.  It is a good practice to backup
       this directory before performing the deletion.
       * Note: for v6.1 and above the config.ini file must exist
         in order for ejbdeploy to function.  For v6.0 however,
         the config.ini file is not required by ejbdeploy and will
         be created if needed.
   .
   3. Re-deploy the application making sure NOT to check
   'Deploy Enterprise Beans' box during deploy.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of EJBDeploy on WebSphere         *
   *                  Application Server V6.1                     *
   ****************************************************************
   * PROBLEM DESCRIPTION: The WebSphere Application Server        *
   *                      EJBDeploy OSGi caching directory is not *
   *                      cleaned after installing a new          *
   *                      fix pack.                               *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The WebSphere Application Server EJBDeploy OSGi caching
   directory is not cleaned after installing a new fixpack. This
   can cause errors when running EJBDeploy as it may fail to locate
   plug-ins or extensions defined within the EJBDeploy application.
   See the following URL for more information and work-arounds for
   this problem:
   
   http://www.ibm.com/support/docview.wss?uid=swg21239141 [http://www.ibm.com/support/docview.wss?uid=swg21239141]
   
   This technote is applicable to all supported WebSphere
   Application Server platforms.
   
   
    
   
   

PROBLEM CONCLUSION
 *  For the WebSphere Application Server product on z/OS a
   post install action has been introduced to ensure that the
   default OSGi directories are purged.  For WebSphere Application
   Server on other platforms a config action was introduced to
   ensure that the default OSGi directories are purged
   as part of fix pack installation.
   
   APAR PK55319 is currently targeted for inclusion in Service
   Level (Fix Pack) 6.1.0.17 of WebSphere Application Server V6.1
   for z/OS.
   
   Please refer to URL:
   //www.ibm.com/support/docview.wss?rs=404&uid=swg27006970
   for Fix Pack availability.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK55319
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE FOR Z
   
   
 * REPORTED COMPONENT ID
   5655I3500
   
   
 * REPORTED RELEASE
   610
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-10-24
   
   
 * CLOSED DATE
   2008-05-02
   
   
 * LAST MODIFIED DATE
   2008-11-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PK56080 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK56080] PK75842 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK75842]
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE FOR Z
   
   
 * FIXED COMPONENT ID
   5655I3500
   
   

APPLICABLE COMPONENT LEVELS
 * R610 PSY UK36750 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK36750]
   UP08/06/10 P F806
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.