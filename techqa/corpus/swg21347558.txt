Title: IBM ** Troubleshooting ** Question 'File download - Security Warning...' when trying to launch Controller - United States

Text:
fatal error send TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User launches Controller client. Message appears, where user is asked to download the file ccr.exe. 

After clicking 'run', the Controller client crashes with a fatal error, and a question if you to send a report to Microsoft. 

SYMPTOM
Initial Screen: 

The exact screen pictures will vary slightly, depending on what version of Internet Explorer the end user's client device has installed 

 * Internet Explorer 11:

[/support/docview.wss?uid=swg21347558&aid=1] [/support/docview.wss?uid=swg21347558&aid=1] 

View Downloads 
View and track your downloads 
Do you want to run or save this program? 
 * Older Internet Explorer:

File Download - Security Warning 
Do you want to run or save this file ? 
Name: ccr.exe 
Type: Application, 276 KB 
From: SERVERNAME 
[Run] [Save] [Cancel] 

After clicking "run" an error message similar to the following appears :  * Internet Explorer 11:

[/support/docview.wss?uid=swg21347558&aid=2] [/support/docview.wss?uid=swg21347558&aid=2] 
CCR has stopped working 
Description: 
Stopped working 

Problem signature: 
Problem Event Name: CLR20r3 
Problem Signature 01: ccr.exe 
Problem Signature 02: 10.2.705.0 
Problem Signature 03: 537d0c3c 
Problem Signature 04: CCR 
Problem Signature 05: 10.2.705.0 
Problem Signature 06: 537d0c3c 
Problem Signature 07: 5f 
Problem Signature 08: a 
Problem Signature 09: System.IO.FileNotFoundException 
OS Version: 6.3.9600.2.0.0.272.7 
Locale ID: 2057 
 * Older Internet Explorer example #1:

Microsoft IE Execute shell 
Microsoft IE Execute shell has encountered a problem and needs to close. 
We are sorry for the inconvenience. 
If you were in the middle of something, the information you were working on might be lost. 
[Debug] [Close] 
 * Older Internet Explorer example #2:

CCR has encounter a problem and needs to close 
 * Older Internet Explorer example #3, specifically for scenario #2:


clr20r3, P1 ccr.exe, P2 8.2.387.0, P3 4677f187, P4 ccr, P5 8.2.387.0, P6 4677f187, P7 57, P8 b, P9 system.io.filenotfoundexception, P10 NIL 
CAUSE
There are several possible causes for similar symptoms. 

 * TIP: For more examples, see separate IBM Technote #1654472.


This Technote specifically relates to the scenario where the cause is that the client device (for example the end user's desktop PC) cannot successfully download and run the required Controller executable (EXE) file from the Controller website. 

Again there are several potential causes for this:  * Scenario #1 - The client device's Internet Explorer settings do not trust the Controller web server enough to automatically download and run the Controller software code files (e.g. ccr.exe)  * Typically this is because the Controller application server's website is not part of a trusted zone in Microsoft Internet Explorer 
    * Alternatively, the zone that the website belongs to (e.g. Trusted zone) is not configured to be trusted enough (e.g. it is set to 'medium' and not 'medium-low')
   
   
 * Scenario #2 - Third party (non-IBM) software blocking the download and execution of EXE files from websites  * For example, McAfee Site Advisor is installed the client machine, and is blocking the ability to download the Controller client (on-demand) from its website.
   
   

 * Scenario #3 - The end user's client device has Microsoft .NET Framework 4.5 (or later) client installed.  * Microsoft have modified their system so that (from v4.5 onwards) Microsoft Internet Explorer will (by default) not allow the running of any .NET executable (e.g. CCR.EXE) inside IE (i.e. via ieexec.exe) 
    * TIP: For more information, see separate IBM Technote #1626268.
   
   

RESOLVING THE PROBLEM
Scenario #1 

Modify the Internet Explorer settings to allow downloading EXE files from the CASUrl location.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
IMPORTANT: The website that you configure (for example "http://controllerserver [http://controllerserver]") must *exactly match* the naming convention (e.g. NetBIOS or FQDN) that you used inside your CASUrl (in other words, the 'Client Distribution Server' setting).

If you are unsure of your CASUrl setting, you can easily check this setting by:
1. Logon to the client device (as the 'bad' user)
2. Click "START - RUN"
3. Type: NOTEPAD %appdata%\Cognos\CCR\ccr.config
[/support/docview.wss?uid=swg21347558&amp;aid=3]

4. Search for entry 'CASUrl'
Read its 'value'. Does the value say: 

 *  http://controllerserver/ibmcognos/ [http://controllerserver/ibmcognos/]... (NetBIOS) or http://controllerserver [http://controllerserver].company.com/ibmcognos/... (FQDN)? 

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ 

NOTE: There are many different potential combinations of zones/settings that will work. However (for the sake of simplicity) this Technote shall only give one sensible suggestion:  * Configure the Controller application/web server to be inside the 'Trusted' zone 
 * Configure the trusted zone to have 'Medium-Low' security 
 * Ensure that the 'trusted zone' is configured to allow HTTP (instead of only HTTPS)


 * Steps to add Controller website into 'trusted zone':
 * 
 * 



Scenario #2 
Reconfigure (or disable) third party software, to allow traffic to/from the Controller website, as per third-party documentation. 
 * Steps for disabling McAfee Site Advisor:
 *   1.  Logon to Client device (e.g. desktop PC) as the end user 
    2.  Launch Microsoft Internet Explorer 
    3.  Click 'Tools - Internet Options' 
    4.  Click 'Programs' 
    5.  Click 'Manage add-ons' 
    6.  Highlight 'McAfee SiteAdvisor' 
    7.  Click "Disable" 
    8.  Highlight 'McAfee SiteAdvisor BHO' 
    9.  Click "Disable" 
    10. Click OK, OK 
    11. Close Internet Explorer 
    12. Re-launch Internet Explorer 
    13. Test
   
   


Scenario #3 Modify the client device to allow the execution of CCR.EXE inside Internet Explorer. 

 * To achieve this, add an entry 'EnableIEHosting' inside the Registry. 
 * See separate IBM Technote #1626268 for full details.

RELATED INFORMATION
 1347360 - Error 'Attempted to read or write protected m [http://www.ibm.com/support/docview.wss?uid=swg21347360]
1371269 - NET Runtime 2.0 Error - Event ID 5000 - Descr [http://www.ibm.com/support/docview.wss?uid=swg21371269]
1654472 - ** Troubleshooting ** "Microsoft IE Execute s [http://www.ibm.com/support/docview.wss?uid=swg21654472]
1626268 - "CCR has stopped working ... System.IO.FileNo [http://www.ibm.com/support/docview.wss?uid=swg21626268]
1984087 - How to configure Internet Explorer to add the [http://www.ibm.com/support/docview.wss?uid=swg21984087]


 

HISTORICAL NUMBER
 1037624