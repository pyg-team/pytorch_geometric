Title: IBM PI08900: APPLICATIONS CONNTAINING EJBs IN WEB MODULES FAIL TO DEPLOY IN A MIXED CELL - United States

Text:
  FIXES ARE AVAILABLE
8.5.5.2: WebSphere Application Server V8.5.5 Fix Pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24037250]
8.0.0.9: WebSphere Application Server V8.0 Fix Pack 9 [http://www-01.ibm.com/support/docview.wss?uid=swg24037574]
8.5.5.3: WebSphere Application Server V8.5.5 Fix Pack 3 [http://www-01.ibm.com/support/docview.wss?uid=swg24038133]
8.5.5.4: WebSphere Application Server V8.5.5 Fix Pack 4 [http://www-01.ibm.com/support/docview.wss?uid=swg24038539]
8.0.0.10: WebSphere Application Server V8.0 Fix Pack 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24039242]
8.5.5.5: WebSphere Application Server V8.5.5 Fix Pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24039425]
8.5.5.6: WebSphere Application Server V8.5.5 Fix Pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24040035]
8.0.0.11: WebSphere Application Server V8.0 Fix Pack 11 [http://www-01.ibm.com/support/docview.wss?uid=swg24040425]
8.5.5.7: WebSphere Application Server V8.5.5 Fix Pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24040533]
8.5.5.8: WebSphere Application Server V8.5.5 Fix Pack 8 [http://www-01.ibm.com/support/docview.wss?uid=swg24041178]
8.0.0.12: WebSphere Application Server V8.0 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24041590]
8.5.5.9: WebSphere Application Server V8.5.5 Fix Pack 9 [http://www-01.ibm.com/support/docview.wss?uid=swg24041819]
8.5.5.10: WebSphere Application Server V8.5.5 Fix Pack 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24042150]
8.5.5.11: WebSphere Application Server V8.5.5 Fix Pack 11 [http://www-01.ibm.com/support/docview.wss?uid=swg24043005]
8.0.0.13: WebSphere Application Server V8.0 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24042746]
8.5.5.12: WebSphere Application Server V8.5.5 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24043844]
8.0.0.14: WebSphere Application Server V8.0 Fix Pack 14 [http://www-01.ibm.com/support/docview.wss?uid=swg24044096]
8.5.5.13: WebSphere Application Server V8.5.5 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24044479]
8.0.0.15: WebSphere Application Server V8.0 Fix Pack 15 [http://www-01.ibm.com/support/docview.wss?uid=swg24044734]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When migrating to Network Deployment edition V8.5.5 from V7,
   application deployment fails because a web module contains EJB
   content which is not supported for the V7 release.
   
   
    
   
   

LOCAL FIX
 *  No work-around
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server V7.0 who are upgrading to V8.0 or    *
   *                  V8.5 and who also have web applications     *
   *                  containing EJBs.                            *
   ****************************************************************
   * PROBLEM DESCRIPTION: The installation fails when             *
   *                      installing an application from a        *
   *                      WebSphere Application Server V8.0 or    *
   *                      V8.5 deployment manager to a node       *
   *                      running WebSphere Application Server    *
   *                      V7.0.                                   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   An application installation fails because the application is
   upgraded from Java EE 5.0 to Java EE 6.0 during installation.
   The upgrade occurs when an EJB is found in a web module. The
   ability to include an EJB inside a web module was introduced
   in Java EE 6.0.  Since this is a feature of Java EE 6.0, the
   application is upgraded. Once the application is upgraded, it
   is no longer deployable to a node running WebSphere
   Application Server V7.0.
   Note that this type of application can be installed properly
   by a WebSphere Application Server V7.0 deployment manager or
   standalone server, because WebSphere Application Server V7.0
   is a Java EE 5.0 implementation and cannot recognize features
   of Java EE 6.0.  Versions 8.0 and 8.5 of WebSphere
   Application Server recognize these features and upgrade the
   application version accordingly.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This APAR adds a custom property and manifest attribute which
   cause EJB content in web modules to be ignored.
   
   To ignore EJB content in web modules in all applications
   deployed from a deployment manager node, set the following
   java custom property:
   
   org.eclipse.jst.j2ee.commonarchivecore.ignore.ejb.in.war=true
   
   To ignore EJB content in all web modules in a single
   application, set the following attribute in the application
   manifest file (META-INF/MANIFEST.MF):
   
   Ignore-Ejb-In-War-Annotation: true
   
   To ignore the EJB content in a single web module, set
   the above attribute in the manifest file of the web module.
   
   Ensure that the last line of the MANIFEST.MF file is a blank
   line containing no spaces, and that all of the other rules for
   manifest files are followed.
   
   Adding the manifest attribute is preferred over setting the
   java custom property, since the custom property applies to all
   application deployments made from the deployment manager,
   while the manifest attribute is specific to an application or
   web module. Setting the java custom property could have an
   unintended effect on Java EE 6.0 applications containing EJB
   content in web modules.
   
   Both the custom property and the manifest attribute are
   intended to enable deployment of applications which contain
   EJB content in web modules from a V8.0 or V8.5 deployment
   manager node to a V7.0 application server node.  The property
   and attribute are only appropriate for these mixed cell
   deployments to V7.0 nodes.  If the property is set, and you
   deploy a Java EE 6 application to a V8.0 or V8.5 node, any EJB
   in a WAR file in the application will be ignored, which is
   likely not what you intended.  Therefore we strongly recommend
   that you set the property only in the MANIFEST.MF of the
   applications containing EJBs in WAR files which you need to
   deploy to nodes running WebSphere Application Server V7.0.
   
   The fix for this APAR is currently targeted for inclusion in
   fix packs 8.0.0.9 and 8.5.5.2.  Please refer to the
   Recommended Updates page for delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI08900
   
   
 * REPORTED COMPONENT NAME
   WEBS APP SERV N
   
   
 * REPORTED COMPONENT ID
   5724H8800
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-01-03
   
   
 * CLOSED DATE
   2014-01-17
   
   
 * LAST MODIFIED DATE
   2014-01-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS APP SERV N
   
   
 * FIXED COMPONENT ID
   5724H8800
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP
   
   
 * R850 PSY
   UP