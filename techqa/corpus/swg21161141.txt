Title: IBM MQ JMS application fails to open a cluster queue with reason code 2085 (MQRC_UNKNOWN_OBJECT_NAME) - United States

Text:
JMS cluster queue 2085 MQRC_UNKNOWN_OBJECT_NAME TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You have a Javaâ„¢ Message Service application which connects to an IBM MQ queue manager belonging to an MQ cluster. When your JMS application tries to access a cluster queue which somewhere else in the cluster, your application receives an exception with reason code 2085, MQRC_UNKNOWN_OBJECT_NAME. 

SYMPTOM
When your application opens the cluster queue it receives a javax.jms.InvalidDestinationException which includes a message like "MQJMS2008: failed to open MQ queue CLUSTER.QUEUE". The linked exception provides further details on the cause such as "com.ibm.mq.MQException: JMSCMQ0001: WebSphere MQ call failed with compcode '2' ('MQCC_FAILED') reason '2085' ('MQRC_UNKNOWN_OBJECT_NAME')." You might also possibly see message JMSWMQ2008 or references to baseQueueManagerName.


CAUSE
The JMS Queue object your application used specified a queue manager name as well as a queue name. When the queue manager name is filled in, MQ can open the cluster queue only if it exists on that specific queue manager.

RESOLVING THE PROBLEM
Alter the JMS Queue object used by your application to remove the queue manager name so that the MQ JMS classes can access the cluster queue no matter which queue managers own an instance of it. There are many ways to administer MQ JMS object definitions [http://www.ibm.com/support/docview.wss?uid=swg21161085] in JNDI. For example, if you are using the MQ JMSAdmin command line tool you can remove the queue manager name easily:



 1. 
 2. Removing the queue manager name using JMSAdmin
 3. 
 4. InitCtx> 
 5. ALTER Q(CLUSTER.QUEUE) QMANAGER()
 6. 

 

PRODUCT ALIAS/SYNONYM
 WebSphere MQ WMQ