Title: IBM ITM 6.3 only supports DB2 V9.7, V9.8, V10.1 and V10.5 but 6.3 Installation and Setup Guide mentions "db2 get authorizations" command which has been discontinued on DB2 9.7.0 or later. - United States

Text:
ITM 6.3; DB2 V9.7; DB2 V9.8; DB2 V10.1; DB2 V10.5; db2 get authorizations; AUTH_LIST_AUTHORITIES_FOR_AUTHID table TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 ITM 6.3 only supports DB2 V9.7, V9.8, V10.1 and V10.5 but 6.3 Installation and Setup Guide mentions "db2 get authorizations" command which has been discontinued on DB2 9.7.0 or later.
(Note: ITM 6.3 FP1 or the above supports DB2 V10.5) 

SYMPTOM
The page 163 of "Chapter 8. Upgrading from a previous installation" of "IBM Tivoli Monitoring Version 6.3 Installation and Setup Guide SC22-5445-00" mentioned "db2 get authorizations" command, however, the "db2 get authorizations" command" cannot be used on the supported DB2 versions.

The part of the manual are below:
==================
Step 1: Verify the DB2 Database for Linux, UNIX, and Windows authorizations
Before you begin

Both Linux and AIX sites must complete this step.

About this task

In the following example the portal server database is called TEPS, the DB2 for Linux, UNIX, and
Windows userid is itmuser, and the DB2 administrative userid is db2inst1.

Procedure
1. Log in as the DB2 administrator:
su - db2inst1

2. Connect to the portal server database using the portal server's DB2 userid:
db2 connect to TEPS user itmuser using TEPSpw
where TEPSpw is the password for userid itmuser.

3. Get the authorizations for the portal server's DB2 userid:
db2 get authorizations
==================


CAUSE
The "db2 get authorizations" command has been discontinued and replaced with the AUTH_LIST_AUTHORITIES_FOR_AUTHID table function on DB2 9.7.0 or later. 

RESOLVING THE PROBLEM
The customer should use the following command instead.

db2 "SELECT substr (AUTHORITY,1,30) as AUTHORITY, D_USER, D_GROUP, D_PUBLIC, ROLE_USER, ROLE_GROUP, ROLE_PUBLIC, D_ROLE FROM TABLE (SYSPROC.AUTH_LIST_AUTHORITIES_FOR_AUTHID ('itmuser', 'U') ) AS T ORDER BY AUTHORITY"

==================

# su - db2inst1
$ db2 connect to TEPS user itmuser using <password>

Database Connection Information

Database server = DB2/LINUXX8664 10.1.0
SQL authorization ID = ITMUSER
Local database alias = TEPS

$ db2 "SELECT substr (AUTHORITY,1,30) as AUTHORITY, D_USER, D_GROUP, D_PUBLIC, ROLE_USER, ROLE_GROUP, ROLE_PUBLIC, D_ROLE FROM TABLE (SYSPROC.AUTH_LIST_AUTHORITIES_FOR_AUTHID ('itmuser', 'U') ) AS T ORDER BY AUTHORITY"

AUTHORITY D_USER D_GROUP D_PUBLIC ROLE_USER ROLE_GROUP ROLE_PUBLIC D_ROLE
------------------------------ ------ ------- -------- --------- ---------- ----------- ------
ACCESSCTRL N N N N N N * 
BINDADD N N Y N N N * 
CONNECT N N Y N N N * 
CREATETAB N N Y N N N * 
CREATE_EXTERNAL_ROUTINE N N N N N N * 
CREATE_NOT_FENCED_ROUTINE N N N N N N * 
CREATE_SECURE_OBJECT N N N N N N * 
DATAACCESS N N N N N N * 
DBADM N N N N N N * 
EXPLAIN N N N N N N * 
IMPLICIT_SCHEMA N N Y N N N * 
LOAD N N N N N N * 
QUIESCE_CONNECT N N N N N N * 
SECADM N N N N N N * 
SQLADM N N N N N N * 
SYSADM * N * * * * * 
SYSCTRL * N * * * * * 
SYSMAINT * N * * * * * 
SYSMON * N * * * * * 
WLMADM N N N N N N * 

==================