Title: IBM IY37241: ENGINE TRIES TO PLACE A TABLE LEVEL S LOCK ON SYSTABLES WHILE DOING 'ALTER TABLE NOT LOGGED INITIALLY WITH EMPTY TABLE' - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Engine is trying to place an S lock on SYSTABLES while
   rebuilding indexes for a table which was truncated with 'alter
   table activate not logged initially with empty table'.
   This prevents any other DDL from happening until we commit UOW
   where 'alter table' was done, which in turn, creates locking
   contention on system catalog for some customers.
   It appears that we use an S lock and RR isolation level when we
   .
   are trying to pull out information for indexes which have to be
   rebuilt. This is unnecessary and could be done with IS table
   lock and RS isolation.
   
   
    
   
   

LOCAL FIX
 *  load/replace, import/replace could be used instead to truncate
   table contents.
   
   
    
   
   

PROBLEM SUMMARY
 *  ENGINE TRIES TO PLACE A TABLE LEVEL S LOCK ON SYSTABLES W
   DOING 'ALTER TABLE NOT LOGGED INITIALLY WITH EMPTY TABLE'
   
   
    
   
   

PROBLEM CONCLUSION
 *  DEFECT=261674 CSD=C030303 MODULE=engn_sqrl
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY37241
   
   
 * REPORTED COMPONENT NAME
   UDB EEE AIX
   
   
 * REPORTED COMPONENT ID
   5648D5000
   
   
 * REPORTED RELEASE
   720
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2002-11-18
   
   
 * CLOSED DATE
   2003-03-26
   
   
 * LAST MODIFIED DATE
   2003-04-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    IY43551
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   UDB EEE AIX
   
   
 * FIXED COMPONENT ID
   5648D5000
   
   

APPLICABLE COMPONENT LEVELS
 * R720 PSY
   UP