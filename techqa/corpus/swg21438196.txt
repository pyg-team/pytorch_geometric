Title: IBM Collect troubleshooting data for problems with WebSphere Adapter for Email - United States

Text:
MustGatherDocument TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are having a problem with WebSphere Adapter for Email. You would like to know what documentation you must collect (MustGather) so that the WebSphere Adapter Support team can diagnose your problem. If you gather this documentation before contacting support it will expedite the troubleshooting process, and save you time. 

RESOLVING THE PROBLEM
MustGather technotes provide a detailed description of the documentation required by the IBM Support team to diagnose your problem. Select the runtime where your problem occurs:

 *  
 * WebSphere Enterprise Service Bus
 * WebSphere Process Server
 * WebSphere Transformation Extender


WebSphere Enterprise Service Bus 
Gather the following documentation for the WebSphere Adapter for Email running with WebSphere Enterprise Service Bus runtime:  

 * BuildTime: If the error was encountered while running the External Service, collect the following files:  * Configuration parameters log file  * Adapter config Parameters are in the file: <workspace>\.metadata\.plugins\ com.ibm.j2c.ui\ dialog_settings.xml file. 
      
      
    * External Service log file  * Parse dialog_settings.xml file to get the value for attribute logFileLocation which indicates the log file location. The file normally is in the <workspace>\.metadata directory and needs to be collected. 
       * In addition, collect the '.log' file in the <workspace>\.metadata directory. 
      
      
      
   
   
 * Runtime: If the error was encountered while running an adapter application in WebSphere Enterprise Service Bus, enable the following traces:  1. Enable the adapter tracing from the WebSphere Enterprise Service Bus administrative console. 
    2. Navigate to Troubleshooting > Logs and traces > server > Change Log level details. 
    3. Set the following tracing either in the Configuration tab or the Runtime tab:
       
       
       com.ibm.j2ca.*=all
       
       
       Note: Changing the traces in Configuration tab would require server restart to take into effect.
       
       
    4. Recreate the issue. 
   
   


Next, collect the following files: 

 * Deployment descriptor files  *  WebSphere Enterprise Service Bus Deployment descriptor deployment.xml
   
   
   <WESB.rootdir>\config\cells\<CellName>\applications\<AdapterApp>.ear\deployments\<AdapterApp>\deployment.xml  *  Resource Adapter descriptor ra.xml - this file contains the adapter version - If WebSphere Enterprise Service Bus is bundled with WebSphere Integration Developer: <WID root dir>\pf\wps\installedApps\widCell\<AdapterApp>.ear\<AdapterApp>\<AdapterRAR>\META-INF\ra.xml 
      
      - If WebSphere Enterprise Service Bus is not bundled with WebSphere Integration Developer: <WESB root dir>\profiles\<profile>\installedApps\<CellName>\<AdapterApp>.ear\<AdapterRAR>\META-INF\ra.xml
      
      
   
   
   
 * Adapter runtime log files  * <WESB root dir>\profiles\<profile>\logs\<server>\SystemErr.log 
    * <WESB root dir>\profiles\<profile>\logs\<server>\SystemOut.log 
    * <WESB root dir>\profiles\<profile>\logs\<server>\trace.log
   
   
   
 * FFDC log files(collect all files in directory)  * <WESB root dir>\profiles\<profile>\logs\ffdc
   
   
   
 * WebSphere Enterprise Service Bus version  * If WebSphere Enterprise Service Bus is bundled with WebSphere Integration Developer:: <WID root dir>\runtimes\bi_v70\properties\version\ wps.rt.bundle.component 
    * If WebSphere Enterprise Service Bus is not bundled with WebSphere Integration Developer : <WESB root dir>\properties\version\wps.rt.bundle.component
   
   
   
 * Adapter version(can be found in ra.xml file)  * If adapter is deployed with embedded mode: <WESB root dir>\profiles\<profile>\installedApps\<CellName>\<AdapterApp>.ear\<AdapterRAR>\META-INF\ra.xml 
    * If adapter is deployed with standalone mode: <WESB root dir>\profiles\<profile>\installedConnectors\<AdapterRAR>\META-INF\ra.xml
   
   
 * Email Server Type (For example: Exchange, Domino, Sendmail) 
 * Email Server Version 
 * Email flow (incoming or outgoing)
   
   

Back to top




WebSphere Process Server 
Gather the following documentation for the WebSphere Adapter for Email running with WebSphere Process Server runtime: 
 * BuildTime: If the error was encountered while running the External Service, collect the following files:  * Configuration parameters log file  * Adapter config Parameters are in the file: <workspace>\.metadata\.plugins\ com.ibm.j2c.ui\ dialog_settings.xml file. 
      
      
    * External Service log file  * Parse dialog_settings.xml file to get the value for attribute logFileLocation which indicates the log file location. The file normally is in the <workspace>\.metadata directory and needs to be collected. 
       * In addition, collect the '.log' file in the <workspace>\.metadata directory. 
      
      
   
   

 * Runtime: If the error was encountered while running an adapter application in WebSphere Process Server, enable the following traces:  1. Enable the adapter tracing from the WebSphere Process Server administrative console. 
    2. Navigate to Troubleshooting > Logs and traces > server > Change Log level details. 
    3. Set the following tracing either in the Configuration tab or the Runtime tab:
       
       
       com.ibm.j2ca.*=all
       
       
       Note: Changing the traces in Configuration tab would require server restart to take into effect.
       
       
    4. Recreate the issue. 
   
   


Next, collect the following files: 

 * Deployment descriptor files  *  WebSphere Process Server Deployment descriptor deployment.xml
   
   
   <WPS.rootdir>\config\cells\<CellName>\applications\<AdapterApp>.ear\deployments\<AdapterApp>\deployment.xml  *  Resource Adapter descriptor ra.xml - this file contains the adapter version - If WebSphere Process Server is bundled with WebSphere Integration Developer: <WID root dir>\pf\wps\installedApps\widCell\<AdapterApp>.ear\<AdapterApp>\<AdapterRAR>\META-INF\ra.xml 
      
      - If WebSphere Process Server is not bundled with WebSphere Integration Developer: <WPS root dir>\profiles\<profile>\installedApps\<CellName>\<AdapterApp>.ear\<AdapterRAR>\META-INF\ra.xml
      
      
   
   
   
 * Adapter runtime log files  * <WPS root dir>\profiles\<profile>\logs\<server>\SystemErr.log 
    * <WPS root dir>\profiles\<profile>\logs\<server>\SystemOut.log 
    * <WPS root dir>\profiles\<profile>\logs\<server>\trace.log
   
   
   
 * FFDC log files(collect all files in directory)  * <WPS root dir>\profiles\<profile>\logs\ffdc
   
   

 * WebSphere Process Server version  * If WebSphere Process Server is bundled with WebSphere Integration Developer: <WID root dir>\runtimes\bi_v70\properties\version\ wps.rt.bundle.component 
    * If WebSphere Process Server is not bundled with WebSphere Integration Developer:: <WPS root dir>\properties\version\wps.rt.bundle.component
   
   
   
 * Adapter version(can be found in ra.xml file)  * If adapter is deployed with embedded mode: <WPS root dir>\profiles\<profile>\installedApps\<CellName>\<AdapterApp>.ear\<AdapterRAR>\META-INF\ra.xml 
    * If adapter is deployed with standalone mode: <WPS root dir>\profiles\<profile>\installedConnectors\<AdapterRAR>\META-INF\ra.xml
   
   
 * Email Server Type (For example: Exchange, Domino, Sendmail) 
 * Email Server Version 
 * Email flow (incoming or outgoing)
   
   

Back to top



WebSphere Transformation Extender 
Gather the following documentation for the WebSphere Adapter for Email running with WebSphere Transformation Extender runtime:  * Adapter version including the Fix Pack level and Interim Fix level
   
   
 * WebSphere Transformation Extender version and Fix Pack level
   
   
 * Adapter runtime log file. Configure and run the adapter to generate the trace file. This can be done by setting the following option on the adapter execution command line: 
   
   
   TV <file location relative to the map or absolute path> 
   
   
   All the adapter's runtime tracing information will go to this trace file. 
 * If the issue involves the WebSphere Transformation Extender Importer wizard and configuring adapter, provide these log files: 
 * Log files located in Eclipse workspace .metadata directory. (In other words, Eclipse <workspace>\.metadata\.log)
   
   
 * WebSphere Transformation Extender Launcher logs. If inbound scenario, set the following options in the dtx.ini file: 
 * LogTrace=1 
 * LogDebug=1 
 * LogInfo=1 
 * LogWarning=1 
 * LogError=1 
 * LogFatal=1


For the inbound scenarios, when running the WebSphere Transformation Extender Launcher, provide the logs for the Launcher. The logs could be enabled in the dtx.ini file. 
 * Email Server Type (For example: Exchange, Domino, Sendmail) 
 * Email Server Version 
 * Email flow (incoming or outgoing)
   
   

Back to top