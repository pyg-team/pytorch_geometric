Title: IBM ITCAM  for Microsoft (R) App : SQL Server 6.3.1.13-TIV-ITM_SQL-IF0001 - United States

Text:
ITM; SQL; ITCAM; Microsoft Applications DOWNLOADABLE FILES

ABSTRACT
 This fix resolves the APARs and defects listed in the "Problems Fixed"
section below 

DOWNLOAD DESCRIPTION
Copyright International Business Machines Corporation 2018. 


All rights reserved.

Component: IBM(R) Tivoli(R) Composite Application Manager for Microsoft(R) Applications:
Microsoft(R) SQL Server Agent, Version 6.3.1.13

Component ID: 5724B96MO

Interim Fix 0001, (6.3.1.13-TIV-ITM_SQL-IF0001)

Date: May 14, 2018

Contents:

1.0 General description
2.0 Problems fixed
3.0 Architecture and prerequisites
4.0 Image directory contents
5.0 Installation instructions
6.0 Additional installation information
7.0 Known problems and workarounds
8.0 Additional product information
9.0 Notices


1.0 General description
=======================
This fix resolves the APARs and defects listed in the "Problems Fixed"
section below. 

2.0 Problems fixed
==================
2.1 APARS:
-------------------
APAR: IJ00433
Abstract: The collector process is crashing while accessing invalid
parameter of the request. 
Additional Information: Customized SQL query result attribute group
(KOQCSQLR) request uses 3 parameters & other attribute groups use 2
parameters. The memory for the third parameter was not handled properly.
And accessing this parameter by other attribute group would result
into crash.

APAR: IJ00815
Abstract: Device Detail attribute AUTOGROWTH behaviour not in sync
with SQL Server. 
Additional Information: In case when data file autogrowth was disabled
and max-size was set to unlimited, then the incorrect values were
displayed for filegroup detail attribute(Max Growth Size) and device
detail attribute(Growth).

APAR: IJ01540
Abstract: False alerts are being generated as default value "Not
Collected" for "Database Space Pct Used" attribute is not correctly
converted before sending to TEPS.
Additional Information: Situations having default value
[ Not Collected (-1 ) ] in formula were not getting evaluated correctly
for some database detail attributes. However, the data was shown
correctly as ‘Not Collected’ on the portal.

APAR: IJ05451 
Abstract: ITCAM SQL Server Agent's collector process crashes when using
SQL Server Native Client 10.0 or SQL Server Native Client 11.0 as
ODBC driver.
Additional Information: Collector was not able to handle all possible values
returned by ODBC when using SQL Server Native Client 10.0 and SQL Server
Native Client 11.0 causing it to crash.

2.2 DEFECTS:
-----------------
DEFECT: 170986
Abstract: Memory leak in Table Detail attribute group. 
Additional Information: Memory leak observed in Table Detail attribute
group because incorrect de-allocation handling. 

DEFECT: 170987
Abstract: Crash observed in Availability group details attribute group
and Table detail attribute group
Additional Information: Crash observed in Availability group details
attribute group and in Table detail attribute group for the wrong
usage of iterator after erase. Issue happened because an attempt to
increment the iterator was made after the iterator was deleted through
erase function. 

DEFECT: 170993
Abstract: intial size > max size gives incorrect values
Additional Information: If a database was created with restricted growth
and then modifed the initial size of the database file to a value
greater than it's maxsize, then the value of maxsize was not updated
correctly (ideally in this case maxsize should become equal to initial
size). As a result, query to SQL Server returned false value for
maxsize due to which incorrect values were getting displayed on portal
for attributes in Database Detail, Device Detail and Filegroup Detail
attribute groups.

DEFECT: 170994
Abstract: Incorrect value displayed for Database Detail attributes
when autogrowth disabled and data freespace > drive freespace.
Additional Information: In cases when data file autogrowth was disabled
and data freespace was greater than device freespace then incorrect
value were seen for some attributes(Data Freespace , Aggregate Database
Freespace , Database Space pct used , Aggregate Database Freespace pct,
Database max growth size). 

DEFECT: 171127
Abstract: Add tolerance support for SQL Server 2017.
Additional Information: Added support for SQL Server 2017 version.

DEFECT: 171244
Abstract: Spelling mistake in agent configuration panel.
Additional Information: Few spelling mistakes in agent configuration
panel were corrected.

DEFECT: 171318
Abstract: Usage of KOQ_ODBC_DRIVER variable in pre-req while making
sql server connection.
Additional Information: During pre-requisite check, the value of
‘Driver’ was hardcoded to ‘SQL Server‘. While later on, for collecting
data value for 'Driver’ was picked from ‘KOQ_ODBC_DRIVER’ variable.
Due to this, issue was seen during pre-requiste connection but later
on data was being collected successfully.

DEFECT: 171379
Abstract: High Severity vulnerabilities are resolved to avoid undefined
behaviour of the agent.
Additional Information: Removed the high severity errors in the code,
detected in CPPCheck tool.

DEFECT: 171785
Abstract: DBD_TEMP rename failed with error [32]
Additional Information: Renaming of DBD_TEMP to DBD_PREV files was
failing with Error 32 (The process cannot access the file because it
is being used by another process)because DBD_TEMP file handle was
taking time to close. 

DEFECT: 171979
Abstract: Incorrect value is being sent when query is failed in SRV1
cursor.
Additional Information: Zero value was being sent when query fails in
SRV1 cursor which was incorrect. Zero is a meaningful value which does
not indicate failure.

DEFECT: 171981
Abstract: Not Collected value is frequently sent since database
detail collection is not getting completed in 45 seconds.
Additional Information: When database detail collection took more
than 45 seconds for collection, Not collected values were sent which
resulted into triggering of situation.

DEFECT: 172173
Abstract: Environment setting for COLL_DBCC_NO_LOCK was not taking
effect. Similar issue was seen with COLL_MONITOR_ALL_DATABASES.
Additional Information: Values were getting overwritten for above two
variables, hence queries were running without NoLock hint and monitoring
of all database setting was not working as expected.

DEFECT: 173699
Abstract: No data get collected for server summary attribute group.
Additional Information: SRV3,one of the pre-cursor of server summary
attribute group, was failing as its query was executed with (null)
option. Hence no data was collected for server summary attribute group.

DEFECT: 174076
Abstract: MSSQLQA: Sometime server detail data is not getting displayed
on portal.
Additional Information: SRV3, one of the pre-cursor of server summary
attribute group, was failing as its query was executed with (null)
option. Hence sometimes server detail data was not getting displayed
on portal.

DEFECT: 174077
Abstract: crypted SQL password in log file.
Additional Information: Encrypted password value in logfile is 
replaced with fixed length string to avoid security breach.

DEFECT: 174420
Abstract: Last Statistics Query execution failing for table details
attribute group.
Additional Information: Due to query failure,table detail data was
collected only for the first time. From second collection onwards,
new data was not collected & portal always showed the data collected
during first collection.

DEFECT: 175117
Abstract: Table detail attribute group query was failing for syntax error
at where clause and returned null
Additional Information: The query which gets executed while include/exclude
databases is on, was containing two consecutive "where" and hence 
was failing. This issue is seen with SQL Server 2014 and above versions. 

DEFECT: 175120
Abstract: Data is not collected properly with the non default SQL
ODBC driver.
Additional Information: Due to incorrect size calculated for some
data types, either query’s result set processing was failing or the
data was getting truncated. As a result data was not getting collected
properly for some attributes.

2.3 Enhancements:
-----------------
RFE: 50594
Abstract: Support AlwaysOn feature for SQL developers edition.
Additional Information: Added support for SQL Server Developers
Edition's AlwaysOn feature.

2.4 Superseded fixes
--------------------
None

2.5 APARs and defects included from superseded fixes
----------------------------------------------------
None

3.0 Architecture and prerequisites
==================================
This fix is supported on all operating systems listed in the 
IBM Tivoli Monitoring: Microsoft SQL Server agent prerequisites Document,
version 6.3.1 or from the following link:
http://www-969.ibm.com/software/reports/compatibility/clarity-reports/report/html/softwareReqsForProductByComponent?deliverableId=A54AA300920511E292EE9F030925FE1B&duComponent=Server_A5707A80920511E292EE9F030925FE1 [http://www-969.ibm.com/software/reports/compatibility/clarity-reports/report/html/softwareReqsForProductByComponent?deliverableId=A54AA300920511E292EE9F030925FE1B&duComponent=Server_A5707A80920511E292EE9F030925FE1]


The following link is for the Tivoli operating system and application
support matrix. Please refer to this matrix for the latest 
certification information.

http://www-969.ibm.com/software/reports/compatibility/clarity/index.html [http://www-969.ibm.com/software/reports/compatibility/clarity/index.html]

3.1 Prerequisites for this fix
------------------------------
The prerequisite level for this fix is as follows:

Local Agent Upgrade: 
- ITCAMMA: Monitoring Agent for Microsoft SQL Server, Version 6.3.1.13 

Remote Agent Upgrade:
- IBM Tivoli Monitoring, Version V6.23 Fix Pack 3 with OS Support
- ITCAMMA: Monitoring Agent for Microsoft SQL Server, Version 6.3.1.13 
- Monitoring Agent for Windows OS, Version V6.23 Fix Pack 3

As this fix is cumulative, it can be installed on any fix level
for this version, release and mod level above the prerequisite.


4.0 Image directory contents
============================
This fix image contains the following files:

- 6.3.1.13-TIV-ITM_SQL-IF0001.README - This is the README file
- 6.3.1.13-TIV-ITM_SQL-IF0001.tar - Fix archive .tar format
- 6.3.1.13-TIV-ITM_SQL-IF0001.zip - Fix archive .zip format

Note: The .tar and .zip files are identical in content. Use the .tar
file if you are working in a UNIX(R) environment; use the .zip file
if you are working in a Windows(R) environment.

The fix archive file contains the following files:
6.3.1.13-TIV-ITM_SQL-IF0001/koq_tems_teps_tepd_if0001.tar
6.3.1.13-TIV-ITM_SQL-IF0001/koq_tems_teps_tepd_if0001.zip
6.3.1.13-TIV-ITM_SQL-IF0001/KOQ_winnt_tema_if0001.cab
6.3.1.13-TIV-ITM_SQL-IF0001/KOQ_wix64_tema_if0001.cab
6.3.1.13-TIV-ITM_SQL-IF0001/KOQWINNT.dsc
6.3.1.13-TIV-ITM_SQL-IF0001/KOQWIX64.dsc
6.3.1.13-TIV-ITM_SQL-IF0001/oq_dd.properties
6.3.1.13-TIV-ITM_SQL-IF0001/oq_dd_063113001.xml
6.3.1.13-TIV-ITM_SQL-IF0001/itmpatch.exe


5.0 Installation instructions
=============================
This fix can only be installed over an existing installation. 
Use the following steps to install this fix.

5.1 Before installing the fix
-----------------------------
- The prerequisites listed under section 3.1 entitled 'Prerequisites
for this fix' must be installed before this fix can be installed.

- With reference to this README, the symbol <CANDLEHOME> is the
IBM Tivoli Monitoring installation directory. The default value
for CANDLEHOME is '/opt/IBM/ITM' on UNIX systems and 'C:\IBM\ITM'
on Windows systems.

Before installing this fix on UNIX systems, set the environment
variable CANDLEHOME to the IBM Tivoli Monitoring installation
directory.

For example:
> CANDLEHOME=/opt/IBM/ITM
> export CANDLEHOME

- Refer to section 7.0 entitled "Known problems and workarounds"
before installation.

- Because there is no uninstall utility for this fix, make sure to
perform a backup of your environment before installing this fix.

5.2 Local agent update
----------------------
1. Transfer the appropriate archive file
(6.3.1.13-TIV-ITM_SQL-IF0001.tar or .zip) to a temporary directory
on the system that contains the agent code to be updated. For
the purpose of this README, the symbol <TEMP> represents the
fully qualified path to this directory.
Note: On Windows systems, this path includes the drive letter.

2. Expand the archive file using the "tar" command on UNIX systems
or an extract utility on Windows systems. This step creates a
directory structure that contains fixes for all of the 
supported platforms.

3. Use the "itmpatch" command to install the fix for that agent
platform. For more information on the "itmpatch" command, see
section 6.2.

On Windows systems, if the fix was expanded to
<TEMP>\6.3.1.13-TIV-ITM_SQL-IF0001, the install command is:

For 32 bit Agent:
> <TEMP>\6.3.1.13-TIV-ITM_SQL-IF0001\itmpatch -h <CANDLEHOME>
-i <TEMP>\6.3.1.13-TIV-ITM_SQL-IF0001\KOQ_winnt_tema_if0001.cab

For 64 bit Agent:
> <TEMP>\6.3.1.13-TIV-ITM_SQL-IF0001\itmpatch -h <CANDLEHOME> 
-i <TEMP>\6.3.1.13-TIV-ITM_SQL-IF0001\KOQ_wix64_tema_if0001.cab

Note : Use "itmpatch" command from <TEMP>\6.3.1.13-TIV-ITM_SQL-IF0001\ 
temporary directory.

5.3 Remote agent update
-----------------------
1. Transfer the appropriate archive file
(6.3.1.13-TIV-ITM_SQL-IF0001.tar or .zip) to a temporary directory
on the IBM Tivoli Enterprise Monitoring Server system. For the
purpose of this README, the symbol <TEMP> represents the fully
qualified path to this directory.
Note: On Windows systems, this path includes the drive letter.

2. Expand the archive file using the "tar" command on UNIX systems
or an extract utility on Windows systems. This step creates a 
directory structure that contains fixes for all of the 
supported platforms.

3. To add the agent fix bundles into the remote deploy depot, use
the "tacmd addBundles" command found in $CANDLEHOME/bin on UNIX
systems or in %CANDLE_HOME%\bin on Windows systems. For more
information on the "tacmd addBundles" command, see the IBM Tivoli
Monitoring Administrator's Guide.

On UNIX systems,
if the fix was expanded to <TEMP>/6.3.1.13-TIV-ITM_SQL-IF0001:
> $CANDLEHOME/bin/tacmd addBundles -n -i <TEMP>/6.3.1.13-TIV-ITM_SQL-IF0001

On Windows systems,
if the fix was expanded to <TEMP>\6.3.1.13-TIV-ITM_SQL-IF0001:
> %CANDLE_HOME%\bin\tacmd addBundles -n -i <TEMP>\6.3.1.13-TIV-ITM_SQL-IF0001

where:
-n indicates that prerequisite bundles are not automatically
added. The -n parameter must be used because the fix 
directory does not contain any prerequisites that the fix
might require. Please see Section 3.1 for the prerequisites
for this fix.
-i is the directory that contains the deployment bundles to 
be added to the depot. 

4. To log in to the Tivoli Enterprise Monitoring server, and deploy
the fix to the appropriate nodes where the agent is running, use
the following "tacmd" commands. For more information on the
"tacmd login" and "tacmd updateAgent" commands, see "IBM Tivoli 
Monitoring Command Reference".

On UNIX systems: 
> $CANDLEHOME/bin/tacmd login -s <server>
-u <itmuser>
-p <password>

> $CANDLEHOME/bin/tacmd listSystems

The output shows the Managed System Name for the OS agent on the
remote system to be updated. Use this value as the target of the
"tacmd updateAgent" command.

> $CANDLEHOME/bin/tacmd updateAgent -t OQ -n <Managed system name> -v 063113001

On Windows systems:
> %CANDLE_HOME%\bin\tacmd login -s <server>
-u <itmuser>
-p <password>

> %CANDLE_HOME%\bin\tacmd listSystems

The output shows the Managed System Name for the OS agent on the
remote system to be updated. Use this value as the target of the
"tacmd updateAgent" command.

> %CANDLE_HOME%\bin\tacmd updateAgent -t OQ -n <Managed system name> -v 063113001

Note:
- The component (-t) for the "tacmd updateAgent" command is 
specified as two characters (oq), not three characters (koq).
- The node (-n) for the "tacmd updateAgent" command is the
managed system name of the operating system (OS) agent to be
updated.
The target node for the "tacmd updateAgent" command is always
an OS agent.

5. To check if Remote Agent Update is SUCCESS/INPROGRESS/FAILED use the command 
>tacmd getDeployStatus -g <transaction id>

where transaction id is the id provided after updateAgent command.

5.4 Agent support update
------------------------
Use the following steps to update the Tivoli Enterprise Monitoring
Server, Tivoli Enterprise Portal Server, or Tivoli Enterprise
Portal Desktop.

1. Transfer the appropriate archive file
6.3.1.13-TIV-ITM_SQL-IF0001.tar or .zip) to the Tivoli 
Enterprise Monitoring Servers, Tivoli Enterprise Portal
Servers, or Tivoli Enterprise Portal Desktops.

2. Expand the archive file using the "tar" command on UNIX systems
or an extract utility on Windows systems. This step creates a 
directory structure that contains fixes for all of the supported
platforms.

3. Expand the archive file (koq_tems_teps_tepd_if0001.tar or .zip)
that contains the updates for Tivoli Enterprise Monitoring
Server, Tivoli Enterprise Portal Server, and Tivoli Enterprise
Portal Desktop using the "tar" command on UNIX systems or an 
extract utility on Windows systems. This step creates a 
directory structure that includes a subdirectory called CD-ROM,
with the necessary updates.

4. Use the Application Support Installer(ASI) script to launch either 
GUI installation or silent installation of the application 
support files. 

Note: For IBM Tivoli Monitoring Version 6.3 or above, one
of the following additional steps must be performed.

1. Acquire a platform-specific pre-packaged JRE version 
of the Application Support Installer (ASI). See IBM 
Tivoli Monitoring Application Support Installer, 
6.2-TIV-ITM_ASI-IF0002 at 
http://www-01.ibm.com/support/docview.wss?uid=swg24034924 [http://www-01.ibm.com/support/docview.wss?uid=swg24034924]
for download and installation instructions.

2. Specify the '-j javahome' parameter with the path to 
a java(r) 1.5 or java 1.6 installation when running 
the itmasi.sh or itmasi.bat script described below. 

GUI installation option
------------------------
The GUI can be started by using one of the following commands
from within the CD-ROM directory where setup.jar is located.

On UNIX systems:
> ./itmasi.sh [-h <CANDLEHOME>] [-j <JAVAHOME>] 

On Windows systems:
> itmasi [-h <CANDLEHOME>] [-j <JAVAHOME>] 

where:
-h <CANDLEHOME> - Required. The path to the IBM Tivoli
Monitoring installation directory.

-j <JAVAHOME> - Optional. The fully-qualified path to the
"bin" directory where Java(R) is installed.
The location of Java on your system might
vary.

When prompted by the Application Support Installer for the 
installable media directory, select the CD-ROM directory, not
the component directory. The installer can install updates for 
multiple components at the same time.

Silent installation option
--------------------------
To use the silent installation option, use one of the following
commands from within the CD-ROM directory where setup.jar is 
located. 

Note: Agent support upgrade for IBM Tivoli Monitoring Version 6.3 
or above on Linux, zLinux, Solaris and windows operating systems 
requires the following files contained in interim fix 
6.2-TIV-ITM_ASI-IF0002. This is applicable to both GUI and 
silent installation option of agent support upgrade.
- Linux: setupLinux.bin
- zLinux: setupLinux390.bin
- Solaris: setupSolaris.bin
- Windows: setupwin32.exe

Follow the installation instructions contained in the
"6.2-TIV-ITM_ASI-IF0002.README".

On UNIX systems:
> ./itmasi.sh -h <CANDLEHOME>[-silent] 
[-r <response file>] 
[-j <JAVAHOME>] 

On Windows systems:
> itmasi -h <CANDLEHOME> [-silent] 
[-r <response file>] 
[-j <JAVAHOME>] 

where:
-h <CANDLEHOME> - Required. The path to the IBM Tivoli
Monitoring installation directory.

-r <response file> - Required. Customized response file name.
The default response file "response.txt" in
the CD-ROM directory can be copied and
modified as per your environment.

-j <JAVAHOME> - Optional. The fully-qualified path to the
"bin" directory where Java(R) is installed.
The location of Java on your system might
vary.

5. The next panel presented by the Application Support Installer 
asks for the selection of which Tivoli Monitoring components
you want to add application support to.
For this fix, the check boxes should be set as follows:

Checked - Tivoli Enterprise Monitoring Server(TEMS)
Checked - Tivoli Enterprise Portal Server(TEPS)
Checked - Tivoli Enterprise Desktop Client(TEPD)

Continue through the remaining GUI panels selecting the
Microsoft SQL Server 06.31.13.01 support to complete the
installation.

Note: When support is installed using CLI or GUI for any of the
above Tivoli Monitoring components, they are restarted. 


6. If the Tivoli Enterprise Portal Desktop or Tivoli Enterprise
Portal Browser was running when the update was installed, it
must be restarted.


6.0 Additional installation information
=======================================
Any existing Microsoft SQL Server Agent instances should be restarted
after the installation of this fix.

6.1 Installation instructions for agent baroc file
--------------------------------------------------
Fix (6.3.1.13-TIV-ITM_SQL-IF0001) includes changes to the agent
baroc files which need to be reinstalled. If you have already
installed these baroc files, there are no additional installation
steps. If not, refer to IBM Tivoli Monitoring, Installation
and Setup Guide under "Installing monitoring agent baroc files
on the event server" in "Installing the IBM Tivoli Enterprise
Console Event Synchronization" section for more information.

6.2 Additional information on using "itmpatch" command
----------------------------------------------------
The "itmpatch" command has the following syntax.

Usage: itmpatch -h <installation home> [OPTIONS]

itmpatch -h <installation home>
-t { <patch_file_directory> | <patch_file> }

itmpatch -h <installation home>
-i { <patch_file_directory> | <patch_file> }

where:
-h Specifies the IBM Tivoli Monitoring installation directory
-i Specifies the path to the directory or patch file to be 
installed
-t Generates a report of the actions to be taken by the patch

For example, on UNIX systems:
- To preview the fix installation, use the "-t" option:
> <CANDLEHOME>/bin/itmpatch -h <CANDLEHOME> -t <TEMP>

- To install the fix, use the "-i" option:
> <CANDLEHOME>/bin/itmpatch -h <CANDLEHOME> -i <TEMP>

where:
<CANDLEHOME> is the fully qualified IBM Tivoli Monitoring 
installation directory. On Windows systems, this path must include
the drive letter.
<TEMP> represents the fully qualified directory specification where
the fix is located. On Windows systems, this must include the drive
letter.

6.3 Verifying the update
------------------------
1. To verify the agent was updated correctly, use the "tacmd" command
to view the agent's current version after the agent is restarted.
You are required to log in to a Tivoli Enterprise Monitoring
Server prior to viewing the agent version.

For example:
On UNIX systems, where $CANDLEHOME is the IBM Tivoli 
Monitoring installation directory, the default location
is '/opt/IBM/ITM'.

> $CANDLEHOME/bin/tacmd login -s <server>
-u <itmuser>
-p <password>
> $CANDLEHOME/bin/tacmd listSystems -t OQ

On Windows systems, where %CANDLE_HOME% is the IBM Tivoli
Monitoring installation directory, the default location
is 'C:\IBM\ITM'.

> %CANDLE_HOME%\bin\tacmd login -s <server>
-u <itmuser> 
-p <password>

> %CANDLE_HOME%\bin\tacmd listSystems -t OQ 

Note:
- The component (-t) for the tacmd "listSystems" command is 
specified as two characters (OQ), not three characters (KOQ).

When the agent update is successful, the agent version is:
06.31.13.01.

After the agent is restarted, you can also use the GUI to verify
the agent was successfully updated.
For the agent on Windows systems, the version number is 
06.31.13.01.

2. To verify the agent support files were updated correctly, use 
the "kincinfo" command on Windows systems or the "cinfo" command
on Linux or UNIX systems. The sample output below shows the 
versions of the Tivoli Enterprise Portal Server, Tivoli 
Enterprise Monitoring Server, or Tivoli Enterprise Portal
Desktop systems after this fix has been successfully applied.

Note: The displayed build date and installation date might not 
be accurate. This is known problem.

On UNIX or Linux systems:
-------------------------
To validate that all components have been installed, run the
following command:

./cinfo -i

On Windows systems:
-------------------
To validate that all components have been installed, run the
following command:

For example:
> %CANDLE_HOME%\InstallITM\kincinfo -i

C:\Users\Administrator>kincinfo -i
*********** Thursday, May 10, 2018 04:36:22 PM ************
User : Administrator Group : NA
Host Name : HJS497-MSQL-T-1 Installer : Ver: 063007000
CandleHome : C:\IBM\ITM
Installitm : C:\IBM\ITM\InstallITM
*************************************************************
...Product Inventory
OQ TEMS App Support/Microsoft SQL Server Support
WICMS Version: 06.31.13.01 Build: 81136

OQ TEPS App Support/Microsoft SQL Server Support
WICMS Version: 06.31.13.01 Build: 81136

OQ TEPB App Support/Microsoft SQL Server Support
WICMS Version: 06.31.13.00 Build: 71541

OQ TEPD App Support/Microsoft SQL Server Support
WICMS Version: 06.31.13.01 Build: 81136


7.0 Known problems and workarounds
==================================
Abstract: itmpatch command fails during upgrade
Problem: When itmpatch command is executed, it fails while upgrading
agent fix pack. The following error message is 
displayed: 

Version 06.31.13.XX of product koq is currently installed.
The patch requires that you must have at least version
06.31.13.XX of product installed to apply this patch.
Workaround: Use the itmpatch.exe provided in patch file 
6.3.1.13-TIV-ITM_SQL-XXXXXX.zip or 
6.3.1.13-TIV-ITM_SQL-XXXXXX.tar file.

Abstract: English characters are getting displayed in Agent support 
installer having Non-English language operating system.
Problem: In Non-English language operating system, when agent 
support installer is executed it shows English characters.
Workaround: None

Abstract: Installing support for patch fails on ITM 6.3.0
Problem: When you try to install the support for this patch on ITM
6.3.0, the installation fails with following error:
The wizard cannot continue because of the following error: 
could not load wizard specified in /wizard.inf (104)
Workaround: Use the pre-packaged binaries for itmasi available at:
http://www-01.ibm.com/support/docview.wss?uid=swg24034924 [http://www-01.ibm.com/support/docview.wss?uid=swg24034924]

Abstract: Crash encountered in event viewer for koqagent.exe
Problem: Sometimes while stopping the koqagent process, the collection
process is not getting completed. When koqagent.exe stops, the
thread spawned by it gets terminated forcefully. Hence it's
causing a crash.
Workaround: None

Abstract: Application support installation fails on Non Windows OS.
Problem: While installing the application support on the machines
having Operating system other than windows, the support
installation using ASI fails if the temporary directory 
where the patch files are extracted has spaces.
Workaround: Use the temporary directory without space.

Abstract: MSSQL Agent collector crashes.
Problem: Sometimes the job 'syspolicy_purge_history' fails and 
the collector crashes.
Workaround: 1. Disable scheduling of system job 'syspolicy_purge_history'.
2. Disable detail trace logging.

Abstract: MSSQL Agent collector does not auto-restart.
Problem: When agent is configured with non admin user, it fails
to auto-restart if it needs to be.
Workaround: Restart the agent manually from MTEMS window.

8.0 Additional product information
==================================
None



9.0 Notices
===========
This information was developed for products and services offered in 
the United States. IBM may not offer the products, services, or 
features discussed in this document in other countries. Consult your
local IBM representative for information on the products and services
currently available in your area. Any reference to an IBM product, 
program, or service is not intended to state or imply that only that
IBM product, program, or service may be used. Any functionally 
equivalent product, program, or service that does not infringe any 
IBM intellectual property right may be used instead. However, it is 
the user's responsibility to evaluate and verify the operation of any
non-IBM product, program, or service.

IBM may have patents or pending patent applications covering subject
matter described in this document. The furnishing of this document 
does not grant you any license to these patents. You can send license
inquiries, in writing, to:

IBM Director of Licensing
IBM Corporation
North Castle Drive
Armonk, NY 10504-1785
U.S.A.

The following paragraph does not apply to the United Kingdom 
or any other country where such provisions are inconsistent 
with local law:

INTERNATIONAL BUSINESS MACHINES CORPORATION PROVIDES THIS PUBLICATION 
"AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, 
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Some states do not allow disclaimer of express or implied warranties
in certain transactions, therefore, this statement may not apply 
to you.

Trademarks and service marks
----------------------------
IBM, the IBM logo, and ibm.com are trademarks or registered trademarks
of International Business Machines Corp., registered in many
jurisdictions worldwide. Other product and service names might be
trademarks of IBM or other companies. A current list of IBM trademarks 
is available on the Web at "Copyright and trademark information" at 
www.ibm.com/legal/copytrade.shtml [www.ibm.com/legal/copytrade.shtml].

Microsoft, Windows, Windows NT, and the Windows logo are trademarks
of Microsoft Corporation in the United States, other countries, or 
both.

Java and all Java-based trademarks are trademarks of Sun Microsystems, 
Inc. in the United States, other countries, or both.

UNIX is a registered trademark of The Open Group in the United States 
and other countries.

Linux is a registered trademark of Linus Torvalds in the United States,
other countries, or both.

Other company, product, or service names may be trademarks or service
marks of others.

PREREQUISITES
ITCAMMA: Microsoft SQL Server Agent, Version 6.3.1.13

INSTALLATION INSTRUCTIONS
Please refer to the README contained in the Description section above for general installation instructions.

DOWNLOAD PACKAGE



HOW CRITICAL IS THIS FIX?
Recommended




Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 
What is Fix Central(FC)? [https://www.ibm.com/support/fixcentral/help?page=swfaqs] 6.3.1.13-TIV-ITM_SQL-IF0001 14 May 2018 English 38639539 FC [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Composite+Application+Manager+for+Microsoft+Applications&fixids=6.3.1.13-TIV-ITM_SQL-IF0001&source=SAR] [ ] 
 [/support/docview.wss?uid=swg24044840&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24044840&aid=2]Problems (APARS) fixed
IJ00815, IJ00433, IJ01540