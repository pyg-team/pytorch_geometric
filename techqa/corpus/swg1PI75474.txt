Title: IBM PI75474: SOME REQUEST RECEIVE 404 OR 503 RESPONSES WHEN INTRODUCING A NEW ODR ROUTING OR GSC RULE. - United States

Text:
  FIXES ARE AVAILABLE
9.0.0.3: WebSphere Application Server traditional V9.0 Fix Pack 3 [http://www-01.ibm.com/support/docview.wss?uid=swg24043338]
9.0.0.4: WebSphere Application Server traditional V9.0 Fix Pack 4 [http://www-01.ibm.com/support/docview.wss?uid=swg24043693]
8.5.5.12: WebSphere Application Server V8.5.5 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24043844]
9.0.0.5: WebSphere Application Server traditional V9.0 Fix Pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24044067]
9.0.0.6: WebSphere Application Server traditional V9.0 Fix Pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24044242]
8.5.5.13: WebSphere Application Server V8.5.5 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24044479]
9.0.0.7: WebSphere Application Server traditional V9.0 Fix Pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24044620]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When a new ODR routing rule or ODR routing rule for a GSC is
   added, a few requests flowing at that time may receive 404
   or 503 responses if they match the rule.  Prior requests and
   subsequent requests will be processed as expected.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All uses of IBM WebSphere Application       *
   *                  Server On Demand Router rules               *
   ****************************************************************
   * PROBLEM DESCRIPTION: Some requests may receive 404 or 503    *
   *                      responses for a short time when         *
   *                      introducing a new Routing policy HTTP   *
   *                      rules or new Generic Service Cluster    *
   *                      (GSC) routing policies on the On Demand *
   *                      Router (ODR)                            *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When a new ODR routing rule such as Routing policy HTTP rules or
   GSC routing policies, it is possible that a few requests that
   arrive at about the same time as the rule creation may match the
   rule condition and receive a 404 or 503 response.  This is
   because the new routing policy rule is introduced into the
   system before it is completely initialized and therefore
   matching requests may be incorrectly processed.  It is a very
   small timing window when requests are arriving at the same time
   that the rule is being added. This issue may not affect any
   requests but if it does it typically only affects a small number
   of requests because the window is so small.  Normal processing
   will return as soon as the rule initialization is complete which
   typically takes tens of milliseconds depending on the traffic
   load on the ODR.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The ODR logic has been updated to remove this timing window by
   ensuring that the rule initialization is complete before it is
   made available to match incoming requests.
   
   The fix for this APAR is currently targeted for inclusion in fix
   pack 8.5.5.12.  Please refer to the Recommended Updates page for
   delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX
 *  Avoid installing new routing rules such as Http Routing policies
   or GSC routing policies into the On Demand Router during times
   when requests are likely to be arriving that would match the
   rule.  The problem is self correcting within milliseconds as the
   rule processing continues and only a very small window is open
   when requests could be processed incorrectly.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI75474
   
   
 * REPORTED COMPONENT NAME
   WEBS APP SERV N
   
   
 * REPORTED COMPONENT ID
   5724H8800
   
   
 * REPORTED RELEASE
   850
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-01-25
   
   
 * CLOSED DATE
   2017-01-26
   
   
 * LAST MODIFIED DATE
   2017-02-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS APP SERV N
   
   
 * FIXED COMPONENT ID
   5724H8800
   
   

APPLICABLE COMPONENT LEVELS
 * R850 PSY
   UP