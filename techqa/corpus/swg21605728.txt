Title: IBM The retry behavior of a JMS binding asynchronous invocation for WebSphere Process Server (WPS) and WebSphere Enterprise Service Bus (WESB) after a failure - United States

Text:
Retry Mechanism on asynchronous invocation TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are using asynchronous invocation between two SCA modules and you apply a Javaâ„¢ Message Service (JMS) binding to combine them. The target service module throws a system exception, such as a transaction time out. JMS then retries the invocation according to the configuration of the Service Integration Bus (SIBus). 

SYMPTOM
If there is asynchronous invocation between two modules (A and B) and JMS binding is applied between them, module B is triggered twice after a transaction time out exception occurs on module B. 


CAUSE
The Service Component Architecture (SCA) uses SIB to transport messages between components. These destinations are created when a module is installed for WebSphere Process Server or WebSphere Enterprise Service Bus. The SIBus has a built-in retry mechanism that uses message driven beans (MDBs). During an invocation, if the target service returns a system exception, such as a transaction time out, SCA rolls back the current transaction. This rollback causes the invocation message to be put back on the SIBus onto a destination that represents the module to which the target service belongs. The SIBus continues to resubmit the message until a threshold on the module destination is reached. The default failed delivery threshold is two.

RESOLVING THE PROBLEM
To configure the retry behavior, modify the Maximum Failed Deliveries attribute to a value of 0 (zero) on the destination ESB_M_UploadDACSRouter_1.Request of the target module (module B). 



To control the retrying mechanism, complete the following steps in the administrative console: 

 1. Navigate to the Service Integration Bus Browser section.
    
    
 2. Select the bus on which module B is located. Typically, this bus is SCA.APPLICATION.BUS.
    
    
 3. Navigate to the destinations folder.
    
    
 4. Locate the request destination that the JMS binding relies on and select it.
    
    
 5. Scroll down to the Exception destination area and set the value of Maximum failed deliveries per message to 0 (zero).

 

Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere Enterprise Service Bus SIBus AIX, HP-UX, Linux, Solaris, Windows 7.0.0.4, 7.0.0.3, 7.0.0.2, 7.0.0.1