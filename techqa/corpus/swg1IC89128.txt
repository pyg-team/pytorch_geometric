Title: IBM IC89128: WEBSPHERE MQ ON HP NSS LISTENER FAILS TO START FOLLOWING UPGRADE TO HP J06.14/H06.25 OR T9050J01-AWT/T9050H02-AWS - United States

Text:
  A FIX IS AVAILABLE
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.10 [http://www-01.ibm.com/support/docview.wss?uid=swg24037761]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  MQ listener experiences abends resulting in an FDC that looks
   like this:
   .
   | Probe Id          :- XC130003
   | Component         :- xehExceptionHandler
   | Program Name      :- /opt/mqm/bin/runmqlsr
   | Major Errorcode   :- STOP
   | Probe Type        :- HALT6109
   | Comment1          :- SIGSEGV
   Showing a stack trace of ccxQueryListeners
   
   OR
   
   | Arith1            :- 4127 101f
   |
   | Comment1          :- Socket Connect Error
   
   MQ listener fails to start although the MQ queue manager can
   start.
   
   This problem is a result of changes in HP Non Stop Server
   SPRs T9050J01-AWT and T9050H02-AWS, which were included in
   J06.14/H06.25 respectively.
   
   ADDITIONAL KEYWORDS
   Listener SIGSEGV  XC130003
   
   
    
   
   

LOCAL FIX
 *  LOCAL FIX
   
   Set the environment variable "AMQ_NO_LISTENER_CHK=1" for OSS
   command line listeners.  For listeners running in PATHWAY, set
   an ENV value of AMQ_NO_LISTENER_CHK=1 in the listener
   serverclass.
   
   
    
   
   

PROBLEM SUMMARY
 *  Due to change in layout of OSS PIDS in T9050 J01 AWT and
   T9050 H02 AWS, information returned from PROCESS_GETINFOLIST_ is
   incorrectly handled by remote library code used by
   the listener. These SPRs were part of the H06.25 and J06.14
   RVUs, but can also be installed on H06.24 and J06.13.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Remote code changed to no longer expect OSS PID > 65537, but
   instead to specifically search only for OSS processes in
   PROCESS_GETINFOLIST_ call
   
   
    
   
   

TEMPORARY FIX
 *  For listeners, define the following environment variable.
   AMQ_NO_LISTENER_CHK=1. For command line listeners, this should
   be exported in the environment, for PATHWAY listeners, this
   value should be set for the serverclass. If the problem is
   encountered with endmqlsr, the listener can be terminated
   using kill -9.  Note that PATHWAY listeners are terminated whe n
   the serverclass is stopped, or the queue manager is ended.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC89128
   
   
 * REPORTED COMPONENT NAME
   WEBS MQ NSS MIP
   
   
 * REPORTED COMPONENT ID
   5724A3901
   
   
 * REPORTED RELEASE
   530
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-12-17
   
   
 * CLOSED DATE
   2013-05-08
   
   
 * LAST MODIFIED DATE
   2013-05-08
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS MQ NSS MIP
   
   
 * FIXED COMPONENT ID
   5724A3901
   
   

APPLICABLE COMPONENT LEVELS
 * R531 PSY
   UP