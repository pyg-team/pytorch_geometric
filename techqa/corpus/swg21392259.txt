Title: IBM FileNet P8 Business Process Manager: Process Engine client is caching incorrect DNS entry for Process Engine server - United States

Text:
DNS; caching TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When Process Engine (PE) fails over to a different node or IP address is changed, the PE clients such as router or component manager still use the old address, even though the DNS entry for the PE server name is updated 

SYMPTOM
If you initially start a Process Engine client such as a router, component manager or even the CE, it will look up the ip address of the Process Engine server in DNS. Then if the Process Engine fails over to or is switched to a different node, the client will still try to use the old address even though the DNS is updated to point to the new node's IP address, causing a connection error.


CAUSE
This is due to the DNS caching mechanism within Java. 

To configure your applications for correct failover in this type of environment you must set the Time-To-Live (TTL) setting for host name caching on the client application, such as Application Engine, to a value that is equal to or less than the TTL for the DNS server. This forces the application to look up the current name-to-address translation before attempting to connect to the Process Engine 


RESOLVING THE PROBLEM
On each PE Java client, edit the java.security file located in the host ../JVM/jre/lib/security directory. 

 1. Update the TTL property: networkaddress.cache.ttl = T where T is equal to or less than the value, in seconds, set for the dynamic DNS server. 


Example: 
To change the Content Engine, edit the following file on each of the CE servers:  * WAS_Home/AppServer/java/jre/lib/security/java.security 
 * Set the TTL value to 30 seconds in the following entry: networkaddress.cache.ttl = 30 


Or for Component Manager,  * edit the java.security file in ../FileNET/Router/jre/lib/security



HISTORICAL NUMBER
 70740
180
000