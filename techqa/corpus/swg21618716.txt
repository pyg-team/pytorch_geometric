Title: IBM Collect troubleshooting data for snapshot deployment and repository problems in IBM Business Process Manager (BPM) - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are having a snapshot deployment or other snapshot repository related problem with IBM Business Process Manager. You would like to know what documentation you must collect (MustGather) so that the IBM Business Process Manager Support team can diagnose your problem. If you gather this documentation before contacting support it will expedite the troubleshooting process, and save you time. 

DIAGNOSING THE PROBLEM


OVERVIEW OF SNAPSHOT DEPLOYMENT AND REPOSITORY DIAGNOSTIC INFORMATION

Gather the following information and files: 

General diagnostic information  * Problem description 
 * Environment description 
 * Server log files - All of the files from the following directories:
   Process Server app member: <profile_root>/logs
   Process Center app member: <profile_root>/logs 
 * TWX export of the related process application


As needed diagnostic information  * Profile /config directory from the deployment manager 
 * Snapshot related table exports 


SETTING THE TRACE STRING

The general trace string should be set on the involved App cluster members from the Process Center and/or Process Server. Depending on the issue the other trace strings can be included with the general trace. The lightweight trace can be used for deployment, import and export if performance is a concern and only a high level trace is needed. Note, for offline deploy only the Process Server data is needed. 



Description Trace string General trace string *=info: WLE.*=all: WAS.clientinfopluslogging=all: com.ibm.bpm.fds.*=all: ProcessApplicationLifecycle=all Authorization issues Include: 
com.ibm.ws.security.*=all Connectivity issues Include: 
com.ibm.bpm.endpoint.*=all:org.apache.commons.httpclient.*=all Advanced content deployment issues See the Advanced Snapshot Deployment Mustgather [http://www.ibm.com/support/docview.wss?uid=swg21959495] Lightweight tracing WLE.wle_deploy=all:WLE.wle_expimp=all 
For instructions on setting the trace, see "Enabling trace on a running server" [http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.nd.multiplatform.doc/ae/ttrb_entrrs.html]. You may also need to increase the trace file size and number if the logs are rolling too fast. 20MB is a good starting point for the file size and you shouldn't increase it over 50MB. 

Note: Enabling this trace might slow down your system. This delay can lead to transaction time-outs and errors. Disable this trace after capturing the problem to ensure the trace is not overwritten. 

GENERAL DIAGNOSTIC INFORMATION

Collect the following diagnostic information:


1: Problem and environment description 

 * 
 *  Is this a new environment? Were there any changes prior to the issue occurring? Is the issue intermittent or re-creatable? If intermittent, how often does it occur? What type of environment is having the issue? (Test, QA, Production) How does the issue impact your business? Are there any deadlines that are affected by this issue that we should be aware of? 
 * 
 * 
 * Profile_root
 * /bin/versionInfo -maintenancePackages
 * 
 * 

2: App Cluster member Profile logs  * 
 *  Set the needed trace string on the related app cluster members. Recreate the issue. Take note of the time you trigger the issue and provide this with the logs. Turn off each of the enabled trace strings. Compress the profile_root/logs directory from each node profile. The directory contains the logs, trace, and ffdc files for each server.
   Note: If you have logs/trace going to custom locations then provide those locations in addition. 
   
   

3: TWX export  * 
 * 
 * 

4: Profile config directory  * 
 * profile_root
 * /config
 * 
 * 
 * 

5: Snapshot related table dumps  * 
 *  LSW_SNAPSHOT LSW_BRANCH LSW_PROJECT 
 * 


WHAT TO DO NEXT
 

 1. Review the log files and traces at the time of the problem to try to determine the source of the problem.
    
    
 2. Use IBM Support Assistant [http://www.ibm.com/software/support/isa/] to search for known problems in the product documentation, forums, and technotes.
    
    
 3. If you cannot find related problems or cannot solve the problem, send the information you have collected to IBM by following the instructions in Exchanging Information with IBM Technical Support. [http://www.ibm.com/software/support/exchangeinfo.html]
    
    

RELATED INFORMATION
 BPM product documentation - Installing process apps [http://www.ibm.com/support/knowledgecenter/SSFPJS_8.0.0/com.ibm.wbpm.admin.doc/topics/deploying_introduction.html]
BPM product documentation - Troubleshooting app deploy [http://www.ibm.com/support/knowledgecenter/SSFPJS_8.0.0/com.ibm.wbpm.admin.doc/topics/troubleshooting_installations.html]
Password limitations when deploying to offline Process [http://www.ibm.com/support/docview.wss?uid=swg21592494]
A simplified Chinese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21633881]






Cross reference information Segment Product Component Platform Version Edition Business Integration IBM BPM Advanced Pattern on Red Hat Enterprise Linux Server Application Deployment Linux Red Hat - xSeries 8.0.1, 8.0 Business Integration IBM Business Process Manager Express Application Deployment Linux, Windows 8.5, 8.0.1, 8.0, 7.5.1, 7.5 Business Integration IBM Business Process Manager Standard Application Deployment AIX, Linux, Solaris, Windows 8.5, 8.0.1, 8.0, 7.5.1, 7.5 Business Integration IBM Business Process Manager Advanced Pattern on AIX Application Deployment AIX 8.0.1 
PRODUCT ALIAS/SYNONYM
 BPM