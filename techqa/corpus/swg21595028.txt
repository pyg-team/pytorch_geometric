Title: IBM Messaging engine fails to start on Oracle database (error ORA-01031: insufficient privileges) - United States

Text:
database privileges; messaging engine; ORA-01031; insufficient privileges; schema; userid TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 With Oracle as the database used for the messaging engine data store, the messaging engine encounters an exception while starting (caused by erro ORA-01031: insufficient privileges). 

SYMPTOM
 

An error similar to the following is written to SystemOut.log:

00000033 SibMessage E [:] CWSIS0002E: The messaging engine encountered an exception while starting. Exception: com.ibm.ws.sib.msgstore.PersistenceException: CWSIS1501E: The data source has produced an unexpected exception: java.sql.SQLSyntaxErrorException: ORA-01031: insufficient privileges


CAUSE
By default, the schema used by a messaging engine (ME) gets created when a new bus member gets created, i. e. when a server or cluster of servers becomes a bus member. (This default can be changed, by navigating to the panel for the ME in the administrative console, then clicking Message store and unchecking the check box labeled Create tables.) If the user (which by convention in Oracle is the schema name) does not have the required privileges (create, alter, delete, etc.), however, the schema creation will fail as noted in the Symptom section.


RESOLVING THE PROBLEM
When using Oracle as the database for the ME data store, ensure that either the user name and the schema name specified in the message store settings (see the link below) are the same, or (if user name and schema name are different) that the user has all of the privileges listed in the link below:

Database privileges: 
http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.multiplatform.doc/info/ae/ae/rjm0650_.html [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.multiplatform.doc/info/ae/ae/rjm0650_.html] 


Configuring a messaging engine data store to use a data source: 

http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.doc/info/ae/ae/tjm0045_.html [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.doc/info/ae/ae/tjm0045_.html] 

 

After this has been done, the schema should be created.

 


Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Monitor AIX, HP-UX, Linux, Linux zSeries, Solaris, Windows 7.5.1, 7.5 
HISTORICAL NUMBER
 53615
122
000