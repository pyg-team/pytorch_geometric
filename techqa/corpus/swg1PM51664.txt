Title: IBM PM51664: WEBSPHERE MQ JMS CONNECTION FACTORY DOES NOT USE USERID SPECIFIED BY THE APPLICATION SERVER - United States

Text:
z/os  FIXES ARE AVAILABLE
8.0.0.3: WebSphere Application Server V8.0 Fix Pack 3 [http://www-01.ibm.com/support/docview.wss?uid=swg24032315]
8.0.0.4: WebSphere Application Server V8.0 Fix Pack 4 [http://www-01.ibm.com/support/docview.wss?uid=swg24033190]
8.0.0.5: WebSphere Application Server V8.0 Fix Pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24033754]
8.0.0.6: WebSphere Application Server V8.0 Fix Pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24034673]
8.0.0.7: WebSphere Application Server V8.0 Fix Pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24035457]
8.0.0.8: WebSphere Application Server V8.0 Fix Pack 8 [http://www-01.ibm.com/support/docview.wss?uid=swg24036729]
8.0.0.9: WebSphere Application Server V8.0 Fix Pack 9 [http://www-01.ibm.com/support/docview.wss?uid=swg24037574]
8.0.0.10: WebSphere Application Server V8.0 Fix Pack 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24039242]
8.0.0.11: WebSphere Application Server V8.0 Fix Pack 11 [http://www-01.ibm.com/support/docview.wss?uid=swg24040425]
8.0.0.12: WebSphere Application Server V8.0 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24041590]
8.0.0.13: WebSphere Application Server V8.0 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24042746]
8.0.0.14: WebSphere Application Server V8.0 Fix Pack 14 [http://www-01.ibm.com/support/docview.wss?uid=swg24044096]
8.0.0.15: WebSphere Application Server V8.0 Fix Pack 15 [http://www-01.ibm.com/support/docview.wss?uid=swg24044734]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When using a WebSphere MQ JMS Connection Factory configured
   with a container or component authentication alias, the user
   specified in the alias is not used to connect to the Queue
   Manager.  Instead no user (or WSGUEST on z/OS) is used.
   
   If security is configured at the WebSphere MQ Queue Manager
   the following error results:
   
   J2CA0056I: The Connection Manager
   received a fatal connection error from the Resource Adapter
   for resource
   JMS$<ConnectionFactoryName>$JMSManagedConnection@<id>. The
   exception is:
   com.ibm.msg.client.jms.DetailedJMSSecurityException:
   JMSWMQ2008: Failed to open MQ queue 'XXXX.XXXX'. JMS
   attempted to perform an MQOPEN, but WebSphere MQ reported an
   error. Use the linked exception to determine the cause of this
   error. Check that the specified queue and queue manager are
   defined correctly.:com.ibm.mq.MQException: JMSCMQ0001:
   WebSphere MQ call failed with compcode '2' ('MQCC_FAILED')
   reason '2035' ('MQRC_NOT_AUTHORIZED').
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server V8.0                                 *
   ****************************************************************
   * PROBLEM DESCRIPTION: Authentication alias defined for        *
   *                      Websphere MQ JMS Connection Factory is  *
   *                      ignored.                                *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A programming error caused the WebSphere MQ JMS Connection
   Factory to fail to obtain the credential set by the
   Application Server via the container or component managed
   authentication alias.  As a result, no credential or the
   default unauthenticated credential is used (WSGUEST on z/OS).
   This results in an authorization failure at the Queue Manager.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This APAR corrects the programming error so that the
   credential is obtained by the WebSphere MQ JMS Connection
   Factory and so is used when connecting to the WebSphere MQ
   Queue Manager.
   
   APAR PM51664 is currently targeted for inclusion in
   Service Level (Fix Pack) 8.0.0.3 of WebSphere Application
   Server V8.0.
   
   Please refer to the Recommended Updates page for delivery
   information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   In addition, please refer to URL:
   http://www.ibm.com/support/docview.wss?rs=404&uid=swg27006970 [http://www.ibm.com/support/docview.wss?rs=404&uid=swg27006970]
   for Fix Pack PTF information.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM51664
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE FOR Z
   
   
 * REPORTED COMPONENT ID
   5655I3500
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-11-07
   
   
 * CLOSED DATE
   2011-12-21
   
   
 * LAST MODIFIED DATE
   2011-12-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE FOR Z
   
   
 * FIXED COMPONENT ID
   5655I3500
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP