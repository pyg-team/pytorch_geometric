Title: IBM Receiving many notifications from Library document - United States

Text:
filenet; notifications; approval; database; fnos; delete; activitystream TECHNOTE (TROUBLESHOOTING)

PROBLEM
Users are receiving daily status updates and email notifications for a single Library document after submitter @mentions the reviewer in comment section of approval request page. Affected users still receive multiple daily status updates and email notifications despite the culprit Library document being deleted.

CAUSE
The reason for this is due to the fact that FileNet fails to send the event to the News component, then it saves the event data in the LCUSER.UT_CLBACTIVITYSTREAMQUEUEENT table of the FNOS DB and will try again later. These failed events backed up over time and continue to build up entries within the database. At some point during the day the backed up events are retried which subsequently causes the events to be delivered many times throughout the day.

ENVIRONMENT
IC5.5

DIAGNOSING THE PROBLEM
Determine if multiple status update events and email notifications are publish/sent for a single event which was posted for an affected Library document. 

Connect to FNOS database and perform the following query:

SELECT * FROM LCUSER.UT_CLBACTIVITYSTREAMQUEUEENT WHERE ENTRY_STATUS = 2 AND OBJECT_ID <> x'00000000000000000000000000000000';

If multiple entries are returned for the culprit Library document, then that will indicate events failed to publish for that document.

*Note: Determine records that relate to the culprit document by checking the 

UB298_CLBDOCUMENTNAME field value for the culprit document name. 




Cross reference information Segment Product Component Platform Version Edition Organizational Productivity- Portals & Collaboration IBM Connections Notifications AIX, Linux, Windows 5.5 All Editions