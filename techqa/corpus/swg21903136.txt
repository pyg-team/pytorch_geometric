Title: IBM OpenStack is unable to use an existing virtual machine - United States

Text:
ICO; license; VMWare; VM; Virtual Machine; defunct TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 OpenStack is unable to use an existing virtual machine with IBM Cloud Orchestrator and a CYX0910E error message is seen. 

SYMPTOM
In SmartCloud Entry log file, you see the following messages: 

04/14/15 16:22:44:413! 00014 FINE: Custom field check was not successful. Error getting vmMor for uuid 9e977b00-be42-4023-9b01-2045d1ecec81, error: com.ibm.cfs.vmware.client.exceptions.VMWareAPIClientException: 
CYX0910E: Unable to find virtual machine with the uuid: '9e977b00-be42-4023-9b01-2045d1ecec81' - 
com.ibm.cfs.vmware.client.impl.internal.VMWareReplicator.ignoreEventsToVm 


CAUSE
The VMware license has expired


RESOLVING THE PROBLEM
When the VMware license expires, OpenStack is unable to do anything with the virtual machine. 


The "Licensing vCenter Server and ESX/ESXi After Evaluation" topic in the vSphere 4.0 - ESX and vCenter [https://pubs.vmware.com/vsphere-4-esx-vcenter/index.jsp#Welcome/welcome.html] documentation on the VMware web site states:

"Without a license, you are able to perform some operations, but you cannot power on or reset your virtual machines. All hosts are disconnected from the vCenter Server system if the evaluation period expires before you assign a license to the vCenter Server system. Any single ESX/ESXi host is disconnected from the vCenter Server system if the ESX/ESXi evaluation period expires before you assign a license to the host". 

After a new license is obtained, you still cannot recover and work with the virtual machine. The virtual machine with the old license, from an OpenStack point-of-view, still has the old license, which is not valid. Even if the license is updated, the vCenter license might not offer the same capabilities as the previous license. This information is indicated in the following text from the same VMware topic:

"When you assign a license to a machine on which a VMware vSphere component is installed, the license must be compatible with all resources and features that you configure during the evaluation period".

OpenStack marks the virtual machine as deleted even though vCenter lists the virtual machine as active/working. It is marked as deleted because the virtual machine does not have the expected information due to the license change.

A work around does not exist. You must cancel all of the virtual machines and recreate the virtual machines under the new license. To avoid this issue, make sure that the license does not expire.