Title: IBM No Factor History Recorded in Reliability Engineering Work centre - United States

Text:
TPAEAHI; Asset Health Insights; factor; factor history; MAHI TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Factor displays as “?” in MAHI 

SYMPTOM
Steps to replicate: 

1 In Maximo, bring up an asset e.g. asset K2000
2 Go to the Meters tab, attach a gauge meter e.g. asset KR2000 with a gauge meter e.g. GCONDITION
3 Go to "Enter Meter Reading" action and enter a meter Reading of 5
4 Create a Saved Query to just give you that asset
5 Open a browser and Go to the Work Center e.g. http://hostname/maximo-x [http://hostname/maximo-x]

6 select the Reliability Engineering Work centre
7 Click the + to Add a new Card


8 Create card as follows
Insight App = Asset
Insight Type = Saved Query
Insight Content = your saved Query
Click the Save button

9 Select “Scoring” on the Left Panel
select "Scoring Factors" (i.e. Scoring Factors is besides Scoring
Methods and Scoring Baseline on top)
Select "Create Factor" (top right of screen)

10 Enter factor info as follows:
Factor Name: GCONDITION
Description: Condition (Gauge)
Applies to Asset
Associate Meter: Yes
Meter Name : GCONDITION (GAUGE)
Formula shows as "PCT(METERVAL("GCONDITION",5))"
High Threshold 5
Low Threshold 0
Do NOT enable "Use Condition Monitoring"
Click the Save button

11 Click "Scoring Methods" on top left hand corner
Click "Create Method" on top right hand corner
Method Name: NO Factor History
Description: Show Factor History Missing
Applies to: Asset
Click Next
Group Name: Asset K2000
How do you want to define your group: Custom
Expression: ASSETNUM='K2000'
Click Next
How do you want to specify the conversion: Auto-Generated
Best Score: 0
Worst Score: 100
Formula: <health score>/100*(0-100)+100
Click Save
Expand the newly entered Scoring Method e.g. "No Factor History"
Click “Create Driver" on the far right

12 Enter a driver name and description
Weight % e.g. 100
Select the Use Factors = Yes
Then click “+ Apply Factor”
select factor created above e.g. GCONDITION
weight: 100
Select “Zero Override” checkbox
Click Save

13 Go back to Health Overview (click Health on the top left hand corner,
click Overview on top)
select the new Card created above
Filter for your asset e.g. asset "KR2000"
Select the asset by clicking on the asset to open the health score view

14 Hit the “Refresh Score” icon
"Use Factors" shows "Y"
Expand the Use Factors by clicking the arrow besides "Y" to see a list of factors
Factor displays as “?”


[/support/docview.wss?uid=swg22006670&amp;aid=1]

Expected result: Factor should display a value 
Actual result: Factor displays as "?"


RESOLVING THE PROBLEM
If this is an upgraded environment, please run the SQL statement below:

select * from attrformula;



[/support/docview.wss?uid=swg22006670&aid=2] [/support/docview.wss?uid=swg22006670&aid=2]



If the classname field is null, try the following SQL to populate the handler:

update attrformula set classname = 'com.ibm.tivoli.maximo.expression.MethodExpression' where (attributename='ASSETHEALTH' and objectname = 'ASSET') or (attributename = 'HEALTH' and objectname = 'LOCATIONS');