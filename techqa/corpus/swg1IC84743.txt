Title: IBM IC84743: MEMORY USED IN WSM AGENT STATUS INCREASES OVER TIME FOR MULTI-PROTOCOL GATEWAY SERVICE - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The DataPower web services management (WSM) component, used for
   data collection with ITCAM SOA, has a configured maximum for
   memory.  When metrics are collected at high volume for many
   services, the memory used for the WSM agent can climb over time,
   until eventually, the maximum memory allowed in the WSM
   configuration is reached.  When the WSM maximum memory is
   reached, metrics are no longer provided to ITCAM SOA.
   This issue is more prevalent with Multi-Protocol Gateway
   services than with Web Service Proxy services.
   This issue also occurs with the fix for APAR IC78913 [http://www-01.ibm.com/support/docview.wss?uid=swg1IC78913].
   To verify this fix after it has been applied, execute a
   controlled test following these steps:
   1. Arrange to be the only client sending traffic to the
       services in your application domain.
   2. Stop the ITCAM SOA Data Collector so that it is not
       subscribed to your DataPower application domain
   3. In a DataPower SSH session:  show wsm-agent-status,
      or in the DataPower Web GUI review the WSM agent status,
      for the application domain being monitored by ITCAM SOA.
   
      Confirm that Active Subscribers is 0 and the number of
      Pending Records is zero.  Note the Memory Used.
   4.  Send dozens of requests to services in that application
        domain so WSM agent status Memory Used increases.
   5. Review the WSM agent status again.  Note the increase
       In Memory Used and the number of Complete Records.
       Confirm the number of Pending records remains zero.
   6. Start the ITCAM SOA data collector
   7. Review the WSM agent status again.  The Complete Records
       should be zero, the Active Subscribers should be 1, the
       Pending records should be zero.
       When the Memory Used is also zero, the APAR fix is verified.
       The WSM Agent Status should show 0 memory used
       after installation of this APAR fix when there are zero
       Complete Records and zero Pending records.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Affected is data collection with ITCAM SOA.
   
   High volume traffic or many services being monitored might stop
   providing metrics to ITCAM SOA.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A fix is available in 3.8.2.14, 4.0.1.12, 4.0.2.8 and 5.0.0.1
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC84743
   
   
 * REPORTED COMPONENT NAME
   DATAPOWER
   
   
 * REPORTED COMPONENT ID
   DP1234567
   
   
 * REPORTED RELEASE
   381
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-06-20
   
   
 * CLOSED DATE
   2012-07-18
   
   
 * LAST MODIFIED DATE
   2012-12-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DATAPOWER
   
   
 * FIXED COMPONENT ID
   DP1234567
   
   

APPLICABLE COMPONENT LEVELS
 * R382 PSY
   UP
   
   
 * R401 PSY
   UP
   
   
 * R402 PSY
   UP
   
   
 * R500 PSY
   UP