Title: IBM JR48964: LOB COLUMNS IN IBM BPM ARE SET TO NOT LOGGED, WHICH RESULT IN DISASTER RECOVERY FAILURE FOR IBM DB2 - United States

Text:
  DIRECT LINKS TO FIXES
7.5.1.2-WS-BPM-IFJR48964 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=7.5.1.2-WS-BPM-IFJR48964&source=SAR]
Version 8.5 Refresh Pack 5 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24037683]
Download Version 8.0.1 Fix Pack 3 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24037734]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Disaster recovery fails on DB2 because all LOB columns in IBM
   Business Process Manager (BPM) are set to not be logged.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  IBM BPM Advanced                            *
   *                  IBM Standard                                *
   *                  IBM Express                                 *
   ****************************************************************
   * PROBLEM DESCRIPTION: You cannot use the point-in-time        *
   *                      recovery feature of DB2 when the LOB    *
   *                      columns in the IBM Process Server       *
   *                      database and Performance Data           *
   *                      Warehouse database on DB2 do not use    *
   *                      the LOGGED option.                      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   To use the point-in-time recovery feature of DB2, the LOGGED
   option must be set for LOB columns.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A fix is available for IBM BPM to provide the SQL scripts that
   changes the logging option of the LOB columns of the Process
   Server database and the Performance Data Warehouse database.
   
   On Fix Central (http://www.ibm.com/support/fixcentral), search
   for JR48964:
   
    1. Select IBM Business Process Manager with your edition from
   the product selector, the installed version to the fix pack
   level, and your platform, and then click Continue.
    2. Select APAR or SPR, enter JR48964, and click Continue.
    3. Download and install all prerequisite fixes for JR48964.
   
   When you download fix packages, ensure that you also download
   the readme file for each fix. Review each readme file for
   additional installation instructions and information about the
   fix.
   
   After you install the interim fixes, update the LOB columns:
   
    1. Stop all Process Server and the Performance Database
   Warehouse servers, node agents, and deployment manager.
     2. Make sure that the DB2 server is started.
     3. Run the following command:
   
   AppServer\BPM\Lombardi\tools\upgrade\upgrade_7x>.\LOBLoggingEnab
   lement.bat|sh -profileName Dmgr01 -nodeName   bxv9v357Node01
   -serverName de1.AppTarget.bxv9v357Node01.0
   
      The arguments are similar to the upgrade_7x command; point
   the command to one of the app cluster targets. If the
   Performance   Database Warehouse server is on the Support
   cluster, use the following command:
   
   
     AppServer\BPM\Lombardi\tools\upgrade\upgrade_7x>.\LOBLoggingEn
   ablement.bat|sh -profileName AdvPCDmgr01 -nodeName
     bxv9v357Node01 -serverName de1.AppTarget.bxv9v357Node01.0
   -perfNodeName bxv9v357Node01 -perfServerName
     de1.Support.bxv9v357Node01.0
   
     The updateBPMDB.sql and updatePDWDB.sq files are generated
   under the same folder.
   
     4. Complete the following tasks on a backup database first
   to avoid errors:
      a) Run updateBPMDB.sql against the Process Server database
   to changethe LOB logging option.
         b) Run updatePDWDB.sql against the Performance Database
   Warehouse database to change the LOB logging option.
   
    5.  If no issues occur, run updateBPMDB.sql and
   updatePDWDB.sql against the production database.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR48964
   
   
 * REPORTED COMPONENT NAME
   BPM STANDARD
   
   
 * REPORTED COMPONENT ID
   5725C9500
   
   
 * REPORTED RELEASE
   751
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-01-06
   
   
 * CLOSED DATE
   2014-05-08
   
   
 * LAST MODIFIED DATE
   2014-05-08
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM STANDARD
   
   
 * FIXED COMPONENT ID
   5725C9500
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP