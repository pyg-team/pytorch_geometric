Title: IBM DFHSR0601 and 0C1 at CICS startup after upgrading z/OS - United States

Text:
startup initialization restart DFHSR0601 0C1 S0C1 ABENDS0C1 TASK III OS390 2.10 210 CEECCICS CEEROPT LE/370 LE370 LE 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97 5655S9700 R670 670 R700 700 HCI6700 5655-S97 5655S97 kixinfo kixdcfzos18 kixdcfzos19 kixdcfzos110 kixdcfzos111 kixdcfzos112 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 During CICS startup, you receive messages:

DFHAP1203 Language Environment/370 is being initialized. 
DFHSR0601 Program interrupt occurred with system task III in control. 

This occurs after upgrading to a new release of z/OS. Analysis of the CICS system dump shows an abend 0C1 with program DFHAPLI2 in control, but the PSW pointing elsewhere. 

SYMPTOM
DFHSR0601 [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/index.jsp?topic=/com.ibm.cics.ts.messages.doc/cics_mc/dfhsr/SR0601.html] Program interrupt occurred with system task III in control. 

CAUSE
Backlevel version of Language Environment (LE) module CEECCICS is being used. 

DIAGNOSING THE PROBLEM
The first time you try to startup CICS, you find messages saying that program CEEROPT is not found. In the dump, you see task III is running:

[http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/index.jsp?topic=/com.ibm.cics.ts.messages.doc/cics_mc/dfhsr/SR0601.html]DFHSR0601 Program interrupt occurred with system task III in control

KE_NUM KE_TASK STATUS CA_ADDR TRAN_# TRANSID DS_TASK
0010 1DAF3400 ***Running** 00054080 III CSSY 1D979880

Error Code: 0C1/AKEA Error Type: PROGRAM_CHECK
Program DFHAPLI2 was in control, but the PSW was elsewhere.

PSW: 078D1E00 80000004 Instruction Length: 2 Interrupt Code: 01

Here are trace entries leading up to the ABEND0C1:

PG 0601 PGLD ENTRY - FUNCTION(LOAD_EXEC) PROGRAM_NAME(CEEROPT)
TASK-III KE_NUM-0010 TCB-008DB510 RET-9DC0CCD2 TIME-17:35:04.2

DD 0301 DDLO ENTRY - FUNCTION(LOCATE) DIRECTORY_TOKEN(1DA00FB0)
TASK-III KE_NUM-0010 TCB-008DB510 RET-9DB863DC TIME-17:35:04.2

DD 0302 DDLO EXIT - FUNCTION(LOCATE) RESPONSE(EXCEPTION) REASON(NOT_FOUND)
TASK-III KE_NUM-0010 TCB-008DB510 RET-9DB863DC TIME-17:35:04.2

PG 0602 PGLD EXIT - FUNCTION(LOAD_EXEC) RESPONSE(EXCEPTION) REASON(PROGRAM_NOT_FOUND)

AP 00E1 EIP EXIT LOAD PGMIDERR
TASK-III KE_NUM-0010 TCB-008DB510 RET-9E4A776C TIME-17:35:04.2

AP 0790 SRP *EXC* - PROGRAM_CHECK
TASK-III KE_NUM-0010 TCB-008DB510 RET-9DA5D338 TIME-17:35:04

After ensuring CEEROPT is in a library in the DFHRPL concatenation, you restart CICS again. CICS continues to fail with message DFHSR0601. But this time, the CICS trace shows that CEEROPT is loaded successfully, a successful getmain is done, and then the program check occurs. The PSW address remains the same as above but register 4 now points into a backlevel version of CEECCICS.

RESOLVING THE PROBLEM
Ensure that you are using the version of CEECCICS that came with the new release of z/OS.




To verify the level of CEECCICS: 

 1. Go into IPCS browse mode and enter S over PTR "00001" to select 00001. This will display the dump starting at address 00000000. 
 2. Enter F CEECCICS NOB on the command line. This will display the first occurrence of CEECCICS. 
 3.  Enter F5 until you find something similar to the following:
    ..........CEECCICS..............
    ..........UQ19017 ................ 


The PTF should be for the same release of LE that comes with the release of the operating system you are now running. 

For additional details on CEEROPT see Defining runtime options for Language Environment [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/index.jsp?topic=/com.ibm.cics.ts.applicationprogramming.doc/topics/dfhp3_langenv_runopts.html]. 


PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server