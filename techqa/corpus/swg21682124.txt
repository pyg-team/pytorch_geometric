Title: IBM DS5000 device fails to connect to SKLM - United States

Text:
tklm 5020 ds5020 5000 connect connection devices device add TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 DS5000 configuration with SKLM/TKLM. 

ENVIRONMENT
1. Storage Manager Client and DS Proxy TKLM Code are already installed.

2. DS_TKLM_Proxy_Code.config file have been modified per requirement with DS5000 controller IPs and SKLM server IP and ports.

RESOLVING THE PROBLEM
Before an encryption key can be served, the devices must exist in the SKLM database. 
In order for this to happen, KMIP communication must first be configured and enabled.

Enable KMIP communication and configure SKLM to "hold devices pending approval". 
Then, any attempts by the device to communicate with SKLM should show up in the "Pending Device" list. However, if nothing has been added to the list of pending devices, follow the steps below:

When configuring SKLM v2.5 with DS5000, it requires you to exchange SSL/KMIP Server certificate, to allow for communication via KMIP. After a SSL/KMIP server certificate has been created in SKLM you will need to export it, move it over to the DS5000 server then import into the DS5000. 

You need to import this certificate into the DS5000 client. Once that is completed, you will need to export the DS5000 certificate. After that import it into the SKLM server. Please reach out to hardware support for feedback on getting these certificates imported/exported if needed.

You now should see the pending devices in the SKLM GUI. Accept the pending devices and take a fresh backup. You may have to reboot the DS5000 controller.

To verify certificates:



Log into SKLM gui as SKLMAdmin. Go to Advanced Configuration -> Server Certificates / Client Device Certificates.

RELATED INFORMATION
 A Japanese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21997700]