Title: IBM Scanning assets that have duplicate source file names causes Run Units with ambiguous source - United States

Text:
RAA; run unit; ambiguous; duplicate; copybooks TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 While using IBM Rational Asset Analyzer to scan source files, if there are COPYBOOKs with duplicate names and sub-programs with duplicate names, the resulting analysis scan produces "Run units with ambiguous source" errors. 

SYMPTOM
When you view the Run Units Details page, you will see errors for the source files it is trying to find and resolve the relationships for. The errors state that there is ambiguous source and the Run Units are in Error status.

CAUSE
There are two issues here: 

 *  COPYBOOKS in different folders which use compile JCL to make the program know which COPYBOOK to invoke when compiling. For example, there are two COPYBOOKs both named as CB, each in folder F1 and F2. The program uses "COPY CB IN F" to invoke copybook. "F" is configured in a compile JCL to find the right CB when compiling. 
 *  Sub Programs with the same program ID in different folders, and they use compile JCL to make Main Program know which Sub Program to invoke when compiling.


RESOLVING THE PROBLEM
This is working as designed. It will require a custom solution to address the issue. 


In Rational Asset Analyzer, run unit name must be unique per SITE. The LINK or RUNTIME DD concatenation for sub program resolution is not modeled in RAA. That would be enhancement request. 

Rational Asset Analyzer does it's best to guess which COPYBOOK to use. A suggestion is to build and assign concatenation sets that correspond to the compile DD concatenations. Concatenation sets can be assigned on multiple levels, for example for a container or even individual file or at the scan invocation in the wizard.