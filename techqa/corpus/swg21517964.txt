Title: IBM Unable to Create AS2 Organization via AS2 Wizard with DB2 Database - UI Log Shows Profile Finder Exception - United States

Text:
Database Performance; STERLINGFAQ TECHNOTE (FAQ)

QUESTION
 Unable to Create AS2 Organization via AS2 Wizard with DB2 Database - UI Log Shows Profile Finder Exception 

ANSWER


Able to create an Organization, when doing a List All, no partners/organization were present. Advanced Trading Partner Setting revealed the Organization.

UI.log

[2009-07-24 15:00:28.334] ERROR 000000000000 GLOBAL_SCOPE [TPManager] listAll 
com.sterlingcommerce.woodstock.profile.ProfileFinderException: listAll failed for null Finder Exception occurred: 
SQLState: 54048 
Message: DB2 SQL error: SQLCODE: -1585, SQLSTATE: 54048, SQLERRMC: null 
Vendor: -1585 

SQLState: 56098 
Message: DB2 SQL error: SQLCODE: -727, SQLSTATE: 56098, SQLERRMC: 2;-1585;54048; 
Vendor: -727 

SQLState: 56098 
Message: DB2 SQL error: SQLCODE: -727, SQLSTATE: 56098, SQLERRMC: 2;-1585;54048; 
Vendor: -727 

at com.sterlingcommerce.woodstock.profile.ProfileProxy.listAll(ProfileProxy.java:17 93) 
at com.sterlingcommerce.woodstock.ui.tpp.AS2Editor.listAll(AS2Editor.java:1609) 
at com.sterlingcommerce.woodstock.ui.jspbean.tpp.AS2ListBean.search(AS2ListBean.jav a:182) 
at org.apache.jsp.as2configs_jsp._jspService(as2configs_jsp.java:110) 
at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:137) 
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) 
at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:210) 
at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:295) 
at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:241) 
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) 
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:358) 
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.j ava:294) 
at org.mortbay.jetty.servlet.Dispatcher.dispatch(Dispatcher.java:222) 
at org.mortbay.jetty.servlet.Dispatcher.forward(Dispatcher.java:135) 
at com.sterlingcommerce.woodstock.ui.servlet.ServletBase.gotoPage(ServletBase.java: 287) 
at com.sterlingcommerce.woodstock.adminui.servlet.Page.doPost(Page.java:164) 
at javax.servlet.http.HttpServlet.service(HttpServlet.java:760) 
at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) 
at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:358) 
at org.mortbay.jetty.servlet.WebApplicationHandler$Chain.doFilter(WebApplicationHan dler.java:342) 
at com.sterlingcommerce.woodstock.ui.dlsso.DLSSOFilter.doFilter(DLSSOFilter.java:13 6) 
at org.mortbay.jetty.servlet.WebApplicationHandler$Chain.doFilter(WebApplicationHan dler.java:334) 
at org.mortbay.jetty.servlet.WebApplicationHandler.dispatch(WebApplicationHandler.j ava:286) 
at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:567) 
at org.mortbay.http.HttpContext.handle(HttpContext.java:1807) 
at org.mortbay.jetty.servlet.WebApplicationContext.handle(WebApplicationContext.jav a:525) 
at org.mortbay.http.HttpContext.handle(HttpContext.java:1757) 
at org.mortbay.http.HttpServer.service(HttpServer.java:879) 
at org.mortbay.http.HttpConnection.service(HttpConnection.java:789) 
at org.mortbay.http.HttpConnection.handleNext(HttpConnection.java:960) 
at org.mortbay.http.HttpConnection.handle(HttpConnection.java:806) 
at org.mortbay.http.SocketListener.handleConnection(SocketListener.java:218) 
at org.mortbay.util.ThreadedServer.handle(ThreadedServer.java:331) 
at org.mortbay.util.ThreadPool$PoolThread.run(ThreadPool.java:520)


 

Fix:

From IBM Error Lookup

SQL state 54048 
A temporary table space with sufficient page size does not exist. 

DB2 SQL error: SQLCODE: -1585, SQLSTATE: 54048 

SQLSTATE: 56098 from DB2 SQL error: SQLCODE: -727, SQLSTATE: 56098 
shows 
An error occurred during implicit rebind or prepare. Attempting to use a package that has been marked invalid causes the system to attempt to rebind the package. If this rebind attempt fails, an error occurs (SQLCODE -727). In this case, the packages must be explicitly rebound by a user with: 

•Authority to rebind the packages 
•Appropriate authority for the objects used within the packages


 

Once permissions were fixed at the DB level was able to process AS2.

 

 

HISTORICAL NUMBER
 FAQ3027