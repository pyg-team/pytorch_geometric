Title: IBM How to return dateTime values in local time zone in a Web service with WebSphere Process Server (WPS) - United States

Text:
web service; SCA; timezone; datetime; v612rnotes; v62rnotes; v70rnotes TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Returning dateTime values in Web Services Service Component Architecture invocations is always in the Greenwich Mean Time (GMT) time zone in WebSphere Process Server. This time zone is used even when corresponding requests contain dateTime values in another time zone. 

SYMPTOM
This issue is relevant, for example, if a web service is invoked using a Web Services Definition Language (WSDL) interface with an output of dateTime type in a Service Component Architecture (SCA) export. In WebSphere Process Server, the response is normalized to the Greenwich Mean Time (GMT) time zone, even when the requests were sent in a time zone other than Greenwich Mean Time. 


CAUSE
In WebSphere Process Server, for consistency reasons, business objects that contain dates of dateTime type are designed to only serialize to the Greenwich Mean Time time zone. This approach assures that time zone conversion problems do not exist between the sender and receiver. It is up to the receiver to decide how to validate the dates received. 

Beginning in WebSphere Process Server V7.0, but not in earlier releases, the WAS_XSDATE_BEHAVIOR parameter is introduced in the BusinessObject.properties file, which is present in the install_root/plugins/com.ibm.ws.bpm.bo.emf.jar file. The WAS_XSDATE_BEHAVIOR parameter defines which time zone is assumed for date typed properties during business object deserialization and serialization. A value of TRUE sets the assumed time zone to be the default local time zone. A value of FALSE sets the assumed time zone to be the Greenwich Mean Time time zone and normalizes the values to Greenwich Mean Time. This change is described in the WebSphere Process Server V7.0 Information Center.

It is important to note that WAS_XSDATE_BEHAVIOR parameter is valid only for date typed values and not for dateTime typed values.

It is also important to note that the previous considerations are valid when the actual business objects parsing takes place which is the case when eager parsing mode is used. In the case of lazy parsing mode, the actual parsing of business objects might or might not take place depending on user custom implementation.


RESOLVING THE PROBLEM
To resolve the issue in WebSphere Process Server when you use dateTime typed values, use a custom data handler to serialize business objects with a localized time zone. 


When you use date typed values in WebSphere Process Server V7, you can use the parameters that are provided in the BusinessObject.properties file.

RELATED INFORMATION
 WebSphere Integration Developer V7.0 Information Center [http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r0mx/index.jsp?topic=/com.ibm.wbit.help.config.doc/topics/createdh.html]
WebSphere Process Server V7.0 Information Center [http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r0mx/index.jsp?topic=/com.ibm.websphere.wesb.doc/doc/rbo_boprops.html]
Business object parsing mode in WPS V7 [http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r0mx/index.jsp?topic=%2Fcom.ibm.websphere.wps.doc%2Fdoc%2Fcbo_businessobjectparsingmode.html]


 

PRODUCT ALIAS/SYNONYM
 WPS