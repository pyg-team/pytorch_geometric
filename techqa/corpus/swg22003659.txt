Title: IBM For MDM v11.5 Stewardship Center, the Suspect Duplicate Collapse Screen (UI) has issue with expanding/collapsing corresponding columns and alignment of the same. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When expanding a section of one suspect, the corresponding section of other suspects are collapsed in Stewardship Center SDP Collapse UI. 

CAUSE
Code Defect- APAR IT16059

ENVIRONMENT
The issue is platform based. On windows it works fine, but on Linux it shows the above described behavior.

RESOLVING THE PROBLEM
Until an official fix for the issue is released, one can follow the temp fix with manual instructions on how to do so in SDP_Preview_Collapse_sections_issue.txt in the attachment provided below :




Collapse section issue.zip [/support/docview.wss?uid=swg22003659&aid=2]Collapse section issue.zip [/support/docview.wss?uid=swg22003659&aid=1] 

Note : The attachment contains all the sections mentioned in the following steps :

1. Open Preview collapse service in designer.
2. Replace the code in the script "Keep only one section expanded" with the code in attached file "PreviewCollapse_Keep only one section expanded.txt"
3. create one more server script and name it "Check expanded section for consolidated party" and put the code in the file "PreviewCollapse_Check expanded section for consolidated party.txt"
4. Connect the binding "Expansion event" from coach to the new script. Connect from new script to the node "Build Party & Suspects Hosts".
5. Add this code at the pre of the "Preview Collapse" coach.

var expandedCollapsedPartySection = "";

for(var i = 0 ; i < tw.local.hostConsolidatedParty.sections.listLength ; i++){
if(tw.local.hostConsolidatedParty.sections[i].expanded == true){
expandedCollapsedPartySection = tw.local.hostConsolidatedParty.sections[i].id;
break;
}
}


for(var i = 0 ; i < tw.local.hostSuspects.listLength ; i++){
var eachSuspect = tw.local.hostSuspects[i];
for(var j = 0 ; j < eachSuspect.sections.listLength ; j++){
if(eachSuspect.sections[j].id == expandedCollapsedPartySection){
eachSuspect.sections[j].expanded = true;
break;
}
}
}

6. Open coach in Preview collapse service and make sure the first child under "suspects sections" is mapped correctly as given in Titlepane screenshot.
7. Open Preview Undo collapse service in designer.
8. Replace the code in the script "Keep only one section expanded" with the code in attached file "PreviewUndoCollapse_Keep only one section expanded.txt"
9. create one more server script and name it "Check the section expanded from consolidated party" and put the code in the file "PreviewUndoCollapse_Check the section expanded from consolidated party.txt"
10. Connect the binding "Expansion event" from coach to the new script. Connect from new script to the node "Build Party & Suspects Hosts".
11. Add this code at the pre of "Preview Undo collapse" coach.

var expandedCollapsedPartySection = "";

for(var i = 0 ; i < tw.local.hostConsolidatedParty.sections.listLength ; i++){
if(tw.local.hostConsolidatedParty.sections[i].expanded == true){
expandedCollapsedPartySection = tw.local.hostConsolidatedParty.sections[i].id;
break;
}
}


for(var i = 0 ; i < tw.local.hostSuspects.listLength ; i++){
var eachSuspect = tw.local.hostSuspects[i];
for(var j = 0 ; j < eachSuspect.sections.listLength ; j++){
if(eachSuspect.sections[j].id == expandedCollapsedPartySection){
eachSuspect.sections[j].expanded = true;
break;
}
}
}


12. Open coach in Preview undo collapse service and make sure the first child under "Vertical Section" on the right hand side is mapped correctly as given in Titlepane2 screenshot.This is for Undo collapse screen.
13. Save all.

Additional steps to be done if its IBM MDM Stewardship Center v11.5 FP4.

1. Open Batch toolkit in editable mode in process designer.
2. Open "Title pane" from user interface category in left hand side menu.
3. Go to varaibles tab and remove the last variable called "currentSection". After removing it should look like given in TitlePaneCV_Variables.png.
4. Go to behaviour tab and replace Load event handler code with "Load_Titlepane_eventhandler.txt" and Change event handler code with "Change_Titlepane_eventhandler.txt".
5. Save all and take a snapshot of batch toolkit.
6. Upgrade the dependency of batch toolkit in Physical MDM suspected duplicates process application.
7. Open Preview collapse from user interface category in left hand side menu and open the coach "Collapse records".
8. Clear the binding of first title pane under sections in the coach(right hand side) as shown in "Preview_Collapse_Suspects_Titlepane_binding.png"
9. Open Preview undo collapse from user interface category in left hand side menu and open the coach "Undo collapse".
8. Clear the binding of first title pane under vertical section in the coach(right hand side) as shown in "Preview_UndoCollapse_Titlepane_binding.png"
9. Save all. 

RELATED INFORMATION
 APAR IT16059 [http://www.ibm.com/support/docview.wss?uid=swg2IT16059]