Title: IBM ERZ015018W ABEND ASRA CPMI ERZ015028W EXCEPTION EXC_E_ILLADDR - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The customer is trying to run a Visual Age for Java
supplied program. The program uses the connectors for CICS, which
make ECI calls to the client. The client makes the call into the
region, which runs program 'addr' under tranid CPMI.
That program gets an ABEND ASRA.
He sees the following messages:

ERZ015028W/0154 Exception in user application code.
Exception string is: 'exc_e_illaddr'
ERZ015018W/0010 Abnormal termination code ASRA in transaction CPMI,
program ''. 

RESOLVING THE PROBLEM
The 'addr' program is written in COBOL (so it will run under CICS).

He said that he first used the 'cicstran' command to translate the
EXEC CICS commands into COBOL instructions. He then tried to use
VISUAL AGE FOR COBOL to compile the program and run it.

Rather than shoot the error, we took the position that he had made a
mistake in setting the program up. If this is a supplied transaction
that VAJ sends out to all of its customer to test with, it is
unlikely that it really has a bug in the code that causes it to try
to access a area of memory illegally.

I had him use the 'cicstcl' command to translate, compile, & link the
program all at once. He then moved everything to the
/var/cics_regions/regionName/bin directory. I had him alter the
Program Definition so that the pointer to the program was just the
program name (addr) without any references to a directory (either
fully qualified or relative addressing). This would let CICS default
to finding what it needs from the region's own bin directory. He then
took the region down & brought it up cold (rather than trying to
alter the running region's program definition).

When the region came up, the VAJ program with its connectors was able
to run the 'addr' program just fine.


Added 6/1/2007: 

This problem could happen on any platform at any release with any language. The suspected problem is the program was not locatable in the existing directory or the program was not compiled with the same level of COBOL as found on the system.