Title: IBM The FileNet Content Engine Health Page may report the Storage Areas as unavailable, with "Internal error retrieving Storage Areas" error. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The Content Engine Health Page (http://<CEserver>:<port>/P8CE/Health ) provides the status for different areas of the FileNet P8 system. When viewing the page, the Storage Areas may display red icons instead of checkmark green icons. 
And "Internal error retrieving Storage Areas" error is shown in the details page.

Attempts to [what the client was doing] using IBM [Product] results in the error [longer snippet of error] 

SYMPTOM
Red icons are displayed next to the Storage Areas, even though users can add and access content. 

Suggestion: Provide the full text transcript of the error. Include any "Steps to reproduce" this issue in this section.


CAUSE
<userID> user lose the full control for Storage Areas.


ENVIRONMENT
Content Engine 5.1



DIAGNOSING THE PROBLEM
After upgrade Filenet from 3.5.x to 5.1, when test storage areas by adding new documents it seems to work fine. but Storage Areas is shown as unavailable on The FileNet Content Engine Health Page. 

From p8_server_error.log we can find the following exception:
yyyy-mm-ddThh:mm:ss nnnnnn ENG <threadID> - ERROR method name: < username> principal name: P8CEBootStrapTrn Global Transaction: false User Transaction: false Exception Info: The requester has insufficient access rights to perform the requested operation.
com.filenet.api.exception.EngineRuntimeException: <threadID>: E_ACCESS_DENIED: The requester has insufficient access rights to perform the requested operation.
at com.filenet.engine.retrieve.IndependentClassRetriever.postLoadSecurity(IndependentClassRetriever.java:1412)
at com.filenet.engine.retrieve.RetrieverClassBase.loadNonScalarProperties(RetrieverClassBase.java:629)
at com.filenet.engine.retrieve.IndependentClassRetriever.loadNonScalarProperties(IndependentClassRetriever.java:1320)
at com.filenet.engine.retrieve.IndependentClassRetriever.loadObject(IndependentClassRetriever.java:1141)
......


RESOLVING THE PROBLEM
Verify user has Full control on the Object store and all the associated Storage Areas: 

 . Right-clicking on the Object Store 
. Choose Properties 
. Select the security tab page, and verify has the Full control.
. Select Properties tab page then All Properties radio button and view the Storage Area property name 
. Click on the drop down list to select the Storage Area. 
. The Storage Area properties screen will appear. 
. Verify the Security tab allows the User has Full Control.