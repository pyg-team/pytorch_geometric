Title: IBM IT25615: MQ Explorer MFT plugin labels the XML payload of the completed transfer log publication as "# IN PROGRESS" - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The Transfer Log page in the IBM MQ Explorer Managed File
   Transfer (MFT) plug-in can be used to monitor file transfers
   taking place across an MFT network.  Doubling clicking on a
   completed and successful transfer log entry displays the
   transfer properties window.  Selecting the 'XML' page from this
   window shows the XML payload for the log publications that were
   produced by the source agent and published to the SYSTEM.FTE/Log
   topic on the coordination queue manager.  However the
   "completed" XML log message is preceded by the header '# IN
   PROGRESS', not ' # SUCCESFUL' as expected.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   This issue affects users of the IBM MQ Explorer Managed File
   Transfer (MFT) plugin who view the XML payload of transfer log
   messages via the 'XML' page in the transfer log properties
   window.
   
   
   Platforms affected:
   Linux on x86-64, Windows
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   All MQ Managed File Transfer (MFT) agents periodically publish a
   status message to the SYSTEM.FTE/Agents topic tree on the MFT
   coordination queue manager that includes a list transfers that
   they have registered and the agent's perspective of each
   transfer state.  Source agents for file transfers also publish
   transfer log messages, with an XML payload adhering to the
   "TransferLog" schema, to the SYSTEM.FTE/Log topic tree when
   transfers start, are running and have completed.
   
   The MQ Explorer Managed File Transfer (MFT) plugin uses both
   agent status messages and transfer log "action" publications to
   determine the state of file transfers, which can then be
   reported in the Transfer Log page.
   
   A combination of the file transfer state in the agent status
   messages and the file status (success, success with warnings or
   failed) from the "progress" action log publications are used to
   determine the header to use that precedes the XML payload of the
   log messages, as displayed in the 'XML' page of the transfer
   properties window for a particular transfer log entry listed in
   the MQ Explorer.
   
   If an agent status message, from either the source or
   destination agent, reported a transfer as being in a state that
   can be deemed as complete in terms of file data transfer and
   that message was processed before the "progress" action XML log
   message, then the MQ Explorer MFT plug-in would not update the
   the overall file status within the recorded transfer log as
   reported within the "progress" action message.  This was because
   a "progress" action message was considered as representing a
   transfer that is in a running state but the internal transfer
   log state had been updated to complete, based on the already
   processed agent status publication.  As such the overall file
   status was not recorded in the transfer log when the "complete"
   action XML log message was published.
   
   The result of this was that the MQ Explorer used the heading "#
   IN PROGRESS" for the XML payload of the "complete" log message.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The MQ Explorer Managed File Transfer (MFT) plugin has been
   updated such that the overall file status within a transfer log
   record is always updated based on the content of "progress"
   action XML log messages regardless of the overall transfer state
   associated with the transfer log.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v9.1 CD    9.1.1
   v9.1 LTS   9.1.0.1
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT25615
   
   
 * REPORTED COMPONENT NAME
   IBM MQ BASE M/P
   
   
 * REPORTED COMPONENT ID
   5724H7261
   
   
 * REPORTED RELEASE
   904
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2018-07-06
   
   
 * CLOSED DATE
   2018-07-31
   
   
 * LAST MODIFIED DATE
   2018-07-31
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   IBM MQ BASE M/P
   
   
 * FIXED COMPONENT ID
   5724H7261
   
   

APPLICABLE COMPONENT LEVELS