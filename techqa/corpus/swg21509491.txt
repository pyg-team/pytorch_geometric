Title: IBM Collecting Data: for TBSM - Problems with datafetchers - United States

Text:
5724C5100; Collecting Data; Collecting Data; Collecting Data; MustGather; MustGatherDocument TECHNOTE (FAQ)

QUESTION
 What collection Information is required for issue with TBSM datafetchers? 

CAUSE
Collecting this information before calling IBM support will help you understand the problem and save time analyzing the data.

ANSWER
 

Gathering Problem Specific Information Provide the following items to analysis problems with TBSM Data fetchers: 
Update the PMR with the output from the following: 

1) Provide a concise problem description that includes things like a timeline, sequence of events, any error messages issued, and a scenario on how to recreate the problem you encountered. 

2) Please send basic details on the Data Fetcher: 
 * 
 * 
 * 
 * (Oracle / Sybase/ MS-SQL / PostgresSQL / MYSQL / Informix / DB2) 
 * 
 *  
   For SQL Type Data fetchers: 
   (1) Send results from your datafetcher's View Data [view] button. 
   (2) Send copy Data fetcher's SQL Query 
   
   For ITM Type Data fetchers: 
   (1) send a screen shot of data fetcher showing:  * 
    * 
    * 
    * 
    * 
    * 
    * 
    * 
    * 
    * 
    * 
    * 
    * 
   
   
 * (2)What are results when you click [test Web Service Connection] in the data fetcher? 
   (3)Please also show a display of the [Meta Data] tab and [Query Data] tab, grids. 
   (4)Are these populated with meta information and data from the selected query? or is there no data for the selected query? 
 * 

3) Send Additional Configuration details for this Data fetcher:  * 
 * 
 * 
 * 
 * 


4) Environment Data:  * 
 * a)
 * 
 * (Please indicate if the issue is seen on more than one Browser type). 


b) What user repository is configured in your TBSM system? (File base, Omnibus, or LDAP)?  * To determine this please, From TIP console (login to the TIP console with an administrator UserID )  * 
    * 
    * 
    * 
    * 
   
   OR  * 
    * 
    * 
    * 
    * 
    * 
    * 
    * 
    * 
   
   
 * 
 * 
 * Operating System (Type and Version) information
 * 
 * 
 * 
 * TBSM version, release, maintenance and fix information


3) If problem is with ITM Policy datafetcher: (Enable Policy logging and additional JDBC logging) :  * a)
 * To enable policy logging:
 * 
 * 
 * TBSM 4.2.1 Location: <TBSM_DATA_SERVER_HOME>/etc/rad/ RAD_policylogger.props file: 
   
   OR 
   
   TBSM 6.1.X Location: <TBSM_HOME>/etc/ TBSM_policylogger.props file:  * ------------------------------------------------- impact.policylogger.classname=com.micromuse.response.service.ActionTreeLogger 
      impact.policylogger.description=No description yet 
      impact.policylogger.logtofile=true 
      impact.policylogger.actionparameters.debug.preexecution=true 
      impact.policylogger.actionparameters.debug.printallparameters=true 
      impact.policylogger.autostartup=true 
      impact.policylogger.actionparameters.debug.postexecution=true 
      impact.policylogger.sqldebug=true 
      impact.policylogger.profiling=false 
      impact.policylogger.errorhandlingactiontreename=<NONE> 
      impact.policylogger.maxlogsizebytes=20000000 
      ------------------------------------------------- 
   
   
   The results logs information in policy log: 
   <TIP_HOME>/profiles/TBSMProfile/logs/tbsm/ RAD_policylogger.log(s) files 
 * 
 * 
 * b)
 * To enable JDBC Logging:
 * 
 * 
 * TBSM 4.2.1: in <TBSM_DATA_SERVER_HOME>/etc/rad/ RAD_server.props file  * 
   
   TBSM 6.1 in <TBSM_HOME>/etc/TBSM_server.props file  * 
    *  impact.server.jdbc.debug=true 
   
   


4) If re-creatable: Recreate problem and collect product logs. ( #top [http://www-1.ibm.com/support/docview.wss?rs=767&uid=swg21509617] Log and Trace Files [http://www-1.ibm.com/support/docview.wss?rs=767&uid=swg21509617] )  * Increase server tracing:
 * 
 *  $TBSM_HOME/bin/setTraceLevel.sh tipadmin <password> data -addtrace "com.micromuse..common.datasource=finest" 

 * 
 * 
 * 
 * Log and Trace Files
 * 
 * 
 *  


5) In addition to the TBSM Logs during the collect_logs command, please ensure the following datafetcher related files from the Data Server are also sent to support: 
 * 
 * 
 * 

 * 
 *  Datafetcher properties file 
 * 
 * 
 * 
 * RAD_<datafetcher_name>.props
 * 
 * _<datafetcher_name>.props
 * 
 * 
 * 
 * Data Source .ds files
 * 
 * 
 * 
 * 
 * 
 * _<datasource_name>_DS.ds
 * 
 * 
 * 
 * Datafetcher log file: 
 * 
 * 
 * 
 * RAD_
 * <datafetcher_name
 * >.log
 * 
 * _
 * <datafetcher_name
 * >.log
 * 
 * 
 * 
 * 


Note:  * <TBSM_DATA_SERVER_HOME> 
 * 
 * 
 * /opt/IBM/Tivoli/tip/profiles/TBSMProfile/installedApps/TBSMCell/tbsm.ear/sla.war/ 
 * 
 * C:\IBM\tivoli\tip\profiles\TBSMProfile\installedApps\TBSMCell\tbsm.ear\sla.war\ 
 * <TIP_HOME>
 * 
 * 
 * /opt/IBM/Tivoli/tip/ 
 * 
 * C:\IBM\tivoli\tip 
 * <TBSM_HOME>
 * UNIX = 
   /opt/IBM/Tivoli/tbsm 
   Windows = 
   C:\IBM\tivoli\tbsm