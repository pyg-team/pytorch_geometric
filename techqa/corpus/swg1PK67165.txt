Title: IBM PK67165: ASMFSUPC SUPERC ISRSUPC WRONG MATCH RESULTS. - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS REQUIREMENT.
    
   
   

ERROR DESCRIPTION
 *  A large number of false matches is seen while doing a relatively
   simple compare of two files.  One file may have 500 records
   while the other file may have 1000.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY

PROBLEM CONCLUSION
 *  See apar PK71922 [http://www-01.ibm.com/support/docview.wss?uid=isg1PK71922].
   
   
    
   
   

TEMPORARY FIX

COMMENTS
 *  The false match problem that led to the creation of this APAR
   results from "collisions" in SuperC's hashing algorithm. During
   the first pass of a SuperC compare, a hash value is created for
   each line of the input files. These values are used in the first
   pass to determine which blocks of data should be "matched up" in
   the compare.
      Occasionally, lines that contain different data will generate
   the same hash values. Even though this is detected and resolved
   in pass 2 of the compare, it leads to the situation where the
   blocks of data that are matched up, and consequently the lines
   that are considered to be inserted or deleted, are selected in a
   non-optimal way. The situation is exacerbated when numerous
   false matches occur in a single compare, as was the case with
   the data that led to the creation of this APAR.
      Clearly, it is mathematically impossible to create a hashing
   algorithm that will never result in these collisions. So there
   is no practical way to totally avoid this problem within the
   current design. In other words, the code is actually working as
   designed, and the limitation (which surfaces quite rarely) is
   something we are stuck with.
      It should be noted that even though the listing that results
   from a "false match" compare is not what we would expect (or
   want) to see, it still represents an accurate delta between the
   two files being compared.
      So this APAR is to be closed on the basis that the product is
   working as designed, but the problem still needs to be
   addressed. A request has been made (and accepted) that an
   enhancement be made via a Development APAR. The enhancement will
   involve the creation of a separate hashing algorithm. A new
   option will be provided to allow the user to specify that the
   "alternate" hashing algorithm be used. The idea would be that
   when the false match problem is encountered, the user has the
   option of re-running the compare with the alternate hashing
   algorithm. The intention, of course, will be to select an
   alternate algorithm that minimises the possibility of both
   algorithms resulting in a collision on a given set of data.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PK67165
   
   
 * REPORTED COMPONENT NAME
   HLASM TOOLKIT
   
   
 * REPORTED COMPONENT ID
   569623401
   
   
 * REPORTED RELEASE
   15A
   
   
 * STATUS
   CLOSED REQ
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2008-06-05
   
   
 * CLOSED DATE
   2008-09-10
   
   
 * LAST MODIFIED DATE
   2008-09-12
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    OA26180 [http://www-01.ibm.com/support/docview.wss?uid=isg1OA26180]
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS