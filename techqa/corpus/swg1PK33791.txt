Title: IBM PK33791: ADML0040E DMGR NOT NOTIFIED WHEN APP SERVER STARTS. NODEAGENT THINKS THE LAUNCH TIMED OUT. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The deployment manager is not being notified when the
   application server is started. The nodeagent thinks the
   the launch of the application server timed out.
   This is the scenario:
    - A Wsadmin script connected to the DMGR is being used to start
      the application server.
    - The nodeagent launches the application server (ADMN1000I).
    - The nodeagent issues an error message that the launch process
      times out after 10 seconds (SOAP Timeout value) (ADML0040E).
    - The application server continues to start and comes up fine.
    - The DMGR does not know that the application server was
      started.
   
   The problem is only seen when the application server is started
   from the admin console or from wsadmin. If it is started on the
   command line then no problem is seen.
   
   The Nodeagent systemout.log shows this:
   
   ADMN1000I: An attempt is made to launch app-server on node
     node1. (User ID = region/wsadmin)
   ADML0040E: The process timed out waiting for server "app-server"
   WSVR0605W: Thread  "SoapConnectorThreadPool : 157" (000002b3)
   has
     been active for 776117 milliseconds and may be hung.  There
     is/are 1 thread(s) in total in the server that may be hung.
   
   
    
   
   

LOCAL FIX
 *  Work around is to start the application server from the command
   line.
   
   KEYWORDS:
   notification hang delay SM WAS
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: WebSphere Application Server users of        *
   *                 version 602.                                 *
   ****************************************************************
   * PROBLEM DESCRIPTION: The invocation of "placeReport" by      *
   *                      the DMgr against the StatusCache        *
   *                      MBean in the node agent does not        *
   *                      match what is available in the node     *
   *                      agent                                   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   You would see the following in NodeAgent traces:
   
   [10/26/06 17:16:26:489 CDT] 00001f5d AdminServiceI 3
    invoke method throws exception
                                    com.ibm.
   websphere.management.exception.AdminException:
   javax.management.MBeanException: null nested
   exception is javax.management.ServiceNotFoundException:
   Cannot find ModelMBeanOperationInfo for operation placeReport
    at com.ibm.ws.management.AdminServiceImpl$1.run
   (AdminServiceImpl.java:1025)
    at com.ibm.ws.security.util.AccessController.
   doPrivileged(AccessController.java(Compiled Code))
    at com.ibm.ws.management.AdminServiceImpl.
   invoke(AdminServiceImpl.java:906)
    at com.ibm.ws.management.connector.
   AdminServiceDelegator.invoke(AdminServiceDelegator.java:157)
   
   
    
   
   

PROBLEM CONCLUSION
 *  Modified the descriptor file for StatusCache Mbean.
   
   The fix for this APAR is currently targeted for inclusion in
   fixpack 6.0.2.19.
   Please refer to the recommended updates page for delivery
   information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK33791
   
   
 * REPORTED COMPONENT NAME
   WEBS APP SERV N
   
   
 * REPORTED COMPONENT ID
   5724H8800
   
   
 * REPORTED RELEASE
   60A
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-10-30
   
   
 * CLOSED DATE
   2007-01-03
   
   
 * LAST MODIFIED DATE
   2007-01-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  ADMIN
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS APP SERV N
   
   
 * FIXED COMPONENT ID
   5724H8800
   
   

APPLICABLE COMPONENT LEVELS
 * R60A PSY
   UP
   
   
 * R60H PSY
   UP
   
   
 * R60I PSY
   UP
   
   
 * R60P PSY
   UP
   
   
 * R60S PSY
   UP
   
   
 * R60W PSY
   UP
   
   
 * R60Z PSY
   UP