Title: IBM Management and persistence service will not start behind a firewall - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote provides troubleshooting methods for failure of starting management and persistence service after you install RES.NET. 

SYMPTOM
The installation of Rules for .NET 7.x, completes without error. However,when I try to start the Management and Persistence services, I get the following error: 

Could not start the ILOG Rule Execution Management (or Persistence) Service on Local Computer.
Error 1053: The service did not respond to the start or control request in a timely fashion.


CAUSE
This problem typically occurs when RES.NET is installed on a machine which has firewall enabled. The start-up of the management/persistence service attempts to connect to the verisign sites to check the certificate validity of the Digital signed dlls. If there is firewall that blocks outbound connections to the Internet, the services will fail to start with a timeout error.


RESOLVING THE PROBLEM
To resolve this problem, follow one of the two options: 

 

 1. Add the verisign site URLs being called to the host entries and resolve them to 127.0.0.1.
    Follow the instruction provided in the documentation: 
    WebSphere ILOG Rules for .NET V7.x > Rule Execution Server > Introducing Rule Execution Server > Management and persistence > Enabling Rule Execution Server behind a firewall. 
    
    NOTE: The services at your site may also contact another server, in addition to the ones listed in the documentation. It will help if your Network administrator can monitor the service start-up and track which verisign site the service tries to reach. You can then add the host name of that server in the list of the host file entries and resolve it to 127.0.0.1 as well. 
    
    Save the host file and reboot the machine.
    
    
 2. Disable generatePublisherEvidence property in the config files for the management and persistence services. This property effectively bypasses Code Access Security:
    
    Add the following lines in ILOGExecutionServerManagementService.exe.config and ILOGExecutionServerPersistenceService.exe.config:
    
    <configuration>
    <runtime>
    <generatePublisherEvidence enabled="false"/>
    </runtime> 
    </configuration>
    
    Both files reside in the directory ILOG Rules for .NET\Rule Execution Server for .NET\Bin\Public Assemblies.