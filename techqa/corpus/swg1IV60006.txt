Title: IBM IV60006: MQ CLIENTS FAIL WITH 2035 (MQRC_NOT_AUTHORIZED) WHEN LONGUSERID IS NOT SET - United States

Text:
  A FIX IS AVAILABLE
Fix Pack 7.1.0.6 for WebSphere MQ V7.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24038863]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  MQ CLIENT fails with error 2035 (MQRC_NOT_AUTHORIZED) and
   AMQ9777 error with
   blank CLNTUSER will be generated by MQ 7.1/7.5 queue manager.
   
   AMQ9777: Channel was blocked
   
   EXPLANATION:
   The inbound channel 'SYSTEM.DEF.SVRCONN' was blocked from
   address
   '127.0.0.1' because the active values of the channel matched a
   record
   configured with USERSRC(NOACCESS). The active values of the
   channel were
   'CLNTUSER()'.
   
   
    
   
   

LOCAL FIX
 *  na
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Users using MQ clients that do not set LongUserId. This problem
   likely to occur only because of a defect in MQ client that
   results in a blank LongUserId.
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   MQ clients are expected to send LongUserID when connecting to
   the queue manager if MQ FAP level is >= 5. The queue manager
   used the Long User Id if MQ FAP level was >= 5 and Short User Id
   for earlier FAP levels for channel authentication. If the client
   did not send LongUserID then channel authentication (CHLAUTH)
   failed with 2035 error because the channel was authenticated
   against a blank user ID.
   
   
    
   
   

PROBLEM CONCLUSION
 *  MQ has been modified to use Short User Id if Long User Id is
   blank (if no Long User Id is sent by the client) for channel
   authentication.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v7.1       7.1.0.6
   v7.5       7.5.0.5
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV60006
   
   
 * REPORTED COMPONENT NAME
   WMQ LIN X86 V7
   
   
 * REPORTED COMPONENT ID
   5724H7224
   
   
 * REPORTED RELEASE
   701
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-05-05
   
   
 * CLOSED DATE
   2014-05-21
   
   
 * LAST MODIFIED DATE
   2014-05-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ LIN X86 V7
   
   
 * FIXED COMPONENT ID
   5724H7224
   
   

APPLICABLE COMPONENT LEVELS
 * R701 PSY
   UP