Title: IBM On Rule Execution Server deployed in a J2SE environment, the ruleset is always shown as executed only once - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Rule Execution Server is deployed in a J2SE environment, and a ruleset is executed multiple times. However, the statistics always show that the ruleset has been executed only once, no matter how many times the ruleset is executed. What is wrong? 

ANSWER
 

In the J2SE environment, a local J2SE provider (IlrJ2SERuleSessionProvider) is employed when Rule Execution Server is used inside the same JVM. 

This behavior is expected in a J2SE environment if a new instance of this provider is created for each ruleset execution. Each provider has its own Execution Unit or XU, which executes the ruleset. The ruleset execution statistics are gathered by the XU. Since a new provider (and hence a new XU) is created for each ruleset execution, the number of times the ruleset has been executed always shows up as one, even after multiple ruleset executions. 

However, we recommend that the provider be shared and reused across clients. Make sure you create an instance ofIlrJ2SESessionFactorysuch that it is shared across clients and rule executions. For example, keep a static reference to the session factory or implement a singleton design pattern to hold a shared reference to the session factory. Recreating the session factory at each execution increases the CPU and memory consumption because the session factory creates and destroys a XU pool each time and does not allow sharing engine and ruleset resources across clients. 

You can read more about rule sessions in the documentation at Rule Studio [http://publib.boulder.ibm.com/infocenter/brjrules/v7r0m2/topic/com.ibm.websphere.ilog.jrules.doc/Content/Business_Rules/Documentation/_pubskel/JRules/ps_JRules_Global286.html] > Executing rules [http://publib.boulder.ibm.com/infocenter/brjrules/v7r0m2/topic/com.ibm.websphere.ilog.jrules.doc/Content/Business_Rules/Documentation/_pubskel/JRules/ps_JRules_Global760.html] > Concepts [http://publib.boulder.ibm.com/infocenter/brjrules/v7r0m2/topic/com.ibm.websphere.ilog.jrules.doc/Content/Business_Rules/Documentation/_pubskel/JRules/ps_JRules_Global791.html] > Rule Execution Server [http://publib.boulder.ibm.com/infocenter/brjrules/v7r0m2/topic/com.ibm.websphere.ilog.jrules.doc/Content/Business_Rules/Documentation/_pubskel/JRules/ps_JRules_Global795.html] > Execution [http://publib.boulder.ibm.com/infocenter/brjrules/v7r0m2/topic/com.ibm.websphere.ilog.jrules.doc/Content/Business_Rules/Documentation/_pubskel/JRules/ps_JRules_Global805.html].

RELATED INFORMATION
#Rulesets parsed at each execution on Java SE RES [http://www.ibm.com/support/docview.wss?uid=swg21666132]


 



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Operational Decision Manager Platform Independent 8.5, 8.0, 7.5 Enterprise