Title: IBM JR21598: CONNECTION POOLING MUST BE ENABLED WHEN USING SYSPLEX IN DB2 - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  The problem addressed by this APAR only affects
   DB2 sysplex database users, i.e. if you have DB2 Connect or DB2
   ESE version 8 set up to connect to DB2 on OS/390 or z/os, and
   you have sysplex enabled.
   
   The problem is that the connections are not routed to other
   members in the DDF when the connecting member of the DDF in the
   data sharing group on OS/390 or z/os server has been shutdown.
   When sysplex is enabled on the host, DB2 should route
   connections to different DDF according to the server list
   provided by the host.
   The DB2 version 8 sysplex code was designed with agent pooling
   in mind.  The sysplex server list is freed if there are no
   agents and no connections to a database.  Therefore, at least
   one agent has to remain to maintain the sysplex server list.
   
   
    
   
   

LOCAL FIX
 *  DB2 version 8 will require that connection pooling is enabled
   in order for sysplex to work properly. To enable
   connection pooling:
   1. db2 update dbm cfg using num_poolagents <num>
   2. db2stop
   3. db2start
   ...where <num> is the maximum number of agents allowed to be
   pooled on this instance.  Connection Pooling is enabled when
   this number is greater than zero.  The recommended value to use
   for num_poolagents is -1, which sets num_poolagents to the
   default value of max_coordagents/2.
   
   
    
   
   

PROBLEM SUMMARY
 *  The problem addressed by this APAR only affects
   DB2 sysplex database users, i.e. if you have DB2 Connect or DB2
   ESE version 8 set up to connect to DB2 on OS/390 or z/os, and
   you have sysplex enabled.
   
   The problem is that the connections are not routed to other
   members in the DDF when the connecting member of the DDF in the
   data sharing group on OS/390 or z/os server has been shutdown.
   When sysplex is enabled on the host, DB2 should route
   connections to different DDF according to the server list
   provided by the host.
   The DB2 version 8 sysplex code was designed with agent pooling
   in mind.  The sysplex server list is freed if there are no
   agents and no connections to a database.  Therefore, at least
   one agent has to remain to maintain the sysplex server list.
   
   LOCAL FIX:
   DB2 version 8 will require that connection pooling is enabled
   in order for sysplex to work properly. To enable
   connection pooling:
   1. db2 update dbm cfg using num_poolagents <num>
   2. db2stop
   3. db2start
   ...where <num> is the maximum number of agents allowed to be
   pooled on this instance.  Connection Pooling is enabled when
   this number is greater than zero.  The recommended value to use
   for num_poolagents is -1, which sets num_poolagents to the
   default value of max_coordagents/2.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Publications.  Doc info added at:
   
   http://publib.boulder.ibm.com/infocenter/db2luw/v8//topic/com.ib
   m.db2.udb.rn.doc/rn/r0021677.htm [http://publib.boulder.ibm.com/infocenter/db2luw/v8//topic/com.ibm.db2.udb.rn.doc/rn/r0021677.htm]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR21598
   
   
 * REPORTED COMPONENT NAME
   DB2 CASE WINDOW
   
   
 * REPORTED COMPONENT ID
   5724D5401
   
   
 * REPORTED RELEASE
   810
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2005-04-29
   
   
 * CLOSED DATE
   2009-03-18
   
   
 * LAST MODIFIED DATE
   2009-03-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS