Title: IBM IO05560: USING 2.1.3 XSCR --DELTA COMMAND MIGRATE FROM 2.1.2 - United States

Text:
 
APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  What files from the original Image 2.1.2 Image Server are
   needed for
   the xscr --delta ... command to work correctly?    In test we
   happen to
   have the entire 2.1.2 Image Build Server available,  but a
   customer may
   not.     It sure would be helpfull if we could tell the customer
   what
   data to save so they will be able to migrate thier POS-Branch
   system
   without requireing them to save their entire Image Build Server.
   
   
    
   
   

LOCAL FIX
 *   What files from the original Image 2.1.2 Image Server are
   needed for
   the xscr --delta ... command to work correctly?    In test we
   happen to
   have the entire 2.1.2 Image Build Server available,  but a
   customer may
   not.     It sure would be helpfull if we could tell the customer
   what
   data to save so they will be able to migrate thier POS-Branch
   system
   without requireing them to save their entire Image Build Server.
   
   
    
   
   

PROBLEM SUMMARY
 *  > Current customer has a POS-Branch and Image build server @SSP2
   The
   > customer would like to use xscr --delta to migrate the
   POS-branch to
   SSP3.
   
   I'm not sure this works. AFAIK "xscr --delta" is designed to
   create
   delta images between two images originally created on a SSP3
   system.
   
   >                               What files or data from a Image
   Build
   Server
   > are needed for the "xscr --delta..." command
   >                               to function properly when
   migrating a
   > POS-Branch Server Image from SP2/SSP2 to SP3/SSP3?
   >
   >                               Or worded differently, ...
   assuming the
   > customer does not have access to the original Image Build
   >                               server used to create a SP2/SSP2
   POS-Branch
   > Image.  What data from that SP2/SSP2 Image Build
   >                              Server needs to be present on a
   SP3/SSP3
   > Image Build Server to allow the customer to use "xscr --delta
   ..."?
   
   It looks like they're lucky and they only need the SSP2 based
   image.
   _BUT_ _both_ images _must_ contain a valid rpm database.
   
   The SSP3 documentation describes what is necessary:
   
   http://www.novell.com/documentation/nlpos9/index.html?page=/docu [http://www.novell.com/documentation/nlpos9/index.html?page=/docu]
   mentatio
   n/nlpos9/nlpos9_admin/data/b5tuiay.html
   
   --------------------------------------8<------------------------
   --------
   
   9.6.1 Creating the Delta Image File
   
   The command used to create the delta image files compares two
   images and
   builds a tarball containing a list of RPMs that need to be
   updated, a
   tarball checksum file, and a script to install the updated RPMs.
   
   Before you run the command, you must create an updated image
   with your
   build distribution list pointing to the new software. To do
   this, follow
   the instructions in Section 9.4, Building Images with xscr.
   
   After you have created the updated image, run either of the
   following
   commands to create the delta image file:
   
   xdscr --image old_image --with new_image --destdir directory
   
   or
   
   xscr --delta --image old_image --with new_image --destdir
   directory
   
   --------------------------------------8<------------------------
   --------
   
   Position 9.6.3 "Copying the Delta Image Files to the Branch
   Server"
   describes how the delta will be tranferred to the client.
   
   
   I can understand why your customer want's to do it this way, but
   as
   nearly all packages had been updated (and the delta image
   contains the
   rpm packages) the delta image will probably bigger than
   expected.
   
   >
   > I haven't tried that yet. On the first thought, I'd say you
   have to
   > recreate the image based on SSP3 and only afterwards xscr
   would be ale
   > to do a "diff" etween two images and ceates a "delta" imae
   aterwards.
   
   Umm, sorry for that. My keyboard is broken and drives me crazy.
   It frequently looses some keys or produces double events, grr
   :-(
   
   The above should read:
   
   I haven't tried that yet. On the first thought, I'd say you have
   to
   recreate the image based on SSP3 and only afterwards xscr would
   be able
   to do a "diff" between two images and creates a "delta" image
   afterwards.
   
   
   
   --
   Best regards,
   
   
    
   
   

PROBLEM CONCLUSION
 *  > Current customer has a POS-Branch and Image build server @SSP2
   The
   > customer would like to use xscr --delta to migrate the
   POS-branch to
   SSP3.
   
   I'm not sure this works. AFAIK "xscr --delta" is designed to
   create
   delta images between two images originally created on a SSP3
   system.
   
   >                               What files or data from a Image
   Build
   Server
   > are needed for the "xscr --delta..." command
   >                               to function properly when
   migrating a
   > POS-Branch Server Image from SP2/SSP2 to SP3/SSP3?
   >
   >                               Or worded differently, ...
   assuming the
   > customer does not have access to the original Image Build
   >                               server used to create a SP2/SSP2
   POS-Branch
   > Image.  What data from that SP2/SSP2 Image Build
   >                              Server needs to be present on a
   SP3/SSP3
   > Image Build Server to allow the customer to use "xscr --delta
   ..."?
   
   It looks like they're lucky and they only need the SSP2 based
   image.
   _BUT_ _both_ images _must_ contain a valid rpm database.
   
   The SSP3 documentation describes what is necessary:
   
   http://www.novell.com/documentation/nlpos9/index.html?page=/docu [http://www.novell.com/documentation/nlpos9/index.html?page=/docu]
   mentatio
   n/nlpos9/nlpos9_admin/data/b5tuiay.html
   
   --------------------------------------8<------------------------
   --------
   
   9.6.1 Creating the Delta Image File
   
   The command used to create the delta image files compares two
   images and
   builds a tarball containing a list of RPMs that need to be
   updated, a
   tarball checksum file, and a script to install the updated RPMs.
   
   Before you run the command, you must create an updated image
   with your
   build distribution list pointing to the new software. To do
   this, follow
   the instructions in Section 9.4, Building Images with xscr.
   
   After you have created the updated image, run either of the
   following
   commands to create the delta image file:
   
   xdscr --image old_image --with new_image --destdir directory
   
   or
   
   xscr --delta --image old_image --with new_image --destdir
   directory
   
   --------------------------------------8<------------------------
   --------
   
   Position 9.6.3 "Copying the Delta Image Files to the Branch
   Server"
   describes how the delta will be tranferred to the client.
   
   
   I can understand why your customer want's to do it this way, but
   as
   nearly all packages had been updated (and the delta image
   contains the
   rpm packages) the delta image will probably bigger than
   expected.
   
   >
   > I haven't tried that yet. On the first thought, I'd say you
   have to
   > recreate the image based on SSP3 and only afterwards xscr
   would be ale
   > to do a "diff" etween two images and ceates a "delta" imae
   aterwards.
   
   Umm, sorry for that. My keyboard is broken and drives me crazy.
   It frequently looses some keys or produces double events, grr
   :-(
   
   The above should read:
   
   I haven't tried that yet. On the first thought, I'd say you have
   to
   recreate the image based on SSP3 and only afterwards xscr would
   be able
   to do a "diff" between two images and creates a "delta" image
   afterwards.
   
   
   
   --
   Best regards,
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IO05560
   
   
 * REPORTED COMPONENT NAME
   IRES V2
   
   
 * REPORTED COMPONENT ID
   5724H9900
   
   
 * REPORTED RELEASE
   101
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-11-13
   
   
 * CLOSED DATE
   2006-11-15
   
   
 * LAST MODIFIED DATE
   2006-11-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS