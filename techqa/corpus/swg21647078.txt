Title: IBM Metrics Reports Fail to Complete when using Cognos with IBM Connections - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM
How to resolve an issue when Cognos metrics reports for IBM Connections start, but fail to complete successfully in Communities

SYMPTOM
When using IBM Connections Community Metrics, the Cognos server may start to create folders, but can not complete. The Community Metrics starts to increase the percentage but never completes, or when adding a second Community, metrics are requested and get added to the queue but do not finish. 

Go to the Cognos server and click on the IBMConnectionsMetrics, StaticReports and drill down 3 levels deep. You will see some folders get created, but not all 110 as expected. 

The error that is shown in the systemout.log and systemerr.log is:
SystemErr R java.net.SocketTimeoutException: Read timed out
SystemErr R at java.net.SocketInputStream.socketRead0(Native Method)



CAUSE
This issue is caused by not having enough time to run the report before a time-out is reached.
Increase the cognos.secsPerRequest in the metrics-config.xml file from the default value of 1200 seconds to 3600 or more. 

Information on this setting is also available in the Wiki:
http://www.ibm.com/support/knowledgecenter/SSYGQH_5.5.0/admin/admin/r_admin_metrics_mng_conf_props_list.html [http://www.ibm.com/support/knowledgecenter/SSYGQH_5.5.0/admin/admin/r_admin_metrics_mng_conf_props_list.html]


ENVIRONMENT
This issue can occur in both 4.x and 5.x IBM Connections using Cognos Metrics.



RESOLVING THE PROBLEM
The issue comes from the configuration of cognos.secsPerRequest in the metrics-config.xml file. The default value is 1200 seconds, since the http client socket time-out is set to 1200/5=240 seconds increasing the secsPerRequest to 3600 seconds may help to resolve the issue. 

 

Checkout the metrics-config.xml file:
execfile("metricsAdmin.py") 
MetricsConfigService.checkOutConfig("working_directory", "cell_name")
Then change the following:
<cognos>
<namespace>IBMConnections</namespace>
<secsPerRequest>3600</secsPerRequest>
</cognos>

RELATED INFORMATION
 Community Metrics Update indicator stays on 0% (or repe [http://www.ibm.com/support/docview.wss?uid=swg21617951]