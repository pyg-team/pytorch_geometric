Title: IBM Profile upgrade fails for Business Space in a non-clustered network deployment environment - United States

Text:
node; profile; upgrade; Business Space TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This problem is relevant for network deployment environments that are not using clusters. When the deployment manager profile and the node profile (where Business Space is deployed) are created from separate WebSphere Application Server installations, the upgrade of the node profile will fail during the Business Space upgrade. 

SYMPTOM
The following message will be logged in the profile upgrade logs: 

Error calling
'/opt/IBM/ProcServer70/BusinessSpace/scripts/upgradeBSpaceProfile.py':
'com.ibm.ws.scripting.ScriptingException:
com.ibm.mm.utils.configservice.MashupsConfigException:
com.ibm.mm.utils.configservice.MashupsConfigException: Parameter propertyDirectoryName must be a directory\n'.


CAUSE
The profile upgrade expects to find the Business Space configuration folders under the node profile, but these folders are not present.


RESOLVING THE PROBLEM
 

 1. Ensure all JVMs associated with this node are stopped including node agents and servers. 
 2. Go to the machine where the node profile which is failing to upgrade is created, and navigate to <profile_home>/<profile_name>/BusinessSpace/<node_name>/<server_name>. 
 3. Rename the mm.runtime.prof directory to mm.runtime.prof.bak. 
 4. Go to the machine where the deployment manager profile is created, and navigate to
    <profile_home>/<dmgr_profile_name>/BusinessSpace/<node_name>/<server_name>. 
 5. Copy the mm.runtime.prof directory from the machine and location in step 4 to the machine and location in step 2. 
 6. Follow the instructions to recover from the profile update errors as directed in the product Fix Pack upgrade instructions. These instructions should be similar to the following:
    

 * On Windows:
 * 
 * 
 * 
 * 
 * On UNIX and Linux:
 * 
 * 
 * 
 * 
 * 

 

Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere Business Compass Business Space Linux, Windows, Linux zSeries 7.0.0.2 Business Integration WebSphere Business Events AIX, HP-UX, Linux, Solaris, Windows, z/OS 7.0.1, 7.0 Business Integration WebSphere Enterprise Service Bus Business space AIX, HP-UX, Linux, Linux iSeries, Linux zSeries, Solaris, Windows, z/OS 7.0.0.2 Business Integration WebSphere Process Server Business Space AIX, HP-UX, Linux, Solaris, Windows, z/OS, Linux zSeries 7.0.0.2 Business Integration WebSphere Service Registry and Repository Business Space AIX, HP-UX, Linux, Linux pSeries, Linux zSeries, Linux/x86, Solaris, Windows 7.0.0.2 Enterprise Content Management Case Foundation ECM Widgets AIX, HP-UX, Solaris, Windows, Linux 4.5.2