Title: IBM IY44915: When using forms based auth the message Account-expired not show n - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DUPLICATE OF ANOTHER APAR.
    
   
   

ERROR DESCRIPTION
 *  This APAR is for TAM 4.1
   
   
   In 3.8, the forms authentication worked correctly, but the BA
   auth did not display this message.  The code was fixed for BA
   auth in 3.8.  This code fix for the BA auth was forward ported
   to 3.9 and 4.1 and the IY43177 [http://www-01.ibm.com/support/docview.wss?uid=swg1IY43177] defect was sysrouted from the
   original for 4.1.  However, APAR IY43177 [http://www-01.ibm.com/support/docview.wss?uid=swg1IY43177] fails to mention this
   was a BA-only issue.
   
   In 3.9 during development, someone changed the way the forms
   authentication worked here.  This stayed the same way through
   4.1 up to now.  So we have a new defect with the same symptom
   except against forms-based auth that was introduced in 3.9
   and is also in 4.1.
   
   Steps to reproduce:
   TAM 4.1 with FP02 base and web
   
   user create testuser cn=testuser,o=ibm,c=us testuser testuser
   passw0rd
   user modify testuser account-valid yes
   policy set max-login-failures 3 -user testuser
   policy set disable-time-interval disable -user testuser
   user show testuser
   
   Login ID: testuser
   LDAP DN: cn=testuser,o=ibm,c=us
   LDAP CN: testuser
   LDAP SN: testuser
   Description:
   Is SecUser: yes
   Is GSO user: no
   Account valid: yes
   Password valid: yes
   Authorization mechanism: Default:LDAP
   
   
   If I try to login in via the web, with basic auth, as long as I
   keep entering an invalid password the account shows it is valid
   in pdadmin and in ldap, but as soon as I enter the correct
   
   
    
   
   

LOCAL FIX
 *  password I get a page that states:
   The client's account has expired
   
   However, if I use forms based it always states:
   Login failed. You have used an invalid username, password or
   client certificate.
   
   It does invalidates the account after the third invalid login.
   However, the error message "The client's account has expired" is
   never displayed after entering the correct password
   LOCAL FIX:
   Use BA authentication.
   
   
    
   
   

PROBLEM SUMMARY

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *   Duplicate of IY42824 [http://www-01.ibm.com/support/docview.wss?uid=swg1IY42824] per Brook Lovatt.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   IY44915
   
   
 * REPORTED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * REPORTED COMPONENT ID
   5724C0811
   
   
 * REPORTED RELEASE
   410
   
   
 * STATUS
   CLOSED DUB
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2003-05-28
   
   
 * CLOSED DATE
   2003-08-18
   
   
 * LAST MODIFIED DATE
   2003-09-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ACCESS MGR E-BU
   
   
 * FIXED COMPONENT ID
   5724C0800
   
   

APPLICABLE COMPONENT LEVELS