Title: IBM A CWLLG0592E error is seen when executing a task for IBM Business Process Manager (BPM) - United States

Text:
Business Process Manager; CWLLG0592E; database; DB2 9.7 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you execute a business process, a CWLLG0592E error message is seen in the SystemOut.log file of the process server for IBM Business Process Manager. 

SYMPTOM
The following message exists in the SystemOut.log file: 

CWLLG0592E: An exception occurred while executing task." 
Additionally, the following exception can be observed: 
"com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-440, SQLSTATE=42884, SQLERRMC=CHARACTER_LENGTH 

 

When the problem occurs, a typical stack trace might look the following text:

[10/10/12 10:10:10:147 SAST] 00000051 wle E CWLLG0592E: An 
exception occurred while executing task.org.springframework.jdbc. 
BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar 
[select current timestamp,t.task_id,t.scheduled_time, case when t.scheduled_time > current_timestamp then t.scheduled_time else current_timestamp end as dt,t.discriminator,t.description,t. 
task_execution_class,t.task_arguments_str,t.task_arguments,t. 
in_closing_transaction, case when (bc.is_blacked_out = 1 or 
current timestamp >= bc.next_start) then 1 else 0 end, t.blackout_calendar_id,t.blackout_behavior,t.queue_id,t.re_execute_count,t.repeat_string, k.keyword from((lsw_em_task t left outer join 
lsw_em_task_keywords k on t.task_id = k.task_id) left outer join 
lsw_blackout_calendar bc on t.blackout_calendar_id = bc.calendar_id) where 
t.task_id in (6199) and t.task_owner = ?]; nested exception is com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-440, SQLSTATE=42884, SQLERRMC=CHARACTER_LENGTH;FUNCTION, DRIVER=3.61.65 
Caused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: 
SQLCODE=-440, SQLSTATE=42884, SQLERRMC=CHARACTER_LENGTH;FUNCTION, 
DRIVER=3.61.65 
---- Begin backtrace for Nested Throwables 
com.ibm.db2.jcc.am.SqlException: DB2 SQL Error: SQLCODE=-727, 
SQLSTATE=56098, SQLERRMC=2;-440;42884;CHARACTER_LENGTH|FUNCTION, 
DRIVER=3.61.65


CAUSE
The problem might occur if IBM DB2 Version 9.7.0.0 is used with IBM Business Process Manager. The problem is caused by a known bug in IBM DB2 V9.7.0, which was fixed with IBM DB2 9.7.0 Fix Pack 4.

IBM DB2 9.7.0 Fix Pack 4 is a prerequisite minimum DB2 version level for IBM Business Process Manager. See the following detailed system requirements information:

IBM Business Process Manager Standard detailed system requirements [http://www.ibm.com/support/docview.wss?uid=swg27023007]

IBM Business Process Manager Advanced detailed system requirements [http://www.ibm.com/support/docview.wss?uid=swg27023005]

IBM Business Process Manager Express detailed system requirements [http://www.ibm.com/support/docview.wss?uid=swg27023008]

On these detailed system requirements pages, select the tab for the applicable version and click the link for your operating system. In the generated report, select the Supported Software tab.


RESOLVING THE PROBLEM
To resolve the problem, upgrade to DB2 version 9.7.0 Fix Pack 4 [http://www.ibm.com/support/docview.wss?uid=swg24029745].

 



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Process Manager Advanced Databases AIX, Linux, Solaris, Windows 7.5.1.2, 7.5.1.1, 7.5.1, 7.5.0.1, 7.5 Business Integration IBM Business Process Manager Express Databases Linux, Windows 7.5.1.2, 7.5.1.1, 7.5.1, 7.5.0.1, 7.5 
PRODUCT ALIAS/SYNONYM
 BPM