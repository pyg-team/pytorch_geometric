Title: IBM WSRR Dashboard: Error displaying BIRT reports in a clustered environment - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When a BIRT report is displayed in a detail widget in the WebSphere Service Registry and Repository (WSRR) Dashboard, an error is shown. The error happens in a cluster with an IBM HTTP Server transparent proxy or other transparent proxy, where SSL certificates are self-signed, and server security is enabled. 

SYMPTOM
The following error message is displayed when a Service Version is displayed in the detail widget in the SOA Governance view in the Dashboard: 

"Could not run BIRT report ServiceVersionConsumers.rptdesign. Contact your administrator. Could not run BIRT report ServiceVersionProviders.rptdesign. Contact your administrator." 

The report content does not display. 

The following exception is displayed in the WebSphere Application Server log: 


[10/17/14 17:54:20:778 UTC] 00000114 BirtUtility E org.eclipse.birt.report.utility.BirtUtility getRunnableFromDesignFile Unexpected exception when fetching report design file
javax.net.ssl.SSLHandshakeException: com.ibm.jsse2.util.j: PKIX path building failed: java.security.cert.CertPathBuilderException: unable to find valid certification path to requested target


CAUSE
The WSRRReportViewer servlet renders the BIRT report. The WSRRReportViewer servlet contacts the ServiceRegistryBIRTReport servlet to download the BIRT report design file. The WSRRReportViewer servlet uses the HTTP host and port which is used to contact WSRRReportViewer to contact the ServiceRegistryBIRTReport servlet.

In the case of a cluster with IBM HTTP Server or other reverse proxy at the front, the WSRRReportViewer contacts the IBM HTTP Server to contact the ServiceRegistryBIRTReport. When security is enabled, the communications are done using Secure Sockets Layer (SSL). When SSL certificates are self-signed, the cluster member which runs WSRRReportViewer does not have the signer certificate of the IBM HTTP Server, and therefore is unable to complete the SSL hand shake with the IBM HTTP Server. Therefore an error is recorded in the WebSphere Application Server logs and the report fails to render.


ENVIRONMENT
WebSphere Service Registry and Repository cluster with IBM HTTP Server or other transparent proxy front end, security enabled and self-signed SSL certificates.



RESOLVING THE PROBLEM
Import the SSL signer certificate of the IBM HTTP Server or reverse proxy into the WebSphere Application Server cell trust store. 

1. Log onto the deployment manager administrative console. 

2. Click Security -> SSL certificate and key management. 

3. Click Key stores and certificates. 

4. Click CellDefaultTrustStore. 

5. Click Signer certificates. 

6. Click Retrieve from port. 

7. In the Host field enter the host name of the IBM HTTP Server or reverse proxy. 

8. In the Port field enter the port of the IBM HTTP Server or reverse proxy. This is generally port 443 for the HTTPS protocol. 

9. In the Alias field enter a name for the IBM HTTP Server or reverse proxy. This name can contain any value. 

10. Click Retrieve signer information 

11. When the Retrieved signer information area is shown, click OK to save the certificate to the key store. 

12. Save your settings and synchronize them to all nodes in the Cell.