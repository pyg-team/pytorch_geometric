Title: IBM PJ38692: TABLE OVERFLOW FAILED WHEN HITTING 32K ROW LIMIT ON DB2 Z/OS - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  There were three issues identified in the course of testing
   table overflow on z/OS.
   
   The first was that z/OS does not support the ON UPDATE clause
   against table alters when setting up the relationship between
   the base table and the overflow table.  Since both ON DELETE and
   ON UPDATE clauses specified NO ACTION and NO ACTION is the
   default, we removed both clause from the alter statement.
   
   The second was this exception:  DB2 SQL Error: SQLCODE=-104,
   SQLSTATE=42601, SQLERRMC=<EMPTY>;CORRELATION NAME,
   DRIVER=3.50.152
   
   This was due to there not being a correlation name on a nested
   select statement used in table overflow scenarios and was
   corrected by adding a correlation name.
   
   A third issue was encountered whereby the temporary table used
   to store query results that did not have an adequate index and
   resulted in row length limits.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * DB2 z/OS Database users utilizing table slicing and XML      *
   * property mapping scripts.                                    *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * Getting the list of property mapping scripts from a document *
   * class definition could cause a database error.  Because the  *
   * sort is not using an existing index, a temp table may be     *
   * used, and the rowlength will be exceeded if slicing is in    *
   * use.                                                         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Upgrade to 5.0.0.1-P8CE-FP001 or higher.                     *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  5.0.0.1-P8CE-FP001 and higher will resolve this issue.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PJ38692
   
   
 * REPORTED COMPONENT NAME
   CONTENT ENGINE
   
   
 * REPORTED COMPONENT ID
   5724R8101
   
   
 * REPORTED RELEASE
   500
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-02-17
   
   
 * CLOSED DATE
   2012-07-27
   
   
 * LAST MODIFIED DATE
   2012-07-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CONTENT ENGINE
   
   
 * FIXED COMPONENT ID
   5724R8101
   
   

APPLICABLE COMPONENT LEVELS
 * R500 PSY
   UP