Title: IBM PH00087: UNABLE TO RUN R COMMANDS WITHIN STATISTICS SUBSCRIPTION RELEASE 1.0.0.1012 ON WINDOWS 10 64 BIT, ERROR # 6887 - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  IBM SPSS Subscription release 1.0.0.1012
   
   Platform & Components:
   Windows 10 64 bit
   R 3.3.3 for Windows 64 bit
   
   Steps to Reproduce
   
   A)  Download R 3.3.3 on your Windows 10 Client machine
       R is available from http://www.r-project.org/. [http://www.r-project.org/.]
       For example, download R 3.3.3 from:
       https://cran.cnr.berkeley.edu/bin/windows/base/old/3.3.3/ [https://cran.cnr.berkeley.edu/bin/windows/base/old/3.3.3/]
   
   B)  Install R-3.3.3-win.exe as administrator
   
   C) Configuration on SPSS Subscription:
   
   Start the Subscription client on your workstation, and then open
   the Extension Hub dialog (located under the ?Extensions? menu).
   Select "STATS R33 CONFIGURATION" from the ?extensions? list.
   After you downloaded the above *.spe file on Settings tab now
   select ?Download and install selected extensions and updates?
   and install STATS_R33_CONFIGURATION on your Subscription
   install.
   Next, accept the terms in the license agreement and click
   Finish.
   
   D)  After installation, the "R3.3 Configuration" menu item
   displays under the "Extensions" menu
       Click on this menu and define the R home directory. If you
   have installed R on default path the location is: C:\Program
   Files\R\R-3.3.3
   
   Output commands:
   
   EXTENSION /SPECIFICATION
   COMMAND='C:\ProgramData\IBM\SPSS\Statistics\Subscription\extensi
   ons\STATS_R33_CONFIGURATION.xml'.
   
   STATS R33 CONFIGURATION bundle successfully installed.
   Dialog(s) for STATS R33 CONFIGURATION extension installed to:
   Extensions>R3.3 Configuration
   
   Extension file(s) installed to:
   C:\ProgramData\IBM\SPSS\Statistics\Subscription\extensions
   Dialog file(s) installed to:
   C:\ProgramData\IBM\SPSS\Statistics\Subscription\CustomDialogs
   
   STATS R33 CONFIGURATION R_HOME="C:\Program Files\R\R-3.3.3".
   
    E)  Next , open a new Syntax Window on Subscription and run
   simple R code:
   
   begin Program R.
   print ("hello")
   end program.
   
   Current Behaviour:
   
   This is not working. You get below error:
   
   begin Program R.
   print ("hello")
   end program.
   
   Error # 6887. Command name: begin Program
   External program failed during initialization.
   Execution of this command stops.
   The spss package could not be loaded. Please make sure that
   Essentials for R has been successfully installed.
   
   
   WORKAROUND:
   The installation of SPSS Subscription version 1.0.0.1012 and R
   3.3.3 was done as local administrator on Windows 10 64 bit
   (member of local administrator group)
   On intitial installation the content of spssdxcfg.ini on
   C:\Program Files\IBM\SPSS\Statistics\Subscription is as follows
   for VERSION
   SpssdxVersion=26.0
   SpssdxVersionMajor=26
   SpssdxVersionMinor=0
   
   All were instaled as local admin.
   The folders
   spss250
   and
   spssstatistics
   are installed to user Documents folder:
   
   C:\Users\<USERNAME>\Documents\R\win-library\3.3
   
   they are NOT installed to R library even installed as
   administrator
   C:\Program Files\R\R-3.3.3\library
   
   The workaround that works for Subscription release 1.0.0.1012 is
   now as follows:
   
   - Close SPSS Subscription
   - Open spssdxcfg.ini in Wordpad as administrator.
   
   - Change Version info to release 25:
   
   [version]
   SpssdxVersion=25.0
   SpssdxVersionMajor=25
   SpssdxVersionMinor=0
   
   - Make sure on bottom of file no R Home is defined, should look
   like below:
   
   ; R Config Options
   [R]
   ; Library name of a R processor adapter on Windows
   LIB_NAME=InvokeR
   
   ; Installation directory of R
   ; For example:
   ; For Windows: HOME=C:\Program Files\R\R-3.2.1
   ; For Unix: HOME=/root/R-3.2.1/lib/R
   
   
   - Save spssdxcfg.ini with the changed version info on path
   C:\Program Files\IBM\SPSS\Statistics\Subscription
   
   - Go to Users folder
   C:\Users\<USERNAME>\Documents\R\win-library\3.3
   
   - DELETE the 2 folders spss250 and spssstatistics from this
   location.
   
   - Launch SPSS Subscription and click on Extensions - R 3.3
   configuration dialog
   - Define R home again with the path C:\Program Files\R\R-3.3.3.
   This will clean the installation of R plug in.
   
   - On output you should get:
   STATS R33 CONFIGURATION R_HOME="C:\Program Files\R\R-3.3.3".
   
   - Next, open a new syntax file and run:
   begin program R.
   print ("hello")
   end program.
   
   On Output you then should no longer get the error and the below
   text indicates that it works now:
   [1] "hello"
   
   Please note however that after that the folders are again
   installed to spss250 and spssstatistics
   C:\Users\<USERNAME>\Documents\R\win-library\3.3
   but with this workaround R will work with Subscription.
   
   
    
   
   

LOCAL FIX
 *  To be more specific, from upcoming Subscription release coming
   July 24 2018 on, R 3.5 is the only version supported for
   Subscription.
   Please see wiki text:
   https://github.com/IBMPredictiveAnalytics/R_Essentials_Statistic [https://github.com/IBMPredictiveAnalytics/R_Essentials_Statistic]
   s/wiki
   The STATS R33 CONFIGURATION works with Statistics version 25 and
   its fix packs. If you want to use R Plugin with the latest
   Statistics Subscription, you need to install STATS R35
   CONFIGURATION. R itself is available from
   http://www.r-project.org/. [http://www.r-project.org/.]
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * see APAR text                                                *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * see APAR text                                                *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * To be more specific, from upcoming Subscription release      *
   * coming July 24 2018 on, R 3.5 is the only version supported  *
   * for Subscription.                                            *
   * Please see wiki text:                                        *
   * https://github.com/IBMPredictiveAnalytics/R_Essentials_Stati *
   * stics/wiki                                                   *
   * The STATS R33 CONFIGURATION works with Statistics version 25 *
   * and its fix packs. If you want to use R Plugin with the      *
   * latest Statistics Subscription, you need to install STATS    *
   * R35 CONFIGURATION. R itself is available from                *
   * http://www.r-project.org/.                                   *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  see above
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PH00087
   
   
 * REPORTED COMPONENT NAME
   SPSS STATISTICS
   
   
 * REPORTED COMPONENT ID
   5725A54ST
   
   
 * REPORTED RELEASE
   P00
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2018-07-04
   
   
 * CLOSED DATE
   2018-07-16
   
   
 * LAST MODIFIED DATE
   2018-07-16
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS