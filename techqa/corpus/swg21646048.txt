Title: IBM Cannot proceed with upgrade of Portal v8 additional node. Error message: "A WebSphere Portal profile was not detected..." - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 English 

PROBLEM
Cannot proceed with the upgrade of Portal 8.0.0.0 to 8.0.0.1 on the additional node in a cluster. Installation Manager fails on verifying credentials for the Portal profile.

SYMPTOM
This problem occurred during the upgrade of Portal v8. In the Installation Manager, the validation of credentials was successful for the primary node, and the upgrade proceeded and finished. However, when the upgrade for the secondary node was done, the validation of credentials failed with an error message: (see screenshot.)
[/support/docview.wss?uid=swg21646048&aid=1] [/support/docview.wss?uid=swg21646048&aid=1]
Apparently, the Installation Manager cannot find the portal profile associated with the secondary node.


CAUSE
The upgrade code running on the Installation Manger expects forward slashes for the path to directory of the Portal profile. It will not accept backslashes. Hence, Installation Manager can't find the Portal profile and verifying of credentials will fail


ENVIRONMENT
WebSphere Portal v8.0.0.0; Operating System: Windows



DIAGNOSING THE PROBLEM
 As stated in the error message, check if the wps.properties file correctly references the profile. Look for the following properties: 

 - ProfileName = <your profile name>, e.g. wp_profile 

 - ProfileDirectory = <your profile directory>, e.g. /opt/IBM/WebSphere/wp_profile 

If the following properties do not exist, then they need to be added. Checking the wps.properties file for the secondary node, the two properties exist. Comparing it to the wps.properties file on the primary node, it was noticed that the path to the Portal profile for the primary node is using forward slashes, but the secondary node is using backward slashes.

(Primary Node) ProfileDirectory is: C:/Program Files (x86)/IBM/WebSphere/wp_profile 

(Secondary Node) ProfileDirectory is: C:\Portal_2\IBM\WebSphere\wp_profile 

*Note: ProfileDirectory paths may vary depending on customer preference.



RESOLVING THE PROBLEM
Installation Manager expects forward slashes for the directory paths, to correct this: 

1. Change the path to the Portal profile to use forward slashes instead of back slashes. 

From C:\Portal_2\IBM\WebSphere\wp_profile to C:/Portal_2/IBM/WebSphere/wp_profile 

2. Save the wps.properties file and Run Validate Credentials again (or click Recheck Status) 

3. It should validate successfully and let you proceed with the upgrade.