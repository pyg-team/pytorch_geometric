Title: IBM How can I configure two repositories with the same LDAP suffix? - United States

Text:
base entry; ldap suffix; multiple repositories; VMM; realm TECHNOTE (FAQ)

QUESTION
 I installed WebSphere Portal 6.1. If I have two LDAP servers with the same suffix, how can I configure the federated repositories such that both can be added to the same realm and avoid ambiguity? 

ANSWER

The goal can be achieve using the "name" property of the base entries in the repositories and realms. 

Assume LDAP 1 is an IBM Tivoli Directory Server, LDAP 2 a Microsoft Active Directory 2003, and both of the LDAP servers have naming contexts "dc=example,dc=com". 

You need to run ConfigEngine task "wp-create-base-entry" or "wp-update-base-entry", depending on whether the base entry already exists in the repository definition. The following three parameters in wkplc.properties are needed. 

id= 

baseDN= 

nameInRepository= 

Typically, you would set baseDN and nameInRepository to the same value, i.e. the suffix "dc=example,dc=com". However, this is not a requirement. In this case, they need to be different in order to achieve unique nameInRepository values. If they were identical, they could not be added to the same realm. 

Perform the following steps: 

1. When you run the task on IBM Tivoli Directory Server repository, you specify 

id=ITDS01 

baseDN=o=itdsBase 

nameInRepository=dc=example,dc=com 

where "ITDS01" refers to the repository ID you specified when running ConfigEngine task "wp-create-ldap". After this task, you will find the following in wimconfig.xml, 


<config:baseEntries name="o=itdsBase" nameInRepository="dc=example,dc=com"/> 




2. When you run the task on Microsoft Active Directory, specify 

id=MSAD02 

baseDN=o=msadBase 

nameInRepository=dc=example,dc=com 

Similarly, "MSAD02" is the repository ID used when the Active Directory was added. You will see the following in the repository for MSAD, in wimconfig.xml 


<config:baseEntries name="o=msadBase" nameInRepository="dc=example,dc=com"/> 




3. Run ConfigEngine task "wp-add-realm-baseentry" once with the following, 

realmName=defaultWIMFileBasedRealm 

addBaseEntry=o=itdsBase 

and the second time with 

realmName=defaultWIMFileBasedRealm 

addBaseEntry=o=msadBase 

After these two runs, you can find the following in the "realmConfiguration" section in wimconfig.xml:

<config:realmConfiguration defaultRealm="defaultWIMFileBasedRealm">
<config:realms delimiter="/" name="defaultWIMFileBasedRealm" securityUse="active" allowOperationIfReposDown="true">
<config:participatingBaseEntries name="o=defaultWIMFileBasedRealm"/>
<config:participatingBaseEntries name="o=itdsBase"/>
<config:participatingBaseEntries name="o=msadBase"/> 




With this configuration, there is no ambiguity between the two LDAP servers. 

 


Cross reference information Segment Product Component Platform Version Edition Organizational Productivity- Portals & Collaboration WebSphere Portal End of Support Products AIX, HP-UX, IBM i, Linux, Solaris, Windows, z/OS 7.0, 6.1