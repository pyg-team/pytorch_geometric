Title: IBM IZ78066: Prochandle can consume lots of address space (Virtual Bytes) rap idly on Win 2000/XP/2003. - United States

Text:
  READMES ARE AVAILABLE
IBM Tivoli 4.0.0-TIV-SSM-FP0010 [http://www-01.ibm.com/support/docview.wss?uid=isg400000146]
IBM Tivoli 4.0.0-TIV-SSM-FP0011 [http://www-01.ibm.com/support/docview.wss?uid=isg400000348]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PERMANENT RESTRICTION.
    
   
   

ERROR DESCRIPTION
 *  Prochandle can consume lots of address space (Virtual Bytes)
   rapidly on Win 2000/XP/2003.
   
   This can be observed as a significant memory leak using any
   tool. However, it is most clearly visible by watching Virtual
   Bytes in the Windows perfmon (Performance Monitor) tool.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Users of the prochandle subagent on NT 5.x Windows versions:
   2000, XP and 2003.
   ****************************************************************
   PROBLEM DESCRIPTION:
   Prochandle can consume lots of address space (Virtual Bytes)
   rapidly on Windows 2000/XP/2003. This leads to unpredictable
   behaviour in the SSM and machine.
   ****************************************************************
   RECOMMENDATION:
   Upgrade to a newer version of Windows; or
   Don't use prochandle on Windows 2000, XP or 2003; or
   If you must use prochandle on these systems then use a very
   large (infrequent) sample interval.
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Unfortunately this leak is a documented feature of Windows
   2000/XP and 2003:
   http://msdn.microsoft.com/en-us/library/ms686717(VS.85).aspx [http://msdn.microsoft.com/en-us/library/ms686717(VS.85).aspx]
   
   Prochandle requires the TerminateThread function to kill hung
   threads (which are not predictable) when querying handles of
   other processes. If the SSM doesn't kill the hung threads, then
   it would have a leak on all versions of Windows. If we don't
   attempt the system calls that sometimes hang, then prochandle
   fails to return any data at all.
   
   As this is something that only affects very old versions of
   Windows, it will not be fixed. The only alternative is to
   remove prochandle functionality on Windows 2000, XP and 2003
   such that it never returns any data. Right now if a user wants
   data once-off or infrequently prochandle is still functional,
   and the leak is easily controllable by toggling the prochandle
   control row.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ78066
   
   
 * REPORTED COMPONENT NAME
   NETCOOL SYS SVC
   
   
 * REPORTED COMPONENT ID
   5724P4300
   
   
 * REPORTED RELEASE
   400
   
   
 * STATUS
   CLOSED PRS
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-06-24
   
   
 * CLOSED DATE
   2010-07-02
   
   
 * LAST MODIFIED DATE
   2010-07-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS