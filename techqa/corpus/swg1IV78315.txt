Title: IBM IV78315: INCORRECT PERCENTAGES REPORTED BY LINUX NFS STATISTICS - United States

Text:
  FIXES ARE AVAILABLE
IBM Tivoli Monitoring: Linux(R) OS Agent 6.3.0.5-TIV-ITM_LINUX-IF0003 [http://www-01.ibm.com/support/docview.wss?uid=swg24041924]
IBM Tivoli Monitoring 6.3.0 Fix Pack 7 (6.3.0-TIV-ITM-FP0007) [http://www-01.ibm.com/support/docview.wss?uid=swg24041633]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Problem:
   All of the attributes defined as percentages in the Linux NFS
    Statistics group, like Get Attribute Calls Percent, may report
    incorrect values because of possible overflows during their
    computation.
   
   Affected Platforms / Versions:
    This issue affects all the Linux OS versions, and all of the
    Linux OS agent versions since 6.21
   
   Diagnostics:
    set KBB_RAS1=ERROR (UNIT:kralz17 ALL) and look for entries
    like:
   (5628B64B.01E2-8:kralz17b.cpp,416,"PrintSelf")
   nfsgetatt=523153240
   (5628B64B.01E3-8:kralz17b.cpp,417,"PrintSelf") getattpct=1
   (5628B64B.0210-8:kralz17b.cpp,462,"PrintSelf") nfstot=609174995
   
   where clearly the pct values does not match with the ratio
   between absolute values (nfsgetatt over nfstot).
   
   Initial Impact:
    Medium, situations based on these attributes will improperly
   trigger
    or not trigger as they should.
   
   Additional Keywords:
   KLZNFS, NULLPCT,GETATTPCT, SETATTPCT, NFSROOTPCT, LOOKUPPCT,
   RDLINKPCT, READPCT, WRCACHPCT, NFSWRTPCT, CREATESPCT,
   REMOVEPCT, RENMPCT, LINKPCT, SYMLNKPCT, MKDIRPCT, RMDIRPCT,
   RDDIRPCT, FSSTATPCT, ACCSSPCT, MKNODPCT, RDIRPLSPCT, FSINFOPCT,
   PTHCONFPCT, COMMITPCT
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Incorrect percentages in the Linux NFS Statistics attribute
   group
   
   
   All of the attributes defined as percentages in the Linux NFS
   Statistics attribute group of the Monitoring Agent for Linux OS,
   like Get Attribute Calls Percent, may report negative or huge
   values because of possible 32 bit integer overflows during their
   computation.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Code fixed to avoid overflows.
   
   The fix for this APAR will be contained in the following
   maintenance packages:
   
   | FixPack    | 6.3.0-TIV-ITM-FP0007
   | InterimFix | 6.3.0.5-TIV-ITM_LINUX-IF0003
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV78315
   
   
 * REPORTED COMPONENT NAME
   ITM AGENT LINUX
   
   
 * REPORTED COMPONENT ID
   5724C04LN
   
   
 * REPORTED RELEASE
   630
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-10-23
   
   
 * CLOSED DATE
   2016-03-21
   
   
 * LAST MODIFIED DATE
   2017-01-06
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITM AGENT LINUX
   
   
 * FIXED COMPONENT ID
   5724C04LN
   
   

APPLICABLE COMPONENT LEVELS
 * R622 PSY
   UP
   
   
 * R623 PSY
   UP
   
   
 * R630 PSY
   UP
   
   
 * R610 PSN
   UP
   
   
 * R620 PSN
   UP
   
   
 * R621 PSN
   UP