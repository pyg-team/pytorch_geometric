Title: IBM Web Query 2.x.x Tracing - alternate view - United States

Text:
WebQuery ReportBroker IBM_i DB_TechNote TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document provides a "table view" on Web Query 2.x.x traces. 

RESOLVING THE PROBLEM
This document provides a "table view" on Web Query 2.x.x traces. 

Web Query 2.1.x traces are needed for some issues.

MustGather: DB2 Web Query for IBM i Issues - Release 2.x.xhttp://www.ibm.com/support/docview.wss?uid=nas8N1010690 [http://www.ibm.com/support/docview.wss?uid=nas8N1010690]
is the main document on those traces, but some customer find that this TechNote is easier to follow for "Step III. Gather trace data" section of that document.

Also consider recording your actions via a "movie" - http://www.ibm.com/support/docview.wss?uid=nas8N1020974 [http://www.ibm.com/support/docview.wss?uid=nas8N1020974]

Note: There will be three different Web pages going during tracing. Steps 1, 2 and 3 each have a separate Web browser page/tab.



[/support/docview.wss?uid=nas8N1010503&amp;aid=1] Recreate Client Tracing Server Tracing [/support/docview.wss?uid=nas8N1010503&amp;aid=1] Internet Explorer or Firefox Firefox or Internet Explorer

Note: Use a different browser than the "Re-create" column, but can be the same as the "Server Tracing" browser Firefox or Internet Explorer

Note: Use a different browser than the "Re-create" column, but can be the same as the "Client Tracing" browser 1. Position one click away from creating the error (in other words, open the procedure that errors, run it to confirm it still errors, and be ready to click one time to reproduce the error). [/support/docview.wss?uid=nas8N1010503&amp;aid=1] [/support/docview.wss?uid=nas8N1010503&amp;aid=1] 2. [/support/docview.wss?uid=nas8N1010503&amp;aid=1] a. Log in as an administrator (for example, QWQADMIN) to the BI Portal.

BI Portal example URL [/support/docview.wss?uid=nas8N1010503&amp;aid=2]


b. On the top right side, select Administration, and then select Administration Console. This will bring up the Web Query Administration Console in a separate window.

c. On left hand side, you will see a function tree. Click Diagnostics, and then click WFServlet (under Traces).

d. Delete all old traces by clicking Select all, and then click Delete. (Both are at the bottom of the screen.)

e. Click Trace On (which is at the top). 

Note: Do not close this browser session because it will be used again.

Note for step c: Usually we will want WFServlet. 
However sometimes we may need something different - for example Web Services for RAX issues or Report Broker for scheduling issues [/support/docview.wss?uid=nas8N1010503&amp;aid=1] 3. [/support/docview.wss?uid=nas8N1010503&amp;aid=1] [/support/docview.wss?uid=nas8N1010503&amp;aid=1] a. Log in as an administrator (for example, QWQADMIN) to the Server Web Console

Server Web Console example URL [/support/docview.wss?uid=nas8N1010503&amp;aid=3]


- this is the Server Web Console. Also referred to as Web Console and Reporting Server Console

b. After signing on as an administrator, you will see a tool bar across the top. Click "Workspace" 

c. On the left hand side, you will see a function tree. Expand Logs and Traces. Right click Traces and then right click Enable Traces. 

Note: Do not close this browser session because it will be used again. 4. Reproduce the error by clicking the 1-click reproduction set up by Step 1. 

Note: If you receive an Access Denied error, sign in again. [/support/docview.wss?uid=nas8N1010503&amp;aid=1] [/support/docview.wss?uid=nas8N1010503&amp;aid=1] 5. [/support/docview.wss?uid=nas8N1010503&amp;aid=1] Under diagnostics, WFServlet, click Trace Off. Under Workspace, click Disable Traces. 6. [/support/docview.wss?uid=nas8N1010503&amp;aid=1] The WFServlet (Client) traces will be located in the following:

/QIBM/UserData/qwebqry/base80/logs

There may be multiple files. 

Using iNavigator is the easiest method, using File Systems -> Integrated File System -> Root -> QIBM. 

Copy all the files with the same date and time as when the trace was run to your PC - include the event.log every time.. You can bundle the Server traces using the savediag feature. Return to the browser window from Step 3.

i. Under Workspace, Logs and Traces, right click Workspace Logs, and select Savediag - Report a Bug.
ii. Change Diagnostics Options to Save Diagnostics (savediag).
iii. Leave Copy files from catalog to savediag as Yes.
iv. Note the directory provided for Savediag Directory.
v. Leave List of Applications (you can change it if you would like to).
vi. Press Submit. This will do the bundling. After a few seconds/minutes, you will see a Savediag log.
vii. Scroll to the bottom, and you will see a message similar to the following:

.... Diagnostic directory has been compressed as ...

Then you will be able to use iNavigator to find it using File Systems -> Integrated File System -> Root -> QIBM and copy to your PC. 7 [/support/docview.wss?uid=nas8N1010503&amp;aid=1] 1. Zip the files.
2. http://www.ecurep.ibm.com/app/upload [http://www.ecurep.ibm.com/app/upload]. 

Note: Upload is for: OS/400.

If you do not have a PMR number yet, you should wait on this step until you have one. 1. Zip the files.
2. http://www.ecurep.ibm.com/app/upload [http://www.ecurep.ibm.com/app/upload]. 

Note: Upload is for: OS/400.

If you do not have a PMR number yet, you should wait on this step until you have one. 

HISTORICAL NUMBER
 661889509