Title: IBM PM60124: A LOGICAL UNLOAD WITH A WHERE CLAUSE HAVING AN IN PREDICATE ON CHAR DATA RETURNS AN INCORRECT NUMBER OF ROWS. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A logical unload with a WHERE clause having an IN predicate on
   CHAR data returns an incorrect number of rows.
   
   This occurs only if one of the items of the IN predicate has
   trailing blanks as in the following example:
   
   UNLOAD TABLESPACE
   QUIESCE NO
   DB2 NO
   SELECT NAME
   FROM SYSIBM.SYSPACKAGE
   WHERE NAME IN (
                  'ADB27AC ' ,
                  'ADB27SP' ,
                  'ADB2CHK' ,
                  'ADB2CID' ,
                  'ADB2CON' ,
                  'ADB2REP'
                 )
   OUTDDN (UNLDDN1)
   FORMAT DSNTIAUL STRICT ;
   
   PB11487
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Users of DB2 High Performance Unload.        *
   ****************************************************************
   * PROBLEM DESCRIPTION: A logical unload with a WHERE clause    *
   *                      having an IN predicate on char data     *
   *                      returns an incorrect number of rows.    *
   *                      This occurs only if the table encoding  *
   *                      scheme is not EBCDIC and at least one   *
   *                      of the items of the IN predicate has    *
   *                      trailing blanks as in the following     *
   *                      example:                                *
   *                      UNLOAD TABLESPACE                       *
   *                      QUIESCE NO                              *
   *                      DB2 NO                                  *
   *                      SELECT NAME                             *
   *                      FROM SYSIBM.SYSPACKAGE                  *
   *                      WHERE NAME IN (                         *
   *                                    'ADB27AC ' ,              *
   *                                    'ADB27SP' ,               *
   *                                    'ADB2CHK' ,               *
   *                                    'ADB2CID' ,               *
   *                                    'ADB2CON' ,               *
   *                                    'ADB2REP'                 *
   *                                   )                          *
   *                      OUTDDN (UNLDDN1)                        *
   *                      FORMAT DSNTIAUL STRICT ;                *
   *                      PB 11487                                *
   ****************************************************************
   * RECOMMENDATION: APPLY the PTF.                               *
   ****************************************************************
   ocher and inode modules were changed to remove the trailing
   blanks before comparing the values involved in the IN predicate.
   
   
    
   
   

PROBLEM CONCLUSION
 *  APPLY the PTF.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM60124
   
   
 * REPORTED COMPONENT NAME
   DB2 HI PERF UNL
   
   
 * REPORTED COMPONENT ID
   5697F4400
   
   
 * REPORTED RELEASE
   410
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-03-09
   
   
 * CLOSED DATE
   2012-04-06
   
   
 * LAST MODIFIED DATE
   2012-05-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK77749 UK77750
   
   

MODULES/MACROS
 *     INZRSAVE INZTPMEM INZUTILK INZUTILX INZUTISK
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 HI PERF UNL
   
   
 * FIXED COMPONENT ID
   5697F4400
   
   

APPLICABLE COMPONENT LEVELS
 * R320 PSY UK77749 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK77749]
   UP12/04/12 P F204
   
   
 * R410 PSY UK77750 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK77750]
   UP12/04/12 P F204
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.