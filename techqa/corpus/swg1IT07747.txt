Title: IBM IT07747: IMPROVE WEBSPHERE MQ V7.0.1 AND V7.1 CLASSES FOR JAVA AND CLASSES FOR JMS TRACE - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The trace facilities provided by the WebSphere MQ V7.0.1 and
   V7.1 classes for Java and classes for JMS are used by the IBM
   Support Organization to diagnose customer issues. The
   information in the trace files about the internal WebSphere MQ
   structures that are sent to, and are received from, a queue
   manager is difficult to interpret, which increases the time
   taken to perform the diagnosis and provide a resolution.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   This issue affects two categories of user:
   
   Category 1:
   --------------------
   Users of:
   
   - The WebSphere MQ V7.0.1 classes for JMS.
   - The WebSphere MQ V7.0.1 classes for Java
   - The WebSphere MQ V7.0.1 OSGi bundles.
   - The WebSphere MQ V7.0.1 Resource Adapter.
   
   - The WebSphere MQ V7.1 classes for JMS.
   - The WebSphere MQ V7.1 classes for Java
   - The WebSphere MQ V7.1 OSGi bundles.
   - The WebSphere MQ V7.1 Resource Adapter.
   
   who are asked by the IBM Support Organization to collect a
   WebSphere MQ classes for Java, WebSphere MQ classes for JMS or
   WebSphere MQ Resource Adapter trace.
   
   Category 2:
   --------------------
   Users of:
   
   - The WebSphere Application Server V7.0 WebSphere MQ messaging
   provider.
   - The WebSphere Application Server V8.0 WebSphere MQ messaging
   provider.
   - The WebSphere Application Server V8.5 WebSphere MQ messaging
   provider.
   
   who are asked by the IBM Support Organization to collect a
   WebSphere Application Server JMS trace for issues where
   applications running inside of the application server are
   connecting to WebSphere MQ.
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   Trace files generated by the WebSphere MQ classes for Java, the
   WebSphere MQ classes for JMS, the WebSphere MQ resource adapter
   and the WebSphere Application Server WebSphere MQ messaging
   provider contain information about the various WebSphere MQ
   structures that are passed to, and received from, a queue
   manager. A number of these structures, such as the
   GetMessageOptions, have an options field in them, which control
   the behaviour of the WebSphere MQ API call that uses that
   structure.
   
   When the options field was traced out, it appeared as an integer
   number, which needs to be manually decoded in order to work out
   the actual options that are being used.
   
   For example, the trace point:
   
   c.i.mq.jmqi.MQCNO ----+---- d getOptions() getter [64]
   
   showed that the options field for an instance of an MQCNO
   structure was being set to the value 64. The value 64 actually
   represented MQCNO_HANDLE_SHARE_BLOCK. However, this was not
   obvious from the trace.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The options fields in the internal WebSphere MQ structures that
   are sent to, and received from, a queue manager are now
   displayed using the strings representing the options that have
   been set, rather than the integer value that represent the
   options. For example, the trace point mentioned in the Problem
   Summary:
   
   c.i.mq.jmqi.MQCNO ----+---- d getOptions() getter [64]
   
   now appears as:
   
   c.i.mq.jmqi.MQCNO ----+---- d getOptions() getter
     [64 (0x40) - MQCNO_HANDLE_SHARE_BLOCK]
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v7.0       7.0.1.14
   v7.1       7.1.0.7
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT07747
   
   
 * REPORTED COMPONENT NAME
   WMQ WINDOWS V7
   
   
 * REPORTED COMPONENT ID
   5724H7220
   
   
 * REPORTED RELEASE
   701
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-03-17
   
   
 * CLOSED DATE
   2015-06-22
   
   
 * LAST MODIFIED DATE
   2015-06-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ WINDOWS V7
   
   
 * FIXED COMPONENT ID
   5724H7220
   
   

APPLICABLE COMPONENT LEVELS
 * R701 PSY
   UP