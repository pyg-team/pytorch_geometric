Title: IBM Timeout occurs when attempting to cache code table values - United States

Text:
hang; timeout; cache TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Before you use the MDM Party Maintenance process application, you must cache the code tables from the MDM operational server into the IBM Business Process Manager (BPM)

When doing this from the IBM BPM Process Admin Console you click OK but never get a response. 
After further inspection you see timeout errors in the BPM logs: 
[05/05/16 16:02:53:227 EDT] 0000011d SOAPOverHTTPS E WSWS7263E: The following exception occured: java.net.SocketTimeoutException: Async operation timed out
at com.ibm.ws.tcp.channel.impl.AioTCPReadRequestContextImpl.processSyncReadRequest(AioTCPReadRequestContextImpl.java:191)
at com.ibm.ws.tcp.channel.impl.TCPReadRequestContextImpl.read(TCPReadRequestContextImpl.java:111)
...

On the MDM logs you will also see errors: 
[05/05/16 15:59:53:205 EDT] 0000004c TimeoutManage I WTRN0124I: When the timeout occurred the thread with which the transaction is, or was most recently, associated was Thread[WebContainer : 0,5,main]. The stack trace of this thread when the timeout occurred was: 
java.lang.Long.stringSize(Long.java:343)
java.lang.Long.toString(Long.java:278)
java.lang.Long.toString(Long.java:776)
com.ibm.mdm.common.codetype.obj.NLSCodeTypeAdminBObj.getlang_tp_cd(NLSCodeTypeAdminBObj.java:70)
com.ibm.mdm.common.codetype.component.CodeTypeFallbackCollection.putCodeType(CodeTypeFallbackCollection.java:261)
com.ibm.mdm.common.codetype.component.CodeTypeFallbackCollection.<init>(CodeTypeFallbackCollection.java:100)
com.ibm.mdm.common.codetype.component.CodeTypeComponentHelperImpl.readCache(CodeTypeComponentHelperImpl.java:200)
com.ibm.mdm.common.codetype.component.CodeTypeComponentHelperImpl2.readCache(CodeTypeComponentHelperImpl2.java:74)
com.ibm.mdm.common.codetype.component.CodeTypeComponentHelperImpl.getAllCodeTypes(CodeTypeComponentHelperImpl.java:447)
com.ibm.mdm.common.codetype.component.CodeTypeComponentImpl.handleGetAllCodeTypes(CodeTypeComponentImpl.java:140) 

CAUSE
The MDM server is timing out as there are too many languages enabled for code tables. 

RESOLVING THE PROBLEM
In order to resolve the issue disable all languages that are not required. 


To check which languages are enabled, inspect the CDLANGTP table:
select * from cdLangtp where code_table_translation = 'Y';

To disable languages, run the SQL statement below: 
update cdLangtp set code_table_translation='N', last_update_dt=current_timestamp where lang_tp_cd in (<list of unwanted lang_tp_cd>);

update db2admin.cdLangtp set code_table_translation='Y', last_update_dt=current_timestamp where lang_tp_cd in (200, 300, 400);

or 

update cdLangtp set code_table_translation='Y', last_update_dt=current_timestamp where lang_tp_cd > 200;

Ensure to restart the MDM application server and attempt to cache the code tables again on the BPM side. 



PRODUCT ALIAS/SYNONYM
 MDM
MDMAE
MDM Server
InfoSphere MDM Server 
InfoSphere Master Data Management Server
IBM InfoSphere Master Data Management Server
ISC
IBM Stewardship Center
BPM
Business Process Manager