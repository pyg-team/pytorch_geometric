Title: IBM How to use JNDI clean up Scripts in 7.11? - United States

Text:
Installation; STERLINGHTG TECHNOTE (FAQ)

QUESTION
 How to use JNDI clean up Scripts in 7.11? 

ANSWER


Purpose of using JNDI clean up Scripts MCF v7.11 supports JNDI clean up Script. Higher versions of the Sterling Application do not support this script. The JNDI registry records an entry for each Application server (Weblogic or JBoss) and each Sterling Supply Chain Applications (SSCA) Agent/Integration (A/I) server that starts up. When the SSCA A/I server shuts down, then the Application server removes the corresponding entry from the JNDI registry. However when the SSCA A/I server ends abruptly (or whenever the application server ends), then the corresponding entry remains in the JNDI registry, even though it no longer points to a valid running server. These pointers to servers that are no longer running are known as "stale entries." Stale entries may cause significant slowdown when managing servers through the System Administration Console and when broadcasting cache updates of configuration changes from the Sterling Configurator. To eliminate stale entries from the JNDI tree, the SSCA attempts to remove them during the initialization phase of any server start up. On JBoss, this process can remove active entries as well as stale entries. This behavior may result in conditions ranging from benign (such as the inability to see a server in the System Administration Console) to potentially serious data integrity issues resulting from failed cache updates. SSCA supplies a script that enables to maintain an accurate JNDI registry. This script is extremely lightweight and does not require significant resources or separate sizing estimates. To maintain accurate entries in the JNDI registry and to remove stale entries do the following: 1. Modify the <YANTRA_HOME>/Applications/Foundation/resources/management.properties file and set the value of the jndi.nocleanup property to "false". For example, jndi.nocleanup=false or comment #jndi.nocleanup=true. 2. Ensure that the CLASSPATH environment variable includes the jnpserver.jar and jboss-common.jar files. 3. Schedule and run the <YANTRA_HOME>/Applications/Foundation/bin/jndicleanup.sh script. The above steps clean up the stale entries in JNDI. As a workaround, one can also run Health Monitor script. This will also clean the JNDI entries. 

HISTORICAL NUMBER
 HTG2262