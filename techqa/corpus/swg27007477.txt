Title: IBM WebSphere MQ V5.3 for Linux for Intel support for SUSE Linux Enterprise Server 9 (SLES9) - United States

Text:
SLES suse linux kernel setting requirement support information prereq prereqs requirement PRODUCT README

ABSTRACT
 This document provides information on using WebSphere MQ V5.3 for Linux for Intel on SUSE Linux Enterprise Server 9 (SLES9). 

CONTENT
 Support for SUSE Linux Enterprise Server 9 (SLES9)



 Testing of WebSphere MQ for Linux for Intel, V5.3 has been performed using SUSE Linux Enterprise Server 9 (SLES9).

Prerequisites of support for SLES9:

The following statements apply specifically to support of WebSphere MQ on SUSE Linux Enterprise Server 9. General support information for WebSphere MQ for Linux for Intel, V5.3 is available from:

http://www.ibm.com/support/docview.wss?uid=swg27006300 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006300]



 * Fix pack 9 or later must be applied to the WebSphere MQ installation 
 * The following JRE/JDKs are supported when running Javaâ„¢ applications and clients:
   
   IBM JRE/JDK 1.3.1-6 or later
   IBM JRE/JDK 1.4.1-1 or later 
 * The instructions in this document must be followed when installing WebSphere MQ on SLES9 (see Installation section below). 
 * The environment variable LD_ASSUME_KERNEL=2.4.19 (see NPTL section below) must be exported from any shell when,  * Any WebSphere MQ RPM packages are being installed, 
    * Any WebSphere MQ control commands are issued, or 
    * Any WebSphere MQ applications (including clients) are run.
   
   
 * When installing RPM packages the additional environment variable RPM_FORCE_NPTL=1 must be exported. 
 * Applications using the C++ Bindings for WebSphere MQ must be linked to the new libraries supplied in /opt/mqm/lib/3.3 in order to use the GCC 3.3 compiler and runtime libraries supplied with SLES9.  * Step 9 in the installation steps below makes these the default libraries for WebSphere MQ C++ applications.
   
   


NPTL: 

SUSE Linux Enterprise Server 9 has a Linux 2.6 kernel. This means the operating system includes the Native Linux Posix Thread Library (NPTL) threading implementation, which is NOT SUPPORTED by WebSphere MQ for Linux for Intel, V5.3. 

An environment variable is provided by the operating system to enable a LinuxThread threading implementation as required by WebSphere MQ. This environment variable is detailed in the release notes for SLES9, and must be set as follows for WebSphere MQ: LD_ASSUME_KERNEL=2.4.19 

WebSphere MQ requires that this environment variable is exported from any shell where installation is performed, WebSphere MQ control commands are issued or WebSphere MQ applications are executed. 

Commands executed during installation of WebSphere MQ RPM packages also require a LinuxThreads threading implementation, but the RPM command itself requires an NPTL threading implementation on these operating systems. As discussed in Red Hat advisory RHEA-2004:010-03, environment variables must be set as follows prior to installation of WebSphere MQ RPM packages: 

export LD_ASSUME_KERNEL=2.4.19 
export RPM_FORCE_NPTL=1 

** Notice ******************************************************
* *
* WebSphere MQ for Linux (x86), V6.0 supports both the *
* NPTL and LinuxThreads threading implementations. *
* *
* As such it is NOT AFFECTED by the issues described in *
* this section, and benefits from the increased performance *
* of the NPTL threading implementation. *
* *
**************************************************************** 

Installation: 
A replacement for mqlicense.sh shipped on the WebSphere MQ CDROM is supplied with this fix pack. It is called mqlicense_lnx.sh. It has the same parameters as mqlicense.sh but will run on SLES9. To run, it requires a version 1.4.1 JVM or later to be installed. 

The following process must be followed when installing WebSphere MQ for Linux for Intel on SLES9: 
 1. Extract the fix pack (9 or higher) to a known location. The location /tmp/csd9 is assumed in these instructions. 
 2. Become root. For example:
    
    su -
    
 3. Change directory to the location where the WebSphere MQ installation RPMs are available. For example: 
    
    cd /mnt/cdrom
    
 4. Export the environment variable JAVA_HOME to point to the location of an existing Java installation, which is compatible with SLES9. For example:
    
    export JAVA_HOME=/opt/IBMJava2-142  * If required an IBM JRE (version 1.4.2) is supplied with on the SLES9 installation media.
    
    
 5. Execute the mqlicense_lnx.sh script, and follow the on-screen instructions to accept the license. For example:
    
    /tmp/csd9/mqlicense_lnx.sh  * The working directory must remain as the WebSphere MQ installation root directory (not the location of the mqlicenses_lnx.sh script).
    
    
 6. Proceed with the installation of the required WebSphere MQ RPM packages, using the instructions in the Quick Beginnings Guide manual (for Server installs), which can be downloaded from this location if required:
    
    http://www-306.ibm.com/software/integration/wmq/library/library53.html [http://www-306.ibm.com/software/integration/wmq/library/library53.html]
    
    or the instructions in the Clients manual (for client installs). This manual can be found at this location if required:
    [http://www-306.ibm.com/software/integration/mqfamily/library/manualsa/manuals/crosslatest.html] [http://www-306.ibm.com/software/integration/mqfamily/library/manualsa/manuals/platspecific.html]
    http://www-306.ibm.com/software/integration/wmq/library/library53.html [http://www-306.ibm.com/software/integration/wmq/library/library53.html]
     * You must ensure that the following environment variables have been exported before proceeding with installation of the WebSphere MQ RPM packages: 
       
       export LD_ASSUME_KERNEL=2.4.19 
       export RPM_FORCE_NPTL=1
       
    
    
 7. Change directory to the location where the fix pack has been extracted. For example: 
    
    cd /tmp/csd9
    
 8. Proceed with the installation of the required fix pack RPM packages, using the instructions in the Quick Beginnings Guide.  * You must ensure that the following environment variables have been exported before proceeding with installation of the WebSphere MQ RPM packages: 
       
       export LD_ASSUME_KERNEL=2.4.19
       export RPM_FORCE_NPTL=1
    
    
 9. Execute the following command to create softlinks to the new C++ libraries installed by the fix pack for use with GCC 3.3 as supplied with SLES9:
    
    ln -sf /opt/mqm/lib/3.3/* /opt/mqm/lib


FAQ for SUSE Linux Enterprise Server 9 

This section contains solutions to possible problems you may encounter when installing or using WebSphere 5.3 on SLES9. 

Q1. During install of MQSeriesKeyMan-5.3.0-2.i386.rpm or gsk6bas-6.0-3.33.i386.rpm the following errors are seen: 

# rpm -ivh MQSeriesKeyMan-5.3.0-2.i386.rpm 
error: Failed dependencies: 
gsk6bas >= 6.0-3.33 is needed by MQSeriesKeyMan-5.3.0-2 
# rpm -ivh gsk6bas-6.0-3.33.i386.rpm MQSeriesKeyMan-5.3.0-2.i386.rpm 
error: Failed dependencies: 
libstdc++.so.3 is needed by gsk6bas-6.0-3.33 

A1. Before installing the GSKit product you must have version 3.0 of the GCC C++ runtime libraries installed. If you see the above message (or a similar message) you must install the appropriate GCC runtime libraries. 
 *  The version 3 GCC runtime libraries are only required if you want to take advantage of the SSL capabilities of WebSphere MQ provided in version 5.3. If you do not wish to use SSL with WebSphere MQ then you do not need to install the MQSeriesKeyMan or gsk6bas packages. 


Q2. When running a Java program on SLES9 the JVM traps giving an error message such as "Segmentation fault" or "Killed". This can also be seen when running 'java -version'. 

A2. This indicates that an unsupported Java JDK/JRE is being used, or that the LD_ASSUME_KERNEL=2.4.19 environment variable is not set, as is required for SLES9. Please see the Prerequisites of support for SLES9 section above for a list of IBM JDK/JRE versions which are supported for use with WebSphere MQ on SLES9. 




Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere MQ Express Linux 5.3 PRODUCT ALIAS/SYNONYM
 WMQ MQ