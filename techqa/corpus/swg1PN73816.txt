Title: IBM PN73816: INCORROUT WHEN SPECIFYING NESTED ELEMENTS IN SMFF - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  Incorrout output is received in certain cases using SMFF:
   The simplest example testcase they have looks like this:
   .sp 2i
   :df.
       <
         <SystemContainerTable larrow here SystemContainerTable>
       hvabove
         <here - { containerFor( o ) } semi>
       >
     lvabove
       <create( n ) semi >
   :edf.
   .
   What they expected in this case was for the <create( n ) semi>
   group to position itself as an element left aligned below the
   beginning of the <SystemContainerTable larrow here System-
   ContainerTable> element.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: ALL DCF MATHMETICAL FORMULA FORMATTER USERS  *
   ****************************************************************
   * PROBLEM DESCRIPTION: When attempting to combine              *
   *                      here alignment with other types of      *
   *                      alignment within a pile you             *
   *                      may get unexpected alignments.          *
   ****************************************************************
   * RECOMMENDATION: Apply the applicable PTF.                    *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The following new heading and information will be added to the
   "DCF SCRIPT: Mathematical Formula Formatter User's Guide
   (S544330600) in the section titled "Alignment Variants" on page
   18:
   
   COMPLEX ALIGNMENTS
   
   The alignment variants always work between nodes which are
   adjacent at the same level of the formula parse tree.  When
   combining alignments in piles with bracketed groups, it may be
   necessary to add elements to create additional nodes in the
   formula parse tree for proper alignment.  See page 40 for an
   explanation of formula parse trees.
   
   For example, the following formula will right align RE2 under
   < Leftexpression1 larrow Rightexpression1 > and left align
   < Leftexpression2 > beneath < RE2 >.
   
      <
        < Leftexpression1 larrow Rightexpression1 >
      rvabove
        <  RE2  >
      >
    lvabove
      < Leftexpression2  >
   
   The parse tree for the above formula looks like this:
   
   Parse Tree:
    A. Pile node:
        1. Sequence node:
            a. Body Text node: <Leftexpression1>
            b. Body Text node: (Font MATHS) < >
            c. Body Text node: <Rightexpression1>
        2. Body Text node: <RE2>
        3. Body Text node: <Leftexpression2>
   
   
   Node 3 will align under node 2.  To left align
   < Leftexpression2 > beneath
   < Leftexpression1 larrow Rightexpression1 > you need to create
   another node so that
   < Leftexpression1 larrow Rightexpression1 > is the immediate
   predecessor of < Leftexpression2 > at the same level of the
   tree.  The simplest way is to add another "here" element, like
   this:
   
      < here
        < Leftexpression1 larrow Rightexpression1 >
      rvabove
        <  RE2  >
      >
    lvabove
      < Leftexpression2  >
   
   That will change the formula parse tree to this:
   
   Parse Tree:
    A. Pile node:
        1. Sequence node:
            a. -HERE-
            b. Pile node:
                A) Sequence node:
                    1) Body Text node: <Leftexpression1>
                    2) Body Text node: (Font MATHS) < >
                    3) Body Text node: <Rightexpression1>
                B) Body Text node: <RE2>
        2. Body Text node: <Leftexpression2>
   
   Node 2 aligns under node 1 so we get the desired result.
   
   There are other ways to change the formula parse tree.  You
   could bracket your piles with "left <" and "right >", or make
   everything here-aligned.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PN73816
   
   
 * REPORTED COMPONENT NAME
   5748 DOC COMP F
   
   
 * REPORTED COMPONENT ID
   5748XX900
   
   
 * REPORTED RELEASE
   142
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   1995-07-21
   
   
 * CLOSED DATE
   1995-07-31
   
   
 * LAST MODIFIED DATE
   1995-07-31
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

Publications Referenced S544330600 FIX INFORMATION

APPLICABLE COMPONENT LEVELS