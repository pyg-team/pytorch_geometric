Title: IBM PM29096: EYU9XLOP DFHICXM ABENDEYUO ABENDACRI DSRTPGM ROUTING SHUTDOWN - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  You receive the following messages and abends during normal
   shutdown of your CICS target region if you use CICSPlex SM
   program EYU9XLOP for distributed routing for non-terminal
   EXEC CICS START requests.
   .
   DFHDU0203I mm/dd/yyyy hh:mm:ss applid A transaction dump was
              taken for dumpcode: EYUO, Dumpid: nn/nnnn.
   DFHRT4420 mm/dd/yyyy hh:mm:ss applid Abend ACRI in DFHICXM
             - Link to the distributed routing program failed.
   DFHRT4423 mm/dd/yyyy hh:mm:ss applid An error has occurred
             while attempting to invoke the distributed routing
             program.
   .
   The messages will occur for any transactions currently active
   after the CPSM agent has terminated.  If you have tasks
   already queued in a TRANCLASS, each task will receive the
   same messages during shutdown until the DFHCESD shutdown
   assist program runs to purge tasks.
   .
   Additional Symptom(s) Search Keyword(s): stop tclass dynamic
   router route
   KIXREVWJB
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICSPlex SM V3R2M0 Users                 *
   ****************************************************************
   * PROBLEM DESCRIPTION:    You receive the following messages   *
   *                      and abends during normal shutdown of    *
   *                      your CICS target region if you use the  *
   *                      CICSPlex SM program EYU9XLOP for dist-  *
   *                      ributed routing for non-terminal EXEC   *
   *                      CICS START requests.                    *
   *                      .                                       *
   *                         DFHDU0203I A transaction dump was    *
   *                                 taken for dumpcode: EYUO,    *
   *                                 Dumpid: nn/nnnn.             *
   *                         DFHRT4420  Abend ACRI in DFHICXM -   *
   *                                Link to the distributed       *
   *                                routing program failed.       *
   *                         DFHRT4423  An error has occurred     *
   *                                while attempting to invoke    *
   *                                the distributed routing       *
   *                                program.                      *
   *                      .                                       *
   *                      The messages will occur for any trans-  *
   *                      actions active after the CPSM agent has *
   *                      terminated.  If you have tasks queued   *
   *                      in a TRANCLASS, each task will receive  *
   *                      the same messages during shutdown until *
   *                      the DFHCESD shutdown assist program has *
   *                      run to purge tasks.                     *
   ****************************************************************
   * RECOMMENDATION: After applying the PTF that resolves this    *
   *                 APAR, all MASes configured as WLM routing    *
   *                 regions must be recycled to pick up the new  *
   *                 code.  Note that the restarts do not need    *
   *                 to be done at the same time.                 *
   ****************************************************************
      If the dynamic routing program (DTRPGM) or distributed
   routing program (DSRTPGM) are set to the CPSM routing program
   EYU9XLOP, transactions which are presented for routing after
   the CPSM MAS agent has terminated during CICS shutdown will
   abend because the environment required for the CPSM routing
   program no longer exists.
   
   
    
   
   

PROBLEM CONCLUSION
 *     Module EYU9NXTM, the CPSM shutdown program, has been modified
   to set a flag in the Kernel Linkage Work Area (XLWA) if it is
   invoked as a Task Related User Exit during CICS shutdown.  The
   MAS Special Processing Method EYU0NLSP (NLSP) was modified to
   set the DTRPROGRAM to DFHDYP and the DSRTPROGRAM to NONE if they
   were set to EYU9XLOP, when unregistering as a Workload Manager
   routing region, if the MAS Agent is terminating because the CICS
   region is shutting down.
      Note that message DFHRT4423 might still be issued one or more
   times on behalf of transactions which were inflight when the
   routing program was reset.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM29096
   
   
 * REPORTED COMPONENT NAME
   CICSTS V3 Z/OS
   
   
 * REPORTED COMPONENT ID
   5655M1500
   
   
 * REPORTED RELEASE
   50M
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-12-16
   
   
 * CLOSED DATE
   2011-01-10
   
   
 * LAST MODIFIED DATE
   2011-02-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM29074 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM29074] UK63799
   
   

MODULES/MACROS
 *     EYURXLWA EYUUNAEQ EYU0NLSP EYU9NXTM
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICSTS V3 Z/OS
   
   
 * FIXED COMPONENT ID
   5655M1500
   
   

APPLICABLE COMPONENT LEVELS
 * R50M PSY UK63799 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK63799]
   UP11/01/12 P F101
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.