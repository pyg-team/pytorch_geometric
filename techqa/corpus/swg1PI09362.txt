Title: IBM PI09362: DFHFC0999 : CICS NEVER RECONNECTS TO RLS FOLLOWING A DYNAMIC RLS RESTART. 14/01/22 PTF PECHANGE - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A CICS region remains up while the DFSMS RLS server is brought
   down and restarted. Dynamic RLS restart begins but does not
   end.  Access to RLS files from this CICS region remains
   disabled.
   .
   This CICS region issues the following message when dynamic RLS
   restart begins:
   .
   DFHFC0568I CICSPRD1 File control dynamic RLS restart has
   started.
   .
   But this CICS region never issues the message DFHFC0569I saying
   that dynamic RLS restart has ended.  And it never issue the
   message DFHFC0570 saying that RLS access is enabled.
   .
   In this state when there is an attempt to open an RLS file from
   this region, the following message is issued:
   .
   DFHFC0999 CICSPRD1 RLS OPEN of file FILERLS1 failed. RLS access
   is disabled.
   .
   Earlier in the log, this CICS region issued the following
   message:
   .
   DFHFC0001 CICSPRD1 An abend (code 058/AKEX) has occurred at
   offset X'4D7A' in module DFHFCRO.
   .
   
   In the DFHFC0001 dump you can see that this abend058 happened
   while a file ABCDFIL1 was being closed.
   .
   In a dump taken later, you can see that there is a CSFR task
   that is in a FCACWAIT *CTLACB* wait.  This task is waiting for
   all open RLS files to close.  In FC=3 you can find the FC
   Static area.  +3B8 into that is FC_RLS_ACB_CHAIN which is the
   anchor for a chain of open RLS files.  File ABCDFIL1, the file
   involved with the Close that resulted in abend058, is on that
   chain. Because of the abend while closing the file, the file
   will never completely close and CICS will never be able to
   reconnect to RLS.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS users with UI12536 applied.         *
   ****************************************************************
   * PROBLEM DESCRIPTION: PI05030 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI05030] / UI12536 did not ship its      *
   *                      intended code change.                   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The PTF build for PI05030 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI05030] / UI12536 failed to include the code
   change for the APAR and so did not resolve the reported
   problem.
   
   Additional keywords: AKEX abendAKEX msgDFHFC0001 DFHFC0001
                        FC0001 abend058 abend0D6 0D6 PK92828 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK92828]
                        0D5 FC_RLS_ACB_CHAIN
   
   
    
   
   

PROBLEM CONCLUSION
 *  UI12536
   DFHFCRO has been rebuilt to ship the fix.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI09362
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   YesPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-01-10
   
   
 * CLOSED DATE
   2014-01-22
   
   
 * LAST MODIFIED DATE
   2014-02-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI14495
   
   

MODULES/MACROS
 *     DFHFCRO
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSY UI14495 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI14495]
   UP14/01/31 P F401
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.