Title: IBM QRadar: Importing a password protected PFX certificate - United States

Text:
QRadar inporting .PFX; installing SSL certificates; convert pfx to crt; install_ssl_cert.sh TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 How do I import a certificate in Personal Exchange Format (PFX) from a Microsoft Certificate Generator in to QRadar? 

SYMPTOM
Normally, customers who need to import certificates use the import script in /opt/qradar/bin/install_ssl_cert.sh -b add the path to the public key then add the path to the private key and the installation will error out with keys being reverted. Also there are no errors in the logs.


CAUSE
A .PFX is password protected and needs the password removed

ENVIRONMENT
Microsoft certificate generator

RESOLVING THE PROBLEM



How to convert a .pfx certificate file in to a .crt file for use by QRadar


 1. The following command exports the private key and saves it in “key.pem”. 
    
    openssl pkcs12 -in filename.pfx -nocerts -out key.pem
    
    
 2. The following command exports the public key and saves it in “cert.crt”. 
    
    openssl pkcs12 -in filename.pfx -clcerts -nokeys -out cert.crt
    
    
 3. The following command removes the passphrase from the private key. 
    
    openssl rsa -in key.pem -out server.key
    
    
 4. After the conversion is complete the “server.key” can be imported in QRadar as a private key, and “cert.crt” can be used as the public key.
    

Note : When you run /opt/qradar/bin/install_ssl_cert.sh -b. the following services will be restarted  * Tomcat 
 * Hostcontext

Please make sure when importing the certificate that you allocate time for a disruption of services and collection of data. 

For information on importing a .crt, .der, or .cert file, see the IBM knowledge Center 
Replacing the default SSL certificate [https://www.ibm.com/support/knowledgecenter/en/SS42VS_7.2.8/com.ibm.qradar.doc/t_qradar_adm_ssl_replace.html] 


Where do you find more information? 


[/support/docview.wss?uid=swg21962506&aid=1] [http://ibm.biz/QRadar-KC] [/support/docview.wss?uid=swg21962506&aid=2] [https://ibm.biz/qradarforums] [/support/docview.wss?uid=swg21962506&aid=3] [http://ibm.biz/qradarknowledge] [/support/docview.wss?uid=swg21962506&aid=4] [http://ibm.biz/SecSuptUTube] [/support/docview.wss?uid=swg21962506&aid=5] [http://ibm.biz/qradarsoftware] [/support/docview.wss?uid=swg21962506&aid=6] [http://ibm.biz/MyNotification] [/support/docview.wss?uid=swg21962506&aid=7] [http://ibm.biz/SuptRegQuikStart] 
RELATED INFORMATION
 QRadar: Importing a Trusted SSL Certificate via a PFX F [http://www.drsiem.com/qradar-0001/]


 



Cross reference information Segment Product Component Platform Version Edition Security IBM Security QRadar SIEM