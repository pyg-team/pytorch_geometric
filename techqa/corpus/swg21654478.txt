Title: IBM Syntax for client option SCHEDCMDException - United States

Text:
TSM srv clt sched TECHNOTE (FAQ)

QUESTION
 What syntax is required for using options 'SCHEDCMDDisabled Yes' and 'SCHEDCMDException <string>' ? 

ANSWER
Given is a script that is located in a path that has a blank in its name, e.g.:
C:\Program Files\Tivoli\TSM\baclient\cmdtest.cmd

Requirement is the scheduled execution of this script, but only this script and no others.

First the scheduled event has to be defined on the Tivoli Storage Manager server.

Use the administrator command line interface (dsmadmc) and issue e.g.:
>def sched STANDARD TESTFORTSM action=command 
objects='"C:\Program Files\Tivoli\TSM\baclient\cmdtest.cmd"'

The name of the object has to be enclosed in double quotes, then in single quotes.

Then the node needs to be associated with this schedule. e.g.:
>def assoc STANDARD TESTFORTSM <node name>

On the Tivoli Storage Manager client side now edit the dsm.opt file and add these options: 

SCHEDCMDDisabled Yes 

* this will disable all the scheduling of commands by the server action=command option on the define schedule server command. 

SCHEDCMDException '"C:\Program Files\Tivoli\TSM\baclient\cmdtest.cmd"' 

* this will allow scheduled execution of just this one command, if it is defined by the server action=command option on the define schedule server command. 

 

Please note:
The installation and users guide just points out:
"You must specify the exact string that matches the “objects” definition in the schedule for the scheduled server command to be accepted."

In case there is a blank in the path or file name, the string needs to be masked.
In this case, the <string> has to be enclosed in double quotes, then in single quotes.