Title: IBM DWW280I connect fails when using REALDDN with CICSVR batch logging - United States

Text:
DWW280I; DWW252I; GCON_check_RMGS_chain; RGIB_Real_DDName_Write_Enabled; RmgsDsn; CVRG_DatasetName; Tvr_DuplRealDDFailure; DWW3GCON; 71725319 5655H9101 R330 5655-H91 5655H91 FMID HCCV330 5655-P30 5655P30 5655P3000 HCCV410 HCCV420 HCCV430 ; R510 R51E R51K FMID HCCV510 JCCV51E JCCV51K ; 5655Y2400 R520 R52E R52K 5655-Y24 ; 5655Y24 FMID HCCV520 JCCV52E JCCV52K TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are using CICS VSAM Recovery for z/OS (CICSVR) to perform batch REDO logging and intermittently the batch job fails with message DWW280I CICSVR failed processing batch logging request: CONNECT . . . reason code 71725319 problem determination DUPLICATE REQUEST. This is followed by message DWW252I attemp to connect to CICSVR address space failed. 

SYMPTOM
Following is the complete message text for DWW280I: 

 DWW280I [http://www.ibm.com/support/knowledgecenter/SSQJMU_5.2.0/dwwmd/kw00480.html]CICSVR FAILED PROCESSING 
BATCH LOGGING REQUEST: CONNECT
FROM ASID: nnnnJOB: jobnameSTEP: stepname
FOR SPHERE: datasetname
LOG STREAM:
RETURN CODE (HEX): 00000008
REASON CODE (HEX): 71725319
PROBLEM DETERMINATION: DUPLICATE REQUEST
DWW252I [http://www.ibm.com/support/knowledgecenter/SSQJMU_5.2.0/dwwmd/kw00469.html]ATTEMPT TO CONNECT TO CICSVR ADDRESS SPACE FAILED.


CAUSE
You have more than one batch job running concurrently in the SYSPLEX using the same ddname to open a dataset for batch logging. The CICS VR server was also activated with one of the following: 

 * SYS1.PARMLIB member IGDSMSxx with option CICSVR_GENERAL_CONTROL(REALDDN YES)
   
   
 * A SETSMS CICSVR_GENERAL_CONTROL(REALDDN YES) command was entered.

DIAGNOSING THE PROBLEM
The reason code 71725319 internally equates to the following: 

 
x71 = DFSMS subcomponent ARSC_ID_RCC, the RCC subcomponent is CICSVR 
x72 = Module ID, DWW3GCON_ID, for CICSVR server Logstream Connect 
x5319 = DWW3GBLC_DuplSphereFailure

The 5319 occurs when DWW3GCON returns if it finds an entry for the LOGSTREAMID for the same VSAM sphere already in its table from another address space. 

Note: CICSVR V4.2 APAR PK44606 provides additional information at DDNAME conflict when REDO real DDNAME is specified. 

Two DWW280I messages with the new reason code 5372x will be displayed in the case of the conflict:

The first instance of the DWW280I contains the conflicting job information: job name, stepname, ASID, sphere name, logstream name;

The second instance contains the currently running job (that has the same DDNAME that the conflicting one) information: jobname, step name, ASID, ddname, logstream name. 

The reason code 71725372 internally equates to the following: 

x71 = DFSMS subcomponent ARSC_ID_RCC, the RCC subcomponent is CICSVR 
x72 = Module ID, DWW3GCON_ID, for CICSVR server Logstream Connect 
x5372 = DWW3GBLC_DuplRealDDFailure


RESOLVING THE PROBLEM
Do one of the following. 

 * Enter command SETSMS CICSVR_GENERAL_CONTROL(REALDDN NO). This will result in the CICSVR server generating unique ddnames and allow the jobs to run concurrently.
   
 * If you require REALDDN YES support to be active, create a policy in your job scheduling software to ensure only one job runs at a time in the SYSPLEX.
   

RELATED INFORMATION
 Logging the real DD name [http://www.ibm.com/support/knowledgecenter/SSQJMU_5.2.0/dwwig/dwwig000377.html]
CICSVR Support Page [http://www.ibm.com/support/entry/portal/Overview/Software/Other_Software/CICS_VSAM_Recovery_for_z~OS]


 

PRODUCT ALIAS/SYNONYM
 CICSVR CICS VR