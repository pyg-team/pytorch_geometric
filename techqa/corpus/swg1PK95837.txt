Title: IBM PK95837: 700 BACKWARDS MIGRATION FROM 701 AND COEXISTENCE WITH 701 - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS NEW FUNCTION.
    
   
   

ERROR DESCRIPTION
 *  Allow a V700 queue-manager backwards migration from V701, and
   coexistence with a V701 queue-manager in a queue-sharing group.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS version 7 *
   *                 Release 0 Modification 0.                    *
   ****************************************************************
   * PROBLEM DESCRIPTION: Enable backward migration to version 7  *
   *                      after a queue manager has been started  *
   *                      with version 7.0.1 code.                *
   *                                                              *
   *                      Enable Version 7 and Version 7.0.1      *
   *                      queue managers to coexist in a queue    *
   *                      sharing group.                          *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   This APAR provides the backward migration PTF referred to in
   the "Reverting to previous versions" section of the Migration
   Information manual for WebSphere MQ Version 7.0.1.
   
   This APAR also provides the coexistence PTF, documented in the
   "Migrating queue-sharing groups to Version 7.0" section of the
   Migration Information manual, which will allow Version 6,
   and Version 7, and Version 7.0.1 queue managers to coexist in
   the same queue sharing group.
   
   
   When reverting to Version 7 after running a queue manager at
   version 7.0.1 the following should be considered.
   
    - AUTHINFO AUTHTYPE(OCSP) objects will not be visible at V7,
      but will reappear (unless they have been deleted at V7) if
      the queue manager is subsequently restarted at V7.0.1.
    - It will NOT be possible to backwards migrate to V7 from V701
      if the new functions available in V701 have been activated
      by the new OPMODE parameter. Refer to the "Controlling new
      functionality and backward migration using the OPMODE
      property" section of the Migration Manual for more details.
      If version 701 has been started with OPMODE=NEWFUNC then
      any attempt to restart the queue manager at version 7 will
      result in abnormal termination of the queue manager with
      reason code 00C90D01.
    - When backwards migrating from V701 to V7, any retained
      publications or durable subscriptions on the
      SYSTEM.RETAINED.PUB.QUEUE & SYSTEM.DURABLE.SUBSCRIBER.QUEUE
      queues will be removed.
    - New object attributes introduced in version 701 will not be
      present in version 7, and when you subsequently migrate to
      version 701 they will be reset to default values.
    - If you are using the MQ Explorer to administer your queue
      manager then after migration between releases the following
      Explorer actions must be performed.
      o Remove the migrated z/OS queue manager
        (From the V7 Explorer, the queue manager must be hidden
         before it can be removed)
      o Add Remote Queue Manager
      These actions ensure that the Explorer's cached view of queue
      manager attributes, including the command level are correctly
      refreshed after the migration.
    - If you are going to subsequently migrate back to a release
      prior to version 7, the channel initiator must be started at
      version 7 after migrating back from version 701.
   
   Also refer to technote 1408135 which gives details of
   considerations and procedures for backward migration from V701.
   The technote can be found here:
   
   http://www-01.ibm.com/support/docview.wss?rs=171&uid=swg21408135 [http://www-01.ibm.com/support/docview.wss?rs=171&uid=swg21408135]
   
   
   This APAR also provides coexistence aspects when migrating
   queue sharing groups to version 701.
   
   The coexistence aspects of this APAR allow a version 7 queue
   manager in a queue sharing group to handle DISPLAY command
   responses from a version 701 queue manager that contain new
   attributes that exist only in version 701.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  See the documentation update in PK98278 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK98278] for details of
   migrating to V701 from V700.
   
   Technote 1408135 gives details of considerations and procedures
   for backward migration from V701. The technote can be found
   here:
   
   http://www-01.ibm.com/support/docview.wss?rs=171&uid=swg21408135 [http://www-01.ibm.com/support/docview.wss?rs=171&uid=swg21408135]
   
   Note the following limitations when migrating backwards:
   
   * If SYSTEM.RETAINED.PUB.QUEUE is defined, then all messages on
     that queue will be deleted, and therefore all retained
     publications are lost.
   * If SYSTEM.DURABLE.SUBSCRIBER.QUEUE is defined, then all
     messages on that queue will be deleted, and therefore all
     durable subscriptions are lost.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PK95837
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   000
   
   
 * STATUS
   CLOSED UR1
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   YesSpecatt / Installability / Xsystem
   
   
 * SUBMITTED DATE
   2009-09-10
   
   
 * CLOSED DATE
   2009-11-06
   
   
 * LAST MODIFIED DATE
   2009-12-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK51724
   
   

MODULES/MACROS
 *  CSQIECUR CSQIERST CSQIERS3 CSQIIANC CSQIINTC
   CSQIIPAG CSQM1DAU CSQOKYTB CSQORINI CSQOXATR CSQUDEFS CSQUXPRM
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R000 PSY UK51724 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK51724]
   UP09/11/14 P F911
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.