Title: IBM When creating a relationship SQL being sent to database causes database client to crash. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When creating a relationship in Framework Manager, SQL generated to perform the join is being sent to the database which in turn is returning data. At times there is a lot of data and most of the times this is not feasible as the under lying database client providing this information to Framework Manager will run out of memory. 

For example, creating an inner join (1.1 to 1.N) between two query subjects with 16 million rows each in Framework Manager will display the following error message when using a MySQL database and MySQL ODBC client connection: 

[MySQL][ODBC 3.51 Driver][mysqld-5.0.22-Debian_1.dotdeb.1-log]MySQL client ran out of memory
RQP-DEF-0177 An error occurred while performing operation 'sqlPrepareWithOptions' status='-17'.
UDA-SQL-0397 The server on 'prepare' for user '{1}' has timed out.
[MySQL][ODBC 3.51 Driver][mysqld-5.0.22-Debian_1.dotdeb.1-log]MySQL client ran out of memory 

At the same time we 
see BMT.exe in task manager reach about 1.75 gb to 1.8 gb of virtual memory, which drops backt to its normal memory consumption after the above error message window is exited. 

Please note that this occurs when creating the relationship and simply clicking "Ok" or even when attempting to generate test data by going to the "Test" tab. 

SYMPTOM
[MySQL][ODBC 3.51 Driver][mysqld-5.0.22-Debian_1.dotdeb.1-log]MySQL client ran out of memory
RQP-DEF-0177 An error occurred while performing operation 'sqlPrepareWithOptions' status='-17'.
UDA-SQL-0397 The server on 'prepare' for user '{1}' has timed out.
[MySQL][ODBC 3.51 Driver][mysqld-5.0.22-Debian_1.dotdeb.1-log]MySQL client ran out of memory


NOTE: The above error message may change depending on what database software is being used to connect to the data source.

CAUSE
Current default Framework Manager behavior is to send the generated SQL for the relationship to the database engine to ensure that relationship is valid. Additionally, this option is currently unavailable at the time of creation of this document, even though this enhancement will be available in ReportNet versions as well.

ENVIRONMENT
MySQL 5.1

MySQL ODBC Driver version 3.51

RESOLVING THE PROBLEM
This behavior can be changed in Framework Manager by unchecking "Evaluate Automatically" option from "Project" menu.

Steps:1) Open Framework Manager 2) Open your project

3) Click on Project menu

4) Click on Evaluate Automatically to un check it

RELATED INFORMATION
# [\] Framework Manager User Guide




Cross Reference information Segment Product Component Platform Version Edition Business Analytics Cognos 8 Business Intelligence Report Studio Business Analytics Cognos ReportNet ReportNet 
HISTORICAL NUMBER
 1023986