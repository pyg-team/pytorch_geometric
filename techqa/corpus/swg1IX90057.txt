Title: IBM IX90057: THE CLIENT THROWS A GIOPVERSIONEXCEPTION - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Error Message: Once the GIOPVersionException is thrown the
   client log will show the following -
   org.omg.CORBA.COMM_FAILURE: purge_calls:1864 Reason: CONN_ABORT
   (1), State: ABORT (5)  vmcid: IBM  minor code: 306 completed:
   Maybe
   .
   Stack Trace: The stack trace for the GIOPVersionException is -
   com.ibm.rmi.iiop.Connection doReaderWorkOnce:2990
   RT=1:P=491012:O=0:WSTCPTransportConnection<OSB>addr=192.168.224.
   177,port=19390,local=2833<CSB> ORBRas<OSB>default<CSB>
   com.ibm.rmi.iiop.GIOPVersionException: 0x0
   at com.ibm.rmi.iiop.Message.discriminate(Message.java:358)
   at com.ibm.rmi.iiop.Message.createMessage(Message.java:395)
   at
   com.ibm.rmi.iiop.Connection.createInputStream(Connection.java:14
   00)
   at
   com.ibm.rmi.iiop.Connection.doReaderWorkOnce(Connection.java:295
   2)
   at
   com.ibm.rmi.transport.ReaderThread.run(ReaderPoolImpl.java:138)
   followed by
   Caused by: org.omg.CORBA.COMM_FAILURE: purge_calls:1864 Reason:
   CONN_ABORT (1), State: ABORT (5)  vmcid: IBM  minor code: 306
   completed: Maybe
   at com.ibm.rmi.iiop.Connection.purge_calls(Connection.java:1863)
   at
   com.ibm.rmi.iiop.Connection.doReaderWorkOnce(Connection.java:299
   4)
   at
   com.ibm.rmi.transport.ReaderThread.run(ReaderPoolImpl.java:138)
   .
   After the GIOPVersionException is thrown, the client will see
   the following messages in the log -
   org.omg.CORBA.COMM_FAILURE: purge_calls:1864 Reason: CONN_ABORT
   (1), State: ABORT (5)  vmcid: IBM  minor code: 306 completed:
   Maybe
   
   
    
   
   

LOCAL FIX
 *  The GIOPVersionException is thrown as a result of
   RuntimeException caught by the Server. To work around the issue,
   is to fix the RuntimeException thrown by the Server.
   
   
    
   
   

PROBLEM SUMMARY
 *  The server throws a runtime exception while marshalling the data
   and sends incorrect data to the client. This causes a
   GIOPVersionException to be thrown by the client. As a result,
   the specific connection gets purged and clean-up activity is
   triggered on all the requests waiting on this connection.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This defect will be fixed in:
   6.0.0 SR9
   5.0.0
   .
   When the runtime exception is thrown by the server during
   marshalling, instead of incorrect data, the server will send an
   empty fragment to indicate an error during marshalling. As a
   result, the client will throw the following exception -
   Caused by: org.omg.CORBA.MARSHAL: No available data: Request
   n:read beyond end of data. No fragments available. vmcid: OMG
   minor code: 8 completed: Maybe
   The ffdc captured at the server side, will give the details of
   the runtime exception.
   .
   To obtain the fix:
   Install build 20100905 or later
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IX90057
   
   
 * REPORTED COMPONENT NAME
   ORB
   
   
 * REPORTED COMPONENT ID
   620700123
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-08-18
   
   
 * CLOSED DATE
   2010-09-06
   
   
 * LAST MODIFIED DATE
   2010-09-06
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    IZ82939 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ82939]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ORB
   
   
 * FIXED COMPONENT ID
   620700123
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSN
   UP