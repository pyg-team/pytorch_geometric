Title: IBM Returning internet mail address for LDAP query - United States

Text:
LDAP; Outlook; Mail; InternetAddress; query; Domino; schema; return; search TECHNOTE (TROUBLESHOOTING)

PROBLEM
Customer use Outlook 2007 and set Domino LDAP server as Internet Directory Service (LDAP). LDAP search result includes name but not mail address.

CAUSE
In server configuration document, admin found "mail" attribute was not there in LDAP tab.

ENVIRONMENT
Lotus Domino 8.5.3 on Windows 2003

DIAGNOSING THE PROBLEM
Admin run following command from Domino program directory: 
c:\Domino\ldapsearch -v -h hostname -D anonymous CN=username *

Output:
ldap_sslinit(hostname, 389)

filter pattern: cn=username
returning: *

(there's no information about mail address)

RESOLVING THE PROBLEM
Checked LDAP configuration in server configuration document 
and re-added mail attribute to LDAP following below steps:

1. Open Server configuration document
2. Click LDAP tab
3. Click Edit Server Configuration button
4. Click Select Attribute Types
5. Select * for Object Classes, click Display Attributes
6. Tick checkbox next to "mail", click Add >>
7. Click OK
8. Save and Close
9. Issue Command "Restart task LDAP"

Run: ldapsearch -v -h hostname -D anonymous CN=username *




Output:
ldap_sslinit(hostname, 389)

filter pattern: cn=username
returning: *

*** Filter is: (cn=username) ***
CN=username,O=org
cn=username
mail=username@acme.org

Mail address now included in query result for Outlook 2007 clients.