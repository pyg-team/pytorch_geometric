Title: IBM "There were no tables found in the selected data source" with DB2 - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 I have SPSS Server on a UNIX platform. I would like to connect to my DB2 6 or higher database using the DataDirect drivers distributed in the SPSS Data Access Pack 2.0. I believe I've configured both my odbc.ini and start_spss_server files following the instructions for my operating system:

Sun Solaris, 100010653
AIX, 100010640 
HP/UX, 100010695

In the Database Wizard, I can see the data source I've configured. I select it, click next and enter in my username and password. Then, I receive the following error:

There were no tables found in the selected data source.

I know there are tables in the database, and my login has permission to select them. What is wrong? 

RESOLVING THE PROBLEM
Have you created a bind package in the database server you are attempting to connect to? This step is required before you can view tables in the database. To create the bind package, please login to the server where SPSS Server is installed, and follow these steps:

1. Execute the odbc.sh script. odbc.sh is found in the directory where the ODBC drivers have been installed. This script sets up the ODBC environment. You can execute the script using this command:

. ./odbc.sh

2. Define the ODBCINI environment variable. The ODBCINI environment variable contains the location of the odbc.ini file. You can define the environment variable with this command:

ODBCINI=/opt/odbc/odbc.ini; export ODBCINI

Replace /opt/odbc with the location of your odbc.ini file.

3. Edit the odbc.ini file. You will need to edit the odbc.ini file to include information needed by the bind program to create the packages.
A. In the odbc.ini file that includes your Data Source definition for DB2, add:

Action=REPLACE

B. Change Package=DEFAULT in the same section in the odbc.ini file to a name you would like the packages to be called in the database server. If the package name is not changed, three packages will be created when the bind program is executed, named DEFAULTA, DEFAULTB, an DEFAULTC. Otherwise, A, B, and C will be appended to the name that is listed after Package= .

C. Under the [ODBC] section, add the following line:

ConversionTableLocation=/opt/odbc/tables

Replace /opt/odbc with the location of your ODBC installation directory.

4. Execute the bind program. The bind program is named bind17, and is located in the lib subdirectory of the ODBC installation directory. Type the following to execute the command:

./bind17 DB2

If you have changed the name of your DB2 data source in your odbc.ini file, replace DB2 with the name of your DB2 data source. You will be prompted for a username and password. Enter a database username and password that has CREATE PACKAGE authority.

5. Grant other users access to the packages created. Only the database user who ran bind17 will have permission to execute the newly created packages. In order for other database users to connect via ODBC, the users must be granted permission in the database server to execute the three packages. This step will need to be performed by the database administrator

RELATED INFORMATION
 Need more help? Our Statistics forum is Live! [https://developer.ibm.com/answers/topics/statistics.html?smartspace=predictive-analytics]


 

HISTORICAL NUMBER
 25217