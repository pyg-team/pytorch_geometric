Title: IBM IT07185: BUSINESS PROCESS MANAGER 8.5 DEPLOY FAILS IF DATABASE PERFORMANCE MONITORING PATTERN 1.0 (OPM) PATTERN TYPE IS ENABLED - United States

Text:
  A FIX IS AVAILABLE
IBM PureApplication System Version 2.1.0.0 Interim Fix 1 [http://www-01.ibm.com/support/docview.wss?uid=swg24039268]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  After deploying a Business Process Manager 8.5 virtual
   application pattern on PureApplication System 2.0 with Database
   Performance Monitoring Pattern 1.0 (OPM), all 3 database virtual
   machines, BPMDB, CMNDB, PDWDB, show an error status for the
   OPMDB2 middleware status entry
   
          IBM_BPM_Database-BPMDB.11413908443611.OPMDB2
          IBM_BPM_Database-CMNDB.11413908443613.OPMDB2
          IBM_BPM_Database-PDWDB.11413908443612.OPMDB2
   
   The log for the BPMDB seems to indicate an error line 148:
   TypeError: execv() arg 2 must contain only strings
   The OPMDB2 plugin is enable on the rack.  There are 2 config
   options, the first to Require the monitoring on all
   deployments, and the 2nd to autostart the monitoring.
   Log entries in the MustGather for the virtual machines in error
   include:
   dbt/debug/dbt_debug_getters.py
   140014099187456 pid=32108 DEBUG   sys.argv: <type 'str'>
   ["/opt/IBM/maestro/agent/usr/servers/IBM_BPM_Database-BPMDB.1141
   3908443611/python/invoker.py",
   "/opt/IBM/maestro/agent/usr/servers/IBM_BPM_Database-BPMDB.11413
   908443611/scripts/OPMDB2/DB2/changed.py",
   "/opt/IBM/maestro/agent/usr/servers/IBM_BPM_Database-BPMDB.11413
   908443611/logs/IBM_BPM_Database-BPMDB.11413908443611.OPMDB2"]
   dbt/debug/dbt_debug_getters.py
   140014099187456 pid=32108 DEBUG   get__maestro_class_name():
   <type 'str'> maestro
   dbt/debug/dbt_debug_getters.py
   ... get__python_version(): <type 'str'> 2.6.4 (r264:75706, Feb
   26 2013, 12:39:30) [GCC 4.4.7 20120313 (Red Hat 4.4.7-3)]
   dbt/debug/dbt_debug_getters.py
   ... get__version(): <type 'str'>
   /0config/nodepkgs/common/scripts/dbt/environment/dbt_environment
   _IPAS_vapp.py
   1.0.2.0.20140904/0config/nodepkgs/common/scripts/dbt/environment
   /dbt_environment_maestro.py
   1.0.2.0.20140904/0config/nodepkgs/common/scripts/dbt/environment
   /dbt_environment_abstract.py 1.0.2.0.20140826 line 122:
   invoker 140014099187456
   pid=32108 ERROR An error occurred; see trace.log for details.
   line 148: TypeError: execv() arg 2 must contain only strings
   
   
    
   
   

LOCAL FIX
 *  A deployment of the BPM Pattern after disabling the DataBase
   Performance Monitoring Plugin is successful.
   
   
    
   
   

PROBLEM SUMMARY
 *  The issue was caused by a script file that was not able to
   retrieve the DB2 instance name.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A code fix is being delivered in the IBM Database Performance
   Monitoring version 1.0.2.2 pattern type with PureApplication
   System version 2.0.0.1 interim fix 2 and the IBM Database
   Performance Monitoring version 1.0.4.0 pattern type with
   PureApplication System version 2.1.0.0.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT07185
   
   
 * REPORTED COMPONENT NAME
   PAPP SYS 8382 I
   
   
 * REPORTED COMPONENT ID
   5725G3200
   
   
 * REPORTED RELEASE
   200
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-02-17
   
   
 * CLOSED DATE
   2015-03-05
   
   
 * LAST MODIFIED DATE
   2015-03-16
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   PAPP SYS 8382 I
   
   
 * FIXED COMPONENT ID
   5725G3200
   
   

APPLICABLE COMPONENT LEVELS
 * R200 PSY
   UP
   
   
 * R210 PSY
   UP