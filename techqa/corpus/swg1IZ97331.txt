Title: IBM IZ97331: TEPS USES ALL MEMORY AND HANGS DURING STARTUP - United States

Text:
  FIXES ARE AVAILABLE
IBM Tivoli Monitoring 6.2.2 Fix Pack 8 (6.2.2-TIV-ITM-FP0008) [http://www-01.ibm.com/support/docview.wss?uid=swg24031354]
IBM Tivoli Monitoring 6.2.2 Fix Pack 9 (6.2.2-TIV-ITM-FP0009) [http://www-01.ibm.com/support/docview.wss?uid=swg24032067]
IBM Tivoli Monitoring 6.2.2 Fix Pack 6 (6.2.2-TIV-ITM-FP0006) [http://www-01.ibm.com/support/docview.wss?uid=swg24030135]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Approver Initials:    RP
   Severity:             2
   Reported Release:     622
   Compid:               5724C04PS Tivoli Enterprise Portal Server
   ABSTRACT:             TEPS uses all memory and hangs during
   startup
   
   PROBLEM DESCRIPTION:
   During startup, the portal server appears to hang in the CMW
   service At this time, the KfwServices process is using CPU, and
   memory usage is slowly increasing.
   Eventually, the process uses all available memory/swap
   and the process and machine hang.  Reboot is needed.
   
   RECREATE INSTRUCTIONS:
   Problem is due to a bad custom navigator:
   1. Create a custom navigator with some managed systems under the
   root node.
   2. Create another custom navigator with the same managed systems
   under the root node.
   3. In the first navigator, add the root node of the second
   navigator to two locations in the tree:
   - directly under the root node
   - at a third level location
   
   
    
   
   

LOCAL FIX
 *  It's possible to recover from this situation by deleting the
   edge connecting the second navigator to the third level node in
   the first navigator.  This requires assistance from Tivoli L3
   support.
   
   
    
   
   

PROBLEM SUMMARY
 *  The portal server starts using 100% CPU, then crashes, and the
   portal server will not restart.
   
   After a navigator edit, either through the portal client or the
   CLI, the portal server may begin using 100% of a CPU, and
   eventually crash.  When attempting to restart the portal server,
   when it is starting the "CMW Service" it again begins consuming
   100% CPU and eventually crashes.  The navigator edit caused a
   node which is a parent in one navigator to be a child of one of
   it's children in another navigator.  This sets up a recursive
   loop in the navigator graph, which will consume resources until
   the portal server crashes.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Prevent a cyclic edge from being added to the navigator graph.
   Note that this APAR will not correct an existing problem.  It
   only prevents the scenario from occurring in the future.
   
   Circumvention requires identifying the node that is a parent in
   one graph and a child in another, and deleting one of the edges
   from the KFWEDGE table that is involved in the recursive loop.
   
   
   
   The fix for this APAR is contained in the following maintenance
   packages:
   | fix pack | 6.2.2-TIV-ITM-FP0006
   
   
    
   
   

TEMPORARY FIX
 *  Contact IBM Support with the output of migrate-export and the
   name of the navigator that was being modified.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ97331
   
   
 * REPORTED COMPONENT NAME
   TEPS
   
   
 * REPORTED COMPONENT ID
   5724C04PS
   
   
 * REPORTED RELEASE
   622
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-03-25
   
   
 * CLOSED DATE
   2011-06-30
   
   
 * LAST MODIFIED DATE
   2011-09-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TEPS
   
   
 * FIXED COMPONENT ID
   5724C04PS
   
   

APPLICABLE COMPONENT LEVELS
 * R622 PSY
   UP