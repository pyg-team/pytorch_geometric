Title: IBM libpthreads error when starting ibmslapd or other directory server related programs - United States

Text:
ibmslapd; idsslapd; slapd; ibmdiradm; libpthreads.a; idsdiradm; shr_xpg5_64.o; Cannot load module libpthreads.a TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 An error message about libpthreads.a might appear when trying to start ibmslapd from the /<ITDS installPath>/sbin/64 directory. 

SYMPTOM
Error messages about libpthreads.a and/or shr_xpg5_64.o will be displayed when attempting to start the ibmslapd process from the wrong directory. 


RESOLVING THE PROBLEM
If you try to start the ibmslapd process directly from the /<ITDS installPath>/sbin/64 directory, you will see error messages similar to the following: 

e.g: when using version 6.3:
==> /opt/IBM/ldap/V6.3/sbin/64/ibmslapd -I idsinst1 
exec(): 0509-036 Cannot load program ./ibmslapd because of the following errors:
0509-150 Dependent module libpthreads.a(shr_xpg5_64.o) could not be loaded.
0509-022 Cannot load module libpthreads.a(shr_xpg5_64.o).
0509-026 System error: A file or directory in the path name does not exist.


This is working as designed. When starting the ibmslapd process or any other directory server related process/programs, you need to be in the sbin directory. The sbin directory contains a wrapper scripts for program/process which sets up the necessary environment before running the executable program. 


When you start ibmslapd from the sbin folder the following set of messages are displayed:

==> /opt/IBM/ldap/V6.3/sbin/ibmslapd -I idsinst1
GLPSRV041I Server starting.
GLPCTL113I Largest core file size creation limit for the process (in bytes): '-1'(Soft limit) and '-1'(Hard limit).
GLPCTL119I Maximum Data Segment(Kbytes) soft ulimit for the process is -1 and the prescribed minimum is 262144.
GLPCTL119I Maximum File Size(512 bytes block) soft ulimit for the process is -1 and the prescribed minimum is 2097151.
GLPCTL122I Maximum Open Files soft ulimit for the process is 2000 and the prescribed minimum is 500.
...
GLPCOM003I Non-SSL port initialized to 389.



PRODUCT ALIAS/SYNONYM
 ITDS IDS TDS ibm tivoli directory server "ibm directory server" "tivoli directory server"