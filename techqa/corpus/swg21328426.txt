Title: IBM How to deliver NetView z/OS commands from TSO - United States

Text:
CMDSERV CNMS8029 NETVCMD PPI server UNIX TSO TECHNOTE (FAQ)

QUESTION
 Customer required ability to submit NetView oriented commands from TSO environment (batch or online) and requested information on how to do so. 

ANSWER
There are two methods to deliver a NetView z/OS oriented command from TSO services. These 2 approaches employ basic and supplied NetView services.
A) Using the NETVCMD NetView sample

1) on TSO, copy CNMSAMP(CNMS8029) to a TSO sysproc library, naming it NETVCMD

2) on NetView; run the CMDSERV command on an autotask to start PPI receiver DSICMDSV
EXCMD AUTO2,CMDSERV AUTHSNDR=N,NAME=DSICMDSV

3) from TSO option 6 or a batch job running IKJEFT01 program:
netvcmd cmddlmtr=/ mvs d t ''/list cs26473 
(this example actually runs 2 different commands separated by '/')
(do not use default delimiter of ';' because this is treated as a TSO/ISPF delimiter)

The command results can be viewed in the user TSO foreground session, or in the job listing if submitted via batch.

Enter NetView command 'HELP CMDSERV' for more details on this command (it can also invoke a UNIX PPI server in addition to TSO), and also review comments of CNMS8029 for implementation requirements and command parameter options. For example, you can increase wait time using NETVCMD by adding a discrete wait value when calling the command;
NETVCMD 5 mvs d j,l (waits 5s for the response)

B) Run command in a batch job using the NetView subsystem command prefix value.

//jobcard
//STEP1 EXEC PGM=IEFBR14 
//SYSPRINT DD SYSOUT=* 
//SYSTSPRT DD SYSOUT=* 
// COMMAND '%LIST JOHNC' 

Here, "%" is the default command prefix for the NetView (which can be customized) and the NetView command "LIST JOHNC" is executed. The results can be viewed in the NetView log. This option will only be possible if the user has access to perform these NetView commands from the external EMCS console that would be used on their behalf.

RELATED INFORMATION
 CMDSERV command [http://publibfi.boulder.ibm.com/cgi-bin/bookmgr/BOOKS/C3188572/1.2.63?SHELF=env1bk20]


 

HISTORICAL NUMBER
 73668
500
000 

PRODUCT ALIAS/SYNONYM
 NV NVz NVzOS