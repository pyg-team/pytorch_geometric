Title: IBM PM86921: WMQ 710 - CHANNEL EVENTS ARE NOT GENERATED WHEN WARN=YES IS SPECIFIED IN CHLAUTH RECORDS - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  No channel blocked event message with reason
   MQRC_CHANNEL_BLOCKED_WARNING is generated when WARN=YES
   is specified in CHLAUTH records.
   .
   To reproduce the problem, define only one CHLAUTH rule like this
   
   .
   SET CHLAUTH(SYSTEM.ADMIN.SVRCONN) TYPE(ADDRESSMAP) ADDRESS(*)
   USERSRC(NOACCESS) WARN(YES)
   .
   With that rule no channel blocked event message with reason code
   MQRC_CHANNEL_BLOCKED_WARNING is generated.
   
   Changing it from WARN(YES) to WARN(NO) results in a channel
   blocked event message being generated with reason
   MQRC_CHANNEL_BLOCKED.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS Version 7 *
   *                 Release 1 Modification 0.                    *
   ****************************************************************
   * PROBLEM DESCRIPTION: No channel blocked event message is     *
   *                      generated when WARN=YES is specified in *
   *                      CHLAUTH records.                        *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The following CHLAUTH rule is defined:
   SET CHLAUTH(SYSTEM.ADMIN.SVRCONN) TYPE(ADDRESSMAP) ADDRESS(*)
   USERSRC(NOACCESS) WARN(YES)
   which should generate an event message with return code 2578
   (MQRC_CHANNEL_BLOCKED_WARNING) in the SYSTEM.ADMIN.CHANNEL When
   a connection is made that is covered by this rule, it is allowed
   and no EVENT message is written to SYSTEM.ADMIN.CHANNEL.EVENT.
   The same definition with WARN(NO) will fail and a message will
   be written to SYSTEM.ADMIN.CHANNEL.EVENT with RC 2577
   (MQRC_CHANNEL_BLOCKED).
   
   
    
   
   

PROBLEM CONCLUSION
 *  Function rsxMapChannelToUserId in CSQXRSCM has been updated to
   honour WARN(YES) on an ADDRESSMAP rule.
   100Y
   CSQXRSCM
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM86921
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   100
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-04-12
   
   
 * CLOSED DATE
   2013-12-03
   
   
 * LAST MODIFIED DATE
   2014-01-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI13137
   
   

MODULES/MACROS
 *  CSQXRSCM
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R100 PSY UI13137 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI13137]
   UP13/12/24 P F312
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.