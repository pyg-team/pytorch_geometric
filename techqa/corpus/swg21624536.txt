Title: IBM Reconfigure of Summarization and Pruning agent does not save settings - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After reconfiguring the IBM Tivoli Monitoring Summarization and Pruning agent as non-root, the settings are not saved 

SYMPTOM
When using the following command as non-root to reconfigure the IBM Tivoli Monitoring (ITM) Summarization and Pruning agent, the settings changed during the reconfigure are not saved: 

/opt/IBM/ITM/bin/itmcmd config -A sy


CAUSE
The permissions on some of the files are not correct for a non-root user to reconfigure the Summarization and Pruning agent. 


DIAGNOSING THE PROBLEM
Check the itm_config.trc file in the /opt/IBM/ITM/logs directory (assuming ITM is installed to the default directory). Inside that file you will see an error similar to this: 

2013-02-01 07:52:46.515-05:00 ITMinstall.JRexec <init> __ERROR__ 
(traceKey:1359723166514) 
java.net.ConnectException: Connection refused 
at java.net.PlainSocketImpl.socketConnect(Native Method) 
at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:383) 
at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:245) 
at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:232) 
at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:377) 
at java.net.Socket.connect(Socket.java:539) 
at java.net.Socket.connect(Socket.java:488) 
at java.net.Socket.<init>(Socket.java:385) 
at java.net.Socket.<init>(Socket.java:199) 
at ITMinstall.JRexec.<init>(JRexec.java:95) 
at ITMinstall.JRexec.<init>(JRexec.java:113) 
at ITMinstall.Utilities.validateJRexec(Utilities.java:1720) 
at ITMinstall.Utilities.updateAutoRun(Utilities.java:1605) 
at ITMinstall.CandleConfigAgent.configAgent(CandleConfigAgent.java:387) 
at ITMinstall.CandleConfigAgent.main(CandleConfigAgent.java:988) 


RESOLVING THE PROBLEM
Determine the group used for the non-root user (for example do an ls -l on the /opt/IBM/ITM/config/sy.ini file and see what group is being used). In the case below the group identified is itmgroup. 


ls -l /opt/IBM/ITM/config/sy.ini
-rwxrwxrwx 1 user itmgroup 16402 Feb 03 11:11 sy.ini 

 

Then as the root user on the system, run the following 2 commands using the group identified from the above ls command: 
/opt/IBM/ITM/bin/UpdateAutoRun.sh 

./secureMain -g itmgroup lock