Title: IBM Portal 7.0.0.1 migration may fail with error EJPPH0044E EJPPH0001E ADMC0009E while running upgrade-profile task. - United States

Text:
upgrade-profile; migration; EJPPH0044E; EJPPH0001E; ADMC0009E; was.notification.timeout TECHNOTE (TROUBLESHOOTING)

PROBLEM
One may find the following in the configtrace.log file --- 

 
wps.dynamicui.transformationapp.webmod.xml to consolidated deployment 
script 
[echo] Deploying consolidated web-app update script 
[xmlaccess] EJPXB0006I: Connecting to URL http://localhost:10056/wps/config/ 

[xmlaccess] EJPXB0004I: Writing output file 
/opt/IBM/WebSphere/APP/WP7/wp_profile/ConfigEngine/log/consolidatedXMLAc 
cessResult.xml 
[xmlaccess] EJPXB0002I: Reading input file 
/opt/IBM/WebSphere/APP/WP7/wp_profile/ConfigEngine/config/work/consolida 
tedXMLAccess.xml 
[xmlaccess] EJPXB0019E: Server response indicates an error. For status 
and details of the XmlAccess error look at file 
/opt/IBM/WebSphere/APP/WP7/wp_profile/ConfigEngine/log/consolidatedXMLAc 
cessResult.xml. 
[xmlaccess] EJPXB0019E: Server response indicates an error. For status 
and details of the XmlAccess error look at file 
/opt/IBM/WebSphere/APP/WP7/wp_profile/ConfigEngine/log/consolidatedXMLAc 
cessResult.xml. 


from the consolidatedXMLAccessResult.xml file, it fails at -- 

<!-- 55 [web-app com.ibm.wps.portlets.policystatus 
uid=com.ibm.workplace.policystatus.PolicyStatus] --> 
<request build="wp7001CF07_001_14" type="update" version="7.0.0.1" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:noNamespaceSchemaLocation="PortalConfig_7.0.0.xsd"> 
<status element="[web-app com.ibm.wps.portlets.policystatus 
uid=com.ibm.workplace.policystatus.PolicyStatus]" result="failed"> 
<message 
id="EJPXA0043E">com.ibm.wps.command.xml.XmlCommandException: EJPXA0043E: 
An error occurred while creating or updating the resource. [web-app 
com.ibm.wps.portlets.policystatus 
uid=com.ibm.workplace.policystatus.PolicyStatus]</message> 
<message 
id="EJPPD0015E">com.ibm.wps.command.CommandFailedException: EJPPD0015E: 
Portlet application manager failed when user xmlaccess scripting user 
executed command UpdateWebApplication. 
WrappedException is: 
com.ibm.wps.pe.mgr.exceptions.AppServerWarUpdateException: EJPPH0044E: 
Redeployment of Web Module id in WAR file 
/opt/IBM/WebSphere/APP/WP7/wp_profile/PortalServer/deployed/appPolicySta 
tus.war (application display name: PA_Policy_Status) didi not complete 
successfully when invoking the WebSphere Application Server 
administration interface.</message> 
<message 
id="EJPPH0044E">com.ibm.wps.pe.mgr.exceptions.AppServerWarUpdateExceptio 
n: EJPPH0044E: Redeployment of Web Module id in WAR file 
/opt/IBM/WebSphere/APP/WP7/wp_profile/PortalServer/deployed/appPolicySta 
tus.war (application display name: PA_Policy_Status) didi not complete 
successfully when invoking the WebSphere Application Server 
administration interface.</message> 
<message 
id="EJPPH0001E">com.ibm.wps.pe.mgr.exceptions.AppServerAdminListenerExce 
ption: EJPPH0001E: Adding Notification Listener for MBean AppManagement 
failed. (Application Name: PA_Policy_Status).</message> 

<message>com.ibm.websphere.management.exception.ConnectorException: 
ADMC0009E: The system failed to make the SOAP RPC call: 
queryNames</message> 
</status> 
</request> 


RESOLVING THE PROBLEM
To resolve the issue increase the was.notification.timeout to 1200 (seconds) in WP DeploymentService either from WebSphere Admin Console or Dmgr. 
If the property is not listed under custom properties, please add the above property.

Re-run the upgrade-profile task to proceed with migration.