Title: IBM FileNet Application Engine Workplace Site Preferences returns Error 500: java.lang.IllegalArgumentException: can't parse argument number - United States

Text:
Workplace Site Preferences cemp TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After a new install of FileNet P8 Application Engine (AE) Workplace 4.0.2, the following error is returned in the browser when accessing the Site Preferences from the Workplace client:

Error 500: java.lang.IllegalArgumentException: can't parse argument number 

SYMPTOM
In addition to the error returned in the browser, the following error is logged in the WebSphere SystemOut.log file: 

 * 
 * [8/27/15 14:14:13:708 COT] 000003f0 webapp E com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E: [Servlet Error]-[/WcmSitePreferences.jsp]: java.lang.IllegalArgumentException: can't parse argument number 
   at java.text.MessageFormat.makeFormat(MessageFormat.java:1350)
   at java.text.MessageFormat.applyPattern(MessageFormat.java:469)
   at java.text.MessageFormat.<init>(MessageFormat.java:361)
   at java.text.MessageFormat.format(MessageFormat.java:822)
   at com.filenet.wcm.toolkit.util.WcmException.toString(WcmException.java:281)
   at com.filenet.wcm.toolkit.util.WcmException.toString(WcmException.java:268)
   at com.filenet.wcm.toolkit.util.WcmException.getMessage(WcmException.java:292)
   at com.filenet.wcm.toolkit.server.ui.WcmErrorMessageBox.getFriendlyErrorMessage(WcmErrorMessageBox.java:221)
   at com.filenet.wcm.toolkit.server.ui.WcmErrorMessageBox.render(WcmErrorMessageBox.java:240)
   at com.filenet.wcm.toolkit.server.util.FrameworkException.renderErrorMessageBox(FrameworkException.java:249)
   at com.ibm._jsp._WcmError._jspService(_WcmError.java:132)
   .
   .
   .


CAUSE
The deployed version of the WcmApiConfig.properties file contained invalid RemoteServer URLs which did not match the WcmApiConfig.properties in the install directory. The URLs in the install directory started with "cemp:" but the URLs in the deployed directory were missing the "cemp:".

The install location for Workplace is usually something similar to the following: 

/opt/FileNet/AE/Workplace/WEB-INF/WcmApiConfig.properties And the WcmApiConfig.properties normally contains the following RemoteServer Url entries: 

 * RemoteServerUrl = cemp:corbaloc::<server>:<port>/cell/clusters/CE-Cluster/FileNet/Engine 
   RemoteServerUploadUrl = cemp:corbaloc::<server>:<port>/cell/clusters/CE-Cluster/FileNet/Engine 
   RemoteServerDownloadUrl = cemp:corbaloc::<server>:<port>/cell/clusters/CE-Cluster/FileNet/Engine


The WebSphere deployed location for Workplace should be similar to the following:  * 

But the WcmApiConfig.properties may contain the following RemoteServer Url entries (without "cemp:"):  * RemoteServerUrl = corbaloc::<server>:<port>/cell/clusters/CE-Cluster/FileNet/Engine 
   RemoteServerUploadUrl = corbaloc::<server>:<port>/cell/clusters/CE-Cluster/FileNet/Engine 
   RemoteServerDownloadUrl = corbaloc::<server>:<port>/cell/clusters/CE-Cluster/FileNet/Engine


This same behavior has been reported with WorkplaceXT as well. 
ENVIRONMENT
AE Workplace 4.0.2.x



RESOLVING THE PROBLEM
Redeploy AE Workplace using the WcmApiConfig.properties file that contains the "cemp:" at the beginning of the URLs for the RemoteServer entries.