Title: IBM What are XMLNames and why am I running out of space for them on my IBM WebSphere DataPower SOA Appliance? - United States

Text:
throttler; qcodes; free qcodes; xml names; 0x01a10016; qname TECHNOTE (FAQ)

QUESTION
 I am seeing warnings in my log: "Number of free XML Names is very low." 
What are XMLNames and why are they getting used up? 

CAUSE
The XMLName is an internal, fixed-width identifier for XML element and attribute names. Parsing XML documents consumes XMLNames. They are used to store XML prefixes, namespaces, etc. IBM also reserves several thousand XMLNames such as DPLOG_* for internal use. 

Some common toolkits (such as Apache Axis) create new, unique XML prefixes for each message. This will consume XMLNames rapidly. 


ANSWER
XMLNames capacity is not configurable in DataPower. However, when the XMLNames reach their configured threshold, DataPower will attempt to free unused ones automatically. 


You should see Throttler messages such as this in your log: "The number of XML Names currently being used by the system is high. The system is attempting to free unused XML names (1)."

XML Names free percentage is not a good indicator of the number of services that can be deployed on a given device.

Checking your XMLNames status:

You may view the percentage of free space for XML Names entries by displaying the Status > XML Processing > XML Names page in the WebGUI.

You may view the list of XMLNames entries on your device by looking at its internal state. 

Open your error report or internal-state file, and scroll down to the Prefixes, Local Names and Namespace URIs. These three fields together contain your XMLNames. You may be able to identify the source of your excessive XMLNames by looking at the namespaces in your error report.

Normally, DataPower will automatically free unused XMLNames. On occasion, it may be unable to do so. In such cases, please refer to the product documentation portal [http://pic.dhe.ibm.com/infocenter/wsdatap/v6r0m0/index.jsp]and documentation on configuring throttle settings in the Administrator's Guide. [http://publib.boulder.ibm.com/infocenter/wsdatap/v3r8m1/index.jsp?topic=/xi50/administratorsguide73.htm]There you can learn more on how to adjust the Throttle settings, if you wish to set the percentage (between 5% and 65% remaining) when DataPower will warn you that the free XMLNames are too low. However, you cannot avoid a reload of the DataPower appliance if it reaches 5% remaining XMLNames capacity.


RELATED INFORMATION
#Saving internal state [http://www-01.ibm.com/support/docview.wss?uid=swg21587451]