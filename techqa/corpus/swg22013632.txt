Title: IBM TWS 9.4 limited support for ORACLE 12c release 2 - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Is the TWS 9.4 supported on Oracle 12c release 2? 

ANSWER
 

TWS 9.4 FP2 support the Oracle 12c release 2 only at run time. 

The scenario is that customer will upgrade an already existing Oracle 12c release 1 to release 2 into an enviroement where TWS 9.4 is already installed. 

 

Procedure: 

 

1) Backup the following files: 


/opt/IBM/TWA/WAS/TWSProfile/bin/setupCmdLine.sh
/opt/IBM/TWA/WAS/TWSProfile/logs/manageSdkEnableAdmin.trace
/opt/IBM/TWA/TWS/dblighttool/launchUpgradeIWSDB.bat
/opt/IBM/TWA/TWS/dblighttool/launchUpgradeIWSDB.sh
/opt/IBM/TWA/TWS/tws_tools/postUpgradeEARs.sh
/opt/IBM/TWA/TWS/tws_tools/createProfile.sh
/opt/IBM/TWA/TWS/dbtools/oracle/scripts/updateSetupCmdLine.sh
/opt/IBM/TWA/TWS/dbtools/oracle/scripts/createdb_root.sh
/opt/IBM/TWA/TWS/dbtools/oracle/scripts/migratedb_root.sh
/opt/IBM/TWA/TWS/dbtools/oracle/scripts/launchdb_root_ora.sh
/opt/IBM/TWA/TDWB/dblighttool/launchUpgradeIWSDB.sh
/opt/IBM/TWA/TDWB/dblighttool/launchUpgradeIWSDB.bat
/opt/IBM/TWA/TDWB/dbtools/oracle/scripts/createdb_root.sh
/opt/IBM/TWA/TDWB/dbtools/oracle/scripts/migratedb_root.sh
/opt/IBM/TWA/TDWB/bin/tdwb_env.sh
/opt/IBM/TWA/wastools/InstallOracleDataSource.sh


2) Upgrade the Oracle 12c release 1 to release 2. 

 

3) After the Upgrade if the Oracle home has been changed then the user need to change also the Oracle_home that is reported in all the files listed at point 1. 

 

4) Run wastools as for eg: 

 

<TWAHome>/wastools/showDataSourceProperties.sh > myDSPs.txt 

 

Edit the file myDSPs.txt changing the Oracle Home. 

 

Run changeDataSourceProperties.sh myDSPs.txt 

 

TWS and WAS needs to be shut-down before these changes. 

 

4) In the following files change the <ojdbc6.jar> with < ojdbc8.jar>:
/opt/IBM/TWA/WAS/TWSProfile/config/cells/TWSNodeCell/nodes/TWSNode/servers/server1/resources.xml
/opt/IBM/TWA/TWS/dblighttool/launchUpgradeIWSDB.bat
/opt/IBM/TWA/TWS/dblighttool/launchUpgradeIWSDB.sh
/opt/IBM/TWA/TWS/tws_tools/postTWSUpgradeChanges.jacl
/opt/IBM/TWA/TWS/tws_tools/postTWSDMInstallationChanges.jacl
/opt/IBM/TWA/TWS/tws_tools/postTWSInstallationChanges.jacl
/opt/IBM/TWA/TDWB/dblighttool/launchUpgradeIWSDB.sh
/opt/IBM/TWA/TDWB/dblighttool/launchUpgradeIWSDB.bat
/opt/IBM/TWA/TDWB/bin/tdwb_env.sh


5) Restart the product.