Title: IBM PM64940: AFTER MIGRATING FROM WEBSPHERE MQ VERSION 701 TO VERSION 710 THE CHIN CAN ABEND WITHIN CSQXRFIC +03338 - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  After startup of the CHIN and Version 710 an ABEND0C4 can occur
   in load module CSQXRCTL, code part CSQXRFIC+03338. Dump symptom
   string will be similar to :
   
   
   
   RIDS/CSQXRCTL#L RIDS/#UNKNOWN AB/S00C4 PRCS/00000011
   REGS/06A3C
   REGS/B2BF0
     Symptom             Description
     -------             -----------
     RIDS/CSQXRCTL#L     Load module name: CSQXRCTL
     RIDS/#UNKNOWN       Csect name: #UNKNOWN
     AB/S00C4            System abend code: 00C4
     PRCS/00000011       Abend reason code: 00000011
     REGS/06A3C          Register/PSW difference for R06: A3C
     REGS/B2BF0          Register/PSW difference for R0B:-2BF0
   In the apar case an abend with SYSTEM COMPLETION CODE=378
   REASON CODE=00000014 was also reported. Hursley review
   determines that the rfxCLUSTER_Q_MGR object has changed
   between version V701 and V710 so that the offset of the MQCD
   contained within it is now different. However, the version
   number of the rfxCLUSTER_Q_MGR object has not been changed to
   reflect this. This causes a problem when processing V701
   records from the respository queue by a V710 queue-manager
   and can result in the 0C4 seen here.
   
   Search words: ABEND0C4 ABENDS0C4 ABEND378 ABENDS378
   Additional symptoms:
   The symptom string may be
   ABN= 0C4-00000004,C=R3600.710.CHIN,M=CSQXPRCR,LOC=CSQXRCTL.
   CSQXRFIC+0333E
   With offset 03338, the 0C4 is for a PIC11 due to the storage
   page not being allocated
   With offset 0333E, the 0C4 is for a PIC4 due to the storage
   page being allocated to a different key
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS Version 7 *
   *                 Release 1 Modification 0.                    *
   ****************************************************************
   * PROBLEM DESCRIPTION: Repository manager abends with an S0C4  *
   *                      during migration to WebSphere MQ        *
   *                      Version 7.1.0 from a previous version.  *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   During migration to V7.1.0, the WebSphere MQ queue manager needs
   to migrate various objects to a new internal format. This is
   done automatically.
   
   In some cases, a cluster queue manager object may have a
   variable amount of data following the static part of the
   definition.
   
   When calculating the precise length of data to copy from the old
   object to the new one, there may be a miscalculation that causes
   the copy length to go negative. This will cause the channel
   initiator to overlay storage and will eventually result in an
   S0C4 abend occurring in CSQXRFIC.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Migration processing has been amended to ensure the correct
   calculation is made for object lengths during migration to
   V7.1.0.
   100Y
   CSQXRFIC
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM64940
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   100
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-05-18
   
   
 * CLOSED DATE
   2012-09-24
   
   
 * LAST MODIFIED DATE
   2012-12-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK82019
   
   

MODULES/MACROS
 *  CSQXRFIC
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R100 PSY UK82019 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK82019]
   UP12/11/06 P F211
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.