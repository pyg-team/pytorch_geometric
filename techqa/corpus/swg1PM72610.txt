Title: IBM PM72610: XQE-DAT-0001 DATA SOURCE ADAPTER ERROR ENABLING DQM WITH PARAMETER MAPS - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS SUGGESTION FOR FUTURE RELEASE.
    
   
   

ERROR DESCRIPTION
 *  While creating a package using parameter maps, and enabling
   dynamic query mode, the following error message is received:
              ??
                        ??Error :
                                  ??XQE-DAT-0001 Data source
   adapter error:
   ??"PRODUCT.PRODUCT_NUMBER" is not valid in the context where it
   is used..  ??SQLCODE=-206, SQLSTATE=42703, DRIVER=3.53.95
   ????This issue does not occur, if you remove usage of parameter
   maps, or without DQM
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  The Cognos software is behaving as designed.
   
   The problem is not related to parameter mapping. The following d
   efault SQL in the Go Sales FM model (which was used for the test
   case associated with this APAR) will execute successfully in bot
   h DQM (dynamic query mode) and CQM (compatible query mode):
   
   "Select * from [Go Sales].PRODUCT"
   
   However, if the FM expression is modified in either of the follo
   wing ways (the first one is what was done in the testcase) then
   an error will be encountered in both DQM and CQM.:
   
   1) Select  * from  [Go Sales].PRODUCT where PRODUCT_NUMBER=#$PAR
   1{'SRC'}#
   
   2) Select   * from  [Go Sales].PRODUCT where PRODUCT_NUMBER = 11
   10
   
   Error message:  "PRODUCT.PRODUCT_NUMBER" is not valid in the con
   text mean could not select GODB0510.PRODUCT.PRODUCT_NUMBER from
   GOSL0510.PRODUCT table.
   
   Note the following section from the DB2 documentation:
   +++++
   When qualifying a column with the exposed table name form of a t
   able designator, either the qualified or unqualified form of the
    exposed table name can be used. However, the qualifier used and
    the table used must be the same after fully qualifying the tabl
   e name or view name and the table designator
   +++++
   
   When the user does not qualify the column "PRODUCT.PRODUCT_NUMBE
   R",  DB2 will qualify it using CURRENT SQLID. Therefore if the u
   ser is using GODB0510 as the user ID to connect ot DB2,then the
   column will be qualified as "GODB0510.PRODUCT.PRODUCT_NUMBER".
   
   Note that the DB2 standard also specifies that if the table does
   n't have a correlation name, the column should be qualified with
    the exposed table name, which is the qualified name if it is in
   deed qualified.
   
   The issue associated with this APAR will not be encountered unle
   ss one is modifying the default SQL in FM, but if modifying that
    SQL is required then the proper solution to achieve the desired
    results in DQM is one of the following:
   
   1.   Add a correlation name:
    Select   * from  [Go Sales].PRODUCT PRODUCT where PRODUCT_NUMBE
   R = #$PAR1{'SRC'}#
   
   2.  Qualify the column:
   Select GOSL0510.PRODUCT.PRODUCT_NUMBER, .... from [Go Sales].PRO
   DUCT  where GOSL0510.PRODUCT.PRODUCT_NUMBER = #$PAR1{'SRC'}#
   
   ==== Yan, Tracy (H.) on 18 September 2012 15:16:03 ====
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PM72610
   
   
 * REPORTED COMPONENT NAME
   COG FRAMEWRK MG
   
   
 * REPORTED COMPONENT ID
   5724W12FM
   
   
 * REPORTED RELEASE
   A11
   
   
 * STATUS
   CLOSED SUG
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-09-11
   
   
 * CLOSED DATE
   2012-11-21
   
   
 * LAST MODIFIED DATE
   2012-11-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS