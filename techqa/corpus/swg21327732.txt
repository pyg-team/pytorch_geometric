Title: IBM ERROR: Your account has logged in somewhere else and made your session invalid - United States

Text:
1327732; user[0] NOT FOUND; PK71972; cannot log into UI; forge; Build Forge; RATLC01267094; Your account has logged in somewhere else and made your session invalid. TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote details a known defect where LDAP users that login for the first time with upper or mixed case cause subsequent login attempts to fail with, Your account has logged in somewhere else and made your session invalid, when using IBM Rational Build Forge with an Oracle backend database. 

SYMPTOM
 

When LDAP users initially log in using uppercase, their accounts are created and they each get a session. However, after logging off, these LDAP users are disallowed from logging back in, and they receive this message when kicked out:

Your account has logged in somewhere else and made your session invalid.

As well as this system message getting logged: 

User id [0] was not found. 

Note: This error has also been reported to occur when logging on for the first time with upper or mixed case login id.



CAUSE
 

This issue happens when Oracle is the backend database in the environment, which is case sensitive and stores the user name in the manner that it was initial entered. 

For example, if the username is entered as: 

 * Mixed case - User_First 
 * lowercase - user_first 
 * UPPERCASE - USER_FIRST


... then the username is saved in that specific case in the database and must be entered in this fashion for each session to work correctly. However, the problem occurs when the username is first entered in an alternate case other than what it was saved as in the database. The initial login does not fail and a session is created, but the subsequent login attempts do not work (even if you enter the correct case as it is stored in the database), which leads to the above error. 

This issue has been identified as a product defect APAR PK71972, which is investigating why LDAP users who use upper case login names fail with an Oracle backend database.


DIAGNOSING THE PROBLEM
 

The SELECT query that Build Forge uses to see if each user exists in the database keeps the user name in the case that is entered in. Therefore, if it is entered in all UPPRER_CASE or lower_case or Mixed_Case, then it remains as that when checking against the database. If the user name stored in the database does not match the user name that is entered, then the login fail. However, on the first login you get a pass and are allowed to work with no error, which is not understood currently.

There is no simple permanent fix for this, as the root cause of this is that Oracle is case sensitive. Build Forge cannot globally set the user names all to lowercase as the built in logins created in uppercase would then be affected. The SELECT query that Build Forge issues needs a clause where it checks for the LDAP users in lowercase as this is how we store them in the database (and other users, non-LDAP in the format entered by the end user).


RESOLVING THE PROBLEM
 


The defect is still under investigation.

WORKAROUND:

As the Oracle database is case sensitive, it is ideal to manage the environment in a single case, either all lowercase or all uppercase.