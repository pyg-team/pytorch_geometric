Title: IBM Known issues in SKLM v2.5 - United States

Text:
 TROUBLESHOOTING

PROBLEM
This document addresses the known issues with SKLM 2.5, apart from the known issues mentioned in Overview Guide -->Release Information-->Known limitations, problems, and workaround section

RESOLVING THE PROBLEM
Installation Issues: 

Issue 1 :
Installing SKLM v2.5 on RHEL 64 bit machines , may result in the below error:

"InstallError
===========================================================================
eclipse.buildId=unknownjava.fullversion=JRE 1.6.0 IBM J9 2.4 Linux x86-32 jvmxi3260sr9-20110203_74623 (JIT enabled, AOT enabled)J9VM - 20110203_074623JIT - r9_20101028_17488ifx3GC - 20101027_AABootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=enFramework arguments: -toolId install -accessRights admin input @osgi.install.area/install.xmlCommand-line arguments: -os linux -ws gtk -arch x86 -toolId install -accessRights admin input @osgi.install.area/install.xml!ENTRY com.ibm.cic.agent.ui 4 0 2013-07-09 14:11:47.692!MESSAGE Could not load SWT library. Reasons:/home/tklm-v3/disk1/im/configuration/org.eclipse.osgi/bundles/207/1/.cp/libswt-pi-gtk-4234.so (libgtk-x11-2.0.so.0: cannot open shared object file: No such file or directory)swt-pi-gtk (Not found in java.library.path)/root/.swt/lib/linux/x86/libswt-pi-gtk-4234.so (libgtk-x11-2.0.so.0: cannot open shared object file: No such file or directory)/root/.swt/lib/linux/x86/libswt-pi-gtk.so (/root/.swt/lib/linux/x86/liblibswt-pi-gtk.so.so: cannot open shared object file: No such file or directory)"

Solution: 
This is because RHEL 64 distributions come without 32bit libraries installed ,to get around this issue, please refer to IBM IM technote : https://www-304.ibm.com/support/docview.wss?uid=swg21459143 [https://www-304.ibm.com/support/docview.wss?uid=swg21459143].
Following the procedures indicated in this tech note, the 32 bit libraries that are needed will get added to the RHEL machine.

Issue 2: 
If machine has multiple partitions and user chooses to install SKLM on other partition (apart from /opt) and less space is detected on /opt, installer will throw an error "One or more prerequisite failed to meet the requirement " and user can not proceed with install.

Solution: 
As a solution we can either increase space in /opt to meet the documented hardware requirement or create a "sklmInstall.properties" file with property "SKIP_PREREQ=true" in the the /tmp directory on Unix or %TEMP% directory on Windows â€œ to skip the pre-requisite checker.
(P.S. It is not the recommended practice to skip the pre-requisite checker. )

Issue 3: 
SKLM v2.5 Installer Prerequisite checker incorrectly displays low disk space in the directory /opt , even if disk space is low on / directory

Solution 
This is a know limitation and will be resolved in the future.
Workaround is to have sufficient disk space (12 GB ) on the /opt partition.

Issue 4: 
During SKLM 2.5 Installation, DB2 credentials must be entered. While entering the DB2 user password, the password must comply with the OS specified password policy. If the password does not comply with the OS specified password policy, SKLM install will fail

Solution: 
Users need to go through the OS password policy before SKLM v2.5 install and during installation ensure to create a DB2 user password that will comply with the OS password policy


Issue 5: 
Non root installation is not supported with Silent mode.

Migration Issues 

Issue 1: 
Descriptions entered via the TIP admin panel for Users and Groups -> Manage Groups will not be migrated while migrating from TKLM v2 / TKLM v2.0.1 to SKLM v2.5.However, the group itself is migrated.
Solution: 
This a known limitation.
In case you want to add the descriptions , it can be entered via the WAS admin panel for each User Group. Users and Groups -> Manage Groups than click on the group to update and enter the desired description.

Issue 2: 
On SKLM v2.5 UI, welcome page there is link which shows last backup taken date and timestamp. This link doesn't show after we do migration from TKLMv1 to SKLM v2.5
Solution: 
Taking a backup will resolve this issue.


Issue 3: 
Manifest warnings are shown in migration.log when migration is done from EKM to SKLM 2.5,below is a sample warning:
"WARNING: Duplicate name in Manifest: Class-Path.
Ensure that the manifest does not have duplicate entries, and
that blank lines separate individual sections in both your
manifest and in the META-INF/MANIFEST.MF entry"
Solution: 
This warnings can be ignored.

Issue 4 :
Migration from previous versions (EKM /TKLM v2.0, TKLMv2.0.1 ) to non root installation of SKLM v2.5 is not supported.

SKLM UI Issues 

Issue 1: 
When we have < or > characters in certificate description field in UI, descriptions are modified when displayed. If we have < character then description will be enclosed in double quotes and if we have > character then remaining description will be truncated
Solution: 
This a known limitation. Do not use these characters for a certificate description.

Issue 2: 
Sorting on name does not work on the SKLM v2.5 UI ,GPFS->Admin panel->Modify Key->Select->Device group panel.
Solution: 
This a known limitation to be resolved in future fix pack.

Issue 3: 
When user clicks on any menu(other than the Welcome menu) on the SKLM GUI and in quick succession click on Welcome menu, Welcome panel does not open
Solution: 
This is an intermittent issue and has following workarounds:
1. Click on home link which is available on every page.
2. Click on some other menu and let it load and then click on Welcome Menu


REST Service Issues 

Issue 1: 
In the examples for REST Service APIs provided in the reference section documentation in InfoCenter, the Authorization HTTP header is not indicated.
The Authorization HTTP header must be indicated as - Authorization: SKLMAuth userAuthID=<authIDValue> .

The examples for the following REST Service APIs have this issue:


"Certificate Attribute Update" , "Certificate Generate Request" , "Certificate Default Rollover Add ",
"Certificate Default Rollover Delete" , "Certificate Default Rollover List" , "Certificate Export" ,
"Certificate Import" , "Certificate Update" ,"Delete Key" , "Device Delete" , "Device Group Attribute Delete","Device Group Attribute List " , "Device Group Attribute Update" , "Device Group Base List" , "Device Group Create" , "Device Group Delete" , "Device Update ", "Group Create" ,"Group Delete" , "Group Entry Add " , "Group Update REST Service" , "Key Export" ," Key Group Default Rollover Add Service" ," Key Group Default Rollover List Service" , "Key Import" , "List Key" , "Machine Device Add" , "Machine Device Delete" ," Machine Device List " , "Machine Identity Add" , "Machine Identity Delete" , "Machine Identity List" , "Replication Now" ,"Replication Start" , "Replication Status" , "Replication Stop" , "Secret Key Create " , "Truststore Certificate List "

Issue 2: 
In REST Service APIs provided in the Reference Guide documentation of InfoCenter, the URL indicated for " Key Group Default Rollover List " REST Service is incorrect
Solution: 
The correct URL for" Key Group Default Rollover List" REST Service is
https://<host>:<port>/SKLM/rest/v1/keygroups/rollover?name=<namevalue>&usage<usagevalue>&uuid=<uuid value>

Server Issues: 

Issue 1: 
Taking a backup in SKLM 2.5 through CLI or GUI backs up configuraton files, key store files and SKLM Application data stored in the database.
If any of these backup files exceed 4GB in size, then the backup file created cannot be used for a restore operation and using this backup file will result in a failed restore operation.
Solution :
This is a known limitation and will be resolved in a future fix pack

Issue 2: 
KMIP Recertify() request will not work with a certificate request.
Solution: 
This a known limitation to be resolved in future fix pack.

Issue 3: 


Its observed on AIX platform, if the WAS installation path is any other path apart from "/opt/IBM/WebSphere/AppServer" SKLM restore operation will fail.
Symptom: 
tklmBackupRunRestore CLI will fail with this error:

"CTGKM0850E An exception occurred during the restore operation. Examine the db2restore.log for exception information. Complete the restore operation before attempting any other IBM Security Key Lifecycle Manager tasks."

db2restore.log will also not be created under <WAS_INSTALL_DIR>/products/sklm/restore folder.
Solution: 
This is because files under <WAS_INSTALL_DIR>/products/sklm/bin/db does not have execute permission.
Providing required execute permission to files will resolve the issue.
chmod -Rf 755 <WAS_HOME>/products/sklm/bin/db
example:
chmod -Rf 755 /usr/IBM/WebSphere/AppServer/products/sklm/bin/db


Miscellaneous 

Issue 1: 
SKLM v2.5 Install Guide -->Planning the Installation-->Hardware requirements for distributed systems incorrectly mentions "For distributed systems, the use of a virtual machine degrades the performance of IBM Security Key Lifecycle Manager.".
There will be no performance impact seen for SKLM on VMs

Issue 2: 

Weak passwords are allowed while creating a backup under Backup and Restore and in "Replication Backup Encryption Passphrase" while configuring Replication.

Solution: 

Users are advised to specify strong passwords while creating backups and also use strong password in "Replication Backup Encryption PassPhrase" while configuring replication. Strong password can include atleast 2 upper case characters, 2 numbers and 1 special character.