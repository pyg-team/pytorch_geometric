Title: IBM PI45671: ERROR WHILE DEPLOYING AN (JMS) ADAPTER WHICH DEPENDS ON 3RD PARTY JMS IMPLEMENTATION - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  "FWLSE0323E: Missing JMS spec classes in the classpath" is shown
   when trying to deploy a JMS adapter which relies on non-IBM JMS
   provider. For example: Apache MQ provider jar.
   Even if the 3rd party JMS JAR is provided in server private
   library reference. The problem is that at deploy time the wrong
   class loader is used to search for that JAR.
   
   
    
   
   

LOCAL FIX
 *  1. one workaround is to put the JMS implementation jar is a
   server common location (which is visible from everywhere)
   2. A Liberty profile workaround is to use the Liberty extended
   JAR and add the Liberty JMS client feature to the server.xml
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * MFP developers who use JMS adapters.                         *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * When trying to deploy a JMS adapter to the MFP server        *
   * embedded into the Studio, the deployment fails with the      *
   * following exception:                                         *
   * "Missing JMS spec classes in the classpath. Make sure that   *
   * your application server supports JMS and that the feature is *
   * enabled in server configuration...."                         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * -                                                            *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  First note that the Studio Embedded MFP server does not support
   JMS API out of the box.
   There are two options to develop JMS adapters:
   
   Option A - Using a stand alone server:
   ----------------------------------------------------
   1. Goto WASDev (https://developer.ibm.com/wasdev/downloads), and
   download the Full Platform Liberty profile server. Follow
   installation instructions.
   2. Add the JMS client Liberty feature by running the command:
   wlp/bin/installUtility install wasJmsClient-1.1
   3. Edit your server.xml to include the feature:
           <feature>wasJmsClient-1.1</feature>
   
   
   
   Option B - Add JMS API to the embedded server:
   ----------------------------------------------
   1. Take the Apache MQ client jars (one client jar and 2-3
   specification jars. See Apache documentation) and copy them into
   wlp/usr/shared/resources.
   2. Edit the server configuration (server.xml): In  <library
   id="worklight-7.x.x">  element add a matching file set line for
   each new JAR.
   For example, for apache MQ:
    <library id="worklight-7.x.x">
   
           <fileset dir="${wlp.user.dir}/shared/resources"
   includes="worklight-jee-library-7.x.x.jar"/>
           <fileset dir="${wlp.user.dir}/shared/resources"
   includes="activemq-all-5.10.0.jar"/>
           <fileset dir="${wlp.install.dir}/lib"
   includes="com.ibm.ws.crypto.passwordutil*.jar"/>
     </library>
   
   * x in the version acts as a place holder.
   
   That library ID element should be attached later to the
   MobileFirst <application> element as a common Library Reference
   (usually it is already attached as common reference). For
   example:
    <application context-root="/MFPApp1" id="MFPApp1"
   location="MFPApp1.war" name="App1" type="war">
           <classloader commonLibraryRef="worklight-7.x.x">
               <privateLibrary>
   
                   <fileset dir="${wlp.user.dir}/shared/resources"
   includes="hsqldb-2.2.8.jar"/>
               </privateLibrary>
   
           </classloader>
   
       </application>
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI45671
   
   
 * REPORTED COMPONENT NAME
   MFPF/WORKLIGHT
   
   
 * REPORTED COMPONENT ID
   5725I4301
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-07-26
   
   
 * CLOSED DATE
   2016-03-27
   
   
 * LAST MODIFIED DATE
   2016-03-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS