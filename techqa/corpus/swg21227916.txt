Title: IBM Domino server overrides "ulimit -c" setting - United States

Text:
linux; core dump; ulimit; zlinux TECHNOTE (TROUBLESHOOTING)

PROBLEM
When Lotus速 Domino速 runs in a Linux速 on zSeries速 environment, full core dumps are taken even when "ulimit -c" is set to zero.

RESOLVING THE PROBLEM
In a Linux on zSeries environment, the Domino user can have the core dump setting (ulimit -c) set to a value of zero '0'. However, the Domino startup script overrides the "ulimit -c" setting. Therefore, no matter what core file size settings an administrator may have set, the Domino server forces core dumps of an unlimited size to be taken. 

If you refer to the the startup script, you see the following entry that explains that these are zLinux specific settings: 

 

 * 
 * 
 * 
 * 
 * 
 * 
 * 


Also, you should note the following behavior as described in the manual page for ulimit ("man ulimit"):


 * 


This means that the "ulimit -c" value is "per shell" or user session. Because the Domino server is running in a sub-shell, the Domino user will not be able to see the value that the Domino server is using by issuing "ulimit -c" from his or her shell prompt. 

These core dumps, by default, are written to the notesdata directory. The notes.ini parameter debug_core_path= /path can be used to write them to another directory. For more details on usage, refer to "Directing Core Dumps to Another Directory for Domino on zSeries" (1180947) [http://www.ibm.com/support/docview.wss?rs=899&uid=swg21180947]. RELATED INFORMATION
 Determining the Core Dump file size setting ... [http://www.ibm.com/support/docview.wss?uid=swg21235277]
Directing Core Dumps to Another Directory [http://www.ibm.com/support/docview.wss?uid=swg21180947]