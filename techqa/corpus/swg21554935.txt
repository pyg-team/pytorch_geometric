Title: IBM Error in EDI.log Exception in EDIEncode Failed to save extensions - United States

Text:
STERLINGNFX TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Error in EDI.log Exception in EDIEncode Failed to save extensions 

SYMPTOM
Gentran Integration Suite version 4.2 

Errors in the EDI log
Business process uses both the 'Document Extraction Service' and the 'EDI Encoder Service'
Business Process ends with success

Error Message
Errors in the EDI.log:-

When using a MySQL database:-
ERROR 000510070006 EDI.EDI_ENCODING.ERR_EDIEncoder_exception2 Exception in EDIEncode 
ERROR SQL Error Code: 0
com.sterlingcommerce.woodstock.workflow.ExtensionDuplicateException: Failed to save extensions.

ERROR Chained Exception:
ERROR SQL Error Code: 1062
ERROR SQL State: S1009
java.sql.SQLException: Invalid argument value, message from server: "Duplicate entry 'W2KSI41:19616c7:1237b4b3619:-789f' for key 1"

When using a DB2 database:-
ERROR Chained Exception:
ERROR SQL Error Code: -803
ERROR SQL State: 23505
com.ibm.db2.jcc.a.SqlException: DB2 SQL error: SQLCODE: -803, SQLSTATE: 23505, SQLERRMC: 1;GISADM.EDI_DOCUMENT_STATE


RESOLVING THE PROBLEM
These errors occur when a document is "EDI Encoded" twice. 

The "Document Extraction" service has a parameter "EDIEncodeDocument".
If this is set to "Yes" and then the "EDI Encoder" service is used later in the bp (for the same document), then the errors are generated in the EDI log.
The BP works as expected.

To prevent the errors, change the "Document Extraction" service and set the "EDIEncodeDocument" parameter set to "No".

 

HISTORICAL NUMBER
 NFX6983