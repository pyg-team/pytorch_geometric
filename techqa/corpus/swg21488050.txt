Title: IBM When running a scoring test via the SOAPUI utility - Large number of database connections against the C&DS repository appear. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 We are seeing a large number of database connections against the Collaboration & Deployment Services (C&DS) repository when scoring via the SOAPUI utility. 
Why is this happening and haw can we restrict this? 

RESOLVING THE PROBLEM
This is working as designed.
------------------------
When the Application Server starts, it will allocate the minimum number of connections so they are available for any Collaboration & Deployment Services component (e.g: SOAPUI utility) to use. As the system is running, the various system activities (Saving files, running jobs, browsing for files) will consume connections from the connection pool. The application server will manage the connection pool and will first take connections from the minimum pool size. If there are more than 20 database activities happening at one time, then the application server will allocate more connections (this is when one will see the database connections rise above 20).

When the connection pool rises above the minimum, there is a sort of "time out" value, that is specific to each application server, but it tells the application server when to start discarding the surplus connections and get back to the minimum.

The default connection pool minimum size is 20, so you will always see 20 connections. This minimum of 20 connections,can be modified in the file spss-platform-ds.xml by changing the minimum connections parameter to something less than 20. But the lower this number is the slower the overall system performance will be under general system load. This is a design of the application servers to pool the connections for faster performance. 

While reducing the minimum connections will not have an affect on the load test, it will affect over all system performance when other activities are running.

The minimum number of connections only end when JBOSS is stopped. If JBOSS is restarted the minimum number of connections is re-allocated. When the number of connections goes over the minimum, the application server will manage when its time to close those connections to free up resources.

If you restart the database the application server will reconnect to the database and rebuild the minimum number of connections as it detects that the old connections are invalid.

RELATED INFORMATION
 Need more help? Our C&DS forum is Live! [https://developer.ibm.com/answers/topics/collaboration.html?smartspace=predictive-analytics]




HISTORICAL NUMBER
 91809