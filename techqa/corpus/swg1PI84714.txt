Title: IBM PI84714: RACF SECURITY MESSAGE ICH408I FOLLOWED BY DFHCE3541 SECURITY INTERFACE ERROR (00000030). SIGN-ON IS TERMINATED. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  You've installed maintenance to RSU/1701.  You start to receive
   RACF message:
   ICH408I USER(  ) GROUP(NOTERM  ) NAME(  )
     LOGON/JOB INITIATION - NOT AUTHORIZED TO TERMINAL CONSOLE1
   
   DFHCE3541  APPLID Security interface error (00000030). Sign-on
   is terminated.
   
   You also see DFHSN1108  APPLID Signon at console CONSOLE1 by
   user USERID has failed.
   
   The trace shows:
   XS FE04 XSSB  *EXC* FUNCTION(INQUIRE_PASSWORD_DATA)
   RESPONSE(EXCEPTION) REASON(UNKNOWN_ESM_RESPONSE)
   SAF_RESPONSE(8) SAF_REASON(0)
   ESM_RESPONSE(30) ESM_REASON(0) PASSWORD_FAILURES(0)
   
   The problem occurs after the installation of CICS APARs PI62428 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI62428]
   and PI64443 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI64443].
   
   PI62428 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI62428] added POE onto the RACROUTE REQUEST=VERIFYX call made
   by  DFHXSSB to verify the password.  It did not add the SESSION
   parameter to specify the type of the entry port.  The VERIFYX
   call was only ever used when the IRRSPW00 call failed.  In this
   case the pasword is valid so IRRSPW00 would work and the
   VERIFYX call would never get issued. The subsequent VERIFY
   ENVIR=CREATE passes both POE and SESSION and so
   the signon would succeed.
   
   
   PI64443 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI64443] changed DFHXSSB to use the updated version of the
   IRRSPW00 and to set the fast fail option.  This causes the
   first IRRSPW00 call to fail immediately (because there isn't a
   cache entry) and for CICS to use the VERIFYX call to perform
   the valid signon.  This VERIFYX call fails because it passes
   POE but does not pass SESSION and the supplied
   port of entry is a console and not the default of a
   TSO/terminal session.
   
   Additional Symptom(s) Search Keyword(s): KIXREVSWM
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All.                                         *
   ****************************************************************
   * PROBLEM DESCRIPTION: CICS signon error accompanied with      *
   *                      messages DFHCE3541 and ICH408I.         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A user attempts to signon to CICS at a console.  This user only
   has access via certain consoles and has no access to CICS from
   a regular terminal.  After the fix for APAR PI52900 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI52900] is applied,
   the console signon will fail if the user currently has a
   non-zero password failure count.
                                                                  .
   The failure occurs because PI52900 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI52900] added the POE parameter to
   the RACROUTE REQUEST=VERIFYX call made by DFHXSSB but did not
   also add the SESSION parameter.  This causes the external
   security manager to use the default SESSION value which is a
   standard TSO terminal session.
   
   
    
   
   

PROBLEM CONCLUSION
 *  UI33711 UI44249
   
   CICS security code has been amended to pass a SESSION parameter
   on the RACROUTE=VERIFYX call from within DFHXSSB.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI84714
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-07-19
   
   
 * CLOSED DATE
   2017-09-14
   
   
 * LAST MODIFIED DATE
   2017-10-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PI82748 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI82748]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI50312
   
   

MODULES/MACROS
 *  DFHUSAD  DFHXSPW  DFHXSPWT DFHXSSB  DFHXSSBT
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY UI50312 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI50312]
   UP17/09/19 P F709
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.