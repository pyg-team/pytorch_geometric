Title: IBM IT16145: IPV6 PREVENTS OPS TO START DUE TO WHICH IBM B2B STERLING INTEGRATOR CANNOT START - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



 DIRECT LINKS TO FIXES
si_52_build_5020500_interimfix_14 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FOther+software%2FSterling+File+Gateway&fixids=5.2.5-OtherSoftware-SFG-ALL-IF00014&source=SAR]
si_52_build_5020500_interimfix_14 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FOther+software%2FSterling+B2B+Integrator&fixids=5.2.5-OtherSoftware-SI-ALL-IF00014&source=SAR]
si_52_build_5020500_interimfix_14 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FOther+software%2FSterling+B2B+Integrator&fixids=5.2.5-OtherSoftware-B2Bi-ALL-IF00014&source=SAR]


APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  IPV6 prevents OPS to start due to which IBM Sterling B2B
   Integrator cannot start.
   
   Added in the IPVSTACK=true to sandbox, and noapp picked up the
   code to pass -Djava.net.preferIPv4Stack=true
   
   
   However, the OPS JVM did not get updated. Thread dump showed
   startup hanging onthe following stack
   -Djava.net.preferIPv4Stack=true was present however this stack
   prevented the startup
   
   
   3XMTHREADINFO      "main" J9VMThread:0x0000000180A9BC00,
   j9thread_t:0x00000001800B7DF0,
   java/lang/Thread:0x07000000000023C8, state:R, prio=5
   3XMJAVALTHREAD            (java/lang/Thread getId:0x1,
   isDaemon:false)
   3XMTHREADINFO1            (native thread ID:0x196039, native
   priority:0x5, native policy:UNKNOWN, vmstate:R, vm thread
   flags:0x00000001)
   3XMTHREADINFO3           Java callstack:
   4XESTACKTRACE                at
   java/net/Inet6AddressImpl.lookupAllHostAddr(Native Method)
   4XESTACKTRACE                at
   java/net/InetAddress$2.lookupAllHostAddr(InetAddress.java:1002)
   4XESTACKTRACE                at
   java/net/InetAddress.getAddressFromNameService(InetAddress.java:
   1373)
   4XESTACKTRACE                at
   java/net/InetAddress.getLocalHost(InetAddress.java:1584)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.setLicenseStatus(LM.java:484
   )
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.setLicenseStatus(LM.java:444
   )
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.checkLicenseSetValidity(LM.j
   ava:1601)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.loadValidLicenses(LM.java:20
   39)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.loadLicensedFeatures(LM.java
   :2857)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.refresh(LM.java:3665)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.<clinit>(LM.java:4126)
   4XESTACKTRACE                at
   java/lang/J9VMInternals.initializeImpl(Native Method)
   4XESTACKTRACE                at
   java/lang/J9VMInternals.initialize(J9VMInternals.java:199(Compil
   ed Code))
   4XESTACKTRACE                at
   com/sterlingcommerce/woodstock/ops/server/OpsServer.main(OpsServ
   er.java:759)
   4XESTACKTRACE                at
   sun/reflect/NativeMethodAccessorImpl.invoke0(Native Method)
   4XESTACKTRACE                at
   sun/reflect/NativeMethodAccessorImpl.invoke(NativeMethodAccessor
   Impl.java:60)
   4XESTACKTRACE                at
   sun/reflect/DelegatingMethodAccessorImpl.invoke(DelegatingMethod
   AccessorImpl.java:37)
   4XESTACKTRACE                at
   java/lang/reflect/Method.invoke(Method.java:611)
   4XESTACKTRACE                at
   com/sterlingcommerce/woodstock/noapp/NoAppLoader.main(NoAppLoade
   r.java:82)
   3XMTHREADINFO3           Native callstack:
   4XENATIVESTACK               Java_java_net_Inet6Ad
   
   
    
   
   

LOCAL FIX
 *  STRRTC - 490423
   RW/RW
   
   Circumvention:
   none available
   
   
    
   
   

PROBLEM SUMMARY
 *  Users Affected:
   All
   
   Problem Description:
   IPV6 prevents OPS to start due to which IBM Sterling B2B
   Integrator cannot start.
   
   Added in the IPVSTACK=true to sandbox, and noapp picked up the
   code to pass -Djava.net.preferIPv4Stack=true
   
   
   However, the OPS JVM did not get updated. Thread dump showed
   startup hanging onthe following stack
   -Djava.net.preferIPv4Stack=true was present however this stack
   prevented the startup
   
   
   3XMTHREADINFO      "main" J9VMThread:0x0000000180A9BC00,
   j9thread_t:0x00000001800B7DF0,
   java/lang/Thread:0x07000000000023C8, state:R, prio=5
   3XMJAVALTHREAD            (java/lang/Thread getId:0x1,
   isDaemon:false)
   3XMTHREADINFO1            (native thread ID:0x196039, native
   priority:0x5, native policy:UNKNOWN, vmstate:R, vm thread
   flags:0x00000001)
   3XMTHREADINFO3           Java callstack:
   4XESTACKTRACE                at
   java/net/Inet6AddressImpl.lookupAllHostAddr(Native Method)
   4XESTACKTRACE                at
   java/net/InetAddress$2.lookupAllHostAddr(InetAddress.java:1002)
   4XESTACKTRACE                at
   java/net/InetAddress.getAddressFromNameService(InetAddress.java:
   1373)
   4XESTACKTRACE                at
   java/net/InetAddress.getLocalHost(InetAddress.java:1584)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.setLicenseStatus(LM.java:484
   )
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.setLicenseStatus(LM.java:444
   )
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.checkLicenseSetValidity(LM.j
   ava:1601)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.loadValidLicenses(LM.java:20
   39)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.loadLicensedFeatures(LM.java
   :2857)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.refresh(LM.java:3665)
   4XESTACKTRACE                at
   com/sterlingcommerce/security/lc/LM.<clinit>(LM.java:4126)
   4XESTACKTRACE                at
   java/lang/J9VMInternals.initializeImpl(Native Method)
   4XESTACKTRACE                at
   java/lang/J9VMInternals.initialize(J9VMInternals.java:199(Compil
   ed Code))
   4XESTACKTRACE                at
   com/sterlingcommerce/woodstock/ops/server/OpsServer.main(OpsServ
   er.java:759)
   4XESTACKTRACE                at
   sun/reflect/NativeMethodAccessorImpl.invoke0(Native Method)
   4XESTACKTRACE                at
   sun/reflect/NativeMethodAccessorImpl.invoke(NativeMethodAccessor
   Impl.java:60)
   4XESTACKTRACE                at
   sun/reflect/DelegatingMethodAccessorImpl.invoke(DelegatingMethod
   AccessorImpl.java:37)
   4XESTACKTRACE                at
   java/lang/reflect/Method.invoke(Method.java:611)
   4XESTACKTRACE                at
   com/sterlingcommerce/woodstock/noapp/NoAppLoader.main(NoAppLoade
   r.java:82)
   3XMTHREADINFO3           Native callstack:
   4XENATIVESTACK               Java_java_net_Inet6Ad
   
   Platforms Affected:
   All
   
   
    
   
   

PROBLEM CONCLUSION
 *  Resolution Summary:
   A code fix is provided.
   
   
   Delivered In:
   5020500_14
   5020603
   5020601_7
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT16145
   
   
 * REPORTED COMPONENT NAME
   STR B2B INTEGRA
   
   
 * REPORTED COMPONENT ID
   5725D0600
   
   
 * REPORTED RELEASE
   526
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-07-15
   
   
 * CLOSED DATE
   2016-09-27
   
   
 * LAST MODIFIED DATE
   2017-03-08
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   STR B2B INTEGRA
   
   
 * FIXED COMPONENT ID
   5725D0600
   
   

APPLICABLE COMPONENT LEVELS
 * R525 PSY
   UP