Title: IBM PI35728: JVM HUNG UP AND CICS HAS TO BE RECYCLED AFTER DFHSJ0001, DFHSJ1007 AND DFHSJ0918 - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  You are receiving the following messages with your application
   code,
   DFHSJ0001 An abend (code ---/AKEA)  has occurred at offset
             X'192E' in module DFHSJIN.
   DFHSJ1007 W JVMSERVER jvmserver is being disabled by CICS
             because it is in an inconsistent state.
   DFHSJ0918 JVMSERVER jvmserver is being disabled due to a
             PHASEOUT request.
   The JVM seems to get all hung up and CICS has to be recycled
   afterwards.
   Additional Symptom(s) Search Keyword(s): KIXREVWRW
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS users.                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: JVMSERVER stuck in DISABLING state      *
   *                      after message DFHSJ1007 is issued.      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A CICS task is running on a T8 TCB in a JVM server.  An
   unexpected abend occurs, in this case an 0C7 due to EIBTASKN
   being overlaid, which leads to CICS handling the abend and
   issuing message DFHSJ0001 and DFHSJ1007.  CICS then attempts to
   disable the JVMSERVER and re-enable it.
   
   The JVM function DestroyJavaVM() gets called to terminate the
   JVM cleanly.  This function waits for all non-daemon threads
   to complete.  The thread in the JVM that was being used by
   the abending CICS task still exists.  This prevents the JVM
   from terminating and leaves the JVMSERVER in a DISABLING state.
   
   The JVMSERVER will only get to a DISABLED state by issuing a
   Unix kill command against the process id or by terminating the
   entire CICS region.
   
   Additional keywords:
   
   msgDFHSJ0001  msgDFHSJ1007  msgDFHSJ0918  SJ0001
   
   
    
   
   

PROBLEM CONCLUSION
 *  JVM server abend handling and recovery processing has been
   changed so that the JVMSERVER will no longer wait for an abended
   thread to complete before reaching a DISABLED state.
   
   
    
   
   

TEMPORARY FIX
 *              *********
               * HIPER *
               *********
   FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI35728
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-02-25
   
   
 * CLOSED DATE
   2015-05-15
   
   
 * LAST MODIFIED DATE
   2015-06-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PI35443 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI35443]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI27678 UI27679
   
   

MODULES/MACROS
 *  DFHAPLJP DFHSJIN  DFHSJPTI DFHSJSA  DFHSJSC
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY UI27678 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI27678]
   UP15/05/22 P F505 ½
   
   
 * R703 PSY UI27679 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI27679]
   UP15/05/22 P F505 ½
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.