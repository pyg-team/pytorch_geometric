Title: IBM Writing Verbose GC to a Specified Log -Xverbosegclog in AIX, Linux and Windows - United States

Text:
verbose GC; verbose garbage collection; nativestd_err.log; verbose log app server appserver was TECHNOTE (FAQ)

QUESTION
 How do you get verbose GC output to another log besides native_stderr? 

CAUSE
Verbose GC data is captured by default in the native_stderr.log for AIX®, Windows® and Linux® and native_stdout.log for Solaris and HP.
Note: For writing verbose gc to a specified log in Solaris and HP-UX, please see this link [https://www-304.ibm.com/support/docview.wss?uid=swg21636533].

At present there is no capability to rotate native_stderr logs in WebSphere. Therefore you can use -Xverbosegclog to minimize the size/contents of the native_stderr log file.


ANSWER
** Note: When using Verbose GC to analyze JVM problems, it is best to leave the verbose GC logging to the default location. When writing Verbose GC to a specified log, occasional error messages are omitted or not set in-line with the data. This can make diagnosing the problem very difficult and prolong time to resolution.** 

 

WebSphere Application Server 8.5, 8.0, 7.0 
-Xverbosegclog[: <file> [,<X>,<Y>]] 
Causes -verbose:gc output to be written to the specified file. If the file cannot be found, -verbose:gc tries to create the file, and then continues as normal if it is successful. If it cannot create the file (for example, if an invalid filename is passed into the command), it will redirect the output to stderr. If you specify <X> and <Y> the -verbose:gc output is redirected to <X> files, each containing <Y> GC cycles. 

The dump agent tokens can be used in the filename. See Dump agent tokens [http://publib.boulder.ibm.com/infocenter/javasdk/v6r0/topic/com.ibm.java.doc.diagnostics.60/diag/tools/dumpagents_tokens.html] for more information. If you do not specify <file>, verbosegc.%Y%m%d.%H%M%S.%pid.txt is used. 

example: -Xverbosegclog:newgclogname.log,7,10000 




 1. In the administrative console, click Servers > Server Types > WebSphere application servers > server_name. Then, under Server Infrastructure, click Java™ and process management > Process definition. 
 2. Select Java Virtual Machine . 
 3. Specify values for the JVM settings as needed and click OK. 
 4. Click Save on the console task bar. 
 5. Restart the application server.

RELATED INFORMATION
 Java 6 Garbage Collector command-line options [http://publib.boulder.ibm.com/infocenter/javasdk/v6r0/index.jsp?topic=/com.ibm.java.doc.diagnostics.60/diag/appendixes/cmdline/cmdline_gc.html]
Enabling verbose garbage collection (verbosegc) [http://www.ibm.com/support/docview.wss?uid=swg21114927]
Java 7 Garbage Collector Command Line Options [http://publib.boulder.ibm.com/infocenter/java7sdk/v7r0/topic/com.ibm.java.aix.70.doc/diag/appendixes/cmdline/xverbosegclog.html]