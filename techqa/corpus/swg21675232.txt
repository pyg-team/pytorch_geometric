Title: IBM Cloning a process application fails in IBM Process Designer due to a missing Business Process Definition (BPD) in IBM Business Process Manager (BPM) - United States

Text:
BPD; subprocess; cloning TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Project-level actions, such as cloning a process application, can generate errors in projects that have at some point contained a BPD with subprocesses. An error message in the server log indicates that a BPD is missing. 

SYMPTOM
When performing project-level actions on projects that have at some point contained a BPD with a subprocess, an error is written to the server log that is similar to Business Process Diagram with ID BPD.ed65600b-517a-40be-8d40-c0c6dabdcb18 not found.


CAUSE
In IBM Business Process Manager Version 7.5.1 and later, a small number of scenarios result in subprocess BPDs not being fully removed from the repository when they are removed from the parent BPD. 

Preventative fixes have been provided for these scenarios, including JR47346, but these fixes do not clean up the existing remnants of incompletely removed subprocess BPDs. Most of the time these remnants are harmless but occasionally with project-level actions, such as cloning a process application, they might cause errors. In these situations, the server usually logs an error message indicating that a BPD cannot be found.


DIAGNOSING THE PROBLEM
To determine whether this problem is arising during project-level actions, check the server SystemOut.log file for error messages such as: Business Process Diagram with ID BPD.ed65600b-517a-40be-8d40-c0c6dabdcb18 not found.





RESOLVING THE PROBLEM
To perform the recommended steps for resolution of this problem on IBM Business Process Manager V7.5.1 and V8.0, it is necessary to apply JR47346 first. You do not have to apply this fix in later versions because the fix is included in these versions. 


To delete the remnants of incompletely removed subprocess BPDs from the tip of a process application or toolkit, complete the following steps. 

Before you begin, ensure that other users are not actively editing items in the process application that you are modifying.


 1. Locate the eclipse.ini file in the Process Designer installation directory and add the following code: -DBPM_REMOVE_UNUSED_BPDS=true
    
    
 2. Start Process Designer.
    
    
 3. For each process application that you want to clean up, open the process application. 
    
    
 4. Edit and save a single BPD. The save triggers the detection and deletion of orphaned subprocess BPDs in the process application.
    
    
 5. Close Process Designer.
    
    
 6. Delete the line added in step 1 from the eclipse.ini file. Do not leave this value enabled. It might interfere with normal BPD editing.


Note: These modifications do not apply to existing snapshots.  


Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Process Manager Standard Process Designer AIX, Linux, Solaris, Windows 8.5.7.CF201612, 8.5.7.CF201609, 8.5.7, 8.5.6, 8.5.5, 8.5.0.2, 8.5.0.1, 8.5, 8.0.1.3, 8.0.1.2, 8.0.1.1, 8.0.1, 8.0, 7.5.1.2, 7.5.1.1, 7.5.1 
PRODUCT ALIAS/SYNONYM
 BPM