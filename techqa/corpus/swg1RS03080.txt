Title: IBM RS03080: HTDS: OUTPUT PARAMETERS CANNOT BE SERIALIZED - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  At some point due to memory issue (low or GC activity), the
   output parameters cannot be serialized with the following  log :
   The XOM class com.xxx.yyy.Root cannot be deserialized. Verify
   that the XOM library is set correctly.
   java.lang.NullPointerException
       at
   com.ibm.rules.res.xml.internal.XSDUtil.deserializeJavaType(XSDUt
   il.java:196)
       at
   com.ibm.rules.htds.binding.xml.XMLEventObjectReader.getResult(XM
   LEventObjectReader.java:273)
       at
   com.ibm.rules.htds.binding.xml.RESTContentHandler.endElement(RES
   TContentHandler.java:609)
       at
   com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.end
   Element(AbstractSAXParser.java:609)
       at
   com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScann
   erImpl.scanEndElement(XMLDocumentFragmentScannerImpl.java:1783)
       at
   com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScann
   erImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl
   .java:2970)
       at
   com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.n
   ext(XMLDocumentScannerImpl.java:606)
       at
   com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl
   .next(XMLNSDocumentScannerImpl.java:118)
       at
   com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScann
   erImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:510)
       at
   com.sun.org.apache.xerces.internal.parsers.XML11Configuration.pa
   rse(XML11Configuration.java:848)
       at
   com.sun.org.apache.xerces.internal.parsers.XML11Configuration.pa
   rse(XML11Configuration.java:777)
       at
   com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLPa
   rser.java:141)
       at
   com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.par
   se(AbstractSAXParser.java:1213)
       at
   com.ibm.rules.htds.binding.xml.SignatureXMLBinding.deserialize(S
   ignatureXMLBinding.java:170)
       at
   com.ibm.rules.htds.util.DecisionServiceUtil.extractInParameters(
   DecisionServiceUtil.java:266)
       at
   com.ibm.rules.htds.handlers.RESTExecutionRequestHandler.execute(
   RESTExecutionRequestHandler.java:255)
       at
   com.ibm.rules.htds.handlers.RESTExecutionRequestHandler.handleRe
   quest(RESTExecutionRequestHandler.java:179)
       at
   com.ibm.rules.htds.servlet.RESTDecisionServiceServlet.doPost(RES
   TDecisionServiceServlet.java:124)
   
   
    
   
   

LOCAL FIX
 *  Restarting server and re-submitting same input would work.
   
   
    
   
   

PROBLEM SUMMARY
 *  Because of low memory of the JVM running HTDS,
   The JAXBContext that we store in a cache behind a WeakReference
   gets collected by garbage collector. This causes NPE issues,
   even if memory is raised up
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code was fixed.
   
   
    
   
   

TEMPORARY FIX
 *  Restarting server and re-submitting same input would work.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   RS03080
   
   
 * REPORTED COMPONENT NAME
   WS DECISION CTR
   
   
 * REPORTED COMPONENT ID
   5725B6900
   
   
 * REPORTED RELEASE
   891
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2018-03-26
   
   
 * CLOSED DATE
   2018-03-29
   
   
 * LAST MODIFIED DATE
   2018-03-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  999
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WS DECISION CTR
   
   
 * FIXED COMPONENT ID
   5725B6900
   
   

APPLICABLE COMPONENT LEVELS