Title: IBM Enterprise COBOL Cross-Reference Incomplete using zHPF DASD. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Some of the XREF data name references from the beginning of Procedure Division references may be missing. This ususally involves programs with COPYbooks. 
There can also be some names missing from the cross-reference of program names list. 

CAUSE
Setting SAM_USE_ZHPF(YES) can cause the Enterprise COBOL Cross Reference to be incomplete. 
(zHPF stands for High Performance FICON (FIber CONnection) DASD.)


ENVIRONMENT
zOS Release 1.12 or 1.13 with SAM_USE_ZHPF(YES) set. 

(SAM_USE_HPF(YES) may also be involved, but this has not been confirmed at this time.)


DIAGNOSING THE PROBLEM
If Cross-Reference names are missing, check for the PTF and option setting described in the "Resolving the problem" section just below.



RESOLVING THE PROBLEM
The APAR needed is for DFSMS, not COBOL. 


Install DFSMS HIPER APAR OA40982 
PTFs: 
Release C10 : UA67565 available 13/01/22 (F301 ) zOS 1.12 
Release D10 : UA67566 available 13/01/22 (F301 ) zOS 1.13 

Temporary local fix: 
Switch to non-HPF channel programs by disabling this functionality in SYS1.PARMLIB by one of the following methods : 
SAM_USE_ZHPF(NO) in member IGDSMSxx 
Then activate this with the following: 
SET SMS=xx 
Or, issue: 
SETSMS SAM_USE_ZHPF(NO) 
to disable the feature until the next IPL.

If the problem persists, also change SETSMS SAM_USE_HPF(NO) 

However, the PTF should be installed as soon as possible so that the ZHPF feature can be activated and used if the related DASD is available.