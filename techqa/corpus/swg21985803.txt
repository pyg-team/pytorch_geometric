Title: IBM Fresh TCR 3.1.2.1 install fails from JazzSM bundle 1.1.2.1 - United States

Text:
5724C04JI TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Installation of Tivoli Common Reporting (TCR) 3.1.2.1 from the Jazz for Service Management (JazzSM) 1.1.2.1 bundle fails with the following error message:

ERROR CRIMA1217E 01:21:50.84 A problem occurred during the execution of the /opt/IBM/JazzSM/install/fsconfig.xml file.
ERROR: The following error occurred while executing this line:
/opt/IBM/JazzSM/install/reporting_services/reporting_services_config.xml:17: The following error occurred while executing this line:
/opt/IBM/JazzSM/install/reporting_services/reporting_services_config.xml:23: The following error occurred while executing this line:
/opt/IBM/JazzSM/install/reporting_services/tcr_db_config.xml:54: The following error occurred while executing this line:
/opt/IBM/JazzSM/install/reporting_services/tcr_db_config.xml:66: The following error occurred while executing this line:
/opt/IBM/JazzSM/install/reporting_services/tcr_db_config.xml:123: The following error occurred while executing this line:
/opt/IBM/JazzSM/install/reporting_services/tcr_db_config.xml:142: Failed in configuring Reporting Services Database. [/opt/IBM/JazzSM/install/fsconfig.xml:227]
A package has an issue that cannot be resolved by Installation Manager.
Identify the package that has the issue by looking at the installation history. In Installation Manager, click File > Installation History. In console mode, enter S: View Installation History. Contact IBM customer support. 

SYMPTOM
Install stops and the message displayed above is seen on screen.


CAUSE
The above message is a generic one. There are multiple causes which can cause the install to fail with the above error.

ENVIRONMENT
AIX 7


JazzSM 1.1.2.1 (TCR 3.1.2.1)


DIAGNOSING THE PROBLEM
Review the IIM logs (look for the index.xml file). See what files are referenced in the message right below the above failure message: 

Example: IIM_data/logs/ant/20160609_1207c.log 

****
createTCRDBOnLinux:
[echo] creating db on linux
[exec] Current user is a root user and hence use of /bin/su to run the command
[exec] DB21005E An error occurred while accessing the file 
[exec] "/opt/IBM/JazzSM/install/reporting_services/tcr_create_db2_cs.sql".
[exec] 
[exec] ant_exec return code is 8
[exec] Result: 8
[echo] Result of create TCRDB_SQL command = 8
**** 


RESOLVING THE PROBLEM
1) The above message indicates umask is NOT set to 022, which is a requirement for any service install in the JazzSM bundle for the root user: 


2) Follow the steps highlighted here to clean up the failed install. Remove all the installed components
http://www.ibm.com/support/knowledgecenter/SSEKCU_1.1.2.1/com.ibm.psc.doc/install/psc_t_install_reinstall_custom.html [http://www.ibm.com/support/knowledgecenter/SSEKCU_1.1.2.1/com.ibm.psc.doc/install/psc_t_install_reinstall_custom.html]

3) Make sure you set the UMASK to 022 before you begin the fresh install. Also, do the pre-requisite check to make sure all other requirements check out, then proceed with the install.

NOTE: Use the following command to check and then set umask:
<root># umask --> will give you the what value is currently set.
<root># umask 022 --> will set umask to 022 temporarily for the session. Make sure you perform the install using this session alone.
There is a way to set this permanently but this is not a requirement. Please follow the documentation for AIX and Linux to set this permanently.




Cross reference information Segment Product Component Platform Version Edition Systems and Asset Management IBM Monitoring