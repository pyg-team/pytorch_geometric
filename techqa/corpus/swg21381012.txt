Title: IBM Full sync of domain fails with a -964 sqlcode - United States

Text:
DB2; database; taddm; cmdb; incremental TECHNOTE (FAQ)

QUESTION
 Why is full sync failing with SQLCODE: -964, SQ: 57011, SQLERRMC: null 

CAUSE
Wed Mar 18 15:55:30 CDT 2009 INFO [2.1175864854] Deletion of domain 
data complete. 
Wed Mar 18 17:48:21 CDT 2009 ERROR [2.1175864854] Error getting 
ChangedTables 
Wed Mar 18 17:48:21 CDT 2009 ERROR [2.1175864854] java.rmi. 
ServerException: RemoteException occurrserver thread; nested exception 
is: 
java.rmi.RemoteException: com.ibm.db2.jcc.a.SqlException: DB2 
SQL error: SQLCODE: -964, SQ: 57011, SQLERRMC: null; nested exception 
is: 
java.lang.RuntimeException: com.ibm.db2.jcc.a.SqlException: DB2 
SQL error: SQLCODE: -964, TE: 57011, SQLERRMC: null 
at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef. 
java:340) 
at sun.rmi.transport.Transport$1.run(Transport.java:168) 
. 


ANSWER
The db2 error means you are running out of space 

 
DB2 SQL error: SQLCODE: -964, SQ: 57011, SQLERRMC: 

This error message is a result of running out of space in the transaction log. The transaction log configuration is set as: 

db2 update db cfg for $DBNAME using logprimary 8 
db2 update db cfg for $DBNAME using logsecond 16 

It is recommended to at least triple the settings 

db2 update db cfg for $DBNAME using logprimary 24 
db2 update db cfg for $DBNAME using logsecond 48 

Also always check the space of $COLLATION_HOME/dist/log/sync/ directory on the server if the above error occurs and prune any necessary log files

 

PRODUCT ALIAS/SYNONYM
 taddm
5724n5500