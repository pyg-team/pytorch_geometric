Title: IBM Upgrade of embedded WebSphere Application Server fix pack installation procedure for IBM Tivoli Storage Productivity Center for Replication V4.2.2.4 and above - United States

Text:
embedded WAS; eWAS; embedded WebSphere Application Server; TPC; fix pack; TPC-R; vulnerability; upgrade eWAS; security TECHNOTE (FAQ)

QUESTION
 How do we install a fix pack for the embedded WebSphere Application Server provided by IBM Tivoli Storage Productivity Center for Replication V4.2.2.4 and above? 

CAUSE
IBM Tivoli Storage Productivity Center for Replication (TPC-R) runs on embedded WebSphere Application Server (eWAS). For maintenance purposes or security vulnerabilities, it may be necessary to install a fix pack for eWAS. 
You can use this procedure to install fix packs for a given eWAS minor version, but not to upgrade to a new full eWAS version. For example, you can use it to install eWAS 6.1.0.45 on top of eWAS 6.1.0.29, but you cannot use it to install eWAS version 7.0 on top of eWAS version 6.1. 

The following table shows the different levels of eWAS that are provided by TPC-R 4.2.2.x: 

TPC-R version eWAS version 4.2.2.1 through 4.2.2.3 6.1.0.29 4.2.2.4 and up 6.1.0.47 
This technote applies specifically to eWAS, not the full version of WebSphere. Further, this technote applies only to upgrades to V4.2.2.4 of TPC-R. New installations of V4.2.2.4 will automatically apply eWAS 6.1.0.45. 
ANSWER
Follow these steps to install a new eWAS fix pack into your TPC-R environment: 

Step 1. Back up your TPC-R environment 

 *  Back up your TPC-R database using the mkbackup CLI command
   A user can also zip up all the subdirectories and files where the Derby database resides and restore it later:  * Stop TPC-R server so all data is flushed to the DB tables 
    * Zip up all sub-directories and files under ..\IBM\replication\eWAS\profiles\CSM\database\csmdb
   
   Export all session copysets 

Step 2. Identify the eWAS install location. (eWAS_install_location) 
Here is the default install location of eWAS if TPC-R, provided InstallShield GUI was used during product installation. 

AIX: /opt/IBM/replication/eWAS 
Linux: /opt/IBM/replication/eWAS 
Windows: C:\Program files\IBM\replication\eWAS  

Step 3. Find the eWAS version that is in use and determine the need for fix pack installation:
For AIX and Linux, open a login shell: 

 * 
 * 
 * 


For Windows, open a command prompt:  * cd <eWAS_install_location>\bin 
   versionInfo.bat



Step 4. Download the eWAS fix pack files  * 
 * Step 4a:
 * 
 *  Description eWAS Platform eWAS Description AIX R5.3 (32 bit)
   AIX R6.1 (32 bit) AixPPC32 AIX/PowerPC-32 AIX R5.3 (64 bit)
   AIX R6.1 (64 bit) AixPPC64 AIX/PowerPC-64 Linux Intel R2.6 (32 bit) LinuxX32 Linux/Intel-32 Windows WinX32 Windows/Intel-32 
   Note: For some 64 bit platforms, TPC-R uses the 32 bit version of eWAS. 
 * 
 * Step 4b:
 * 
 *  Unix: Create a directory in /tmp or equivalent. Windows: Create a directory in C:\TEMP or equivalent. 
 * 
 * Step 4c:
 * 
 * Step 4b
 * 
 *   *  6.1.0-WS-WASEmbeded-platform-FP00000nn.pak contains eWAS itself. 
    *  6.1.0-WS-WASSDK-platform-FP00000nn.pak contains the Java SDK that is used by eWAS. This Java SDK is separate and distinct from the one used directly by TPC-R.
   
   
 * 
 * platform
 * 
 * nn
 * 
 * both
 * 
 *  
   Embedded WebSphere Application Server fix packs for use with IBM Tivoli Storage Productivity Center for Replication V4.2.2.4 [http://www-01.ibm.com/support/docview.wss?uid=swg21642240] 

Step 5. Download and Install the IBM Update Installer for WebSphere 
 * 
 * 
 * 
 * 
 * 
 * Installation Instructions:
 * Ensure that you have stopped eWAS and related processes. The product to be updated must not be running while you apply maintenance. 
 * Download the most recent Update Installer package that matches your platform from the Download package section of this page. 
 * Extract the downloaded Update Installer package (zip or tar file) to a temporary directory. 
 * Navigate to the "UpdateInstaller" subdirectory created from previous step. 
 * Use the installation wizard to install the Update Installer by running the install or install.exe executable. 
 * On Windows systems, run the command install.exe by double-clicking on the icon, or running it directly from a command prompt. 
 * On UNIX-based systems, run the command ./install to launch the Wizard interface.
   


Step 6. Stop the TPC-R Server  * 
 * 
 * 


Step 7. Apply the eWAS and Java SDK fix packs  * 
 * 
 *   * Interactive mode: Installing fix packs using the graphical user interface [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.installation.nd.doc/info/ae/ae/tins_updi_fixpk.html] 
    * Silent mode: Installing an interim fix, interim feature, or test fix with silent install [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.installation.nd.doc/info/ae/ae/tins_updi_silifixpk.html]
   
   
 * 
 *   * Installation path to be updated:  * AIX / Unix: /opt/IBM/replication/eWAS 
       * Windows: C:\Program files\IBM\replication\eWAS
      
      
    * Directory that contains maintenance packages: This is the directory that you created in Step 4b. 
    * Maintenance packages to be installed: These are the eWAS and Java SDK fix packs that you downloaded in Step 4c. 
      
      
   
   

Step 8. Start the TPC-R Server Use your local procedures to start TPC-R. 

 

Step 9. Cleanup 

 * 
 * Step 9a:
 * 
 * step 4
 * 
 * Step 9b: If you want to remove the IBM Update Installer for WebSphere refer to its uninstall documentation: 
 *  
   Uninstalling the Update Installer for WebSphere Software [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.installation.nd.doc/info/ae/ae/tins_updi_uninstall.html] 
 * 
 * 
 * 


Known Issues / Workarounds None