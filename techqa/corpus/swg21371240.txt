Title: IBM ** Troubleshooting ** How to improve Controller consolidation performance - United States

Text:
consolidate longer full speed TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User clicks 'Group - Consolidate with Status', chooses their parameters and clicks 'start'. The consolidation takes a long time to run. 

How can consolidation performance be improved? 

CAUSE
There are several potential causes for slow consolidation performance, such as: 

 * Scenario #1 - Status is disabled  * The Controller consolidation engine runs faster if you enable the 'status' function, because this means that only figures that have changed get reconsolidated 
   
   
 * Scenario #2 - Database has not been optimised/re-indexed recently  * SQL optimisations, such as updating statistics and re-indexing, allow Microsoft SQL to vastly improve its performance, which (in turn) gives Controller a performance boost 
    * For more information, see separate IBM Technotes #1346455 
   
   
 * Scenario #3 - Customer using old version of Controller  * Later releases of Controller contain a performance improvements
   
   
   One example is that AFC consolidation performance was improved from version 10.1.1691 onwards (see Technote 1608943 for more details).
   
   As another example, upgrading from Controller 10.1.1 FP2 (10.1.2159) to 10.2 can give:  *  Consolidation performance improved by up to 60% AFC performance improved by up to 99% 
   
   
 * Scenario #4 - SQL database server using old/out-dated patch level  *  Later patch releases of SQL server contain performance improvements For example, see separate IBM Technote #1634093. 
    *  
   
   
 * Scenario #5 - AFC subsystem not optimally configured  *  This is only relevant for customers using AFC calculations inside their consolidations. In this scenario, there are several AFC-specific possible causes for delays. For examples of these AFC-specific causes, see separate IBM Technote #1616443. 
    *  
   
   
 * Scenario #6 - Slow network between Controller application server and database server  * For more information, see separate IBM Technote #1382321
   
   
 * Scenario #7 - Other (non-Controller) processes (e.g. SQL trace) running on the database server, which is slowing it down  * For more information, see separate IBM Technote #1389798.
   
   
 * Scenario #8 - Database server hardware is poor  * For more information, see separate IBM Technote #1634327.
   
   
 * Scenario #9 - SQL Parallelism setting non-optimal  * For more information, see separate IBM Technote #1634615.
   
   

RESOLVING THE PROBLEM
Scenario #1 

Enable the 'status' function (see official documentation for more details). 

 * Afterwards, when running consolidation, ensure that 'Force consolidation' is not selected 


Scenario #2  1. Perform an 'internal' database optimise 
 2. Ensure that your I.T. department's DBA has implemented a regular optimisation routine 

 * Part One:
 * 
 * 
 * 
 *  Launch Controller Ensure no other users on the system Click 'Maintain - User - Single Mode' Click 'Maintain - Database - Optimise' Click 'Select All' and ensure that 'Rebuild Indexes' is ticked Click 'Run' 
 *  
 * 
 * Part Two:
 * 
 *  SQL 2000: See separate IBM Technote 1347569 SQL 2005/8: See separate IBM Technote 1396973 Oracle 9i/10G: See KB 1031746 


Scenario #3 
Upgrade to latest version of Controller available, to take advantage of coding improvements. 

Scenario #4 
Apply the latest vendor (e.g. Microsoft) recommended patch (e.g. SP2 for SQL 2008 R2) to any database server.  * For more information, see separate IBM Technote #1634093.


Scenario #5 
See separate IBM Technote #1616443. 

Scenario #6 
Ensure that the network I/O speed between APP and database server is quick.  * See separate IBM Technote #1382321.


Scenario #7 
Ask the Database administrator (DBA) to ensure that there are not any other non-Controller processes (e.g. SQL traces) running on the database server, which would slow it down.  * See separate IBM Technote #1389798.


Scenario #8 
Ensure that the database server is configured to have sufficient hardware (e.g. number of CPU cores) to handle running Controller.  * See separate IBM Technote #1634327.


Scenario #9 
Ensure that the database server's parallelism setting is configured optimally.  * See separate IBM Technote #1634615.

RELATED INFORMATION
#1346455 - What occurs during the optimize of an Oracle [http://www.ibm.com/support/docview.wss?uid=swg21346455]
1347569 - Controller SQL 2000 database optimisation and [http://www.ibm.com/support/docview.wss?uid=swg21347569]
Cognos Proven Practice documentation [http://www.ibm.com/developerworks/data/library/cognos/cognosprovenpractices.html]
1396973 - Controller SQL 2005 database optimisation and [http://www.ibm.com/support/docview.wss?uid=swg21396973]
1608943 - Slow performance when running consolidation t [http://www.ibm.com/support/docview.wss?uid=swg21608943]
1634093 - Slow consolidation performance caused by not [http://www.ibm.com/support/docview.wss?uid=swg21634093]
1616443 - ** Troubleshooting ** Slow performance when r [http://www.ibm.com/support/docview.wss?uid=swg21616443]
1382321 - Very poor performance when running reports af [http://www.ibm.com/support/docview.wss?uid=swg21382321]
1389798 - Slow Performance in Controller - caused by un [http://www.ibm.com/support/docview.wss?uid=swg21389798]
1634327 - Slow Consolidations caused by underpowered SQ [http://www.ibm.com/support/docview.wss?uid=swg21634327]
1634615 - Slow consolidations due to SQL "Max Degree of [http://www.ibm.com/support/docview.wss?uid=swg21634615]


 

HISTORICAL NUMBER
 1035683