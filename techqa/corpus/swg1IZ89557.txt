Title: IBM IZ89557: NON-ROOT SECURITY SETUP, SA_ADMIN/OPERATOR MUST BE LISTED ABOVE CLUSTERUSER IN CTSEC_MAP.GLOBAL - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  BE Support Engineer:   CJ
   Change Team Engineer:  EJ
   
   SAMP: 3.2.1.0
   
   
   Problem Description: With the introduction of ClusterUser role
   in RSCT security the TSAMP Admin and Users Guide need to state
   that the sa_admin and sa_operator line items need to be listed
   above the ClusterUser line. Also the documentation should be
   updated to reflect that at least one space is required as the
   first charactor in any line definition in ctrmc.acls.
   
   Current AUG:
   ctrmc.acls:
   DEFAULT
     root@LOCALHOST * rw
   # LOCALHOST * r
     none:root * rw
     none:sa_admin * rw
     none:sa_operator * rso
   
   ctsec_map.global:
   unix:ernie@<cluster>=sa_operator
   unix:ernie@<any_cluster>=sa_operator
   unix:bert@<cluster>=sa_admin
   unix:bert@any_cluster>=sa_admin
   
   
    
   
   

LOCAL FIX
 *  Change the location of the sa_admin and sa_operator lines to
   above the ClusterUser line:
   
   ctrmc.acls:
   
   DEFAULT
          root@LOCALHOST   *       rw
   #           LOCALHOST   *       r
           none_sa_admin   *       rw
        none:sa_operator   *       rso
        none:clusteruser   *       r
               none:root   *       rw
   
   ctsec_map.global:
   
   unix:root@<iw>=root
   unix:root@<cluster>=root
   unix:admin_userid@<cluster>=sa_admin
   unix:admin_userid@<any_cluster>=sa_admin
   unix:operator_userid@<cluster>=sa_operator
   unix:operator_userid@<any_cluster>=sa_operator
   unix:*@<cluster>=clusteruser
   unix:root@<any_cluster>=any_root
   hba2:root@<iw>=root
   hba2:root@<cluster>=root
   hba2:root@<any_cluster>=any_root
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: System Automation for Multiplatforms 3.x users
   ****************************************************************
   * PROBLEM DESCRIPTION:
   * The System Automation for Multiplatforms Administrators and
   * Users guide contains a description in chapter 12 about how to
   * adjust security definitions to allow a non-root user to
   * perform System Automation commands. Recent changes related to
   * the exact placement of the non-root user IDs within the file
   * ctsec_map.global are missing.
   * Add non-root user ID information prior to the entries for
   * 'clusteruser', which are created due to the change in the
   * RSCT.
   ****************************************************************
   * RECOMMENDATION:
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The System Automation for Multiplatforms Administrators and
   Users guide will be updated to address this issue as follows:
   
   Administrators and Users guide
     Chapter 12. Controlling and administering
       Setting up security for System Automation for Multiplatforms
       clusters
   
   old content:
   
   5. Modify the file /var/ct/cfg/ctsec_map.global on all nodes.
    You need to add the following entries for the user IDs ?ernie?
    and ?bert? to the RSCT global authorization identity mapping
    file (/var/ct/cfg/ctsec_map.global) on every node in the
    cluster:
    unix:ernie@<cluster>=sa_operator
    unix:ernie@<any_cluster>=sa_operator
    unix:bert@<cluster>=sa_admin
    unix:bert@any_cluster>=sa_admin
   
    The file is used to map a local user ID on a node to a global
    user ID within the System Automation for Multiplatforms domain.
    In the example, the local user ID ?ernie? is mapped to the
    global user ID ?sa_operator?, and the local user ID ?bert? is
    mapped to the global user ID ?sa_admin?.
    You can easily authorize additional local user IDs for System
    Automation for Multiplatforms by adding additional lines to
    this global map file (on all nodes), and mapping these to the
    desired role (System Automation for Multiplatforms Operator or
    System Automation for Multiplatforms Administrator).
   
    Note: If the file /var/ct/cfg/ctsec_map.global does not exist
    on a node, copy the default file /usr/sbin/rsct/cfg/
    ctsec_map.global to the directory /var/ct/cfg, and add the new
    entries to the file /var/ct/cfg/ctsec_map.global. Do not remove
    any entries from the file /var/ct/cfg/ctsec_map.global that
    exist in the default file you copied. The /var/ct/cfg/
    ctsec_map.global files on all nodes within the cluster must be
    identical.
   
   
   replacement/new content:
   
   5. Modify the file /var/ct/cfg/ctsec_map.global on all nodes.
    You need to add the following entries for the user IDs ?ernie?
    and ?bert? to the RSCT global authorization identity mapping
    file (/var/ct/cfg/ctsec_map.global) on every node in the
    cluster. Add the new entries prior to the entry for the user
    'clusteruser':
    unix:ernie@<cluster>=sa_operator
    unix:ernie@<any_cluster>=sa_operator
    unix:bert@<cluster>=sa_admin
    unix:bert@any_cluster>=sa_admin
    ..
    unix:*@*=clusteruser
   
    The file is used to map a local user ID on a node to a global
    user ID within the System Automation for Multiplatforms domain.
    In the example, the local user ID ?ernie? is mapped to the
    global user ID ?sa_operator?, and the local user ID ?bert? is
    mapped to the global user ID ?sa_admin?.
    You can authorize additional local user IDs for System
    Automation for Multiplatforms by adding additional lines to
    this global map file (on all nodes), and mapping these to the
    desired role (System Automation for Multiplatforms Operator or
    System Automation for Multiplatforms Administrator).
   
    Note: If the file /var/ct/cfg/ctsec_map.global does not exist
    on a node, copy the default file /usr/sbin/rsct/cfg/
    ctsec_map.global to the directory /var/ct/cfg, and add the new
    entries to the file /var/ct/cfg/ctsec_map.global. Do not remove
    any entries from the file /var/ct/cfg/ctsec_map.global that
    exist in the default file you copied. The /var/ct/cfg/
    ctsec_map.global files on all nodes within the cluster must be
    identical. New non-root user ids needs to be added always prior
    to the entries for 'clusteruser'.
   .
   Additional Search Keywords
   .
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ89557
   
   
 * REPORTED COMPONENT NAME
   SA MULTIPLATFOR
   
   
 * REPORTED COMPONENT ID
   5724M0000
   
   
 * REPORTED RELEASE
   321
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-11-22
   
   
 * CLOSED DATE
   2011-01-28
   
   
 * LAST MODIFIED DATE
   2011-01-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS