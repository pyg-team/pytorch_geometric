Title: IBM IZ79735: UPGRADING OF AGENT BUILDER AGENT FAILS AFTER INSTALLING THE 32/64 BIT AGENT COMPATIBILITY PACKAGE - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Approver Initials:    LD
   Reported Release:     6222
   
   PROBLEM DESCRIPTION:
   
   
   After the installation of the "AC  32/64 Bit Agent Compatibility
   Package", upgrades of Agent Builder agents install into
   %CANDLE_HOME%\TMAITM6_x64 directory. but fail to update the
   Windows
   Service entry for the agent.
   
   
   Environment:
   
     Product/VRM: Agent Builder 6.2.2.2
     Operating System/VRM: Windows 64-bit
     Monitoring Env: ITM 6.2.2
     Monitored application/VRM/OS: ITM 6.2.2
   
   
   RECREATE INSTRUCTIONS:
   
   1) Install a 32-bit ITM environment on 64-bit Microsoft Windows
   
   2) Install a Agent Builder agent in this environment. It is
      installed in %CANDLE_HOME%\TMAITM6
   
   3) The Windows Service to start the agent points to
      %CANDLE_HOME%\TMAITM6
   
   4) Install "AC  32/64 Bit Agent Compatibility Package" which
       creates the subdirectory %CANDLE_HOME%\TMAITM6_x64
   
   5) Upgrade the Agent Builder agent by running the script
      installIraAgent.bat, and the upgrade gets installed
      in %CANDLE_HOME%\TMAITM6_x64, due to this line in the
      installIraAgent.bat, if exist "%CANDLE_HOME%\TMAITM6_x64" set
      TMA_DIR=%CANDLE_HOME%\TMAITM6_x64
   
   6) The Windows Service, which starts the agent does not get
      updated and still points to the %CANDLE_HOME%\TMAITM6
      directory and will always start the old version of the
      Agent Builder agent.
   
   
    
   
   

LOCAL FIX
 *  a) To update or install the 64-bit agent, uninstall the 32-bit
   agent in %CANDLEHOME%\tmaitm6 and then install the 64-bit agent
   update. The 64-bit agent will be installed in the
   %CANDLEHOME%\tmaitm6_x86.
   
   b) For a 32-bit agent: in the builder uncheck the Windows
   64-bit, and regenerate the agent and reinstall the agent. It
   will be updated in the %CANDLEHOME%\tmaitm6 directory when
   re-installed.
   
   
    
   
   

PROBLEM SUMMARY
 *  On 64-bit Windows operating systems where a 32-bit (or 32-bit
   and 64-bit) agent is first installed into %CANDLE_HOME%\TMAITM6,
   and then the "AC 32/64 Bit Agent Compatibility Package" is
   installed, subsequent updates to the agent are installed into
   the %CANDLE_HOME%\TMAITM6_x64 directory. However the the Windows
   Service entry for the agent is not updated and the 32-bit
   version of the agent is not updated in %CANDLE_HOME%\TMAITM6.
   
   
    
   
   

PROBLEM CONCLUSION
 *  If a 32-bit version of the agent is installed in
   %CANDLEHOME%\tmaitm6, subsequent versions of the agent (even if
   there is a 64-bit version of the agent) are installed or updated
   in %CANDLEHOME%\tmaitm6.  The 32-bit agent must be uninstalled
   in order for the 64-bit version of the agent to be installed in
   the %CANDLE_HOME%\TMAITM6_x64 (64-bit) directory.
   
   The fix for this APAR is included in the following maintenance
   vehicle:
   
   IBM Tivoli Monitoring V6.2.2 Fix Pack 4 Agent builder,
   Multiplatform, English (CZM0HEN)
   
   Note: Search the IBM technical support web site for maintenance
   package availability.
   
   
    
   
   

TEMPORARY FIX
 *  1. To upgrade the 32-bit version of the agent:
   regenerate the agent with the Windows (64-bit) operating system
   un-checked, and re-install the agent.
   
   2. To install or upgrade the 64-bit version of the agent,
   uninstall the 32-bit version of the agent from
   %CANDLE_HOME%\TMAITM6 and reinstall the agent.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ79735
   
   
 * REPORTED COMPONENT NAME
   ITM AGENT BUILD
   
   
 * REPORTED COMPONENT ID
   5724C04BR
   
   
 * REPORTED RELEASE
   622
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-07-09
   
   
 * CLOSED DATE
   2010-08-27
   
   
 * LAST MODIFIED DATE
   2010-08-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITM AGENT BUILD
   
   
 * FIXED COMPONENT ID
   5724C04BR
   
   

APPLICABLE COMPONENT LEVELS
 * R622 PSY
   UP