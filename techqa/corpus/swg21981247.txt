Title: IBM Using Microsoft SQL Server "Named Instances" in datasource definitions - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 When creating a new datasource, or upgrading an existing instance, is it possible to use the "Named Instance" format for Microsoft SQL Server? 

ANSWER
It is possible (although undocumented) to create a datasource when installing the MDM SE engine such that the "named instance" mode of Microsoft SQL Server is used. This is a special mode which allows a connection directly into a specific instance of SQL Server, instead of the "regular" method of connecting using hostname and IP address.
Named instances are typically in the format of:
<sql_server_host>\<named_instance>

Commonly, named instances also have a special port on the server that you can use to explicitly access the instance (which is different to the default port). This provides an alternate method to access the database.

Regular SQL Server connections typically use the host, a default port (usually 1433), and then the username and password.

If a named instance was used to create a datasource, and an upgrade of the software is subsequently attempted, an error similar to the following may be seen:

ERROR: Unable to connect to the IBM Initiate database via JDBC.
java.sql.SQLNonTransientConnectionException: [IBM][SQLServer JDBC Driver]Conflicting connection information. When the in stance name is specified, it is invalid to specify the port number.

This error may occur when a named instance is used AND a port number is also specified.

The solution is to change the named instance format (<sql_server_host>\<named_instance>) and instead use the hostname, the explicit port, and username and password, in your ODBC data source. Once this is done the upgrade should work. Note that the "explicit" port is the NAMED INSTANCE port, not the default SQL Server port. In other words, it will typically NOT be port 1433.

Planned future versions of the software will handle named instances more robustly.