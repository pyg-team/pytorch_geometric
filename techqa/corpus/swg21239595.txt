Title: IBM Troubleshooting IBM WebSphere DataPower SOA Appliances: An introduction - United States

Text:
TroubleShootingDocument; troubleshooting; troubleshooting; troubleshooting; datapower; websphere datapower; machine type 7993; 7993 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The document provides introductory information for troubleshooting IBM WebSphere DataPower SOA Appliances. 

RESOLVING THE PROBLEM
Follow these steps to troubleshoot a problem with an IBM WebSphere DataPower Network Appliance: 

 1. Learning more 
 2. Troubleshooting 
 3. Collecting data and contacting IBM 


1. Learning more


 * 
 * WebSphere DataPower SOA Appliances Product support page
 * 
 * 
 * 
 * 
 *  Troubleshooting the IBM WebSphere DataPower appliance. [http://www-01.ibm.com/support/docview.wss?uid=swg21515489] Review the following product publications for topics specific to the problem you are troubleshooting by looking at the table of contents and index for related topics.  * Installation 
    * Configuration 
    * CLI 
   
   The following are additional references which you might find useful when troubleshooting:  * Search IBM Developerworks [http://www.ibm.com/developerworks] website using DATAPOWER as the search argument. 
    * Search IBM website [http://www.ibm.com] using DATAPOWER as the search argument. 
   
   

2. Troubleshooting  * 

 1. Check Object Status.  1. Check the object status in the appropriate domain. The Object Status display indicates the operational state of objects in the system. An object on which a service depends might go down, bringing down the service itself. Log into the domain containing the service to examine to use this feature. On the menu, select Status >Object Status to view this information. Object Status is under the is under the System category in the menu. 
    
    
 2. Check for messages in the appliance's system log.  1. Check the System Log in the default domain which contains messages generated by all objects in the system.  1. On the Control Panel, click on the Troubleshooting icon. 
         2. Look for the Logging section. 
         3. Click on View System Logs to review this information. 
        
        
     2. During development and troubleshooting, set the Log level to debug.  1. On the Control Panel, click on the Troubleshooting icon. 
         2. Look for the Logging section. 
         3. Select "debug" in the Log Level selection box. 
         4. Click on the Set Logging Level button to enable this change. 
         5. A confirmation pop-up window will appear, click Confirm. 
         6. Click on View System Logs to review this information. 
        
        
    
    
 3. Use the MultiStep Probe to view the data as it passes through the appliance.  1. The MultiStep Probe is very useful during troubleshooting and development. This trace displays the life cycle of the message as it passes through the appliance along with useful system variables. 
     2. The Probe must be enabled for a specific service within a domain. 
     3. Reference the WebGUI publication, Troubleshooting Appendix, MultiStep Probe topic for information on troubleshooting with this trace option. 
    
    
 4. Check for changes in the configuration or appliance setup.  1. Check the Audit Log in the default domain. The Audit Log records changes to the configuration of the appliance. On the menu on the left side of the WebGUI, select Status > Audit Log to access this information. Audit Log is under the Main category in the menu. 
     2. Check the running configuration in the default domain. The Running Configuration report could show configuration problems or an unexpected configuration running on the appliance. Confirmed your last saved configuration and the current running configuration are defined as you expect.  1. From the CLI, use the show running-config command
        
        
    
    
 5. Check for errors posted by the stylesheet.  1. Check the Stylesheet Status in the appropriate domain. The Stylesheet status can contain error messages that are useful in identifying exceptions during compilation or execution of the stylesheet. This also might indicate that a cached stylesheet, rather than a newer version, was used. On the menu on the left side select Status > Stylesheet Status to view this information. Stylesheet Status is under the XML-Aware Network category in the menu. 
    
    
 6. Monitor the system resources on the appliance.  1. Check the Throttle settings. If the system has a Throttle in place, the high memory usage (load) might be causing the throttle to refuse connections. On the menu, select Administration >Throttle Settings to view any active throttles. Throttle Settings is under the Device category in the menu. 
     2. Monitor Filesystem Status in the default domain. The logging system utilize the available file storage space, which prevents the system from writing logs, thus preventing the system from processing messages. On the menu select Status > Filesystem Information to view the available file storage space. Filesystem Information is under the System category in the menu. 
    
    
 7. Use the Ping command to provide more information on the network connection.  1. Click on the Troubleshooting icon on the Control Panel. The Ping Remote option under Networking will allow you to ping the IP address or hostname. A pop-up window asks for confirmation when using Ping, then displays the results of the Ping command. 
     2. Ping using the IP address. If the ping command returns "Action completed successfully! Successful ping to remote host "testhostname/ip address", the connection is active. If the command returns a time out or a failure message, one of the following conditions could help identify the problem:  1. The computer that you want to connect to has the ping command disabled, check with the system administrator for that computer. 
         2. The IP address is incorrect; verify the IP address that you are using. 
         3. The computer is not active, ask the system administrator to check the operational status of the computer. 
        
        
     3. If you were able to successfully ping the IP address, use the hostname, where hostname is the fully qualified host name of the computer that you want to connect to. If the command returns a time out or a failure message, one of the following could help identify the problem:  1. The host name is incorrect; verify the host name that you are using. 
         2. The Domain Name System (DNS) does not have the host name defined; check with your DNS administrator. 
        
        
    
    
 8. Run Packet Trace  1. In some instances, it is necessary to capture the full network-level exchange between a appliance and another resource on the network in order to understand what is happening. A Packet Trace contains a capture of network traffic in pcap format.  1. Switch to the default domain. 
         2. On the Control Panel, click on the Troubleshooting icon. 
         3. Look for the Networking section. 
         4. Set the packet capture options available based on your installed firmware level. 
         5. Click on the Packet Capture button to enable this change. 
         6. A confirmation pop-up window will appear, click Confirm. 
         7. Click on Download Packet Capture to view the packet trace using a tool that reads the pcap trace format. 
        
        
    
    

3. Collecting data and contacting IBM 
If the cause of the problem and solution was not identified, refer to the MustGather: Read First for WebSphere DataPower SOA Appliances [http://www.ibm.com/support/docview.wss?rs=2362&uid=swg21269260] document. 




Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere DataPower B2B Appliance XB60 Not Applicable Firmware Edition Independent Business Integration WebSphere DataPower Integration Appliance XI50 Not Applicable Firmware Edition Independent Business Integration WebSphere DataPower Low Latency Appliance XM70 Not Applicable Firmware Edition Independent Business Integration WebSphere DataPower XML Accelerator XA35 Not Applicable Firmware Edition Independent Business Integration WebSphere DataPower XML Security Gateway XS40 Not Applicable Firmware Edition Independent