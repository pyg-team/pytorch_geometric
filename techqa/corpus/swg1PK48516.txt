Title: IBM PK48516: THE DRAFT CONTENT DOES NOT MERGE TO A PUBLISHED CONTENT WHEN THE PUBLISH DATE IS SCHEDULED TO FUTURE DATE - United States

Text:
 
APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When a draft content is created by "Create Draft" button and
   scheduled the publish date to a future date, the draft does not
   merge to the published content and throws the following
   exception when the time reached:
   
   [3/07/07 17:10:52:641 EST] 00000043 ScheduledActi W
   IWKMU1062X: Message: Could not save object in repository.,
   Cause: com.ibm.icm.jcr.access.AccessDeniedException: The
   requested operation violates one or more lock constraints.:
   [ErrorCode:7591]
   
   com.ibm.workplace.wcm.services.repository.RepositoryException:
   IWKMU1062X: Message: Could not save object in repository.,
   Cause: com.ibm.icm.jcr.access.AccessDeniedException: The
   requested operation violates one or more lock constraints.:
   [ErrorCode:7591]
    at
   com.ibm.workplace.wcm.services.transaction.steps.versioning.Vers
   ionNode.versionNode(VersionNode.java:321)
    at
   com.ibm.workplace.wcm.services.transaction.steps.versioning.Vers
   ionNode.execute(VersionNode.java:118)
    at
   com.ibm.workplace.wcm.services.transaction.CompositeTransactionS
   tep.execute(CompositeTransactionStep.java:53)
    at
   com.ibm.workplace.wcm.services.transaction.steps.repository.Repo
   sitoryUpdate.execute(RepositoryUpdate.java:199)
    at
   com.ibm.workplace.wcm.services.transaction.TxUnitOfWork$1.call(T
   xUnitOfWork.java:93)
    at
   com.ibm.workplace.wcm.util.transaction.TransactionManager.doCall
   (TransactionManager.java:179)
    at
   com.ibm.workplace.wcm.util.transaction.TransactionManager.call(T
   ransactionManager.java:70)
    at
   com.ibm.workplace.wcm.services.transaction.TxUnitOfWork.run(TxUn
   itOfWork.java:103)
    at
   com.ibm.workplace.wcm.services.content.ContentServiceImpl.save(C
   ontentServiceImpl.java:6588)
    at
   com.ibm.workplace.wcm.services.content.ContentServiceImpl.save(C
   ontentServiceImpl.java:6509)
    at
   com.aptrix.pluto.workflow.actions.ScheduledAction.scheduledExecu
   te(ScheduledAction.java:127)
    at
   com.aptrix.pluto.workflow.actions.ScheduledActionManager$Schedul
   edActionWork.run(ScheduledActionManager.java:373)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  When a draft content is created by "Create Draft" button and
   scheduled the publish date to a future date, the draft does not
   merge to the published content and throws the following
   exception when the time reached:
   
   
   [3/07/07 17:10:52:641 EST] 00000043 ScheduledActi W
   IWKMU1062X: Message: Could not save object in repository.,
   Cause: com.ibm.icm.jcr.access.AccessDeniedException: The
   requested operation violates one or more lock constraints.:
   [ErrorCode:7591]
   
   com.ibm.workplace.wcm.services.repository.RepositoryException:
   IWKMU1062X: Message: Could not save object in repository.,
   Cause: com.ibm.icm.jcr.access.AccessDeniedException: The
   requested operation violates one or more lock constraints.:
   [ErrorCode:7591]
    at
   com.ibm.workplace.wcm.services.transaction.steps.versioning.Vers
   ionNode.versionNode(VersionNode.java:321)
    at
   com.ibm.workplace.wcm.services.transaction.steps.versioning.Vers
   ionNode.execute(VersionNode.java:118)
    at
   com.ibm.workplace.wcm.services.transaction.CompositeTransactionS
   tep.execute(CompositeTransactionStep.java:53)
    at
   com.ibm.workplace.wcm.services.transaction.steps.repository.Repo
   sitoryUpdate.execute(RepositoryUpdate.java:199)
    at
   com.ibm.workplace.wcm.services.transaction.TxUnitOfWork$1.call(T
   xUnitOfWork.java:93)
    at
   com.ibm.workplace.wcm.util.transaction.TransactionManager.doCall
   (TransactionManager.java:179)
    at
   com.ibm.workplace.wcm.util.transaction.TransactionManager.call(T
   ransactionManager.java:70)
    at
   com.ibm.workplace.wcm.services.transaction.TxUnitOfWork.run(TxUn
   itOfWork.java:103)
    at
   com.ibm.workplace.wcm.services.content.ContentServiceImpl.save(C
   ontentServiceImpl.java:6588)
    at
   com.ibm.workplace.wcm.services.content.ContentServiceImpl.save(C
   ontentServiceImpl.java:6509)
    at
   com.aptrix.pluto.workflow.actions.ScheduledAction.scheduledExecu
   te(ScheduledAction.java:127)
    at
   com.aptrix.pluto.workflow.actions.ScheduledActionManager$Schedul
   edActionWork.run(ScheduledActionManager.java:373)
   
   Affected user:
   
   
    
   
   

PROBLEM CONCLUSION
 *  The draft content is used to perform the merge process.
   
   An Interim fix for this APAR is available from fix Central at:
   
   6.0.1.1
   
   http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorde
   r?brandid=2&productid=Workplace%20Web%20Content%20Management&fix [http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorder?brandid=2&productid=Workplace%20Web%20Content%20Management&fix]
   es=6.0.1.1-WCM-PK48516
   
   You will need to cut/paste in the entire URL into your browser.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK48516
   
   
 * REPORTED COMPONENT NAME
   WRKPLC WEB CON
   
   
 * REPORTED COMPONENT ID
   5724I2900
   
   
 * REPORTED RELEASE
   601
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-07-09
   
   
 * CLOSED DATE
   2007-07-25
   
   
 * LAST MODIFIED DATE
   2008-05-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WRKPLC WEB CON
   
   
 * FIXED COMPONENT ID
   5724I2900
   
   

APPLICABLE COMPONENT LEVELS
 * R601 PSY
   UP