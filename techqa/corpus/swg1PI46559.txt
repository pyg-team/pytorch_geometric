Title: IBM PI46559: THE SETUPADM SCRIPT ON LINUX FAILS TO USE AN EXISTING GROUP WITHOUT THE -CREATE PARAMETER - United States

Text:
  FIXES ARE AVAILABLE
8.5.5.8: WebSphere Application Server V8.5.5 Fix Pack 8 [http://www-01.ibm.com/support/docview.wss?uid=swg24041178]
8.0.0.12: WebSphere Application Server V8.0 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24041590]
8.5.5.9: WebSphere Application Server V8.5.5 Fix Pack 9 [http://www-01.ibm.com/support/docview.wss?uid=swg24041819]
8.5.5.10: WebSphere Application Server V8.5.5 Fix Pack 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24042150]
8.5.5.11: WebSphere Application Server V8.5.5 Fix Pack 11 [http://www-01.ibm.com/support/docview.wss?uid=swg24043005]
8.0.0.13: WebSphere Application Server V8.0 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24042746]
8.5.5.12: WebSphere Application Server V8.5.5 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24043844]
8.0.0.14: WebSphere Application Server V8.0 Fix Pack 14 [http://www-01.ibm.com/support/docview.wss?uid=swg24044096]
8.5.5.13: WebSphere Application Server V8.5.5 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24044479]
8.0.0.15: WebSphere Application Server V8.0 Fix Pack 15 [http://www-01.ibm.com/support/docview.wss?uid=swg24044734]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  PCT tool GUI in 8.0.0.x runs setupadm with -create option for
   user and group directives in admin.conf.  If the user or group
   already exits then setupadm returns and logs a fail RC(58)
   which results in PCT reporting unsucessful run of PCT but in
   reality there is no problem because the user and group already
   existed.
   Setupadm just does a very primitive check against the contents
   of /etc/group only (vs. e.g. 'getent group') so it would not
   honor groups via NIS, LDAP, winbind, etc.
   In customer case the group was define via daemon called 'sssd'
   to maintain groups elsewhere.
   Note that 8.5.5.x PCT GUI provides a checkbox to enable/disable
   use of the -create option.
   
   
    
   
   

LOCAL FIX
 *  None - ignore the completion result understanding that the run
   of PCT was successful.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users of IBM HTTP Server (IHS) on Linux     *
   *                  with                                        *
   *                  failures configuring the IHS Administration *
   *                  Server                                      *
   ****************************************************************
   * PROBLEM DESCRIPTION: On Linux, configuration of the IHS      *
   *                      Administration fails when an existing   *
   *                      group  defined outside of /etc/group is *
   *                      used.                                   *
   ****************************************************************
   * RECOMMENDATION:  Apply this fix if configuration of the IHS  *
   *                  Administration server fails with errors     *
   *                  about                                       *
   *                  an existing group on Linux.                 *
   ****************************************************************
   The Plugin Configuation Tool (PCT) calls a script, $IHSROOT?
   bin/setpadm, to setup the product files to be administered by
   the
   IHS Admin Server.  Part of this configuration can be to identify
   an existing OS group.  When the specified existing group is
   stored
   outside of /etc/groups, via /etc/nsswitch.conf configuration to
   specify something like "winbind" or "sssd", setupadm will
   mistakenly think the existing group does not exist and will
   return
   an error.
   
   
    
   
   

PROBLEM CONCLUSION
 *  bin/setupadm was updated to use the 'getent' utility instead of
   looking directly in /etc/group.  'getent' will use whatever back
   is specified in /etc/nsswitch.conf
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI46559
   
   
 * REPORTED COMPONENT NAME
   IBM HTTP SERVER
   
   
 * REPORTED COMPONENT ID
   5724J0801
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-08-07
   
   
 * CLOSED DATE
   2015-08-11
   
   
 * LAST MODIFIED DATE
   2015-11-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   IBM HTTP SERVER
   
   
 * FIXED COMPONENT ID
   5724J0801
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP
   
   
 * R800 PSY
   UP
   
   
 * R850 PSY
   UP