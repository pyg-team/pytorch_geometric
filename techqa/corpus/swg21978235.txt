Title: IBM Content Collector for Files with Slow Archiving Performance - United States

Text:
icc warning metadata TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Ingestion rate for IBM Content Collector (ICC) for Files is slow. 

SYMPTOM
ICC task route service logging level is set to Warning.
The following warning message can be seen in the Task Route Service log: 

 * 
 * 2016-01-06T21:28:47Z Warning 0x179c An error occurred while attempting to evaluate the parameter 'ClosedDate' of the task 'P8 Create Document' for work item with id 'c:\monitored folder\test.pdf'.Reason: The implemented MetadataSource does not support the property "ClosedDate"
 * 2016-04-19T10:38:17Z Warning 0x2dd8 An error occurred while attempting to evaluate the parameter 'ClaimNumber' of the task 'P8 Create Document' for work item with id ''c:\monitored folder\test.pdf'.Reason: The implemented MetadataSource does not support the property "ClaimNumber" 
   


CAUSE
There are two known reasons that could cause slow performance at Warning log leveL: 

 * A user -defined metadata property is not mapped in the FSC Associate Metadata task, but used in the P8 Create Document task later in the task route 
 * Referencing date/time metadata which does not contain a value.

ENVIRONMENT
IBM Content Collector for Files 



DIAGNOSING THE PROBLEM
When ICC task route service logging level is set to Error, ingestion rate improves significantly.



RESOLVING THE PROBLEM
To address the first reason, ensure the user-defined metadata property is selected in metadata mapping. 

 *  In the task route, FSC Associate Metadata task > Metadata Mapping tab, ensure all properties that you are going to use are selected. By selecting the property, that property in the user-defined metadata will be made available for use later in the task route. If a property is not selected in the mapping, and you assign that property value later in a P8 Create Document task, you will get a warning like above which in turn causes delay in performance. 

To address the second reason, try one of the following two options depending on the ICC version you are using: 

For ICC version 3.0 and 4.0, ensure the file system metadata value is available and with the correct format. 

 * Contain a date time value. For example, in a XML metadata file, the following properties do not contain a value:  *  <EffectiveDate />
      <ExpirationDate />
      <ClosedDate /> 
   
   
 * With the expected format. For example, the following line contains a value for the date/time property:  *  <CreatedDate>06/27/20 05 09:39:30</CreatedDate> The above date time has the format of MM/dd/yyyy hh:mm:ss. Ensure that in the task route, FSC Associate Metadatatask >Metadata Mapping, that property is configured with the same format. If the task route is configured with some other format such as "yyyy/MM/dd", then ICC cannot extract the date time value from the XML metadata file correctly and it is equivalent to not having a value. 
   
   

For ICC version 4.0.1, take advantage of the support for null values.  * In the task route, FSC Associate Metadata task > Metadata Mapping >
   XML File Properties, select the option Treat missing values as null values. 
 * Support for null values is a new feature added in version 4.0.1. 
 * For new task routes created in version 4.0.1, the option Treat missing values as null values is enabled by default. 
 * For task routes created in earlier versions and imported to version 4.0.1, this option may not be selected and needs to be enabled manually.
   

RELATED INFORMATION
 What's new in Content Collector Version 4.0.1? [https://www-01.ibm.com/support/knowledgecenter/SSAE9L_4.0.1/com.ibm.content.collector.doc_kc/overview/c_afu_whats_new_401.dita]
FSC Associate Metadata [https://www-01.ibm.com/support/knowledgecenter/SSAE9L_4.0.1/com.ibm.content.collector.doc_kc/task_reference/r_afu_fsc_associate_metadata.dita?lang=en]
Identifying XML-based file system metadata [https://www-01.ibm.com/support/knowledgecenter/SSAE9L_4.0.1/com.ibm.content.collector.doc_kc/metadata_and_lists/t_afu_file_system_metadata_xml_mapping.dita?lang=en]