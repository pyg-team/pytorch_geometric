Title: IBM Installation of TSAM failed with REGISTRY_FETCH_ERROR - United States

Text:
TIPL2INST; install fails; REGISTRY_FETCH_ERROR TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Installation of TSAM fails with below errors:

SEVERE: CTGIN0024E: An unexpected exception was encountered 
Caused by: com.ibm.ac.si.tpif.TouchpointException: REGISTRY_FETCH_ERROR 
at com.ibm.ac.si.tp.PropertyValueFinder.getPropertyValue 

SYMPTOM
The IA log had below errors:

WARNING: CTGIN0147I: Deployment Engine is resolving the topology.
Jun 18, 2013 9:09:01 AM class com.ibm.tivoli.ccmdb.install.common.log.CmnInstallLogUtils
handleUnexpectedException
SEVERE: CTGIN0024E: An unexpected exception was encountered during processing of a process solution installation service request. The exception is com.ibm.ac.si.checker.CheckException:
at com.ibm.ac.si.checker.BaseIUControllerImpl.isHostingEnvironmentUndoable( 
BaseIUControllerImpl.java:920) 

at com.ibm.ac.si.checker.BaseIUControllerImpl.createCMOResult(BaseIUControl 
lerImpl.java:400) 
Caused by: com.ibm.ac.si.tpif.TouchpointException: REGISTRY_FETCH_ERROR 
at com.ibm.ac.si.tp.PropertyValueFinder.getPropertyValue(PropertyValueFinde 
r.java:126) 

at com.ibm.ac.si.checker.BaseIUControllerImpl.isHostingEnvironmentUndoable( 
BaseIUControllerImpl.java:898)


The de_trace.log had below errors: 


ACUOSI0050E External command action failed with return code 2. 
Invocation string: [/usr/ibm/common/acsi/bin/wscanhw, -o, /tmp/collector2460692764803316758.tmp, -c, /usr/ibm/common/acsi/dat/config/scanconfig.xml] mrid = mrid:HostingEnvironment!Persistence:collectorCache artifact = <actionDef>


CAUSE
The "REGISTRY_FETCH_ERROR" exception suggest that CIT may be corrupted.


DIAGNOSING THE PROBLEM
1. Run below command manually and if it fails with return code 2 then it could be an issue with CIT. 


Note: The location of wscanhw can be different based on where DE is installed. 

/usr/ibm/common/acsi/bin/wscanhw, -o, /tmp/collector2460692764803316758.tmp, -c, /usr/ibm/common/acsi/dat/config/scanconfig.xml


RESOLVING THE PROBLEM
1. Check if <DE-HOME>/cit/bin/citcli.xsd file exist on the server. If this file is missing then search for this file under <DE-HOME> dir, and copy it to <DE-HOME>/cit/bin dir. If you can not find this file then open a PMR. 

2. After copying the file try the installation again. If the installation fails again then open a PMR and provide logs as described in below technote:

http://www-01.ibm.com/support/docview.wss?uid=swg21439183 [http://www-01.ibm.com/support/docview.wss?uid=swg21439183]