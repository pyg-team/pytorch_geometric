Title: IBM How to modify the last-modified cache in Lotus Connections Profiles - United States

Text:
User data; stale; old; cache; last modified cache settings; profiles-config.xml; refreshTime; refreshInterval; startDelay; Tivoli Directory Integrator; TDI TECHNOTE (FAQ)

QUESTION
LotusÂ® Connections Profiles does not recognize the most recent changes made to the underlying data store that stores user profile data, and you suspect that the culprit is a stale cache. 

How do you modify the last-modified cache in Lotus Connections Profiles?



CAUSE
The Profiles last-modified (last-mod) cache is used to enable clients and proxies to validate the freshness of cached profile page data without requiring the WebSphere Application Server (WAS) to query the database for reasons related to performance.

In production environments, identity management tools, such as Tivoli Directory Integrator, will periodically update the database utilized by Profiles. As those user identity management tools operate independently of WAS and, therefore, have no access to the profiles last-modified time cache, it is important to flush the cache to ensure data freshness. 

The Administrative MBean used in Lotus Profiles does not expose the properties necessary to alter the last-modified cache refresh cycle, thus modifying these properties manually is required.


ANSWER
This issue has been reported to Quality Engineering as SPR# JKIY72CP5N and has been fixed in Connections 1.0.2. 

 

Workaround: 

 1. Using a text editor, modify the profiles-config.xml file located in the Application Server "config" directory under:
    ${WAS_HOME}/profiles/${YOUR_PROFILE}/cells/${YOUR_CELL} -->
    /nodes/${YOUR_NODE}/LotusConnections-config/profiles-config.xml
    
 2. Locate the section "<cache>/<profileLMCache>"
    
 3. Modify the following settings as required to ensure that your Lotus Connections Profiles system utilizes the most recently data as is feasible. 
    XML Element Value Type Description <refreshTime> 24 hour (HH:MM) time The initial time from which this task is queued to start <refreshInterval> Minutes The interval between last-modified cache refreshes <startDelay> Minutes A built in delay to prevent the cache from being run until at least X minutes after the application server has been started. 
 4. Save the changed made to profiles-config.xml
    
 5. Start and stop the Profiles application to cause the new settings to take effect..




 * 
 *