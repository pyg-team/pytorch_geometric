Title: IBM Incorporating Full-Text Search in upgrade or maintenance plans when upgrading ClearQuest or WebSphere - United States

Text:
SRX; RN8.0; RN8.0.0.1; ClearQuest; WebSphere; WebSphere Application Server; upgrade; patch; fixpack; RNCQ8.0.0.1; RNCQ8.0 TECHNOTE (FAQ)

QUESTION
 How do you upgrade or re-deploy Rational ClearQuest Web when I have the Full-Text Search feature enabled? 

CAUSE
When you run the cqtsadmin.pl script to enable the ClearQuest Full-Text Search feature, the script creates a WebSphere profile, deploys the ClearQuest application into the profile, and copies additional software that comprises the ClearQuest full-text search feature into the profile. You must back up your configuration if you want to preserve it before upgrading. After upgrading, you can restore your configuration.

ANSWER
Before you upgrade ClearQuest or modify your installation to remove the ClearQuest Full-Text Search feature, you must run the cqtsadmin.pl -prep_upgd_was_profiles command to back up the WebSphere profile in which the ClearQuest application is deployed. The IBM Rational ClearQuest Full-Text Search Administratorâ€™s Guide [https://publib.boulder.ibm.com/infocenter/cqhelp/v8r0m0/index.jsp?topic=/com.ibm.rational.clearquest.webadmin.doc/topics/c_fts_config.htm] contains information on configuring the Full-Text Search feature by using the IBM Rational ClearQuest Full-Text Search Administration tool. See the "I want to upgrade or reinstall ClearQuest, which has full-text search WAS profiles for multiple user databases" scenario for details. 

After upgrading to the new ClearQuest version or reinstalling the ClearQuest Full-Text Search feature, run the cqtsadmin.pl --restore_was_profiles command to restore the profile.

Special Considerations for upgrading both ClearQuest and WebSphere Application Server versions

If you are upgrading both ClearQuest and WebSphere Application Server versions, for example, upgrading from ClearQuest 8.0 to 8.0.0.1 and from WebSphere Application Server 7 to 8, be sure to review How to upgrade Rational ClearCase, ClearQuest or RequisitePro web servers [http://www-01.ibm.com/support/docview.wss?uid=swg21572830] for information on upgrading to WebSphere Application Server v8.0, known limitations, and supported configurations and installation scenarios.

Follow the next steps to upgrade.

Procedure


 1. Install WebSphere Application Server 8. See Installing IBM WebSphere Application Server V8 for use with Rational ClearQuest [http://www-01.ibm.com/support/docview.wss?uid=swg21573917] for guidance. 
 2. Run the cqtsadmin.pl -prep_upgd_was_profiles command. 
 3. Upgrade to ClearQuest v8.0.0.1 [https://publib.boulder.ibm.com/infocenter/cqhelp/v8r0m0/index.jsp?topic=/com.ibm.rational.clearquest.install_upgrade.doc/topics/c_upgrade_container.htm]. 
 4. Use the Installation Manager to modify and remove all ClearQuest Web features that you have installed. This includes:  * ClearQuest Web server 
     * Full-Text search server 
     * Report Launcher for ClearQuest 
     * Report Server for Crystal Reports
    
    
 5. Use the Installation Manager to add the ClearQuest Web features into the WebSphere Application Server profile. 
 6. Run the cqtsadmin.pl --restore_was_profiles command.


The ClearQuest Full-Text Search feature is re-enabled after you complete these steps. 

Note: 
1. This is applicable to all Full-Text Search deployed using the Administrator Tool as per technote: http://www.ibm.com/support/docview.wss?uid=swg24026182 [http://www-01.ibm.com/support/docview.wss?uid=swg24026182] 
Including future ClearQuest FixPack releases. 

2. Part numbers of WAS you need for ClearQuest 8.0.0.1 and newer: 
http://www.ibm.com/support/docview.wss?uid=swg21662436 [http://www-01.ibm.com/support/docview.wss?uid=swg21662436] RELATED INFORMATION
#Part numbers of WebSphere software used by ClearQuest [http://www.ibm.com/support/docview.wss?uid=swg21662436]
CQ Full-Text Search Admin tool [http://www.ibm.com/support/docview.wss?uid=swg24026182]