Title: IBM What is the meaning of the parameter LSB_KEEP_DEPENDENT_JOB? - United States

Text:
LSB_KEEP_DEPENDENT_JOB TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 What is the meaning of the parameter LSB_KEEP_DEPENDENT_JOB? 

RESOLVING THE PROBLEM
We recently found this entry "LSB_KEEP_DEPENDENT_JOB=y" in lsf.conf and was wondering what it does, if it's a legacy option, etc as I couldn't find any reference to it in documents.As you know mbatchd cleans jobs (removes from memory) specified by CLEAN_PERIOD. If the LSB_KEEP_DEPENDENT_JOB parameter is not set, finished array element jobs are cleaned out by mbatchd before all array jobs are finished. The result is that some depended jobs on the array elements can fail since some array elements might no longer exist in memory. 

This parameter is put in place to make sure job array elements are not cleaned out before all array jobs are finished. This is to prevent any dependent jobs on the job array elements from failing. One possible side effect is that the size of mbatchd may become large since it needs to keep all job array elements in memory. 

A possible workaround is to increase CLEAN_PERIOD in lsb.params so that the value of CLEAN_PERIOD is greater than the time for all job array elements to finish.

 

Cross reference information Segment Product Component Platform Version Edition IBM Spectrum Computing IBM Spectrum LSF