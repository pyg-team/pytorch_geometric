Title: IBM CDM TLS 1.2 Support - United States

Text:
 PRODUCT README

ABSTRACT
 Starting with CDM 10.2.6 Refresh 1 (which is the latest cloud release), TLS version 1.2 will be supported on all CDM major releases. 

CONTENT
Starting with CDM 10.2.6 Refresh 1 (which is the latest cloud release), TLS version 1.2 will be supported on all CDM major releases. 

In order to make use of this, you’ll need to enable TLS 1.2 on the Server machine where CDM relies, as well as installing a patch for the SQL Server to work with TLS 1.1. and TLS 1.2.

More about installing the TLS 1.2 fix on the SQL server can be found here: https://support.microsoft.com/en-us/kb/3135244 [https://support.microsoft.com/en-us/kb/3135244].

In order to enable the TLS 1.2 on the CDM server machine you’ll need to run the following PowerShell script:

#Enable TLS 1.2#
##################################################

#####Check for SSL 3.0#####
###########################
Push-Location 
Set-Location HKLM:
function full_message ( [string] $message)
{
$date = Get-Date -Format g 
$full_message = $date + " " + $message;
Out-File -append -NoClobber -filepath "C:\installs\Disable_SSL_3.0.txt" -inputobject $full_message;
}


if (Test-Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\SSL 3.0"){
$message = "Registry Keys for SSL 3.0 will be recreated"
full_message($message);
Remove-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\SSL 3.0" -Recurse

}

New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\SSL 3.0"
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\SSL 3.0\Client"
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\SSL 3.0\Server"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\SSL 3.0\Client\" -Name "Enabled" -Value 0 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\SSL 3.0\Server\" -Name "Enabled" -Value 0 -PropertyType "DWord" 
$message = "Registry Keys for SLL 3.0 were created."
$message = "Adding Dword Keys for disabling SSL 3.0. Dword Keys added." 
full_message($message);

Pop-Location


####Check for TLS 1.1, 1.0, 1.2#####
####################################
Push-Location 
Set-Location HKLM:
if (Test-Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0"){
$message = "Registry Keys for TLS 1.0 exists will be recreated"
Remove-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0" -Recurse
full_message($message);
}
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0"
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0\Client"
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0\Server"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0\Client\" -Name "Enabled" -Value 0 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0\Client\" -Name "DisabledByDefault" -Value 0 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0\Server\" -Name "Enabled" -Value 0 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.0\Server\" -Name "DisabledByDefault" -Value 0 -PropertyType "DWord"
$message = "Registry Keys for TLS 1.0 were created."
$message = "Adding Dword Keys for enabling TLS 1.0. Dword Keys added." 
full_message($message);

if (Test-Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1"){
$message = "Registry Keys for TLS 1.1 exists will be recreated"
Remove-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1" -Recurse
full_message($message);
}
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1"
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1\Client"
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1\Server"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1\Client\" -Name "Enabled" -Value 0 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1\Client\" -Name "DisabledByDefault" -Value 0 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1\Server\" -Name "Enabled" -Value 0 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.1\Server\" -Name "DisabledByDefault" -Value 0 -PropertyType "DWord"
$message = "Registry Keys for TLS 1.1 were created."
$message = "Adding Dword Keys for enabling TLS 1.1. Dword Keys added." 
full_message($message);

if (Test-Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2"){
$message = "Registry Keys for TLS 1.2 exists will be recreated"
Remove-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2" -Recurse
full_message($message);
}
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2"
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Client"
New-Item -Path ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Server"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Client\" -Name "Enabled" -Value 1 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Client\" -Name "DisabledByDefault" -Value 0 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Server\" -Name "Enabled" -Value 1 -PropertyType "DWord"
New-ItemProperty ".\System\CurrentControlSet\Control\SecurityProviders\SCHANNEL\Protocols\TLS 1.2\Server\" -Name "DisabledByDefault" -Value 0 -PropertyType "DWord"
$message = "Registry Keys for TLS 1.2 were created."
$message = "Adding Dword Keys for enabling TLS 1.2. Dword Keys added." 
full_message($message);
Pop-Location

Note that in order to fully migrate to TLS 1.2, all the other SSL and TLS versions need to be present in the registry and disabled, just like the script does.

You can alter the script however you choose in order to revert back the changes or enable/disable other protocols.

More about this can be found here: https://technet.microsoft.com/en-us/library/dn786418(v=ws.11).aspx [https://technet.microsoft.com/en-us/library/dn786418(v=ws.11).aspx]