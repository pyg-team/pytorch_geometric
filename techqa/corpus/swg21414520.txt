Title: IBM Installing Tomcat as a Windows Service for running Jazz Team server - United States

Text:
RPC TECHNOTE (FAQ)

QUESTION
 Tomcat has to be installed as a Windows Service, if you wish to run the Jazz Team Server for Rational Project Conductor on a Windows-based machine without having to be logged on. 

CAUSE
After the default installation Apache Tomcat has to be started using the server.startup.bat file.

ANSWER
This technote assumes that your Jazz Team Server deployment is rooted at C:\Program Files\IBM\JazzTeamServer so adjust your paths accordingly based on your actual root directory. 

Moreover, this technote assumes that you are using Derby as backing database.


 1.  1Execute in a command shell service.bat install to install the Tomcat service:  1.  C:\Program Files\IBM\JazzTeamServer\server\tomcat\bin>service.bat install 
      2. Check under Services in the Administrative Tools whether Apache Tomcat is listed now as service:
         
         [/support/docview.wss?uid=swg21414520&amp;aid=1]
     
     
 2.   
 3.   Using Derby as the backing database for your Jazz Repository, edit the file teamserver.properties to make the DB location an absolute path. For example, change the value of db.jdbc.location to C:/Program Files/IBM/JazzTeamServer/server/repositoryDB.
     Teamserver.properties is located under C:\Program Files\IBM\JazzTeamServer\server\conf\jazz. Enter the absolute path with forward slashes. 
 4.   
 5.  Specify the WorkItem text index with a fully qualified location. Edit teamserver.properties to change the value of com.ibm.team.fulltext.indexLocation to C:/Program Files/IBM/JazzTeamServer/server/workitemindex.
      *  Extract of teamserver.properties
        com.ibm.team.repository.db.jdbc.location=C:/Program Files/IBM/JazzTeamServer/server/repositoryDB
        com.ibm.team.fulltext.indexLocation=C:/Program Files/IBM/JazzTeamServer/server/workitemindex 
     
     
 6.   
 7.   
 8.  Execute C:\Program Files\IBM\JazzTeamServer\server\tomcat\bin\tomcat5w.exe to configure the service.
     
     [/support/docview.wss?uid=swg21414520&amp;aid=2]
     
 9.  On the Java tab, uncheck Use default: 
 10. Change the Java Virtual Machine path to be 
     C:\Program Files\IBM\JazzTeamServer\server\jre\bin\j9vm\jvm.dll 
 11. Add these lines at the bottom of the Java Options text field with this content (Also check the server.startup.bat file located under C:\Program Files\IBM\JazzTeamServer\server for additional environment settings that are not included here). 
 12.   *  -DJAZZ_HOME=file:///C:/Program Files/IBM/JazzTeamServer/server/conf -Djava.awt.headless=true -Dorg.eclipse.emf.ecore.plugin.EcorePlugin.doNotLoadResourcesPlugin=true -Dcom.ibm.team.repository.tempDir=%TEMP% 
     
     
 13.  
 14. Change the "Maximum memory pool" size to be 700 (instead of adding the Java option -Xmx700M)
     [/support/docview.wss?uid=swg21414520&amp;aid=3]  *   * Java Options in Apache Tomcat Properties window  * -Dcatalina.base=C:\Program Files\IBM\JazzTeamServer\server\tomcat 
            * -Dcatalina.home=C:\Program Files\IBM\JazzTeamServer\server\tomcat 
            * -Djava.endorsed.dirs=C:\Program Files\IBM\JazzTeamServer\server\tomcat\common\endorsed 
            * -Djava.io.tmpdir=C:\Program Files\IBM\JazzTeamServer\server\tomcat\temp 
            * -Djava.awt.headless=true 
            * -Dorg.eclipse.emf.ecore.plugin.EcorePlugin.doNotLoadResourcesPlugin=true 
            * -DJAZZ_HOME=file:///C:/Program Files/IBM/JazzTeamServer/server/conf 
            * -Dcom.ibm.team.repository.tempDir=%TEMP%
           
           
        
        
     
     
 15. On the Startup and Shutdown tabs, make sure the Mode setting is jvm. 
 16. On the General tab you can change the Startup type to be Automatic if you want the service to start on its own. 
 17. Start the service to test out the server.


Leverage the Jazz Community Jazz and Rational Team Concert have an active community that can provide you with additional resources. Browse and contribute to the User forums, contribute to the Team Blog and review the Team wiki.
Refer to technote 1319600 [http://ibm.com/support/docview.wss?uid=swg21319600] for details and links.