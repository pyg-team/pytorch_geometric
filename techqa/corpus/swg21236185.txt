Title: IBM /etc/inetd.conf is obsolete in Solaris 10 - United States

Text:
/etc/inetd.conf Solaris 10 obsolete WebSphere MQ v 6.0 listener inetd services SMF (Service Management Facility) SMF manifests svcadm command inetadm inetconv inetd-style services TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are going to install WebSphere MQ on Sun Solaris 10. You usually use the "/etc/inetd.conf" file to set up the listeners... 

How should this be set up when running on Sun Solaris 10 ? 

CAUSE
In Solaris 10, /etc/inetd.conf has been replaced by SMF manifests. All inetd services are now controlled under the SMF (Service Management Facility)

RESOLVING THE PROBLEM
General service management is controlled using the "svcadm" command, but a special command called "inetadm" is provided to manage network services, together with "inetconv" to assist in adding further inetd-style services. 

 
Here is an example of adding an inetd-style service:- 

First, add an entry in /etc/services for MQSeries:- 

MQSeries 1414/tcp 

The /etc/services entry has not changed at Solaris 10. 

Next, create a temporary file containing a valid inetd.conf-style entry for MQSeriesÂ®, for example: /tmp/inet.MQSeries: 

MQSeries stream tcp nowait mqm /opt/mqm/bin/amqcrsta amqcrsta -m QMGR

Now run inetconv as follows:- 

# inetconv -i /tmp/inet.MQSeries 

This produces the following output: 

MQSeries-> /var/svc/manifest/network/MQSeries-tcp.xml Importing MQSeries-tcp.xml ...Done 

Now MQSeries can be enabled (Note the service name):- 

# inetadm -e svc:/network/MQSeries/tcp:default 
. 
Finally, refresh the service using this command: 

# svcadm refresh inetd 


You can check the service by using inetadm: 

# inetadm -l /network/MQSeries/tcp
SCOPE NAME=VALUE
name="MQSeries" 
endpoint_type="stream"
proto="tcp" 
isrpc=FALSE 
wait=FALSE
exec="/opt/mqm/bin/amqcrsta -m QMGR"
user="mqm"
default bind_addr=""
default bind_fail_max=-1
default bind_fail_interval=-1 
default max_con_rate=-1
default max_copies=-1
default con_rate_offline=-1
default failrate_cnt=40
default failrate_interval=60 
default inherit_env=TRUE 
default tcp_trace=FALSE
default tcp_wrappers=FALSE 

The login directory for the mqm user, the directory specified in 
/etc/passwd, must exist.

 

PRODUCT ALIAS/SYNONYM
 WMQ MQ