Title: IBM SA94155: MQM400 NUMEROUS "OBJECT NOT FOUND" FDC (KQIFASTNETCHOOSEQMGR - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  ******* (Do NOT alter/erase this or next 3 lines) *******
   * EQUIVALENT ABSTRACT:
   MQM400 NUMEROUS _OBJECT NOT FOUND_ FDC _KQIFASTNETCHOOSEQMGR
   *
   The customer trace showed many MQCONN calls to QMgr CTRLNT18,
   and many MQOPEN calls to queue WIA.DEFAULT.LOG.QUEUE (with
   objQmgrName=WIA, and msgid/correlid both contained QMgr name).
   There were a few MQOPEN calls for queue ROUTER (with
   objQmgrName=CTRLNTWIA01 and msgid/correlid as above).
   Thus, the customers appln are creating MQOD's that contains the
   remote destination queue and qmgr name in them. The MQOPEN on
   these MQODs causes MQ to look for a qremote or xmitq with
   the same name as the remote qmgr (WIA and CTRLNTWIA01 above).
   The MQOPEN on these MQODs seems to be reporting the 2085 error,
   since the customer intentionally does not have a qremote or
   xmitq on his system by the specified name.
   However, the customer does this intentionally because he knows
   that if MQ does not find the specified qremote or xmitq name,
   MQ resorts to the default xmitq.  The customer has coded in the
   DEFXMITQ parm of his qmgr the name TO.HUB1.
   Thus TO.HUB1 is the default xmitq that MQ sends all messages to.
   This is exactly is intended, because the hub QMgr knows how to
   successfully route all messages to their proper destination.
   The only problem appears to be that MQ is issuing the 2085
   (object not found) error to report the fact that the named
   qremote and xmitq was not found, at which time
   MQSeries will put the message on the default xmitq.
   Sample FDC report:
   PIDS              :- 5639B43
   LVLS              :- 5100
   Product Long Name :- MQSeries for Windows NT
   Vendor            :- IBM
   Probe Id          :- KN163025
   Application Name  :- MQM
   Component         :- kqiFastnetChooseQmgr
   Build Date        :- Aug  9 2000
   UserID            :- MUSR_MQADMIN
   Process Name      :- D:\APPS\MQSERIES\BIN\amqzlaa0.exe
   Process           :- 00000402
   Thread            :- 00000812
   QueueManager      :- CTRLNT18
   Major Errorcode   :- xecF_E_UNEXPECTED_RC
   Minor Errorcode   :- arcE_OBJECT_NOT_FOUND
   Probe Type        :- MSGAMQ6118
   Probe Severity    :- 2
   Probe Description :- AMQ6118: An internal MQSeries error
     has occurred (20800825)
   Arith1            :- 545261605 20800825
   Problem originally reported in APAR IC30555.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  The customer trace showed many MQCONN calls to QMgr CTRLNT18,
   and many MQOPEN calls to queue WIA.DEFAULT.LOG.QUEUE (with
   objQmgrName=WIA, and msgid/correlid both contained QMgr name).
   There were a few MQOPEN calls for queue ROUTER (with
   objQmgrName=CTRLNTWIA01 and msgid/correlid as above).
   Thus, the customers appln are creating MQOD's that contains the
   remote destination queue and qmgr name in them. The MQOPEN on
   these MQODs causes MQ to look for a qremote or xmitq with
   the same name as the remote qmgr (WIA and CTRLNTWIA01 above).
   The MQOPEN on these MQODs seems to be reporting the 2085 error,
   since the customer intentionally does not have a qremote or
   xmitq on his system by the specified name.
   However, the customer does this intentionally because he knows
   that if MQ does not find the specified qremote or xmitq name,
   MQ resorts to the default xmitq.  The customer has coded in the
   DEFXMITQ parm of his qmgr the name TO.HUB1.
   Thus TO.HUB1 is the default xmitq that MQ sends all messages to.
   This is exactly is intended, because the hub QMgr knows how to
   successfully route all messages to their proper destination.
   The only problem appears to be that MQ is issuing the 2085
   (object not found) error to report the fact that the named
   qremote and xmitq was not found, at which time
   MQSeries will put the message on the default xmitq.
   Sample FDC report:
   PIDS              :- 5639B43
   LVLS              :- 5100
   Product Long Name :- MQSeries for Windows NT
   Vendor            :- IBM
   Probe Id          :- KN163025
   Application Name  :- MQM
   Component         :- kqiFastnetChooseQmgr
   Build Date        :- Aug  9 2000
   UserID            :- MUSR_MQADMIN
   Process Name      :- D:\APPS\MQSERIES\BIN\amqzlaa0.exe
   Process           :- 00000402
   Thread            :- 00000812
   QueueManager      :- CTRLNT18
   Major Errorcode   :- xecF_E_UNEXPECTED_RC
   Minor Errorcode   :- arcE_OBJECT_NOT_FOUND
   Probe Type        :- MSGAMQ6118
   Probe Severity    :- 2
   Probe Description :- AMQ6118: An internal MQSeries error
     has occurred (20800825)
   Arith1            :- 545261605 20800825
   Problem originally reported in APAR IC30555.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The FDC probe reporting 'object not found' has been suppressed.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   SA94155
   
   
 * REPORTED COMPONENT NAME
   MQSERIES FOR AS
   
   
 * REPORTED COMPONENT ID
   5733A3800
   
   
 * REPORTED RELEASE
   520
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2001-09-12
   
   
 * CLOSED DATE
   2001-09-12
   
   
 * LAST MODIFIED DATE
   2004-11-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  LMQML    LMQMLR
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   MQSERIES FOR AS
   
   
 * FIXED COMPONENT ID
   5733A3800
   
   

APPLICABLE COMPONENT LEVELS
 * R520 PSY SF66322
   UP02/09/23 P 2260