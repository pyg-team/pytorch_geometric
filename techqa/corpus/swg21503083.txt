Title: IBM DFHSJ0210 ENCLAVE_INIT_FAILED when attempting to start a JVM server - United States

Text:
DFHSJ0210 ENCLAVE_INIT_FAILED DFHSJ0914 MSGDFHSJ0210 MSGDFHSJ0914 5655S9700 R670 670 R700 700 HCI6700 5655-S97 5655S97 KIXINFO TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You have a CICS Transaction Server for z/OS (CICS TS) JVM server that fails to start. You receive message DFHSJ0210 An attempt to start a JVM for the JVMSERVER resource has failed Reason code: ENCLAVE_INIT_FAILED. You also receive message DFHSJ0914E. 

SYMPTOM
You have a JVMSERVER defined in your CICS TS region that fails to start. Your receive messages:
DFHSJ0210 [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.messages.doc/cics_mc/dfhsj/SJ0210.html]applidAn attempt to start a JVM for the JVMSERVER resource jvmserverhas failed. Reason code: ENCLAVE_INIT_FAILED.
DFHSJ0914 [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.messages.doc/cics_mc/dfhsj/SJ0914E.html]E applid useridJVMSERVER jvmserveris DISABLED because the Language Environment Enclave was not created.

The CICS JOB log has a JES file with the name format of SYSnnnnn that contains the following messages:
EDC5122I Input/output error. (errno2=0xEF5C663F) 

2011/06/15 10:32:59.163083 GMT *Exc*: Unable to create() file = dfhjvm_volume_check
2011/06/15 10:32:59.163096 GMT *Exc*: Failed to redirect output



CAUSE
The JVMSERVER has failed to redirect output, for example STDOUT and STDERR.

CICS validates the output file location by attempting to create a temporary file in the WORK_DIR. The start fails and the JVMSERVER is disabled if CICS is unable to create the file.



RESOLVING THE PROBLEM
Ensure that there is sufficient space available in the file system for the output files and that the CICS region has the necessary authority to create the files. Correct the problem and enter CEMT SET JVMSERVER(jvmserver) ENABLED [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.systemprogramming.doc/transactions/cemt/dfha7_setjvmserver.html] to enable the JVMSERVER.

CICS starts JVMSERVERs concurrently. If a CICS region has more than one JVMSERVER sharing the same WORK_DIR then it is possible for there to be contention on the temporary file between the JVMSERVERs. In this case, the failed JVMSERVER should start if enabled.

Note: The location of the JVMSERVER output files is specified by the WORK_DIR [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.java.doc/topics/dfha2_jvmprofile_options.html] property in the JVMPROFILE.







Cross Reference information Segment Product Component Platform Version Edition Host Transaction Processing CICS Transaction Server Loader Domain z/OS 4.2 
PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server