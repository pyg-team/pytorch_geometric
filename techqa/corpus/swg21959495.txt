Title: IBM Collect troubleshooting data for EAR or Advanced Snapshot deployments with the IBM Business Process Manager (BPM) products - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are having a problems deploying or removing SCA EAR applications or BLAs related to BPM snapshot advanced content. You would like to know what documentation you must collect (MustGather) so that the IBM Business Process Manager Support team can diagnose your problem. If you gather this documentation before contacting support it will expedite the troubleshooting process, and save you time. 

RESOLVING THE PROBLEM


OVERVIEW OF EAR DEPLOYMENT DIAGNOSTIC INFORMATION
Gather the following information and files: 

General diagnostic information 

 * Problem description 
 * Environment description 
 * Server log files - All of the files from the following directories:
   <Dmgr profile_root>/logs
   <Node profile_root>/logs 
 * EAR or TWX export of the application being installed 


As needed diagnostic information  * Profile /config directory from the deployment manager 
 * Tracing specialized to the error occurring 


SETTING THE TRACE STRING
Set the applicable trace string in the following table and then reproduce the problem. For instructions, see "Enabling trace on a running server" [http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.nd.multiplatform.doc/ae/ttrb_entrrs.html]. 




Description Trace string General trace string
On DMgr and App cluster members *=info:WAS.clientinfopluslogging=all: com.ibm.bpm.*=all SCA and bindings issues
On DMgr SCA.*=all:SCA.Bindings.*=all BPEL issues
On DMgr and App cluster members com.ibm.bpe.*=all WAS config and sync
On Dmgr com.ibm.ws.management.*=all: com.ibm.websphere.management.*=all Authorization issues com.ibm.ws.security.*=all Note: Enabling trace might slow down your system. Thus, enable it only for the necessary time frame. This delay can lead to transaction time-outs and errors. 

GATHER THE DIAGNOSTIC INFORMATION
Collect the following diagnostic information:



 1. Problem and environment description
    Provide a detailed description of the problem that you are having. Try to be detailed about the steps that lead up to the issue and include screen shots whenever possible. Include any error messages that you think are related. For example, include the answers to the following questions.  * Is this a new environment? 
     * Were there any changes prior to the issue occurring? 
     * Is the issue intermittent or re-creatable? If intermittent, how often does it occur? 
     * How does the issue impact your business? 
     * Are there any deadlines that are affected by this issue that we should be aware of? 
     * Is the related Process Center or Process Server clustered? 
     * Is this an EAR deployment or snapshot deployment with EAR content? 
     * Has the app been un-installed and reinstalled? 
       
       
    
    
 2. Deployment Manager and Node Profile logs
    The log files need to be gathered from the deployment manager profile and each node containing an app cluster member. If the needed trace is not clear just provide the log files.  1. Set the needed trace string on the dmgr and app cluster members. 
     2. Recreate the issue. 
     3. Turn off each of the enabled trace strings. 
     4. Compress the profile_root/logs directory from each profile. The directory contains the logs, trace, and ffdc files for each server.
        Note: If you have logs/trace going to custom locations then provide those locations in addition. 
        
        
    
    
 3. EAR or TWX export  * If your issue is with EAR deployment, provide the EAR you are attempting to deploy. 
       Let us know how the EAR was created. 
       We may also need a PI export from IID if there are issues with the EAR. 
     * If your issue is with a snapshot deployment, provide a TWX export of the snapshot you are trying to install. 
       
       
    
    
 4. Profile config directory
    In certain situations we will need config information from the profiles. This is often the case if the install is failing to find certain files/classes and with application startup issues. If this is needed provide the following directories:  * /config directory from the DMgr profile 
     * /installedApps directory from the App cluster profile
    
    


WHAT TO DO NEXT



 1. Review the log files and traces at the time of the problem to try to determine the source of the problem.
    
    
 2. Use IBM Support Assistant [http://www.ibm.com/software/support/isa/] to search for known problems in the product documents, forums, and support content.
    
    
 3. If you cannot find related problems or cannot solve the problem, send the information you have collected to IBM by following the instructions in Exchanging Information with IBM Technical Support.