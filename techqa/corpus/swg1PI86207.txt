Title: IBM PI86207: IBM SPSS C&DS 8.0 RPS RUNNING GENERAL WORK JOBS, AFTER 16 JOBS THE REST REMAIN IN A RUNNING STATUS - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  The situation is that a customer has a 17+ IBM SPSS
   Collaboration and Deployment Services (C&DS) jobs containing
   General Job Steps that are executed concurrently against a C&DS
   Remote Process Server (RPS) host. It has been observed that when
   executing these jobs, 16 job-steps are executed, while the rest
   is set to a Running status but is not actually being executed on
   the C&DS RPS host. The only time these jobs are executed on RPS
   is when one of the first 16 jobs is completed.
   
   Environment that this issue was discovered on:
   C&DS Server 8.0 on Linux CentOS 7.5
   C&DS RPS 8.0 on Linux CentOS 6.8
   WebSphere 8.5.5.9
   
   However, this issue is most likely platform independent and is
   due to the C&DS RPS code.
   
   The following WAS settings were checked:
   * WAS Admin Console > Queue Connection Factories >
   CDSQueueConnFactory > Connection Pools
    - Maximum connections = 200
   
   * WAS Admin Console > Activation specifications >
   CDSProcessEventActivationSpec
    - Maximum Batch size = 5
    - Maximum concurrent MDB invocations per endpoint = 250
   
   This issue could not be replicated on a C&DS 7.0 environment and
   the WAS changes mentioned above allowed the successful execution
   of 20 C&DS jobs against RPS at the same time.
   
   To replicate this issue:
   * Set the 'maximum concurrent MDB invocations per endpoint' for
   the CDSProcessEventActivationSpec to a number greater than 20,
   say 50.
   * Create two jobs in C&DS
       * Job1 - have this job just run the command 'echo hello'
       * Job2 - have this job just run the command 'sleep 300s'
   
   * First just run Job1. This job should finish immediately with a
   success.
   * Next, run Job2 16 times. Once done the job history should list
   16 Job2 jobs in the running state.
   * While the 16 Job2 jobs are in the running state, invoke Job1
   one or more times.
   
   Observed behavior is that the Job1 echos are listed as 'running'
   but they do not complete immediately after beings started. It is
   only after the Job2 jobs begin finishing after the sleep time is
   reached that the job1 jobs finish.
   
   It is expected that since the the MDB value is set well above
   16, that the Job1 jobs would finish immediately rather than
   waiting for the Job2 jobs to finish.
   
   
    
   
   

LOCAL FIX
 *  This has been reported to the IBM SPSS C&DS Development team and
   it has been found that a hard limit of 16 concurrent jobs has
   been implemented in our C&DS RPS code.
   
   An Interim Fix has been delivered by the IBM SPSS Collaboration
   and Deployment Services development team to resolve this issue.
   Please contact IBM SPSS Technical Support and ask to be given
   permission to access this fix. Quote this APAR when raising the
   Service Request.
   
   
   -- INTERIM FIX DISCLAIMER --
   Interim fixes are limited corrections to specific issues
   reported by one or more customers. They are normally sent only
   to customers who have reported one of the corrected problems,
   and who require an immediate correction. Interim Fixes do not
   address customer enhancement requests, and not all defect
   corrections can be delivered as Interim Fixes. Due to their
   urgency Interim Fixes undergo only targeted testing of specific
   fixes, not full regression testing. If the fix is not urgently
   required, you may prefer to wait for a scheduled Fix Pack
   Release, which will be fully regression tested. Interim Fix
   corrections, once fully regression tested, are automatically
   included in a future Fix Pack.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * This issue affects all users of SPSS C&DS Remote Process     *
   * Server.                                                      *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * IBM SPSS C&DS 8.0 RPS RUNNING GENERAL WORK JOBS, AFTER 16    *
   * JOBS THE REST REMAIN IN A RUNNING STATUS                     *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Please upgrade to IBM SPSS C&DS 8.1.1 to resolve this issue. *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI86207
   
   
 * REPORTED COMPONENT NAME
   SPSS CADS
   
   
 * REPORTED COMPONENT ID
   5725A72CD
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-08-21
   
   
 * CLOSED DATE
   2017-11-05
   
   
 * LAST MODIFIED DATE
   2017-11-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP
   
   
 * R810 PSY
   UP