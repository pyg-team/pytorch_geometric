Title: IBM Constant "-W- System is in boot run level ... will skip any checks" in Guardium GIM.log and central_logger.log when attempt STAP install from GIM - United States

Text:
Pending install; pending; install TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Constant "-W- System is in boot run level ... will skip any checks" in Guardium GIM.log and central_logger.log when attempt STAP install from GIM


SYMPTOM
The Guardium GIM client is installed with success. A subsequent attempt to install the STAP module from the Guardium GUI via GIM results in the STAP appearing to be stuck in Pending Install. Constant messages in the GIM.log and central_logger.log are seen every minute - like this example :-

[Tue Nov 15 21:44:36 2016] -W- System is in boot run level ... will skip any checks 
[Tue Nov 15 21:45:36 2016] -W- System is in boot run level ... will skip any checks 


CAUSE
Guardium uses the " who -r " Operating System command of the DB Server to check the run level - and hence checks if the system is in a stable state for the STAP to be installed.


For example on an AIX system this is a legitimate return from who -r 

 

 * $ who -r
 * 
 * . run-level 2 01 Nov 06:26 2 0 S


There are the following different causes 

 * 
 * 1.
 * 
 * blank
 * 
 * who -r
 * 
 *  /etc/utmp
 * 
 *  
 * 2. If a Server returns output from commands in a local language - Guardium is not interpreting this correctly. - For example a French system returns a correct run level as follows which Guardium fails to interpret. this example taken from a French Linux system 
 *  
 *  root@xxxxx~]# who -r
   niveau d'ex√©cution 5 2016-11-29 15:50 



DIAGNOSING THE PROBLEM
check the central_logger.log and GIM.log files as above - They are found in the <guardium installation directory>/modules area 

 





RESOLVING THE PROBLEM
1. If a blank is returned as in case 1. above 

 * 
 * 
 *  who -r 
 * 
 *  /etc/utmp
 * 
 *  who -r 
 * 


 

2. Where a localised DB Server is used (eg Frennch / German etc) Guardium has produced a fix to be available in v10.5 and higher. 

 * 
 * 
 *  
 * For IBM Guardium Technical Support engineers - please check the Internal Notes of this document via the IBM Internal tooling in order to help customers with this problem