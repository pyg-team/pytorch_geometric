Title: IBM Historical data not available for Agent Builder agent - United States

Text:
5724C04BR TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 No historical data seen in Tivoli Enterprise Portal for an agent created using Agent Builder 

SYMPTOM
No historical data files (HDR) are generated for an Agent Builder agent and no data is uploaded to Tivoli Data Warehouse (TDW).


CAUSE
Agent historical data not configured properly or configuration modified incorrectly.

ENVIRONMENT
IBM Tivoli Monitoring, v6.2.3 Agent Builder agent K<pc> where 'pc' is the product code.

DIAGNOSING THE PROBLEM
The review of the historical data directory lists (where 'pc' is the product code) 


 
Directory of C:\IBM\ITM\TMAITM6_x64\logs\History 

02/23/2012 10:32 AM <DIR> . 
02/23/2012 10:32 AM <DIR> .. 
02/23/2012 10:56 AM <DIR> K<pc> 
02/23/2012 10:32 AM 683 K<pc>.lnk 
1 File(s) 683 bytes 

Directory of C:\IBM\ITM\TMAITM6_x64\logs\History\K<pc> 

02/23/2012 10:56 AM <DIR> . 
02/23/2012 10:56 AM <DIR> .. 
0 File(s) 0 bytes 


So the problem here is the missing subdirectory ucsrdc1d001 under the path C:\IBM\ITM\TMAITM6_x64\logs\History\K<pc>. Also, C:\IBM\ITM\TMAITM6_x64\logs\History\K<pc>.lnk is a symbolic link pointing to another location disrupting the logic. 

This is validated in the agent log <hostname>_<pc>_k<pc>agent_<timestamp>.log which displays the following error: 
C:\IBM\ITM\TMAITM6_x641\logs\History\K<pc>\ucsrdc1d001\K<pc>ETHERER.hdr, errno = 2

Also, the registry shows
"CTIRA_HIST_DIR"="C:\\IBM\\ITM\\TMAITM6_x64\\logs\\History\\K<pc>\\ucsrdc1d001"


RESOLVING THE PROBLEM
Create a new subdirectory with the name ucsrdc1d001 under C:\IBM\ITM\TMAITM6_x64\logs\History\K<pc> , where 'pc' is the product code . This will fix the issue and historical data will be collected for the Agent Builder agent .

 



Cross reference information Segment Product Component Platform Version Edition Systems and Asset Management Tivoli Monitoring V6 Agent Builder