Title: IBM IC58635: HIGH CPU USAGE IS NOTICED WHILE AMQZMGR0 PROCESS IS MONITORING  ITS CHILD PROCESSES: COMMAND SERVER, CHANNEL INITIATOR, ETC - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ 6.0 for HP OpenVMS Alpha and Itanium - Fix Pack 6.0.1.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24022202]
WebSphere MQ 6.0 for HP OpenVMS Alpha and Itanium - Fix Pack 6.0.2.7 [http://www-01.ibm.com/support/docview.wss?uid=swg24027266]
WebSphere MQ 6.0 for HP OpenVMS Alpha and Itanium - Fix Pack 6.0.2.10 (FP03) [http://www-01.ibm.com/support/docview.wss?uid=swg24029987]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  MQ 5.3 for HP OpenVMS
   High CPU consumption is noticed while AMQZMGR0 process is
   monitoring its child processes such as command server, channel
   initiator, and listener processes.
   .
   The customer looked at the call stack, the stack shows it is
   looping as follows:
   .
    AMQZMGR0 -> MQMCS+0011CD60 -> waitpid() -> fchown()
   .
   There is no FDCs, no errors in AMQERR*.LOG, and no MQ trace
   files are generated when doing strmqtrc.
   .
   To recreate the problem, the customer executes strmqm as
   follows:
   .
      mqs_startup (Start MQ)
      crtmqm
      dspmqver
      strmqm
      ana/image  Check AMQZMGR0 ID and link date(Check build date)
      show system/proc=test* - List MQ processes
      mon proc/topc          - Show CPU 100%
      ana/sys SDA            - Show call stack information
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  On WMQ V6 on OpenVMS the process manager consumes high CPU even
   when queue manager is idle, while monitoring child processes.
   The queue manager works normally. When machine is loaded with
   tasks the CPU usage of the process manager comes down, because
   the system schedules other tasks. But anyway because of the
   high CPU intensive monitoring by the process manager some
   amount of CPU is always wasted.
   
   
    
   
   

PROBLEM CONCLUSION
 *  WMQ has been modified so that the process manager does not do
   a CPU intensive monitoring of child processes.
   The fix for this APAR will be available through WMQ6.0 FP1
   IBM WebSphere MQ for HP OPENVMS Alpha V6.0 IC58895 [http://www-01.ibm.com/support/docview.wss?uid=swg1IC58895]
   IBM WebSphere MQ for HP OPENVMS Itanium V6.0 IC58896 [http://www-01.ibm.com/support/docview.wss?uid=swg1IC58896]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC58635
   
   
 * REPORTED COMPONENT NAME
   MQSERIES OVMS I
   
   
 * REPORTED COMPONENT ID
   5724A3802
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-10-23
   
   
 * CLOSED DATE
   2008-11-27
   
   
 * LAST MODIFIED DATE
   2008-11-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   MQSERIES OVMS I
   
   
 * FIXED COMPONENT ID
   5724A3802
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSY
   UP