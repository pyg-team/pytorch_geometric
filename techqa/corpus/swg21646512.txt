Title: IBM We are not getting Fault Analyzer analysis of batch abends unless there is a SYSUDUMP DD in the job. Is this required? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 We are not getting Fault Analyzer analysis of batch abends unless there is a SYSUDUMP DD in the job. Are we required to have this dump DD in our batch jobs to get FA to analyze the abends? If so, we can add that DD statement to all nightly batch jobs to ensure that the dump will be written in case of an error, but wanted to check first. 

ANSWER
There are a few circumstances that can affect where a DUMP DD card (SYSMDUMP or SYSUDUMP) is required to ensure you get Fault Analyzer analysis of an abend.
1) If the LE CEEEXTAN exit gets control and passes control to the IDIXCEE abnormal termination exit, then your IDI0001I message will look something like this (invoked by FA's IDIXCEE LE exit point):

+IDI0001I Fault Analyzer V12R1M0 (UK93704 2013/04/23) invoked by IDIXCEE using SYS1.PARMLIB(IDICNF00)

With IDIXCEE getting control, it does not matter whether you have a system dump DD in your JCL -- LE will get control at abend time and pass control to FA. I presume you have the IDIXCEE exit installed.

2) If the MVS IEAVTABX dump exit gets control, which is did for the small COBOL test I just ran, where I used the LE option TRAP(OFF,NOSPIE) to bypass LE's abend handling, then I needed a dump DD in my job if I wanted FA to get control on my test system where the USERMOD in #3 was not set up. In this case, the IDI0001I message looked like this (invoked by FA's IDIXDCAP exit point):

+IDI0001I Fault Analyzer V12R1M0 (UK93704 2013/04/23) invoked by IDIXDCAP using SYS1.PARMLIB(IDICNF00) 

If I did not have a dump DD in this test, I received this system message:

IEA995I SYMPTOM DUMP OUTPUT 820 
SYSTEM COMPLETION CODE=0CF REASON CODE=0000000F
TIME=09.16.26 SEQ=55279 CPU=0000 ASID=01F4 

...but no IDI* messages, including the first FA message that is always issued: IDI0001I. MVS handled the abend, but no FA abend analysis was done, as there was no system dump DD.

3) You can set up the ++IDITABD usermod that FA supplies in its SIDISAM1 sample library. The purpose of this usermod is to negate the need to have a dump DD in your jobs, and still have FA get control when LE abend processing does not get control at abend time. This exit is not set up on the test system on which I conducted my tests.

All of these USERMODs are documented in Chapter 16 of the Fault Analyzer User's Guide and Reference, which can be found at the Fault Analyzer library website: http://www-01.ibm.com/software/awdtools/faultanalyzer/library/ [http://www-01.ibm.com/software/awdtools/faultanalyzer/library/] If you do not what to have the requirement of having a system dump DD in all of your jobs, but want FA analysis for all abending jobs, then I suggest you set up the IDITABD USERMOD mentioned in #3, as documented in Chapter 16 of the manual.

RELATED INFORMATION
#Fault Analyzer V13 User's Guide and Reference [http://publibfp.dhe.ibm.com/epubs/pdf/idiugm06.pdf]