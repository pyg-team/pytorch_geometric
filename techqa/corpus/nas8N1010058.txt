Title: IBM Get WRKJOB *PRINT Reports for Users - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This addresses the issue of WRKJOB *PRINT reports being generated for users but there was nothing in their jobs that explicitly requested such a report. 

RESOLVING THE PROBLEM
Question: 

What is happening is that a report that looks like WRKJOB is set to *PRINT goes to the user's printer output queues upon signoff (and sometimes before).

Answer:

The most normal cause of this is a result of the job receiving an error message for which the message description has 'Data to be dumped' set to *JOB. One such error message that is often the cause of such dumps is MCH1210 Receiver value too small to hold result. There have been certain instances in which the cause of such dumps was some particular program that was issuing the DSPJOB/WRKJOB directly. One or more server type jobs have done that and have been corrected via PTF to no longer generate such dumps.

Many times it is possible to determine the cause of such printouts by checking the associated job's joblog for error messages logged. What one needs to do is to check the time that the QPDSPJOB spool file was generated and try to find the message that was issued at that same time. The ideal situation is to determine what message was issued that caused the printout to be made and to correct the root cause of the problem. An examination of the JOB CALL STACK in the spool file will show what programs were in the call stack and thus what program issued the error message that caused the DSPJOB to be issued for the associated error message. IBM Support Line personnel can assist in the interpretation of the call stack information.

Another approach is to get a job trace of the job. The job trace should similarly show which error messages are issued and causing the QPDSPJOB printouts to be made. IBM Support Line personnel can assist in setting up job traces and interpreting them as well.

There are two ways to circumvent this problem. The first is to change the message description for the message which is causing the DSPJOB spool file to be generate. The appropriate change is to change the Data to be dumped parameter to *NONE. If you make that change and later eliminate the underlying cause of the problem, you would probably want to change the message description back to its original definition. The CHGMSGD command is used to make a change to a message description. The second circumvention is to change the QPDSPJOB print file in QSYS to specify a particular spooled output queue that is not attached to a printer rather than leaving it set to *JOB which causes the spool file to be routed to whatever output queue is specified for each particular user's job. QEZDEBUG and QPRINTS are possible output queues for this purpose.




Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 7.2 Operating System IBM i 7.1 Operating System IBM i 6.1 Operating System IBM i 7.3 
HISTORICAL NUMBER
 9381255