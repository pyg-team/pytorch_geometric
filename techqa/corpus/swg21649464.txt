Title: IBM Collecting Data: ITCAM for Transactions - Internet Service Monitoring - United States

Text:
5724S79IS; MustGatherDocument; Mustgather; IS; 71ISM-TS; SupportLandingPageChildren TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Collecting Data documents for Internet Service Monitoring (is) agent environment. 

DIAGNOSING THE PROBLEM
Collecting Data documents for ISM used to aid problem determination and reduce time resolving Problem Management Records (PMRs)

RESOLVING THE PROBLEM
 

Identifying the problem To research the problem prior to submitting a PMR start with these pre-filtered searches 

Search Hints:  * Do not use New Search, use search within the existing search, add your own search criteria, use 'back' in your browser to move around 
 * Right click on link to launch in new tab to reference back to this doc 
 * You may have to launch the Support Portal Search a second time if 0 results occur on the first attempt 
   

Fixes available in FixCentral [http://www.ibm.com/support/fixcentral/swg/quickorder?parent=Tivoli%2BComposite%2BApplication%2BManager&product=ibm/Tivoli/Tivoli+Composite+Application+Manager+for+Transactions&release=7.4.0.0&platform=All&function=all&source=fc] 
[http://www.ibm.com/support/fixcentral/swg/quickorder?parent=Tivoli%2BComposite%2BApplication%2BManager&product=ibm/Tivoli/Tivoli+Composite+Application+Manager+for+Transactions&release=7.4.0.0&platform=All&function=all&source=fc] 
DCF Solutions (Search) [https://www.ibm.com/support/search.wss?cc=us&cs=utf-8&rs=0&loc=en_US&from=tss&lang=all&ibm-search.x=0&ibm-search.y=0&ibm-search=Search&q=71ISM] 

Transactions Technote Index [http://www.ibm.com/support/docview.wss?uid=swg21396291#ISM] 

PMR Searches for IBMers (Wellspring) [http://eclient.lenexa.ibm.com:9082/search/?q=5724s79is&start=0&selfilt=&tp=&sortkey=relevance&sortdir=Descending&xqterm_mod=&num=20&details=Show+Partial] 

IBM Education Assistant [https://publib.boulder.ibm.com/infocenter/ieduasst/tivv1r0/index.jsp?topic=/com.ibm.iea.cam4trans/plugin_coverpage.html] 

Media Gallery documents [https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/Tivoli%20Composite%20Application%20Manager/page/Media%20Gallery%20for%20ITCAM%20for%20Transactions] 

Manually Gathering General Information​​  * Screen captures of the workspaces or error(s) 
 * Operating System version, architecture, and patch level 
 * Database Vendor and full version information 
   for example, run "db2level" command to gather maintenance level information for DB2 
 * ITM Version and Maintenance Level and ITCAM Version and Maintenance Level


Manually Gathering ​​ ​​ITCAM Internet Service Monitoring Agent​​ Information​​ In the details below, ISMHOME is the installation home directory for the ISM agent. 
On Linux systems the default ISMHOME location is /opt/IBM/ITM/lx8263/is. 
On Windows systems the default ISMHOME location is C:\IBM\ITM\TMAITM6\ism. 

Similarly, ITMHOME is the location of the ITM home installation. 
On Linux, it is for example /opt/IBM/ITM. 
On Windows it is C:\IBM\ITM\TMAITM6. 

Set tracing, reproduce the problem, and gather the requested information below 

 1. ITM, ISM and agent machine Version information
    
    Windows:
    %ITM_HOME%\InstallITM\kincinfo -t 
    %ISMHOME%\platform\win32\bin\kisagent -version
    
    Unix:
    %ITM_HOME%\ibm\itm\bin\cinfo -t 
    $ISMHOME/bin/kisagent -version
    
    
 2. Tivoli Common Logs
    a) Increase KISAgent ITM logging 
    
    Increase logging by editing the kisagent.props file and set the MessageLevel property to "debug", i.e.
    MessageLevel : "debug"
    Increase maximum log file size by 10 times, with un-commented line like :
    MaxLogFileSize : 10485760
    
    Windows:
    %ISMHOME%\etc\props\kisagent.props 
    
    Unix.
    $ISMHOME/etc/props/kisagent.props. 
    
    Or increase logging in Manage Tivoli Enterprise Monitoring Services (MTEMS) 
    -> right click on the Internet Service Monitoring agent
    -> Advanced
    -> View Trace Parms
    -> set Trace Filter to "ALL" then restart the agent
    
    b) Increase ISM Monitor logging 
    
    To increase ISM Monitor(s) logging (monitor=http, icmp, tcpport, dhcp….) of your active in use monitor(s)
    Edit the <monitor_name>.props file and set the MessageLevel property to "debug", with un-commented line like :
    MessageLevel : "debug"
    
    Increase maximum log file size by 10 times, with un-commented line like :
    MaxLogFileSize : 10485760
    
    Location on Windows:
    ISMHOME%\etc\props\<monitor_name>.props 
    Location on Unix:
    $ISMHOME/etc/props/<monitor_name>.props.
    
    c) Increase Bridge logging 
    
    Edit the bridge.props file and set the MessageLevel property to "debug", with un-commented :
    MessageLevel : "debug"
    
    Increase maximum log file size by 10 times, with un-commented :
    MaxLogFileSize : 10485760
    
    Location on Windows:
    ISMHOME\etc\props\bridge.props 
    Location on Unix:
    ISMHOME/etc/props/bridge.props
    
    d) Increase ISM Agent logging
    
    To increase "IS" ISM ITM agent logging 
    For Windows systems:
    
    In Manage Tivoli Enterprise Monitoring Services (MTEMS) right click on the Internet Service Monitoring agent
    -> Advanced
    -> View Trace Parms
    -> set Trace Filter to "ALL" then restart the agent
    
    For Linux/Unix systems:
    ITMHOME/config/is.ini
    
    Use vi to edit the is.ini file and change the KBB_RAS1=ERROR to KBB_RAS1=ALL
    Recycle the agent (ITMHOME/bin/itmcmd agent is stop, then : ITMHOME/bin/itmcmd agent is start)
    
    The kisagent logs (*_is_*.log) can be found by default here:
    Windows:
    %ITMHOME%\TMAITM6\logs\
    
    Unix:
    $ISMHOME/log
    
    Patch logs:
    Windows:
    %ITMHOME%\logs
    
    Unix
    $ITMHOME/logs
    
    
 3. ISM logs:
    
    Windows
    %ISMHOME%\log 
    
    Unix
    $ISMHOME/log
    
    Provide the TEMS logs located here: 
    
    Windows:
    %ITMHOME%\logs
    
    Unix:
    $ITMHOME/logs
    
    
 4. Messages and other information displayed on the screen
    Provide a full description of the problem and how to reproduce, if possible
    
    
 5. Screen captures of incorrect workspaces


Another way to get all the requested ITM logs, config, etc is to run the "ITMHOME/bin/pdcollect" tool from each component of the ITM environment (TEMS, TEPS, ISMAGENT) 
Be aware that each component may reside on different systems which means that the pdcollect tool must be executed on each system. The resulting zip files are quite big in file size. 


Delivering collected data​​ Upload files using the http://www.ecurep.ibm.com/app/upload [http://www.ecurep.ibm.com/app/upload] website along with the PMR number. 
Or upload files for review to the following FTP site: ftp.ecurep.ibm.com. Log in as anonymous and place your files in the directory that corresponds to the IBM Tivoli Monitoring component that you use. RELATED INFORMATION
 Finding Information for ISM [http://www.ibm.com/support/docview.wss?uid=swg21656197]
Collecting Data: ITCAM for Transactions [http://www.ibm.com/support/docview.wss?uid=swg21551421]