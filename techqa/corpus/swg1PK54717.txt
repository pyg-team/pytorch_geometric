Title: IBM PK54717: EJB DEPLOY FAILS WHEN RUN VIA WSADMIN DUE TO THE MISSING $USER_INSTALL_ROOT SYSTEM PROPERTY. - United States

Text:
  FIXES ARE AVAILABLE
Java SDK 1.5 SR8 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24020073]
Java SDK 1.5 SR8 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24021203]
Java SDK 1.5 SR10 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24024201]
6.1.0.31: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24026453]
6.1.0.33: Java SDK 1.5 SR12 FP1 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24027786]
6.1.0.29: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24025191]
6.1.0.35: Java SDK 1.5 SR12 FP2 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24028574]
6.1.0.37: Java SDK 1.5 SR12 FP3 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24029525]
6.1.0.39: Java SDK 1.5 SR12 FP4 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24030426]
6.1.0.41: Java SDK 1.5 SR12 FP5 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031035]
6.1.0.43: Java SDK 1.5 SR13 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031963]
6.1.0.45: Java SDK 1.5 SR14 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24033270]
6.1.0.47: WebSphere Application Server V6.1 Fix Pack 47 [http://www-01.ibm.com/support/docview.wss?uid=swg24035508]
6.1.0.47: Java SDK 1.5 SR16 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035649]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The following exception may occur while running ejbdeploy
   indirectly via a wsadmin call:
   
   ADMA5016I: Installation of TestBeanApp started.
   ADMA5058I: Application and module versions are validated with
   versions of deployment targets.
   ADMA5018I: The EJBDeploy command is running on enterprise
   archive (EAR) file /tmp/app43165.ear.
   Starting workbench.
   framework search path:
   /opt/IBM/WebSphere/AppServer/deploytool/itp/plugins
   ADMA5008E: EJBDeploy failed on
   /opt/IBM/WebSphere/AppServer/profiles
   /AppSrv01/wstemp/wstemp/app_114479cc419/dpl/dpl_TestBeanApp.ear:
    com.ibm.etools.ejbdeploy.EJBDeploymentException: Error
   executing EJBDeploy
   com.ibm.etools.ejbdeploy.EJBDeploymentException: Error
   executing EJBDeploy
           at
   com.ibm.etools.ejbdeploy.EJBDeploy.execute(EJBDeploy.java:230)
           at
   com.ibm.ejs.util.deployment.deploywrapper.DeployUtil$1.
   run(DeployUtil.java:246)
           at
   com.ibm.ws.security.util.AccessController.doPrivileged
   (AccessController.java:118)
           at com.ibm.ejs.util.deployment.deploywrapper.DeployUtil.
   deployModule(DeployUtil.java:241)
           at com.ibm.ejs.util.deployment.deploywrapper.DeployUtil.
   deploy(DeployUtil.java:88)
           at com.ibm.ws.management.application.task.DeployEJBTask.
   performTask(DeployEJBTask.java:336)
           at com.ibm.ws.management.application.SchedulerImpl.
   run(SchedulerImpl.java:262)
   at java.lang.Thread.run(Thread.java:801)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of the IBM WebSphere Application   *
   *                 Server EJBDeploy code generation tool on a   *
   *                 UNIX-based platform.                         *
   ****************************************************************
   * PROBLEM DESCRIPTION: EJBDeploy fails when invoked via a      *
   *                      wsadmin call due to the missing         *
   *                      USER_INSTALL_ROOT system property.      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The following exception may occur while running ejbdeploy
   indirectly via a wsadmin call:
   
   ADMA5016I: Installation of TestBeanApp started.
   ADMA5058I: Application and module versions are validated with
   versions of deployment targets.
   ADMA5018I: The EJBDeploy command is running on enterprise
   archive (EAR) file /tmp/app43165.ear.
   Starting workbench.
   framework search path:
   /opt/IBM/WebSphere/AppServer/deploytool/itp/plugins
   ADMA5008E: EJBDeploy failed on
   /opt/IBM/WebSphere/AppServer/profiles
   /AppSrv01/wstemp/wstemp/app_114479cc419/dpl/dpl_TestBeanApp.ear:
   com.ibm.etools.ejbdeploy.EJBDeploymentException: Error
   executing EJBDeploy
   com.ibm.etools.ejbdeploy.EJBDeploymentException: Error
   executing EJBDeploy
   at
   com.ibm.etools.ejbdeploy.EJBDeploy.execute(EJBDeploy.java:230)
   at
   com.ibm.ejs.util.deployment.deploywrapper.DeployUtil$1.
   run(DeployUtil.java:246)
   at
   com.ibm.ws.security.util.AccessController.doPrivileged
   (AccessController.java:118)
   at com.ibm.ejs.util.deployment.deploywrapper.DeployUtil.
   deployModule(DeployUtil.java:241)
   at com.ibm.ejs.util.deployment.deploywrapper.DeployUtil.
   deploy(DeployUtil.java:88)
   at com.ibm.ws.management.application.task.DeployEJBTask.
   performTask(DeployEJBTask.java:336)
   at com.ibm.ws.management.application.SchedulerImpl.
   run(SchedulerImpl.java:262)
   at java.lang.Thread.run(Thread.java:801)
   
   
    
   
   

PROBLEM CONCLUSION
 *  The EJBDeploy script and launch facility has been updated to
   handle a missing USER_INSTALL_ROOT system property, which can
   occur when invoked via wsadmin.
   
   The fix for this APAR is currently targeted for inclusion in
   the WebSphere Application Server v6.1.0.15 fixpack.  Please
   refer to the Recommended Updates page for delivery
   information:
   http://www.ibm.com/support/docview.wss?uid=swg27004980 [http://www.ibm.com/support/docview.wss?uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK54717
   
   
 * REPORTED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * REPORTED COMPONENT ID
   5724J0800
   
   
 * REPORTED RELEASE
   61I
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-10-15
   
   
 * CLOSED DATE
   2007-11-11
   
   
 * LAST MODIFIED DATE
   2007-11-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * FIXED COMPONENT ID
   5724J0800
   
   

APPLICABLE COMPONENT LEVELS
 * R61A PSY
   UP
   
   
 * R61H PSY
   UP
   
   
 * R61I PSY
   UP
   
   
 * R61P PSY
   UP
   
   
 * R61S PSY
   UP
   
   
 * R61Z PSY
   UP