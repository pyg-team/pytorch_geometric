Title: IBM RC=08 on Stage 2 due to ISCD macro - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 I am trying to create a new IMS using the previous SDFSRESL library, with IMSID and APPLID changed in DFSPBxxx member. Under stage 2, I am getting a compile error on steps 5, 6, 12, 19, 21, 22, 23, 24 then 00 in step 25 and the rest of the job is flushed. What did I do wrong? 

ANSWER
The ISCD macro, in the SDFSMAC library, contains all of the elements that the compiler is complaining about. 
SCDREGCT DC H'0000' SCHEDULED REGION COUNTS.
SCDSRDR DC A(SCDPROC1) A(START READER COMMAND) 
SCDSRMBR DC A(SCDPROC2) A(MEMBER FIELD IN START RDR)
SCDSMMBR DC A(SCDPROC3) A(MSG REG PROC MEMBER NAME) 
&LC1 SETC 'SCDPROC4' @BIH9HJC 
&LC2 SETC 'SCDPROC5' @BIH9HJC 

Check the ADFSMAC as well as the SDFSMAC. The stage 1 with RC=02 is acceptable. 

Your JCL is pointing to K9210T.IMSD.ADFSMAC (dlib), not K9210T.IMSJ.SDFSMAC(ISCD) (target). 

Comparison of the APAR levels of the ISCD macros of both libraries, confirm that both are at the same service levels, APAR level PQ65325, ID=Z. 

The ISCD macro listing and stage 2 outputs contain two errors messages:

ASMA044E Undefined symbol - SCDPROC1 
ASMA057E Undefined operation code - ISCD /WTO 

The stage 2 JCL has ADFSMAC shown in the SYSLIB concatenation twice but no SYS1.MACLIB: 

//SYSLIB DD DSN=K9210T.IMSD.OPTIONS,DISP=SHR 
// DD DSN=K9210T.IMSD.ADFSMAC,DISP=SHR
// DD DSN=K9210T.IMSD.ADFSMAC,DISP=SHR 
// DD DSN=SYS1.MODGEN,DISP=SHR 
// DD DSN=SYS1.METMAC,DISP=SHR 

Verify that the stage 1 IMSGEN macro's parameter MACSYS is specified as K9210T.IMSD.ADFSMAC instead of SYS1.MACLIB. 

The WTO macro is in SYS1.MACLIB, which caused the two error messages when SYSLIB concatenation is done without SYS1.MACLIB. 

Correct it and rerun stages 1 and 2. 

All jobs now complete with RC=00 except MFS utility with RC=04 which is acceptable. 

 

HISTORICAL NUMBER
 PMR 07418
7TD
000