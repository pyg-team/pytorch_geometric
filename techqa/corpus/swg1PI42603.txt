Title: IBM PI42603: ITCAM DC UNABLE TO DOWNLOAD THE MS KERNEL CODEBASE USING HTTP - United States

Text:
  FIXES ARE AVAILABLE
ITCAM for J2EE V7.1.1 Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24040521]
IBM Tivoli Composite Application Manager for Application Diagnostics V7.1 fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24041705]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  On some occasions after the ITCAM Data Collector is configured
   to a WAS JVM, upon restart the following error is generated in
   the WAS logs,
   
   completed successfully.
   Fri Feb 20 23:48:07 PST 2015: ## NOT Using RMISecurityManager
   Fri Feb 20 23:48:07 PST 2015: ## Using kernel.codebase for RMI
   file
   downloading
   Fri Feb 20 23:48:07 PST 2015: Check if IP address of Kernal in
   property
   file is correct OR if kernal is up & running
   Fri Feb 20 23:48:07 PST 2015: Unable to load classes from Kernel
   com.cyanea.kernel.common.KernelException:
   java.lang.ClassNotFoundException:
   com.cyanea.kernel.util.JoinManager
   Fri Feb 20 23:48:07 PST 2015: kernel props used :
   kernel.codebase=http://MS_hostname.ibm.com:9122/kernel.core.
   jar
   http://MS_hostname.ibm.com:9122/ppe.publish-intf.jar [http://MS_hostname.ibm.com:9122/ppe.publish-intf.jar]
   http://MS_hostname.ibm.com:9122/ppe.publish.jar,
   kernel.rfs.address=MS_hostname.ibm.com:9120 [http://MS_hostname.ibm.com:9122/ppe.publish.jar,kernel.rfs.address=MS_hostname.ibm.com:9120]
   Fri Feb 20 23:48:07 PST 2015: Please re-check the above
   properties and
   make sure that kernel is running and the kernel's machine can be
   reached
   by the above properties
   Fri Feb 20 23:48:07 PST 2015: ITCAM will attempt to reach kernel
   again
   in 15 seconds
   
   **Note: All communication between the MS and DC are good, re:
   ports open and so on.
   
   
    
   
   

LOCAL FIX
 *  Implement using the local MS codebase,
   
   1. On the DC, Make a backup of
   <DC_HOME>/itcamdc/lib/ext/kernel.common.jar
   
   Note: This applies to both ITCAM J2EE and ITCAM WAS
   
   Also, make sure you set the permissions on the file correctly.
   
   2. Copy the attached fix Jar file to the above location.
   
   
   3. Make a directory somewhere in the DC machine called "msjars"
   (preferably within the DC install e.g.
   <DC_HOME>/msjars).  Download the following three files
   from the Managing server machine to this new directory:
   kernel.core.jar
   ppe.publish-intf.jar
   ppe.publish.jar
   
   **Note: Make sure you set the permissions to 755 on the jars
   
   4. Edit the
   <DC_HOME>/runtime/<server>/<server>.datacollector.properties and
   add the following new property at the start of the file (above
   kernel.codebase property):
   
   kernel.file.codebase=file:///<DC_HOME>/msjars/kernel.core.jar
   file:///<DC_HOME>/msjars/ppe.publish-intf.jar
   file:///<DC_HOME>/msjars/ppe.publish.jar
   
   
   Note: Be sure to leave all the kernel.codebase http settings in
   place.
   
   kernel.codebase=http://....
   
   (this points to the Jar files downloaded locally from MS in step
   3).
   The kernel.codebase and kernel.rfs.address properties are still
   required.
   
   5. Restart the application server instance and check if it
   connects.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   
   ITCAM Data Collectors configured to connect with ITCAM Managing
   server.
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   
   Sometimes, ITCAM Data Collector does not connect with the
   Managing server.  This is caused due to failure to download the
   3 Jar files from Managing server through HTTP.  This APAR
   provides an alternate method to download the files in order to
   make the connection.
   
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI42603
   
   
 * REPORTED COMPONENT NAME
   TCAM AD WAS DC
   
   
 * REPORTED COMPONENT ID
   5724Y92DC
   
   
 * REPORTED RELEASE
   710
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-06-09
   
   
 * CLOSED DATE
   2015-11-14
   
   
 * LAST MODIFIED DATE
   2016-04-14
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R710 PSY
   UP
   
   
 * R720 PSY
   UP