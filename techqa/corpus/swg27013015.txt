Title: IBM Considerations for troubleshooting event processing related issues for WebSphere Business Monitor V6.1 , V 6.2 and V7.0 - United States

Text:
 WHITE PAPER

ABSTRACT
 This document specifies some general checkpoints for WebSphere Business Monitor V6.1 , 6.2 and V7.0 related event processing issues. 

CONTENT



Symptom 
Unable to monitor instances in the WebSphere Business Monitor dashboard views. 

Cause 
Your event process configuration might not be correct. 

Basic terminology  * Event Producer - The component in the infrastructure that produces the common base events for WebSphere Business Monitor to consume.
   
 * Event Consumer - WebSphere Business Monitor V6.1 and Up.


Assumptions  * This document assumes and applies to BPEL-based event monitoring with WebSphere Business Monitor V6.1 , V6.2 and V7.0
   
 * This document does not cover all the possible checkpoints, but serves as a guideline when you encounter the symptoms defined in this document.


Procedure 
Complete the following steps to validate and correct your event process configuration:  1. Before debugging any event related issues, verify that the event producer is setup to send events to WebSphere Business Monitor at the application level.
    
    For example: The following images illustrate how to enable events for a BPEL process as a whole and for a subcomponent of the BPEL process in WebSphere Integration Developer.
    
    [/support/docview.wss?uid=swg27013015&aid=1] [/support/docview.wss?uid=swg27013015&aid=1] 
    [/support/docview.wss?uid=swg27013015&aid=2] [/support/docview.wss?uid=swg27013015&aid=2] 
    
 2. Verify the Event Producer RunTime ( BPEL runtime in this case) is configured correctly to produce events to the CEI.  1. For a stand-alone server, select the server from the Application Servers panel, and click Business Flow Manager > Business Process Choreographer Containers. Verify that the CEI logging options are selected.
        
        [/support/docview.wss?uid=swg27013015&aid=3] [/support/docview.wss?uid=swg27013015&aid=3] 
        
     2. For a clustered environment, select the cluster from the Clusters panel, and click TestEnv.AppTarget and then click Business Process Choreographer Containers. Click cluster_name to select the cluster where Business Process Containers are installed. Verify the CEI logging options are selected.
        
        [/support/docview.wss?uid=swg27013015&aid=4] [/support/docview.wss?uid=swg27013015&aid=4] 
        
    
    
 3. Start a process instance in your BPC Explorer and verify that the events have been generated by the Business Flow Manager. Launch the Common Base Events Browser and set the Event Filter Properties to get the events between a Time Range. Then click Get Events, and you should see events that have been submitted recently.
    
    [/support/docview.wss?uid=swg27013015&aid=5] [/support/docview.wss?uid=swg27013015&aid=5] 
    
 4. Verify your CEI server is enabled for your infrastructure. To verify the CEI server is enabled, navigate to Event Service > Event Services. Verify the default CEI server is configured for the appropriate scope and that the JNDI name is configured properly for your environment.
    
    [/support/docview.wss?uid=swg27013015&aid=6] [/support/docview.wss?uid=swg27013015&aid=6] 
    
 5. Verify that an event group has been created for each of the monitor models you have deployed. From the Event Services panel, click Default Common Event Infrastructure event server, and verify the proper event groups are listed. Verify the Event Selector String is correct for each monitor model. If the event selector string is not correct, the CEI server will filter out the incoming events and those events would not be distributed to the event consumer.
    
    [/support/docview.wss?uid=swg27013015&aid=7] [/support/docview.wss?uid=swg27013015&aid=7] <br>
    
    b. If you are using a Queue ByPass Setup for Monitor 6.2 or higher , make sure the INCOMING_EVENTS table has been created on your WebSphere Business Monitor Database.
    You should be able to see the table under the schema with the same name as your deployed Monitor Model
    
    [/support/docview.wss?uid=swg27013015&aid=8] [/support/docview.wss?uid=swg27013015&aid=8]
    
    
    [/support/docview.wss?uid=swg27013015&amp;aid=9] 
 6. Verify the queues are correct for each monitor model. The common base events must arrive at the queue before the events can be consumed by WebSphere Business Monitor. To configure the queues for each monitor model, complete the following steps:  1. Stop the monitor model.
        
        
     2. If you are in a non-production environment, clear all existing events in the queue. If you are in a production environment, note the existing queue depth. The events are listed in the following location in the administrative console: Buses > bus_name > Destinations > destination_name > Queue points
        
        
     3. Start a process instance to send events for your monitor model.
        
        
     4. Verify the queue depth. The Current message depth is listed on the Runtime tab. If the queue depth increases, the events are being produced correctly and are ready to be consumed. If the queue depth does not increase, verify your service integration bus link is properly configured, and repeat the previous steps.
        
        [/support/docview.wss?uid=swg27013015&aid=10] [/support/docview.wss?uid=swg27013015&aid=10] e. For the Queue ByPass Setup the procedure remains the same , except that the database table INCOMING_EVENTS table has to be checked for any increase
        in number of records compared to the messages on the Queues for the Queue Based Setup.
        
        
        
        
        
    
    
 7. If you continue to experience problems viewing the process instances in your dashboard, open a PMR with IBM Support.



ORIGINAL PUBLICATION DATE
 2010/2/3