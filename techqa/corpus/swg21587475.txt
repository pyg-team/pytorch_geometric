Title: IBM Collecting Data: for Tivoli Business Service Manager - Issues with Agents - United States

Text:
5724C5100; Collecting Data; Collecting Data; Collecting Data; MustGather; MustGatherDocument TECHNOTE (FAQ)

QUESTION
 What information needs to be collected for IBM support to help analyze and understand your TBSM agent problem ? 

ANSWER
 

MustGather Problem Specific Information 
1) TBSM Server Environment Data Details:  * 
 * Operating System (Type and Version) information
 * 
 * 
 * 
 * TBSM version, release, maintenance and fix information


2 ) Is the Agent and ITM installed?  * 
 * 
 * UNIX : 
 * 
 * cinfo -i
 * 
 * Windows:
 * 
 * kincinfo –i 


3) Where did you install the TBSM Agent? (Data Server(s), Dashboard server(s))? 
Please list hostname and if dash, data, primary, backup, etc 

4) Is the TBSM agent running? - Please send a screen shot showing results from  * UNIX: 
 * 
 * 
 * Windows: 
 * 
 * 
 * 
 * 
 * 
 * 


5) Is historical recording and warehousing enabled?  * 
 * 
 * 
 * KR9_TBSM_STATUS_CHANGE_EVENT 
   KR9_TBSM_SERVICE_STATUS 
   KR9_TBSM_SERVICE_INDICATOR 
   
 * 
 * 
 * 
 * 
 * 
 * 
 * Status Change Event 
   Service Status 
   Service Indicator 
 * 
 * 
 * 
 * 
 * 
 * 


6) agent property file: Send a copy of TBSM_agentservice.props file  * In this file ensure 
   impact.agentservice.autostartup=true 
   and set 
   impact.agentservice.verbose=true 
   to produce helpful information in the trace.log files. 
   Any changes to this file requires a Data Server restart. 
   
   UNIX: $TBSM_HOME/etc/ TBSM_agentservice.props 
   Windows: %TBSM_HOME%\etc\ TBSM_agentservice.props 
   

7) Please maximize logging in tbsmmonitorcdp.log , to do this set:  * tbsmmonitorcdp.logger.level=DEBUG_MAX
 * 
 * 

 * Property file is
 *   * UNIX: 
    * 
    * tbsmmonitorcdp.props
    * 
    * 
    * 
    * Windows: 
    * 
    * tbsmmonitorcdp.props
   
   
 * Log file is
 *  UNIX: /opt/IBM/ITM/logs/ tbsmmonitorcdp.log 
   i.e. /opt/IBM/ITM/logs/tbsmmonitorcdp.log  * Windows
    * 
    * tbsmmonitorcdp.log
   
   


8) Set Agent log level to ALL ( KBB_RAS1=ALL)  *  To set, Edit the agent property file ​  * Stop agent 
    * Edit the line with KBB_RAS1. 
   
   
   Open the following file :  * Windows
    * 
    * KR9ENV
    * 
    * Unix
    * 
    * r9.ini 
    * 
   
   Please Edit to set the value for KBB_RAS1 as following  * KBB_RAS1 = ALL
    * ​
   
   and save it.​ 
   
 * 
 *   * Then restart the agent. 
    * Note; setting the log level to ALL will cause the r9 logs to wrap quickly. Increase the number of logs file and the size of the log files, if necessary. This can be done by editing the config/r9.ini file and changing COUNT and LIMIT settings. The default is COUNT=3, which allows 3 logs files to be preserved and LIMIT=5, which allows files to grow to 5MB. 
   
   


9) (after setting trace levels from #8 above) Send latest TBSM agent logs from the TBSM server: tar/zip up the files in :  * Windows
 * 
 * 
 * Unix
 * 


10) Send a Screen shot showing the display/output of each TBSM attribute Group from the TEP workspace :  * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 


11 ) Ensure TBSM server tracing is set (see #6 ) agent property file above), Then collect and send latest TBSM server #top [http://www-1.ibm.com/support/docview.wss?rs=767&uid=swg21509617] Log and trace Files [http://www-1.ibm.com/support/docview.wss?rs=767&uid=swg21509617] 

PRODUCT ALIAS/SYNONYM
 TBSM