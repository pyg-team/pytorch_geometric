Title: IBM Collecting Data: Step-up and Remember Me for WebSphere Portal - United States

Text:
mustgatherdocument; mustgather; mustgather; mustgather; portse; step up; step-up; rememberme; remember me; cookie; authentication; MustGatherDocument; collecting data; collecting data; collecting data RECOMMENDED RESOURCES

ABSTRACT
 This technote covers collecting data for Step-up and Remember me problems with the IBM WebSphere Portal. Gathering this information before calling IBM Support will help to understand the problem and save time analyzing the data. 

CONTENT
If you already contacted IBM Support or must collect data to determine the nature of a problem in WebSphere Portal, review the following information as well as Collecting Data: Read first for WebSphere Portal [http://www.ibm.com/support/docview.wss?uid=swg21672901]. 

Collecting Step-up and/or Remember me information 

Detailed problem description 

 * Step-by-step process to recreate the problem. 
 * Error message, if any, shown in the web browser; take screenshots if possible. 
 * Browser type and version. 
 * Special conditions, such as: only some user IDs having the problem but not others; nonstandard or custom objectclasses; attributes being configured. 
 * If you have customized authentication level, please specify.

System information 

 * Versions of WebSphere Portal and WebSphere Application Server including fix pack level and interim fixes installed. 
 * Operating System and Portal configuration (cluster or stand-alone, how many nodes if clustered). 
 * Edge components, HTTP server, Load Balancer, and so on. 
 * Network topology: host names, remote or local servers, firewall configuration. 
 * LDAP server vendor, version, user and group configuration; if available, provide the LDIF output of affected users and groups. 
 * Database server type and version. 
 * Third-party security components, like Tivoli Access Manager or other solutions integrated into the environment.


Setting tracing 

Enable traces on the Portal server via the WebSphere Application Server Integrated Solutions Control (ISC) with the following strings (no line breaks): 

 * 
 * com.ibm.wps.auth.*=all:com.ibm.wps.services.authentication.*=all:
 * com.ibm.wps.services.rememberme.*=all:com.ibm.wps.puma.*=all:
   com.ibm.wps.services.sua.impl.StepUpConfigServiceImpl=all:
   com.ibm.wps.services.puma.*=all:com.ibm.websphere.wim.*=all:
   com.ibm.wsspi.wim.*=all:com.ibm.ws.wim.*=all
   
   After setting these trace strings, stop Portal, archive and delete log files, and restart Portal. Recreate the problem and write down the user ID and timestamp when the test is done.
   

For further information regarding logging and tracing in the portal, refer to "Logging and Tracing [http://www-01.ibm.com/support/knowledgecenter/SSHRKX_8.5.0/mp/trouble/pd_intr_logs.dita]" in the WebSphere Portal Information Center. 

Collecting configuration and log files 1. Configuration and log files: 

 * 
 * 
 * wpcollector
 * or manually: 
 * <wp_profile>/ConfigEngine/log/ConfigTrace.log
   <wp_profile>/ConfigEngine/properties/wkplc.properties
   <wp_profile>/config/cells/<cellname>/security.xml
   <wp_profile>/config/cells/<cellname>/wim/config/wimconfig.xml
   <wp_profile>/config/cells/<cellname>/clusters/<clustername>/resources.xml (clustered environment) or
   <wp_profile>/config/cells/<cellname>/nodes/<nodename>/servers/WebSphere_Portal/resources.xml (standalone environment)
   <wp_profile>/logs/WebSphere_Portal/(all log files in the directory)


2. XMLaccess full export of configuration: Run the following command from directory <wp_root>/bin (all on one line):  * 
 * xmlaccess.sh/.bat -in ../doc/xml-samples/ExportRelease.xml -user <admin> -pwd <password> -url http://<host>:<port>/wps/config -out pmrXXXXX.BBB.CCC.xml


Include the pmrXXXXX.BBB.CCC.xml file in your file submission. 

3. To improve Support's analysis of the server tracing, collect and submit HTTP header logging during reproduction of the issue using a tool such as Fiddler [http://www.fiddlertool.com/fiddler/]. Support can then correlate the client requests with the server tracing to ensure proper focus. If you connect to WebSphere Portal via HTTPS, configure Fiddler to decrypt HTTPS. 

Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571]. NOTE: When sending in logs for review, include any relevant screenshots, timestamps, userIds, etc. in order to expedite analysis of the issue. 

 

Related Information 

 * IBM Support Portal: WebSphere Portal Troubleshooting [http://www.ibm.com/support/entry/portal/Troubleshooting/Software/WebSphere/WebSphere_Portal] [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571] 
 * WebSphere Portal Knowledge Center: Troubleshooting [http://www-01.ibm.com/support/knowledgecenter/SSHRKX_8.5.0/mp/trouble/troubleshooting.dita] 
 * Collecting Data: Read first for WebSphere Portal [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21672901]