Title: IBM Recovering from a failed LDAP configuration in Tivoli Integrated Portal - United States

Text:
TIPL2; TIPL2LDAP; Tivoli Integrated Portal; tipadmin; locked out; login failure; LDAP; Federated Repository TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After adding an LDAP repository to the Federated Repository, no users are able to log in, including the primary administrative user (usually "tipadmin"). This note provides instructions to recover from the failed LDAP configuration. 

SYMPTOM
No users are able to log in. 


CAUSE
TIP/WAS is unable to connect to the newly added LDAP repository. The default security configuration for TIP/WAS prevents users from any repository in the Federated Repository from logging in, when one of the repositories is not reachable.

RESOLVING THE PROBLEM
Rather than disable security, access for the primary administrative user can be restored by removing the newly added LDAP from the list of "participatingBaseEntries" in the wimconfig.xml. 


Procedure:


 1. Make a backup of the wimconfig.xml file located at:
    
    <TIP HOME>/profiles/TIPProfile/config/cells/TIPCell/wim/config/
    
    For example, make a copy called wimconfig.xml.bak
    
 2. Edit the file by removing the "participatingBaseEntries" line for the newly added LDAP. For example, assuming the newly added LDAP was given the name "MSAD_LDAP1", the second line below would be removed:
    
    <config:participatingBaseEntries name="o=defaultWIMFileBasedRealm"/>
    <config:participatingBaseEntries name="MSAD_LDAP1"/>
    
 3. Save the file, and then restart TIP.


Result:
The primary admin user login should work again when logging in. Make any necessary corrections to the LDAP configuration and then re-add it to the Federated Repository if desired.

RELATED INFORMATION
 Configuring TIP to allow local user logins when LDAP is [http://www-01.ibm.com/support/docview.wss?uid=swg21572885]
Disable security for Tivoli Integrated Portal [https://www-304.ibm.com/support/docview.wss?uid=swg21499504]