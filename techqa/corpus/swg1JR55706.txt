Title: IBM JR55706: RUNNING THE DBUPGRADE COMMAND FAILS WHEN THERE ARE ORPHAN RECORDS IN THE LSW_MIGRATION_POLICY - United States

Text:
  DIRECT LINKS TO FIXES
bpm.8570.cf2016.06.delta.repository.2of2 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=bpm.8570.cf2016.06.delta.repository.2of2&source=SAR]
bpm.8570.cf2016.06.delta.repository.1of2 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=bpm.8570.cf2016.06.delta.repository.1of2&source=SAR]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  When you run the DBUpgrade command, you see the following
   constraint violation exception in the DBUpgrade command log
   file:
   
   <date and time> FINE:
   com.lombardisoftware.tools.SQLFileExec.handleError - DB2 SQL
   Error: SQLCODE=-667, SQLSTATE=23520, SQLERRMC=LSWC_MP_SS_FK,
   DRIVER=4.18.60
   com.ibm.db2.jcc.am.SqlIntegrityConstraintViolationException: DB2
   SQL Error: SQLCODE=-667, SQLSTATE=23520, SQLERRMC=LSWC_MP_SS_FK,
   DRIVER=4.18.60
    at com.ibm.db2.jcc.am.kd.a(kd.java:743)
    at com.ibm.db2.jcc.am.kd.a(kd.java:66)
    at com.ibm.db2.jcc.am.kd.a(kd.java:135)
    at com.ibm.db2.jcc.am.bp.c(bp.java:2788)
    at com.ibm.db2.jcc.am.bp.d(bp.java:2776)
    at com.ibm.db2.jcc.am.bp.b(bp.java:2143)
    at com.ibm.db2.jcc.t4.bb.i(bb.java:226)
    at com.ibm.db2.jcc.t4.bb.c(bb.java:48)
    at com.ibm.db2.jcc.t4.p.b(p.java:38)
    at com.ibm.db2.jcc.t4.vb.h(vb.java:124)
    at com.ibm.db2.jcc.am.bp.jb(bp.java:2138)
    at com.ibm.db2.jcc.am.bp.a(bp.java:3313)
    at com.ibm.db2.jcc.am.bp.e(bp.java:1108)
    at com.ibm.db2.jcc.am.bp.execute(bp.java:1087)
    at
   com.lombardisoftware.tools.SQLFileExec.doSQL(SQLFileExec.java:13
   0)
    at
   com.lombardisoftware.tools.dbupgrade.utils.dbtoleration.SQLFileE
   xec4Toleration.doSQL(SQLFileExec4Toleration.java:113)
    at
   com.lombardisoftware.tools.SQLFileExec.start(SQLFileExec.java:83
   )
    at
   com.lombardisoftware.tools.dbupgrade.SchemaUpgradeStep.execute(S
   chemaUpgradeStep.java:70)
    at
   com.lombardisoftware.tools.dbupgrade.version.upgrade.DatabaseVer
   sionUpgradeStep.execute(DatabaseVersionUpgradeStep.java:57)
    at
   com.lombardisoftware.tools.dbupgrade.UpgradeDatabase.upgradeStan
   dardDatabase(UpgradeDatabase.java:143)
    at
   com.lombardisoftware.tools.dbupgrade.UpgradeDatabase.main(Upgrad
   eDatabase.java:121)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  A fix that ensures the DBUpgrade command runs successfully will
   be included in IBM Business Process Manager (BPM) V8.5.7.0
   cumulative fix 1 (CF01).
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR55706
   
   
 * REPORTED COMPONENT NAME
   BPM ADVANCED
   
   
 * REPORTED COMPONENT ID
   5725C9400
   
   
 * REPORTED RELEASE
   857
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-04-06
   
   
 * CLOSED DATE
   2016-08-25
   
   
 * LAST MODIFIED DATE
   2016-08-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R857 PSY
   UP