Title: IBM ITCAM SOA D4 agent won't to start - United States

Text:
CAMD4ALL TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 ITCAM SOA D4 agent fails to start with error: Symbol resolution failed for /opt/IBM/ITM/tmaitm6/aix523/lib/libkra.a 

SYMPTOM
0509-036 Cannot load program /opt/IBM/ITM/aix523/d4/bin/kd4agent because of the following errors:
0509-130 Symbol resolution failed for /opt/IBM/ITM/tmaitm6/aix523/lib/libkra.a because:
0509-136 Symbol BSS1_ListSharedLibs (number 59) is not exported from
dependent module /opt/IBM/ITM/aix523/d4/KD4/lib/libkbb.a.
0509-026 System error: Error 0
0509-192 Examine .loader section symbols with the
'dump -Tv' command.


CAUSE
A copy of libkbb.a is provided with each agent, but the copy in the 
common lib should be the one that is used. Clearly, this copy is 
backlevel and does not have the BSS1_ListSharedLibs exported function. 

ENVIRONMENT
Any

DIAGNOSING THE PROBLEM
First, let's establish which copy of the libkbb.a is being used by the 
KD4 agent. You can find this out using the following commands. Run this 
from the <ITM-HOME> directory (e.g. /opt/IBM/ITM) 

bin/itmcmd execute d4 "/usr/bin/ldd \$CTIRA_SIT_PATH/kd4agent" 

The output should look something similar to below 

libkra.a => /opt/IBM/ITM/tmaitm6/aix523/lib/libkra.solibkra.a => 
/opt/IBM/ITM/tmaitm6/aix523/lib/libkra.a (0x00315000) 
libkdsfilt.a => 
/opt/IBM/ITM/tmaitm6/aix523/lib/libkdsfilt.so (0x00eb3000) 
libkglbase.a => /opt/IBM/ITM/tmaitm6/aix523/lib/libkglbase.a 
(0x00110000) 
libkdc.a => /opt/IBM/ITM/tmaitm6/aix523/lib/libkdc.a 
(0x008aa000) 
libkbb.a => /opt/IBM/ITM/tmaitm6/aix523/lib/libkbb.a 
(0x00200000) 
libknsnls2.a => /opt/IBM/ITM/tmaitm6/aix523/lib/libknsnls2.a 
(0x0025d000) 
d4/KD4/lib/libkbb 
Make a note of where libkbb.a is loaded from, 

Now find any other copies of libkbb.a for this architecture (aix523) 

find . -name libkbb.a 

Find one that exports the BSS1_ListSharedLib functions: 

e.g. 
dump -Tv /opt/IBM/ITM3/tmaitm6/aix523/lib/libkbb.a | grep BSS1_L 

RESOLVING THE PROBLEM
If so, then make a backup of the original file first then copy it to the common location e.g 
/opt/IBM/ITM3/tmaitm6/aix523/lib