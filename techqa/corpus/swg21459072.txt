Title: IBM How do I run Fixup on an active Domino server? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
How can Fixup be run on a database when Domino is running?

ANSWER
Fixup requires an exclusive lock on the database. 

If the database has been touched by any user or process since the server started, it is open in the database cache and as such cannot be locked by Fixup. In this scenario, Fixup will report no errors and may appear to run successfully even though it has not performed any corrective actions. When Fixup is unable to lock a database, you will see the following on the console: 

 * 
 * Database Fixup: Started: names.nsf 
 * 
 * Database Fixup: Shutdown


When Fixup is actually processing a database, you will see the following: 
 * Performing consistency check


Do the following to ensure the database is available for a lock: 
 1. Have any user with access to the database close Notes. This will prevent the client from attempting to reopen the database. 
 2. Issue the console command "drop database <database>". 
 3. Issue console command "dbcache flush". This will clear the database cache. Note that this command does not return a response to the console. 
 4. Issue the Fixup command. 
 5. Confirm the command reports "Performing consistency check" for the database in question. 
 6. If Fixup reports any view errors run Updall -R. Note that this may take a significant amount of time on databases with many documents and complex views.