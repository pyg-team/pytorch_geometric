Title: IBM LI78243: USER UNABLE TO LOG INTO CMC OR APIMANAGER AFTER A SYSTEM UPGRADE - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  After a management server restart (specifically server upgrade),
   when attempting to log into the Cloud Management Console (CMC)
   or APIManager user interface, users will continuously receive a
   pop up with an error message stating:
   "Your session has timed out due to a period of inactivity.
   You'll be redirected to the login page. Please log in again to
   continue."
   
   
    
   
   

LOCAL FIX
 *  Contact IBM Support to help fix the invalid Organization value
   inside the database
   
   
    
   
   

PROBLEM SUMMARY
 *  After a management server restart (specifically server upgrade),
   when attempting to log into the Cloud Management Console (CMC)
   or APIManager user interface, users will continuously receive a
   pop up with an error message stating:
   "Your session has timed out due to a period of inactivity.
   You'll be redirected to the login page. Please log in again to
   continue."
   
   In the CMC log file a user would see the following exception:
   org.osgi.framework.BundleException: Exception in
   com.ibm.apimgmt.api.osgi.ApiBundleActivator.start() of bundle
   api.war.
    at
   org.eclipse.osgi.framework.internal.core.BundleContextImpl.start
   Activator(BundleContextImpl.java:1028)
    at
   org.eclipse.osgi.framework.internal.core.BundleContextImpl.start
   (BundleContextImpl.java:984)
    at
   org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(
   BundleHost.java:346)
    at
   org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(A
   bstractBundle.java:355)
    at
   org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(
   Framework.java:1074)
    at
   org.eclipse.osgi.framework.internal.core.StartLevelManager.resum
   eBundles(StartLevelManager.java:616)
    at
   org.eclipse.osgi.framework.internal.core.StartLevelManager.incFW
   SL(StartLevelManager.java:508)
    at
   org.eclipse.osgi.framework.internal.core.StartLevelManager.doSet
   StartLevel(StartLevelManager.java:299)
    at
   org.eclipse.osgi.framework.internal.core.StartLevelManager.dispa
   tchEvent(StartLevelManager.java:489)
    at
   org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(E
   ventManager.java:211)
    at
   org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run
   (EventManager.java:321)
   Caused by: com.ibm.apimgmt.exception.APIGenericException
    at
   com.ibm.apimgmt.config.impl.EnvironmentRepositoryConfigDataServi
   ce.updateEnviroment(EnvironmentRepositoryConfigDataService.java:
   374)
    at
   com.ibm.apimgmt.config.impl.EnvironmentRepositoryConfigDataServi
   ce.initAndFixEnvironments(EnvironmentRepositoryConfigDataService
   .java:116)
    at
   com.ibm.apimgmt.api.osgi.ApiBundleActivator.start(ApiBundleActiv
   ator.java:134)
   
   In this particular case, one of the components failed to start
   due to an issue where the environment had an invalid OrgId value
   in an internal document.
   We are unsure of what caused this scenario, however, we have
   improved the error handling in this area to log a warning and
   continue with the start-up of the system, rather than throwing
   this exception and failing to start.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix is targeted for inclusion in IBM API Management V3.0.3.0
   
   IBM API Management Announcements can be found on the Support
   Portal at
   http://www-947.ibm.com/support/entry/portal/overview/software/we [http://www-947.ibm.com/support/entry/portal/overview/software/we]
   bsphere/ibm_api_management
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   LI78243
   
   
 * REPORTED COMPONENT NAME
   IBM API MANAGEM
   
   
 * REPORTED COMPONENT ID
   5725L3000
   
   
 * REPORTED RELEASE
   301
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-10-22
   
   
 * CLOSED DATE
   2014-11-10
   
   
 * LAST MODIFIED DATE
   2014-11-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   IBM API MANAGEM
   
   
 * FIXED COMPONENT ID
   5725L3000
   
   

APPLICABLE COMPONENT LEVELS
 * R301 PSY
   UP