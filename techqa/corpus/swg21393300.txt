Title: IBM FileNet System Manager Dashboard: Configuring Dashboard to connect to listeners through a firewall - United States

Text:
blocked ports; failed connection; network ports TECHNOTE (FAQ)

QUESTION
 FileNet System Manager Dashboard: Configuring Dashboard to connect to listeners through a firewall. What other ports need to be opened on the firewall? 

CAUSE
The FileNet System Manager Dashboard documentation recommends that port 32775 should be opened on a firewall to allow the Dashboard to connect to listeners, however, even with this port open it reports errors about other ports not being accessible by Dashboard.

ANSWER
Often, there will be multiple listeners running on a box, especially if there are multiple servers collocated (e.g. CE and AE). 

The first listener that starts, referred to as the primary listener, will bind to, and listen on, port 32775 by default. When other listeners start they will detect that port 32775 is not available and ask the operating system (OS) for any available port. The listeners will then bind to that port and notify the primary listener about what port they can be found at. 

When the Dashboard connects to the primary listener on port 32775, that listener will inform the Dashboard about the other listeners running on that box, and the Dashboard will then attempt to connect to those as well. 

However, if you have only opened up port 32775 on the firewall, then access to the other listeners will fail. So, it is necessary to open up additional ports on the firewall to allow access to the other listeners. But, by default the secondary listeners will bind to different ports each time they start. 

You can force the secondary listeners to bind to a specific port by setting a property in the PchConfig.properties files. With this property set, any secondary listeners will first attempt to bind to the secondary port, and if taken, will increment by one until an available port is found. 

To ensure that you have a consistent and contiguous set of ports, perform the following procedure: 

 1. Create a file named PchConfig.properties and add the following line to the file: secondary_port=32776 (or use any free port available on your system) 
 2. Place the properties file in the JRE directory of the Java instance that is used to run the Application Server that hosts AE or CE. For instance, if using Websphere, the properties file would be placed in the \Program Files\IBM\Websphere\AppServer\Java\JRE directory. 
 3. Restart the Application Server 
 4. Configure the firewall to allow a range of ports from 32775-3277X (this value depends on how many listeners you have running, but typically a value of 32779 is sufficient).


This should allow the Dashboard to connect to all of the listeners through the firewall.