Title: IBM IC99035: DATABASE OBJECT NAMES CONTAINING "@" CAUSE SQL EXCEPTION - United States

Text:
  A FIX IS AVAILABLE
IBM Integration Bus V9.0 - Fix Pack 9.0.0.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24037877]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Use of Database column or table names containing the at symbol,
   "@", within a Graphical Data Map database transform can cause
   the Mapping node to fail the database operation with an SQL
   exception. In particular when the Database Server is Mircosoft
   SQLServer
   the database operation fails with an exception of the form:
   
    com.microsoft.sqlserver.jdbc.SQLServerException:
    Incorrect syntax near ''
   
   Note: This APAR pre-reqs IC98514 [http://www-01.ibm.com/support/docview.wss?uid=swg1IC98514] when using a Select Transforms
   in the Map.
   Additionally when using certain Database object names, for
   example
   mixed case with database servers such as DB2 the database
   operation may fail with an unknown object name SQL exception.
   
   
    
   
   

LOCAL FIX
 *  There is no local workaround, the APAR fix must be applied.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   All users of WebSphere Message Broker and IBM Integration Bus
   who use the Mapping node with Database transforms.
   
   
   Platforms affected:
   MultiPlatform, z/OS
   
   ****************************************************************
   PROBLEM SUMMARY:
   Use of Database column or table names containing the at
   symbol, "@", or mixed case characters, within a Graphical Data
   Map database transform can cause the Mapping node to fail the
   database operation with an SQL exception.
   
   In particular when the Database Server is Mircosoft SQLServer
   the database operation fails with an exception of the form:
   
    com.microsoft.sqlserver.jdbc.SQLServerException:
    Incorrect syntax near ''
   
   When using certain Database object names, for example containing
   mixed case with database servers such as DB2 the database
   operation fails with SQL exception reporting an unknown object
   name.
   
   Note: This APAR pre-reqs IC98514 [http://www-01.ibm.com/support/docview.wss?uid=swg1IC98514] when using a Select
   Transforms in the Map.
   
   There are a number of resource name changes between WebSphere
   Message Broker and IBM Integration Bus Version 9.0. For
   details visit
   http://pic.dhe.ibm.com/infocenter/wmbhelp/v9r0m0/topic/com.ibm.e
   tools.mft.doc/bb23814_.htm [http://pic.dhe.ibm.com/infocenter/wmbhelp/v9r0m0/topic/com.ibm.etools.mft.doc/bb23814_.htm]
   
   
    
   
   

PROBLEM CONCLUSION
 *  The product now correctly quotes Database object names
   containing the "@" at symbol when the target database for a
   Mapping node is Microsoft SQLServer.
   
   The product now supports the environment variable
   MQSI_MAP_DB_QUOTE_DBNAMES, which can be set to cause the Mapping
   node to quote all database object names in the SQL statements
   generated for Mapping nodes targeting any database server.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v8.0       8.0.0.5
   v9.0       9.0.0.2
   
   The latest available maintenance can be obtained from:
   http://www-01.ibm.com/support/docview.wss?rs=849&uid=swg27006041 [http://www-01.ibm.com/support/docview.wss?rs=849&uid=swg27006041]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found on:
   http://www-1.ibm.com/support/docview.wss?rs=849&uid=swg27006308 [http://www-1.ibm.com/support/docview.wss?rs=849&uid=swg27006308]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC99035
   
   
 * REPORTED COMPONENT NAME
   WEB MESSAGE BRO
   
   
 * REPORTED COMPONENT ID
   5724J0520
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-01-28
   
   
 * CLOSED DATE
   2014-02-25
   
   
 * LAST MODIFIED DATE
   2014-02-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEB MESSAGE BRO
   
   
 * FIXED COMPONENT ID
   5724J0520
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP