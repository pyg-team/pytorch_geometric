Title: IBM Procedure to take a user or service trace of message flows at an execution group level (on z/OS) - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Use this procedure to capture a user or service level trace of a IBM Integration Bus (IIB) or WebSphere Message Broker (WMB) message flow at an integration server or execution group level. 

Gathering this information before calling IBM Support will help familiarize you with the troubleshooting process and save you time. 

ENVIRONMENT
These instructions are intended for use on the z/OS platform, only.

RESOLVING THE PROBLEM
 

[/support/docview.wss?uid=swg21663024&amp;aid=1] Service Level Trace : Service trace provides more detailed information than that provided by the entries that are written to the Syslogs, Event Logs, Trace Node Outputs, or User Trace. Typically, IBM support uses service trace for debugging problems as it can trace internal calls in addition to the brokers, execution groups or integration servers, and deployed message flows.

[/support/docview.wss?uid=swg21663024&amp;aid=2] User Level Trace : User trace provides more information than that provided by the entries that are written to the logs. Typically, you use user trace for debugging your applications, as it can trace brokers, execution groups or integration servers, and deployed message flows.








 

Service Level Trace



1. Start trace. 

F <brokername>,ct t=yes, e='<egroup>', l='debug', r=yes, c=500000 

2. Put a message on the queue to cause the failure to occur. 

3. Stop trace. 

F <brokername>,ct t=yes, e='<egroup>', l='none' 

4. Retrieve the trace log for the specified component by editing and submitting the BIPRELG job. 

-t -e <EG label> -f -o <output_directory>/serviceflowtrace.xml 

5. Format the XML trace file by editing and submitting the BIPFMLG job: 

-i <output_directory>/serviceflowtrace.xml 
-o <output_directory>/serviceflowtrace.txt 

6. Verify that the trace captures the timeframe of the error, or any expected error codes. 





Back to top



User Level Trace



1. Start trace. 

F <brokername>,ct u=yes, e='<egroup>', l='debug', r=yes, c=500000 

2. Put a message on the input node queue to cause the failure to occur. 

3. Stop trace. 

F <brokername>,ct u=yes, e='<egroup>', l='none' 

4. Retrieve the trace log for the specified component by editing and submitting the BIPRELG job. 

-u -e <EG label> -f -o <output_directory>/userflowtrace.xml 

5. Format the XML trace file by editing and submitting the BIPFMLG job: 

-i <output_directory>/userflowtrace.xml 
-o <output_directory>/userflowtrace.txt 

6. Verify that the trace captures the timeframe of the error, or any expected error codes. 





Back to top




PRODUCT ALIAS/SYNONYM
 WMB IIB