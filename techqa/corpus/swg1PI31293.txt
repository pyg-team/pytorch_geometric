Title: IBM PI31293: EMBEDDED REPORTS ON HOMEPAGE DO NOT DISPLAY DATA BASED ON REPORTING PERIOD - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When a Cognos Report containing parameterized filter for
   Reporting Period is included as an embedded report in the
   HomePage of the OpenPages application, the report always
   displays data from Current Reporting Period even though a past
   Reporting Period is selected in the Reporting Period drop-down
   located at the top right corner of the OpenPages Home Page.
   But the same Cognos Report when run from the Reporting menu in
   the application, the reports displays data based on the
   Reporting Period selected in the Reporting Period drop-down.
   It appears like the Reporting Period id is not passed to the
   Cognos Report when it is embedded in the HomePage but the
   system passes the id dynamically when the report is run from
   Reporting menu.
   Note that system does not throw a prompt to select Reporting
   Period when running the Report either from Reporting Menu or
   with the embedded report in home page.
   Workaround:
   None
   Prerequisites:
   In the below testcase, SOXProcess Object has been used as an
   example to reproduce the issue.
   1) OP 7.0.0.2 environment with pre-loaded data.
   2) Create a Report in Cognos to include few fields of an
   Object.
   a. Open Internet Explorer
   b. Log into OpenPages application as an administrator
   c. Go to Reporting -> Cognos Report Studio
   d. Create a new  List  report
   e. Drag few fields from SOXProcess object onto the report:
   f. In the Query Explorer, drag PR_REPORTING_PERIOD_ID onto
   Detail Filters window pane.
   g. Define the equation for Reporting Period id as follows
   [DEFAULT_REL].[SOXPROCESS].[PR_REPORTING_PERIOD_ID]=?ReportingPe
   riodId?
    h. You may want to add more filters to reduce the number of
   rows displayed on home page when this report is embedded.
    i. Save the report.
    j. Run the report to make sure that Report returns list of
   SOXProcess Objects available in the system.
   3) Publish the Cognos Report in OpenPages
   a. Open Internet Explorer
   b. Log into OpenPages application as an Administrator
   c. Go to Reporting -> All Reports
   d. Click on Add button
   e. From the Report drop-down list, select the Cognos report
   created in Step 2 above.
   f. Ensure that U.S.English locale is selected.
   g. Enter a Name and Description for the Report
   h. Select the Publishing Folder to publish the Report.
   i. Repeat steps f-h if you want to publish the Report in other
   locales.
   j. Click on Save button to publish the Report.
   k. Go to Reporting menu and ensure that the Cognos report is
   visible. You may have to login/logout or reload home page to
   see the published report.
   4) Add the published Cognos Report as an Embedded report to
   HomePage of a Profile
    a. Determine the profile the administrator is using
     i.  Open Internet Explorer and login to application as
   an Administrator
   ii. Click on Administrator id on top of the page and select My
   Settings
     ii. Make note of the profile
     iii. If needed change the locale of the Administrator
   to U.S.English if the report is published in only U.S.English
   as part of Step 3) above.
    b. Navigate to Administration -> Profiles
    c. Click on the Profile noted from Step a-ii above.
    d. Click on My Work Tab Configuration.
    e. Click on Configure Reports button.
    f. Select Embedded reports button and click Next.
    g. Click on Associate button and select the report name
   that was published in 3g.
   h. Click on Associate button and then click Finish.
   i. Check the HomePage to ensure that you see the Embedded
   Cognos Report. You may have to login/logout or reload home page
   to see the Embedded report.
   5) Create a Finalized Reporting Period
   a. Login to the OpenPages application as the Administrator.
   b. Go to the menu   Administration -> Reporting Periods.
   c. Click the Add Finalized button at the top of the page.
   d. Enter the Label name and Description for the new reporting
   period and click Create.
   e. Go back to home page and check the Reporting Period down to
   see that the new Reporting Period is listed.
   Steps to Reproduce:
   1) Login to OpenPages as the Administrator whose Profile is
   configured (see Pre-requisite section, Step 4) to view the
   embedded reports.
   2) Ensure that the Current Reporting Period is selected in the
   Reporting Period down to make sure that system displays data
   from Current Reporting Period.
   3) Pick up a SOXProcess Object listed in the Embedded report
   added on homepage(see Pre-requisite section, Step 4)
   4) Navigate to menu Events -> SOXProcess
   5) Select the SOXProcess instance  noted in Step 3 to view
   it's  Detail Page.
   6) Change the values of the fields added in the embedded
   report and save the changes.
   7) Go back to home page and confirm that the embedded Cognos
   Report shows the updated description for the SOXProcess object
   modified in Step 6.
   8) Now change Reporting Period to the past Reporting Period
   that you created (see Pre-requisite section, Step 5).
   9) Once the Homepage re-loads, the embedded Cognos Report
   still shows the updated description for the SOXProcess Object
   modified in Step 6 instead of showing the original description
   from the past Reporting Period.
   Expected Results:
   Embedded Report on Home Page should display data according to
   Past Reporting Period.
   Actual Results:
   Embedded Report on Home Page always displays data from Current
   Reporting Period even if Past Reporting Period is selected.
   Error Message:
   No error messages.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ***************************************************************
   * USERS AFFECTED: OpenPages Users
   ***************************************************************
   * PROBLEM DESCRIPTION: Embedded reports on homepage do not
   * display data based on reporting period
   ***************************************************************
   * RECOMMENDATION: Customers should download OpenPages 7.2 from
   * Passport Advantage. See the the following document for
   * details on obtaining OpenPages 7.2:
   * http://www.ibm.com/support/docview.wss?uid=swg24040583 [http://www.ibm.com/support/docview.wss?uid=swg24040583]
   *************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Code change
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI31293
   
   
 * REPORTED COMPONENT NAME
   OPENPAGES GRC
   
   
 * REPORTED COMPONENT ID
   5725D5100
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2014-12-10
   
   
 * CLOSED DATE
   2016-01-29
   
   
 * LAST MODIFIED DATE
   2016-01-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OPENPAGES GRC
   
   
 * FIXED COMPONENT ID
   5725D5100
   
   

APPLICABLE COMPONENT LEVELS
 * R720 PSY
   UP