Title: IBM Collecting Data: Upgrade problems for WebSphere Portal 7.0 on Multiplatforms - United States

Text:
Collecting Data; Collecting Data; Collecting Data; MustGather; MustGather; MustGather; MustGatherDocument; PORTIN; Upgrade RECOMMENDED RESOURCES

ABSTRACT
 Collecting troubleshooting data for upgrade problems with IBM WebSphere Portal 7.0 expedites time to resolution by enabling IBM Support to provide informed problem analysis. 

CONTENT
If you have already contacted IBM Support and must collect data to determine the nature of a problem in WebSphere Portal, review the information below for the available methods of data collection. Otherwise, review Collecting Data: Read first for WebSphere Portal 7.0. [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21444911] 

Collecting Upgrade problem specific information
Upgrade problems include any instance where you experience a failure installing an interim fix, cumulative fix, or fix pack using the Portal Update Installer.

In addition to the data below, please also include: 

 * Screenshots if using the Portal Update Installer wizard 
 * Console output if using the Portal Update Installer command-based tool, including the full command used. 


Questions 1. Which interim fix, cumulative fix, or fixpack are you attempting to install?
2. Which Portal Update Installer are you using? The universal installer or a platform-specific installer? 
3. Linux/UNIX only: Are you installing the fix, cumulative fix, or fixpack using a root user or non-root user?
4. Linux/UNIX only: Which user owns the WebSphere file structure? Root or non-root? 



Automated collection of troubleshooting data Automated log collection is available for this MustGather information and is the recommended method for improving accuracy of the data collection.

IBM Support Assistant Lite (ISA Lite) for WebSphere Portal
Download Tool [http://www.ibm.com/support/docview.wss?rs=688&ca=portall2&uid=swg24008662] | View Demo of Trace Collection [http://www.lotus.com/ldd/portalwiki.nsf/dx/isalite-fundamentals-version-1.3.3-for-ibm-websphere-portal]

After downloading IBM Support Assistant Lite, perform the following steps to collect the data and send to IBM Support: 

1. Extract the contents of the downloaded file to the <wp_profile_root>\PortalServer directory, which will create the subdirectory "ISALite" (e.g. c:\WebSphere\wp_profile\PortalServer\ISALite). 

2. Run the runISALite.bat file (Windows) or runISALite.sh (UNIX or Linux) from the ISALite directory (e.g. c:\WebSphere\wp_profile\PortalServer\ISALite\runISALite.bat). 

3. Once the tools starts, select the following Problem Type: WebSphere Portal->Installation and Configuration ->Portal Basic File Collection

Note: This Problem Type is dependent on the location you extracted ISALite. Ensure you extracted ISALite to the <wp_profile root>/PortalServer directory as specified in Step 1. 

4. Provide the output path and a file name of "<PMR #>.isalite.zip" (e.g. 22222,111,000.isalite.zip). 

5. Click Collect Data and follow the series of dialog boxes to set the tracing and reproduce the issue. If you choose not to FTP the files to IBM via ISA Lite, then follow the instructions in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571]. 



Manual collection of troubleshooting data If you are unable to use IBM Support Assistant Lite (ISA Lite) for WebSphere Portal for automatic log collection, use the following instructions for manually collecting the necessary information. 


I. Collecting and submitting logs and configuration data using WPCollector 

1. Run the following script from <wp_profile>/PortalServer/bin to collect the data: 

 * Windows: wpcollector.bat 
 * Linux/Unix/i: wpcollector.sh


Note: If you wish to use wpcollector to FTP the files to IBM Support, include the -Dpmr=<pmr_number> parameter to indicate the relevant PMR #. For example: wpcollector.bat -Dpmr=11111,222,333 

2. If you did not FTP your files via wpcollector, locate the "wp.mustgather.zip" file or the "<pmr #>-wp.mustgather-timestamp.zip" file in <wp_profile_root> [https://idoc2.swg.usma.ibm.com/portal/topic/com.ibm.wp.ent.doc_v70/reference/wpsdirstr.html#wpsdirstr__wp_profile_root]/filesForAutoPD/. Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571]. Note: When sending in logs for review, include any relevant screenshots, timestamps, userIds, etc. in order to expedite analysis of the issue. 

 

II. Collecting and submitting logs and configuration data manually 

Note: Only collect data manually if the wpcollector tool fails. Collecting data manually could add delays to problem resolution. 

1. Collect the following log files and directories: 

 * <PortalServer root>/version/log 
 * <wp_profile root>/ConfigEngine/log/ConfigTrace.log 
 * <wp_profile root>/logs/WebSphere_Portal 
 * <wp_profile root>/logs/ffdc 
 * Cluster only: <wp_profile root>/logs/nodeagent 
 * Cluster only: <dmgr_profile root>/logs/dmgr 
 * Cluster only: <dmgr_profile root>/logs/ffdc
   


2. Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571].  

Related Information  * IBM Support Portal: WebSphere Portal Troubleshooting [http://www.ibm.com/support/entry/portal/Troubleshooting/Software/WebSphere/WebSphere_Portal] [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571] 
 * WebSphere Portal Family wiki: Troubleshooting [http://www-10.lotus.com/ldd/portalwiki.nsf/dx/Troubleshooting_wp7] 
 * Collecting Data: Read first for WebSphere Portal 7.0 [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21444911]



 * 
 *