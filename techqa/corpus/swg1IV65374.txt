Title: IBM IV65374: SELF-DESCRIBING AGENT (SDA) SUPPORT INSTALLATION MAY HANG - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Monitoring 6.3.0 Fix Pack 5 (6.3.0-TIV-ITM-FP0005) [http://www-01.ibm.com/support/docview.wss?uid=swg24039236]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The installsdsupport.sh script has been seen to hang in certain
   conditions on AIX.  When the SD support installation hang
   happens, output from the "ps -ef |  egrep -e 'truss|date|awk'"
   command, will be similar to the following:
   
   root 89646 98334   0 08:33:24  pts/3  0:00 egrep -e
   truss|date|awk
   root 92536 77596   0 08:32:35  pts/5  0:00 awk /^time/ {print
   $NF}
   root 75842     1   0 08:32:35  pts/5  0:00 truss date
   
   RECREATE INSTRUCTIONS:
   This problem, if it occurs, happens during of SD support
   installation on AIX systems.  This problem is re-creatable is
   some environments and not re-creatable in others.
   
   
    
   
   

LOCAL FIX
 *  1) Comment the following line in
   $CANDLEHOME/bin/installsdsupport.sh:
   whence -p truss > /dev/null 2>&1 && currentDate=$( truss date
   2>&1 | awk '/^time/ {print $NF}' )
   
   2) Save $CANDLEHOME/bin/installsdsupport.sh
   
   3) Connect another agent to the TEMS to trigger the SD support
   install.
   
   4) Determine that the SD support install completed successfully.
   
   
    
   
   

PROBLEM SUMMARY
 *  Installation process for Self-Describing Agent (SDA) support may
   hang.
   
   
   Install of Self-Describing Agent (SDA) support sometimes hangs
   on the monitoring server.  When this happens, the following
   characteristics were observed:
     - Output from "tacmd listappinstallrecs" shows an ongoing
       status of "IR" (Install Request).
     - The process table shows the monitoring script
       installsdsupport.sh is waiting for output from a child
       processes running an awk command.
     - The process table shows a truss command that appears to
       have completed.
   
   The process table entries look something like this:
   
      root 7940 7498 08:55:34 pts/1
                     /opt/IBM/ITM/bin/installsdsupport.sh...
      root 4996 7940 08:55:37 pts/1 awk /^time/ {print $NF}
      root 9596    1 08:55:37 pts/1 truss date
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problem awk/truss incantation is intended to be run only on
   Solaris.  The code was changed to not invoke these commands on
   other platforms such as AIX.
   
   
   The fix for this APAR is contained in the following maintenance
   packages:
   
     | fix pack | 6.3.0-TIV-ITM-FP0005
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV65374
   
   
 * REPORTED COMPONENT NAME
   OMEG DIST INSTA
   
   
 * REPORTED COMPONENT ID
   5608A41CI
   
   
 * REPORTED RELEASE
   630
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-09-30
   
   
 * CLOSED DATE
   2015-05-15
   
   
 * LAST MODIFIED DATE
   2015-06-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OMEG DIST INSTA
   
   
 * FIXED COMPONENT ID
   5608A41CI
   
   

APPLICABLE COMPONENT LEVELS
 * R630 PSY
   UP