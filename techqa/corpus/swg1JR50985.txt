Title: IBM JR50985: THE IBM BPM DOCUMENT STORE APPLICATION DOES NOT START AFTER MODIFICATIONS ARE MADE IN THE FEDERATED USER REPOSITORY - United States

Text:
  DIRECT LINKS TO FIXES
8.5.5.0-WS-BPM-IFJR50985 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=8.5.5.0-WS-BPM-IFJR50985&source=SAR]
Version 8.5 Refresh Pack 6 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24039185]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  After you remove a user from the federated user repository or
   remove the file-based repository entirely, the
   IBM_BPM_DocumentStore_* application no longer starts.
   
   In the log files or FFDC, you see an exception that is similar
   to the following exception:
   
   java.lang.RuntimeException:
   com.filenet.api.exception.EngineRuntimeException: FNRCE0051E:
   E_OBJECT_NOT_FOUND: The requested item was not found.
   propertyName=Permissions, referenced
   principal=S-1-98-808530736-942814565-845427501-926166369-1647128
   883-758538849-842621750-811755060-845231416-67108864
   
   The exception indicates that IBM FileNet cannot find a user and
   that the specified user name does not look like a distinguished
   name but is a long ID-like number.
   
   
    
   
   

LOCAL FIX
 *  To prevent this issue from recurring, keep the users and groups
   in the federated user registry synchronized with the embedded
   document store authorizations. For example, when you delete a
   user from a repository, update the embedded document store
   authorizations and remove the authorization for the deleted
   user.
   
   A user in the file-based registry is not identical to a user in
   LDAP with the same name. Therefore, the embedded document store
   authorizations must be updated even if you move a user or group
   
   To list, remove, and add authorizations to the embedded document
   store, you can use the maintainDocumentStoreAuthorization admin
   command.
   
   
    
   
   

PROBLEM SUMMARY
 *  When the IBM BPM document store application is started, the
   embedded ECM configuration is verified and missing parts are
   created, which involves creating or updating the BPMRuntimeUser
   object. All permissions of the object store are copied to the
   BPMRuntimeUser.
   
   If one of the granted users or groups of the object store is no
   longer available, an invalid permission is created for the
   BPMRuntimeUser and FileNet rejects this invalid permission.
   As a result, the IBM_BPM_DocumentStore_*  store application does
   not start.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A fix is available for IBM BPM V8.5.5.0 that checks the validity
   of a user or group before copying the permission from the object
   store to the BPMRuntimeUser object.
   
   On Fix Central (http://www.ibm.com/support/fixcentral), search
   for JR50985:
   
   1. Select IBM Business Process Manager with your edition from
     the product selector, the installed version to the fix pack
     level, and your platform, and then click Continue.
   
   2. Select APAR or SPR, enter JR50985, and click Continue.
   
   When you download fix packages, ensure that you also download
   the readme file for each fix. Review each readme file for
   additional installation instructions and information about the
   fix.
   
   
    
   
   

TEMPORARY FIX
 *  Not applicable
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR50985
   
   
 * REPORTED COMPONENT NAME
   BPM ADVANCED
   
   
 * REPORTED COMPONENT ID
   5725C9400
   
   
 * REPORTED RELEASE
   855
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-08-07
   
   
 * CLOSED DATE
   2014-10-15
   
   
 * LAST MODIFIED DATE
   2014-10-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM STANDARD
   
   
 * FIXED COMPONENT ID
   5725C9500
   
   

APPLICABLE COMPONENT LEVELS
 * R855 PSY
   UP