Title: IBM Fix pack 8001 installlation fails - ADMA5026E: no valid target is specified in ObjectName - United States

Text:
portal fix pack fixpack 8001 8.0.0.1 install installation fail fails failure ADMA5026E WCMD0003E TECHNOTE (TROUBLESHOOTING)

PROBLEM
During the 8001 fix pack installation, ConfigEngine executes a wsadmin script which tries to read the server definition for any vertical cluster members added to the node. If the Dmgr was not running during the upgrade, it may fail.

SYMPTOM
In ConfigTrace, the process is not connecting to the Dmgr:
========================================
Fri Mar 22 21:19:10 GMT 2013
Target started: action-set-managed-node-flag

action-set-managed-node-flag:
[echo] Is this a Managed Node ? true
Target finished: action-set-managed-node-flag
Fri Mar 22 21:19:11 GMT 2013
Target started: action-set-conntype-property

action-set-conntype-property:
[echo] wsadminConnType set to: NONE
Target finished: action-set-conntype-property
========================================


The wsadminConnType should be set to SOAP in a cluster. Further in the ConfigTrace, we see this error:


========================================

[wsadmin] WASX7357I: By request, this scripting client is not connected to any server process. Certain configuration and application operations will be available in local mode.
[wsadmin] AppName wps_scheduler
[wsadmin] Ear File /opt/IBM/WebSphere/PortalServer/installer/wp.ear/installableApps/wps_scheduler.ear
[wsadmin] Install Options -update -appname "wps_scheduler" -deployejb.classpath {/opt/IBM/WebSphere/PortalServer/base/wp.base/shared/app/wp.base.jar}
[wsadmin] Getting tasks for: wps_scheduler

[wsadmin] ADMA5026E: No valid target is specified in ObjectName WebSphere:cell=MyCell,node=MyNode,server=webserver1 for module wp.scheduler.ejb.jar+META-INF/ejb-jar.xml.
[wsadmin] com.ibm.websphere.management.exception.AdminException: ADMA5026E: No valid target is specified in ObjectName WebSphere:cell=MyCell,node=MyNode,server=webserver1 for module wp.scheduler.ejb.jar+META-INF/ejb-jar.xml.
[wsadmin] at com.ibm.ws.management.application.task.ConfigRepoHelper.getServerNames(ConfigRepoHelper.java:2270)
[wsadmin] at com.ibm.ws.management.application.task.ConfigRepoHelper.getAddRemoveServerNames(ConfigRepoHelper.java:2175)
[wsadmin] at com.ibm.ws.management.application.task.ConfigRepoHelper.getServerNames(ConfigRepoHelper.java:2048)
[wsadmin] at com.ibm.ws.management.application.AppAssociation.getServerNames(AppAssociation.java:1451)
========================================


In Installation Manager native logs, you may see the following error if an incorrect Dmgr profile name is passed in:

========================================
check-if-ok-to-start-dmgr:

iim-start-dmgr:
[exec] WCMD0003E: The specified profile "Dmgr01" cannot be found.
If a default profile exists and you wish to use it, the -profileName
parameter is not required.
[exec] Result: 1
[exec] Current profile - wp_profile
========================================

CAUSE
The Dmgr is not started during the upgrade, so the installation process cannot connect to it.



RESOLVING THE PROBLEM
1. If using a remote Dmgr, be sure it is started prior to attempting the upgrade. 

2. If using a local Dmgr and Installation Manager requires you to stop it prior to attempting the upgrade, follow these steps:
a. Verify the Dmgr profile name by navigating to the Dmgr's AppServer/bin folder and execute this command:

./manageprofiles.sh|bat -listProfiles

b. Pass in the correct Dmgr profile name according to the installation option you are using:

http://www-10.lotus.com/ldd/portalwiki.nsf/xpDocViewer.xsp?lookupName=Readme+8.0.0.1#action=openDocument&res_title=Upgrade_instructions_for_WebSphere_Portal_and_Web_Content_Manager_V8.0.0.1_clustered_servers_8001&content=pdcontent [http://www-10.lotus.com/ldd/portalwiki.nsf/xpDocViewer.xsp?lookupName=Readme+8.0.0.1#action=openDocument&res_title=Upgrade_instructions_for_WebSphere_Portal_and_Web_Content_Manager_V8.0.0.1_clustered_servers_8001&content=pdcontent]




 * 
 *