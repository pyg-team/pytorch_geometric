Title: IBM Unable to save changes in FileNet Workplace XT - Site Preferences. - United States

Text:
save site preferences; user do not have permission TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Getting error, The user does not have permission to modify this documents content, when attempting to save Site Preferences changes.



Error Message:

The user does not have permission to modify this documents content.


SYMPTOM
The following error is seen from the Workplace XT when attempting to save the Site Preferences change: 


Error Message:
The user does not have permission to modify this documents content.

Exception Class:
com.filenet.wcm.api.InsufficientPermissionException

Stack Trace:
com.filenet.wcm.api.InsufficientPermissionException: The user does not have permission to modify this documents content.

FileNet Content Engine trace enabled for EJB, Security, DB and ERROR. The follow error stack was logged into the P8_server_trace.log: 


20##-03-09T09:42:44.584 4D574915 EJB FNRCE0000D - DEBUG <executeChangesRequest clientVersion="511" clientId="5e32007f:WebContainer: 0" clientCaller="com.filenet.engine.ejb.EngineCoreBean._executeChanges(EngineCoreBean.java:609)" refresh="true" correlationId="0" updateSequenceNumber="null" rid="1">\n <pendingAction type="Checkout" reservationId="{AF503EBA-9E20-4A97-AC57-86547252CCCC}" rid="2">\n 
<reservationType type="ReservationType" value="16" rid="3"/>\n 
</pendingAction>\n <objectReference type="ObjectByPath" classIdentity="Document" path="/Preferences/Site Preferences for Workplace" rid="4">\n <objectStore type="GlobalIdentity" classIdentity="ObjectStore" identity="SitePref" rid="5"/>\n </objectReference>\n <refreshFilter type="PropertyFilter" rid="6">\n <includePropertyList size="2" rid="7">\n <entry type="FilterElement" maxRecursion="1" value="Reservation" rid="8"/>\n <entry type="FilterElement" maxRecursion="2" value="Id" rid="9"/>\n </includePropertyList>\n <includeTypeList size="0" rid="10"/>\n <excludePropertyList size="0" rid="11"/>\n </refreshFilter>\n</executeChangesRequest> 

20##-03-09T09:42:45.299 4D574915 EJB FNRCE0059D - DEBUG 
<executeChangesResponse type="EngineRuntimeException" elapsed="709" 
clientVersion="511" clientId="5e32007f:WebContainer : 0" 
rid="1">\ncom.filenet.api.exception.EngineRuntimeException: FNRCE0059E: 
E_RESERVATION_EXISTS: The document is already checked out. failedBatchItem=0 errorStack={\n at com.filenet.engine.persist.VersionablePersister.validateCheckout(Version 
ablePersister.java:628)\n at 
com.filenet.engine.persist.VersionablePersister.validateCurPendingAction (VersionablePersister.java:582)\n at com.filenet.engine.persist.IndependentPersister.executeChange(IndependentPersister.java:321)\n at ..... 


CAUSE
The Workplace XT Site Preferences document was checked out by another user.


RESOLVING THE PROBLEM
Steps to resolve the issue: 

 

 1. Logon to FileNet Enterprise Manager(FEM) or Administration Console for Content Platform Engine (ACCE) and locate the object store where the site preference is located - Root Folder - Preferences folder - to cancel the checkout. 
    
    
 2. If you don't have permission to cancel checkout, try re-assigning creator owner to the Admin user then cancel checkout. You can change it from the document - Properties - Security tab.
    
    
 3. If you still cannot cancel checkout, try the following:
    
     1. Download and save off the Site Preferences.xml file from the current Site Preferences document in FEM/ ACCE. 
     2. Create a new Workplace XT Site Preferences by re-bootstrapping with a new name.  * Stop the application server instance for Workplace XT 
         * Go to ./<Workplace XT install folder>/config/Webclient/bootstrap.properties and remove the value for the object store 
         * Restart the application server and attempt to login to Workplace XT. 
         * You will be presented with the bootstrap screen. 
         * Select the object store where the Site Preferences was stored. 
         * Enter a new Site preference name different from previous. 
         * Complete the bootstrap screen configuration and save the change.
        
        
     3. From ACCE or FEM, check out the newly created Site Preferences from the Root Folder\Preferences folder. 
     4. Check it back in the Site Preferences document with the preference.xml file previously saved in step 1.
        
     5. Logout and log back into the Workplace XT. You should be able to save changes from Site Preferences now.