Title: IBM IC90653: MONITORING AGENT JAVA OUTOFMEMORYERROR CLIENT NODE STATUS - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The Tivoli Monitoring agent may encounter a Java
   OutOfMemoryError when processing information for the
   "Client Node Status" attribute group.
   Tivoli Monitoring for Tivoli Storage Manager
   Tivoli Enterprise Portal (TEP)
     -> Tivoli Storage Manager
        -> ServerName::SK
           -> Client Node Status (no results displayed)
           -> Availability
              Client_Node_Status NO INSTANCES RETURNED
   Here is an example of the exception call stack:
   JVMDUMP010I Java Dump written to /opt/tivoli/tsm/reporting/itm
   /bin/javacore.20130131.100925.30932998.0003.txt
   JVMDUMP013I Processed Dump Event "systhrow", detail
   "java/lang/OutOfMemoryError".
   Exception in thread "Thread-5" java.lang.OutOfMemoryError
     at java.lang.StringBuffer.ensureCapacityImpl
        (StringBuffer.java:386)
     at java.lang.StringBuffer.append(StringBuffer.java:234)
     at com.tivoli.dsm.adminapi.api.DsmResultBean.toString
        (DsmResultBean.java:257)
     at com.tivoli.dsm.adminapi.api.DsmAdminAPI.execute
        (DsmAdminAPI.java:1636)
     at com.ibm.tivoli.monitoring.TSMAgent.attributeGroups.
        DSMQuery.executeSQL(DSMQuery.java:615)
     at com.ibm.tivoli.monitoring.TSMAgent.attributeGroups.
        ClientNodeStatus.QueryLatestBackup
        (ClientNodeStatus.java:455)
     at com.ibm.tivoli.monitoring.TSMAgent.attributeGroups.
        ClientNodeStatus.queryTSM(ClientNodeStatus.java:416)
     at com.ibm.tivoli.monitoring.TSMAgent.attributeGroups.
        TSMHistExtract.queryDB(TSMHistExtract.java:106)
     at com.ibm.tivoli.monitoring.TSMAgent.attributeGroups.
        TSMHistExtract.run(TSMHistExtract.java:68)
     at java.lang.Thread.run(Thread.java:810)
   Tivoli Storage Manager Versions Affected:
     All Tivoli Monitoring for Tivoli Storage Manager
   Initial Impact:
     Medium
   Additional Keywords:
     TSM
   
   
    
   
   

LOCAL FIX
 *  Deactivate the "Client Node Status" attribute group to display
   results for other attribute groups.
   1. Stop the Tivoli Storage Manager Agent Instances with
      symptoms.
     A. Windows
        -- Open up the Manage Tivoli Monitoring Services (MTEMS)
        -- Select each of the Monitoring Agent for Tivoli Storage
           Manager and stop the agent
     B. AIX/Linux
        -- itmcmd agent -o instance_name stop sk  (command line)
        -- Open up the CandleManage (GUI)
           Select each of the Monitoring Agent for Tivoli Storage
           Manager and Stop the agent
   2. Modify the config file to deactivate the "Client Node Status"
      attribute group.
     A. Location
        a. Windows: <install_dir>\itm\TMAITM6
           Example:  C:\IBM\itm\TMAITM6
        b. AIX/Linux: <install_dir>/itm/config
           Example:  /opt/Tivoli/TSM/Reporting/itm/config
     B. Name
        a. Windows:  kskenv_xxx (xxx = name of the agent instance)
           Example:  kskenv_myinstance
        b. AIX/Linux: sk.ini
     C. Deactivate the "Client Node Status" attribute group
        a. WINDOWS, LINUX and AIX:
           KSK_OCC_ON              Occupancy
           KSK_QUERYWARN           Activity Log warnings
           KSK_CNS_ON              Client Node Status
   
        b. To turn off ad "=0"
           Example  KSK_CNS_ON=0
   3. Start the TSM Agent Instances
     A. Windows
        -- Open up the Manage Tivoli Monitoring Services (TEMS)
        -- Select each of the Monitoring Agent for Tivoli Storage
           Manager and start the agent
     B. AIX/Linux
        -- itmcmd agent -o instance_name start sk  (command line)
        -- Open up the CandleManage  (GUI)
           Select each of the Monitoring Agent for Tivoli Storage
           Manager and start the agent
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All Tivoli Monitoring for Tivoli Storage     *
   *                 Manager users.                               *
   ****************************************************************
   * PROBLEM DESCRIPTION: See error description                   *
   ****************************************************************
   * RECOMMENDATION: Apply fixing level when available. This      *
   *                 problem is currently projected to be fixed   *
   *                 in level 6.3.4. Note that this is subject    *
   *                 to change at the discretion of IBM.          *
   ****************************************************************
   See error description
   
   
    
   
   

PROBLEM CONCLUSION
 *  This problem was fixed.
   Affected platforms:  AIX, Linux, and Windows.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC90653
   
   
 * REPORTED COMPONENT NAME
   TSM SERVER
   
   
 * REPORTED COMPONENT ID
   5698ISMSV
   
   
 * REPORTED RELEASE
   63A
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-03-05
   
   
 * CLOSED DATE
   2013-03-07
   
   
 * LAST MODIFIED DATE
   2013-03-07
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TSM SERVER
   
   
 * FIXED COMPONENT ID
   5698ISMSV
   
   

APPLICABLE COMPONENT LEVELS
 * R61A PSY
   UP
   
   
 * R61H PSY
   UP
   
   
 * R61L PSY
   UP
   
   
 * R61S PSY
   UP
   
   
 * R61W PSY
   UP
   
   
 * R61Z PSY
   UP
   
   
 * R62A PSY
   UP
   
   
 * R62H PSY
   UP
   
   
 * R62L PSY
   UP
   
   
 * R62S PSY
   UP
   
   
 * R62W PSY
   UP
   
   
 * R62Z PSY
   UP
   
   
 * R63A PSY
   UP
   
   
 * R63H PSY
   UP
   
   
 * R63L PSY
   UP
   
   
 * R63S PSY
   UP
   
   
 * R63W PSY
   UP
   
   
 * R63Z PSY
   UP