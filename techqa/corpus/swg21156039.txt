Title: IBM ECI request fails with CCL6876E CcicsECI EXCI error and reason 414 - United States

Text:
CCL6876E CCL6876 MSGCCL6876 414 RSN414 CCL6827E CCL6827 ARXC ABENDARXC OS390 ESA ZOS 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 ; 5655S9700 R660 660 R600 600 HCI6600 R670 670 R700 700 HCI6700 5655-S97 5655S97 KIXINFO TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are trying to connect to CICS Transaction Server for z/OS (CICS TS) through the CICS Transaction Gateway (CTG) on z/OS, and it fails. The CTG returns the error message CCL6876E with EXCI error and reason = 414 (RSN414), and CCL6827E error message DFHAC2206 from CICS. An abend ARXC (abendARXC) occurs in the CICS TS region. 

SYMPTOM
You receive these messages:
CCL6876E CcicsECI: EXCI error. EXCI Reason = 414, Subreason field-1 = 0, subreason field-2 = 0
CCL6827E CcicsECI: Error message from CICS: DFHAC2206 .

CAUSE
Failure to set RRMS=YES in the CICS system initialization table (SIT).

DIAGNOSING THE PROBLEM
The EXCI reasons are documented in the CICS External Interfaces Guide manual under Reason codes for response: USER_ERROR [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.doc/dfhtm/topics/dfhtmc00114.html] as follows: 

414 IRP_ABORT_RECEIVED
Explanation: Whilst processing a DPL request, an error occurred in the CICS server region, resulting in abort FMH7 being returned to the external CICS interface.

The WTE console provides the following error message:
C9631E ECISystemException

The Javaâ„¢ stack trace provides the following error messages:
ConnectionEve A J2CA0056I: The Connection Manager received a fatal connection error from the Resource Adaptor for resource eis/CICSConnectionFactory. The exception which was received is
SystemErr R javax.resource.spi.CommException: CTG9630E: IOException occurred in communication with CICS.
SystemErr R at com.ibm.connector2.cics.ECIManagedConnection.call(ECIManagedConnection.java:984)
SystemErr R at com.ibm.connector2.cics.ECIConnection.call(ECIConnection.java:126)
SystemErr R at com.ibm.connector2.cics.ECIInteraction.execute(ECIInteraction.java:274)
SystemErr R at sli.v49393.jca.test.CicsCommand.execute(CicsCommand.java:127)
SystemErr R at sli.v49393.jca.test.session.SimpleCICSTestSessionBean.runTest(SimpleCICSTestSessionBean.java:55)
SystemErr R at sli.v49393.jca.test.session.EJSRemoteStatelessSimpleCICSTestSession_823dd9aa.runTest(EJSRemoteStatelessSimpleCICSTestSession_823dd9aa.java:29)
SystemErr R at sli.v49393.jca.test.session._SimpleCICSTestSession_Stub.runTest(_SimpleCICSTestSession_Stub.java:254)

Abend ARXC [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.messages.doc/cics_mc/ARxx_abend_codes/ARXC.html] is returned and is documented in the CICS TS information center as follows.
This happens when a transactional EXCI request has been received from a batch region when either 

 * CICS did not register as a resource manager with Recoverable Resource Management Services (RRMS) because system initialization parameter RRMS=NO was specified. 
 * the RX domain did not successfully complete its initialization. 


A CICS TS auxiliary trace shows the following exception trace entries: 
00317 QR RX 040D RXUW *EXC* RX DOMAIN NOT INITIALISED 
00317 QR AP 1942 APLI *EXC* Abend-Percolate FUNCTION(START_PROGRAM) 
PROGRAM(DFHXMAB) CEDF_STATUS(NOCEDF) EXECUTION_SET(FULLAPI) 
ENVIRONMENT_TYPE(EXEC) SYNCONRETURN(NO) 
LANGUAGE_BLOCK(19CE2A48) COMMAREA(00000000,00000000) 
LINK_LEVEL(0) DEFERRED_ABEND_FOR_XCTL() 
The indication that the RX domain has not been initialized might be incorrect. 
Look at the Domain Manager in a CICS system dump with IPCS to see if the RX domain is ACTIVE. 

Look at field SITRRMSYES ( the x'80' bit ) in the SIT control block. If it is on, then RRMS=YES is defined. If it is off, then RRMS=NO is defined. 
RESOLVING THE PROBLEM
Specify RRMS=YES [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.doc/dfha2/parameters/dfha2_rrms.html] in the CICS SIT. After you make this correction, shut down the CICS region and bring it back up. The requirement for RRMS is documented in the CICS information center under Using RRMS with the external CICS interface [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.doc/dfhtm/topics/dfhtmc0063.html].







Cross Reference information Segment Product Component Platform Version Edition Host Transaction Processing CICS Transaction Gateway CTG 
PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server