Title: IBM PDSQLコマンドの使用方法について - United States

Text:
PDSQL; pdsql; database command prompt; command line; 1145079; command; prompt; コマンド; データベース; プロンプト; SQL; 1291149 技術情報(FAQS)

質問
 [Japanese] IBM® Rational® ClearQuest® のバックエンドデータベースにアクセスするためのコマンドである、PDSQLの使用方法について説明します。 

回答
ClearQuest インストールディレクトリに、pdsql というコマンドライン SQL ツールが提供されています。このツールを使用して、ClearQuest でサポートされているバックエンドデータベースに SQL セッションを開くことができます。 

PDSQL コマンドは、コマンドプロンプトから実行します。以下はコマンドの詳細です。

SQL Server (ClearQuest 2003.06.00 ~ 7.0.x) 

-v ss -s server -u <ユーザ名> -p <パスワード> -db <database> -co ""

デフォルトポート(1433) やインスタンス以外を使用の場合には、以下の接続オプションが必要です。
-co PORT=<ポート番号> INSTANCE=<インスタンス名>

コマンド例: pdsql -v ss -s 192.168.0.75 -db CQDB -u cqadmin -p "" -co PORT=1440 

 

Oracle (ClearQuest 2003.06.00 ~ 2003.06.12)

-v ora7 -s <エリアス名> -u <ユーザ名> -p <パスワード> -co <コネクションのオプション>
または
-v ora8 -s <エリアス名> -u <ユーザ名> -p <パスワード> -co <コネクションのオプション>

（<エリアス名>はSQL*NetまたはNet8に定義されているデータベースのエリアスです。）

デフォルトポート (1251) 以外を使用の場合には、以下の接続オプションが必要です。

HOST=<ホスト名>
SID=<SID名>
PORT=<ポート番号>
CLIENT_VER=<7、8.0、8.1> ora7 には 7 、ora8には 8.0 がデフォルト
LOB_TYPE=<LONG、CLOB> デフォルトはLONG

コマンド例: pdsql -v ora8 -s CQDB -u cqadmin -p "" -co PORT=1252 

 

Oracle (ClearQuest 2003.06.13 ~ 2003.06.16)

-v ora8 -db <SID名> -s <ホスト名> -u <ユーザ名> -p <パスワード> -co <コネクションのオプション>
または
-v ora9 -db <SID名> -s <ホスト名> -u <ユーザ名> -p <パスワード> -co <コネクションのオプション>

注意:LOB_TYPEは必ずコネクションのオプションに定義する必要があります。デフォルトポート (1251) 以外を使用の場合には、追加の接続オプションが必要です。

LOB_TYPE=< LOBタイプ >
PORT=< ポート番号 >

コマンド例: pdsql -v ora9 -db CQDB -s 192.168.0.75 -u cqadmin -p "" -co LOB_TYPE=CLOB PORT=1252 

 

Oracle (ClearQuest 7.x) 


-v ora -db < SID名 > -s < ホスト名 > -u < ユーザ名 > -p < パスワード > -co < コネクションのオプション >

注意: LOB_TYPEは必ずコネクションのオプションに定義する必要があります。デフォルトポート (1251) 以外を使用の場合には、追加の接続オプションが必要です。

LOB_TYPE=< LOBタイプ >
PORT=< ポート番号 >

コマンド例: pdsql -v ora9 -db CQDB -s 192.168.0.75 -u cqadmin -p "" -co LOB_TYPE=CLOB PORT=1252 

 

DB2 (ClearQuest 2003.06.00~ 2003.06.12)


-v db2 -db < エリアス名 > -u < ユーザ名 > -p < パスワード > -co < コネクションのオプション >

(< エリアス名 > はDB2のClient Configuration Assistant に定義されたカタログされた名です）


コマンド例: pdsql -v db2 -db CQDB -u cqadmin -p "" 

 

DB2 (ClearQuest 2003.06.13~ 7.x)

-v db2 -db < db名 > -u < ユーザ名 > -p < パスワード > -s < ホスト名 > -co < コネクションのオプション >

注意: デフォルトポート (50000) 以外を使用の場合には、以下の接続オプションが必要です:
PORT=< ポート番号 >


ClearQuest 7.0.x バージョンではサーバで暗号化されたユーザ名とパスワードを使用する場合、コネクションオプションに DB2_SECURE_LOGIN を指定することもあります: 

DB2_SECURE_LOGIN 

 

コマンド例: pdsql -v db2 -db CQDB -u cqadmin -p "" -s 127.0.0.1 


Microsoft® Access™ (ClearQuest 2003.06.13~ 7.x) 

-v access -db <データファイルへのパス> -u admin -co "" 

注意: AccessとSQL Anywhereの場合は、<データファイルへのパス>を二重引用マークで囲みます。 

コマンド例: pdsql -v access -db "C:\CQDB\CQDB.mdb" -u cqadmin 

 

SQL Anywhere (ClearQuest 2003.06.13~ 2003.06.15) 

-v sa -s <ホスト名> -u <ユーザ名> -p <パスワード> -db <データファイルへのパス> -co <コネクションのオプション> -hosts <host1,host2,host3,...> -protocols <TCPIP,IPX,NETBIOS,NAMEDPIPES>

注意: SQL Anywhere 8.x の場合は、以下の接続オプションを使用します。
-co "SERVER_VER=8.0"
データベースのホストとプロトコル情報はオプションですがVLANに接続する場合は有用です。データベース値は必ずUNCパースに設定します。

コマンド例: pdsql -v sa -s 192.168.0.75 -db CQDB -u cqadmin -p "" 



PDSQL 使用に関するその他の情報:

以下のコマンドでオンラインヘルプを表示できます。 
pdsql -help

PDSQL は全て一般的な SQL コマンドをサポートします。また特別に "tables" と "columns" コマンドがあり、正しいデータベースであることが確認できます。

例:
pdsql> tables;
pdsql> columns table-name;

SQL にて使用できるテーブルとコラム名は、上記のコマンドでリストされるものです。データベースベンダーに関わらず、テーブルのプレフィックスなどは入れる必要がありません。

例: 
pdsql> update defect set new_field = old_field;
pdsql> select new_field from defect;

セミコロンが入力されるとコマンドが実行されます。 "commit" を明示的に実行する必要はありません。

pdsql を終了するには quit コマンドを入力します。

例: pdsql> quit;

情報: 出力された結果をファイルに保存するには「＞」を使用します。

例: C:\pdsql -v ss -s server -u <dbUser> -p <dbPass> -db <database> -co "" > C:\temp\sqlout.txt
select * from <table>;
quit;


関連情報
#English Technote 1145079 [http://www.ibm.com/support/docview.wss?uid=swg21145079]