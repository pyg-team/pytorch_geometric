Title: IBM How to modify the size and Location for Case Manager Builder CBE Log Files - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How can I modify the size and location of the CBE log files generated by Case Manager Builder during Solution Deployment and other operations? 

CAUSE
IBM Case Manager does not expose any options for modifying the size and location of the CBE log files generated by Case Manager Builder, with the result that customers can end up with large log files in unwanted locations.

ANSWER
When you use Case Manager Builder to open, close, or deploy a solution, the same information is written out to two different log files by default. 

The log files are:
- /%h/icm_casebuildercbe%u.log
- /%h/icmcbe%u.log

%h - the directory or folder corresponding to the “user.home” system property. This is typically root folder on AIX, Solaris, Linux, and Linux for system Z systems for the root user and “C:\Windows\System32\config\systemprofile” on Windows 2008 Server.
%u - a unique number generated by WebSphere Application Server to resolve conflicts when and if the log files reach their maximum size and roll over
icmcbe%u.log - created when Case Manager Client is used. The log file will always remain 0-byte as the application is not writing out to it in ICM-5.1.1.x. 
icm_casebuildercbe%u.log - created when Case Manage Builder is used. The log file will always contain the same information as the icmcbe%u.log. Although the order of the entries may not always be exactly the same and byte size of the files may differ slightly as a result.

The size and location for the files are currently not configurable in IBM Case Manager. Instead, simple changes can be made in WebSphere Administration Console to alter the number, name and size of the resulting log files.

NOTE: No CBE log files are created in ICM-5.1.0.x so the information in this technote only applies to the ICM-5.1.1.x release/patch level.

1) Modify the log file location and generate just one icmcbe%u.log instead of both icm_casebuildercbe%u.log and icmcbe%u.log

To change the location of the cbe log file(s), you can use the JVM property ICMCBELogFilePattern. For example, if the ICMCBELogFilePattern=%t/icmcbe%u.log (where %t is the system temporary directory, e.g. /tmp on an AIX, Solaris, Linux, and Linux for system Z system), then a single /icmcbe%u.log will be created under the temporary folder.

If you want to use a hard-coded path instead, such as “/icm/logs” (AIX, Solaris, Linux, and Linux for system Z) or “C:\icm\logs” (Windows), you can specify the value for ICMCBELogFilePattern=/icm/logs/icmcbe%u.log (AIX, Solaris, Linux, and Linux for system Z) or ICMCBELogFilePattern=C:\icm\logs\icmcbe%u.log (Windows).

Here, for example, is a screenshot for the JVM property ICMCBELogFilePattern setting from an AIX, Solaris, Linux, and Linux for system Z environment. Make sure to restart WebSphere Application Server after modifying and saving this property in WebSphere Administration Console:

[/support/docview.wss?uid=swg21621882&aid=1] [/support/docview.wss?uid=swg21621882&aid=1]


NOTE: You need to restart WebSphere Application Server after modifying and saving this property in WebSphere Administration Console.

The following is a sample screenshot for the icmdbe%u log file(s) on an AIX, Solaris, Linux, and Linux for system Z system after the user has logged in to Case Builder and copied a solution from an existing solution from the Case Builder homepage. The icmcbe0.log is for Case Builder since the file is generated first. Then, the icmcbe1.log is generated for ICM Case API from the solution copy operation. 0 and 1 is from %u. The logs are generated in /tmp because of %t.

[/support/docview.wss?uid=swg21621882&aid=2] [/support/docview.wss?uid=swg21621882&aid=2]

2) Modify the logging level for Case Manager Builder CBE Log Files

You can change the log level for Case Manager Builder CBE log files either to reduce the size the files generated or to capture more or less information than the default level provides. The default log level for Case Manager CBE logging is INFO. If you do not want to generate any cbe logs at all, you can also turn off logging entirely.

Here is a screenshot showing the default log level:

[/support/docview.wss?uid=swg21621882&aid=3] [/support/docview.wss?uid=swg21621882&aid=3]


Here is a screenshot showing how to modify the Case Manager Builder CBE log level to off (no more logging):

[/support/docview.wss?uid=swg21621882&amp;aid=4]

The result shows "com.ibm.casemgmt.cbe=off":

[/support/docview.wss?uid=swg21621882&aid=5] [/support/docview.wss?uid=swg21621882&aid=5]

Before changing the log level to turn it off as shown in the previous screenshot, the files appear on disk as follows:

[/support/docview.wss?uid=swg21621882&aid=6] [/support/docview.wss?uid=swg21621882&aid=6]

After changing the logging level to off (com.ibm.casemgmt.cbe=off) and performing some operations in Case Builder, it will be found that no further logging has occurred (the size of the files is still the same).

[/support/docview.wss?uid=swg21621882&aid=7] [/support/docview.wss?uid=swg21621882&aid=7]

NOTE: You need to restart WebSphere Application Server after modifying and saving this change in WebSphere Administration Console.