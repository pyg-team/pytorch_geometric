Title: IBM ITCAM Agent for SAP Applications, 7.1.1.1-TIV-ITM_SAP-IF0001 - United States

Text:
 DOWNLOADABLE FILES

ABSTRACT
 This IFix resolves the APARs and defects listed in the "Problems Fixed" section below 

DOWNLOAD DESCRIPTION
Copyright International Business Machines Corporation 2014.


All rights reserved.

Component: IBM(R) Tivoli(R) Composite Application Manager Agent for SAP
Applications, Version 7.1.1 Fix Pack 0001 

Component ID: 5724B97SO

Fix: Interim Fix 0001, 7.1.1.1-TIV-ITM_SAP-IF0001

Date: 31 December 2014

Contents:

1.0 General description
2.0 Problems fixed
3.0 Architecture and prerequisites
4.0 Image directory contents
5.0 Installation instructions
6.0 Additional installation information
7.0 Known problems and workarounds
8.0 Additional product information
9.0 Copyright and trademark information
10.0 Notices

1.0 General description
========================

This interim fix resolves the APARs and defects listed in the 
"Problems Fixed" section below.

2.0 Problems fixed in 7.1.1.1-TIV-ITM_SAP-IF0001
=====================================================
The following problems are addressed by this interim fix.

2.1 APARs
---------- 

APAR: IV63525
Abstract: CUSTOMER IS GETTING 0 ENTRIES FOR THE OUTPUT OF THE 
FUNCTION MODULE /IBMMON/ITM_QOUT_GET_QUEUES.
Additional Information: The /IBMMON/ITM_QOUT_GET_QUEUES function 
module stopped collecting the data even though the data was 
present in the SAP system. Due to this, SYSID ‘+++’ was 
displayed on the Tivoli Enterprise Portal. The function module
has been rectified for collecting the data from the SAP 
systems having versions greater than 46C and SP level 
SPKB46C39.

APAR: IV60733
Abstract: MPS CX_SY_CONVERSION_NO_NUMBER IN FUNCTION MODULE
IBMMON/ITM_FILE_SYSTEM
Additional Information: ABAP dump ‘Conversion Error –unable to 
handle‘---‘ as a number ’ for the / IBMMON/ITM_FILE_SYSTEM
function module is gracefully handled towards File Systems 
attribute group.

2.2 Defects
------------

Defect: 58382 
Abstract: Exception condition "GWY_COMMUNICATION_FAILURE" raised.
Additional Information: "GWY_COMMUNICATION_FAILURE" has been 
gracefully handled for the /IBMMON/ITM_GWY_CONNECTIONS 
function module towards the Gateway Connections attribute 
group.

Defect: 55733
Abstract: TEP Remote configuration of SAP Agent is not working on 
non-windows after remote upgrade.
Additional Information: While getting the Config parameters from the
".cfg" file, the two parameters for gateway are removed from 
the parameters that are being sent to the Tivoli Enterprise 
Portal Configuration Panel. Also the ".cfg" file is updated 
by removing those parameters. Then, reconfiguration of Agent 
Instance with appserver and logon mode through Tivoli 
Enterprise Portal is successful after remote upgradation to
711FP1 IF1.

Defect: 55366
Abstract: ABAP Dumps when Job Name is not present in SAP standard
table.
Additional Information: Exception handling was missing for the
scenario of the Job Name not being present in the SAP standard
table. The issue has been fixed by adding the required 
exception handling for Workspace Integration engine background
jobs when Job is not present in SAP.


2.3 Enhancements
----------------

Enhancement: 67334
Abstract: Additional functionality to handle the MAI missing Alerts 
in the Function Module /IBMMON/ITM_MAIALRT_INX. 
Additional Information: Function module /IBMMON/ITM_MAIALRT_INX is 
modified to fetch the MAI Alerts which are missed by ITM SAP
Agent as these MAI Alerts are inserted into table 
/IBMMON/ITM_ALIX with some delay by SAP.
Note: 
1) SAP system time and ITCAM SAP Agent machine time should be
in sync upto accuracy of seconds.
2) In order to have full collection of MAI Alerts, there is 
an additional overlap time being added to the sampling time 
frequency given by the ITCAM SAP Agent.
This additional overlap time is configurable parameter on 
the SAP side
Please note -
a)By default the additional overlap time will be 1 min i.e. 
60 seconds. 
b)Maximum additional overlap time which can be configured 
will be 5 mins i.e. 300 seconds. 
c)If the user wants the additional overlap time greater than
1 min i.e. 60 seconds and less than or equal to 5mins i.e.
300 mins, then he should follow the below steps.

Please find below the steps to configure this additional 
overlap time on SAP side:
• Go to transaction code SE16.
• Enter the table name as '/IBMMON/ITM_CNFG' and press 'F7'.
• Execute the database table '/IBMMON/ITM_CNFG' or press 'F8'.
• Add the additional overlap time parameter as ‘MAI_PERD_OV’
in the database field 'ITM Configuration Parameters' and 
then add the additional overlap time in seconds in the 
database field 'VALUE_INT' and save it.


2.4 Superseded fixes
---------------------
7.1.1-TIV-ITM_SAP-FP0001
7.1.1-TIV-ITM_SAP-IF0001

-------------------------

2.5 APARS, Defects and Enhancements included from superseded fixes
------------------------------------------------------------------
This section contains list of defects fixed / enhancements made in 
previous releases. To get more details on these changes please refer
the README for that particular release.

--------------------------------
7.1.1-TIV-ITM_SAP-FP0001
--------------------------------


APAR: IV60177
Abstract: TEPS DISPLAYS ALERT TIMESTAMP AS UTC 
Additional Information: MAI Alerts stored in the database table
'/IBMMON/ITM_ALIX' are in the UTC format.So while fetching 
such MAI Alerts, conversion from UTC time zone to current 
system time zone is required.

APAR: IV60254
Abstract: 'TRANSACTION PERFORMANCE' AND 'R/3 TRANSACTION PERFORMANCE'
MODULES ARE NOT SENDING DATA FOR HDC 
Additional Information: Code has been changed in Transaction
performance logic which creates 'KSATRANS' file to display
historical data on TEP for Transaction performance.

APAR: IV60989
Abstract: EMPTY WORKSPACE FOR BUSINESS PROCESS MONITORING AND
SYSTEMMONITORING IN TEP
Additional Information: Code changes have been done to handle
exceptions for the SAP standard DSWP_BPM_SOLUTION_ID_CONVERT 
function module and for the /IBMMON/ITM_MAIBP_MONITORING 
MAI BPM function module.

APAR: IV61450
Abstract: REMOVE PERIOD START/END ATTRIBUTES OF XML MESSAGE LOGS 
Additional Information: The attributes 'Period Start' and 'Period
End' are used by the agent internally and aren't helpful
to customer in anyway. In order to hide them from attribute 
view, the 'USAGE' and 'COST' tags have been set to appropriate
values. Also, the queries that define the attribute view have
been modified to remove the 'Period Start' and 'Period End'
attributes. 

APAR: IV59319
Abstract: SAP AGENT NOT PICKING UP ALERTS FROM SOLUTION MANAGER 
Additional Information: This is DOC APAR and the third Party OS 
command adapter should be configured and mail notification 
should be enabled using appropriate steps. 

Defect: 53372
Abstract: Unable to start SAP Agent when candlehome contains ‘SAP’
word.
Additional Information: Post install script ignores variables
containing 'SAP' keyword and they are not included in 'ksaenv'
file. When CANDLEHOME and JAVAHOME contained 'SAP' keyword,
they were ignored as well resulting in failure to start 
ksaagent.

Defect: 49745
Abstract: Agent doesn't read syslog.idx file correctly
Additional Information: SAP agent read '<SID>_syslog.idx' incorrectly
leading to corrupt '.idx' file. This resulted in system log not
getting detected sometimes.
Note: This issue is reproducible only with multi instance SAP
system. 

Defect: 47233
Abstract: Test connection utility is not working on windows as
designed for application server mode.
Additional Information: With the new NWRFC library, 'Gateway Host' 
and 'Gateway service' are not required while creating a RFC
connection with the SAP server. So, these fields have been 
removed from the agent configuration panel. 

Defect: 45898
Abstract: R/3 action link of ‘Close Alert’ and ‘Close Alerts of the
same type’ are missing in ‘Alert Information’ view of CCMS
monitoring workspaces.
Additional Information: The workspace has been modified to create the
two missing links. Also, the code on the SAP side has been 
fixed to correct the close alert mechanism. 

Enhancement: 44620
Abstract: Netweaver RFC support added for SAP Agent common
layers.
Additional Information: Netweaver RFC v7.20 support has been added.
Communication with SAP system will now happen using the NWRFC
library instead of the Classic RFC library. 

Enhancement: 44663
Abstract: Logging of SAP 'Component Version Id' and 'Interim Fix Id'
in the agent log file.
Additional Information: SAP 'Component Version Id' and 'Interim Fix
Id' are returned as additional parameters by the 
'/IBMMON/ITM_FUNC_PARMS' function module and can be viewed in
the agent logs with minimum trace level enabled.

Enhancement: 45911
Abstract: Facilitate remote connection of type 'Internal Connection',
'Connections via ABAP driver' and 'TCP/IP' Connections defined
in SAP server.
Additional Information: This link has been provided from the 'Test
Connection' link in the 'Connection Monitoring' workspace to 
check the status of a remote connection on demand.

Enhancement: 45973
Abstract: Facilitate single Unicode ITM file containing both BADI and
non-BADI objects. 
Additional Information: Single ITM file has been provided to import
the SAP Agent transport on all supported SAP versions having 
BADI or non-BADi implementation.

--------------------------------
7.1.1-TIV-ITM_SAP-IF0001
--------------------------------

APAR: IV53685
Abstract: TRANSPORT IMPORT FAILS FOR ITM_CONN_CHECK FUNCTION MODULE.
Additional Information: 711 GA transport fails with ABAP dump for the
/IBMMON/ITM_CONN_CHECK function module. Because of this, the 
data is not collected and displayed on the Tivoli Enterprise
Portal for some attribute groups, and the dumps are generated 
on SAP side.

APAR: IV52434
Abstract: ATTRLIB MISSING SLASH IF INSTANCE IS CREATED USING 
ADDSYSTEM. 
Additional Information: Because of the missing slash in ATTRLIB 
field name, the agent is configured incorrectly that hampers 
the agent functionality and Historical Data Collection (HDC). 
This problem occurs when the SAP agent instance is created by 
using the tacmd Addsystem command, and the same instance is 
reconfigured.

APAR: IV51184
Abstract: FUNCTION MODULE "/IBMMON/ITM_SYS_LOG" GENERATING ABAP 
DUMP.
Additional Information: The "IBMMON/ITM_SYS_LOG" function module is 
invoked every 10 minutes and it generates ABAP dumps.
"/IBMMON/ITM_SYS_LOG" function module was called with 
"ITM_R3_LOG_RECORD" parameter. This parameter is not defined. 
The Syslog information is available from INS and GRP subnodes,
however, problem occurs only while collecting the data for 
:GRP subnode.

APAR: IV47613
Abstract: ABAP DUMPS DUE TO OVERFLOW IN /IBMMON/ITM_CCMS_ALERTS 
(ALERT UNIQUE ID). 
Additional Information: Added a new attribute named 
'Extended Alert Unique Identifier' to hold bigger alert unique 
identifier. The extended alert unique identifier attribute is 
used to close an alert in the SAP system.

Defect: 43177 
Abstract: Data is not coming for ‘ITM_USER_INFORMATION’ for ':Sys' 
node.
Additional Information: The code considered only the 'INS' node.
Therefore, the user information link in the 'SYS' node did not
receive any data. 

Defect: 43075 
Abstract: 'No Applicable data' seen for CCMS Monitoring on ALL Grp 
node along with 9911 alert in second call of agent in case of 
CEN configured SAP.
Additional Information: When retrieving alerts for the first call of
the new CCMS design for GRP node in case of Central (CEN) 
system, 'No Applicable Data' is displayed on the Tivoli 
Enterprise Portal. The second call of the agent was 
generating a 9911 alert.

Defect: 42393 
Abstract: Argument column in "Lock Information" is showing invalid 
data.
Additional Information: Lock argument of locked object shows string 
'[][][][][][][]' on the Tivoli Enterprise Portal, when all 
possible fields are responsible for locking that object. 

Defect: 42317
Abstract : Delete transport unable to delete reference of agent BADI
class from MAI configured SAP system. 
Additional Information: BADI delete transport must be able to 
delete all relevant BADI classes and implementations from the 
system where BADI is imported.

Defect: 40637 
Abstract: Exception condition "ITM-NOT_FOUND" raised in case syslog
records are not found at SAP side. 
Additional Information: If particular syslog details are not present 
on the SAP system, then while accessing syslog details using 
sys_detail link on the Tivoli Enterprise Portal, a "Exception 
condition 'ITM-NOT FOUND' raised" short dump is generated on 
the SAP side and a blank screen is displayed on the Tivoli 
Enterprise Portal.

Defect: 39686 
Abstract: Syslog causing ABAP dump for Group Sub Node. 
Additional Information: For the logs and traces attribute group of 
the GRP node, exceptions are raised. 

Defect: 39681 
Abstract: Data is missing for many columns of ITM_JOBS. 
Additional Information: Data is not displayed for many columns of 
ITM_Jobs.

Defect: 39007 
Abstract: "No applicable Data" row should be seen on TEP for system 
log under system name. 
Additional Information: If there is no data for the "System Log" 
workspace, then, "No applicable data" must be displayed in the 
System Name column. 

Defect: 38998 
Abstract: Unable to interpret X as a number in function module
/IBMMON/ITM_HOSTS. 
Additional Information: If the SAP system contains more than 9 
application servers (RFC servers), the "Unable to interpret * 
as a number" message is displayed in the /IBMMON/ITM_HOSTS 
function module.

Defect: 38995 
Abstract: Tivoli SAP agent causing dump in SAP on UNIX server. 
Additional Information: If an exception occurred while reading job 
log, the /IBMMON/ITM_JOB_LOG function module is terminated. 

Defect: 38903 
Abstract: IDOC Number not included in the Display item. 
Additional Information: The "IDOC Number" is not available to use 
as a display item in situations. 

Defect: 38251 
Abstract : Data is getting fetched for invalid sub-nodes.
Additional Information: Data must be returned only for the sub node 
that is called; data must not be returned for other irrelevant
sub nodes. Call from the agent gives ITM_MGROUP or Origin node 
as input to most of the function modules that contain the node 
details.

Enhancement: 38724
Abstract: "Client" column is required for ITM_IDOC workspace to 
differentiate the respective client's data. 
Additional Information: Added a "Client" column in the 
"IDOC Information" view of the "Data Transfer Information" 
workspace. The “Client” column shows the client name for the 
respective data of client.


3.0 Architecture and prerequisites
===================================
This Fix Pack is supported on all operating systems listed in the IBM
Tivoli Composite Application Manager Agent for SAP Applications
Installation and Configuration guide, Version 7.1.1 Fix Pack 1:
Link:
http://www-01.ibm.com/support/knowledgecenter/SS3JRN_7.2.1.1/com.ibm.itcama.doc_7.2.1.1/sap/sap_landing_install.html [http://www-01.ibm.com/support/knowledgecenter/SS3JRN_7.2.1.1/com.ibm.itcama.doc_7.2.1.1/sap/sap_landing_install.html]

The following website contains the latest certification information:
Software Product Compatibility Reports (SPCR)
http://publib.boulder.ibm.com/infocenter/prodguid/v1r0/clarity/index.html [http://publib.boulder.ibm.com/infocenter/prodguid/v1r0/clarity/index.html]

You can also find system requirements for ITCAM for Applications V7.2.1
Fix Pack 1 at:
http://www-01.ibm.com/support/knowledgecenter/SS3JRN_7.2.1.1/com.ibm.itcama.doc_7.2.1.1/prerequisites/apps7211_systemreqs.html [http://www-01.ibm.com/support/knowledgecenter/SS3JRN_7.2.1.1/com.ibm.itcama.doc_7.2.1.1/prerequisites/apps7211_systemreqs.html]

ITCAM for Applications 7.2.1.1 Knowledge Center:
http://www-01.ibm.com/support/knowledgecenter/SS3JRN_7.2.1.1/com.ibm.itcama.doc_7.2.1.1/welcome_apps7211.html [http://www-01.ibm.com/support/knowledgecenter/SS3JRN_7.2.1.1/com.ibm.itcama.doc_7.2.1.1/welcome_apps7211.html]

3.1 Prerequisites for this fix
------------------------------
The prerequisite level for this fix is as follows:
- IBM(R) Tivoli(R) Composite Application Manager Agent for SAP
Applications, Version 7.1.1 Fix Pack 0001

7.1.1 Fix Pack 0001 ISO Part Number:
Physical Part Number: ITCAM Agent for SAP Applications CBHU9ML
Electronic Part Number: ITCAM Agent for SAP Applications CN0MJML 

Customer need to download separately 7.1.1 Fix Pack 0001 GA ISO 
image from Passport Advantage.


- IBM Tivoli Monitoring, Version 6.2.3 FP3 

Because this fix is cumulative, it can be installed on any fix level
for this version, release, and modification level later than the
prerequisite.


4.0 Image directory contents
=============================
This fix image contains the following files:
- 7.1.1.1-TIV-ITM_SAP-IF0001.README - This README file
- 7.1.1.1-TIV-ITM_SAP-IF0001.tar - Fix archive .tar format
- 7.1.1.1-TIV-ITM_SAP-IF0001.zip - Fix archive .zip format

Note: The .tar and .zip files are identical in content. Use the .tar
file if you are working in a UNIX environment; use the .zip file if
you are working in a Windows environment.


5.0 Installation instructions 
=============================

This fix can only be installed over an existing installation of
711 FP0001. Use the following steps to install this fix.

5.1 Before installing the fix 
-----------------------------
- The prerequisites listed under section 3.1 entitled 'Upgrade 
Prerequisites for this fix' must be installed when for upgrade.

- For the purpose of this README, the <CANDLEHOME> symbol is the 
IBM Tivoli Monitoring installation directory. The default value
for CANDLEHOME is '/opt/IBM/ITM' on UNIX systems and 'C:\IBM\ITM'
on Windows systems.

- Before installing this interim fix on UNIX systems, set the CANDLEHOME 
environment variable to the IBM Tivoli Monitoring installation
directory.

For example: 
> CANDLEHOME=/opt/IBM/ITM
> export CANDLEHOME

- Because there is no uninstall utility for this interim fix, be sure to
perform a backup of your environment before installing this fix.

5.2 Local agent update
--------------------------
1. Transfer the appropriate archive file
(7.1.1.1-TIV-ITM_SAP-IF0001.tar or .zip) to a temporary
directory on the system that contains the agent to be updated.
For the purpose of this README, the <TEMP> symbol represents the
fully qualified path to this directory. Note: On Windows systems,
this path includes the drive letter.

2. Expand the archive file using the "tar" command on UNIX systems
or an extract utility on Windows systems. This step creates a
directory structure that contains fixes for all supported
operating systems.

3. Use the "itmpatch" command to install the fix for the operating
system for that agent. For more information on the "itmpatch" 
command, see section [6.2]. 

On UNIX systems, if the fix was expanded to 
<TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001, the install command is:

> <TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001/itmpatch -h <CANDLEHOME> 
-i <TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001/ksa_xxxxxx_tema_if0001.tar

where:
- xxxxxx corresponds to the value in the first column 
returned by the ./cinfo -i command. 

In the following example, the file is 
"ksa_li6263_tema_if0001.tar".
> ./cinfo -i
[Monitoring Agent for Your Product]
[lx8266 Version: 07.11.01.01] 

On Windows systems, if the fix was expanded to 
<TEMP>\7.1.1.1-TIV-ITM_SAP-IF0001, the install command is:

For Windows 32-bit
> <TEMP>\7.1.1.1-TIV-ITM_SAP-IF0001\itmpatch -h <CANDLEHOME> 
-i <TEMP>\7.1.1.1-TIV-ITM_SAP-IF0001\ksa_winnt_tema_if0001.cab

For Windows 64-bit 
> <TEMP>\7.1.1.1-TIV-ITM_SAP-IF0001\itmpatch -h <CANDLEHOME> 
-i <TEMP>\7.1.1.1-TIV-ITM_SAP-IF0001\ksa_wix64_tema_if0001.cab

Note: if the itmpatch command gets this error:
"The application has failed to start because its side-by-side
configuration is incorrect. Please see the application event
log for more detail." it's necessary install the "visualstudio
redistribution package" before to run the itmpatch command.

For a 32bit architecture,
the name of this package is vcredist_x86.exe, available at
http://www.microsoft.com/en-us/download/details.aspx?id=5582 [http://www.microsoft.com/en-us/download/details.aspx?id=5582]

For a 64bit architecture,
the name of this package is vcredist_x64.exe,available at 
http://www.microsoft.com/en-us/download/details.aspx?id=2092 [http://www.microsoft.com/en-us/download/details.aspx?id=2092]


5.3 Remote agent update
----------------------------
1. Transfer the appropriate archive file 
(7.1.1.1-TIV-ITM_SAP-IF0001.tar or .zip) to a temporary
directory on the IBM Tivoli Enterprise Monitoring Server system.
For the purpose of this README, the <TEMP> symbol represents the
fully qualified path to this directory. Note: On Windows systems,
this path includes the drive letter.

2. Expand the archive file using the "tar" command on UNIX systems 
or an extract utility on Windows systems. This step creates a 
directory structure that contains fixes for all of the supported
operating systems.

3. To add the agent fix bundles into the remote deploy depot, use
the "tacmd addBundles" command found in $CANDLEHOME/bin on UNIX
systems or in %CANDLE_HOME%\bin on Windows systems. For more 
information on the "tacmd addBundles" command, see the IBM Tivoli
Monitoring Command Reference.

On UNIX systems, 
if the fix was expanded to <TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001:
> $CANDLEHOME/bin/tacmd addBundles -n -i 
<TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001 

On Windows systems, 
if the fix was expanded to <TEMP>\7.1.1.1-TIV-ITM_SAP-IF0001:
> %CANDLE_HOME%\bin\tacmd addBundles -n -i 
<TEMP>\7.1.1.1-TIV-ITM_SAP-IF0001 

where:
-n indicates that prerequisite bundles are not automatically
added. The -n parameter must be used because the fix 
directory does not contain any prerequisites that the fix
might require. See Section 3.1 for the prerequisites
for this fix.
-i is the directory that contains the deployment bundles to be
added to the depot. 

4. After "tacmd addBundles.." from step 3 above, control files
on the Tivoli Enterprise Monitoring Server and the
Tivoli Enterprise Portal Server must be updated.
These updates must be done manually.

a. Tivoli Enterprise Monitoring Server update
The sa_dd_07110101.xml and sa_dd.properties files must be
copied from the <TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001
directory to the 071001000 version of the Tivoli Enterprise
Monitoring Services depot.

Two scripts are provided to make these copies and are 
in the fix <TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001 directory
after the expansion of the tar or zip file:

ksa_patchdepot.bat - Windows
ksa_patchdepot.sh - UNIX

From the <TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001 directory,
run the appropriate script based on the operating system. The
script output contains details about the copies being made.

b. Tivoli Enterprise Portal Server update
Resource files must be copied from the
<TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001 directory to the
Tivoli Enterprise Monitoring Portal directory.

Two scripts are provided to make these copies and are 
in the fix <TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001 directory
after the expansion of the tar or zip file:

ksa_patch_resource_teps.bat - Windows
ksa_patch_resource_teps.sh - UNIX

From the <TEMP>/7.1.1.1-TIV-ITM_SAP-IF0001 directory,
run the appropriate script based on the operating system. The 
script output contains details about the copies being made.

5. To log in to the Tivoli Enterprise Monitoring server, and deploy
the fix to the appropriate nodes where the agent is running, use
the following "tacmd" commands. For more information on the 
"tacmd login" and "tacmd updateAgent" commands, see the IBM 
Tivoli Monitoring Command Reference.

On UNIX systems: 
> $CANDLEHOME/bin/tacmd login -s <server>
-u <itmuser> 
-p <password>

> $CANDLEHOME/bin/tacmd listSystems

The output shows the Managed System Name for the OS agent on the
remote system to be updated. Use this value as the target of the
"tacmd updateAgent" command.

> $CANDLEHOME/bin/tacmd updateAgent -t sa 
-n <Managed system name>
-v 07110101

On Windows systems:
> %CANDLE_HOME%\bin\tacmd login -s <server>
-u <itmuser> 
-p <password>

> %CANDLE_HOME%\bin\tacmd listSystems

The output shows the Managed System Name for the OS agent on the
remote system to be updated. Use this value as the target of the
"tacmd updateAgent" command.

> %CANDLE_HOME%\bin\tacmd updateAgent -t sa 
-n <Managed system name> 
-v 07110101

Note:
- The component (-t) for the "tacmd updateAgent" command is 
specified as two characters (sa), not three characters (ksa).
- The node (-n) for the "tacmd updateAgent" command is the 
managed system name of the operating system (OS) agent to be 
updated. The target node for the "tacmd updateAgent" command 
is always an OS agent.

5.4 Agent support update
------------------------------
Use the following steps to update the Tivoli Enterprise Monitoring
Server, Tivoli Enterprise Portal Server, or Tivoli Enterprise Portal
Desktop. 
Note: If SDA feature is enable at the HUB TEMS, then below steps are
are not required. SDA will install only browser support and if
customer is using TEP Desktop then install the support manfully
as shown below.

This fix (7.1.1.1-TIV-ITM_SAP-IF0001) includes changes to the
agent support files that must be installed. If you installed these
updates, there are no additional installation steps. If you did not
install these updates, use the following steps to update the Tivoli
Enterprise Monitoring Server, Tivoli Enterprise Portal Server, or
Tivoli Enterprise Portal Desktop.

1. Transfer the appropriate archive file
7.1.1.1-TIV-ITM_SAP-IF0001.tar or .zip) to the Tivoli
Enterprise Monitoring Servers, Tivoli Enterprise Portal Servers,
or Tivoli Enterprise Portal Desktops. 

2. Expand the archive file using the "tar" command on UNIX systems
or an extract utility on Windows systems. This step creates a 
directory structure that contains fixes for all of the supported
platforms.

3. Expand the archive file (ksa_tems_teps_tepd_if0001.tar or .zip)
that contains the updates for the Tivoli Enterprise Monitoring 
Server, Tivoli Enterprise Portal Server, and Tivoli Enterprise 
Portal Desktop using the "tar" command on UNIX systems or an 
extract utility on Windows systems. This step creates a directory
structure that includes a subdirectory called CD-ROM, with the
necessary updates.

4. Use the Application Support Installer(ASI) GUI or the silent
installation method to install the application support files. 

GUI installation option
------------------------
The GUI can be started by using one of the following commands
from within the CD-ROM directory where setup.jar is located. 

On UNIX systems:
> ./itmasi.sh [-h <CANDLEHOME>] [-j <JAVAHOME>] 

On Windows systems:
> itmasi [-h <CANDLEHOME>] [-j <JAVAHOME>] 

When prompted by the Application Support Installer for the 
installable media directory, select the CD-ROM directory, not the
component directory. The installer can install updates for 
multiple components at the same time.

Note: For IBM Tivoli Monitoring Version 6.3 or above, one 
of the following additional steps must be performed.

1. Aquire a platform-specific pre-packaged JRE version 
of the Application Support Installer (ASI). See IBM 
Tivoli Monitoring Application Support Installer, 
6.2-tiv-itm_asi-if0002 at 
http://www-01.ibm.com/support/docview.wss?uid=swg24034924 [http://www-01.ibm.com/support/docview.wss?uid=swg24034924]
for download and installation instructions.

2. Specify the '-j javahome' parameter with the path to 
a 32-bit java(r) 1.5 or java 1.6 installation when running 
the itmasi.sh or itmasi.bat script described below. 

5. The next panel presented by the Application Support Installer 
asks for the selection of Tivoli Monitoring components to which 
you want to add application support. For this fix, check or 
clear the check boxes as follows:

[checked | unchecked] - Tivoli Enterprise Monitoring Server (TEMS)
[checked | unchecked] - Tivoli Enterprise Portal Server (TEPS)
[checked | unchecked] - Tivoli Enterprise Desktop Client (TEPD)

Continue through the remaining GUI panels selecting SAP Agent
07.11.01.01 support to complete the installation.

6. If the Tivoli Enterprise Portal Desktop or Tivoli Enterprise 
Portal Browser was running when the update was installed, it must
be restarted.

7. If the Tivoli Enterprise Monitoring Server being updated is remote
(not a Hub Tivoli Enterprise Monitoring Server) then restart the 
Tivoli Enterprise Monitoring Server.

5.5 Installing SAP agent transport
------------------------------------
Note: From this fix onwards,a single ITM file has been provided for
importing SAP transport on all supported SAP versions having BADI or
non-BADI implementation.

This procedure installs the SAP transport into the SAP system. You
are not required to uninstall the previous transport before
installing this transport.

1. Go to the ABAP directory in the location where you expanded the
fix archive file.

2. Copy the transport files into the SAP environment as follows: 

a. The following two sets of transport files are in the 
ABAP directory of the SAP agent fix archive:

1) K711_00103U.ITM and R711_00103U.ITM in /ABAP directory.
These files are Unicode versions of the transport. 

2) K711_00103_DELETE.ITM and R711_00103_DELETE.ITM
These transport files remove the ABAP code. Do not import
the DELETE transport unless you stop using the product 
entirely and want to remove the transports from your SAP
systems.

b. Copy your transport files to the SAP Transport System data
directory as follows:

1) Copy the K711_00103U.ITM file to the cofiles directory.
2) Copy the R711_00103U.ITM file to the data directory.

3. Run the following command for non-BADI and BADI where:
SID Target SAP : system ID
PROFILE_NAME : Name of the tp profile file
nnn : Number for the target client where the agent is to run

tp addtobuffer ITMK711_00103U SID
pf=\usr\sap\trans\bin\PROFILE_NAME
tp import ITMK711_00103U SID client=nnn U16
pf=\usr\sap\trans\bin\PROFILE_NAME


Alternately, you can use the SAP STMS transaction to import the
transport requests. Ensure that the Import Transport Request Again 
and the Overwrite Objects in Unconfirmed Repairs options are 
checked on the Import Options tab of the Import Transport Request
window.


6.0 Additional installation information
========================================

6.1 Installation instructions for agent baroc file
------------------------------------------------------
This fix (7.1.1.1-TIV-ITM_SAP-IF0001) includes changes to the
agent baroc files that must be reinstalled. If you have already
installed these baroc files, there are no additional installation
steps. If you have not installed the files, see the "IBM Tivoli
Monitoring, Version 6.2.2FP2: Installation and Setup Guide" 
(ITM6.2.2FP2 Installation and Setup Guide.pdf) under 
"Installing monitoring agent baroc files on the event server" in the
"Installing the IBM Tivoli Enterprise Console Event Synchronization" 
section for more information.

6.2 Additional information on using the itmpatch command
---------------------------------------------------------
The itmpatch command has the following syntax.

Usage: itmpatch -h <installation home> [OPTIONS]

itmpatch -h <installation home>
-t { <patch_file_directory> | <patch_file> }

itmpatch -h <installation home>
-i { <patch_file_directory> | <patch_file> }

where:

-h Specifies the IBM Tivoli Monitoring installation directory
-i Specifies the path to the directory or patch file to be installed
-t Generates a report of the actions to be taken by the patch

For example, on UNIX systems:
- To preview the fix installation, use the "-t" option:
> <CANDLEHOME>/bin/itmpatch -h <CANDLEHOME> -t <TEMP>

- To install the fix, use the "-i" option:
> <CANDLEHOME>/bin/itmpatch -h <CANDLEHOME> -i <TEMP>

where: 
<CANDLEHOME> is the fully qualified IBM Tivoli Monitoring 
installation directory. On Windows systems, this path must include
the drive letter.
<TEMP> represents the fully qualified directory specification, 
where the fix is located. On Windows systems, this path must 
include the drive letter.

6.3 Verifying the update
------------------------
1. To verify that the agent was updated correctly, use the tacmd
command to view the current version of the agent after the agent
is restarted. You are required to log in to a Tivoli Enterprise
Monitoring Server before viewing the agent version.

For example:
On UNIX systems, where $CANDLEHOME is the IBM Tivoli Monitoring
installation directory. The default location is '/opt/IBM/ITM'.

> $CANDLEHOME/bin/tacmd login -s <server>
-u <itmuser>
-p <password>
> $CANDLEHOME/bin/tacmd listSystems -t sa

On Windows systems, where %CANDLE_HOME% is the IBM Tivoli
Monitoring installation directory. The default location
is 'C:\IBM\ITM'.

> %CANDLE_HOME%\bin\tacmd login -s <server>
-u <itmuser>
-p <password>

> %CANDLE_HOME%\bin\tacmd listSystems -t sa

Note:
- The component (-t) for the tacmd listSystems command is
specified as two characters (sa), not three characters (ksa).

When the agent update is successful, the agent version is 
07.11.01.01

Note:
- The component (-t) for the tacmd listSystems command is
specified as two characters (sa), not three characters (ksa).

When the agent update is successful, the agent version is 
07.11.01.01

After the agent is restarted, you can also use the GUI to verify
that the agent was successfully updated.

For the agent on Windows systems, the version number is
07.11.01.01
For the agent on UNIX systems, the version number is
07.11.01.01

2. To verify that the agent support files were updated correctly,
use the kincinfo command on Windows systems or the cinfo command
on Linux(R) or UNIX systems. The sample output below shows the
versions of the Tivoli Enterprise Portal Server, Tivoli Enterprise
Monitoring Server, or Tivoli Enterprise Portal Desktop systems 
after this fix has been successfully applied.

Note:
- The date of the build displayed might not be accurate. This is
a known problem.

On Linux systems:
--------------------
To validate that all components have been installed, run the
following command:

For example: 
> %CANDLE_HOME%/bin/cinfo -i

Note: cinfo output may differ depending on ITM version.

*********** Fri Dec 5 10:14:10 IST 2014 ******************
User: root Groups: root bin daemon sys adm disk wheel pkcs11
Host name : IBMSAP1V9 Installer Lvl:06.23.03.00
CandleHome: /opt/ibm
***********************************************************
...Product inventory

ax IBM Tivoli Monitoring Shared Libraries
li6263 Version: 06.23.03.00

gs IBM GSKit Security Interface
li6243 Version: 07.40.43.00

jr Tivoli Enterprise-supplied JRE
li6263 Version: 06.12.00.00

sa IBM Tivoli Composite Application Manager Agent for SAP 
Applications
li6263 Version: 07.11.01.01

ue Tivoli Enterprise Services User Interface Extensions
li6263 Version: 06.23.03.00

ui Tivoli Enterprise Services User Interface
li6263 Version: 06.23.03.00


7.0 Known problems and workarounds
===================================

Abstract: While configuring the agent instance on UNIX, more than 3 
letters are accepted as instance ID. 
Problem: Three letters are accepted as Instance ID while configuring 
agent instance on UNIX. This can result in failure to connect
to the SAP system as the ".cfg" file for that instance will
be generated with a wrong name.
Workaround:
The user should make sure that only three lettered name is 
entered as the instance ID while configuring an agent instance. 


8.0 Additional product information
==================================

ABAP Transport Compatibility:
------------------------------
Each fix includes an updated agent executable
program (ksaagent or ksaagent.exe) and an updated ABAP transport.
Install both programs to obtain the highest level of support.

In some situations, you cannot install
a new transport immediately because of change control processes on the
mySAP systems. In these situations, sometimes you can run a new agent
executable with a prior version of the ABAP transport. This section 
explains when it is possible to run a newer agent executable program
with an older version of an ABAP transport.

Note: The mySAP agent does not run correctly if not installed with
a compatible level of the transport.

Fix Level Delivered Transport Minimum Transport Level
----------- ------------------- -----------------------
FP0001-IF0001 ITMK711_00103U ITMK710_00103U
FP0001 ITMK711_00100U ITMK711_00100U
IF0001 ITMK711_00099U ITMK711_00098U
711 GA ITMK711_00098U ITMK711_00098U


9.0 Copyright and trademark information:
================================== 
A current list of IBM trademarks is available on the Web at "Copyright
and trademark information" at www.ibm.com/legal/copytrade.shtml.


10.0 Notices
=======
INTERNATIONAL BUSINESS MACHINES CORPORATION PROVIDES THIS PUBLICATION
"AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
Some jurisdictions do not allow disclaimer of express or implied
warranties in certain transactions, therefore, this statement may not
apply to you.

This information could include technical inaccuracies or typographical
errors. Changes are periodically made to the information herein; these
changes will be incorporated in new editions of the publication. IBM
may make improvements and/or changes in the product(s) and/or the
program(s) described in this publication at any time without notice.

Microsoft, Windows, and Windows Server are trademarks of Microsoft
Corporation in the United States, other countries, or both. 

Java and all Java-based trademarks and logos are trademarks or
registered trademarks of Oracle and/or its affiliates. 

UNIX is a registered trademark of The Open Group in the United States 
and other countries.

Linux is a registered trademark of Linus Torvalds in the United States,
other countries, or both.

Other company, product, or service names may be trademarks or service
marks of others.

Third-Party License Terms and Conditions, Notices and Information
-----------------------------------------------------------------
The license agreement for this product refers you to this file for
details concerning terms and conditions applicable to third party
software code included in this product, and for certain notices and
other information IBM must provide to you under its license to
certain software code. The relevant terms and conditions, notices and
other information are provided or referenced below. Please note that
any non-English version of the licenses below is unofficial and is
provided to you for your convenience only. The English version of the
licenses below, provided as part of the English version of this file,
is the official version.

Notwithstanding the terms and conditions of any other agreement you
may have with IBM or any of its related or affiliated entities
(collectively "IBM"), the third party software code identified below
are "Excluded Components" and are subject to the following terms and
conditions:

- the Excluded Components are provided on an "AS IS" basis
- IBM DISCLAIMS ANY AND ALL EXPRESS AND IMPLIED WARRANTIES AND
CONDITIONS WITH RESPECT TO THE EXCLUDED COMPONENTS, INCLUDING, BUT
NOT LIMITED TO, THE WARRANTY OF NON-INFRINGEMENT OR INTERFERENCE
AND THE IMPLIED WARRANTIES AND CONDITIONS OF MERCHANTABILITY AND
FITNESS FOR A PARTICULAR PURPOSE
- IBM will not be liable to you or indemnify you for any claims
related to the Excluded Components
- IBM will not be liable for any direct, indirect, incidental,
special, exemplary, punitive or consequential damages with respect
to the Excluded Components. 


INSTALLATION INSTRUCTIONS
Please refer to the 7.1.1.1-TIV-ITM_SAP-IF0001.README contained in the description section above for general installation instruction

DOWNLOAD PACKAGE
Please refer to the 7.1.1.1-TIV-ITM_SAP-IF0001.README contained in the description section above for general installation instructions


PROBLEMS SOLVED
IV63525; IV60733




Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 
What is Fix Central(FC)? [https://www.ibm.com/support/fixcentral/help?page=swfaqs] Fix Central Download Link 31 Dec 2014 English 89354240 FC [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Composite+Application+Manager+for+Applications&fixids=7.1.1.1-TIV-ITM_SAP-IF0001&source=SAR] [ ] 
PRODUCT ALIAS/SYNONYM
 7.1.1.1-TIV-ITM_SAP-IF0001 

 [/support/docview.wss?uid=swg24039150&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24039150&aid=2]Problems (APARS) fixed
IV63525, IV60733