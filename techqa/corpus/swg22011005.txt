Title: IBM Collecting data for Web GUI 8.1 Load Balancing - United States

Text:
Web GUI; HA; Load balancing TECHNOTE (FAQ)

QUESTION
 Which data items should I collect when opening a case involving load balancing (HA) in Web GUI 8.1? 

ANSWER
Provide the following information:
1. Versions

Full name and version of Operating System

Full version of DB2

Full version of IBM HTTP Server (if used)

Full version of Web GUI

2. Gather the hostname and IP of all servers in the load balancing clusters.

3. For each node, increase logging for HA via the WebSphere Administrative Console

a. On the Navigation tree, go to Troubleshooting
b. Go to Logs and Trace.
c. Click Server1.
d. Click Change Log Detail Levels
e. Add the following traces to the traces string.
com.ibm.isc.ha.*: com.ibm.tivoli.ncw.*=finest: com.micromuse.dash.*=finest: com.micromuse.ncw.*=finest: com.micromuse.wave.*=finest
f. Apply and Save

4. Stop DASH on all nodes.

6. Archive/clear existing logs under JazzSMHOME/profile/logs/[ncw|server1|ffdc], so to capture a clean set.

7. Start DASH on all nodes.

8. Test 1: DASH replication works

On Node1, create a new page and save it.
On Node2, wait a few seconds and try to open the new page.
On Node2, delete the new page.
On Node1, wait a few seconds and check the page is gone.

9. Test 2: WebGUI replication works

On Node1, create a new filter.
On Node2, open the filter builder and see whether the new filter is displayed.

Provide:
• the name of the server
• the timestamp when the filter is created
• filter name and category

Run the following SQL form DB2 and send the output.

select * from OMNIBUS_WEB_GUI.CONFIG_ITEMS where key='filter' and type='xml
select * from OMNIBUS_WEB_GUI.NODES
select * from OMNIBUS_WEB_GUI.NODES_CONFIG_ITEMS where CONFIG_ITEM_ID in (select CONFIG_ITEM_ID from OMNIBUS_WEB_GUI.CONFIG_ITEMS where key='filter' and type='xml')

On Node2, delete the filter.
On Node1, wait a few seconds and check the filter is gone.

10. Stop DASH on all nodes.

11. Gather the following logs and config files:

All logs under JazzSMHOME/profile/logs
WEBGUI_HOME/etc
JazzSMHOME/profile/config/cells/JazzSMNode01Cell/nodes/JazzSMNode01/servers/server1/resources.xml
JazzSMHOMEprofile/installedApps/JazzSMNode01Cell/isc.ear/OMNIbusWebGUI.war/META-INF/persistence.xml
JazzSMHOME/profile/properties/ssl.client.props
JazzSMHOME/profile/config/cells/JazzSMNode01Cell/wim/config/wimconfig.xml
JazzSMHOME/profile/profile/config/cells/JazzSMNode01Cell/nodes/JazzSMNode01/servers/server1/server.xml

12. If the change is not propagated to the other node, restart DASH on that node and check if the changes are propagated or not.

13. Set the logging level back to the original settings when all tests are completed.