Title: IBM ISPF Socket Failure message using CICS CM authenticated port and Pass Tickets - United States

Text:
ndt; signmulti; top secret; topsecret; esm; security; passtickets; acf2 DFHXS1201 5697I7800 R120 5697-I78 5697I78 FMID HCCK120 JCCK12E JCCK12K 5697P0900 5697P0901 R210 5697-P09 5697P09 FMID HCCK210 JCCK21E JCCK21K TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You configured Passticket support for your CICS Configuration Manager for z/OS (CICS CM) server and when you choose option 2 for "CICS Resources" from the CICS CM main panelid CCVPPRIM using an authenticated port you receive ISPF msgid "Socket Failure" in the upper right corner of the panel. 

SYMPTOM
ISPF msgid CCVS032 "Socket Failure" using authenticated port with Passtickets

CAUSE
 

 * Topsecret users are missing the [/support/docview.wss?uid=swg21442929&amp;aid=1]CA Technologies [http://www.ca.com/] Top Secret SIGNMULTI keyword on the Node Descriptor Table (NDT). In this instance, the Pass Ticket support is configured in the CA Top Secret External Security Manager (ESM) but the SIGNMULTI keyword to allow for passticket reuse was not specified.
   
   
 * ACF2 users who have the PTKRESCK option in the ACF2 GSO OPTS record set to ON need to ensure all CICS CM users have access to the ENTITY or resource name defined in the PTKDATA class.

ENVIRONMENT
CICS CM V2.1; CICS Transaction server for z/OS (CICS TS) V3.2; z/OS V1.11; CA Top Secret V14



DIAGNOSING THE PROBLEM
Review the CICS CM server joblog for any security related messages, for example DFHXS1201 [http://publib.boulder.ibm.com/infocenter/cicsts/v4r1/topic/com.ibm.cics.ts.messages.doc/cics_mc/dfhxs/XS1201.html]. 

 

ACF2 users need to review the ACFPTTRV report and check their CLASMAP definition to determine what resource type is associated with PTKTDATA. The ACFRPTRV report will display the associated CLASMAP associated with the resource.


RESOLVING THE PROBLEM
Take the following action for your CA Technologies' product(s): 

 * Topsecret users need to add the SIGNMULTI keyword to the NDT entry for the CICS CM server applid, for example:
   
   TSS ADDTO(NDT) PSTKAPPL(applid) SESSKEY(AAAAAAA) SIGNMULTI
   
   
 * ACF2 users need to review the ACFRPTRV report and create a rule allowing the CICS CM userid to generate a passticket. 

RELATED INFORMATION
#Enable Pass Ticket Processing [http://publib.boulder.ibm.com/infocenter/cicsts/v4r1/topic/com.ibm.cics.cm.doc/ccv-install-passticket.htm]
CICS Configuration Manager for z/OS Support Page [http://www.ibm.com/support/entry/portal/Overview/Software/Other_Software/CICS_Configuration_Manager_for_z~OS]




PRODUCT ALIAS/SYNONYM
 CICS CM CICSCM