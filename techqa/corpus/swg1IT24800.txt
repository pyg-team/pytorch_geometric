Title: IBM IT24800: IBM MQ Appliance reloads unexpectedly when syslog-tcp logging target is enabled. - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  MQ Appliance reloads continuously after enabling a syslog
   logging target. Reload issue is only seen with a logging
   target of type syslog-tcp.
   .
   mqa(config)# show logging target
   logging target: syslogTCP [up]
   -------------------------
    admin-state enabled
    type syslog-tcp
    priority normal
    soap-version soap11
    format text
    timestamp syslog
    fixed-format off
    local-ident L2MQ2
    size 500 kilobytes
    archive-mode rotate
    rotate 3
    ansi-color off
    remote-address x.xx.xxx.xxx
    remote-port 514
    local-address x.xx.xxx.xxx
    facility user
    rate-limit 100 events/second
    connect-timeout 60 seconds
    idle-timeout 15 seconds
    active-timeout 0 seconds
    feedback-detection off
    event-detection on
    suppression-period 10 seconds
    ssl-client-type proxy
    retry-interval 1 seconds
    retry-attempts 1 attempts
    long-retry-interval 20 seconds
    precision second
    event all info
   .
   mqa# show time
       Local time: Fri Apr  6 07:19:31 2018
        Time zone: EDT
   Time zone spec: EST5EDT,M3.2.0/2:00,M11.1.0/2:00
   Uptime: reload: 0 days 00:00:56
   Uptime: reboot: 2 days 19:03:11
   
   
    
   
   

LOCAL FIX
 *  Workaround 1:
   Disable or delete the syslog logging target.
   To disable it:
   mqa(config)# logging target syslogTCP
   mqa(config logging target syslogTCP)# admin-state disabled
   mqa(config logging target syslogTCP)# exit
   Workaround 2:
   Use other type of logging target instead of the syslog type.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Users running MQ appliance versions 9.0.4 and 9.0.5 with syslog
   logging target type syslog-tcp.
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   Enabling syslog logging with target type set to syslog-tcp
   caused a memory exception and this resulted in appliance reload.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The MQ appliance code has been modified to prevent the memory
   exception when this logging target is enabled.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT24800
   
   
 * REPORTED COMPONENT NAME
   IBM MQ APPL M20
   
   
 * REPORTED COMPONENT ID
   5725Z0900
   
   
 * REPORTED RELEASE
   905
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2018-04-20
   
   
 * CLOSED DATE
   2018-06-05
   
   
 * LAST MODIFIED DATE
   2018-06-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   IBM MQ APPL M20
   
   
 * FIXED COMPONENT ID
   5725Z0900
   
   

APPLICABLE COMPONENT LEVELS