Title: IBM Enabling logging for IBM Daeja ViewONE Professional in IBM Content Navigator (ICN) 2.0.2 - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How do you enable the applet viewer logging in ICN 2.0.2? 

ANSWER
In ICN 2.0.2 the ICN logging is enabled via the ICN admin interface but the viewer logging is enabled in two files on the server. 

The client logging appears in the client side Java control panel rather then in a log file so you will need to set your Java console on the client machine to be shown prior to reproducing the problem. 

Java control panel 

For the Java console to be shown please access the Java control panel. 

Under the Advanced tab you should see the Java console hidden by default. Please make sure this is set to "Show Console" during your testing.
[/support/docview.wss?uid=swg21989288&aid=1] [/support/docview.wss?uid=swg21989288&aid=1]

You may be asked to enable any of the three top options in this control panel so please take a note of these for your reference.
If asked for "Full Java logging" this would indicate that you should enable "tracing" "logging" and "Show applet lifecycle exceptions" as part of your log gathering procedure.

Enabling the logging in the ICN system. 

Access your ICN installation admin page via the following URL: http://Servername:port/navigator/?desktop=admin


Log-in using an account which has administration rights. 

Please click on the "Settings" option on the left then the "Logging" tab.
[/support/docview.wss?uid=swg21989288&amp;aid=2]
On this page you will find the logging for ICN.

Generally you will be asked to set the ICN Application logging level to "Information".
Depending on your web application server, the ICN logging generally will be placed in its system log.
e.g. ICN on WebSphere would place the ICN logging in the Sysout.log file and the SysError.log.

[/support/docview.wss?uid=swg21989288&aid=3] [/support/docview.wss?uid=swg21989288&aid=3]


For the viewer logging specifically this is enabled in the following areas.

Client side logging
These are added to the filenetViewer_properties.jsp file generally located in \webApps\navigator\applets.
When you open this file it will generally, by default, look like this:


<% 

response.setHeader("Cache-Control","no-cache"); //HTTP 1.1
response.setHeader("Pragma","no-cache"); //HTTP 1.0
response.setDateHeader ("Expires", 0); //prevents caching at the proxy server
%>
var filenetViewerParameters = {
// annotateEdit: "true",
// annotationTrace: "false",
// annotationUnits: "inches",

// customAnnotationToolTip: " Created By: <creator>, Created On: <createdate>",

// fileButtons: "false",
// fileKeys: "false",
// fileMenus: "false",
// filenetAlwaysRubberband: "true",
// flipOptions: "true",

// helpURL: "",
// invertButtons: "true",

// Photometric: "true",
// printButtons: "true",

// routeDocs: "true",
// scale: "ftow",

};"

To add the tracing parameters you would type them to the end of this file.
For most issues you would need to add:
trace: "true",
traceNet: "true"

So the file will look like:

// routeDocs: "true",
// scale: "ftow",

trace: "true",
traceNet: "true",

};

Your Support person should confirm the logging and traces that will be required.

Server side logging and tracing

These are for streaming and redaction components and are enabled using the iviewpro.streamer.properties or iviewpro.redacttofile.properties files respectively, located in \ECMClient\config. You can define the location of these properties with web.xml in WEB-INF if required:

<context-param>
<param-name>iviewproConfigurationDirectory</param-name>
<param-value>C:\\Program Files (x86)\\IBM\\ECMClient\\config</param-value>
</context-param>

When you open the streamer properties it will look like:

logFile=C:\\Program Files (x86)\\IBM\\ECMClient\\config\\streamer.log
modifiedDocumentCheckMethod=uniqueid
docIdPrototype=${originalDocURL}
cacheRoot=C:\\Program Files (x86)\\IBM\\ECMClient\\config\\cache
signInResource=
sessionCookieList=JSESSIONID

When you open the redaction properties it will look like:

tiffSaveColor=true
emptyBurntDocsOnRestart=true
originalDocURL=${originalDocURL}
logFile=C:\\Program Files (x86)\\IBM\\ECMClient\\config\\redacttofile.log
repositoryType=HTTP
signInResource=
modifiedDocumentCheckMethod=uniqueid
redactionResponseType=statusAndImage
sessionCookieList=JSESSIONID
docIdPrototype=${originalDocURL}
tiffSaveMonoG4=true

In both these files you will see the default location of the log file.
Please note in any of the server side logging properties files, for the log file location, this can be specified as relative to the root of the application or an absolute path can be used.

logFile=c:\\streamer\\streamer.log
logFile=WEB-INF/streamer.log

Please note that any backslashes (\) should be entered as a double backslash.

Tracing
Some tracing is servlet specific such as:

tracestreamer=true
Or 
traceburn=true

for the streamer component or redaction component respectively.

Some tracing is universal such as: 

trace=true
tracenet=true

The format of the above traces is as they would be added.

Again your Support person should confirm the logging and traces that will be required.

Verify tracing
Once you have enabled all the tracing, for the applet logging just logging out and restarting the browser will be sufficient for the applet logging but for the sever components (streamer, redaction) you will need to restart the ICN web application.
The ICN logging would also require you to restart the application for the changes to take effect.

For the client side tracing you can verify this has been enabled by opening the viewer and accessing the shift+t window. 
[/support/docview.wss?uid=swg21989288&aid=4] [/support/docview.wss?uid=swg21989288&aid=4]

As you can see the two traces are listed as HTML parameters (trace, traceNet,).

For the server side traces these will be shown in the respective log file.

Some logging will increase the load on your server so these should only be enabled when required and disabled once the issue is resolved to your satisfaction.
If you would like clarification on whether the server load will be affected by adding the logging please ask your IBM support representative at the point of their request.

Please zip up all requested logging prior to delivery to IBM.