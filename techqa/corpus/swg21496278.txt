Title: IBM Rational Functional Tester playback fails with java.lang.ClassCastException - United States

Text:
RFT; java.lang.ClassCastException; java; lang; ClassCastException; com.rational.test.ft.util.FontPreferences; com; rational; test; ft; util; FontPreferences; rational_ft.pref; rational_ft; pref; Rational Functional Tester TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to playback an IBM Rational Functional Tester script result in "Unhandled exception...incompatible".. 

SYMPTOM
Playback a Rational Functional Tester script fails with the following exception in the Console View:



Unhandled exception in rational_ft: java.lang.ClassCastException: java.lang.String incompatible with com.rational.test.ft.util.FontPreferences
java.lang.ClassCastException: java.lang.String incompatible with com.rational.test.ft.util.FontPreferences
at com.rational.test.ft.util.FontPreferences.getFontPreferences(FontPreferences.java:160)
at com.rational.test.ft.util.FontPreferences.getFontPreferences(FontPreferences.java:62)
at com.rational.test.ft.application.RationalFtMain.main(RationalFtMain.java:313)


 

Alternatively you see the following message. 

 

java.lang.ClassCastException: org.eclipse.jface.text.TextSelection incompatible with org.eclipse.jface.viewers.IStructuredSelection
at com.rational.test.ft.wswplugin.script.AbstractScriptModifyActionDelegate.refreshState(AbstractScriptModifyActionDelegate.java:138)
at com.rational.test.ft.wswplugin.script.AbstractScriptModifyActionDelegate$1.perspectiveChanged(AbstractScriptModifyActionDelegate.java:79)
at org.eclipse.ui.internal.PerspectiveListenerList$4.run(PerspectiveListenerList.java:130)
at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42)
at org.eclipse.core.runtime.Platform.run(Platform.java:888)
at org.eclipse.ui.internal.PerspectiveListenerList.fireEvent(PerspectiveListenerList.java:58)
at org.eclipse.ui.internal.PerspectiveListenerList.firePerspectiveChanged(PerspectiveListenerList.java:128)
at org.eclipse.ui.internal.WorkbenchWindow.firePerspectiveChanged(WorkbenchWindow.java:1461)
at org.eclipse.ui.internal.WorkbenchPage.hideView(WorkbenchPage.java:2390)
at org.eclipse.ui.internal.WorkbenchPage.hideView(WorkbenchPage.java:2401)
at com.rational.test.ft.wswplugin.script.NewScriptWizard.performFinish(NewScriptWizard.java:462)
at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:811)
at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:430)
at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624)
at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:234)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4066)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3657)
at org.eclipse.jface.window.Window.runEventLoop(Window.java:825)
at org.eclipse.jface.window.Window.open(Window.java:801)
at com.rational.test.ft.wswplugin.script.NewScriptAction.run(NewScriptAction.java:224)
at com.rational.test.ft.wswplugin.script.NewScriptAction.run(NewScriptAction.java:171)
at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:251)
at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:229)
at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584)
at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501)
at org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:452)
at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053)
at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4066)
at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3657)
at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2629)
at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2593)
at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2427)
at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:670)
at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:663)
at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149)
at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115)
at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110)
at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369)
at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:600)
at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619)
at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574)
at org.eclipse.equinox.launcher.Main.run(Main.java:1407)
at org.eclipse.equinox.launcher.Main.main(Main.java:1383)

CAUSE
Cause #1
Corruption of Rational Functional Tester preference file. 


Cause #2
Plugin corruption.

Cause #3
Workspace corruption.


RESOLVING THE PROBLEM
Cause #1
Follow the steps below to rename the rational_ft.pref file so that Functional Tester generates a new preference file.




 1. Close Rational Functional Tester and all infested applications.
    
    
 2. Take a backup copy of the rational_ft.pref file. 
    The default location of this file is 
    
    C;\Documents and Settings\<user>\Application Data\IBM\RFT\.
    
    
 3. Start Rational Functional Tester.
    
    

The rational_ft.pref file is automatically generated with all the default settings. 




Cause #2 
Start Rational Functional Tester with the -clean option. 


Cause #3 
Start Rational Functional Tester in a new workspace.