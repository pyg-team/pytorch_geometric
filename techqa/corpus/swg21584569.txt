Title: IBM "Could not execute TI process:Dim1_ExtDimProcess ... SystemServerConnectionInvalid" when publishing FAP Data Mart via Oracle - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User launches the FAP Client. User clicks tab "Data Marts" and highlights relevant data mart. User clicks 'Start' and then clicks on the 'Logs' tab to track the progress.
Soon after the Data Mart starts, the DM publish stops with an error.
The TM1 server has crashed/stopped too. 

SYMPTOM
FAP Client: 

[/support/docview.wss?uid=swg21584569&aid=1] [/support/docview.wss?uid=swg21584569&aid=1]
Description
INFO: FAP Service Started
INFO: New active source detected and added to scheduling: <data_mart name>
INFO: New active datamart detected and added to scheduling: <data_mart name>
INFO: Start initial publish for datamart <data_mart name>
INFO: Start initial publish of structure
ERROR: Could not execute TI process:Dim1_ExtDimProcess

In addition 

 * If hover over the message "Could not execute TI process...", then you see "SystemServerConnectionInvalid" popup message 
 * Also, the TM1 server's Windows service (e.g. called "TM1 Server x64 / fap") has stopped (on the TM1 server itself)


In the Event Viewer (Application Log): 
Log Name: Application 
Source: Application Error 
Date: 13/02/2012 13:34:23 
Event ID: 1000 
Task Category: (100) 
Level: Error 
Keywords: Classic 
User: N/A 
Computer: SERVERNAME 
Description: 
Faulting application name: tm1sd.exe, version: 9.5.20000.11857, time stamp: 0x4d5068c5 
Faulting module name: SQORA32.DLL, version: 11.2.0.1, time stamp: 0x4bb1d732 
Exception code: 0xc0000094 
Fault offset: 0x000000000001228a 
Faulting process id: 0x828 
Faulting application start time: 0x01ccea542bb7e52a 
Faulting application path: C:\Program Files\Cognos\TM1\bin\tm1sd.exe 
Faulting module path: C:\app64\Administrator\product\11.2.0\client_1\BIN\SQORA32.DLL 
Report Id: 70380cb6-5647-11e1-9d62-0050569c41ea CAUSE
There are many potential causes for the 'Could not execute TI process:Dim1_ExtDimProcess' error. 

 * For more examples, see separate IBM Technote #1446983


This Technote specifically relates to the scenario where the FAP data mart publish has failed, due to the TM1 server itself (the Windows service " TM1 Server x64 / xxxx") crashing/stopping.  * In turn, the cause why the TM1 server has crashed is because of a third-party (Oracle) bug in their client software, which causes memory problems on the server when using Oracle's "SQLFetchScroll ODBC" API method to communicate to the database server.  * For more information, see separate Technotes #1455342 & 1440596.
   
   

ENVIRONMENT
Controller/FAP database hosted on Oracle database server.



RESOLVING THE PROBLEM
Reconfigure TM1 server to communicate to the Oracle server via an alternative method (different Oracle API). 

 * This is achieved by using the following setting: UseSQLExtendedFetch=T


Steps: 

 1. Logon to TM1 server as an administrator 
 2. Using Windows Explorer, browse to the location of your TM1 server (for example C:\TM1Data\FAP) 
 3. Open the file "Tm1s.CFG" in NOTEPAD.EXE 
 4. Underneath the heading "[TM1S]", add the following line: UseSQLExtendedFetch=T 
 5. Save the file 
 6. Restart the TM1 Windows service (e.g. "TM1 Server x64 / fap")

RELATED INFORMATION
#1446983 - ** Troubleshooting ** "Could not execute TI p [http://www.ibm.com/support/docview.wss?uid=swg21446983]
1455342 - Oracle driver problem when importing data to [http://www.ibm.com/support/docview.wss?uid=swg21455342]
1440596 - TM1 Turbo Integrator process crashes server w [http://www.ibm.com/support/docview.wss?uid=swg21440596]






Cross reference information Segment Product Component Platform Version Edition Business Analytics Cognos TM1 TM1 Windows 9.5.2