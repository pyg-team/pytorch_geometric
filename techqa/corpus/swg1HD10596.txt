Title: IBM HD10596: MEMORY ERROR WHEN ATTEMPTING SECTION VIEW - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Memory error when attempting section view
   Operating System: HP-UX 11
   Product Group: CATIA V5R10 on HP-UX
   Service Level/Type: ServicePack3
   Area Affected:GENDRAFT
   Showstopper: YES
   Regression: YES
   Regression from: V5R10sp1
   Recommended Fixes Installed: YES
   Problem:
   Fails with V5R10sp2 and V5R10sp3.
   1. Load assembly in Design mode.
   2. Create a new empty CATDrawing.
   3. Use the front view icon and create the Front
   view of the Trans assembly.
   4. Place the Front view.
   5. Select the Section view icon and create a
   section view from the Front view.
   6. Indicate place to Section view.
   Note receive memory error and cannot create the
   view. Dassault has models need for this test from
   APAR HD01290. This functionallity was a big
   selling point to our customers. Now it no longer
   works.
   This was done on a high end HP CAE machine.
   *****
   Update's customer :
   This PMR only fails on large assemblies containing
   several hundred parts. This has always failed on
   AIX, SGI and Windows 2000. There is another PMR
   for those operating systems. This did work on an
   HP in V5R10 sp1. We opened this PMR becouse the
   HP which was working is now failing in V5R10 sp2
   and Sp3.
   -
   Tested on HP CAE machine with 2G of memory and
   a high end graphics card.
   I performed the same scenario of opening all 334
   V4 models in Design mode and creating an
   assembly drawing.
   V5R9sp3 - created Section view in 40 minutes -
   successful 50% of the time
   V5R10 GA - created Section view in 30 minutes -
   successful 90% of the time
   V5R10sp1 - created Section view in 20 minutes -
   successful 100% of the time. I was also able to
   creating several Projection views and two Section
   views.
   V5R10sp2 - KO
   V5R10sp3 - KO
   I tried your suggestion of using Product FT&A
   Section view, but this also failed. The error
   message I receive is below. I am sending Abend,
   SessionInfo, and the xxx.log. If any additional
   traces are needed, please send detailed
   instructions.
   Pid 16449 received a SIGSEGV for stack growth
   failure.
   Possible causes: insufficient memory or swap
   space, or stack size exceeded maxssiz.
   May I have an explanation on what is meant by
   memory pick and steps I would take to find the
   memory pick.
   In regards to the scenario, this had only worked on
   a HP CAE workstation.
   1. Create a empty Product in V5.
   2. Select 'Insert existing components' and add all
   models in Design mode.
   3. Create a newCATDrawing.
   4. Select the Front view icon and from the 3D,
   select a planer face.
   5. Rotate the view to desired position and indicate
   to place view.
   6. Select the Section view icon and indicate across
   the length for the section cut
   line.
   7. Indicate the placement of the Section view.
   
   .
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Memory error when attempting section view
   Memory error when attempting section view
   Operating System: HP-UX 11
   Product Group: CATIA V5R10 on HP-UX
   Service Level/Type: ServicePack3
   Area Affected:GENDRAFT
   Showstopper: YES
   Regression: YES
   Regression from: V5R10sp1
   Recommended Fixes Installed: YES
   Problem:
   Fails with V5R10sp2 and V5R10sp3.
   1. Load assembly in Design mode.
   2. Create a new empty CATDrawing.
   3. Use the front view icon and create the Front
   view of the Trans assembly.
   4. Place the Front view.
   5. Select the Section view icon and create a
   section view from the Front view.
   6. Indicate place to Section view.
   Note receive memory error and cannot create the
   view. Dassault has models need for this test from
   APAR HD01290. This functionallity was a big
   selling point to our customers. Now it no longer
   works.
   This was done on a high end HP CAE machine.
   *****
   Update's customer :
   This PMR only fails on large assemblies containing
   several hundred parts. This has always failed on
   AIX, SGI and Windows 2000. There is another PMR
   for those operating systems. This did work on an
   HP in V5R10 sp1. We opened this PMR becouse the
   HP which was working is now failing in V5R10 sp2
   and Sp3.
   -
   Tested on HP CAE machine with 2G of memory and
   a high end graphics card.
   I performed the same scenario of opening all 334
   V4 models in Design mode and creating an
   assembly drawing.
   V5R9sp3 - created Section view in 40 minutes -
   successful 50% of the time
   V5R10 GA - created Section view in 30 minutes -
   successful 90% of the time
   V5R10sp1 - created Section view in 20 minutes -
   successful 100% of the time. I was also able to
   creating several Projection views and two Section
   views.
   V5R10sp2 - KO
   V5R10sp3 - KO
   I tried your suggestion of using Product FT&A
   Section view, but this also failed. The error
   message I receive is below. I am sending Abend,
   SessionInfo, and the xxx.log. If any additional
   traces are needed, please send detailed
   instructions.
   Pid 16449 received a SIGSEGV for stack growth
   failure.
   Possible causes: insufficient memory or swap
   space, or stack size exceeded maxssiz.
   May I have an explanation on what is meant by
   memory pick and steps I would take to find the
   memory pick.
   In regards to the scenario, this had only worked on
   a HP CAE workstation.
   1. Create a empty Product in V5.
   2. Select 'Insert existing components' and add all
   models in Design mode.
   3. Create a newCATDrawing.
   4. Select the Front view icon and from the 3D,
   select a planer face.
   5. Rotate the view to desired position and indicate
   to place view.
   6. Select the Section view icon and indicate across
   the length for the section cut
   line.
   7. Indicate the placement of the Section view.
   .
   
   
    
   
   

PROBLEM CONCLUSION
 *  THIS PROBLEM WILL BE FIXED ON CATIA VERSION
   5 RELEASE 14 GA level.
   Incident Diagnosis
   Memory error when attempting section view
   Correction Explanation
   On V5R14, some enhnacement are available to
   reduce memory consumption & CPU time when
   processing section views (or cut) from V4 datas
   (.model). In your case. with "cache" activated, the
   specified section view can be computed with about
   1700 MegaBytes used.
   .
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   HD10596
   
   
 * REPORTED COMPONENT NAME
   CATIA VERSION 5
   
   
 * REPORTED COMPONENT ID
   569102000
   
   
 * REPORTED RELEASE
   510
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2003-08-28
   
   
 * CLOSED DATE
   2004-06-04
   
   
 * LAST MODIFIED DATE
   2006-07-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CATIA VERSION 5
   
   
 * FIXED COMPONENT ID
   569102000
   
   

APPLICABLE COMPONENT LEVELS
 * R512 PSN
   UP
   
   
 * R513 PSN
   UP