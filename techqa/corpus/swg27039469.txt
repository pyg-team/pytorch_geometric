Title: IBM Rebuilding and redeploying the web application silently for your upgrade to IBM Content Navigator, Version 2.0.2 - United States

Text:
 PRODUCT DOCUMENTATION

ABSTRACT
 You can rebuild and redeploy the web application silently when you upgrade to IBM Content Navigator 2.0.2. 

CONTENT
When you upgrade IBM Content Navigator, you must rebuild the IBM Content Navigator web application to update the web.xml file and the files that are included in the application EAR file. After you rebuild the web application, you must redeploy the application on your web application server. 

You can use the command-line interface to rebuild and redeploy IBM Content Navigator silently. 


Before you begin 

 * Ensure that you back up the existing profile directory and the IBM Content Navigator EAR file before you begin the upgrade installation. 
 * Complete the steps to upgrade IBM Content Navigator on the server by completing a response file and then running a silent installation. For the steps to upgrade IBM Content Navigator silently in version 2.0.2, seeUpgrading IBM Content Navigator silently [http://pic.dhe.ibm.com/infocenter/p8docs/v5r2m0/topic/com.ibm.installingeuc.doc/eucup005.htm].



About this task 
Follow these steps if you want to complete your upgrade without using graphical user interface (GUI) tools. Refer to the command line reference before you run any commands. 

If you need See IBM Content Navigator Configuration and Deployment Tool command-line reference [http://pic.dhe.ibm.com/infocenter/p8docs/v5r2m0/topic/com.ibm.installingeuc.doc/eucde032.htm]. 

Important: Do not include any line breaks in your commands. 

Tip:To see the status of a command through a pager, append | moreto the end of the command. 

Procedure 
To rebuild and redeploy the web application silently for your upgrade: 
 1.  Update your profile by running thegenerateConfigcommand without the-taskoption on the existing profile directory.
     
     Run the following command:
     
     configmgr_clgenerateConfig-appserverapp_server_type-configure_FileNetP8
     yes_or_no-configure_CMIS_FileNetP8yes_or_no-configure_CMyes_or_no
     -configure_CMIS_CMyes_or_no-configure_CMODyes_or_no-dbdb_type
     -deploydeploy_type-ldap_Repositoryrepository_type-ldap
     ldap_provider-profilefully_qualified_path_of_an_existing_ profile_directory
     
     When you run the generateConfigcommand, any new XML files from IBM Content Navigator, Version 2.0.2 are added to the existing profile. However, any existing XML files in the profile are not updated with the new properties.
     
 2.  Get copies of the new XML files by running the generateConfigcommand to create a new profile. Specify the same values that you entered in step 1 except for the profile parameter. 
     
     configmgr_clgenerateConfig-appserverapp_server_type-configure_FileNetP8
     yes_or_no-configure_CMIS_FileNetP8yes_or_no-configure_CMyes_or_no
     -configure_CMIS_CMyes_or_no-configure_CMODyes_or_no-dbdb_type
     -deploydeploy_type-ldap_Repositoryrepository_type-ldap
     ldap_provider-profilefully_qualified_path_of_a_new_ profile_directory 
     
     Important: Specify a new profile to avoid overwriting your existing XML files.
     
 3.  Rename therebuildear.xmlfile in the existing 2.0.0 or 2.0.1 profile directory torebuildear.xml.20x. You do this step to avoid overwriting the file in your existing profile with the file from the new profile.
     
 4.  Copy therebuildear.xmlfile from the new profile into the existing profile:
      1. Edit therebuildear.xmlfile with the values fromrebuildear.xml.20xfile.
         
      2. Therebuildear.xmlfile contains the following new property: 
         <property name="DatabaseSchema">.
         
         For the DatabaseSchema, enter the schema name of your IBM Content Navigator configuration database. 
         
         Tip: If you don't know the schema name, you can work with your database administrator or run the appropriate command for your database to list the different schemas. 
         
      3. Reuse the other XML files in the existing profile directory. 
         
     
     
 5.  Edit the configureicntask.xml file for your environment. 
     
 6.  Run the configureicntask task. This task collects the information that the IBM Content Navigator Configuration and Deployment Tool uses when it creates the IBM Content Navigator web application, such as the name of the application. Run the following command:
     
     configmgr_cl execute -taskconfigureicntask -profilefully_qualified_path_of_the_existing_ profile_directory
     
 7.  Rebuild the IBM Content Navigator application EAR file by running the following command:
     
     configmgr_cl execute -taskrebuildear -profilefully_qualified_path_of_the_existing_ profile_directory
     
 8.  Deploy the IBM Content Navigator application EAR file by running the following command: 
     
     configmgr_cl execute -taskdeployapplication -profilefully_qualified_path_of_the_existing_ profile_directory
     
 9.  Restart the web application server where IBM Content Navigator is deployed.
     
 10. Verify that the correct version of the software is deployed to the web application server.




What to do next 
For cluster environments, if IBM HTTP Server is installed and configured in the same IBM WebSphere Application Server Network Deployment deployment manager, follow these steps in the WebSphere Application Server Network Deployment administrative console: 
 1. Map the IBM HTTP Server application server to the IBM Content Navigator web application module. 
 2. Map the IBM HTTP Server application server to the Knowledge Center module (LWHS).