Title: IBM Edit Layout portlet not loading when accessing Portal via the HTTP web server - United States

Text:
plugin-cfg.xml; AcceptAllContent; Edit Layout; web; server; blank; ibm; http; propfind; page builder TECHNOTE (TROUBLESHOOTING)

PROBLEM
The Edit Layout portlet is not loading when accessing IBM Websphere Portal via the IBM HTTP web server. If accessing Portal directly via the native port (for example, 10039), this portlet is loaded without any problem and functioning normally.

SYMPTOM
In the Portal Administration UI, select "Manage Pages". 
Under Content Root > Home create a page and save it. 

On that page, select Actions > Edit page > Customize > Change Layout. The browser windows just display "Loading" and nothing happens after that.

If you access Portal directly via the internal port (for example, port 10039) and perform the same steps, the content of the Change Layout"portlet shows up immediately.

CAUSE
This is a plug-in configuration issue in which the plug-in property, AcceptAllContent, was set to False.



DIAGNOSING THE PROBLEM
Enable debug for IBM HTTP as described in Collecting Data: Request failure (500, 404, 400, etc.) problems with IBM HTTP Serve [http://www-01.ibm.com/support/docview.wss?uid=swg21141306]r. 


The http_plugin.log records this error:

[datetime] 00003778 f4fdbb90 - DEBUG: ws_common: websphereUriMatch: Found a match '/wps/*' to '/wps/mycontenthandler/!ut/p/dav/fs-type1/layout-templates/' in UriGroup: default_host_WebSphere_Portal_Cluster_URIs with score 8,
exact match 8 
[datetime] 00003778 f4fdbb90 - DETAIL: ws_common: websphereFindServerGroup: Setting the server group: 
WebSphere_Portal_Cluster; highScore: 9; highExactMatch: 8; affinityCookie: JSESSIONID; affinityURL: jsessionid 
[datetime] 00003778 f4fdbb90 - ERROR: Returning error, content found and AcceptAllContent set to FALSE 
[datetime] 00003778 f4fdbb90 - DETAIL: ws_common: websphereEndRequest: Ending the request

Although the content is found, the request is not processed due to the plug-in rejecting the content. Instead of sending the bad message to the WebSphere Application Server, the plug-in returns the message, "Returning error, content found and AcceptAllContent set to FALSE."

More details about this Websphere Application Server plug-in properties can be found on the WebSphere 7.0 Information Center [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.nd.doc/info/ae/ae/uwsv_plugin_props1.html]. 


RESOLVING THE PROBLEM
1. In the plugin_cfg.xml, change AcceptAllContent from False (default) to True. 


2. Restart the IBM HTTP server and the Websphere Application Server/Websphere Portal Server.


RELATED INFORMATION
#MustGather: Request failure ... [http://www.ibm.com/support/docview.wss?uid=swg21141306]
plugin-cfg.xml [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.nd.doc/info/ae/ae/rwsv_plugincfg.html]
Web server plug-in request and response optimization [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/index.jsp?topic=/com.ibm.websphere.nd.doc/info/ae/ae/uwsv_plugin_props1.html ]




 * 
 *