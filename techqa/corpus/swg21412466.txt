Title: IBM About using IBM HTTP Server with Build Forge 7.1.x on Windows - United States

Text:
1412466; IBM HTTP Server; IHS; apache; web server; BuildForge; BF TECHNOTE (FAQ)

QUESTION
 This technote covers how to configure IBM HTTP Server (IHS) to be used with IBM Rational Build Forge 7.1.x as opposed to the shipped Apache server for a Microsoft Windows based install. 

ANSWER

The installation process allows you to use your own Apache or IBM HTTP Server. You need to add and configure PHP for use with your DB to IBM HTTP Server.


 1. Supply Own Web Server - The install process will prompt you to "Supply Own Web Server". This screen is presented directly after the DB test screen. On this question choose "Yes". You will also be required to fill in the fully qualified host name which contains IBM HTTP Server.
    
    
 2. Once the install of Build Forge is complete you can move on to setting up IBM HTTP Server to point to the Build Forge user interface. On Windows, the process is fairly straight forward.
    
    
 3. Prerequisites 
    
    You need:  * Latest PHP 5.2.x - The latest PHP library is available from:
       
       http://www.php.net/downloads.php#v5 [http://www.php.net/downloads.php#v5]
       
     * PECL libraries for the PHP DB2 module if using DB2 - They stopped producing PECL libraries at PHP 5.2.6, however you can use those PECL libraries from the 5.2.6 release for 5.2.11 PHP available here:
       
       http://museum.php.net/php5/pecl-5.2.6-Win32.zip [http://museum.php.net/php5/pecl-5.2.6-Win32.zip]
       
       
    
    
 4. This technote 1316207 [http://www.ibm.com/support/docview.wss?uid=swg21316207] covers how to add the PHP binaries into the IBM HTTP Server directory.
    
    
 5. After the binaries are implemented please follow these directions. Be sure to modify the paths to suit your environment.
     * Open the php.ini-recommended and make these changes:
       magic_quotes_gpc = Off
       upload_tmp_dir="Path for temp files which exists"
       session.save_path="Path for session files which exists"
       extension_dir = "Path of the IBM HTTP Server directory where you placed the PHP files in the ext folder here"
       
     * Add:
       extension=php_<DATABASE>.dll
       
     * Uncomment:
       extension=php_openssl.dll
       
       DB2: php_ibm_db2.dll
       Oracle: php_oci8.dll
       MySQL: php_mysqli.dll
       
     * In the httpd.conf file for IBM HTTP Server add:
       LoadModule php5_module "Location including the name of the php5apache2.dll for IHS 2.0.x or php5apache2_2.dll for IHS 2.2.x"
       AddType application/x-httpd-php .php
       PHPIniDir "Directory of the php.ini file"
       <Directory "%BF_INSTALL_ROOT%\webroot\public">
       Options Indexes FollowSymLinks
       AllowOverride None
       Order allow,deny
       Allow from all
       DirectoryIndex index.php
       </Directory>
       alias /%DESIRED_ALIAS% "%BF_INSTALL_ROOT%\webroot\public"
       
       
    
    
 6. Examples:
    
    These are the changes made to sample files to illustrate how to implement the above directions. My IBM HTTP Server is installed in C:\Program Files\IBM HTTP Server 2.0. I placed the PHP files in C:\Program Files\IBM HTTP Server 2.0\php. The PECL files are in C:\Program Files\IBM HTTP Server 2.0\php\ext. My Build Forge is installed in C:\Program Files\IBM\BF7111_71\webroot\public.
     * Open the php.ini-recommended and make these changes:
       magic_quotes_gpc = Off
       upload_tmp_dir=c:\temp
       session.save_path=c:\temp
       extension_dir = "C:\Program Files\IBM HTTP Server 2.0\php\ext"
       
     * Add:
       extension=php_ibm_db2.dll
       
     * Uncomment:
       extension=php_openssl.dll
       
     * In the httpd.conf file for IBM HTTP Server add:
       LoadModule php5_module "C:\Program Files\IBM HTTP Server 2.0\php\php5apache2.dll"
       AddType application/x-httpd-php .php
       PHPIniDir "C:\Program Files\IBM HTTP Server 2.0\php"
       <Directory "C:\Program Files\IBM\BF7111_71\webroot\public">
       Options Indexes FollowSymLinks
       AllowOverride None
       Order allow,deny
       Allow from all
       DirectoryIndex index.php
       </Directory>
       alias /bf "C:\Program Files\IBM\BF7111_71\webroot\public"
       
       
    
    
 7. Once these changes are made restart IBM HTTP Server and go to the IBM HTTP Server port/alias. For example, this was used in the above sample: http://localhost/bf