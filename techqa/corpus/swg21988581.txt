Title: IBM Must Gather log when PureData System for Analytics crash - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 what logs should I capture to assist support for investigate root cause of crash 

ANSWER
Follow below instruction to collect log when engaging Support:
1. NZhealthcheck: 

log into active node as nz, check nzhealthcheck version 

/nz/kit/bin/adm/nzhealthcheck -v 

2. Collect Netezza log: 

log into active node as nz,execute below command:

tar -czvf /tmp/sysmgr.tgz /nz/kit/log/sysmgr

nzhw -issues > /tmp/nzhw_issue_new.txt

nzds -issues > /tmp/nzds_issues_new.txt

nzhw -detail > /tmp/nzhw.txt

nzrev -rev > /tmp/nzrev.txt

cat /nzlocal/scripts/version.txt > /tmp/hpf.txt

cat /opt/nz/fdt/version.txt > /tmp/fdt.txt

tar -czvf /tmp/startupsvr.tgz /nz/kit/log/startupsvr

tar -czvf /tmp/bootsvr.tgz /nz/kit/log/bootsvr 

3. Collect AMM log: 

log into active node as nz,execute below command:

ssh USERID@mm001 displaysd –T mm[1] > /tmp/mm001.displaysd 

ssh USERID@mm001 displaylog –a –T mm[1] > /tmp/mm001.log 

ssh mm001 health -l a -f > /tmp/mm001.health


4. Collect core dump file information: 

log into active node as nz,execute below command:

find -L /nz/data -iname 'core*' -exec ls -alh {} \; > /tmp/pg_core.txt 

find -L /nz/kit/log -iname 'core*' -exec ls -alh {} \; > /tmp/dbos_core.txt


5. Collect RHEL linux log : 

log into active node as root ,execute below command:

history > /tmp/root.history.txt

tar -czvf /tmp/linux-message.tgz /var/log/messages*

tar -czvf /tmp/sa.tgz /var/log/sa

lsb_release -a > /tmp/rhel.txt 

log into active node as nz, execute below command:

history > /tmp/nz.history.txt