Title: IBM After upgrade from DB2 v9.7 to DB2 v10.5 FP6, SQL Apply fails with SQL0803N when performing a fullrefresh against an MSSQL target database with codepage 1252 - United States

Text:
SQLAPPLY; SQLREP; SQL0803N; FULLREFRESH TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After APAR JR50345 (fixed in DB2 v10.5 FP5) -
https://www-01.ibm.com/support/entdocview.wss?uid=swg1JR50345 [https://www-01.ibm.com/support/entdocview.wss?uid=swg1JR50345]

when the target MSSQL Server is defined with a single byte codepage like 1252, 
it is required to also create the federated database with the same codepage 
and also alter the SERVER mapping to include the codepage
similar to -
db2 "ALTER SERVER <servername> OPTIONS(SET CODEPAGE '1252')"

If this is not done then truncation of data could happen for CHAR data.
For example a CHAR(4) column with 'a123' could get truncated to 'a1' when inserted to MSSQL via the nickname.

SQL Apply on a fullrefresh will attempt to insert all rows from the source into the target table and truncation of the data could cause data corruption/duplicate errors. 

SYMPTOM
Apply fullrefresh fails with SQL0803N


ENVIRONMENT
Federated database with DB2 v10.5 FP6, SQL Replication, MSSQL target 

DIAGNOSING THE PROBLEM
Data truncation/ Duplicate key errors seen when replicating data

RESOLVING THE PROBLEM
Make sure that the codepages in MSSQL database and the DB2 Federated Database match and the same is also set in the Server mapping.

RELATED INFORMATION
 A simplified Chinese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21995120]