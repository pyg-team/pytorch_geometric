Title: IBM Attribute changes with various KYN versions - United States

Text:
ITCAM; Tivoli; Composite; Application; Manager; Apoplications; Diagnostic; KYN TECHNOTE (FAQ)

QUESTION
 What attributes are changed during KYN agent and supports updates. 

ANSWER
The file kyn_changes.html contains the list of changes in tables, attributes and properties changes of KYN agent. Versions included: 

6.2 FP4, FP5, FP6 (ITCAM for WebSphere)
7.1 FP1, FP2, FP3 (ITCAM for Application Diagnostics)
Excluded remarks, description texts, indexes and all unchanged data. 

[/support/docview.wss?uid=swg21608593&aid=2]kyn_changes.html [/support/docview.wss?uid=swg21608593&aid=1]

All changes are marked in yellow or red. Red color denotes potential danger change, yellow color - all other changes.


Full list of KYN agent attributes::
[/support/docview.wss?uid=swg21608593&aid=4]dockyn [/support/docview.wss?uid=swg21608593&aid=3]
which is a part of TEPS support for KYN 7.1.0.3



Identified potential problems and issues:

1. Changes in *BEHAV property of attributes (see lines 39, 52,68 etc).
Property *BEHAV is defined for each attribute. If this property is missing, property PROPERTY is assigned, as a default *BEHAV. Each *BEHAV defines different list of aggregation types.
After update to a version with *BEHAV changed, data summarized by Summarization & Pruning agent, will be incomplete or absent for the time before change. Summarized data, inadequate for newer aggregation types, will be unavailable in TEP, but will be present in warehouse, until Summarization and Pruning schema rebuild.

Example: 
KYN update from 7.1 to FP1 or later, attribute Interval Time from table KYNAPMONCF.
Property *BEHAV is changed from default to PDEL, so aggregation types list changes from LAT (latest value) to MIN,MAX,SUM. Data summarized before update to LAT will not be available in TEP, and summarization MIN,MAX,SUM will be available for data summarized after update.

Recommendation:
None. *BEHAV change fixes wrong summarization. 

2. New attributes in existing tables. 
Some changes in tables structure, like changes in lines 71 (FP2), 88 (FP2), 599 (FP3), 1258 (FP3) may cause a problems with cooperation between TEPS with newest supports, and agents with older versions - some columns in updated tables may contain wrong, unexpected values.

Recommendation:
In case of problems update agents to the same version as supports. DC version does not matter.


3. *AGTIM property: alternate time column, replaces WRITETIME (see lines 81, 208, 226 etc).
The change causes directly that internal warehouse column WRITETIME is replaced by attribute marked by *AGTIM. Column WRITETIME is not longer used by Summarization and Pruning agent.
Further consequences:
(a) After support update, if summarization was configured, Summarization& Pruning Agent does not work at all. See technote: http://www-01.ibm.com/support/docview.wss?uid=swg21573673 [http://www-01.ibm.com/support/docview.wss?uid=swg21573673]
(b) Column WRITETIME disappears after applying the technote from (a). An alternate method of fixing Summarization and Pruning Agent schema is to remove attribute NOT NULL from the column WRITETIME. But the column WRITETIME is not filled anymore.

Recommendation:
After update: 

 * from 7.1.0.0 or 6.2.0.5 or older to 7.1.0.1 or newer 
 * from 6.2.0.5 or older to 6.2.0.6, or 7.1.0.1 or newer

use technote http://www-01.ibm.com/support/docview.wss?uid=swg21573673 [http://www-01.ibm.com/support/docview.wss?uid=swg21573673] to resolve Summarization and Pruning Agent problems. 
The column WRITETIME is replaced by column Sample Date and Time, then do rewrite all external queries, browsing summarized data in Warehouse. 


4. Migration to 7.1.0.0 
Supports migration from 6.2.0.6 or never to 7.1.0.0 is not recommended. It would revert some ODI changes introduced in FP6. 
Agents migration from 6.2 to 7.1.0.0 is not recommended. It may cause, that some attributes will not be gathered after the update. 
Agents 6.2.0.6 will not work properly with supports 7.1.0.0. 

Recommendation: 
Do migrate supports to version 7.1.0.1 or newer. In case of migration from version older then 6.1.0.6 do fix Summarization and Pruning Agent schema (see 3) after final step of migration, when support version is 7.1.0.1 or more. 



Conclusions: 
Do not update supports to 7.1.0.0. Update them to 7.1.0.1 or newer. 
Do update agents to the same version as supports, or leave them on 6.2 level. 
After supports migration from 6.1.0.5 or older migrate directly to 7.1.0.1 or newer, and before Summarization and Pruning Agent start, apply technote http://www-01.ibm.com/support/docview.wss?uid=swg21573673 [http://www-01.ibm.com/support/docview.wss?uid=swg21573673] 




PRODUCT ALIAS/SYNONYM
 ITCAMfAD