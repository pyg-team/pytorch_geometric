Title: IBM TCR Launch menu entries missing - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Tivoli Common Reporting (TCR) menu entries are missing under the Launch button 

SYMPTOM
Upon logging in to TCR and clicking "Common Reporting" there is a Launch button which is used to go to areas like "Administration", "Query Studio", and "Report Studio". When you click the Launch button, it will typically look something like this: 

[/support/docview.wss?uid=swg21613808&amp;aid=1]

Sometimes one or more of these entries may be missing.


CAUSE
The most likely cause of this problem is privileges were changed at some point and Administrator privileges were lost (or possibly other privileges). 


DIAGNOSING THE PROBLEM
When you click the Launch button after going to "Common Reporting" in TCR, the Launch menu only does not contain one or more of these entries: "Query studio", "Report Studio", or "Administration". 



RESOLVING THE PROBLEM
This is one possible solution. If it does not work please open a PMR with Support. 


Here is the information to help get the entries back in TCR.

If a situation arises whereby the System Administrators role is locked inadvertently by not having any group or user designated as a member, or if the privileges were somehow lost, the following script can be executed against the database hosting the content store: 
/opt/IBM/tivoli/tipv2Components/TCRComponent/cognos/configuration/schemas/content/<DB>/AddSysAdminMember.sql

where <DB> is your content store database for example: 
oracle, db2, db2zOS, sqlserver, derby, sybase

The script will assign the Everyone group as a member of the System Administrators role. 
The user executing the script must have INSERT and SELECT privileges. 

Steps: 
1) Backup your content store database. 
2) Stop TCR (which will also stop Cognos) 
Windows:
c:\IBM\tivoli\tipv2Components\TCRComponent\bin\stopTCRserver.bat
Unix:
/opt/tivoli/tipv2Components/TCRComponent/bin/stopTCRserver.sh
3) Navigate to the following path in the Cognos installation: 
/opt/IBM/tivoli/tipv2Components/TCRComponent/cognos/configuration/schemas/content/<DB>/
where <DB> is one of the following: oracle, db2, db2zOS, sqlserver, derby, sybase
4) Ensure that the DB user has INSERT and SELECT privileges. 
5) Execute AddSysAdminMember.sql against your content store database. 
For example in DB2:
su - db2inst1 
db2 -tvf AddSysAdminMember.sql
6) Start TCR (which will also start Cognos)
Windows:
c:\IBM\tivoli\tipv2Components\TCRComponent\bin\startTCRserver.bat
Unix:
/opt/tivoli/tipv2Components/TCRComponent/bin/startTCRserver.sh

7) Log into TCR and verify that the entries now exist in the Launch menu.
8) Log in as a user with Administration authority. Review the content of the Cognos namespace groups to add the required user(s) to the System Administration group. 
9) Remember to remove the Everyone group from this group in order to secure the administration of this server.