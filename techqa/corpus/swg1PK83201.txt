Title: IBM PK83201: VSAM-TO-VSAM USABILITY FIXES - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  VSAM-to-VSAM Usability Fixes
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: VSAM to VSAM replication customers.          *
   ****************************************************************
   * PROBLEM DESCRIPTION: Various VSAM to VSAM usability fixes.   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   VSAM to VSAM usability fixes.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Release Notes for APAR PK83201
   CICS termination management
   
   If you are running VSAM to VSAM replication, this PTF includes a
   new program to enable a CICS region to shut down normally by
   purging VSM1 partner transactions that are running. After you
   implement the changes in this PTF, CICS shut down processing
   invokes a new CICS shut down program.
   Have your CICS administrator do the following:
     Update the CACWCICS load module in the relocatable program
      library (DFHRPL) for the CICS region with the replacement
      version in this PTF and then reload (NEWCOPY) the updated
      module.
     Add the new program CACWSDS1 to the CICS shutdown list
      (PLTSD) as a first phase shutdown program.
   
   You can modify the module name if your site requires it.
     Add the following new program definitions, found in the
       sample member User.SCACSAMP(CACRCDEF), to the system
       definition data set (CSD) in CICS:
   o CACWSDS1
   o CACWHNDL (You cannot modify this name.)
   
     Update the transaction definition for VSM1, also found in the
       sample member User.SCACSAMP(CACRCDEF), in the CICS system
       definition data set (CSD).  You can also make this change
       online by using the CEDA transaction to update the
       definition and then install the transaction definition
       again.
   
   The updated definition sets the SPURGE parameter to SPURGE(YES).
   
   For more information, see Configuring CICS for replication to
   CICS VSAM files
   (http://publib.boulder.ibm.com/infocenter/iisclzos/v9r5/index.js
   p?topic=/com.ibm.swg.im.iis.repl.classic.nvr.doc/topics/iiyrnvrc
   icsdef.html).
   
   Memory management for SafeStore queues
   
   If you implemented the SafeStore facility to recover missed
   changes in an environment that uses the native VSAM
   change-capture agent (NVA), the options module CACEOPTM now has
   an SLSLimit parameter which you can use to set an upper limit
   on the number of change messages that can accumulate in a queue
   
   for the system logger stream.
   
   For more information, see Customizing NVA instances
   (http://publib.boulder.ibm.com/infocenter/iisclzos/v9r5/index.js
   p?topic=/com.ibm.swg.im.iis.ep.nvacc.doc/topics/iiyeccnvaoptscus
   t.html)
   
   Apply server staging enhancement for the native VSAM agent
   
   If your environment uses the native VSAM agent (NVA) to capture
   changes to the same file on multiple images, this PTF includes
   enhancements to temporary storage management that increase the
   reliability and availability of the distribution service and
   improve handling of ordering problems. If you do not capture
   
   changes from multiple source images and send them to the same
   distribution service, this change does not affect your
   environment.
   
   You can now set the TEMPFILESPACE parameter for the distribution
   service to limit the size of the staging area for individual
   files rather than across all files. The default value for
   
   TEMPFILESPACE is high. For the native VSAM agent, change the
   default value to a lower value that is more appropriate for a
   single file. Staging is likely to be short in duration, and a
   lower value will enable you to detect problems more quickly
   using fewer resources.
   
   If the distribution service stages a large number of changes
   
   that exhaust available staging, the data server places that file
   into a recovery state.  Excessive staging for one file does not
   affect processing for other files. The distribution service
   places the file that was staging excessively into a recovery
   state and continues processing all other files normally.
   
   For more information, see Defining distribution services.
   
   (http://publib.boulder.ibm.com/infocenter/iisclzos/v9r5/index.js
   p?topic=/com.ibm.swg.im.iis.ep.ds.doc/topics/iiyecdscfpsconfig_n
   vr.html)
   
   
   Improved processing when a CICS region is unavailable
   
   If you use VSAM to VSAM replication to replicate to CICS VSAM
   target files and the target CICS region is unavailable when the
   publication service attempts to open the target file, the
   replication environment no longer places the source file into a
   recovery state immediately.  The system is now able to delay the
   open request for the target file to give the target CICS region
   time to start and prevent the source file from entering a
   
   recovery state. You can determine why the target CICS region is
   not available and correct the problem before changes flow.  If
   changes flow and the target file is still unavailable, then the
   system places the file into a recovery state.
   
   A new REPORT command for the correlation service enables you to
   detect problems connecting to CICS, and new messages alert you
   
   when the CICS region is unavailable. In addition, a new PEND
   status in REPORT output for the distribution service indicates
   that the subscription has a pending open that is waiting for
   replication.
   
   For more information, see Reporting information about the
   availability of CICS target files
   
   (http://publib.boulder.ibm.com/infocenter/iisclzos/v9r5/index.js
   p?topic=/com.ibm.swg.im.iis.repl.classic.nvr.doc/iiyrnvrrpttgt.h
   tml)
   
   
   The native VSAM agent
   
   With APAR PK76858 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK76858], the updated CACNVA00 module is not compatible
   with prior versions of the related IGX00060 module. The updated
   IGX00060 module is incompatible with prior versions of CACNVA00.
   Remove or disable any installed NVA instances prior to running
   the NVA Install program (CACNVASM) to install this fix.  Two
   methods are available to accomplish this.
   
   1. IPL the MVS image.
   
        Install the new CACNVA00, IGX00060, and CACNVDIE modules by
        using normal procedures.
   
   
   2. Disable any currently installed instances of the native
           VSAM agent by using the Disable function of the NVA
           Install program (DI,M=<Module-Name>.
   
   3. Install the new CACNVA00, IGX00060, and CACNVDIE modules
   
           by using the Load/Force=Y function of the NVA Install
           program
           (LD,DS=<Distribution-Service-Name>,M=<Module-Name>,F=Y).
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK83201
   
   
 * REPORTED COMPONENT NAME
   CLASSIC FED & E
   
   
 * REPORTED COMPONENT ID
   5697I8200
   
   
 * REPORTED RELEASE
   950
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-03-24
   
   
 * CLOSED DATE
   2009-04-06
   
   
 * LAST MODIFIED DATE
   2009-05-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK45525 UK45527 UK45526 UK45528 UK45529 UK45530 UK45531
   
   

MODULES/MACROS
 *  CACDSRD  CACDSWR  CACECA2  CACENGCT CACEOPTM
   CACE1NVA CACNVAIN CACNVASM CACNVA00 CACNVDIE CACRCDEF CACSXPLA
   CACT1A   CACT1D   CACT1I   CACT1N   CACT1V   CACWCICS CACWCLI
   CACWCMF  CACWDLM  CACWHNDL CACWRAW  CACWSDS1 CACWVSM  CACWXML
   IGX00060
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CLASSIC FED & E
   
   
 * FIXED COMPONENT ID
   5697I8200
   
   

APPLICABLE COMPONENT LEVELS
 * R95B PSY UK45526 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK45526]
   UP09/04/07 P F904
   
   
 * R95C PSY UK45527 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK45527]
   UP09/04/07 P F904
   
   
 * R95D PSY UK45528 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK45528]
   UP09/04/08 P F904
   
   
 * R95E PSY UK45529 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK45529]
   UP09/04/08 P F904
   
   
 * R950 PSY UK45525 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK45525]
   UP09/04/07 P F904
   
   
 * R952 PSY UK45530 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK45530]
   UP09/04/07 P F904
   
   
 * R953 PSY UK45531 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK45531]
   UP09/04/07 P F904
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.