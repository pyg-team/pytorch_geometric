Title: IBM WebSphere Adapter for Siebel Business Applications fails to connect to Siebel Server - United States

Text:
siebel; utf; codepage; connectivity TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The WebSphere Adapter for Siebel cannot connect to the Siebel server either on runtime or during the artifact discovery. Error message is " <Error><ErrorCode>8211</ErrorCode> <ErrMsg>Code Page "UTF-8" is not supported. Use "-encoding" option to change the file encoding. (SBL-JCA-328) </ErrMsg></Error>".

This technote is intended for the WebSphere Message Broker environment.
If you experience the same in a WebSphere Application Server environment, please refer to the workaround provided in technote:
http://www.ibm.com/support/docview.wss?uid=swg21393552 [http://www.ibm.com/support/docview.wss?uid=swg21393552] 

CAUSE
Siebel systems with version less than 8.0 does not allow the syntax of the codepage to be "UTF-8".

DIAGNOSING THE PROBLEM
1. Check that the Siebel dependency jars can be accessed from the adapter.




2. Even though you might not receive the error message "UTF-8" is not supported. Use "-encoding" option to change the file encoding. (SBL-JCA-328) ", have a look for the error "Could not open a session in 4 attempts. {1} (SBL-JCA-200)". 

3. Problem occurs during adapter runtime but also during artifact discovery.


RESOLVING THE PROBLEM
The cause of this problem can be an incorrect codepage or the syntax of a correct codepage is wrong. 

For Siebel systems with version less than 8.0, verify the supported codepages as given below:
Siebel Javaâ„¢ Bean [http://download.oracle.com/docs/cd/E05553_01/books/OIRef/OIRefProgramming24.html#wp1004955]

As you can find in the list above, the codepage "utf8" is supported which means that we have to set this codepage syntax before connecting to the Siebel server.

For the WebSphere Application server environment, please proceed as described in the technote:WebSphere Adapter for Siebel Business Applications V6.1 Connectivity Problem due to Codepage Error [http://www.ibm.com/support/docview.wss?uid=swg21393552]

For the WebSphere Message Broker (WMB) environment, please proceed as given below for a workaround to the problem. 

Modify the file "eclipse.ini" in the WMB Toolkit install folder (For example: c:\Program Files\IBM\WMBT700) to set the JVM property "file.encoding" to "utf8". 
Add the line "-Dfile.encoding=utf8" after "-vmargs":

----- Sample ini ------
-vm 
C:\Program Files\IBM\WMBT700\jdk\jre\bin\javaw.exe
-startup
plugins/org.eclipse.equinox.launcher_1.0.101.R34x_v20081125.jar 
-install
C:\Program Files\IBM\WMBT700
--launcher.library
plugins/org.eclipse.equinox.launcher.win32.win32.x86_1.0.101.R34x_v20080
731 
-vmargs 
-Dfile.encoding=utf8
-Xquickstart
-Xms40m 
----- Sample ini end ------

The WMB Toolkit needs to be restarted to reflect the change. 


RELATED INFORMATION
#Siebel Connectivity for WAS env [http://www.ibm.com/support/docview.wss?uid=swg21393552 ]






Cross Reference information Segment Product Component Platform Version Edition Business Integration WebSphere Message Broker