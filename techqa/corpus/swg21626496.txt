Title: IBM Using ChlauthIssueWarn inside qm.ini to force AMQ9787 error message when WARN is set to YES in channel authentication records - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 You are using WebSphere MQ (WMQ) channel authentication records and established rules that have the attribute:
WARN(YES)
You are expecting an AMQ9787 error message in the queue manager error log when a connection attempt matches the record, but you do not see such an error message.

An example of the expected message is: 
AMQ9787: Channel would have been blocked 
EXPLANATION: The inbound channel 'SYSTEM.ADMIN.SVRCONN' would have been blocked from address '1.2.3.4' because the active values of the channel matched a record configured with USERSRC(NOACCESS). Access is allowed, as the channel authentication rule is in warning mode. The active values of the channel were 'CLNTUSER(fulano)'. 
ACTION: Contact the systems administrator, who should examine the channel authentication records to ensure that the correct settings have been configured. If the channel authentication record had not been in warning mode, the channel would be blocked. The ALTER QMGR CHLAUTH switch is used to control whether channel authentication records are used. The command DISPLAY CHLAUTH can be used to query the channel authentication records. 

CAUSE
The APAR IC90426 [http://www.ibm.com/support/docview.wss?uid=swg1IC90426] is going to remove the sentence regarding the generation of the error AMQ9787 in the queue manager error log.
The MQ Information Center says the following for the WARN = YES attribute on the SET CHLAUTH command. 


WebSphere MQ > Reference > Administration reference > MQSC reference > The MQSC commands >
SET CHLAUTH [http://pic.dhe.ibm.com/infocenter/wmqv7/v7r5/index.jsp?topic=%2Fcom.ibm.mq.ref.adm.doc%2Fq086630_.htm]
Use the MQSC command SET CHLAUTH to create or modify a channel authentication record. 

 * 
 * 
 *  An AMQ9787 error message is written in the queue manager error log and, 
 * 


ANSWER
If you want the error message AMQ9787 to be generated you need to add the following parameter in the Channels stanza of the qm.ini file of the queue manager.

Channels: 
ChlauthIssueWarn=y 


Then restart the queue manager.

 


Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere MQ Configuration AIX, HP-UX, Linux, Solaris, Windows 7.5, 7.1 Business Integration WebSphere MQ Channels LU62 / TCP AIX, HP-UX, Linux, Solaris, Windows 7.5, 7.1 Business Integration IBM MQ 
PRODUCT ALIAS/SYNONYM
 WebSphere MQ WMQ