Title: IBM oracle.jms.AQjmsException: JMS-135: Driver classes12.jar not supported when using the Oracle AQ JMS Queue Adapter - United States

Text:
STERLINGNFX TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 oracle.jms.AQjmsException: JMS-135: Driver classes12.jar not supported when using the Oracle AQ JMS Queue Adapter 

SYMPTOM


Receive error oracle.jms.AQjmsException: JMS-135: Driver classes12.jar not supported when using the Oracle AQ JMS Queue Adapter and Lightweight JDBC Adapter connecting to an Oracle 10g instance.

Error Message ERROR 000000000000 GLOBAL_SCOPE <AqJmsQueueAdapterServerImpl-AMSS_Oracle_AQ_JMS_Queue_Adapter-9951291> Exception in openSession
oracle.jms.AQjmsException: JMS-135: Driver classes12.jar not supported
at oracle.jms.AQjmsError.throwEx(AQjmsError.java:327)
at oracle.jms.AQjmsQueueConnectionFactory.<init>(AQjmsQueueConnectionFactory.java:95)
at oracle.jms.AQjmsFactory.getQueueConnectionFactory(AQjmsFactory.java:118)
at com.sterlingcommerce.woodstock.services.aqjms.AqJmsQueueAdapterServerImpl.openSession(AqJmsQueueAdapterServerImpl.java:177)
at com.sterlingcommerce.woodstock.services.aqjms.AqJmsQueueAdapterServerImpl.startupAdapter(AqJmsQueueAdapterServerImpl.java:91)
at com.sterlingcommerce.woodstock.services.aqjms.AqJmsQueueAdapterServerImpl.refreshAdapter(AqJmsQueueAdapterServerImpl.java:451)
at com.sterlingcommerce.woodstock.services.IAdapterImpl.refresh(IAdapterImpl.java:159)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
at java.lang.reflect.Method.invoke(Method.java:585)
at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:294)
at sun.rmi.transport.Transport$1.run(Transport.java:153)
at java.security.AccessController.doPrivileged(Native Method)
at sun.rmi.transport.Transport.serviceCall(Transport.java:149)
at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:466)
at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:707)
at java.lang.Thread.run(Thread.java:595)


RESOLVING THE PROBLEM


On the Connection Information screen for the Oracle AQ JMS Adapter, the Driver name to be supplied is "thin" because the classes12.zip, classes12.jar, and ojdbc14.jar files are thin client connections to Oracle.

The Oracle AQ JMS Adapter requires both aqapi.jar and classes12.zip thin clients which are Oracle 9i clients and if connecting to Oracle 10g the thin client jar file to use is ojdbc14.jar. If running Oracle 10g with GIS or connecting to an external Oracle 10g instance using the Lightweight JDBC Adapter, all three thin client files are needed and must be specified in the <install dir>/properties/dynamicclasspath.cfg in the following order.

VENDOR_JAR=<path to file>\ojdbc14.jar
VENDOR_JAR=<path to file>\classes12.zip
VENDOR_JAR=<path to file>\aqapi.jar

 

HISTORICAL NUMBER
 NFX5887