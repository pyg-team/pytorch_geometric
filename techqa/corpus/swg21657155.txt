Title: IBM APMUI Unable to save application - error CTGAZ0001E occurs - United States

Text:
5724G70UITR; scapm; CWWKO0801E TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Error CTGAZ0001E occurs when you select "Save" to add application on Application Dashboard. 

SYMPTOM
The following error occurs when you save an application definition on APMUI Application Dashboard: 

CTGAZ0001E The application cannot be saved because the application repository is not available. 

 

[/support/docview.wss?uid=swg21657155&aid=1] [/support/docview.wss?uid=swg21657155&aid=1] 


CAUSE
The application repository is not available. 


RESOLVING THE PROBLEM
Some possible causes and solutions for this problem are listed below. 

1) The Service Component Repository (SCR) server is not running.
Check status of SCR: 

APMUI_HOME/bin/server status scr
[root]:bin>./server status scr
Server scr is not running.
If the SCR server is not running, then start it.
Use following command to start SCR:
On a Linux/Unix system:
APMUI_HOME/bin/server start scr
On a Windows system:
APMUI_HOME\bin\server start scr

2) SCR service host name is set as localhost, instead of the actual host name.
Check if APM_UI.log has following message:
2014-10-27 12:37:50.923-05:00 [LargeThreadPool-thread-91] com.ibm. 
tivoli.apm.oslc.adapter.model.OSLCObjectAdapter [queryModel] [ERROR] - 
CTGAT:SCR: error during sending request to SCR.the request url is: http:
//localhost:17310/SCRCLUSTER_SCR_oslc/scr/gettimethe error message is: 
Request to SCR Provider Error 
HTTP Connection ERROR 
URL ishttp://localhost:17310/SCRCLUSTER_SCR_oslc/scr/gettime
Response Code is 401 
Error message is null

Access gettime servlet by using the actual host name instead of localhost in the URL:
For example:
http://hostname:17310/SCRCLUSTER_SCR_oslc/scr/gettime 


Following shows successful execution of gettime servlet:

[/support/docview.wss?uid=swg21657155&aid=2] [/support/docview.wss?uid=swg21657155&aid=2]

If the gettime executes successfully, then use connManager.sh script to set the host name of the SCR provider (-ph).
cd /opt/IBM/APMUI/usr/servers/apmui/apps/customCfg 
./connManager.sh -apm -o <apmui_port> -u <apmui_user> -p <apmui_pass> -a -ph <scr_host> -po <scr_port> -pu <scr_user> -pp <scr_pass> -pt SCR 

For example: 
./connManager.sh -apm -o 8080 -u apmadmin -p apmpass -a -ph ibmhost.ibm.com -po 17310 -pu apmadmin -pp apmpass -pt SCR 

Restart the apmui and scr servers. Log into APMUI, and save an application. The problem should be resolved.

3) The apmadmin user's password for scr server is incorrect.
If you see unauthorized access message in APMUI_HOME/usr/servers/scr/log/console.log, such as the following, then the password for apmadmin user on scr server may be incorrect.
[ERROR ] CWWKO0801E: Unable to initialize SSL connection. Unauthorized access was denied or security settings have expired. Exception is javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?

Check if you have changed apmadmin user's password on APMUI. Use connManager script to change the apmadmin password for the scr server.

For example, if apmadmin user's password is changed to apmpass1, then use the following command to set the same password for scr (-pp): 
./connManager.sh -apm -o 8080 -u apmadmin -p apmpass1 -a -ph ibmhost.ibm.com -po 17310 -pu apmadmin -pp apmpass1 -pt SCR 

If using ldap user repository, refer to APMUI user guide section, "Configuring an LDAP user registry for Liberty profile", and make sure that all the steps have been performed correctly. 

RELATED INFORMATION
 Configuring an LDAP user registry for Liberty profile [http://www.ibm.com/support/knowledgecenter/SSATHD_7.7.0/com.ibm.apm.doc_77/apm_ui_docs/apmui_77/config_LDAP_user_reg.html]