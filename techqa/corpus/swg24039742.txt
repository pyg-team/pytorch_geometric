Title: IBM Tivoli Business Service Manager V6.1.1 Fix Pack 3(6.1.1-TIV-BSM-FP0003) - United States

Text:
 DOWNLOADABLE FILES

ABSTRACT
 This Fix Pack addresses problems reported in IBM Tivoli Business Service Manager 6.1.1 

DOWNLOAD DESCRIPTION



*************************************************************
* A change introduced by this Fix Pack is incomplete but will not 
* adversely affect existing function.
*
* Please refer to APAR(s) IV76788 for a description of the 
* problem(s) and corrective action(s). 
*
* Evaluate this APAR for the potential impact in your environment.
*
* Please refer to APAR(s) IV79769 for a description of the 
* problem(s) and corrective action(s). 
*
* Evaluate this APAR for the potential impact in your environment.
*
* A change introduced by this Fix Pack might negatively 
* affect existing product function.
*
* Please refer to APAR IV79769 for a description of the 
* problem and corrective action. See tech note for more details:
* http://www-01.ibm.com/support/docview.wss?uid=swg24041505 [http://www-01.ibm.com/support/docview.wss?uid=swg21968610]
*
* Evaluate this APAR for the potential impact in your environment.
*
* Please refer to APAR(s) IV91142 for a description of the 
* problem(s) and corrective action(s). APAR IV71513 introduced in FP3
* may affect performance in rare circumstances. 
*
* Evaluate these APARs for the potential impact in your environment.
*************************************************************


IBM Tivoli Business Service Manager 6.1.1
Fix Pack Version 6.1.1-TIV-BSM-FP0003


Readme file for: IBM Tivoli Business Service Manager
Product/Component Release: 6.1.1
Update name: Fix Pack 3
Fix ID: 6.1.1-TIV-BSM-FP0003
Publication Date: July 6, 2015
Last modified date: July 3, 2015
Online version of the readme file:
http://www.ibm.com/support/docview.wss?uid=swg24039742 [http://www.ibm.com/support/docview.wss?uid=swg24039742]

Attention: You can always find the most current version of the readme file online.


Contents

1.0 Files included in this Fix Pack
2.0 Hardware and software requirements
3.0 Installation information
3.1 Dependencies
3.2 Prerequisites
3.3 Special considerations
3.4 Superceded Fixes
3.5 Extracting Fix Pack files
3.5.1 Extracting on Linux, Solaris, Linux for System z, and AIX 
3.5.2 Extracting on Windows platforms
3.5.3 Fix pack directories
3.6 Maintenance upgrade strategy 
3.6.1 Example maintenance scenario
3.7 Installation 
3.7.1 Installing the Fix Pack
3.7.2 Discovery Library Toolkit
3.8 TBSM agent
3.9 Uninstalling the Fix Pack
3.10 Recovering from a failed Fix Pack install
3.11 Restoring failed DE upgrade from backup 
3.12 "Service Level Objectives (SLO) Reporting" function
4.0 Additional information for TBSM Fix Pack 2 APARS
4.1 IV30875 - ERROR CTGBC0053E WHEN SELECTING SERVICE IN A CANVAS
4.2 IV65545 - TBSMEVENTREADER STOPS BECAUSE EVENT PROCESSOR BLOCKING 
ON RADEVENTSTORE
5.0 List of APARs
5.1 TBSM 6.1.1 Fix Pack 3 APARS
5.2 TBSM 6.1.1 Fix Pack 2 APARS
5.3 TBSM 6.1.1 Fix Pack 1 APARS
5.4 Tivoli Integrated Portal
5.5 Jazz for Service Management (JazzSM)
6.0 New support and features
6.1 TBSM 6.1.1 Fixpack 3
6.2 TBSM 6.1.1 Fixpack 2
6.3 TBSM 6.1.1 Fixpack 1
6.4 Additional Browser Support with Fixpack 3
6.5 Additional Browser Support with Fixpack 2 
6.6 eWAS Fixes and Upgrades 
6.7 OMNIbus 8.1
6.8 DB2
6.9 TADDM 7.3 Integration
7.0 Known issues
7.1 Some date options in TBSM Reports do not work
7.2 Issues creating wire between Service Tree and Active 
Event List (AEL)
7.3 TBSM Agent Chart title differs from name in the 
drop down list
7.4 Minimize-restore does not restore to correct size for
Service Navigation->Data Fetchers on Internet Explorer(IE) 9
7.5 Portlets covering content in a free form page 
7.6 Creation and deletion of Services and Templates that contain 
special characters
7.7 WEBSERVICES SECURITY NOT FUNCTIONAL
7.8 If using WEBSERVICES SECURITY (WSS) user authentication
7.9 Microsoft Internet Explorer 11
7.10 With certain Solaris installations the Event Summary portlet
may fail render
7.11 TIP Portlet blank or does not load after TIP 2.2.0.15
installation 
7.12 TIP chart portlet blank if TBSM Service Admin page is
closed and re-opened
7.13 TBSM integration with ISM is no longer operational
7.14 Java Security Warnings
8.0 Copyright and trademark information


=======================================================================
1.0 Files included in this Fix Pack
-------------------------------

Fix Pack 3 addresses the problems that have been reported in IBM®
Tivoli® Business Service Manager version 6.1.1. The following table
contains a list of files included in this Fix Pack and operating systems
associated with these files:

+---------+----------------------------------------------------------------+
| Platform| File |
+---------+----------------------------------------------------------------+
| AIX® | 6.1.1-TIV-BSM-FP0003-aix.tar |
| | |
+---------+----------------------------------------------------------------+
| Linux® | 6.1.1-TIV-BSM-FP0003-linux.tar |
| | |
+---------+----------------------------------------------------------------+ 
| Solaris | 6.1.1-TIV-BSM-FP0003-solaris.tar |
| | |
+---------+----------------------------------------------------------------+
| Windows®| 6.1.1.-TIV-BSM-FP0003-windows.zip |
| | |
+---------+----------------------------------------------------------------+
| zLinux | 6.1.1-TIV-BSM-FP0003-zlinux.tar |
| | |
+--------------------------------------------------------------------------+
|all platforms| 6.1.1-TIV-BSM-FP0003.README |
+-------------+------------------------------------------------------------+
|all platforms| 6.1.1-TIV-BSM-FP0003.README_Translated.zip | 
+-------------+------------------------------------------------------------+ 


Note: Whenever <ARCH> is used in the text of this readme, as part of the
filename of the Fix Pack package, it refers to, and can be
substituted for one of the following operating systems:
* Linux
* Solaris
* AIX
* Windows
* zLinux 

The following files have been updated or replaced by this Fix Pack. 

Added files on the Data Server:
ObjectServer_DS_config.ant
tbsm_generic_ant_caller.bat
tbsm_generic_ant_caller.sh
TBSM_BusCompCreateShadows.js
TBSM_BusCompPlaceAllCIsByIdentifier.js
TBSM_BusCompShadowTechnologyGroups.js
TBSM_ResEnrichReaderRecycle.js
ApplyPoliciesFor611FP3
BSM_TemplateUpdates611FP0003.radsh
setJVMSettings.jy
setJVMSettings.bat
setJVMSettings.sh
smack-3.3.0.jar
smackx-3.3.0.jar
org.apache.axis2-woden.jar
ipa-1.0-20120430.jar
TDWHistory.xml 
Files under tbsm/tools directory

Replaced files on the Data Server:
ASQLStore.class
BSM_Templates.radsh
BSM_Templates_updatepropagation.radsh
BSM_Templates_templates_only.radsh
BSM_Templates_instances_only.radsh
canvasOpenURLActions.xml
collect_logs.ant
fo_config.ant
fo_data_config.ant
tbsm_consistency.zip
setTraceLevel.jy
scriptedAPIStartup.bsh
MigrateUserActionscanvasDynamicSubMenuActions_X.xsl
MigrateUserActionscanvasOpenURLActions_X.xsl
tbsm_viewDefinitionFiles.lst
tbsmDataImport.xml
VisualRepresentationAttributes.xml
av.jar
tbsm-info.jar
itmdataclient.jar
maintcli.jar
ncs.jar
tbsm-jviews.jar
ncsagent.jar
ncsSoapClient.jar 
ncChartComponent.jar
new-server.xml
RAD_namevalidator.props 
TBSM_BusCompPlaceAllCIsByAttr.js
TBSM_markerChangeProvider.ipl
TBSM_ResEnrichMain.js
TBSM_SLAUpdateServiceEvent.ipl
TBSM_AV_GetColorForSeverity.ipl
update-ear.py
versioninfo.bat
versioninfo
verutil.jar
Files under tbsm/contrib/gistools

Replaced Impact files on the Data Server: 
nciJmxClient.jar
nci.jar


If you have made changes to the above mentioned files you will
find your copy of the file under:

- Copy of scriptedAPIStartup.bsh (scriptedAPIStartup.bsh.orig)
can be found in the same directory as the original.
- The copy of the files can be found in the following
directory: 
[InstallDirectory]/
tipv2/logs/tbsm/maintenance/backup/6.1.1.0/FP0003/data


If Service Level Objectives (SLO) Reporting was previously deployed,
then the following policy files will also be overwritten by this Fix
Pack:

TBSM_createBusinessCalendarDefn.js
TBSM_createServiceDefinition.js
TBSM_recordSLAMetric.js
TBSM_serviceDowntimeBasedOnTBSMStatusChange.js
TBSM_slaDefGlobalSettings.js
TBSM_serviceDefinition.js
TBSM_db2GetData.js
TBSM_getDataFromTBSMAvailability.js
TBSM_BusinessCalendar.js


---
Added files on the Dashboard Server:
ObjectServer_DS_config.ant
tbsm_generic_ant_caller.bat
tbsm_generic_ant_caller.sh
about_icon22.png
about_thumb.png
setJVMSettings.jy
setJVMSettings.bat
setJVMSettings.sh

Replaced files on the Dashboard Server:
canvasviewer_simple.html
tbsm-jviews.jar
tbsm-symbol-palette.jar
rad_nodes_links.css
LaunchTBSM.nova
RAD_help_eclipse.props
RAD_sla.props
RAD_namevalidator.props
serviceTreePortletView.jsp
serviceNavigatorPortletView.jsp
CreateDBPoller.jsp
ActionLoader.jsp
delete_template.jsp
About.jsp
esda_model.jsp
actionLoader.jsp
serviceViewerPortletView.jsp
autopop_config.jsp
ChartInstanceChooser.jsp
ism_instances.jsp
instanceuserpreferences.jsp
main_ruleset_id_fields.jsp
main_ruleset_rules_list.jsp
main_rulesets_output.jsp
main_rulesets_rules.jsp
main_rulesets_sla.jsp
serviceTreePortletEdit.jsp
serviceViewerPortletEdit.jsp
taguserpreferences.jsp
InstanceCustomizerWizard.jsp
EventRawAttributeSelector.jsp
TBSMCMPopup.jsp
BIRTChartConfig.jsp
columnProperties.jsp
dependency_rule.jsp
EditDBPollerFrames.jsp
ErrorMessageHandler.jsp
main_content.jsp
main_ruleset.jsp
main_rulesets_security.jsp
main_service.jsp
main_service_security.jsp
main_tabs.jsp
main_view.jsp
ServiceInstanceDependents.jsp
LaunchDataBrowser.jsp
rawattributeWizard/raw_event_table_fragment2.jsp
RAD_AV_GetColorForSeverity.ipl
radlabels*.properties
ncs.jar
ncsSoapClient.jar
ncChartComponent.jar
av.jar
itmdataclient.jar
ipa-1.0-20120430.jar
itmdataclient.jar
nci.jar
nciClient.jar
ncCommon.jar
tbsm-info.jar
web.xml
collect_logs.ant
fo_config.ant
fo_data_config.ant
Policies.jsp
TypeBrowser.jsp
impactAdmin.properties
ROIEffReportIWidget.xml
setTraceLevel.jy
versioninfo.bat
versioninfo
verutil.jar
Files under impactAdmin.war/scripts
Files under sla.war/dojo
Files under sla.war/audit/dojo
Files under twa.war/dojo
RAD_dashboard_dataprovider.props
timeSeriesSearchDialog.jsp
timeSeriesPortletView.jsp
tbsm-ltwd-server.jar


Replaced Impact files on the Dashboard Server:
nciClient.jar 
nciJmxClient.jar
NCICLUSTER-EIC_configure.html
TBSMCLUSTER-EIC_configure.html 
NCICLUSTER-new1twin.html
TBSMCLUSTER-new1twin.html
NCICLUSTER-newrwin.html
TBSMCLUSTER-newrwin.html


If you have made changes to the above mentioned files you will
find your copy of the file under:
- The copy of the files can be found in the following
directory:
[InstallDirectory]/
tipv2/logs/tbsm/maintenance/backup/6.1.1.0/FP0003/dash

---

Added files associated with the Discovery Library Toolkit:
remove_merged_resources.xml
migration/loadTaddmJars.bat 
migration/migrateTaddmModel.bat 
migration/loadTaddmJars.sh 
migration/migrateTaddmModel.sh 
migration/migrateClassFilters.xml 
migration/etc/userPasswordPrompt.properties
db-checkupbeforecleanup.sql

Replaced files associated with the Discovery Library Toolkit:
scc_refreshnamingcommitchanges.sql 
scc_checkfordupsinstage.sql 
scc_processcreatecomponents.sql 
scc_remove_merged_resources.sql
NamingRules.xml 
genStep1SqlForTADDMFromOrm.xsl 
genStep2SqlForTADDMFromOrm.xsl 
genTheSQLTADDMFromOrm.xsl 
ScrProducePostProcessingSql.xsl 
xmltoolkitsvc.properties 
ASICLTools.jar
setdbshema.[sh|bat]
createidmlbook.sql
db-cleanup.sql



If you have made changes to the above mentioned toolkit files you will
find your copy of the files under:
[InstallDirectory]/tbsm/XMLtoolkit/log/install/maintenance/backup/611FP0003

---

TBSM agent packages are available for download from the TBSMAgent
directory on the support download site. The TBSMAgent code was last
updated with TBSM 6.1.1 Fixpack 1


=======================================================================

2.0 Hardware and software requirements
----------------------------------

For information about hardware and software requirements, see the
Tivoli Business Service Manager Installation Guide on the IBM
Tivoli Business Service Manager Information Center (at IBM Knowledge Center):

http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/welcome.htm [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/welcome.htm]

To apply this Fix Pack you will need 3 GB of disk space. Please check
the amount of space you have before you install, as the installation
will fail if you run out of space.


=======================================================================
3.0 Installation information
------------------------

3.1 Dependencies

This Fixpack must be installed on each server(s) that is running 
the TBSM data server or TBSM dashboard server.

This Fixpack requires IBM Tivoli Business Service Manager 
Version 6.1.1 to be installed.

3.2 Prerequisites
-------------

Tivoli Integrated Portal 2.2.0.15 version 2 (v2) has been certified. It
can be installed after installing this fix pack.

IBM strongly recommends updating to TIP FP 2.2.0.15 v2, if support is
required for FF ESR 31 and IE11. If the TBSM data server and dashboard 
server are installed on different machines, the TIP Fix Pack needs to be 
installed only on the dashboard server. In case of a TIP HA environment, 
the HA nodes need to be disjoined first before upgrading to TIP FP.

See Fix Central for availability:
http://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~Tivoli&product=ibm/Tivoli/Tivoli+Integrated+Portal&release=2.2.0.15&platform=All&function=all [http://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~Tivoli&product=ibm/Tivoli/Tivoli+Integrated+Portal&release=2.2.0.15&platform=All&function=all]

Post installation of TIP 2.2.0.15 v2 requires a re-start of the
Dashboard server and clearing of all user's browser cache!

3.3 Special considerations
----------------------

Consider this information before you install the Fix Pack:
1. You will be prompted during the installation to specify a backup
directory name. The installer backs up DE at this location.

2. This Fixpack does not backup the entire application. It only
backs up the files that it has updated/replaced. A backup copy of the
original files can be retrieved from:
[InstallDirectory]/tipv2/logs/tbsm/maintenance/backup/6.1.1.0/FP0003

3. The TBSM and TIP processes or services may remain running but, will 
be re-started during the Fix Pack install process. If the processes
or services are manually stopped, prior to the Fix Pack install,
please make sure both the OMNIbus Object server and DB2 processes or
services remain running!

NOTE: The installer will start/stop the TBSM and TIP services as
needed, during the install process.

On Linux/Unix: perform the following

1. To stop the TBSM Data server issue the following command:

$TIP_HOME/profiles/TBSMProfile/bin/stopServer.sh server1 
-username <adminuser> -password <adminpassword> 

2. To stop the TBSM Dashboard server, issue the following 
command:

$TIP_HOME/profiles/TIPProfile/bin/stopServer.sh server1 
-username <tipadminuser> -password <adminpassword> 

By default, username is tipadmin and password is the 
tipadmin password.

3. To stop the TBSM Discovery Library Toolkit issue the 
following command:

$TBSM_HOME/XMLtoolkit/bin/tbsmrdr_stop.sh 

On Windows:

1. In the Start menu, click Settings -> Control Panel
-> Administrative Tools -> Services.

The Services window opens. Depending on what services 
you have installed, the available services are as follows: 

Tivoli Business Service Manager - TBSMProfile_Port_17310. 
This is the Data server. 
Tivoli Integrated Portal - V2.2_TIPProfile_Port_16310.
This is the Dashboard server. 
Tivoli BSM Discovery Library toolkit 
EIF probe 
This service appears only if the EIF probe was installed 
as a Windows service. 

2. Right-click the service that you want to stop and click Stop.


4. All non-vital programs should be closed prior to installation of 
the Fixpack. 


3.4 Superceded Fixes
----------------

6.1.1.0-TIV-BSM-IF0001 is superceded by this Fix Pack.
6.1.1.0-TIV-BSM-IF0002 is superceded by this Fix Pack.
6.1.1.0-TIV-BSM-IF0003 is superceded by this Fix Pack.
6.1.1.0-TIV-BSM-IF0004 is superceded by this Fix Pack.
6.1.1-TIV-BSM-FP0001 is superceded by this Fix Pack.
6.1.1-TIV-BSM-FP0002 is superceded by this Fix Pack.


3.5 Extracting Fix Pack files
-------------------------

3.5.1 Extracting on Linux, Solaris, Linux for System z, and AIX 
platforms

1. Copy the file 6.1.1-TIV-BSM-FP0003-<ARCH>.tar to a temporary
location on your TBSM Server.

2. Unpack the file on each host where you need to install the Fix
Pack using these commands:

tar -xvf 6.1.1-TIV-BSM-FP0003.<ARCH>.tar


3.5.2 Extracting on Windows platforms
-------------------------------

1. Copy the 6.1.1-TIV-BSM-FP0003-windows.zip file to a temporary
location on your TBSM server host.

2. Unzip the file on each server where you need to install the Fix Pack.


3.5.3 Fix pack directories
--------------------

When you extract the file, these directories are created: 

TBSM -TBSM data server and dashboard server and TIP updates.

DiscoveryLibrary -Discovery Library Toolkit updates

<ARCH>/Reports

Samples


3.6 Maintenance upgrade strategy
----------------------------

Before you install the Fix Pack, you need to plan how and when you will
upgrade each TBSM server in your environment. 


3.6.1 Example maintenance scenario
----------------------------

In this example, the maintenance is staged into two phases to
reduce the time required for the TBSM maintenance window.

In this example environment, there are four servers: 
* primary data server
* backup data server
* two dashboard servers set up for load balancing called: dash1
and dash2

Follow this sequence:

Before you start the maintenance window: 
1. Upgrade backup data server
2. Upgrade one dashboard server (for example dash2)
3. Use the primary data server and dash1 for regular production
activities

After you complete the upgrade the two secondary servers, start
the maintenance window down time for the production servers.
1. Upgrade primary data server
2. Upgrade dash1

After you complete the upgrade for all the servers: 
1. Start primary data server
2. Start backup data server
3. Wait until TBSM completes the server synchronization.
4. Start the dashboard servers. 


3.7 Installation
------------


3.7.1 Installing the Fix Pack
-----------------------

[Fix Pack] Refers to the directory where you extracted the Fix
Pack files from the zip/tar file.

Attention: Install the Fix Pack with the same user that was
used to install TBSM 6.1.1 GA


NOTE: If you have deployed the Service Level Objectives (SLO) 
Reporting Function, you must do the following before
installing the Fix Pack:

- Stop all Impact services that are running policies that
call the SLO functions to record data in the SLORPRT
database. If you have the service set to start at
server startup, then turn this option off before
installing the fixpack, as the server is restarted
during the fixpack install.

Running the install without DE backup:

If you prefer to backup DE with your own procedures you can
run the install with the following parameter.

-DNO_BACKUP=true

(for Silent Install, uncomment the "NO_BACKUP=true" 
parm on the setupFP.rsp response file)

If you choose this method, you must backup DE before you install.
And restore the original system using your backup/restore
procedures or utilities (if uninstalling the Fix Pack).

Follow this procedure to install the Fix Pack:

1. On the Tivoli Business Service Manager server host, change to the
[Fix Pack]/TBSM directory where you extracted the files.
2. Run the installation using one the following commands:
* setup-windows.exe - Windows.
* setup-<unixplatform>.bin - other operating systems.

Installation command options:

GUI mode No options, for example: 
Windows: setup-windows.exe

or

UNIX® : ./setup-<unixplatform>.bin 

Console mode
Use the -i console option. 
For example -
Windows: setup-windows.exe -i console

or 

UNIX® : ./setup-<unixplatform>.bin -i console

Silent Mode

a. Copy setupFP.rsp from the TBSM directory of the extracted
Fix Pack file ([Fix Pack]/TBSM) to a location it can be
edited (/tmp).
b. Update the file to match your environment.
c. Confirm acceptance of license, by un-commenting this line
and setting the parm to "true":
#LICENSE_ACCEPTED=false
d. Run:

Windows: setup-windows.exe -f C:\tmp\setupFP.rsp

or 

UNIX® :setup-<unixplatform>.bin -f /tmp/setupFP.rsp

Note: The response file needs to have a fully qualified
path.

3. During the install you will be asked to to verify
path names to the TIP install.

4. Restart both the Data and Dashboard processes/services

5. After install is complete (and with the data server started), run
the script ApplyPoliciesFor611FP3, which can be found on the Data
Server under $TBSM_HOME/bin. This script loads the new/updated
policies.

NOTE: Do not run the ApplyPoliciesFor611FP3 on the secondary/
backup data server of a failover pair. This only needs to
be run on the primary data server.

On Windows:

ApplyPoliciesFor611FP3.bat <adminuser> <adminpassword>
For example - ApplyPoliciesFor611FP3.bat tipadmin tipadmin

On Linux/Unix:

./ApplyPoliciesFor611FP3 <adminuser> <adminpassword>
For example - ./ApplyPoliciesFor611FP3 tipadmin tipadmin 

NOTE: Verify that the admin user id and password are
correct otherwise, the script will fail at the last step.

If incorrect, rerun the script with a valid adminuser id
and password.

6. From the TBSM 6.1.1 Fix Pack 3 install media, copy these files
onto the DB2 server (where the tbsmdb was initially installed,
when TBSM was first setup).

from: [Fix Pack]/TBSM/TBSMDBChecker
to: [InstallDirectory]/tbsmdb/bin

TBSM_Check_DB.bat
TBSM_Check_DB.sh
tbsmDatabaseChecker.xml
TBSMDBChecker.props

NOTE: The above action is only needed if you ever plan to use
the TBSM_Check_DB script, which will now suppress the
display of the requested user password.

7. After installing this Fix Pack, end-users may need to clear their
browser cache, close and re-open the browser; in order to avoid
any issues on the client side.

8. If the Impact "Service Level Objectives (SLO) Reporting"
function was enabled, please refer to section 3.12 for additional
post Fix Pack installation required actions.

9. Please refer to section 4.0 "Additional information for TBSM Fix Pack 3 APARS"
for additional post install actions.


3.7.2 Discovery Library Toolkit
-------------------------

1. Navigate to the DiscoveryLibrary directory.

2. To install Fixpack 3, 

If you are on a Windows operating system, run the following
command from a prompt: 

setup-dltoolkit-6.1.1-FP0003-windows_64.exe

If you are on a Unix operating system, run the following
command from a prompt:

setup-dltoolkit-6.1.1-FP0003-<unixplatform>_64.bin

For console mode, specify "-i console".

Note: If the installer cannot find the TBSM 6.1.1 Discovery 
Library Toolkit, verify that the toolkit is installed and 
that it was installed by the user that the fixpack is being 
installed with. If these are both okay, then set the environment
variable TBSM_TOOLKIT_BASE to the location of the toolkit and 
restart the toolkit installer. For example: 
Windows:
set TBSM_TOOLKIT_BASE=C:\Program Files\IBM\tivoli\tbsm\XMLtoolkit
UNIX:
export TBSM_TOOLKIT_BASE=/opt/IBM/tivoli/tbsm/XMLtoolkit

3. The toolkit installer requires access to the database.


4. Notes and Post-Install Considerations:

a) After installation is complete, you may remove
[fixpack] to save space.

5. Restart the toolkit.


3.8 TBSM agent
----------

Installing the TBSM agent (last updated with TBSM Fix Pack 1):

The following packages are available for download in the TBSMAgent
directory on the support download site:

* AIX: KR9_aix526CD-6.1.1-TIV-BSM-FP0001.tar.gz -AIX (64 bit) 

* Linux: KR9_lx8266CD-6.1.1-TIV-BSM-FP0001.tar.gz -Li x86_64R2.6(64 bit)

* Solaris: KR9_sol286CD-6.1.1-TIV-BSM-FP0001.tar.gz -Solaris R8(64 bit)

* Windows: KR9_wix64CD-6.1.1-TIV-BSM-FP0001.zip -(64 bit)

* zLinux: KR9_ls3266CD-6.1.1-TIV-BSM-FP0001.tar.gz -Li S390R2.6(64 bit)


To install the updated TBSM agent (FP1), if not already installed:
1. Download the appropriate agent code for your platform.
2. Untar or unzip the file.
3. Install the agent according to the directions in the TBSM
Installation Guide. This is a complete install package for the TBSM
agent support and can be used for a fresh install of the agent.

For instructions on installing and configuring the TBSM agent, see:

http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsni_agent_ic_install_config.html [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsni_agent_ic_install_config.html]


3.9 Uninstalling the Fix Pack
-------------------------

Before uninstalling the FixPack all TBSM processes should be
STOPPED. The user must manually stop the TBSM processes, before 
the uninstall of the FixPack (except for OMNIbus and DB2).

Attention: Uninstall the Fix Pack with the same user that was used to
install TBSM 6.1.1 GA.

Silent mode and uninstall


If silent mode was used for the install, the uninstall will
default to a silent uninstall and you must supply a response
file or the uninstall will fail.

For silent mode uninstalls, copy the setup_uninstall.rsp file
from the Fix Pack image to the directory:

<installDir>/tbsm/_uninst/TBSM611_FP3

and update the file with the correct information. Then launch
the installer specifying the file. For example:

uninstall(.exe) -f /tmp/setup_uninstall.rsp

Note: The response file needs to have a fully qualified path.

On the Tivoli Business Service Manager server system:

1. Change to the directory: 
<installDir>/tbsm/_uninst/TBSM611_FP3

2. Run the uninstall command:

UNIX: If you are on a Unix operating system, run the following
command from a prompt.

./uninstall


Windows: If you are on a Windows operating system, run the following
command from a prompt.

.\uninstall.exe

For console mode, specify "-i console"

3. After the command has completed, run the following commands to clear
the server cache.

Linux/AIX: <TIP_HOME>/bin/clearClassCache.sh

Solaris: java -Xshare:dump

Windows: <TIP_HOME>\bin\clearClassCache.bat



4. Uninstall eWAS 7.0.0.35

NOTE: On a "Data server only" environment, the TBSM 6.1.1 Fix
Pack 3 un-installer will not remove the upgraded eWAS
7.0.0.35 Fix Pack it installed. If there are plans to, at
a future time, re-install TBSM 6.1.1 Fix Pack 3, it is
necessary to manually un-install eWAS 7.0.0.35. 

These steps DO NOT apply to a "Dashboard sever only"
environment or a "Single server" environment, where both the
Data and Dashboard are installed together.

Again, these steps are only needed on a "Data server only"
environment. Failure to perform these actions, will prevent
the re-install of TBSM 6.1.1 Fix Pack 3!

a). Copy the uninstall-WASEmbeded.txt to a temporary location
The uninstall-WASEmbeded.txt file is located on:
<installdir>/tbsm/_uninst/TBSM611_FP3/plan/install/MachinePlan_localhost/00002_WASFP/uninstall-WASEmbeded.txt

For example on Unix:
/opt/IBM/tivoli/tbsm/_uninst/TBSM611_FP3/plan/install/MachinePlan_localhost/00002_IAGLOBAL_COI_STEP_WASFP/uninstall-WASEmbeded.txt

For example on Windows:
C:\IBM\tivoli\tbsm\_uninst\TBSM611_FP3\plan\install\MachinePlan_localhost\00002_IAGLOBAL_COI_STEP_WASFP\uninstall-WASEmbeded.txt


Or from the TBSM 6.1.1 FP3 install media:
6.1.1-TIV-BSM-FP0003-<ARCH>\TBSM\COI\PackageSteps\WASFP\uninstall-WASEmbeded.txt


b). Edit the uninstall-WASEmbeded.txt (on the temporary location)

c). locate this line: -W product.location="@IAGLOBAL_WAS_HOME@"

d). Replace above line with: -W product.location="<installdir>/tipv2"

Where <installdir> is the fully qualified directory where tipv2 located:

for example (Unix): -W product.location="/opt/IBM/tivoli/tipv2"

for example (Windows): -W product.location="C:\IBM\tivoli\tipv2"

e). Save the uninstall-WASEmbeded.txt file (on the temporary location)

f). Execute the following command:
On Unix:
<installdir>/tipv2/WebSphereUpdateInstallerV7/update.sh -options <templocation>/uninstall-WASEmbeded.txt -silent

for example: /opt/IBM/tivoli_root/tipv2/WebSphereUpdateInstallerV7/update.sh -options /tmp/uninstall-WASEmbeded.txt -silent

On Windows:
<installdir>/tipv2/WebSphereUpdateInstallerV7/update.exe -options <templocation>/uninstall-WASEmbeded.txt -silent

for exampe: C:\IBM\tivoli\tipv2\WebSphereUpdateInstallerV7\update.exe -options C:\Temp\uninstall-WASEmbeded.txt -silent

5. Restart the Data Server and Dashboard Server.



Discovery Library Toolkit
===================================================

The Toolkit portion of this fixpack cannot be uninstalled.
A backup copy of the original files can be retrieved from:

[InstallDirectory]/tbsm/
XMLtoolkit/log/install/maintenance/backup/611FP0003



3.10 Recovering from a failed Fix Pack install
-----------------------------------------

If the install fails, try to uninstall in which case, it goes back to
the previous version. If there is no uninstall file under 
_uninst/TBSM611_FP3, then nothing really got installed and you can delete
the TBSM611_FP3 file and reinstall.


3.11 Restoring failed DE upgrade from backup
---------------------------------------

To recover a failed Deployment Engine upgrade in TBSM 6.1.1, see the
TBSM Installation Guide at: 

http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsmi_upgrade_t_restore42.html [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsmi_upgrade_t_restore42.html]


3.12 "Service Level Objectives (SLO) Reporting" function
---------------------------------------------------


The information in this section applies only if you have deployed
the Impact Solution called "Service Level Objectives (SLO)
Reporting". The SLO function is enhanced by Fixpack 3 for:

* Support of a time zone specification when creating the SLA
definitions

* Detection of active outages in the sample policy that reads
from a TBSM Metric History database

* Bug fixes and improved documentation

For this function, See the 'SLO Reporting' topic under Impact
6.1.1 at the following url:

http://www-01.ibm.com/support/knowledgecenter/SSSHYH_6.1.1.3/com.ibm.netcoolimpact.doc/solution/imsg_slo_reporting_c.html [http://www-01.ibm.com/support/knowledgecenter/SSSHYH_6.1.1.3/com.ibm.netcoolimpact.doc/solution/imsg_slo_reporting_c.html]

If you have NOT deployed this solution, then you can skip this
section!


After installing the Fixpack, but BEFORE restarting any SLO services:

1) Update the SLORPRT database schema

a) You will need access to the machine where the SLORPRT
database was installed. If this database has not been
installed, then the SLO solution has not been deployed
and there is no need to continue this update to the
schema.

b) If necessary, copy files add_timezone.sql and
update_views_timezone.sql from 
[InstallDirectory]/impact/add-ons/slo/db
to a location accessible from the system you will use
to update the database schema in the next step.

c) Open a DB2 command window on a system with access to
the SLORPRT database and run the following commands:

db2 connect to SLORPRT user dbuser using dbpassword
( replace dbuser and dbpassword with the
user/password specified in datasource
SLOReportDatasource )

db2 -tvf <slo_sql_dir>/add_timezone.sql

db2 -tvf <slo_sql_dir>/update_views_timezone.sql

db2 connect reset

Where <slo_sql_dir> would be 
[InstallDirectory]/impact/add-ons/slo/db if on the 
same machine as the Impact Data server, or the directory
where you copied the files in step b if the SLORPRT
database is on a different machine


2) Once the Fixpack is installed and the SLORPRT database
schema has been updated, you should start any Impact
services configured for SLO processing. Remember to check
the option to start the service when the server starts,
if that is how you originally configured the service.

=======================================================================
4.0 Additional information for TBSM Fix Pack 3 APARS:
------------------------------------------------

The following APARs fixed in this service delivery require additional
action by users. If your environment uses or is experiencing the
symptoms described, use the instructions provided to complete the fix.

4.1 IV30875 - ERROR CTGBC0053E WHEN SELECTING SERVICE IN A CANVAS
Customers are now allowed to persist their log file settings 
without manually editing the server.xml file. Currently, customers
use the setTraceLevel script to set the maximum number of log files
and the size of these of files using the following method:

$TBSM_HOME/bin/setTraceLevel.sh <user> <pw> data/dashboard -setTraceOutputToFile 30 40

Now they will be able to persist these sizes by using the following
command.

$TBSM_HOME/bin/setTraceLevel.sh <user> <pw> data/dashboard -setstartup

Before this change, the call would only persist changes to the trace
level. Now it persists changes to the trace level as well as the log
file configurations.


4.2 IV65545 - TBSMEVENTREADER STOPS BECAUSE EVENT PROCESSOR BLOCKING ON
RADEVENTSTORE

The following SQL statements needs to be run after FP install, against 
the TBSM DB2 Database:

CREATE INDEX RADEVENTSTORE_IDX1 ON TBSMBASE.RADEVENTSTORE(RADSERIAL) COLLECT STATISTICS

The above SQL statement can be found on the following file:

./tipv2/profiles/TIPProfile/installedApps/TIPCell/isc.ear/sla.war/install/AddRADEventStoreIndex.sql

Please provide the above file to the TBSM DB2 Database Administrator, 
along with the following Notes:

Notes: 
1) Use
cat AddRADEventStoreIndex.sql | db2
to run the SQL. The command must be run against all DB2 databases
used for TBSM. The command does not require a server stop/start.

2) The ; delimiter is not used in the AddRADEventStore.sql file
- whether the delimiter is required or not depends on the
connection settings (-t option).

3) Typical output from the SQL: cat AddRADEventStoreIndex.sql | db2
db2 => db2 => db2 => DB20000I The SQL command completed successfully.
db2 => db2 => DB20000I The SQL command completed successfully.
db2 => db2 => DB20000I The RUNSTATS command completed successfully.

4) Typical output from the SQL (if the index already exists)
db2 => db2 => DB20000I The SQL command completed successfully.
db2 => db2 => SQL0605W The index was not created because an index
"TBSMBASE.RADEVENTSTORE_IDX" with a matching definition already exists.
SQLSTATE=01550
db2 => db2 => DB20000I The RUNSTATS command completed successfully.

5) Other warning:
SQL2314W Some statistics are in an inconsistent state. The newly
collected "INDEX" statistics are inconsistent with the existing 
"TABLE" statistics. SQLSTATE=01650

To address the message above, RUNSTATS Is Run after the index is
created. 

As well as the changes in the index there are 2 
configurations changed required for this APAR

a) Increase the number of allowed connections for the TBSMDatabase 
Data Source.

This can be done via the Impact GUI screen (Data Model) or via
the file tbsm\etc\TBSM_TBSMDatabase.ds

Increase the number from default 15 to 50 (or to limit 
recommended by DB2 Admin)

TBSMDatabase.DB2.MAXSQLCONNECTION=15
to
TBSMDatabase.DB2.MAXSQLCONNECTION=50

If changing via file, then a Data Server restart is required.


b) Set the LOCKTIMEOUT in DB2 to 30 seconds. The default is -1, 
which mean no timeout - If you set this parameter to -1, lock 
timeout detection is turned off. Setting to 30 seconds means 
sessions will only wait for 30 seconds for a lock. Again, this 
change should be made in consultation with local DB2 
Administrator.


=======================================================================
5.0 List of APARs
-------------

5.1 TBSM 6.1.1 Fix Pack 3 APARs
---------------------------

The following TBSM APARs are delivered with Fix Pack 3:
IV60619 DATA SERVER RESTART REQUIRED TO GET A WORKING DATA FETCHER AFTER DELETION OF DEPENDENT RULE
IV61278 RULE FILTER WITH 'NOT LIKE' ON SUMMARY FIELD MALFUNCTIONS
IV64797 SETDBSCHEMA -F A COMMAND SHOULD ALSO RESET THE RESENRICHREADER SERVICE. : 611
IV65695 FO_CONFIG SCRIPT DOES NOT CONFIGURE SET TBSM_B_IMPACTDB.DS DATA SOURCE PARAMETERS IN A FAILOVER ENVIRONMENT. : 611
IV65825 XMLToolkit: Single Quotes not Encoded on IDML file generation: 611
IV65947 ACCESSING CLOB DATATYPES IN TBSM DATABASE CAUSES DB2 ERROR, SQL0270N : 611
IV65949 ACCESSING TBSM DATABASE VIEWS WITH IN TBSM CAUSES DB2 ERROR : 611
IV65958 TBSM DATABASE QUERIES THAT USE MAX, MIN, DISTINCT, VIEWS CAUSES DB2 ERROR, SQL0243N : 611
IV66535 TOOLKIT ISSUE RELATED TO STATEMENT RTERMINATION CHARACTERS: 611
IV66950 TBSMEVENTREADER STOPS : THE REAL FIX FOR IV65545 IS TO FIX THE TXN CODE : 611
IV71255 SELECT STATEMENTS USED FOR LOGGING PURPOSES IN DB-CLEANUP.SQL SCRIPT NEED TO BE COMMENTED OUT. : 611
IV72005 IMPACT SLO FUNCTION

5.2 TBSM 6.1.1 Fix Pack 2 APARs
---------------------------

IV62456 OOM DUE TO CIRCULAR REFERENCES
IV62548 SAME SESSION CONTEXT USED FOR ALL RADSHELL SESSIONS, TRIGGERED FROM POLICIES
IV60168 MODIFIED 'TBSM_NUMERICATTRIBUTEFUNCTIONS' POLICY DOESN'T GET EXPORTED
IV56853 RADSHELL IMPORT FAILS DUE TO ORPHANED CHILD SERVICE
IV63608 AFTER FIX FOR APAR IV32754 SEE SQLSTATE=42704 EXCEPTION FOR TBSMSCR.SCCP_COMPCLASS IN TOOLKIT LOGS
IV65503 ESDA DOES NOT CLEAN OLD SERVICE IDENTIFICATION FIELDS
IV65786 TBSM CIRCULAR REFERENCES ISSUE
IV59886 TBSM DOES NOT RE-READ EVENT READER PROPS FILES AUTOMATICALLY WHEN YOU CONFIGURE/ENABLE EVENT ENRICHMENT
IV61880 INFINITE LOOP IN DATA SERVER CAUSED BY MALFORMED OFFLINE TASK
IV64950 DB2 ERROR DB2 SQL ERROR: SQLCODE=-805
IV60750 NUMERICAL RULES NOT CALCULATED ON TBSM RESTART
IV60961 CONCURRENTMODIFICATIONEXCEPTION THROWN WHEN YOU SELECT THE GUI FIND INSTANCE FUNCTION IN THE SERVICE AVILABILITY PORTLET
IV61199 TBSM SLAM EVENTS ONLY GENERATED IF THE RULE OUPOUT CHANGES
IV62273 CONCURRENTMODIFICATIONEXCEPTION ERRORS IN DASHBOARD LOG
IV62294 NUMERIC AGGRIGATION RULE CHANGES NOT SAVED
IV62246 DATA SOURCE FAILOVER SETTINGS CLASH BETWEEN TBSM AND IMPACT
IV64933 [NetcoolTimeoutException] Log file exceptions when persisting ESDA instances
IV65545 TBSMEVENTREADER STOPS BECAUSE EVENT PROCESSOR BLOCKING ON RADEVENTSTORE
IV66210 NULLPOINTEREXCEPTION DISPLAYED ON SYSTEM STATUS ON FAILBACK
IV65484 TBSM: DISPLAY NAME IN PERSISTENT SERVICE MODEL NOT BEING UPDATED
IV68113 DELTA IMPORTS NOT WORKING FOR BUSINESS APPLICATIONS WITH IMPORTING FROM TADDM 7.3 TO TBSM 6.1.1 FP1
IV60842 QUERY CONCATENATION PROBLEM WHEN THE PROPERTY 'DL_LIFECYCLESTATE_FILTER' IS ENABLED
IV56450 NULL POINTER EXCEPTION AFTER CLICKING ON 'FIND INSTANCE'
IV65991 DOCS ABOUT CONFIGURING FOR HTTP ACCESS INCORRECT



5.3 TBSM 6.1.1 Fix Pack 1 APARs
---------------------------

The following TBSM APARs are delivered with Fix Pack 1:

IV21679 MODEL CLEANUP NEEDED AFTER ALIAS CHANGES
IV30875 ERROR CTGBC0053E WHEN SELCTING SERVICE IN A CANVAS
IV33717 ADVANCED THRESHOLD LOOKS CORRUPTED WHEN IT CONTAINS SINGLE SPACE CHARACTERS
IV36878 Dont create rules with ' character'
IV38053 MAINTENANCE SCHEDULE IS NOT WORKING
IV38471 ADD LONGPARENTSERVICENAME TO THE TBSM REPORTING DATA MODEL.
IV38574 SERVICE TREE COLUMNS DO NOT RESIZE TO FIT WHEN PORTLET RESIZES SMALLER.
IV39167 NEED ABILITY TO LOGIN USING UID AND HAVE CN IN TIP BANNER
IV39517 ESDA RULE DIALOG DOES NOT ALLOW PARENT TEMPLATE CHOICE
IV39796 MAINTENANCE SCHEDULE WITH ADJACENT TIME WINDOWS CAUSING LOOP
IV42339 CUSTOMER TRY SETTING THE PARM TO 'NULL' TURNS OUT THE DATASOURCE FILE WE SHIP FOR OUR OBJECT SERVER
IV42657 SERVICE STATUS INCORRECT
IV42941 COMPONENT COMPOSITES NAME TOO LONG IMPORTED FROM TADDM
IV43098 SERVICE TREE REFRESH UPON CLICKING OR EXPANDING 
IV43165 INSTANCE PROPAGATION IN PLACE FOR SERVICES IMPORTED FROM TADDM BECAUSE OF RULE ON SCR_RETRIEVEDEPENDENTOBJECTSTEMPLATE
IV43469 TBSM HANGS DURING AUTOPOP - DATA SERVER IN WAIT LOOP
IV43804 VERSIONINFO ON A SPLIT SERVER, DATA SERVER IS INCOMPLETE
IV43865 SERVICE INSTANCE CONTAINING CHINESE/NLS CHARS GENERATES ERROR TCTUI1003E
IV44246 SOME INTERMEDIATE SERVICES MISSING EVENTS IN SERVICE DETAILS PORTLET
IV44582 TBSM 6.1.0 CONCURRENTMODIFICATIONEXCEPTION MESSAGE DISPLAYED.
IV45166 ITM POLICY DATA FETCHER CREATION - TBSM REMEMBERS ORIGINAL HOST DETAILS
IV45386 THE COLOR OF MAXSEVERITYRAWEVENTS NOT CORRECTLY HANDLED.
IV45868 THE SERVICE VIEWER DOES NOT LAUNCH ON ITALIAN CLIENT SYSTEMS
IV46098 MULTIPLE TADDM MSS ASSOCIATED WITH RESOURCES WHEN TBSM IS CONFIGURED TO WORK WITH TADDM CONFIGURED FOR FAILOVER
IV46811 COMMA IN TEMPLATE NAME CAUSES ILOG.VIEWS EXCEPTION 
IV46876 UNABLE TO LAUNCH LEL FROM HTTP SERVER
IV48813 ERROR POP UP WHEN SERVICE AVAILABILITY PAGE IS LAUNCHED 
IV49791 SECURITY ROLE IS NOT ACTED ON, WHEN ESDA INSTANCES ARE BELOW
IV50625 CROSS-SITE SCRIPTING VULNERABILITY AT TBSM 6.1.0.1
IV53791 EVENT COUNTS FOR PARENT SERVICES IS NOT ALWAYS UPDATED
IV54197 TBSM DISCOVERY LIBRARY TOOLKIT REQUIRES UPDATES TO INTEGRATE WITH FUTURE TADDM RELEASES
IV54587 TBSM AGENT - TEPS WORKSPACE TITLE DOES NOT MATCH WHAT IT SHOWS
IV55756 TBSM 6.1.1 ESDA POPULATION CAUSES OUTOFMEMORY IN TBSM DATA
IV56050 ERROR : JAVA.LANG.ERROR: JSFSECURITYPHASELISTENER - POSSIBLE
IV56270 OUTOFMEMORY: USERPROFERENCESSTORE FOR CHILD RELATIONSHIP ATTRIBUTES IS NO
IV57273 REQUEST ERROR IN BOTH VIEWS OF TBSM SERVICE INDICATORS
IV59723 CROSS-SITE SCRIPTING VULNERABILITIES INVOLVING 3 JSPS
IV61668 NETCOOLTIMEOUTEXCEPTION WHEN ESDA DISCOVERS TRIGGERS POLICY



List of TBSM APARs that have updates to the documentation:

IV54828 GET REQUESTS FROM DASH WIDGETS TO TBSM DATA SERVER
There is a new property (impact.dataproviderupdateprocessorintervalsecs), that
defines the interval at which the data provider fires status change updates.

IV42339 CUSTOMER TRY SETTING THE PARM TO 'NULL' TURNS OUT THE DATASOURCE FILE WE SHIP FOR OUR OBJECT SERVER
The ObjectServer_DS.ObjectServer.FAILOVERPOLICY parm can be
changed (in the TBSM_HOME/etc/(TBSM or TBSM_B)_ObjectServer_DS.ds
file by either manually editing the file (as shown on the
Install Guide) or running this new command, with either of
the three listed values:

Windows:

%TBSM_HOME%\bin\tbsm_generic_ant_caller.bat ObjectServer_DS_config.ant <parm>


Unix:

$TBSM_HOME/bin/tbsm_generic_ant_caller.sh ObjectServer_DS_config.ant <parm>

Available values:
1. DISABLE - configure to only connect to Primary Object Server
2. FAILOVER - configure FAILOVER back and forth between Object Servers but,
only if connection is lost. This is the Default (if NULL' is used)
3. FAILBACK - configure to FAILBACK to Primary Object Server, as soon as it is available.

IV46098 MULTIPLE TADDM MSS ASSOCIATED WITH RESOURCES WHEN TBSM IS CONFIGURED TO WORK WITH TADDM CONFIGURED FOR FAILOVER

#
# ---------------------------------------------------------------
# (Optional) Specifies a alias for building MSS Id. By default,
# the TADDM hostname is used. But in cases there TADDM is
# configured in failover, objects imported from the Primary
# TADDM and Backup TADDM will have different hostnames 
# used for building MSS. This will mean 2 MSS associated
# with objects.
# 
# When setting a string for the alias, use the primary taddm 
# hostname.
#
DL_AliasForMSS = PrimaryTaddmHostname
#
# Note: Launch in Context uses the MSS hostname to build the 
# sourceContactInfo value, which is used to contact the TADDM 
# server. For this reason, when TADDM is configured in Failover, 
# a front end server (load balancer) is required, to route Launch
# In Context requests to the active server. This will ensure 
# requests are routed to the secondary TADDM server, when the 
# primary is down.

IV65503 ESDA DOES NOT CLEAN OLD SERVICE IDENTIFICATION FIELDS
The property "UseESDAIdentifiersOnly" can be added, as an
additional parameter to the child Template, which will allow
users to select if they want previous event identifiers on a
service to be kept or erased with each invalidation. 

When set to "true", all previous event identifiers will be 
erased from TBSM memory model at each invalidation and the
service will only accept identifiers from ESDA policies or via
SCR API. When set to "false", all event identifiers, old or
newly added will be preserved for the service. User must
manually delete event identifiers that they do not wish to
keep. This is TBSM's default behaviour. 

IV65786 TBSM CIRCULAR REFERENCES ISSUE
There will be two new properties added in TBSM_sla.props file
that governs the check:

Property name: impact.sla.servicetreedepthlimit
Description: When the data is imported from TADDM, a depth
limit check will be done to the corresponding service tree 
during invalidation to ensure that the service tree has normal
relationship data. This property governs the depth limit for
the service tree. If the system detects a service tree with
depth level larger than the value set by this property, a 
warning service instance will be created to warn the user to
review their data relationship.

Default value: 20

Property name: impact.sla.disableimportalldescendantslimitcheck
Description: When set to "true", the service tree depth limit
will not be checked during invalidation.

Default value: false

IV62246 DATA SOURCE FAILOVER SETTINGS CLASH BETWEEN TBSM AND IMPACT
The APAR handles the issue of TBSM Failover settings for Data
Sources. Impact back-end java code handled whether or not
failover (or failback) is initiated in times of Data Source
failure. This back-end Impact code only uses the 
FAILOVERPOLICY settings in the .ds files

The APAR change has been in the TBSM interfaces to setting up
Data Source. There are 2 interfaces 1) GUI screen (as above)
and 2 radshell (createDataSource and export functions). 

1) TBSM GUI: The TBSM GUI will now set the FAILOVERPOLICY
setting in the .ds file. When editing existing files, if
no valid FAILOVERPOLICY exists, then the current
DISABLEFAILOVER setting will be used to determine a new
FAILOVERPOLICY setting, i.e. if no valid FAILOVERPOLICY
exists, then if DISABLEFAILOVER is true, FAILOVERPOLICY 
will be set to DISABLED. If DISABLEFAILOVER is false,
FAILOVERPOLICY will be set to FAILOVER

Take good note of the above. It means that existing data
sources will have a new FAILOVERPOLICY set, when they are
first saved via the GUI. Previously if FAILOVERPOLICY was
not valid, Impact assumed FAILOVER. But if you edit a data
source, and the data source has DISABLEFAILOVER = true,
and no valid policy set, then the new value for
FAILOVERPOLICY is DISABLED. This is correct behaviour, but
different to before. The best was to avoid any confusion,
it to check each .ds file and ensure that a valid
FAILOVERPOLICY is set. Do this either by editing the files
(in which case a Data Server restart is required) or by
opening each data source in the GUI. Not all Data Sources
will appear in the GUI (as some are built in). For these,
check the files. If editing files, ensure no spaces at the
end of settings. The only valid values for FAILOVERPOLICY
are DISABLED, FAILOVER and FAILBACK.

2) radshell: The Radshell interface also changes. The export()
function will now export the failover policy, and the
createDataSource takes a policy parameter (in place of the
boolean disablefailover parameter), Also, the old
createDataSource radshell function, will still work (for
backward compatibility with old exports). Note: Data Sources 
exported with IV62246 in place, will NOT work on old
systems-as the generated radshell command will contain a
policy string. 

The following IMPACT APARs are delivered with Fix Pack 3:

IV27869: related to PMR 15590,SGC,724 - For 6.1.1 Impact
- The latest build should be installing version 2.2.0.2 of 
VMMObjectServerPlugin
IV50058: IMPACT SERVER FAILS TO WORK PROPERLY WITH ANY SPACES IN CONFIGURABLE PROPS FILES
IV58590: SNMPTRAPACTION FAILS ON 2ND TRAP WHEN PROCESSING MULTIPLES
IV59481: UNABLE TO SEND HIBERNATIONS TO CLUSTER MEMBERS WHENEVER DIRECTSQL IS BEING USED
IV59770: DATA ITEMS RETRIEVED FROM A DIRECTSQL'S SELECT ARE NOT ABLE TO BE UPDATED
IV60438: IMPACT POLICY WIZARD (XML) FAILS WITH JAVA.LANG.NULLPOINTEREXCEPTION
IV61538: MWM WINDOWS DO NOT ADJUST FOR DST
IV61725: GETSCHEDULEMEMBER FUNCTION ISSUE
IV63535: UNABLE TO PERFORM DECRYPTION OF INPUT VALUE - DATA SOURCE ACCOUNT GETTING LOCKED
IV63942: SESSION.SENDCOMMAND IN A JS POLICY DOESN'T RETURNS ANY RESPONSE
IV64075: NullPointerExceptions
IV64837: IMPACT MWM WINDOW CREATED WITH WRONG END DATE
IV65055: GET/SETGLOBALVARIABLES DO NOT WORK WITH ACTIVATE FUCNTION
IV65179: LOCAL VARIABLES NOT RESTORED AFTER HIBERNATION
IV66164: ADD RECURRING MW WINDOW
IV67091: TBSM FAILOVER BACKUP NOT STARTED CORRECTLY IF STARTED TOO SOON
IV67829: ITM/TEPS DATA DISPLAYED INCORRECTLY IN UI
IV68383: DEBUG FLAG GENERATES MEMORY ISSUES WHEN NON OMNIBUS EVENTS ARE PROCESSED
IV69164: POLICY USES HIBERNATION WILL NOT WAKE UP
IV70836: COMMANDRESPONSE ERROR IN JS POLICY
IV71157: ACTIVATE FUNCTION CALLED FROM WITHIN POLICY SUB-FUNCTION HAS NO EFFECT
IV71513: EVENT IS NOT BEING PROCESSED CORRECTLY AFTER HIBERNATION
IV73098: EVENTS OCCURING ONE HOUR BEFORE ONE TIME WINDOW GOING INTO MAINTENANCE
IV73243: XSS ISSUE IN PROJECTNAME PARAMETER

The following IMPACT APARs are delivered with Fix Pack 2:

IV18554: 511:EVAL FUNCTIONALITY HAS CHANGED FROM 4.1 TO 5.1.1
IV23315: UPGRADE FROM IMPACT 5.1.1 TO IMPACT 6.x DISTRIBUTED [611]
IV64152: SECONDARY NODE CAN'T BIND TO THE NAME SERVER
IV61089: INSTALL FAILS AT STARTWAS STEP
IV63137: IMPACT 6.1.1 REPLICATION FROM PRI TO SEC NOT WORKING
IV62792: 1.2 GB WAS BEING FILLED BY BLANKS FROM LOGGER FUNCTION
IV61956: DATA MODEL NOT SORTED IN ALPHABETICAL ORDER
IV61746: IMPACT 611 FP1 INSTALL FAILS WHEN INSTALLING ON GA 611, WHICH HAS BEEN FIRST UPGRADED FROM IMPACT
IV61399: NULL VALUE ON FIELD, DASH WIDGET SPINS TO MANY TIME MAKING DATA VEIW VERY SLOW TO VIEW.
IV60005: DATA TYPE NOT SAVED CORRECTLY IF FEILD DELETED AND REMAINDER RE-ORDERED.
IV60253: TEPS UIDP NOT CLEARING CACHE, CAUSING MEMORY LEAKS.
IV58616: DIRECTSQL EXECUTE CAUSES EXCEPTION IN POLICY EXECUTION
IV58511: EMAIL READER SERVICE DOES NOT HANDLE EMAILS THAT USE A NON-STANDARD CHARACTER SET
IV53717: JMS MESSAGE LISTENER SERVICE NOT STOPPING PROPERLY
IV56745: IMPACT IS UNABLE TO HANDLE EXCEPTIONS FROM A WEBSERVICES CALL
IV56068: IMPACT THREADS INCREASING WHEN WEBSERVICES SECURITY IS ENABLED
IV55989: HIDDEN/DELETED FIELDS NOT BEING REMOVED FORM OPERATOR VIEW
IV50329: WEBSERVICES SECURITY NOT FUCTIONAL
IV56541: CONFVMM4NCOS SCRIPT IN IMPACT 6.1 IS NOT WORKING AS EXPECTED
IV47748: CAN'T LOAD WEBSERVICE LIBRARIES THAT HAVE JAVA OR JAVAX PACKAGES IN THEM
IV55464: UNABLE TO CREATE A BUTTON ON JAZZ AFTER JAZZ FP2
IV60923: USING THE DIRECTSQL APPROACH AND HAS IDENTIFIED THE NON-REFRESH OF THE SCHEMA ON USERNAME UPDATE IN THE DSA AS SECURITY RISK
IV59920: NO MEANS OF ENCRYPTING IMPACT.OBJECTSERVER.SECUREPASSWORD THAT WILL ALLOW AUTHENTICATION TO AN OBJECT SERVER USING FIPS

The following IMPACT APARs are delivered with Fix Pack 1:

IV11728: USING EVENTREADER PARSERESTRICTIONFILTER TO ALLOW THE USE OF GETDATE() 
IV21717: ONE TIME MAINTENANCE WINDOWS DO NOT ADJUST FOR DST
IV22560: ANALYZE EVENT MAPPING TOOL FAILS AND HAMMERS CPU 
IV33973: JMS READER DOES NOT CONVERT ACTIVEMQMAPMESSAGE DATA FOR TRANSFER TO SECONDARY CLUSTER MEMBER
IV34503: "OPTIMIZE LIST" OPTION DOESN'T REFLECT THE APPLIED CHANGES TOTHE LIST IN THE "RESTRICT FIELDS", WITHIN THE EVENTREADER
IV35827: ERROR PRODUCED IN NETCOOL.LOG WHEN USING AN EVENTREADER WITH A BLANK FILTER VALUE
IV35885: IMPACT NEEDS TO CHECK USER CREATED SERVICES, FOR WITH NAMES THAT END WITH A "_SERVER".
IV35940: RETURNEVENT() FUNCTION WITHIN DATABASEEVENTREADER ADDED UNWANTED SINGLE QUOTES TO THE IDENTIFER FIELD IN THE SQL "VIA" STATEMENT
IV36405: THE CONFVMM4LDAP COMMAND IS SHIPPED WITH IMPACT 6.1, BUT IS NOT DOCUMENTED
IV36503: MWM CALENDAR: USING FORWARD BY ONE MONTH CAN LEAD TO NON-EXISTENT DATES BEING CREATED
IV37040: USING "NCI_COLLECT_LOGS" UTILITY IN A GUI SERVER ONLY INSTALL DOES NOT WORK.
IV37369: OBJECT.PROTOTYPE.TOSTRING.CALL(OBJ) RETURNS {}
IV37717: IMPACT 6.1 FP1 OPVIEW SOAP ERROR
IV37759: INTERNAL DATATYPE STRING VALUE IS INTERPRETED AS AN INTEGER IF IT CONTAINS ONLY DIGITS
IV38045: ORACLE DSA ERROR FOR COLUMN NAMES WITH "DOUBLE-QUOTES" AND "NOT-ALL-CAPS"
IV38585: NCI_EXPORT NOT EXITING CLEANLY WHEN RUNNING ON A NON PRIMARY IMPACT
IV38961: APPLICATION AND DATA NEEDS TO BE VALIDATED.
IV39368: INCREASING CPU WHEN JABBERSERVICE
IV40158: ABILITY TO CHANGE NUMBER OF POLLING INTERVALS
IV41888: DISABLE THE HIBERNATION STORAGE
IV42715: ERROR WHEN USING # IN IMPACT FILTER FROM DATATYPE DATAITEMS GUI WINDOW
IV43030: IMPACT MISSED ENRICHING FEW EVENTS WHICH OCCURED SIMULTANIOUSLY
IV43751: EVENTPROCESSOR IN A SECONDARY SERVER IS UN-ABLE TO CONTACT PRIMARY SERVER EVENTPROCESSOR.
IV45068: ERROR TRYING TO CREATE SCHEDULE DATATYPE DATAITEM: ERROR MESSAGE: HTTP ERROR 500 INTERNAL SERVER ERROR
IV45511: NEEDED 6.1.1 MWM OPVIEW POLICIES GET OVER-WRITTEN, AFTER MIGRATION FROM EITHER IMPACT 5.X OR 6.1, CAUSING MWM ISSUES
IV45569: DOCUMENTATION NEEDED ...HOW TO HANDLE BUILD-UP OF "ORPHANED" FILES, CREATED FOR XINY DATATYPE
IV45838: OBJECTSERVER CONNECTION DOES NOT RECOVER FROM BUSY PERIOD IF SELFMONITORING (DATASOURCE MONITORING) IS ENABLED
IV46099: JMSREPLYTO WAS NOT ABLE TO SET CORRECT QUEUE.
IV46493: ATTEMPTING TO USE DATATYPE FILTERS - "SPECIAL" CHARACTERS BEING CONVERTED TO HTML ENCODING THAT BREAKS OUTGOING SQL.
IV46696: LIMITING THE NUMBER OF CONNECTIONS THAT IMPACT OPENS TO JMS
IV46729: TOPOLOGY WIDGET KEEPS THE OLD LINKS BETWEEN NODES AND DOESN'T CLEAR IT, RESULTING IN AN INCORRECT RELATIONSHIP
IV46799: FUNCTION <FUNCTIONNAME> IS NOT DEFINED BEFORE CALL
IV47058: MWM POLICY SETS SUPPRESESCL FIELD TO 6 IMMEDIATELY AFTER SETTING TO 1.
IV47799: SELECTING 2 KEY FIELDS IN DATA TYPE ON DEFAULTOBJECTSERVER DOESN'T WORK
IV47904: EIC 'TEST SQL' FAILS DUE TO UNSCAPED CHARACTERS
IV47988: SETTING THE WSSETDEFAULTPKGNAME VALUE GLOBALLY DOESN'T WORK WHEN THE WSINVOKE FUNCTION IS INSIDE A POLICY FUNCTION
IV48113: SLOW RESPONSE ON THE POLICY PAGE WHEN ATTEMPTING TO OPEN A LARGE NUMBER OF POLICIES VIA THE GUI
IV50464: JMS TIMEOUT CAUSES POLICY ASSIGNED TO OPERATORVIEW EXECUTE TWICE
IV50932 MAINTENANCE WINDOW EVENT SHOWED STATUS 'NORMAL' - parent apar cancelled
IV51062: DB2 DSA FAILS TO QUERY COLUMN NAMES WITH "DOUBLE-QUOTES AND NOT-ALL-CAPS"
IV53483: CALLDBFUNCTION USAGE IN ORACLE DATABASE WITH FILTER 0=1
IV53810: I10N - TRANSLATION ISSUE
Translation issues in XinY policy and in Browse and Cancel buttons have been fixed.
IV53818: ISSUES WITH INTEGRATIONS ON 611
Web services related issues have been fixed.
IV53822: FIXES FOR HA IN 611 FP1
Issues related to Omnibus failover/failback have been fixed.
IV53824: FIXES IN IMPACT SCRIPTS FOR 611 FP1
Issues in Impact scripts nci_export, nci_import and nci_encryptpolicy have been fixed.
IV53825: THIS APAR INCLUDES FIXES FOR DATA MODEL ISSUES IN 611 FP1
IV53826: FIXES ISSUES IN 611 FP1 WITH POLICIES
IV53827: THIS APAR FIXES SERVICES RELATED ISSUES IN 611 FP1
IV53836: FIXES UI DATA PROVIDER ISSUES IN 611 FP1
IV54939: A MISSING $IMPACT_HOME/LOGS/INSTALL/ DIRECTORY WILL RESULT IN THE NCI_CONFIGURATION_UTILITY PROBLEM
IV55776: UI PROVIDER ENHANCEMENTS IN 611 FP1
This contains UI Provider enhancements where the user can show status and percentage in topology,
tree, table, and list widgets
IV55778: JABBER UPDATES IN 611 FP1
This contains Jabber Updates to use the smack library. 
IV55779: ADDITIONAL POLICY FUNCTIONS IN 611 FP1
This contains additional policy functions to escape special characters and filter malicious 
content in strings.
IV55780: DSA ENHANCEMENTS IN 611 FP1
DSA enhancements that alert the user when users switch between failover and
failback configuration. Improved handling of network timeouts.
IV55781: SERVICEABILITY IMPROVEMENTS IN 611 FP1 
Serviceability improvements, which include improved error messages for
GetHTTP and services.


List of Impact APARs that are marked as updates to the documentation:

IV20165: E-MAIL READER DELETES E-MAILS AFTER READING THEM
The email reader service reads incoming email, and runs
policies based on the contents of the email. To stop the
email reader from deleting emails after you read them, add the
following property to the <EmailReaderName>.props file.
<emailreadername>.deleteonread=false

Where <emailreadername> is the email reader service name.
Restart the service.This only works for IMAP email servers.

IV37369: OBJECT.PROTOTYPE.TOSTRING.CALL(OBJ) RETURNS {}
If a customer is using Object.prototype.toString.call(obj) in
a javascript policy, and wants to follow the javascript
standard, he can add the following property to
NCI_server.props file - 

impact.featureToStringAsSource.enabled=false

When the property is set to false, the data follows the
JavaScript standard and the data output by the Log function
is not the same as in IPL. To make the output the same in
JavaScript and IPL, make the value true but this does not 
follow the javascript standard.

IV38585: NCI_EXPORT NOT EXITING CLEANLY WHEN RUNNING ON A NON PRIMARY IMPACT
NCI_EXPORT restriction: nci_export will not execute on the
non-primary member of a cluster.

http://www-01.ibm.com/support/knowledgecenter/SSSHYH_6.1.1.3/com.ibm.netcoolimpact.doc/admin/imag_tools_c.html [http://www-01.ibm.com/support/knowledgecenter/SSSHYH_6.1.1.3/com.ibm.netcoolimpact.doc/admin/imag_tools_c.html] 

IV40158: ABILITY TO CHANGE NUMBER OF POLLING INTERVALS 
In order to make the readEventBuffer store the events for a
longer interval, the number of intervals can be updated. The
default number is 3.

Add the following property to the
<CLUSTERNAME>_<readername>.props. file 
(eg NCI_omnieventreader.props file)- 

impact.<readername>.numreaderbuffer=4

The default value for this property is 3.

IV40179: ERROR MESSAGES FIRST APPEAR ON 6.1 AND 6.1.1 DURING STARTUP, DUE TO THE FACT THE
NAMESERVER IS NOT INITIALISED YET
When the Impact Server is started during the installation,
the following message is displayed in the netcool.log file:

Unable to login to configured name servers host , port 

The message occurs because the Name Server can take time to
initialize while Netcool/Impact starts. You can ignore this
message. It is normal and it disappears when the Name Server
server is initialized.

IV43157: ALL SERVERS IN A CLUSTER ARE REQUIRED TO USE THE SAME ADMIN UID AND PASSWORD
If you are configuring the Tivoli® Integrated Portal profile
for a cluster of servers, you must use the same user name and
password for all the servers in the cluster.

IV44875: SET JREXEC TO LOG TO FILE IS NOT WORKING
Documentation has been updated on JRExec server logging.

IV45481: NO DOCUMENTATION ON THE REQUIRED HTTP AUTHENTICATION FOR THE IMPACT 6.X WEBSERVICES
Documentation has been updated for Impact web services.

IV45569: DOCUMENTATION NEEDED ...HOW TO HANDLE BUILD-UP OF "ORPHANED" FILES, CREATED FOR XINY DATATYPE
A new policy has been added - XINY_DataType_PurgeData - to
remove aged data items. More information can be found in the
Troubleshooting Guide.

IV46185: JAVACALL METHOD FAILS WITH JAVA.LANG.ILLEGALACCESSEXCEPTION-CANNOT ACCESS A MEMBER OF CLASS JAVA.UTIL.HASHTABLE$HASHITERATOR
Documentation has been updated for the NewJavaObject function.

IV46512: THERE'S A NEED TO DOCUMENT THE FACT THAT ONE NEEDS TO RESTART IMPACT FOR JVM TO RELEASE ANY LOADED JAR FILES FOR WEBSERVICES
Documentation has been updated to specify the procedure of
what to do when a user compiles a wsdl file using classes
from a previously compiled file.

IV47057: DATA TYPE QUERY CACHING RETURNING BAD DATA
Documentation on Data caching information has been updated.

IV47454: INSTRUCTIONS ON HOW TO RUN UPGRADE PACAKAGE FOR IMPACT 6.1.1 ON CONSOLE OR SILENT MODE
Documentation on How to upgrade from Netcool/Impact 6.1 in
console mode has been added.

IV50673: INCORRECT/UNCLEAR DOCUMENTATION FOR HANDLING EXCEPTIONS

IV50776: DURING UPGRADE WE WILL OVER WRITE ANY CUSTOMIZED MWM POLICIES WITH NEWER THE MWM DEFAULT POLICY'S VERSIONS

IV51431: NEED TO DOCUMENT THAT DOT NOATION CAN NOT BE USED IN THE NAMING OF POLICIES, SERVICES, DATA TYPES, DATA SOURCES, AND PROJECTS.
Documentation has been updated to note that Dot notation "." 
can not be used in the naming of POLICIES, SERVICES, DATA
TYPES, DATA SOURCES, AND PROJECTS.

IV52651: DATABASEREADER NOT WORKING PROPERLY WHEN USING GETUPDATES ON DATABASE TABLE'S TIMESTAMP FIELD
Database event reader service

An additional property can be added to the NCI_XXX.props file
in order to match the the date and time format of the
timestamp field in the external database. Where NCI is the
name of the impact instance and XXX is the name of the
database event reader. 

An example of this property is: 
impact.XXX.formatpattern=dd-MMM-yy hh.mm.ss.SSS aaa


5.4 Tivoli Integrated Portal
------------------------

The Tivoli Integrated Portal 2.2.0.15 (version 2) should be installed
after installing this FixPack.

The following other components are updated with that version
of TIP:

Driver tip_2.2.0.15 (version 2)
* This driver includes Java SDK version 1.6 SR16 Fix Pack 1
* This driver includes eWAS 7.0.0.35
* Browser support
Microsoft Internet Explorer version 10 & 11
Firefox Extended Support Release (ESR) version 24 & 31

See Fix Central for availability:
http://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~Tivoli&product=ibm/Tivoli/Tivoli+Integrated+Portal&release=2.2.0.15&platform=All&function=all [http://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~Tivoli&product=ibm/Tivoli/Tivoli+Integrated+Portal&release=2.2.0.15&platform=All&function=all]

NOTE: If TIP 2.2.0.15 (version 1) was previously installed, you may
encounter the following issues. Please refer to the following
Technotes for resolution:

- TIP Portlet blank or does not load after TIP 2.2.0.15
installation:
http://www.ibm.com/support/docview.wss?uid=swg21696426 [http://www.ibm.com/support/docview.wss?uid=swg21696426]


- TIP chart portlet blank if TBSM Service Admin page is closed and
re-opened:
http://www.ibm.com/support/docview.wss?uid=swg21696424 [http://www.ibm.com/support/docview.wss?uid=swg21696424]



5.5 Jazz for Service Management (JazzSM)
------------------------------------

If JazzSM UI Services (DASH) is being used to visualize TBSM service model
data, then the latest JazzSM fix pack should be installed after installing this
TBSM FixPack. See Fix Central for availability:

http://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~Tivoli&product=ibm/Tivoli/Jazz+for+Service+Management&release=All&platform=All&function=all [http://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~Tivoli&product=ibm/Tivoli/Jazz+for+Service+Management&release=All&platform=All&function=all]



=======================================================================
6.0 New support and features
------------------------

6.1 TBSM 6.1.1 Fixpack 3
--------------------
Fix Pack 3 includes the following enhancements:

1) Template Editor: sort items in "Rules" table

Adjusting the logic that handles the order of the rules displayed in
the table on the Rules tab. The following are the new rules each
of the columns will adhere to:

Type column
> use the same icon as the toolbar action that created the rule
> tooltips describe the rule's type

Rule Name column
> all rule names are now sorted A-Z 
> A-Z ordering maintained as rules are created and/or deleted 
> tooltips describe the rule's type; same as Type column
> the display order will not be customer configurable

Rule Settings column
> minor styling tweaks to assist readability

The above enhancement is specific to the TBSM console

2) Tree Template datasets: enable use of internal status attributes in
"Tree Template Editor"

Extended the capability of the Tree Template datasets by allowing
TBSM internal status attributes to be selected on the editor UI's
Template Rule Mapping section.

When Tree Template Viewed in TIP-based Service Tree

Without processing by the customization policy, these new status
attributes will display as the standard TBSM status values: 
0.0, 3.0, or 5.0. 

The above, enhances the TBSM Data Provider function and benefits
the DASH users.

3) Datasets need a parameter to optionally exclude "starting" or
"container" services.

With the addition of the Tree Template datasets in TBSM 6.1.1
Fixpack 1, we now have more situations where the administrator may
wish to exclude the starting or container service from a view.

The above, enhances the TBSM Data Provider function and benefits
the DASH users.

4) Support parameter to filter datasets in TBSM_Services datasource
by template

The parameter would be available on the datasets in the 
TBSM_Services datasource, which includes the "All_TBSM_Services"
and "TBSM_Urgent_Services" datasets

The above, enhances the TBSM Data Provider function and benefits
the DASH users.

5) "UrgentServices" dataset added

This new dataset makes the service model data that was displayed
in the legacy Urgent Services portlet available for display using
the List and Table widgets.

The above, enhances the TBSM Data Provider function and benefits
the DASH users.

6) Managing Dataset Dynamic Updates

All datasets available from the TBSM UI Data Provider automatically
send updates when the content changes. This is the recommended usage
of the TBSM datasets, but there may be scenarios where the user
would like to turn off the dynamic updating.

The above, enhances the TBSM Data Provider function and benefits
the DASH users.

More information can be found in the new "Dynamic Updating and the
TBSM UI Data Provider" document on the TBSM Advanced Topics page at
the TBSM developersWorks site

7) Tivoli Netcool/Impact provides new property to ascertain which Data
Provider field is used, when retrieving ITM data from the REST
Service

8) Enhancements to the Impact Solution called 
"Service Level Objectives (SLO) Reporting". The SLO function
is enhanced by Fixpack 3 for:

* Support of a time zone specification when creating the SLA
definitions

* Detection of active outages in the sample policy that reads from
a TBSM Metric History database

* Bug fixes and improved documentation


See the Advanced Topics at the TBSM developerWorks site for new and
updated information:

https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/Tivoli%20Business%20Service%20Manager1/page/Advanced%20Topics [https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/Tivoli%20Business%20Service%20Manager1/page/Advanced%20Topics] 


6.2 TBSM 6.1.1 Fixpack 2
--------------------

1) NUMERICAL RULES NOT CALCULATED ON TBSM RESTART
Numerical Aggregation rules are triggered by a child metric rule
change, i.e. OverallAttribute. When the status of a child changes, the
OverallAttribute metric rule's value will change and any Numerical 
Aggregation rules, based on OverallAttribute, will be recalculated. 
When TBSM is restarted, only services which have related existing 
events will have their status recalculated. Therefore not all Numerical
Aggregation rules (based on OverallAttribute) will be recalculated on 
TBSM restart, as some services will be green. 

This may not be the desired outcome. On restart, it may be required
that all Numerical Aggregation rules are restarted. New functionality 
has been provided for such a scenario, by forcing a bubble up of state 
nodes. The code can be triggered from a policy, for leaf nodes
only, or for all, as shown here: 

USE_SHARED_SCOPE;

Type="StateModel";
Filter = "RECALCSTATENODESLEAF";
log("Recalc Leaf Node Only. Policy Start." );
GetByFilter(Type, Filter, false); 
log("Recalc Leaf Node Only. Policy Finish." );
}


USE_SHARED_SCOPE;

Type="StateModel";
Filter = "RECALCSTATENODESALL";
log("Recalc All Nodes. Policy Start." );
GetByFilter(Type, Filter, false); 
log("Recalc All Nodes. Policy Finish." );
}

The above policy code needs to be scheduled from Impact Services on
startup.



2) TBSM SLAM EVENTS ONLY GENERATED IF THE RULE OUTPUT CHANGES
If a client wants SLAM event text for a Numerical rule, to update
(even if it's value does not change), the following parm needs to be
un-commented and set to "true"

#If true then send SLAM events, even when the value of a Metric rule does NOT change.
#Default is false.
#Omnibus de-duplication will handle the rest.
#impact.sla.sendslameventsformetricrulealways=true



6.3 TBSM 6.1.1 Fixpack 1
--------------------

1) The BSM_Templates.radsh defines service templates for common TBSM services.
It was executed when you installed the TBSM GA release(not during the fixpack 
install). It's default template rules propagate child status to the parent 
service based on child template changes. The script has been updated to set 
the propagation type to instance propagation. When the child service status 
changes, it will propagate the change to the parent service regardless of
which child template rule caused the status change. See the Service 
Configuration publication for more information about the aggregation rule 
option.

To update the rules with the instance propagation option in your current 
installation, you can invoke the 
$TBSM_HOME/install/BSM_Templates_updatepropation.radsh script.

If you re-execute the $TBSM_HOME/install/BSM_Templates.radsh script 
to re-create the templates, the rules will be configured with 
the instance propagation option.


2) The recommended version of JRE plugin is Sun JRE 1.7.0_51 or 1.8 for 
Internet Explorer and Firefox.

3) Additional toolkit customization has been made. To pick up these
changes, run the following commands on the Data Server:

Windows:

cd %TBSM_HOME%\install
type BSM_TemplateUpdates611FP0003.radsh | %TBSM_HOME%\bin\rad_radshell

UNIX:

cd $TBSM_HOME/install
cat BSM_TemplateUpdates611FP0003.radsh | $TBSM_HOME/bin/rad_radshell

4) As noted in the following Technote, When configuring pages in DASH 
(JazzSM) for TBSM datasets, it is often desirable to create them
in a development environment and then later move them to
production, perhaps via a test environment. With this Fix Pack and
in conjunction with JazzSM 1.1 Fix Pack 2, there is no need to create
two connections any longer.

http://www.ibm.com/support/docview.wss?uid=swg21660077 [http://www.ibm.com/support/docview.wss?uid=swg21660077]

5) TBSM 6.1.1 Fixpack 1 will support the use of a rich hover function in
DASH (JazzSM). The TBSM UI data provider will now send the information
needed in order for a DASH user to configure a widget for rich hover 
support. To enable the rich hover in DASH you must:

Configure TBSM 6.1.1 to collect the registry information required to
support the rich hover in TBSM 6.1.1. This configuration is documented
at http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/customization/bsmc_oslc_config_dataserverconfg.html [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/customization/bsmc_oslc_config_dataserverconfg.html].
The rich hover option will not be available in DASH for widgets
configured with a TBSM dataset if the oslcconfig has not been run.

Configure DASH (UI Services) for access to JazzSM Registry Services.
Configuration of the required property is described at 
http://www.ibm.com/support/knowledgecenter/SSEKCU_1.1.0.3/com.ibm.psc.doc_1.1.0.3/tip_original/dash_t_twl_uipreview_resource_reg.html [http://www.ibm.com/support/knowledgecenter/SSEKCU_1.1.0.3/com.ibm.psc.doc_1.1.0.3/tip_original/dash_t_twl_uipreview_resource_reg.html].

Note that if enabled in DASH, rich hover will be shown for the same
services that support the rich hover in the TBSM 6.1.1 console. If 
configured for a widget, and there is no rich hover information, 
then the flyover on the DASH widget will show nothing. Also note 
that the DASH environment requires Single Sign On be configured 
between the various components required to gather the preview 
information (DASH, TADDM, ITM, etc.)

6) TBSM 6.1.1 Fixpack 1 adds a new UI data provider data source that
provides new datasets corresponding to the customer's tree templates.
This allows the same data to be visualized in the legacy Service Tree
as well as on a JazzSM/DASH page.


6.4 Additional Browser Support with Fixpack 3

None!

6.5 Additional Browser Support with Fixpack 2
-----------------------------------------

TBSM 6.1.1 supports FF ESR 10 and FF17 with Fix Pack 1 on TIP 2.2.0.11 (or below).

This Fix pack supports Internet Explorer 9(IE9) in 
"Internet Explorer 9" browser mode which is the default mode, not 
in "Internet Explorer 9 Compatibility View" browser mode.
The document mode is automatically set by TIP and should remain
'IE7 standards'.

IBM strongly recommends updating to TIP 2.2.0.15 version 2 (v2) if
support is required for FF ESR 24/31 and/or IE10/11

See Fix Central for availability:
http://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~Tivoli&product=ibm/Tivoli/Tivoli+Integrated+Portal&release=2.2.0.15&platform=All&function=all [http://www.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~Tivoli&product=ibm/Tivoli/Tivoli+Integrated+Portal&release=2.2.0.15&platform=All&function=all]



6.6 eWAS Fixes and Upgrades
-----------------------

Please Note: The TBSM 6.1.1 Fix Pack will upgrade WebSphere (eWAS) on the Data
server automatically, to version 7.0 Fix Pack 35 (7.0.0.35) but, only if the Dashboard
server is not installed on that environment. If the Dashboard server is installed on the
same server (in the case of a single server environment), the eWAS will not be upgraded.

eWAS upgrade, on the TBSM Dashboard server and on "Single server" environments, will
take place when TIP 2.2.0.15 is applied.

If un-installing TBSM 6.1.1 Fix Pack, refer to section 3.9 "Uninstalling the Fix Pack"
to manually remove eWAS 7.0.0.35 (on Data server only environments!).


6.7 OMNIbus 8.1
-----------
TBSM 6.1.1 Fix Pack 1 supports the use of OMNIbus 8.1. But, please note that
OMNIbus 8.1 is a separate install, requiring additional configuration changes to
make it work with TBSM. Refer to "IBM Tivoli Netcool OMNIbus Considerations" section
of the "Exploring TBSM" Guide:

http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsmi_c_netcool_omnibus.html [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsmi_c_netcool_omnibus.html]

If using OMNIbus 8.1, IBM recommends upgrading to the latest 8.1
maintenance level (at the moment, Fix Pack 2).

If using JazzSM/DASH to display TBSM resources, the Event Viewer and/or AEL may fail to display the appropriate
TBSM events if (1) a Data Source is not setup to point to TBSM's OMNIbus and (2) the custom TBSM filters and views are
not defined to WebGUI. To setup the WebGUI views, it will be required to copy the following file from
the TBSM Dashboard server to a temporary location on the JazzSM server:

<installdir>/tipv2/profiles/TIPProfile/installedApps/TIPCell/isc.ear/sla.war/install/webtopcore/create_tbsm_views.xml

In addition to copying the file to the JazzSM server, it is necessary to execute the runwaapi command, to load filters/views
the WebGUI. On the JazzSM/DASH server, execute the following command:

<installdir>/netcool/omnibus_webgui/waapi/bin/runwaapi -file create_tbsm_views.xml -user <admin> -password <password>

Please refer to the integration document found in "Advanced Topics"
at the TBSM developerWorks site, for this and other topics:

TBSM developerWorks Advanced Topics: https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/Tivoli%20Business%20Service%20Manager1/page/Advanced%20Topics [https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/Tivoli%20Business%20Service%20Manager1/page/Advanced%20Topics]
Integration document: https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=7d5ebce8-2dd8-449c-a58e-4676134e3eb8#fullpageWidgetId=Wea1cb2531f10_4ccd_99d7_6ab0334cb21f&file=c6d51b71-362e-44be-8aa2-650da0918ac7 [https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=7d5ebce8-2dd8-449c-a58e-4676134e3eb8#fullpageWidgetId=Wea1cb2531f10_4ccd_99d7_6ab0334cb21f&file=c6d51b71-362e-44be-8aa2-650da0918ac7]


6.8 DB2 
---
Starting with TBSM 6.1.1 Fix Pack 2, TBSM supports the use of DB2
version 10.5.3


6.9 TADDM 7.3 Integration
---------------------
For import of Business Applications from TADDM 7.3 to TBSM 6.1.1, the
property com.ibm.cdb.serviceinfrastructure.earlier.ver.compatibility
must be set to "true" in collation.properties file (located under
taddm/dist/etc). This will be true by default for upgraded TADDM 7.3
servers. It is false by default for fresh TADDM 7.3 installs. 

Note: TADDM restart is required after property modification.

If com.ibm.cdb.serviceinfrastructure.earlier.ver.compatibility is 
flipped from false to true, then all Business Applications need to be 
re-build, to regenerate backward compatible Business Applications. This 
can be done by either waiting for scheduler to process all Grouping 
Patterns (and recreate new and old Business Applications) or by manually 
executing (all or selected) Grouping Patterns from TADDM UI (or command
line).


=======================================================================
7.0 Known issues - 
------------

7.1 Some date options in TBSM Reports do not work

When specifying the date parameters for reports, some options 
like "last 30 days" do not work. However, one can get this data
for the reports by selecting the Date Range and choosing the 
dates from the calendar. Below is a link to the TBSM reports in
our Service Configuration guide which outlines how to run reports.

http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/ServiceConfigurationGuide/bsmu_rept_view_reports.html [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/ServiceConfigurationGuide/bsmu_rept_view_reports.html]



7.2 Issues creating wire between Service Tree and Active 
Event List (AEL)

If the user creates a wire between the Service Tree and AEL
when a page is first created, the wire does not work. The
workaround for this is to create a wire by editing the page
after the page has been created and saved. 



7.3 TBSM Agent Chart title differs from name in the 
drop down list 

Name displayed at the top of a TBSM Agent Chart differs from
the name of that chart in the drop down list. For eg,
the chart name in the drop down list is "kr9_TBSM Service Status" 
and the name shown at the top of the chart is "Kr9:KR91003". 
The name at the top can be changed to display the same name 
as the drop down list by going to Preferences and changing 
the chart name.



7.4 Minimize-restore does not restore to correct size for
Service Navigation->Data/Data Fetchers on Internet Explorer(IE)9 

In the Service Navigation->Data/Data Fetchers portlet, after the 
minimize option has been exercised to minimize the portlet, the 
portlet is not resized correctly after using the 'restore' option.
The window resizes to a smaller size. This is an issue on
Internet Explorer(IE) 9 but not on Firefox or on Internet 
Explorer(IE) 8. In order to go back to the original size, 
select 'maximize' and 'restore'. 



7.5 Portlets covering content in a free form page

When creating free form pages, the Service Viewer and Active Event 
List(AEL) portlets will always be on top of any content. This can 
interfere with page layout and editing of portlet preferences. 
To alleviate this issue, it is best to place these portlets 
onto the created page last to avoid having other content covered 
by them. If a page requires editing and contains Service Viewer 
or Active Event List portlets, it may be necessary to move 
those portlets out of the way before editing preferences of 
other portlets.



7.6 Creation and deletion of Services and Templates that contain
special characters

Due to new security additions the deletion of services and templates
that contain the characters '+', '&', '<','>','%',' " ', is not
permitted through the browser. Some of these characters are
permitted on the creation of services, as services can still be
created with these through auto population and importing. The 
deletion of these services will now have to be carried out
through the radshell command deleteServiceInstance. 

More information on the command can be found here.

http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.0/com.ibm.tivoli.itbsm.doc_6.1/adminguide/bsma_shlr_service_delete.html [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.0/com.ibm.tivoli.itbsm.doc_6.1/adminguide/bsma_shlr_service_delete.html]




7.7 WEBSERVICES SECURITY NOT FUNCTIONAL
If using WebService Security when making a WebService call,
(callProps.EnableWSS=true), the jar file 
tipv2/plugin/org.apache.axis2.jar must be replaced by the jar
file tbsm/lib3p/org.apache.axis2-woden.jar and the newly replaced
file must be renamed to org.apache.axis2.jar.

Restart is required.

7.8 If using WEBSERVICES SECURITY (WSS) user authentication, then the
impact/dsa/wsdsa/wss/conf/wscb.properties needs to be altered to
only have one entry. If there is more than one entry in the file,
only the uid.1 and pwd.1 will be read

7.9 Microsoft Internet Explorer 11.
IE11 (supported only with TIP 2.2.0.15) may cause unexpected
behaviour in the Policy Editor, whereby the Policy List panel
disappears when the Project drop-down menu is selected. To
circumvent this, simply click on a different project in the Project
drop-down list and then click again on the desired project, to
restore the correct layout

7.10 With certain Solaris installations the Event Summary portlet
(Administration -> Service Administration -> Services) may fail to
render and cause an Out Of Memory (PermGen) exception (as seen in
the TIP trace log:
"java.lang.OutOfMemoryError: PermGen space exception")


Solution: 
1. Stop TBSM (kill the hung server if necessary).

2. Goto the $TBSM_HOME/tipv2/profiles/TIPProfile/config/cells/TIPCell/nodes/TIPNode/servers/server1
directory and make a backup of the server.xml file.

3. Open the server.xml file for editing and in the jvmEntries xmi
tag modify the genericJvmArguments attribute to read something
like this, where these two PermSize and MaxPermSize parms are
being added (if other parms are already code, please preserve
those parms and just insert the two new ones): 

genericJvmArguments=" -XX:PermSize=256m -XX:MaxPermSize=512m -XX:+DisableExplicitGC"

4. Save the file and restart TBSM.


7.11 TIP Portlet blank or does not load after TIP 2.2.0.15 installation
Refer to the following Technote for resolution:

http://www.ibm.com/support/docview.wss?uid=swg21696426 [http://www.ibm.com/support/docview.wss?uid=swg21696426]

NOTE: The above issue is resolved also in TIP 2.2.0.15 (version 2)

7.12 TIP chart portlet blank if TBSM Service Admin page is closed and 
re-opened
Refer to the following Technote for resolution:

http://www.ibm.com/support/docview.wss?uid=swg21696424 [http://www.ibm.com/support/docview.wss?uid=swg21696424]

NOTE: The above issue is resolved also in TIP 2.2.0.15 (version 2)

7.13 TBSM integration with ISM is no longer operational and will be
removed from the next TBSM version 6.1.1 Fix Pack. 
This modification is due to changes in the supported versions of
ITCAM for Transaction / ISM.

7.14 Java Security Warnings
With the ever changing security improvements to both the browsers
Java Runtime Environment (JRE), clients are now more likely to see
warning messages about untrusted connections or invalid
certificates. To avoid those issues, clients can replace the IBM
HTTP Server SSL certificate with an SSL certificate signed by a
third-party CA. For guidance on that task, refer to the following
Technote:
http://www-01.ibm.com/support/docview.wss?uid=swg21424371 [http://www-01.ibm.com/support/docview.wss?uid=swg21424371]

=======================================================================
8.0 Copyright and trademark information

http://www.ibm.com/legal/copytrade.shtml [http://www.ibm.com/legal/copytrade.shtml]

8.1 Notices

INTERNATIONAL BUSINESS MACHINES CORPORATION PROVIDES THIS PUBLICATION
"AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED,
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
Some jurisdictions do not allow disclaimer of express or implied
warranties in certain transactions, therefore, this statement may not
apply to you.

This information could include technical inaccuracies or typographical
errors. Changes are periodically made to the information herein; these
changes will be incorporated in new editions of the publication. IBM may
make improvements and/or changes in the product(s) and/or the program(s)
described in this publication at any time without notice.

Microsoft®, Windows, and Windows Server are trademarks of Microsoft
Corporation in the United States, other countries, or both.

Intel®, Intel logo, Intel Inside®, Intel Inside logo, Intel® Centrino®,
Intel Centrino logo, Celeron®, Intel Xeon®, Intel SpeedStep®, Itanium®,
and Pentium® are trademarks or registered trademarks of Intel
Corporation or its subsidiaries in the United States and other
countries.

Other company, product, or service names may be trademarks or service
marks of others.

Please read THE IBM Tivoli Business Service Manager NOTICES AND
INFORMATION in the file notices1.txt included in this Fix Pack before
you proceed with the download and installation of this Fix Pack. You can
find the additional notices file on the same web page as this Fix Pack.

8.2 THIRD-PARTY LICENSE TERMS AND CONDITIONS, NOTICES AND INFORMATION

The license agreement for this product refers you to this file for
details concerning terms and conditions applicable to third party
software code included in this product, and for certain notices and
other information IBM must provide to you under its license to certain
software code. The relevant terms and conditions, notices and other
information are provided or referenced below. Please note that any
non-English version of the licenses below is unofficial and is provided
to you for your convenience only. The English version of the licenses
below, provided as part of the English version of this file, is the
official version.

Notwithstanding the terms and conditions of any other agreement you may
have with IBM or any of its related or affiliated entities (collectively
"IBM"), the third party software code identified below are "Excluded
Components" and are subject to the following terms and conditions:

* the Excluded Components are provided on an "AS IS" basis
* IBM DISCLAIMS ANY AND ALL EXPRESS AND IMPLIED WARRANTIES AND
CONDITIONS WITH RESPECT TO THE EXCLUDED COMPONENTS, INCLUDING, BUT
NOT LIMITED TO, THE WARRANTY OF NON-INFRINGEMENT OR INTERFERENCE AND
THE IMPLIED WARRANTIES AND CONDITIONS OF MERCHANTABILITY AND FITNESS
FOR A PARTICULAR PURPOSE
* IBM will not be liable to you or indemnify you for any claims related
to the Excluded Components
* IBM will not be liable for any direct, indirect, incidental, special,
exemplary, punitive or consequential damages with respect to the
Excluded Components.

8.3 Apache Woden Distribution

===============================================
== NOTICE file corresponding to the section 4 d of ==
== the Apache License, Version 2.0, ==
== in this case for the Apache Woden distribution. ==
===============================================

This product includes software developed by
The Apache Software Foundation (http://www.apache.org/ [http://www.apache.org/]).

This product also includes software developed by :

- IBM Corporation (http://www.ibm.com [http://www.ibm.com/]),
WSDL4J was the initial code contribution for the Apache Woden
project and some of the WSDL4J design and code has been reused.
- The W3C Consortium (http://www.w3c.org [http://www.w3c.org/]),
Common W3C XML Schema and DTD files are packaged with Apache Woden.

Please read the different LICENSE files present in the root directory of
this distribution.

===========================================================================
Apache License
Version 2.0, January 2004
http://www.apache.org/licenses/ [http://www.apache.org/licenses/]


===========================================================================

WODEN SUBCOMPONENTS:
For any subcomponents included with the Woden source code that contain 
separate copyright and license terms, their License information is appended 
below, in this file.
For any binary subcomponents redistributed with Woden under separate 
licenses, their license files are included alongside those binary packages 
in the Woden release files (for example, alongside the dependant jar files
in the /lib directory of the Woden zip file).

===========================================================================

For the W3C schema and DTD files in the org.apache.woden.resolver package:

W3C® SOFTWARE NOTICE AND LICENSE
http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231 [http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231]
This work (and included software, documentation such as READMEs, or other 
related items) is being provided by the copyright holders under the following 
license. By obtaining, using and/or copying this work, you (the licensee) agree 
that you have read, understood, and will comply with the following terms and 
conditions.

Permission to copy, modify, and distribute this software and its documentation, 
with or without modification, for any purpose and without fee or royalty is 
hereby granted, provided that you include the following on ALL copies of the 
software and documentation or portions thereof, including modifications:

The full text of this NOTICE in a location viewable to users of the 
redistributed or derivative work. 

Any pre-existing intellectual property disclaimers, notices, or terms and 
conditions. If none exist, the W3C Software Short Notice should be included 
(hypertext is preferred, text is permitted) within the body of any redistributed
or derivative code.

Notice of any changes or modifications to the files, including the date changes 
were made. (We recommend you provide URIs to the location from which the code is 
derived.)

THIS SOFTWARE AND DOCUMENTATION IS PROVIDED "AS IS," AND COPYRIGHT HOLDERS MAKE NO 
REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO, 
WARRANTIES OF MERCHANTABILITY OR FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE 
OF THE SOFTWARE OR DOCUMENTATION WILL NOT INFRINGE ANY THIRD PARTY PATENTS, 
COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.

COPYRIGHT HOLDERS WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR 
CONSEQUENTIAL DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENTATION.

The name and trademarks of copyright holders may NOT be used in advertising or 
publicity pertaining to the software without specific, written prior permission. 
Title to copyright in this software and any associated documentation will at all 
times remain with copyright holders.
____________________________________

This formulation of W3C's notice and license became active on December 31 2002. 
This version removes the copyright ownership notice such that this license can 
be used with materials other than those owned by the W3C, reflects that ERCIM is 
now a host of the W3C, includes references to this specific dated version of the 
license, and removes the ambiguous grant of "use". Otherwise, this version is the 
same as the previous version and is written so as to preserve the Free Software 
Foundation's assessment of GPL compatibility and OSI's certification under the 
Open Source Definition. Please see our Copyright FAQ for common questions about 
using materials from our site, including specific terms and conditions for packages 
like libwww, Amaya, and Jigsaw. Other questions about this notice can be directed 
to site-policy@w3.org.

Joseph Reagle <site-policy@w3.org>

Last revised $Id: copyright-software-20021231.html,v 1.11 2004/07/06 16:02:49 slesch Exp $ 

=========================================================================== 
For license see the new SAX site at 
http://www.saxproject.org/ [http://www.saxproject.org/] for more up-to-date
releases and other information. Please change your bookmarks.


SAX2 is Free!

I hereby abandon any property rights to SAX 2.0 (the Simple API for
XML), and release all of the SAX 2.0 source code, compiled code, and
documentation contained in this distribution into the Public Domain.
SAX comes with NO WARRANTY or guarantee of fitness for any
purpose.

David Megginson, david@megginson.com
2000-05-05
=======================================================================

8.4 IBM obtained Smack V3.3.0 under the following license from Apache Software Foundation:

Apache License
Version 2.0, January 2004
http://www.apache.org/licenses/ [http://www.apache.org/licenses/]

PREREQUISITES
IBM Tivoli Business Service Manager 6.1.1

INSTALLATION INSTRUCTIONS

3.7 Installation
------------


3.7.1 Installing the Fix Pack
-----------------------

[Fix Pack] Refers to the directory where you extracted the Fix
Pack files from the zip/tar file.

Attention: Install the Fix Pack with the same user that was
used to install TBSM 6.1.1 GA


NOTE: If you have deployed the Service Level Objectives (SLO) 
Reporting Function, you must do the following before
installing the Fix Pack:

- Stop all Impact services that are running policies that
call the SLO functions to record data in the SLORPRT
database. If you have the service set to start at
server startup, then turn this option off before
installing the fixpack, as the server is restarted
during the fixpack install.

Running the install without DE backup:

If you prefer to backup DE with your own procedures you can
run the install with the following parameter.

-DNO_BACKUP=true

(for Silent Install, uncomment the "NO_BACKUP=true" 
parm on the setupFP.rsp response file)

If you choose this method, you must backup DE before you install.
And restore the original system using your backup/restore
procedures or utilities (if uninstalling the Fix Pack).

Follow this procedure to install the Fix Pack:

1. On the Tivoli Business Service Manager server host, change to the
[Fix Pack]/TBSM directory where you extracted the files.
2. Run the installation using one the following commands:
* setup-windows.exe - Windows.
* setup-<unixplatform>.bin - other operating systems.

Installation command options:

GUI mode No options, for example: 
Windows: setup-windows.exe

or

UNIX® : ./setup-<unixplatform>.bin 

Console mode
Use the -i console option. 
For example -
Windows: setup-windows.exe -i console

or 

UNIX® : ./setup-<unixplatform>.bin -i console

Silent Mode

a. Copy setupFP.rsp from the TBSM directory of the extracted
Fix Pack file ([Fix Pack]/TBSM) to a location it can be
edited (/tmp).
b. Update the file to match your environment.
c. Confirm acceptance of license, by un-commenting this line
and setting the parm to "true":
#LICENSE_ACCEPTED=false
d. Run:

Windows: setup-windows.exe -f C:\tmp\setupFP.rsp

or 

UNIX® :setup-<unixplatform>.bin -f /tmp/setupFP.rsp

Note: The response file needs to have a fully qualified
path.

3. During the install you will be asked to to verify
path names to the TIP install.

4. Restart both the Data and Dashboard processes/services

5. After install is complete (and with the data server started), run
the script ApplyPoliciesFor611FP3, which can be found on the Data
Server under $TBSM_HOME/bin. This script loads the new/updated
policies.

NOTE: Do not run the ApplyPoliciesFor611FP3 on the secondary/
backup data server of a failover pair. This only needs to
be run on the primary data server.

On Windows:

ApplyPoliciesFor611FP3.bat <adminuser> <adminpassword>
For example - ApplyPoliciesFor611FP3.bat tipadmin tipadmin

On Linux/Unix:

./ApplyPoliciesFor611FP3 <adminuser> <adminpassword>
For example - ./ApplyPoliciesFor611FP3 tipadmin tipadmin 

NOTE: Verify that the admin user id and password are
correct otherwise, the script will fail at the last step.

If incorrect, rerun the script with a valid adminuser id
and password.

6. From the TBSM 6.1.1 Fix Pack 3 install media, copy these files
onto the DB2 server (where the tbsmdb was initially installed,
when TBSM was first setup).

from: [Fix Pack]/TBSM/TBSMDBChecker
to: [InstallDirectory]/tbsmdb/bin

TBSM_Check_DB.bat
TBSM_Check_DB.sh
tbsmDatabaseChecker.xml
TBSMDBChecker.props

NOTE: The above action is only needed if you ever plan to use
the TBSM_Check_DB script, which will now suppress the
display of the requested user password.

7. After installing this Fix Pack, end-users may need to clear their
browser cache, close and re-open the browser; in order to avoid
any issues on the client side.

8. If the Impact "Service Level Objectives (SLO) Reporting"
function was enabled, please refer to section 3.12 for additional
post Fix Pack installation required actions.

9. Please refer to section 4.0 "Additional information for TBSM Fix Pack 3 APARS"
for additional post install actions.


3.7.2 Discovery Library Toolkit
-------------------------

1. Navigate to the DiscoveryLibrary directory.

2. To install Fixpack 3, 

If you are on a Windows operating system, run the following
command from a prompt: 

setup-dltoolkit-6.1.1-FP0003-windows_64.exe

If you are on a Unix operating system, run the following
command from a prompt:

setup-dltoolkit-6.1.1-FP0003-<unixplatform>_64.bin

For console mode, specify "-i console".

Note: If the installer cannot find the TBSM 6.1.1 Discovery 
Library Toolkit, verify that the toolkit is installed and 
that it was installed by the user that the fixpack is being 
installed with. If these are both okay, then set the environment
variable TBSM_TOOLKIT_BASE to the location of the toolkit and 
restart the toolkit installer. For example: 
Windows:
set TBSM_TOOLKIT_BASE=C:\Program Files\IBM\tivoli\tbsm\XMLtoolkit
UNIX:
export TBSM_TOOLKIT_BASE=/opt/IBM/tivoli/tbsm/XMLtoolkit

3. The toolkit installer requires access to the database.


4. Notes and Post-Install Considerations:

a) After installation is complete, you may remove
[fixpack] to save space.

5. Restart the toolkit.


3.8 TBSM agent
----------

Installing the TBSM agent (last updated with TBSM Fix Pack 1):

The following packages are available for download in the TBSMAgent
directory on the support download site:

* AIX: KR9_aix526CD-6.1.1-TIV-BSM-FP0001.tar.gz -AIX (64 bit) 

* Linux: KR9_lx8266CD-6.1.1-TIV-BSM-FP0001.tar.gz -Li x86_64R2.6(64 bit)

* Solaris: KR9_sol286CD-6.1.1-TIV-BSM-FP0001.tar.gz -Solaris R8(64 bit)

* Windows: KR9_wix64CD-6.1.1-TIV-BSM-FP0001.zip -(64 bit)

* zLinux: KR9_ls3266CD-6.1.1-TIV-BSM-FP0001.tar.gz -Li S390R2.6(64 bit)


To install the updated TBSM agent (FP1), if not already installed:
1. Download the appropriate agent code for your platform.
2. Untar or unzip the file.
3. Install the agent according to the directions in the TBSM
Installation Guide. This is a complete install package for the TBSM
agent support and can be used for a fresh install of the agent.

For instructions on installing and configuring the TBSM agent, see:

http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsni_agent_ic_install_config.html [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsni_agent_ic_install_config.html]


3.9 Uninstalling the Fix Pack
-------------------------

Before uninstalling the FixPack all TBSM processes should be
STOPPED. The user must manually stop the TBSM processes, before 
the uninstall of the FixPack (except for OMNIbus and DB2).

Attention: Uninstall the Fix Pack with the same user that was used to
install TBSM 6.1.1 GA.

Silent mode and uninstall


If silent mode was used for the install, the uninstall will
default to a silent uninstall and you must supply a response
file or the uninstall will fail.

For silent mode uninstalls, copy the setup_uninstall.rsp file
from the Fix Pack image to the directory:

<installDir>/tbsm/_uninst/TBSM611_FP3

and update the file with the correct information. Then launch
the installer specifying the file. For example:

uninstall(.exe) -f /tmp/setup_uninstall.rsp

Note: The response file needs to have a fully qualified path.

On the Tivoli Business Service Manager server system:

1. Change to the directory: 
<installDir>/tbsm/_uninst/TBSM611_FP3

2. Run the uninstall command:

UNIX: If you are on a Unix operating system, run the following
command from a prompt.

./uninstall


Windows: If you are on a Windows operating system, run the following
command from a prompt.

.\uninstall.exe

For console mode, specify "-i console"

3. After the command has completed, run the following commands to clear
the server cache.

Linux/AIX: <TIP_HOME>/bin/clearClassCache.sh

Solaris: java -Xshare:dump

Windows: <TIP_HOME>\bin\clearClassCache.bat



4. Uninstall eWAS 7.0.0.35

NOTE: On a "Data server only" environment, the TBSM 6.1.1 Fix
Pack 3 un-installer will not remove the upgraded eWAS
7.0.0.35 Fix Pack it installed. If there are plans to, at
a future time, re-install TBSM 6.1.1 Fix Pack 3, it is
necessary to manually un-install eWAS 7.0.0.35. 

These steps DO NOT apply to a "Dashboard sever only"
environment or a "Single server" environment, where both the
Data and Dashboard are installed together.

Again, these steps are only needed on a "Data server only"
environment. Failure to perform these actions, will prevent
the re-install of TBSM 6.1.1 Fix Pack 3!

a). Copy the uninstall-WASEmbeded.txt to a temporary location
The uninstall-WASEmbeded.txt file is located on:
<installdir>/tbsm/_uninst/TBSM611_FP3/plan/install/MachinePlan_localhost/00002_WASFP/uninstall-WASEmbeded.txt

For example on Unix:
/opt/IBM/tivoli/tbsm/_uninst/TBSM611_FP3/plan/install/MachinePlan_localhost/00002_IAGLOBAL_COI_STEP_WASFP/uninstall-WASEmbeded.txt

For example on Windows:
C:\IBM\tivoli\tbsm\_uninst\TBSM611_FP3\plan\install\MachinePlan_localhost\00002_IAGLOBAL_COI_STEP_WASFP\uninstall-WASEmbeded.txt


Or from the TBSM 6.1.1 FP3 install media:
6.1.1-TIV-BSM-FP0003-<ARCH>\TBSM\COI\PackageSteps\WASFP\uninstall-WASEmbeded.txt


b). Edit the uninstall-WASEmbeded.txt (on the temporary location)

c). locate this line: -W product.location="@IAGLOBAL_WAS_HOME@"

d). Replace above line with: -W product.location="<installdir>/tipv2"

Where <installdir> is the fully qualified directory where tipv2 located:

for example (Unix): -W product.location="/opt/IBM/tivoli/tipv2"

for example (Windows): -W product.location="C:\IBM\tivoli\tipv2"

e). Save the uninstall-WASEmbeded.txt file (on the temporary location)

f). Execute the following command:
On Unix:
<installdir>/tipv2/WebSphereUpdateInstallerV7/update.sh -options <templocation>/uninstall-WASEmbeded.txt -silent

for example: /opt/IBM/tivoli_root/tipv2/WebSphereUpdateInstallerV7/update.sh -options /tmp/uninstall-WASEmbeded.txt -silent

On Windows:
<installdir>/tipv2/WebSphereUpdateInstallerV7/update.exe -options <templocation>/uninstall-WASEmbeded.txt -silent

for exampe: C:\IBM\tivoli\tipv2\WebSphereUpdateInstallerV7\update.exe -options C:\Temp\uninstall-WASEmbeded.txt -silent

5. Restart the Data Server and Dashboard Server.



Discovery Library Toolkit
===================================================

The Toolkit portion of this fixpack cannot be uninstalled.
A backup copy of the original files can be retrieved from:

[InstallDirectory]/tbsm/
XMLtoolkit/log/install/maintenance/backup/611FP0003



3.10 Recovering from a failed Fix Pack install
-----------------------------------------

If the install fails, try to uninstall in which case, it goes back to
the previous version. If there is no uninstall file under 
_uninst/TBSM611_FP3, then nothing really got installed and you can delete
the TBSM611_FP3 file and reinstall.


3.11 Restoring failed DE upgrade from backup
---------------------------------------

To recover a failed Deployment Engine upgrade in TBSM 6.1.1, see the
TBSM Installation Guide at: 

http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsmi_upgrade_t_restore42.html [http://www.ibm.com/support/knowledgecenter/SSSPFK_6.1.1.3/com.ibm.tivoli.itbsm.doc/installguide/bsmi_upgrade_t_restore42.html]

DOWNLOAD PACKAGE





Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 
What is Fix Central(FC)? [https://www.ibm.com/support/fixcentral/help?page=swfaqs] 6.1.1-TIV-BSM-FP0003-linux 06 Jul 2015 English 1422005148 FC [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-linux&source=SAR] [ ] 6.1.1-TIV-BSM-FP0003-aix 06 Jul 2015 English 1501631388 FC [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-aix&source=SAR] [ ] 6.1.1-TIV-BSM-FP0003-solaris 06 Jul 2015 English 1472222108 FC [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-solaris&source=SAR] [ ] 6.1.1-TIV-BSM-FP0003-windows 06 Jul 2015 English 1437426779 FC [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-windows&source=SAR] [ ] 6.1.1-TIV-BSM-FP0003-zlinux 06 Jul 2015 English 1418646428 FC [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-zlinux&source=SAR] [ ] 
 [/support/docview.wss?uid=swg24039742&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24039742&aid=2]Problems (APARS) fixed
IV60619 IV61278 IV64797 IV65695 IV65825 IV65947 IV65949 IV65958 IV66535 IV66950 IV71255 IV72005 IV62456 IV62548 IV60168 IV56853 IV63608 IV65503 IV65786 IV59886 , IV61880 IV64950 IV60750 IV60961 IV61199 IV62273 IV62294 IV62246 IV64933 IV65545 , IV66210 IV65484 IV68113 IV60842 IV56450 IV65991 IV21679 IV30875 IV33717 IV36878 , IV38053 IV38471 IV38574 IV39167 IV39517 IV39796 IV42339 IV42657 IV42941 IV43098 , IV43165 IV43469 IV43804 IV43865 IV44246 IV44582 IV45166 IV45386 IV45868 IV46098 , IV46811 IV46876 IV48813 IV49791 IV50625 IV53791 IV54197 IV54587 IV55756 IV56050 , IV56270 IV57273 IV59723 IV61668 , IV27869 IV50058 IV58590 IV59770 IV60438 IV61538 IV61725 IV63535 IV63942 IV64075 IV64837 IV65055 IV65179 IV66164 IV67091 IV67829 IV68383 IV69164 IV70836 IV71157 IV71513 IV73098 IV73243 IV18554 IV23315 IV64152 IV61089 IV63137 IV62792 IV61956 IV61746 IV61399 IV60005 IV60253 IV58616 IV58511 IV53717 IV56745 IV56068 IV55989 IV50329 IV56541 IV47748 IV55464 IV60923 IV11728 IV21717 IV22560 IV33973 IV34503 IV35827 IV35885 IV35940 IV36405 IV36503 IV37040 IV37369 IV37717 IV37759 IV38045 IV38585 IV38961 IV39368 IV40158 IV41888 IV42715 IV43030 IV43751 IV45068 IV45511 IV45569 IV45838 IV46099 IV46493 IV46696 IV46729 IV46799 IV47058 IV47799 IV47904 IV47988 IV48113 IV48113 IV50464 IV50932 IV51062 IV51098 IV51100 IV53483 IV53810 IV53818 IV53822 IV53824 IV53825 IV53826 IV53827 IV53836 IV54939 IV55776 IV55778 IV55779 IV55780 IV55781