Title: IBM IT24396: MQ reconnectable client fails to reconnect to queue manager after failover - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Some of MQ reconnectable client applications like MQ
   sample application amqscbfc fail to reconnect to the
   MQ queue manager after the MQ queue manager fails over.
   
   The application reports "2162 MQRC_Q_MGR_STOPPING" error.
   The failover could be a multi-instance queue manager
   failover or the queue manager failover using high
   availability software like "Veritas Cluster for MQ HA".
   
   Note: Some sample applications like amqsphac are able to
         reconnect after 2009 errors
   
   
    
   
   

LOCAL FIX
 *  Restart the client application
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Reconnectable client connections running at the time the MQ
   administrator runs the "endmqm -i -r <QM>" command.
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   Due to a programming error introduced in MQ version 8.0.0.0,
   reconnectable client connections may be broken with a
   MQRC_Q_MGR_STOPPING error when multi-instance queue managers
   fail over to a backup queue manager.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The programming error has been resolved, so that on
   multi-instance queue manager fail over, reconnectable client
   connections are restored when the queue manager starts up.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v8.0       8.0.0.10
   v9.0 LTS   9.0.0.5
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT24396
   
   
 * REPORTED COMPONENT NAME
   IBM MQ BASE M/P
   
   
 * REPORTED COMPONENT ID
   5724H7261
   
   
 * REPORTED RELEASE
   900
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2018-03-16
   
   
 * CLOSED DATE
   2018-04-19
   
   
 * LAST MODIFIED DATE
   2018-04-19
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   IBM MQ BASE M/P
   
   
 * FIXED COMPONENT ID
   5724H7261
   
   

APPLICABLE COMPONENT LEVELS