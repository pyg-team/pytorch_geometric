Title: IBM "The 'IBMDADB2.DB2COPY1' provider is not registered on the local machine" when testing database connection - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Administrator launches "Controller Configuration". Administrator clicks on database connection, and clicks 'test'. An error appears. 

SYMPTOM
Example: Controller 10.1.x[/support/docview.wss?uid=swg21646362&aid=1] [/support/docview.wss?uid=swg21646362&aid=1]


CAUSE
The correct DB2 client software has not been installed on Controller application server. 

 
More Information:
The version of database client software (required on the application server) varies depending on which version of Controller you are using: 

 * Controller 10.2.0 and later: 64-bit 
 * Controller 10.1.1 and earlier: 32-bit


Example: 
In the above example (Controller 10.1.x), the error occurred because the DB2 32-bit client software not installed on Controller application server. 
RESOLVING THE PROBLEM
Install the correct version of DB2 client software (onto the Controller application server). 

 
Examples: 

 * Controller 10.2.0 and 10.2.1 - install the DB2 10.5 64-bit client 
 * Controller 10.1.1 and earlier - install the DB2 9.7 32-bit client


Steps: 

Controller 10.2.0 & 10.2.1:  * 


The following instructions are based on the ‘bundled’ version of DB2: 
0. Before starting, if you have a 32-bit version of the DB2 client already installed (on your Controller application server), please now uninstall it 
1. Download/obtain the DB2 10.5 RTM media (DB2_10.5.0.3_limited_Win_x86-64.exe) 
2. Extract this file, and open the folder for ‘CIWN9ML’ 
3. Double-click on <location>\setup.exe 
4. Click "Install a Product" 
5. Underneath "IBM Data Server Client Version 10.5" click "Install New" 
6. In the Wizard, click "Next" 
7. Choose install type "Custom" then click "Next" 
8. Choose the default ("Install IBM Data Server Client on this computer and save my settings in a response file") and click "Next" 
9. Accept the default installation folder (or choose a new directory) as required, and choose "Next" 
10. Ensure that "English" is selected and click "Next" 
11. Inside the "DB2 copy name" accept the default ("DB2COPY1") then click "Next" 
12. Click "Next" 
13. Accept all the defaults *except* inside the "Enable operating system security for DB2 objects" untick the option "Enable operating system security" (see Technote 1504470 for why) 
14. Click "Finish" 
15. Click “Next”, then “Finish” 
16. Close the final DB2 screen. 

17. Next, choose which DB2 Fix Pack (patch) to upgrade to.  * FP3a is bundled with Controller, so you can easily download this from the same location as before  * However, at the time of writing, FP5 is the latest version. Therefore, FP5 is recommended by the author.
   
   
 * All DB2 client versions can be freely downloaded from here: http://www-01.ibm.com/support/docview.wss?uid=swg27016878 [http://www-01.ibm.com/support/docview.wss?uid=swg27016878] 


18. Finally, patch the DB2 10.5 client to that chosen Fix Pack:  * Open the patch folder  * For FP3a, this is the folder: ‘CN2XMML’ 
    * For FP5, this is the folder that you have extracted “v10.5fp5_ntx64_universal_fixpack.exe” to.
   
   
 * Stop all DB2-related Windows services 
 * Double-click on <location>\setup.exe 
 * Click "Install a Product" 
 * Inside the “IBM Data Server Client Version 10.5 Fix Pack X” section, click “Work with Existing”: 
 * Choose all the default options, during the installation wizard.



========================= 
Controller 10.1.1 and earlier: 
TIP: Controller 10.1 has been officially tested using DB2 9.7 FP1. However, at the time of writing, the latest FixPack version is 9.7 FP6.  1. Insert the DB2 9.7 32-bit installation CD-ROM/media 
 2. Launch "setup.exe" 
 3. Inside the "DB2 Setup Launchpad", choose "Install a Product" 
 4. Underneath "IBM Data Server Client Version 9.7" choose "Install New" 
 5. Inside the "Select the installation type" choose "Custom" 
 6. Accept all the defaults *except* inside the "Enable operating system security for DB2 objects" untick the option "Enable operating system security" (see Technote 1504470 for why) 
 7. Finish the wizard

=========================