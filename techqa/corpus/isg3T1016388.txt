Title: IBM Jobs in job array still show up in bjobs even if they have completed for many days. - United States

Text:
job array LSB_CLEAN_PDONE_TIMEOUT bjobs cleanup TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Jobs in job array still show up in bjobs even if they have completed for many days. 

RESOLVING THE PROBLEM
Jobs in a job array still show up even if they have completed for many days. You want to remove those jobs from the bjobs output.

 This occurs because of a connection problem between mbatchd and sbatched when the job runs. To address the issue,

 1. Run bjobs -Al 

2. Check if the job status does nothave the status "PDONE".


If so, a connection problem between mbatchd and sbatched causes the issue. To solve the issue,

 1. Set LSB_CLEAN_PDONE_TIMEOUT = 2 in lsb.params. 

 2. run badmin reconfig to make the change take effect.

NOTE: LSB_CLEAN_PDONE_TIMEOUT = 2 (Such setting means 2 * CLEAN_PERIOD seconds)
If CLEAN_PERIOD is defined as 1 hour, that means MBD will clean those jobs waiting for PDONE for 2 hours. If the value is an unvalid 
number or larger than 720, We take it as undefined. Setting it as 0 means there is no need to clean timeout jobs waiting for PDONE

If not, contact Platform Support to look into the root cause.

 



 

Cross reference information Segment Product Component Platform Version Edition IBM Spectrum Computing IBM Spectrum LSF