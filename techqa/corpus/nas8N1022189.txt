Title: IBM How To Change The IBM Java Development Kit (JDK) Version Used By an IBM Integrated Web Services (IWS) v2.6 Server or Integrated Application Server (IAS) v8.5 Server - United States

Text:
IWS; JDK; Java; Version; Change; Integrated Web Services; Web Services; JVM TECHNOTE (FAQ)

QUESTION
 This document will answer the question, "How do you change the IBM Java Development Kit (JDK) version used by an IBM Integrated Web Services (IWS) v2.6 Server or Integrated Application Server (IAS) v8.5 Server?" 

ANSWER
NOTE: Before changing the JDK version used by your IWS v2.6 Server or IAS v8.5 Server, IBM recommends you first verify the JDK versions you have installed. You can only switch your IWS v2.6 Server or IAS v8.5 Server to an installed JDK version and bit level!! 

Please review the IBM Software Technical Document, How to determine what Java Development Kits (JDKs) are installed and use them in your environment? [http://www.ibm.com/support/docview.wss?uid=nas8N1019917] first. 

If you need to install JDK 7.0 or 8.0 on the IBM i OS, refer to the following documents.
Support of Java Development Kit (JDK) 8.0 on the IBM i OS [http://www.ibm.com/support/docview.wss?uid=nas8N1020692]
How To Download JDK 7.0/7.1 for the IBM i OS (57xxJV1 Options 14 & 15) [http://www.ibm.com/support/docview.wss?uid=nas8N1011217] 

The end of Java SE 6: How it affects the integrated web services server 
Perhaps you’ve seen some of the recent Java SE 6 end of support messages from IBM and wondered about the effect on integrated web services server (IWS) for IBM i. In short, public updates for Java SE 6 are no longer available, and the end of support in IBM Liberty (which IWS is based on) is set for September 2017. But what does that mean for your current IWS installations?

End of support for Java SE 6 means you can’t get updates or fixes for Java problems such as security vulnerabilities. Staying on the Java SE 6 level could leave your applications exposed to future issues. To ensure your applications are running in a supported environment for years to come, we recommend moving to the latest Java — Java SE 8. Java SE 7 is also an option, but its support only runs until 2019. 

IMPORTANT!!!!
Beginning with IBM i 7.2 SF99713 level 26 and IBM i 7.1 SF99368 level 52 HTTP Group PTF, the IWS v2.6 and IAS v8.5 Liberty runtime will be upgraded to v17.0.0.3, which will no longer support JDK 6.0/6.2.6. After this HTTP Group PTF level is applied to your IBM i 7.1 or 7.2 OS, your IWS v2.6 and IAS v8.5 servers will not start if they are configured to use JDK 6.0/6.2.6. You will need to follow the steps below to change the IBM JDK version to v7.0 or later in order for your IWS/IWS server to start successfully.

You can also refer to the IBM i Global Support Center video on this subject here, https://www.youtube.com/watch?v=FLe0q75D-HI [https://www.youtube.com/watch?v=FLe0q75D-HI].



1) Open a web browser and go to the URL, http://<server>:2001/HTTPAdmin, to display the IBM Web Administration for i console web application.

If you are not prompted for a userID and password, execute the following CL command to ensure the ADMIN server is started: 

STRTCPSVR *HTTP HTTPSVR(*ADMIN) 

If you continue to experience issues accessing the IBM Web Administration for i console, please open a Service Request (PMR) with IBM here [http://www-01.ibm.com/software/support/servicerequest/quick_start.html] or call 1-800-IBM-SERV. 2) Select Manage -> Application Servers from the tabs in the top, left-hand corner of the console. Then, select your IWS v2.6 Server or IAS v8.5 Server from the drop-down list next to the Server field.
NOTE: This document only applies to IWS v2.6 or IAS v8.5 Servers.

[/support/docview.wss?uid=nas8N1022189&amp;aid=1] 3) On the left-hand, vertical menu bar under Server Properties; click on the Properties link.

[/support/docview.wss?uid=nas8N1022189&amp;aid=2] 4) Click on the Application Server tab and click on the drop-down box next to JAVA home. Select the IBM JDK version you would like your IWS/IAS Server to use. Write down the JAVA home IFS path. You will need this in a later step!! Then, click on the Apply button to save the configuration.

IBM recommends the use of IBM JDK 8.0 64 bit (57xxJV1 Option 17).
See the following URL on how to download and install the IBM JDK 8.0 64 bit on the IBM i OS, http://www.ibm.com/support/docview.wss?uid=nas8N1020692 [http://www.ibm.com/support/docview.wss?uid=nas8N1020692].

[/support/docview.wss?uid=nas8N1022189&amp;aid=3]

[/support/docview.wss?uid=nas8N1022189&amp;aid=4] 5) If you are working with an IWS v2.6 server ("V2.6 (web services)"), proceed to the next step. If this is an IAS v8.5 Server ("v8.5 (int app svr)"), skip to Step 9 since the JVM argument discussed below is not included, by default, in the jvm.options file. 6) Next, Click on the Properties -> JVM Options tab and click on the Edit button.

[/support/docview.wss?uid=nas8N1022189&amp;aid=5] 7) Modify the -Djava.ext.dirs JVM argument value to point to the newly configured $JAVA_HOME/jre/lib/ext directory. 

In the example above, we changed the JDK version and bit level to 8.0 64 bit, which has a $JAVA_HOME/jre/lib/ext path of /QOpenSys/QIBM/ProdData/JavaVM/jdk80/64bit/jre/lib/ext. As a result, I would change the -Djava.ext.dirs value to the following:

-Djava.ext.dirs=/QOpenSys/QIBM/ProdData/JavaVM/jdk80/64bit/jre/lib/ext 8) Click the OK button to save the configuration changes.

[/support/docview.wss?uid=nas8N1022189&aid=6] [/support/docview.wss?uid=nas8N1022189&aid=6] 9) Restart your IWS/IAS Server for the configuration changes to the JDK version and properties to take affect. This can be done by clicking on the Stop button [/support/docview.wss?uid=nas8N1022189&amp;aid=7] button to stop the server and the Start button [/support/docview.wss?uid=nas8N1022189&amp;aid=8] button to start the server. 10) You can verify the JDK version of your IWS/IAS Server by executing the WRKJVMJOB command, locating your IWS/IAS Server name in the list, entering Option 5 to work with the JVM and then Option 2 to display environment variables. Locate the JAVA_HOME environment variable and look at its value by placing your cursor on the value and press F22. The value should match the JAVA home value set in the previous step 4.

[/support/docview.wss?uid=nas8N1022189&aid=9] [/support/docview.wss?uid=nas8N1022189&aid=9]

[/support/docview.wss?uid=nas8N1022189&aid=10] [/support/docview.wss?uid=nas8N1022189&aid=10] 11) Congratulations! You have successfully changed the IBM JDK version for your IWS v2.6 Server or IAS v8.5 Server. 


Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 7.3 Operating System IBM i 7.2 Operating System IBM i 7.1