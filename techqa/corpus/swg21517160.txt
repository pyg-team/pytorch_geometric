Title: IBM MS SQL Server Agent RAS1 logs are written to the root C: drive - United States

Text:
5724B96MO TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The problem occurs on 6.22 FP3 ITM and MSSQL agent 6.23. It only 
occurs on 64 or 32 bit server with 32 bit SQL agent. The agent works perfectly 
but logs are only created in C:\ drive even though variables and 
registry settings show the correct directory path. 

SYMPTOM
When manually adding the KBB_RAS1_LOG variable, the logs still are 

created in root C:: drive but ras1 logs have correct path and 

the variable in traces states the correct path and file name 


ENVIRONMENT
Windows 64 bit, ITM 6.22 FP3 ITM and MSSQL agent 6.23


RESOLVING THE PROBLEM
1.Open the candle HOME directory 

2.Open the file Name "KOQENV" (for 32 bit agent then it is in "tmaitm6" 

and 64 bit it in "TMAITM6_x64" folder ) 

3.Add the entry "CTIRA_LOG_PATH " above the "KBB_RAS1_LOG" entry. 

e.g. (32 bit agent) 

 

KBB_RAS1=ERROR 

KBB_VARPREFIX=% 

KBB_VARPREFIX=$ 

CTIRA_LOG_PATH= C:\IBM\ITM\TMAITM6\logs 

KBB_RAS1_LOG=$(CTIRA_LOG_PATH)\$(COLL_HOSTNAME)_oq_$(COLL_SERVERID)_koqa 

gent_$(sysutcstart)-.log 

INVENTORY=$(CTIRA_LOG_PATH)\$(COLL_HOSTNAME)_oq_$(COLL_SERVERID)_koqagen 

t.inv COUNT=03 LIMIT=5 PRESERVE=1 MAXFILES=9 

 

4.Recycle the agent.