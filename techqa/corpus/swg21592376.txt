Title: IBM EventReader stopped, but still green on GUI - United States

Text:
netcool; impact; netcool/impact; nci; event; reader; eventreader; back; log; backlog; maxqueuesize; queueSizeLowerLimit TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The EventReader is not polling for events although it is apparently running 

SYMPTOM
The following style of message is seen in the netcool.log file: 

 * 
 * 


CAUSE
The OMNIbusEventReader has a default maxqueuesize of 2000 and will stop reading events when this maximum value is reached. There is also a queueSizeLowerLimit and when this limit is reached through the EventProcessor processing the events from the EventReader EventQueue, the EventReader will fetch events from the EventFeedConnection again. The queueSizeLowerLimit is calculated as 75% the maxqueuesize, so the default value is 1500. 


As an example this section of netcool.log shows that there are 1800 event in the EventQueue and being larger than 1500 causes the OMNIbusEventReader to halt:



 * 
 * 
 * 
 * 
 * 



RESOLVING THE PROBLEM
Set maxqueuesize to 4000 in order to obtain high throughput in the file: 




 * 


and add/edit the following property: 

 * 


and restart the ImpactServer (ewas.sh stop/start). 

Essentially what the property has done is given the EventReader more room to manoeuvre by providing a larger space (double) in which to acquire events before hitting a limit whereby the EventReader would be paused. One would hope to never hit this new limit, the purpose of which is to prevent Impact from loading itself with so many rows of data it spends more time being a database than a processing engine, as this would indicate a bottleneck in processing that builds up such a backlog as to allow Impact to impede itself.