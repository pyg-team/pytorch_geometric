Title: IBM EJPDB0031E occurs on XMLAccess export - United States

Text:
ExportRelease; EJPFB0002E; EJPXA0033E; EJPDB0031E TECHNOTE (TROUBLESHOOTING)

PROBLEM
Unable to export a virtual portal or base portal configuration via XMLAccess using ExportRelease.xml. 

SYMPTOM
The following errors are reported: 

EJPXB0019E: Server response indicates an error. 
<?xml version="1.0" encoding="UTF-8"?>
<!-- 1 [portal] -->
<request build="20110713.0207D" type="update" version="6.1.0.5" xmlns:
xsi="http://www.w3.org/2001/XMLSchema-instance [http://www.w3.org/2001/XMLSchema-instance]" xsi:
noNamespaceSchemaLocation="PortalConfig_6.1.0.2.xsd">
<status element="[portal]" result="failed">
<message id="EJPXA0033E">com.ibm.wps.command.xml.
XmlCommandException: EJPXA0033E: An error occurred while retrieving the
configuration of the resource. [portal]</message>
<message id="EJPDB0031E">com.ibm.wps.util.DataBackendException:
EJPDB0031E: Object was not found in database.</message>
</status>


CAUSE
URL mapping's pointing to non-existent resources.


DIAGNOSING THE PROBLEM
 

Gather the xmlaccess data using this link
http://www-01.ibm.com/support/docview.wss?rs=688&uid=swg21314470 [http://www-01.ibm.com/support/docview.wss?rs=688&uid=swg21314470]

An example XML configuration interface command line is
# /xmlaccess.sh -user wpsadmin -password wpsadmin -in input.xml -out result.xml -url myhost.domain.com:10038/wps/config


Send the files "input.xml" and "result.xml". 


RESOLVING THE PROBLEM
Perform the following steps: 

 1. Go to the Portal Administration page (wps/myportal/Administration) > Portal Settings > URL Mapping 
 2. Look for any that say "Resource not available" next to them and delete them. 
 3. Run XMLAccess with Task.xml as input. on the environment where the export is failing, for example
    ./xmlaccess.sh -in /usr/IBM/WebSphere/PortalServer/doc/xml-samples/Task.xml -out /tmp/taskoutput.xml -url hxxp://hostname:10040/wps/config -user wpsadmin -password wpsadmin

RELATED INFORMATION
 Collecting Data: XML Configuration Interface (XMLAccess [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21314470]