Title: IBM Cannot connect to Engine DB when trying to log into multiple IBM Datacap 9 applications - United States

Text:
Engine DB; unable to connect; server log error TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Users are attempting to log in but cannot. Rulerunners are running and processing batches. Users can login to one application but not another at the same time 

SYMPTOM
"Cannot connect to Engine DB"


CAUSE
Multiple engine Databases are sharing the same db_index, which is causing locking issues when one application is ran

DIAGNOSING THE PROBLEM
Review Datacap Server logs for indications of:
12/16/13 15:14:37.862 2 12dc Database ID 'Admin' is duplicated for 'PROVIDER=MSSQL;DSN=sqlserver;CATALOG=FlexAdm;UID=myuser;PWD=******;DBNTA=;' and 'PROVIDER=MSSQL;DSN=sqlserver;CATALOG=APTAdm;UID=myuser;PWD=******;DBNTA=;'. Thread: 12dc Database index 156 is the same for 'C:\Datacap\Flex\FlexAdm.mdb' and 'C:\Datacap\APT\APTAdm.mdb'. Thread: 8dc 


RESOLVING THE PROBLEM
To resolve, do the following for each application running on the Taskmaster Server. 

Open the admin database. 
In the admininfo table, note the value of db_index. 
If the value is a duplicate of the value used in a different admin database, change the value to any other random 3-digit number such that it is unique for this database. 
Close the admin database and open the engine database. 
In the engineinfo table, check the value of db_index and change it if necessary, so that it is the same as the value in the admininfo table. In older versions these two values had to match. This is no longer required in newer versions, but is still good practice to minimize the possibility of conflicts. 
If the value of db_index is changed, edit the queue table in the engine database and change the value of qu_admDB to the new value for all records. 




Cross reference information Segment Product Component Platform Version Edition Enterprise Content Management Datacap Taskmaster Capture Windows 8.1.0.4, 8.1.0.3, 8.1.0, 8.0.1.5, 8.0.1, 8.0.0 All Editions