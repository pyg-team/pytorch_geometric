Title: IBM Initial Debug and Logs to send to support for a failed request to an ADK ITIM adapter - United States

Text:
ADK adapter DEBUG DEBUG_MAX failed request logs trace.log msg.log agentcfg logging TECHNOTE (FAQ)

QUESTION
 What debug logs should I send to support to help troubleshoot why my adapter request failed? 

CAUSE
The following settings and procedure will assist in capturing debug data from both
ITIM server and ITIM adapter


ANSWER
 

a.) Enable debug on the ITIM server, by editing <ITIM_HOME>/data/enRoleLogging.properties 
from: 
# logger.trace.com.ibm.itim.remoteservices.level=DEBUG_MIN 
to: 
logger.trace.com.ibm.itim.remoteservices.level=DEBUG_MAX 

If the problem is during a reconciliation request, increase the size, and # of logs to:

# The maximum number of trace log files
handler.file.trace.maxFiles=20

# The maximum log file size in KB
handler.file.maxFileSize=10240

You will need to wait 5 minutes for the above change to take effect.
(as that is default value for refreshInterval, in enRoleLogging.properties)

# Logging properties refresh interval in milliseconds
logger.refreshInterval=300000

or stop/start ITIM application in WebSphere, or stop/start WebSphere. On Windows, you must restart WebSphere itself or the logs will not roll correctly.

b.) To enable debug in an ADK adapter, please use the 'agentCfg' utility located in <ADAPTER_HOME>/bin/ directory.

agentCfg.exe -a <AdapterHome> 
(password by default is 'agent', and the <ADAPTER_HOME> would be the folder name where it's installed.
Once in agentCfg:
A. Configuration Settings.
B. Protocol Configuration.
C. Event Notification.
D. Change Configuration Key.
E. Activity Logging.
F. Registry Settings.
G. Advanced Settings.
H. Statistics.
I. Codepage Support.

X. Done

Do: E (Activity Logging), and enable all:

F. Debug Logging (Enabled).
G. Detail Logging (Enabled).
H. Base Logging (Enabled).
I. Thread Logging (Enabled).

Rrestart adapter after,

c.) Test the ADK based adapter service in ITIM.

d.) Recreate the problem by submitting the request that is failing.

e.) After failure, send to IBM support:
msg.log, and trace*.log from ITIM server. 
(from the location configured for "handler.file.fileDir", in enRoleLogging.properties)

adapter log from ADK adapter server.
(from <ADAPTER_HOME>/logs/ location)

 

PRODUCT ALIAS/SYNONYM
 TIM ITIM Identity Manager enRole isim sim