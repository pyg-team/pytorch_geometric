Title: IBM PK55018: INCORRECT RESULT FROM CPACKAGE FUNCTION IF ARGUMENT IS PART OF AN OUTPUT CARD - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  if you store a XML document (or parts of it) in an output card
   and use it later in a CPACKAGE function to create the XML prolog
   the result is missing the last 2 characters:
   result for Output Card#2:
   <?xml version="1.0" encoding="UTF-8"
   - test2:
   In contrast map test2 uses parts of the input card as an
   argument for the CPACKAGE function and returns the correct
   result:
   <?xml version="1.0" encoding="UTF-8"?>
   
   You will find the same result for PACKAGE, TEXT and CTEXT
   function!
   The problem occurs both in the DesignStudio (8.1.0.2 Build 38)
   and the runtime on z/OS (Build 39).
   
   I tested the map with some older versions of WTX on z/OS:
   8.1.0.1 (Build 110) works fine, but Build 149 has this bug
   already.
   
   
    
   
   

LOCAL FIX
 *  WTXCQ - WTX0002223
   EJ / EJ
   
   
    
   
   

PROBLEM SUMMARY
 *       The issue with CPACKAGE and XML Prolog has been fixed.
   Rewrote Prolog parsing code to build offsets.
   
   
    
   
   

PROBLEM CONCLUSION
 *      The issue with CPACKAGE and XML Prolog has been fixed.
   Rewrote Prolog parsing code to build offsets.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK55018
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE DESIG
   
   
 * REPORTED COMPONENT ID
   5724M4008
   
   
 * REPORTED RELEASE
   810
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2007-10-19
   
   
 * CLOSED DATE
   2008-04-09
   
   
 * LAST MODIFIED DATE
   2008-04-09
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE DESIG
   
   
 * FIXED COMPONENT ID
   5724M4008
   
   

APPLICABLE COMPONENT LEVELS
 * R810 PSY
   UP
   
   
 * R820 PSY
   UP