Title: IBM PI73545: WHEN MOVING OBJECT, IF RECEIVED PERMISSION DENIED ERROR SHOWS WRONG FOLDER NAME - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PERMANENT RESTRICTION.
    
   
   

ERROR DESCRIPTION
 *  When trying to move an object from one folder to another, if the
   user does not have delete permissions on the starting folder,
   they will get an error that looks like this in the log:
   2016-12-01 11:17:53
   CODE       : OP-03232
   LEVEL      : 2
   NAME       : com.openpages.sdk.repository.AccessDeniedException
   ERROR #    : S6GUO66TXNKP
   TOKEN ID   : 2141
   USER       : OpenPagesAdministrator
   IP         : 9.65.14.63
   HOST       : sig-9-65-14-63.ibm.com
   PARAMETERS : [E1]
   MESSAGE    : You need delete permission on "E1" to move this
   object.
   
   The folder name (in this case E1) is the destination folder,
   where the user does not need delete permissions.
   
   The error shown in the UI does not include any folder name,
   which is better than the incorrect one, but still could show the
   right folder instead.
   
   
   Prerequisites:
   OpenPages 7.1 with Solutions installed
   OpenPagesAdministrator belongs to OpenPages Modules 7.1.0 Master
   profile.
   
   Create two Business Entities to test with:
   Log in to OpenPages as OpenPagesAdministrator
   Go to Organization->Business Entities
   Click the Add New button
   Enter the name E1, fill in any other required fields, and save
   the new Business Entity
   Repeat the above steps to create a second entity, named E2
   
   Create an Issue:
   Click the Add New button in the top right
   Select the type Issue
   Choose E1 created earlier as the parent
   Name the issue Move Issue 1, and fill in any other required
   fields
   Repeat the above steps to create Move Issue 2 with a parent of
   E2
   
   Create a role template without delete permissions:
   Go to Administration->Role Templates
   Click Add
   Enter the name No Delete and click Next
   Check the boxes for SOXBusEntity and SOXIssue
   For both types, set Write and Associate to Granted, and set
   Delete to Denied
   Click Next, and then click Finish
   
   Create a user and set permissions:
   Go to Administration->Users, Groups, and Domains
   Expand Security Domains
   Click on E1
   Under Users, click Add New
   Create a new user named MoveTest, and fill in the other required
   fields
   Set the user's profile to  OpenPages Modules 7.1.0 Master
   Click Create
   Under Role Assignments, click Assign
   Select the user MoveTest, and click Next
   Choose the role No Delete, and click Next
   Choose the domain /E1, and click Finish
   Use the breadcrumb trail to Security Domains, and click on E2
   Under Users, click Associate
   Add the user MoveTest, and click Associate
   Under Role Assignments, click Assign
   Select MoveTest again, and click Next
   Choose the role OpenPages Modules 7.2 - All Permissions, and
   click Next
   Choose the domain /E2, and click Finish
   
   
   Steps to Reproduce:
   Log in to OpenPages as MoveTest
   Go to Remediation->Issues
   Enter the quick filter Move to display the Issue Move Issue 2
   Click on the line for that Issue, but do not click on the name
   link  the line should highlight in blue
   Click the Move To button in the toolbar
   
   
   Expand the folder list to show E1, and check the box next to
   that folder
   Click OK
   
   Expected Results:
   The system should report that the user does not have permissions
   to delete on E2
   
   
   Actual Results:
   The displayed error does not specify the domain where
   permissions are lacking, and the log shows the incorrect domain.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * OpenPages Users                                              *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * WHEN MOVING OBJECT, IF RECEIVED PERMISSION DENIED ERROR      *
   * SHOWS WRONG FOLDER NAME                                      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * The error message was improved in OpenPages 7.3, however,    *
   * it's not explicit on the Object Name.  We are marking this   *
   * as no plan to fix since it does not list the Object Name     *
   * still, but the error that is there still tells the users the *
   * correct information.  We will not be correcting this any     *
   * further.                                                     *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The error message was improved in OpenPages 7.3, however, it's
   not explicit on the Object Name.  We are marking this as no plan
   to fix since it does not list the Object Name still, but the
   error that is there still tells the users the correct
   information.  We will not be correcting this any further.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI73545
   
   
 * REPORTED COMPONENT NAME
   OPENPAGES GRC
   
   
 * REPORTED COMPONENT ID
   5725D5100
   
   
 * REPORTED RELEASE
   710
   
   
 * STATUS
   CLOSED PRS
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-12-09
   
   
 * CLOSED DATE
   2017-12-19
   
   
 * LAST MODIFIED DATE
   2017-12-19
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  999
   
   
    
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS