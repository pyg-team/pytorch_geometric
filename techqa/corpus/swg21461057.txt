Title: IBM Configuring WebSphere Enterprise Service Bus (WESB) to use the WebSphere Transformation Extender (WTX) Map Primitive on UNIX platforms - United States

Text:
WTX; TX; ESB; WESB; Process Server; com.ibm.websphere.dtx.dtxpi; UnsatisfiedLinkError; dstxpi; java.library.path TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 On UNIX platforms (AIX®, Solaris®, HPUX®, Linux), you must manually configure IBM® WebSphere® Enterprise Service Bus (WESB) before you run the WTX Map Primitive provided by the WebSphere Transformation Extender for WebSphere Enterprise Service Bus (WebSphere ESB) which is one of the extenders packaged as WebSphere Transformation Extender for Integration Servers (WTX for IS). 

SYMPTOM
An error similar to the following will appear in the WebSphere Enterprise Service Bus (WESB) SystemOut.log file when a WebSphere Transformation Extender (WTX) map is executed: 

UnsatisfiedLinkError: no dstxjpi in java.library.path: caused by: java.lang.UnsatisfiedLinkError: no dstxjpi in java.library.path


RESOLVING THE PROBLEM
 

 1.  Change directory to the <WTX_install_directory> 
 2.  Run the command: . ./setup 
 3.  Change directory to the <WESB_install_directory>/profiles/<your_profile>/bin directory. 
 4.  Run the osgiCfgInit.sh -all command. 
 5.  Run the clearClassCache.sh command. 
 6.  Log in to the WebSphere ESB admin console. 
 7.  Click Environment --> WebSphere Variables. 
 8.  Add the <WTX_install_directory>/libs path to the WAS_SERVER_ONLY_server_region_libpath variable. 
 9.  Click Servers --> Server Types --> WebSphere Application servers --> <your_server> 
 10. On the right side of the screen, scroll until you locate Java and Process Management. Expand this option and select Process definition --> Java Virtual Machine. 
 11. Add the <WTX_install_directory>/libs/dtxpi.jar path to the Classpath. 
 12. Click Servers --> Server Types --> WebSphere Application servers --> <your_server> 
 13. On the right side of the screen, scroll until you locate Java and Process Management. Expand this option and select Process definition --> Environment Entries. 
 14. Click New and add the following values:  * DTX_HOME_DIR <WTX_install_directory> 
      * DTX_TMP <WTX_install_directory>/bin 
      * DTX_TMP_DIR <WTX_install_directory>/tmp
     
     
 15. Restart the ESB Server


To verify that WebSphere ESB loaded the WTX jar files: 
 1. In the <WESB_install_directory>/profiles/<your_profile>/bin directory, run the osgiConsole.sh command. 
 2. At the OSGi prompt, enter the ss command. 
 3. Ensure that the primitive runtime jar files display the ACTIVE state or the RESOLVED state. For example:

411 RESOLVED com.ibm.wtx.runtime.sibx.ext_8.3.0 
Master=217 
412 RESOLVED com.ibm.wtx.runtime_8.3.0 
4. At the OSGi prompt, enter the close command to terminate the OSGi command. 


PRODUCT ALIAS/SYNONYM
 Ascential DataStage TX