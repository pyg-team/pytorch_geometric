Title: IBM PM39022: Running value_changed hook result in changing the attachment Delete button enabled in CQWeb71 - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PERMANENT RESTRICTION.
    
   
   

ERROR DESCRIPTION
 *  When running value_changed hook, the attachment Download button
   changes enabled even any attachment file is not selected in the
   ClearQuest Web 7.1 client.
   
   Steps to Reproduce the issue:
   
   Pre-Condition
   
   1. Check out a schema ( for exmaple, DefectTracking / Out of box
   schema).
   2. Add Changed_Value hook in a field ( for example, Project
   field with Reference Type ).
   
      Sub project_ValueChanged(fieldname)
         SetFieldValue 'Description', 'The Changed_Value hook has
   been run'
      End sub
   3. In the Drop-down list field for the above field, Select a
   dependent field (for example, Severity).
   4. Check in the schema and upgrade the user database.
   
   Steps
   
   1. Log on the User database in the ClearQuest Web.
   2. View a Defect record.
   3. Click MODIFY the record.
   4. Click the Attachment tab.
   5. See the Delete button is disabled
   6. Click the Main tab.
   7. Change a value in the Drop-down list field (for example,
   Project).
   8. The Changed_Value hook is run.
   
   Result:
   9. See the Delete button is enabled.   ?-  This is the issue.
   Expect:
   9. See the Delete button is disabled.
   (Because any attachment file is NOT selected.)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When running a value change hook in CQ Web 7.1.x, an
   attachment field's delete button becomes enabled even when
   there are no attachment files listed.
   
   Note - Clicking the delete button does not do anything.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A priority decision has been made that this defect cannot be
   addressed in the next 18 months without neglecting issues of
   higher importance and less risk.  Thank you for your
   understanding.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM39022
   
   
 * REPORTED COMPONENT NAME
   CLEARQUEST WIN
   
   
 * REPORTED COMPONENT ID
   5724G3600
   
   
 * REPORTED RELEASE
   712
   
   
 * STATUS
   CLOSED PRS
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-05-12
   
   
 * CLOSED DATE
   2011-06-03
   
   
 * LAST MODIFIED DATE
   2011-06-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS