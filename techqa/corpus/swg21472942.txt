Title: IBM CCRC Authentication against Linux servers relying on LDAP - United States

Text:
CC; CCRC; ldap; cm server; authentication; Unable to login: username or password is incorrect TECHNOTE (TROUBLESHOOTING)

PROBLEMA (ABSTRATO)
 This technote provides information to help troubleshoot issues related to IBM Rational ClearCase Remote Client (CCRC) Authentication against Linux Servers relying on LDAP. 

SINTOMA
 

When trying to authenticate against an IBM Rational Change Management (CM) Server that relies on LDAP, an error is reported:


Unable to login: username or password is incorrect

CAUSA
 

The Linux and LDAP integration, where CM Server is installed, may not be setup correctly.


AMBIENTE
 

CCRC and CC 7.1.x or 8.x 

Red Hat


RESOLVENDO O PROBLEMA
 

In order to support LDAP authentication for CCRC, consider the following:


 1. Technote 1117293 [https://www.ibm.com/support/docview.wss?uid=swg21117293]which provides the following information:
     1. How is LDAP supported? 
        
        ClearCase authenticates with the operating system that relies on LDAP so the support with LDAP will be transparent if the operating system is configured correctly to authenticate itself on LDAP.
        
     2. What kind of LDAP solutions are supported? 
        
        See the technote referenced above for a list of supported LDAP servers. 
        
        
        
    
    
 2. The case where you can authenticate directly on a Linux machine using LDAP accounts, but when trying to authenticate through CCRC, you receive the error:
    
    Unable to login: username or password is incorrect
    
    consider the details below:
     1. Does the /var/tmp/ccrctemp directory exist?
        
        
     2. Does the /var/adm/rational/clearcase/ccweb directory exist and have "777" as permission?
        
        
     3. Are /etc/pam.d/clearcase and /etc/pam.d/login files equal?
        
        
     4. Who is the target of the /lib/libpam.so.0 symbolic link?
        
        For instance: 
        
        lrwxrwxrwx 1 root root 16 Nov 12 18:09 /lib/libpam.so.0 -> libpam.so.0.81.5
        
        
        See more details at:
        
        Technote 1181625 [https://www.ibm.com/support/docview.wss?uid=swg21181625]Unable to login user: invalid session / login information supplied
        
        Technote 1390046 [https://www.ibm.com/support/docview.wss?uid=swg21390046%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20https://www.ibm.com/support/docview.wss?uid=swg21390046] Logging in to CM Server from CCRC results in error: Login failure: unknown user name or bad password
        
        
     5. If the Linux machine that authenticates on LDAP is using SSL or TLS, verify the symbolic links point to the right libraries:
        
        The example below refers to Red Hat 5:
         1. cd /opt/rational/common/CM/bin
            
            
         2. As root account create the links:
            ln -s /lib/libssl.so.6 libratlssl.so.0.9.7
            ln -s /lib/libcrypto.so.6 libratlcrypto.so.0.9.7
            
            See more details at:
            
            Technote 1458613 [https://www.ibm.com/support/docview.wss?uid=swg21458613] Authentication failure for CM Server on hosts configured for SSL or TLS communications to the authentication server
            
            
        
        
     6. If the machine is using the pam_tally module, create a symbolic called pam_tally.so linking pam_tally2.so in /lib/security and /lib64/security (if the machine is a 64 bit) as well.
        
        For instance:
        
        ln -vs /lib/security/pam_tally2.so /lib/security/pam_tally.so "/lib/security/pam_tally.so" -> "/lib/security/pam_tally2.so"
        
        ln -vs /lib64/security/pam_tally2.so /lib64/security/pam_tally.so
        "/lib64/security/pam_tally.so" -> "/lib64/security/pam_tally2.so"
        
        
        Note: To ensure that pam_tally is used, run the command below and look for any line (uncommented) as result.
    
    

 * 
 * grep -rins tally /etc/pam.d


INFORMAÇÕES RELACIONADAS
#Support Policy for LDAP and ClearCase [http://www.ibm.com/support/docview.wss?uid=swg21117293]