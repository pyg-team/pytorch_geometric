Title: IBM For fresh installation of IBM Content Navigator 2.0.3, after the deployment, get hung when to start the service in IBM Websphere. - United States

Text:
ICN; DB script TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After install IBM Content Nagigator[ICN] 2.0.3, run the all required taskes in IBM Content Nagivator Configuration and Deployment Tool, But didn't check "Run the script on your database" in task "Configure your database and Data source". Instead run this script ORACLE_ONE_SCRIPT.sql in Oracle database level. After that, get hung when to start ICN in IBM Websphere[WAS]. 

SYMPTOM
Get hung when to start ICN service in WAS after ICN deployment. 


CAUSE
Something wrong with the first time to run the script.

ENVIRONMENT
ICN 2.0.3, Oracle, Linux

DIAGNOSING THE PROBLEM
There are database errors as below in systemOut.log file followed by hung.




at com.ibm.ecm.sync.WebAppListener.applyDatabaseUpdaters(WebAppListener.java:278)
at com.ibm.ecm.sync.WebAppListener.contextInitialized(WebAppListener.java:118) 

The whole error message in systemOut.log is as below:
[[10/09/15 15:10:11:447 EST] 00000090 ThreadMonitor W WSVR0605W: Thread "server.startup : 1" (00000082) has been active for 702796 milliseconds and may be hung. There is/are 1 thread(s) in total in the server that may be hung.
at java.lang.Thread.sleep(Native Method)
at java.lang.Thread.sleep(Thread.java:897)
at com.ibm.ecm.sync.WebAppListener.applyDatabaseUpdaters(WebAppListener.java:278)
at com.ibm.ecm.sync.WebAppListener.contextInitialized(WebAppListener.java:118)
at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1678)
at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)
at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)
at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)
at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:749)
at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)
at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:426)
at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1175)
at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1370)
at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:639)
at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:968)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:774)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2182)
at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445)
at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)
at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388)
at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:116)
at com.ibm.ws.runtime.component.CompositionUnitMgrImpl$CUInitializer.run(CompositionUnitMgrImpl.java:994)
at com.ibm.wsspi.runtime.component.WsComponentImpl$_AsynchInitializer.run(WsComponentImpl.java:502)
at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1862)


RESOLVING THE PROBLEM
Delete the ICN Oracle schema and rerun the ORACLE_ONE_SCRIPT. 





Cross reference information Segment Product Component Platform Version Edition Enterprise Content Management Content Navigator