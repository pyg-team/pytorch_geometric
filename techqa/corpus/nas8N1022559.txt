Title: IBM WebSphere Application Server Memorandum to Users Supplement IBM i 7.3 - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 The following is a supplement to the Memo to Users or Memorandom to Users dealing with additional products and additional steps needed to complete the WebSphere Application Server Migration to IBM i 7.3. 

ANSWER
Quick Questions and Answers
Supported WebSphere Application Servers Versions

WAS V6.1, V7, V8 - No Support
WAS V8.5.5.10 (newer) and V9 - Supported 

Java Development Kit (JDK) Support

NO JAVA 6 Support
IBM Java Development Kit 6.0 and 6.2.6 provided with 57xxJV1 Option 11 and 12 are no longer fully supported on any IBM i OS VRM. Please refer to the URL, [http://www.ibm.com/support/docview.wss?uid=nas8N1022418]

http://www-01.ibm.com/support/docview.wss?uid=nas8N1022418 [http://www-01.ibm.com/support/docview.wss?uid=nas8N1022418] , for more information.

Install requirements 
WebSphere Application Server requires V8.5.5.9 or newer media. Then following URL explains the process to download from ESS
http://www-01.ibm.com/support/docview.wss?uid=nas8N1010905 [http://www-01.ibm.com/support/docview.wss?uid=nas8N1010905] 

The following URL explains the requirements for install and installation steps. 

http://www-01.ibm.com/support/docview.wss?uid=nas8N1020070 [http://www-01.ibm.com/support/docview.wss?uid=nas8N1020070] 


PRIOR to upgrading your IBM i OS to 7.3 .
IBM recommends changing the Java version in use by your WAS profiles to JDK 7.0 or later.
IBM also recommends verifying the WAS Fix Pack version 8.5.5.10 or later is installed.
If you are already at 8.5.5.10 or later, IBM recommends installing the newest WAS Fix Pack version AFTER you upgrade to IBM i 7.3.

1) Check/Change the Java version used by the WebSphere Application Servers to use JDK 7.0 or later.

Note: WAS V8.5.5.9 or later is required to be installed in order to use JDK 8.0 with your WAS v8.5 profile


STRQSH
cd /QIBM/ProdData/WebSphere/AppServer/V85/Express/bin
./managesdk -listEnabledProfileAll 

Replace Express with Base or ND as required. 

If the SDK value of “Server profile_name SDK name” is either 1.6_32 or 1.6_64, then you will need to enable the server to use a newer SDK version (1.7_32, 1.7_64, 1.7.1_32, 1.7.1_64, 1.8_32, 1.8_64). 

IBM recommends the following commands be executed to change the product and all profile defaults to use JDK 8.0 64 bit (5770JV1 Option 17).
STRQSH 
cd /QIBM/ProdData/WebSphere/AppServer/V85/Express/bin 
./managesdk -setNewProfileDefault -sdkname 1.8_64 
./managesdk -setCommandDefault -sdkname 1.8_64 
./managesdk -enableProfileAll -sdkname 1.8_64 -enableServers

2) Install the latest WebSphere Application Server AFTER the upgrade. 

How To Install an IBM WebSphere Application Server (WAS) v8.0 and v8.5 Fix Pack Using the IBM Web Administration for i Console
http://www-01.ibm.com/support/docview.wss?uid=nas8N1019968 [http://www-01.ibm.com/support/docview.wss?uid=nas8N1019968] 


AFTER your IBM i OS to 7.3 upgrade. Additional steps are required if the following install examples exist. 

- I already have V8.5.5.10 or newer installed.
- I already have V8.5.5.13 installed.
- I have a Network Deployment Federated Environment. 
- I have multiple WAS profiles created. 
- I did not complete any of the steps in PRIOR to upgrade.

To complete the following steps WAS V8.5.5.10 or newer MUST be installed. Prior versions of WAS V8.5.5.x are not supported. 

If not installed review the following URL for instructions to upgrade. Depending on environment Installation Manager may also require updating. 

How To Install an IBM WebSphere Application Server (WAS) v8.0 and v8.5 Fix Pack Using the IBM Web Administration for i Console
http://www-01.ibm.com/support/docview.wss?uid=nas8N1019968 [http://www-01.ibm.com/support/docview.wss?uid=nas8N1019968] 




Run the following commands. 

STRQSH 
cd /QIBM/ProdData/WebSphere/AppServer/V85/Express/bin
./_postfpexit /QIBM/ProdData/WebSphere/AppServer/V85/Express 
./_setupDefaultSDK

IBM recommends the following commands be executed to change the product and all profile defaults to use JDK 8.0 64 bit (5770JV1 Option 17).
STRQSH 
cd /QIBM/ProdData/WebSphere/AppServer/V85/Express/bin 
./managesdk -enableProfileAll -sdkname 1.8_64 -enableServers

When executing the WAS administrative commands, the Java version used is defined by the WAS Profile configuration versus the WAS command defaults. Cases have been seen where the WAS administrative commands (i.e. managesdk) fails stating JDK 6 cannot be found. If this situation is encountered, please follow the steps below to change your WAS profile configuration to use JDK 7.0 or later.

Example:
./managesdk -enableProfile -profileName WASprofile -sdkname 1.7.1_32 -enableServers

The profile used in -profileName must be manually updated. 

<profile_root>/profiles/<profile_name>/bin/sdk/_setupsdk for each 
<profile_name> to update the PROFILE_COMMAND_SDK from 1.6_32 or 1.6_64 
to one of the following JDK versions: 1.7_32, 1.7_64, 1.7.1_32, 
1.7.1_64, 1.8_32, or 1.8_64 

Example: 
WRKLNK '/QIBM/UserData/WebSphere/AppServer/V85/Express/profiles' 
Enter option 5 next to the profile name 
Enter option 5 next to the bin folder 
Enter option 5 next to the sdk folder 
Enter option 2 next to the _setupSdk file 

You will see the PROFILE_COMMAND_SDK=1.6_x This will need to be 
changed to one of the current versions of Java listed above. 

After the change, F3 save and exit. Repeat these steps for each profile 
in the <profile_root> directory. 



MISC. 

Liberty Profile Installation Migration (Installation Manager and Archive Type Installations):
All WAS Liberty Profiles will need to be configured to use JDK 7.0 or newer to function correctly at IBM i 7.3 OS.
Please see http://www.ibm.com/support/docview.wss?uid=nas8N1021106 [http://www.ibm.com/support/docview.wss?uid=nas8N1021106] for detailed information on how to configure your IBM WebSphere Application Server Liberty Profile installation and application servers to use IBM JDK v7.0 or newer.




Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 7.3 Operating System IBM i 7.2 Operating System IBM i 7.1 Operating System IBM i 6.1