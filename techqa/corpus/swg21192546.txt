Title: IBM Failover to secondary node under MSCS and the queue manager will not start - United States

Text:
HL083112 mqlpgrlg ZX000001 ExecCtrlrMain lpiRC_LOG_NOT_AVAILABLE mscs TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You attempt to failover from the primary to secondary node under MSCS. Your WebSphere MQ queue manager fails to come up on the secondary node, and errors are generated. 

SYMPTOM
The sequence seen in the FDC files show:


Probe Id :- HL083112 
Component :- mqlpgrlg 
Process Name :- D:\Programs\MQSeries\bin\amqzxma0.exe 
Major Errorcode :- hrcE_MQLO_UNEXPECTED_OS_ERROR 
MQM Function Stack
kpiStartup
apiStartup
almPerformReDoPass
hlgScanLogBegin
mqlpgrlg
xcsFFST


Probe Id :- ZX000001
Component :- ExecCtrlrMain 
Process Name :- D:\Programs\MQSeries\bin\amqzxma0.exe 
Major Errorcode :- xecF_E_UNEXPECTED_RC 
Minor Errorcode :- lpiRC_LOG_NOT_AVAILABLE 
Probe Description :- AMQ6118: An internal WebSphere MQ error has occurred 
(7017) 
Arith1 :- 28695 7017 
MQM Function Stack
xcsFFST


CAUSE
This is caused by a logger failure at restart due to missing or damaged logs.


RESOLVING THE PROBLEM
Rename the file amqalchk.fil, which is found under mq\qmgrs\qmgrname\ on the shared drive (to something like amqalchk.fil_OLD); then restart the queue manager.



PRODUCT ALIAS/SYNONYM
 WMQ / MQ