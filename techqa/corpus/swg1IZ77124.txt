Title: IBM IZ77124: LISTENER SITUATION FALSE ALERT OF INACTIVE STATUS - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Monitoring for Databases: Oracle Agent 6.2.1-TIV-ITM_ORA-IF0007 [http://www-01.ibm.com/support/docview.wss?uid=swg24033217]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Environment: ITM Oracle agent 6.20FP1+IF0008, Oracle agent
   6.21+IF0002
   
   Problem Description:
   The Oracle agent false alert of inactive status of listener due
   to agent only verifies first valid address in the definition of
   listener. In case the first address(such as the IPC protocol in
   following) in a listener is not active, then agent reports all
   addresses in this listener with inactive status unexpectly. The
   agent should verify status of each address one by one in a
   listener to avoid false alert.
   ##################################
   LISTENER =
   (DESCRIPTION_LIST =
     (DESCRIPTION =
       (ADDRESS_LIST =  (ADDRESS = (PROTOCOL = IPC)(KEY =
   EXTPROC)))
       (ADDRESS_LIST =  (ADDRESS = (PROTOCOL = TCP)(HOST =
   gb02qvn020rbsx7)(PORT = 1521)))
     )
   )
   ##################################
   Detailed Recreation Procedure:
   step-1-Create a situation with condition of 'listener
   status=Inactive' in attribute group of 'Oracle Listener Detail'
   with interval 10 mins.
   step-2-Use command 'lsnrctl status' to verify listener is active
   on both IPC and TCP protocols
   step-3-Edit file $oracle_home/network/admin/listener.ora to
   modify the value of KEY for IPC protocol. Example:
   (ADDRESS_LIST =  (ADDRESS = (PROTOCOL = IPC)(KEY = TEST)))
   step-4-The situation fire with both IPC and TCP addresses.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ummary
   *************************************************************
   * USERS AFFECTED:
   ITM for Database:Oracle Agent Version 6.20FP1, 6.21
   *************************************************************
   * PROBLEM DESCRIPTION:
   LISTENER SITUATION FALSE ALERT OF INACTIVE STATUS.
   
   *************************************************************
   * RECOMMENDATION:
   apply next ifix when available
   *************************************************************
   The Oracle agent false alert of inactive status of listener due
   to agent only verifies first valid address in the definition of
   listener. In case the first address(such as the IPC protocol in
   following) in a listener is not active, then agent reports all
   addresses in this listener with inactive status unexpectly. The
   agent should verify status of each address one by one in a
   listener to avoid false alert.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem Conclusion:
   The fix for this APAR is contained in the following maintenance
   packages:
   6.2.0.1-TIV-ITM_ORA-IF0009
   6.2.1-TIV-ITM_ORA-IF0003
   
   
    
   
   

TEMPORARY FIX
 *  A temporary solution had been delivered to customer as
   following:
   adjust the addresses in the listener definition to move the TCP
   entry to the ahead of IPC address.Then oracle agent can verify
   the correct status of TCP address of listener.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ77124
   
   
 * REPORTED COMPONENT NAME
   TIV MON ORACLE
   
   
 * REPORTED COMPONENT ID
   5724B96OO
   
   
 * REPORTED RELEASE
   620
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-06-09
   
   
 * CLOSED DATE
   2010-06-09
   
   
 * LAST MODIFIED DATE
   2014-02-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TIV MON ORACLE
   
   
 * FIXED COMPONENT ID
   5724B96OO
   
   

APPLICABLE COMPONENT LEVELS
 * R620 PSY
   UP
   
   
 * R621 PSY
   UP