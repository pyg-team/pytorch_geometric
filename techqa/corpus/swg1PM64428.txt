Title: IBM PM64428: EXECUTION ENVIRONMENT ABEND IF XPATH STATEMENT IS INCORRECTLY FORMED - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A map that uses a badly formed XPATH() function can core dump
   the execution environment, such as the Command Server or
   WebSphere Message Broker.
   
   
    
   
   

LOCAL FIX
 *  WTXCQ - WTX00039853
   PB / PB
   Circumvention: Ensure that no badly formed XPATH statements are
   used.
   
   
    
   
   

PROBLEM SUMMARY
 *  Users Affected:
   WebSphere Transformation Extender customers using custom XML
   functions from xmllib on Solaris
   
   Problem Description:
   XPATH or XPATHEX WTX function on Solaris crashes when processing
   XPATH statements that have invalid parameters. Example stack
   trace is:
   
    ---- called from signal handler with signal 6 (SIGABRT) ------
     [9] __lwp_kill
     [10] raise
     [11] abort
     [12] __Cimpl::default_terminate
     [13] __Cimpl::ex_terminate
     ---- hidden frames, use 'where -h' to see them all ----
     [16] xslt4c_1_11::XPathProcessorImpl::error
     [17] xslt4c_1_11::XPathProcessorImpl::error
     [18] xslt4c_1_11::XPathProcessorImpl::RelativeLocationPath
     [19] xslt4c_1_11::XPathProcessorImpl::LocationPath
     [20] xslt4c_1_11::XPathProcessorImpl::FilterExpr
     [21] xslt4c_1_11::XPathProcessorImpl::PathExpr
     [22] xslt4c_1_11::XPathProcessorImpl::UnionExpr
     [23] xslt4c_1_11::XPathProcessorImpl::MultiplicativeExpr
     [24] xslt4c_1_11::XPathProcessorImpl::AdditiveExpr
     [25] xslt4c_1_11::XPathProcessorImpl::RelationalExpr
     [26] xslt4c_1_11::XPathProcessorImpl::EqualityExpr
     [27] xslt4c_1_11::XPathProcessorImpl::AndExpr
     [28] xslt4c_1_11::XPathProcessorImpl::OrExpr
     [29] xslt4c_1_11::XPathProcessorImpl::initXPath
     [30] xslt4c_1_11::XPathEvaluator::evaluate
     [31] xslt4c_1_11::XPathEvaluator::evaluate
     [32] XPATHEX
     [33] MercExitProcEx
     [34] MercExitProc
     [35] CallExternalFuncProc
     [36] FindOperand
     [37] ExecuteMapRule
   
   
   Platforms Affected:
   Solaris
   
   
    
   
   

PROBLEM CONCLUSION
 *  XLST library throws an exception that was not caught in WTX
   XPATH function. WTX libxmllib.so was incorrectly linked with c++
   runtime causing problem with exception handling.
   
   Delivered in:
   8.3.0.5, 8.4.0.3
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM64428
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE DESIG
   
   
 * REPORTED COMPONENT ID
   5724M4008
   
   
 * REPORTED RELEASE
   820
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2012-05-11
   
   
 * CLOSED DATE
   2012-07-26
   
   
 * LAST MODIFIED DATE
   2014-05-12
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE DESIG
   
   
 * FIXED COMPONENT ID
   5724M4008
   
   

APPLICABLE COMPONENT LEVELS
 * R820 PSY
   UP
   
   
 * R830 PSY
   UP
   
   
 * R840 PSY
   UP