Title: IBM IT19473: HTTP CLIENT IP LABEL DOES NOT WORK - United States

Text:
  FIXES ARE AVAILABLE
Fix packs for DataPower Gateway version 7.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24038524]
Fix packs for DataPower Gateway version 7.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24039783]
Fix packs for DataPower Gateway version 7.5 [http://www-01.ibm.com/support/docview.wss?uid=swg24041543]
Fix packs for DataPower Gateway version 7.5.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24042194]
Fix packs for DataPower Gateway version 7.5.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24042699]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The HTTP Client IP Label does not work as described.
   
   It should allow you to enter the name of an HTTP Header (e.g
   X-Forwarded-For) to determine the IP address of the requesting
   client, which would then be used for monitoring and logging.
   
   Instead, the specified HTTP Header is not used for monitoring
   and logging.
   
   This will impact X-Client-IP header.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Affected are all customers using the http-client-ip-label
   setting present in most of DataPower services. This setting is
   by default set to "X-Client-IP".
   The functionality behind this feature lacked the part where the
   original client IP present in the "X-Client-IP" (or other
   custom) header should appear in the system logs as the current
   transaction client IP.
   
   This fix also introduces a new "network" target "info" priority
   message to mark the moment the logged client IP changes.
   
   For releases up to and including 7.5.2.x the message is:
   > Message 0 is specific to APAR IT19473: <current-client-ip>
   <new-client-ip> <http-header-name>
   
   Future releases will display the same message as more readable:
   > Client IP <current-client-ip> is now tracked as
   <new-client-ip> due to its presence in the "<http-header-name>"
   HTTP header.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Fix is available in 7.1.0.17, 7.2.0.14, 7.5.0.8, 7.5.1.7,
   7.5.2.7 and 7.6.0.0
   
   For a list of the latest fix packs available, please see:
   http://www-01.ibm.com/support/docview.wss?uid=swg21237631 [http://www-01.ibm.com/support/docview.wss?uid=swg21237631]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT19473
   
   
 * REPORTED COMPONENT NAME
   DATAPOWER
   
   
 * REPORTED COMPONENT ID
   DP1234567
   
   
 * REPORTED RELEASE
   752
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-02-28
   
   
 * CLOSED DATE
   2017-05-24
   
   
 * LAST MODIFIED DATE
   2017-06-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DATAPOWER
   
   
 * FIXED COMPONENT ID
   DP1234567
   
   

APPLICABLE COMPONENT LEVELS
 * R710 PSN
   UP
   
   
 * R720 PSN
   UP
   
   
 * R750 PSN
   UP
   
   
 * R751 PSN
   UP
   
   
 * R752 PSN
   UP
   
   
 * R760 PSN
   UP