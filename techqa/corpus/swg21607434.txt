Title: IBM Fixpack installs fails with Deployment Engine failing to initialize - United States

Text:
webgui; omnibus; tbsm; LDR_CNTRL TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Tivoli Network Manager 3.9 FP1 on AIX machine installation fails with DE reporting it as unable to initialize. Its a known issue on JAVA 1.6, unsetting the environment variable LDR_CNTRL avoids the problem. Other DE deployed products should take note too. 

SYMPTOM
The primary symptom is a runtime message by the fixpack installer during Deployment Engine initializing that reports "Deployment Engine failed to initialize. The installer will now shut down. Please check with the log files for a more complete description of the failure." Within the generic InstallAnywhere log in the user's home directory (in the case of ITNM, this will be IA-ITNM-Install-00.log) will be an SIException error (from com.ibm.ac.coi.ext.ia.DEBootstrapInstall.install) caused by a java.lang.StringIndexOutOfBoundsException.

By unsetting the environment variable during the duration of the ITNM 3.9 Fixpack 1 installation, the problem can be avoided and the fixpack will get installed.

Note: this problem has been seen with other products under similar circumstances for the same reasons.



RESOLVING THE PROBLEM
The problem is actually within the IBM Java Runtime Environment (JRE) Version 1.6 code that is made visible by the use of the LDR_CNTRL environment variables (see APAR IV09391). By unsetting the environment variables and removing them from the ITNM scripts, the issue within the jre can be avoided and the fixpack installation can proceed to a successful conclusion. The steps to unset the known environment variables used by ITNM that cause the problem are:

1. Backup the $NCHOME/env.sh file
2. Remove the "LDR_CNTRL" line in $NCHOME/env.sh
3. Launch a fresh command prompt and make sure that "LDR_CNTRL" variable is not set in the environment (you can use the command "set | grep LDR_CNTRL")
4. Begin the fixpack installation process.


There is no need to restore the line defining LDR_CNTRL in the env.sh script once the installation is finished; the variable definition was moved to another script after the ITNM 3.9 GA release.


It is possible that the user may set the LDR_CNTRL environment variable in their own environment scripts as well; if that is the case, they will have to remove those lines in a similar manner before executing the fixpack installer. The same is also true of the other environment variable mentioned in the APAR, LIBPATH.




Cross reference information Segment Product Component Platform Version Edition Systems and Asset Management Tivoli Network Manager IP Edition AIX 3.9 FP1 Systems and Asset Management Tivoli Netcool/OMNIbus AIX All Editions Systems and Asset Management Tivoli Business Service Manager AIX All Editions 
PRODUCT ALIAS/SYNONYM
 TIP