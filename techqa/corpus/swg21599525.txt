Title: IBM WebSphere Portal server starts up with EJPDD0009E errors - United States

Text:
EJPDD0009E; wps_scheduler; wps TECHNOTE (TROUBLESHOOTING)

PROBLEM
WebSphere Portal server starts up with EJPDD0009E errors during the wps.ear initialization.

SYMPTOM
In the SystemOut.log, the following error can be seen:
=============================
[2/28/12 17:57:12:658 EST] 00000011 InternalGetSc E
com.ibm.wps.command.scheduler.internal.InternalGetSchedulerTaskCommand
AbstractCommand.throwCommandException EJPDD0009E: JNDI naming lookup
failed for name = [ejb/wpsSchedulerManager].
javax.naming.NameNotFoundException:
Context: myCell/nodes/myNode/servers/WebSphere_Portal, name:
ejb/wpsSchedulerManager: First component in name wpsSchedulerManager
not found. [Root exception is
org.omg.CosNaming.NamingContextPackage.NotFound:
IDL:omg.org/CosNaming/NamingContext/NotFound:1.0]
at
com.ibm.ws.naming.jndicos.CNContextImpl.mapNotFoundException(CNContextIm
pl.java:4378)
at
com.ibm.ws.naming.jndicos.CNContextImpl.doLookup(CNContextImpl.java:1807
)
at
com.ibm.ws.naming.jndicos.CNContextImpl.doLookup(CNContextImpl.java:1762
)
=============================


CAUSE
This exception can occur if the wps.ear application starts before the wps_scheduler application. By default, the wps_scheduler application starts first but if you manually redeploy wps.ear, you may inadvertently set it's startup order to occur before wps_scheduler. 


RESOLVING THE PROBLEM
To resolve the problem, follow these steps: 


1. Start the WebSphere_Portal server if it is not already started, or DMGR if this is in a cluster.
2. Login to the WAS admin console. For example in a standalone environment:

http://<portal hostname>:10042/ibm/console

3. Navigate to Applications -> WebSphere Enterprise Applications

4. Pick the 'wps' application and go to 'Startup Behavior'. Check the
Startup Order. The default value is 10. If you have to change this,
do so now.

5. Go back to 'wps' and click Manage Modules.

6. Click 'WebSphere Portal Server'. It's starting weight should be
10000. If you have to change this, do so now.

7. Back in Manage Modules, click 'WebSphere Portal Server WSRP
Facade'. It's starting weight should be 10000. If you have to change
this, do so now.

8. Back in Manage Modules, click 'WebSphere Portal XmlAccess Facade'.
It's starting weight should also be 10000. Again if you have to change
this, do so now.

9. Now back to the list of applications, pick 'wps_scheduler' and go
to 'Startup Behavior'. It's startup order should also be 10. If you
have to change this, do so now.

10. From wps_scheduler, go to Manage Modules.

11. Click 'WPS Task Scheduler'. It's starting weight should be 5000.
If you have to change this, do so now.

12. Save all changes and restart Portal.