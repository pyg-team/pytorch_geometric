Title: IBM Knowledge Collection: PureData System for Analytics Groom - United States

Text:
 RECOMMENDED RESOURCES

ABSTRACT
 A compilation of links to documents and resources to help you plan and perform a groom table of IBM PureData System for Analytics. 

CONTENT
The groom table activity for the Pure Data for Analytics appliance is a simple procedure that can be completed without the assistance of PDA Support, providing the client greater flexibility and self sufficiency in managing their PDA appliance. With review of the information in this technote, it is expected a client would be successful in completing this activity independently.
PureData System for Analytics (PDA) does not maintain logical logs similar to other databases, but uses a method of multiversion concurrency controls where data is not immediately deleted from the system. Instead a row is marked as deleted and retained until it has been backed up, at which time a 'groom table' command can be invoked to permanently remove these rows. This applies to a row being updated as well since PDA does not perform in-place updates, but rather executes a delete / insert sequence where the old row is marked for delete, and the new 'updated' row is inserted.

Below are various links to documents and resources that explain this in detail, as well as some best practices to consider.

There is a thorough explanation of Groom Table, along with the associated options, contained in the Product Documentation:


 * Database User's guide [https://www.ibm.com/support/knowledgecenter/SSULQD_7.2.1/com.ibm.nz.dbu.doc/r_dbuser_groom_table.html] 
 * System Administration guide [http://www.ibm.com/support/knowledgecenter/SSULQD_7.2.1/com.ibm.nz.adm.doc/c_sysadm_grooming_tables.html]


Blog Posts are additional resources for this topic. Here are two specific ones below. It is advised to perform searches for the latest information on this topic: 
 * 50 PureData Nuggets #8: The many facets of GROOM part 1 - deleting rows [https://www.ibm.com/developerworks/community/blogs/9c8f1300-9ac0-4de5-80e6-0708f8e0260d/entry/50_PureData_Nuggets_8_The_many_facets_of_GROOM_part_1_deleting_rows?lang=en] 
 * 50 PureData Nuggets #12: The many facets of GROOM part 2 - Why are my deleted rows not being removed? [https://www.ibm.com/developerworks/community/blogs/9c8f1300-9ac0-4de5-80e6-0708f8e0260d/entry/50_PureData_Nuggets_12_The_many_facets_of_GROOM_part_2_Why_are_my_deleted_rows_not_being_removed?lang=en]


Best Practices have been published for using PDA / Netezza. These contain valuable information in an easy to read format, targeted for new users. The following resources provide good reference for best practices:  * PureData System for Analytics Best Practices – Backup and Restore [https://www.ibm.com/developerworks/community/files/form/anonymous/api/library/2be320d8-2913-4cef-a77a-891d02d0ccfe/document/2c46677b-5cd6-4242-a86f-169d786ebf40/media] 
 * Backup, Restore, Replicate [https://www.ibm.com/developerworks/community/files/form/anonymous/api/library/2be320d8-2913-4cef-a77a-891d02d0ccfe/document/e0030cd2-9bf5-4cb3-8bb3-644dc86c11c5/media] 
 * Cluster-Based Table [https://www.ibm.com/developerworks/community/files/form/anonymous/api/library/2be320d8-2913-4cef-a77a-891d02d0ccfe/document/debb7393-5a7c-4ee8-a9d6-83613c32b6c0/media] 
 * Data Layout [https://www.ibm.com/developerworks/community/files/form/anonymous/api/library/2be320d8-2913-4cef-a77a-891d02d0ccfe/document/156107fe-d0cb-424c-93c0-0c25f01e5a9e/media]


Technotes are routinely published that provide targeted information related to customer questions or issues encountered. Here are several specific Technotes that involve Groom. It is advised to perform searches for the latest information on this topic:  * How does Groom affect nzbackup in both a single and multiple backupset environment? [http://www-01.ibm.com/support/docview.wss?uid=swg21992169] 
 * Is it possible to run ‘groom records all’ when the databases are in ‘locked mode’ in the Netezza (PDA) appliance? [http://www-01.ibm.com/support/docview.wss?uid=swg21990464] 
 * Why did the groom command shrink my table by n extents even though no records were purged? [http://www-01.ibm.com/support/docview.wss?crawler=1&uid=swg21568550] 
 * Groom Error: relation does not exist [http://www-01.ibm.com/support/docview.wss?uid=swg21973823] 
 * How do I determine if the groom command purged fewer records due to stablexid constraints? [http://www-01.ibm.com/support/docview.wss?uid=swg21577515] 
 * For my PDA appliance what regular maintenance should I be carrying out to maintain optimal performance? [http://www-01.ibm.com/support/docview.wss?uid=swg21983692] 
 * How to find non-CBT tables that need grooming? [http://www-01.ibm.com/support/docview.wss?uid=swg21962766] 


Software Support Tools are also a good resource for available scripts that can be leveraged in managing the PDA system. They are located in /nz/support/bin and are provided to enhance the administration of the server. All of the tools have built-in help which provide comprehensive usage instructions, accessed by using '-?' as an argument. Here are some that are relevant to groom:  * nz_groom - A wrapper around the 'groom' command to provide additional functionality 
 * nz_altered_tables - Lists tables that need to be Groomed for versions 
 * nz_frag - Shows how fragmented a table is. Groom can help with fragmentation