Title: IBM JR39491: FIXES TOKENEXPIRATIONEXCEPTION IN RESPONSE PATH OF BEPL MODULE TO MFC MODULE TO ASYNC THIRD MODULE (E.G EIS). - United States

Text:
  FIXES ARE AVAILABLE
Version 7.5.0 Fix Pack 1 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24030569]
WebSphere Enterprise Service Bus V7.5.0 Fix Pack 1 (7.5.0.1) [http://www-01.ibm.com/support/docview.wss?uid=swg24030635]
Version 7.5 Refresh Pack 1 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24031230]
WebSphere Enterprise Service Bus V7.5 Refresh Pack 1 (7.5.1.0) [http://www-01.ibm.com/support/docview.wss?uid=swg24031270]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Fixes TokenExpirationException in response path of
   bepl module to MFC module to async third module (e.g EIS).
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Websphere Process Server 7.0 user that      *
   *                  uses BPEL long running process, MFC and     *
   *                  async outbound                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: In a module to MFC module to            *
   *                      async third party module (EIS)          *
   *                      scenario, a TokenExpirationException    *
   *                      could be thrown unexpectedly in 7.0     *
   *                      WPS even though customer had timeout    *
   *                      leniency set to a big #                 *
   ****************************************************************
   * RECOMMENDATION:  customer should apply ifix provided under   *
   *                  this apar                                   *
   ****************************************************************
   The problem only occurs on the return path. When the response
   from the third module came to MFC module, SCA container's
   security layer will try to restore the security context. If
   the response comes in longer than security token's life (WAS
   base setting, typically less than 2 mins), a LDAP token
   expiration will be thrown. However, SCA container was
   designed/implemented to handle this by using another setting,
   Timeout Leniency. In the normal case, as long as response
   arrived within this timeout leniency setting, the flow should
   be fine. Due to a bug in communication code between SCA
   security, container and MFC code, SCA security mistakenly
   thought the incoming response is invalid. Therefore, it
   mistakenly throw the exception and discard the response.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code is fixed on the response path logic of SCA
   security so that it shall not discard the response when the
   LDAP token exception is thrown.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR39491
   
   
 * REPORTED COMPONENT NAME
   WEB PROC SERVER
   
   
 * REPORTED COMPONENT ID
   5724L0100
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-04-29
   
   
 * CLOSED DATE
   2011-05-11
   
   
 * LAST MODIFIED DATE
   2011-05-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEB PROC SERVER
   
   
 * FIXED COMPONENT ID
   5724L0100
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP