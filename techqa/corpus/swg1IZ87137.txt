Title: IBM IZ87137: OMNIBUSEVENTREADER "HANGS" IF IT ENCOUNTERS AN EVENT WITH A     TALLY OF -1 - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Netcool/Impact V5.1.1.1 Interim Fix 2 (5.1.1.1-TIV-NCI-IF0002) [http://www-01.ibm.com/support/docview.wss?rs=0&uid=swg24028532]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  APAR being raised to track inclusion in next planned Interim Fix
   for Impact 5.1.1.1 due Q1 2011.
   
   Previously recorded in FITS MR0805106426
   
   Impact 5.1.1 EventReader should not hang when it encounters and
   event with a Tally value of -1
   Currently the Impact  5.1.1 EventReader hangs when it encounters
   and event with a Tally value of -1 and it should not.  At worst
   it should ignore/drop the event or even report the event in the
   exception:
   
   Exception in thread "[EventReaderName]"
   com.micromuse.response.event.ObjectServerDriverRuntimeException:
   Attempt to get hash Code of ObjectServerEventContainer before
   ServerSerial or StateChange or ServerName were set.
   
   and then carry on processing the rest of the events captured.
   
   The problem is when the EventReader attempts to perform the
   DeviantFields calculations/comparisons.
   
   Tally in the ObjectServer is currently a 32 bit signed integer
   and an event would have to DeDuplicate 4,294,967,295 times to
   first of all reach 2,147,483,647, then wrap around to
   -2,147,483,648 and then increment to -1.  It is highly unlikely
   that an event is going to DeDuplicated in excess of 4 billion
   times and it is more likely that some Automation, Trigger, Tool,
   Probe, Gateway, external action or even another Impact Policy
   would be setting this -1 value directly.
   
   In binary terms for a 32 bit signed integer value of -1 is
   11111111111111111111111111111111, the next value of 0 being
   00000000000000000000000000000000 and this rollover causes the
   mathematical comparison in the DeviantFields assessment of the
   EventReader to fail.
   
   This is a very unlikely situation and will be very rarely
   encountered and will most likely be the result of some ill
   considered configuration elsewhere, but the Impact EventReader
   should not hang upon hitting such an issue.  It should either
   ignore the event or handle it in some way.
   
   
    
   
   

LOCAL FIX
 *  Fixed in TestFix nci20100908v5.1.1b172.jar
   Tested and confirmed in both Level 2 Support and the client's
   test environment.
   APAR being raised to track inclusion in next planned Interim Fix
   for Impact 5.1.1.1 due Q1 2011.
   
   
    
   
   

PROBLEM SUMMARY
 *  Omnibus Event Reader hangs if event's Tally value is set to -1.
   As a result, the event is not being processed
   
   
    
   
   

PROBLEM CONCLUSION
 *  The issue is fixed in IBM Netcool/Impact 5.1.1.1 Interim Fix
   0002
   5.1.1.1-TIV-NCI-IF0002
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ87137
   
   
 * REPORTED COMPONENT NAME
   NC/IMPACT EVENT
   
   
 * REPORTED COMPONENT ID
   5724O59ER
   
   
 * REPORTED RELEASE
   511
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-10-22
   
   
 * CLOSED DATE
   2010-11-11
   
   
 * LAST MODIFIED DATE
   2010-11-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   NC/IMPACT EVENT
   
   
 * FIXED COMPONENT ID
   5724O59ER
   
   

APPLICABLE COMPONENT LEVELS
 * R511 PSY
   UP