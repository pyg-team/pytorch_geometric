Title: IBM Testing stored procedure in Framework Manager fails with errors. - United States

Text:
report studio TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Testing a stored procedure in Framework Manager succeeded with one input value but failed with the second. But the stored procedure will run successfully if we test with the second value first. 

SYMPTOM
Error message: 

RQP-DEF-0177 An error occurred while performing operation 'sqlOpenResult' status='-28'. 
UDA-SQL-0114 The cursor supplied to the operation 'sqlOpenResult' is inactive.
UDA-SQL-0283 Metadata describing 'data item' does not match results from the database.


CAUSE
Different data types and data constraints are returned with different input values.


RESOLVING THE PROBLEM
Ensure that the same columns, data types and constraints returned by different input values are identical. 


Steps:

1. Import the stored procedure and test with the first input value. Save the stored procedure if succeeded.

2. Import the stored procedure again and test with the second input value. Save the stored procedure if succeeded.

3. Now compare the corresponding columns imported from steps 1 and 2. Pay close attention to the properties such as 'Data Type', 'Precision', 'Size', 'Is Nullable' and so on.

4. If there is any mis-match, investigate the stored procedure on the database side and make changes if necessary, to ensure the same columns will be returned with different input values.

RELATED INFORMATION
 Stored procedure query subjects [http://pic.dhe.ibm.com/infocenter/cbi/v10r1m1/index.jsp?topic=%2Fcom.ibm.swg.ba.cognos.ug_fm.10.1.1.doc%2Fc_stored_procedure_query_subjects.html]