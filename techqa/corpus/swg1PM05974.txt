Title: IBM PM05974: CWSIC8007E EXCEPTIONS OCCUR IN A BUS WITH MULTIPLE MESSAGING ENGINES, WHEN DESTINATIONS ARE DYNAMICALLY DELETED AND RECREATED - United States

Text:
  FIXES ARE AVAILABLE
6.1.0.31: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24026453]
6.1.0.33: Java SDK 1.5 SR12 FP1 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24027786]
6.1.0.35: Java SDK 1.5 SR12 FP2 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24028574]
6.1.0.37: Java SDK 1.5 SR12 FP3 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24029525]
6.1.0.47: WebSphere Application Server V6.1 Fix Pack 47 [http://www-01.ibm.com/support/docview.wss?uid=swg24035508]
6.1.0.39: Java SDK 1.5 SR12 FP4 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24030426]
6.1.0.41: Java SDK 1.5 SR12 FP5 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031035]
6.1.0.43: Java SDK 1.5 SR13 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031963]
6.1.0.45: Java SDK 1.5 SR14 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24033270]
6.1.0.47: Java SDK 1.5 SR16 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035649]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The problem occurred in an IBM WebSphere Process Server
   environment, with multiple messaging clusters, and no
   targeting information specified on the activation
   specifications and connection factories.
   
   When applications were redeployed, the WebSphere Process
   Server deployment scripts deleted Service Integration Bus
   destinations, and created new ones with the same name.
   
   The following exception was thrown to applications after the
   dynamic redeployment was complete:
   CWSIC8007E: An exception was caught from the remote server with
   Probe Id 3-010-0003. Exception: CWSIP0471E: Unable to
   communicate with the messaging engine  DESTINATION_HOSTING_ME
   where the destination DESTINATION_NAME is Localised.
   
   These applications were found to be connecting to an
   intermediate messaging engine, rather than the one where the
   destination is hosted. This was due to the environment
   containing multiple messaging clusters, and not having
   targeting information specified.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users of the default messaging provider for *
   *                  IBM WebSphere Application Server Version 6.1*
   *                  with a Service Integration Bus containing   *
   *                  multiple members                            *
   ****************************************************************
   * PROBLEM DESCRIPTION: A CWSIC8007E exception or a buildup     *
   *                      of messages on a remote queue might be  *
   *                      observed after deleting and             *
   *                      recreating a queue                      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The problem only occurs in an environment with multiple bus
   members, where applications have not been configured to
   connect to the messaging engine that hosts the destinations
   that they consume from.
   
   A CWSIC8007E exception or buildup of messages might be observed
   on a remote queue point, when a destination has been deleted
   and recreated in one administrative action. For example,
   performing both these actions before pressing 'save' on the
   admin console.
   
   The problem is caused because an intermediate messaging engine
   erroneously updates the properties of the old remote queue
   point, instead of deleting the old remote queue point and
   creating a new one.
   When applications attempt to consume messages from the
   destination, via this intermediate messaging engine, the
   CWSIC8007E error occurs because the old destination is no
   longer available on the messaging engine that owns it.
   
   The problem can be observed by checking the UUID of the remote
   queue point on the intermediate messaging engine, against that
   of the actual UUID of the queue point on the messaging engine
   which hosts the destination. If the UUIDs do not match, then
   it is likely that this APAR has been encountered.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR ensures that destinations are looked
   up by UUID rather than name when the intermediate messaging
   engine receives a dynamic configuration update, allowing it to
   correctly detect that the old destination has been deleted and
   a new destination (which happens to have the same name) has
   been created.
   
   The fix for this APAR is currently targeted for inclusion in
   fix pack 6.1.0.31.  Please refer to the Recommended Updates
   page for delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM05974
   
   
 * REPORTED COMPONENT NAME
   PLAT MSG COM
   
   
 * REPORTED COMPONENT ID
   620600101
   
   
 * REPORTED RELEASE
   200
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-01-25
   
   
 * CLOSED DATE
   2010-02-16
   
   
 * LAST MODIFIED DATE
   2010-03-12
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   PLAT MSG COM
   
   
 * FIXED COMPONENT ID
   620600101
   
   

APPLICABLE COMPONENT LEVELS
 * R200 PSY
   UP