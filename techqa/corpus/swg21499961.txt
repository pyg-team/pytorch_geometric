Title: IBM Notes Clients and Plugins for IBM Connections Can Not Connect to the Server when /serviceconfigs are not Accessible on the Server - United States

Text:
Notes plugins; Connections; serviceconfigs; SRVE0293E; ServiceConfigsServlet; SRVE0295E: Error reported: 500 TECHNOTE (TROUBLESHOOTING)

PROBLEM
When using Connections plugins, users will be unable to connect to the Connections Server from a Notes client or any other plugin application when the url for /serviceconfigs is not available to anonymous users when authenticating using Siteminder or any other Forms based authentication. 

Test the url servername.domain.com/activities/serviceconfigs. 

If the list of the serviceconfigs can not be returned to the browser, then the Notes client will not be able connect to the Connections server.


SYMPTOM
Systemout.log displays the error: 

0000003f webapp E
com.ibm.ws.webcontainer.webapp.WebApp logServletError SRVE0293E:
[Servlet Error]-[ServiceConfigsServlet]:
com.ibm.ws.webcontainer.webapp.WebAppErrorReport: SRVE0295E: Error
reported: 500
at
com.ibm.ws.webcontainer.webapp.WebAppDispatcherContext.sendError(WebAppD
ispatcherContext.java:637)
at
com.ibm.ws.webcontainer.srt.SRTServletResponse.sendError(SRTServletRespo
nse.java:1186)
at
com.ibm.ws.webcontainer.srt.SRTServletResponse.sendError(SRTServletRespo
nse.java:1168)
at
javax.servlet.http.HttpServletResponseWrapper.sendError(HttpServletRespo
nseWrapper.java:141)
at
com.ibm.lconn.core.web.cache.AbstractCacheFilter$CacheAwareResponseWrapp
er.sendError(AbstractCacheFilter.java:77)
at
com.ibm.bl.servlet.ServiceConfigsServlet.doGet(ServiceConfigsServlet.jav
a:51)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:718)
at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
at
com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.ja
va:1655)
at
com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.ja
va:1595) 

 

Add additional traces relevant to problem:
com.ibm.ventura.internal.config.*=all: com.ibm.lconn.core.web.serviceconfigs.*=all


With trace enabled for serviceconfigs:
VenturaConfig 1
com.ibm.ventura.internal.config.VenturaConfigurationProviderImpl
getSecureServiceURL entry
[5/17/11 11:42:24:082 EDT] 00000048 VenturaConfig 1
com.ibm.ventura.internal.config.VenturaConfigurationProviderImpl
getSecureServiceURL VenturaConfigurationProviderImpl:getSecureServiceUrl
has request object
com.ibm.lconn.core.web.util.lang.I18NFilter$LCServletRequest@2d7a2d7a
[5/17/11 11:42:24:082 EDT] 00000048 VenturaConfig 1
com.ibm.ventura.internal.config.VenturaConfigurationProviderImpl
getSecureServiceURL VenturaConfigurationProviderImpl:getSecureServiceUrl
cache hits for key https|quickr|Host:wsdcap01.domain.com:9081
[5/17/11 11:42:24:082 EDT] 00000048 VenturaConfig 1
com.ibm.ventura.internal.config.VenturaConfigurationProviderImpl
getSecureServiceURL VenturaConfigurationProviderImpl:getSecureServiceUrl
return value: null
[5/17/11 11:42:24:082 EDT] 00000048 VenturaConfig 1
com.ibm.ventura.internal.config.VenturaConfigurationProviderImpl
getSecureServiceURL exit
[5/17/11 11:42:24:098 EDT] 00000048 servlet E
com.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E:
Uncaught exception created in one of the service methods of the servlet
serviceconfigs in application Communities. Exception created :
javax.servlet.ServletException:
com.ibm.ventura.internal.config.exception.VenturaConfigHelperException:
java.lang.NullPointerException
at
com.ibm.tango.web.ui.servlet.ServiceConfigsServlet.doGet(ServiceConfigsS
ervlet.java:52)


CAUSE
This issue is caused by having the setting ssl_enabled="true" in the LotusConnections_config.xml for Quickr or Sametime services when those services are not enabled.


ENVIRONMENT
IBM Connections Plugins



DIAGNOSING THE PROBLEM
Test by going directly to the url on the port where the application was installed, in a browser directly on the Connections server: 

servername.com:9081/activities/serviceconfigs
If the serviceconfigs can not be found, then this could be the issue.



RESOLVING THE PROBLEM
One setting which may prevent access to the serverConfigs, is when the settings for SSL is set to false for one of the other applications in the LCC.xml as shown in bold below: 


<sloc:serviceReference enabled="false"
person_card_service_name_js_eval="generalrs.label_personcard_quickrlink"
person_card_service_url_pattern="/allfiles/people/{email}"
serviceName="quickr" ssl_enabled="true">

or
<sloc:serviceReference enabled="false" serviceName="sametimeLinks"
ssl_enabled="true">

For both of the services in the LotusConnections_config.xml to:

ssl_enabled="false"

This may resolve the issue.