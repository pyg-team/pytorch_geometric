Title: IBM WebSphere Application Server running with newer Java JVM crashed when starting in  profiling mode performing execution time analysis - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When profiling an application in execution time analysis mode on a WebSphere Application Server running with newer Java JVM, the WebSphere Application Server might crash and user might not be able to get any profiling data.

This problem affects all supported versions of WebSphere Application Server traditional or Liberty server running on Java 6, 7 or 8 JVMs from January 2017 or later. This could occur when the server is installed locally or remotely. For remote scenarios, this could occur when using the workbench with Rational Agent Controller v96 or older releases on all supported platforms.


SYMPTOM
When starting WebSphere Application Server in profiling mode performing execution time analysis, the JVM might crash resulting in WebSphere Application Server being stopped and no profiling data being collected. You might see a dialog indicating that the C++ runtime library has a runtime error. 

In the WebSphere Application Server native_stderr.log for the server, you might see the following error:

[Error: EC JPIAgent received message (FATAL ERROR): Internal error (see log file).]

The server's native_stderr.log can be found in the WebSphere Application Server installation directory in a location such as:

[WAS install directory]\profiles\AppSrv01\logs\server1\native_stderr.log



CAUSE
The January Java 6, Java 7 and Java 8 JDK driver contains a security vulnerability fix that reports error when running code instrumented for execution time analysis profiling



RESOLVING THE PROBLEM
For scenarios where the server is local to the workbench, refer to the following document for installing a fix to the workbench: 

http://www.ibm.com/support/docview.wss?uid=swg22001889 [http://www.ibm.com/support/docview.wss?uid=swg22001889]

For scenarios where the server is remote, install Rational Agent Controller v9.6.1 or newer on the same machine as the server before trying execution time analysis profiling again. 



Contact IBM Support [https://www.ibm.com/contact] if you require further assistance. 


Cross reference information Segment Product Component Platform Version Edition Software Development Rational Software Architect for WebSphere Software 9.1.2.2, 9.5.0.2, 9.6 Software Development Rational Developer for i 9.0.1, 9.1, 9.1.1, 9.1.1.1, 9.5, 9.5.0.1, 9.5.0.2, 9.5.0.3, 9.5.1, 9.5.1.1, 9.5.1.2 Software Development Rational Developer for Power Systems Software 8.5.1 Software Development Rational Developer for AIX and Linux 9.0.1, 9.1, 9.1.1, 9.1.1.1, 9.1.1.2, 9.1.1.3, 9.1.1.4 Business Integration IBM Integration Designer 8.5.7, 8.5.6, 8.5.5, 8.5.1.2, 8.5.1.1, 8.5.0.1