Title: IBM SOA Data Power Data Collector Performance Tuning. - United States

Text:
CAMSOAALL CAMSOAPERF CAMSOATEPDATA CAMSOADPDC performance tuning DPDC "Data Power" "Data Collector" SOA tcp_nodelayack Appliance TECHNOTE (TROUBLESHOOTING)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 US English 

PROBLEM(ABSTRACT)
 ITCAM SOA, Data Collector with Data Power is not able to handle metrics available on DP system efficiently. 

SYMPTOM
The buffer space gets exhausted quickly thus causing the DC to backup.


CAUSE
Low heap size.

ENVIRONMENT
Distributed

RESOLVING THE PROBLEM
In order to improve performance of ITCAM for SOA Data Collect with Data Power Appliance, please do the following : 




 * DataPower DC memory increase 1. Go to $ITM_HOME/KD4/bin 
   
   2. Stop DataPower Data Collector, using following command : 
   
   SOA 7.1.1 StopDPDC.bat SOA 7.2 StopDC.bat 3. Edit the Start DP Data Collector as follows: Set the max heap size to the desired value (i.e. 512MB) . If the traffic is high and performance is still insufficient at 512MB, the max heap can be increased to 1GB (-Xmx1024m). SOA 7.1.1 : Edit StartDPDC.bat Change this line "set JAVA_OPTS=-Djava.protocol.handler.pkgs=com.ibm.net.ssl.www.protocol -Xrs" to "set JAVA_OPTS=-Djava.protocol.handler.pkgs=com.ibm.net.ssl.www.protocol -Xrs -Xmx512m" SOA 7.2 : Edit StartDC.bat Change this line 
   "set JAVA_OPTS=-Djava.protocol.handler.pkgs=com.ibm.net.ssl.www.protocol -Xmx256m" to 
   "set
   JAVA_OPTS=-Djava.protocol.handler.pkgs=com.ibm.net.ssl.www.protocol -Xmx512m" 4. Save the file modifications 5. Go to $ITM_HOME/KD4/bin and run the StartDPDC.bat (.sh) 
   
   SOA 7.1.1 Windows : StartDPDC.bat, Linux/Unix :StartDPDC.sh SOA 7.2 Windows : StartDC.bat , Linux/Unix : StartDC.sh 

 * Following instruction applies to AIX platform only.
   To improve performance between DP and SOA on AIX platform - 
   Enabling tcp_nodelayack can improve network performance between 
   an IBM WebSphere DataPower SOA Appliance and applications 
   running on AIX (including Websphere MQ and Tivoli Access Manager) 
 * Please see this related technote:


http://www-01.ibm.com/support/docview.wss?uid=swg21385899 [http://www-01.ibm.com/support/docview.wss?uid=swg21385899] 
 

PRODUCT ALIAS/SYNONYM
 ITCAM for SOA Data Power