Title: IBM Base version of Portal 8.5 install fails noting a cumulative fix conflict during silent install - United States

Text:
base install fails; CF conflict TECHNOTE (TROUBLESHOOTING)

PROBLEM
Attempts to install the Base version of Portal 8.5 using a response file fails as it notes that the cumulative fix fails as it requires the Base version

SYMPTOM
The IBM Installation Manger throws the following exception:

This Cumulative Fix requires that IBM WebSphere Portal Server version 8.5.0.0 be previously installed. You must first install the base release and then update it with the Cumulative Fix. You cannot install
them at the same time.


CAUSE
The class that triggers the message about not being able to install a CF is found in a plugin
shipped with each install image: wp.im.wpcf.warning_8.5.0.<qualifier>.jar (The qualifier is different in each image and is based on the date the jar was built.) The version of this plugin shipped with CFs should trigger the message whereas the version shipped with the base v8.5 code should not. It seems like there is a conflict in this scenario where the wrong version of the plugin is getting loaded.

ENVIRONMENT
WebSphere Portal 8.5

DIAGNOSING THE PROBLEM
To reproduce the issue:

1. install WAS/Portal
2. upgrade to CF01
3. rollback CF01
4. uninstall WAS/Portal
5. install WAS/Portal <-- this fails noting that you cant install CF without the base version of Portal but the response file has no mentionof the CF


RESOLVING THE PROBLEM
Installation Manager usually tries to install the latest available version of a product, so if the CF02 image is visible to Installation Manager at all, then that's what it will try to use.





A way to prevent this is to modify the response file to specifically point to the GM image. Change this line in wp85-server-and-wcm-install.xml:

<offering id="com.ibm.websphere.PORTAL.SERVER.v85" profile="IBM
WebSphere Portal Server V8.5" features="ce.install,portal.binary
,portal.profile" installFixes="none"/>

to:

<offering id="com.ibm.websphere.PORTAL.SERVER.v85" profile="IBM
WebSphere Portal Server V8.5" version="8.5.0.20140424_2155"
features="ce.install,portal.binary,portal.profile"
installFixes="none"/> 

 

in wp85-express-and-wcm-install.xml:

<offering id="com.ibm.websphere.PORTAL.EXPRESS.v85" profile="IBM
WebSphere Portal Express V8.5" features="ce.install,portal.binary
,portal.profile" installFixes="none"/>

to:

<offering id="com.ibm.websphere.PORTAL.EXPRESS.v85" profile="IBM
WebSphere Portal Express V8.5" version="8.5.0.20140424_2152"
features="ce.install,portal.binary,portal.profile"
installFixes="none"/>