Title: IBM Specify SQL Server as the data source when using Alphablox on an IBM Portal system with WebSphere Business Monitor - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 SQL Server is not provided as a data source choice when I install WebSphere Business Monitor with Alphablox on an IBM Portal system. How can I convert the data source from DB2 to SQL Server? 

ANSWER
When WebSphere Business Monitor 7.0.0.3 is installed with Alphablox on an IBM Portal system, SQL Server is not presented as a valid choice for the the WebSphere Business Monitor data source setting. Instead, you can select DB2 as the data source, then convert the data source from DB2 to SQL Server. 

 * 
 * 
 * 
 *  From the WebSphere administrative console, click Resources > JDBC > Data Sources. Delete the existing Monitor_Database DB2 data source. From the administrative console menu, click Resources > JDBC > JDBC Providers. Click New to create a new JDBC Provider using the JDBC provider create wizard.  1. In the first panel of the wizard, set the database type and associated fields:  * Database type: SQL Server 
        * Provider type: Microsoft SQL Server JDBC Driver 
        * Implementation type: XA data source 
        * Name: Microsoft SQL Server JDBC Driver (XA) 
        * Description: Microsoft SQL Server JDBC Driver (XA). This provider is configurable in version 6.1.0.15 and later nodes.
       
       
    2. Click Next.
   
   In the second panel of the wizard, provide the location of the JDBC driver jar file, then click Next to continue to the next panel. 
   Important: if the SQL Server JDBC driver is not installed at the same location on all servers, you must specify the WebSphere environment variable ${MICROSOFT_JDBC_DRIVER_PATH} for each node. The value of the variable is the correct location of the driver, including a scope, for each node. For example: 
   Class path: ${MICROSOFT_JDBC_DRIVER_PATH/sqljdbc.jar 
   Directory location: C:\dev\SQLServer\sqljdbc_2.0\enu Review the JDBC provider settings in the summary panel, then click Finish. Save the revised settings. From the administrative console, click Resources > JDBC > Data Sources. Click New to create a new data source using the wizard.  1. In the first panel of the wizard, enter the data source information:  * Data source name: Monitor_Database 
        * JNDI name: jdbc/wbm/MonitorDatabase
       
       
    2. Click Next.
   
   In the second panel of the wizard, click the option Select an existing JDBC provider, then select Microsoft SQL Server JDBC Driver (XA). Click Next to move to the next wizard panel. In the third wizard panel, enter the database-specific properties.  1. In the database table, enter these values for the database properties:  * Database name: MONITOR 
        * Port number: 1433 
        * Server name: hostname
       
       
    2. Make sure the option Use this data source in container managed persistence (CMP) is checked. 
    3. Click Next to continue.
   
   In the fourth wizard panel, set the security alias.  1. In the Authentication alias for XA recovery field, select Monitor_JDBC_Alias. 
    2. Click Next to move to the final wizard panel.
   
   Review the summary information for the data source, then click Finish. Save the revised settings. In the Data sources panel, click on the newly-created data source name, Monitor_Database, to modify configuration settings for the data source. Click Custom Properties. Click webSphereDefaultIsolationLevel. This property might appear on the second panel in the properties listing. In the webSphereDefaultIsolationLevel settings panel, enter 2 in the Value field to set the isolation level to READ COMMITTED. Click OK, then Save. Restart the Portal systems.