Title: IBM CLI COPY command error information using SCP - United States

Text:
datapower; ssh; scp; copy; fail; failed; file copy failed; error; problem; message; command; cli; commands; verbose; 7993; machine type 7993 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When using SCP to copy files to or from the WebSphere DataPower device, if there is an error, the only response you will get is the following:

% Copy: File not found
File copy failed 

CAUSE
The SSH implementation on the DataPower system will not extract more information from the SSH service if there is a failure such as invalid username, password, filenames, connection failures, etc.

RESOLVING THE PROBLEM
Using other protocols such as HTTP to transfer the files will return errors with more information should there be a problem. For example: 

 * 
 * 
 * 
 * 
   
 * xi50(config)# copy scp://username:password@hostname.com/file temporary:file
   % Copy: File not found
   File copy failed
 * 
   
 * 
 * 
 * 
 * 
   
 * xi50(config)# copy scp://username:password@hostname.com/file.txt temporary:file.txt
   % Copy: File not found
   File copy failed
 * 
   
   
 * 
 * 
 * 
   
 * xi50(config)# copy scp://username:password@hostname.com/file.txt temporary:file.txt
   % Copy: File not found
   File copy failed
 * 
 * 
 *  Example using a password encrypted SSH key:
   
   xi50(config)# xi50(config)# copy config:///test.cfg scp://test@test.ibm.com//getinfo.cfg
   % Copy: File not found 
   File copy failed 


Also, refer to the CLI Reference Guide and to the CLI on-line help for information of supported transfer protocols and command syntax. 

If further help is needed, collect the following information and contact IBM DataPower support:  * Set the log level to debug to reproduce the failure and collect all logs from the logtemp:// directory from the device. 
 * A packet trace running at the time of the failure will also help if it is possible to collect one.





Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere DataPower Integration Appliance XI50 Not Applicable Firmware 3.7.3, 3.7.2, 3.7.1 Edition Independent Business Integration WebSphere DataPower XML Security Gateway XS40 Not Applicable Firmware 3.7.3, 3.7.2, 3.7.1 Edition Independent Business Integration WebSphere DataPower XML Accelerator XA35 Not Applicable Firmware 3.7.3, 3.7.2, 3.7.1 Edition Independent