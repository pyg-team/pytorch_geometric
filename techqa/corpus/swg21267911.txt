Title: IBM DFHSO0001 EC6 AKEB at offset 0960 in DFHSOIS - United States

Text:
DFHSO0001 ; EC6 ; SOCKET ; INITIALIZATION ; BPXINLPA ; x'765E' ; ABENDEC6 ; ABENDSEC6 ; ABENDAKEB ; MSGDFHSO0001 ; 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97 5655S9700 R670 670 R700 700 HCI6700 5655-S97 5655S97 kixinfo TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Your CICS Transaction Server for z/OS (CICS TS) region occasionally abends during initialization with an EC6 / AKEB in DFHSOIS. The CICS TS region does not have a OMVS segment but it does sometimes start and run without error. 

SYMPTOM
DFHSO0001 [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/index.jsp?topic=/com.ibm.cics.ts.messages.doc/cics_mc/dfhso/SO0001.html] An abend (code EC6 [http://publibz.boulder.ibm.com/cgi-bin/bookmgr_OS390/BOOKS/iea2h7b0/2.620]/AKEB [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/index.jsp?topic=/com.ibm.cics.ts.messages.doc/cics_mc/AKxx_abend_codes/AKEB.html]) has occurred at offset x'0960' in module DFHSOIS.


CAUSE
The CICS region user ID does not have an OMVS Segment or UNIX® user identifier (UID).

DIAGNOSING THE PROBLEM
A review of the system dump from the DFHSO0001 message shows the following:

PSW: 070C2000 873D556E
The PSW points to: ASID(X'00C7') 073D556E. BPXINLPA x'756E' IN EXTENDED PLPA

Key Registers:
R0: 00000044
R1: 84EC6000
R3: 0B0C00FC
R15: 0F01C008

SVC 13 is issued by BPXINLPA + x'756E'
R1: EC6
Explanation: An error occurred during processing of a callable service to z/OS UNIX System Services (z/OS UNIX). The callable service may have been originally issued as a function in a program or as a shell command.

R15: C008
The calling process cannot be dubbed.

R3: 00FC
00FC JRSAFNoUID (The user ID has no UID).

R0: 0044
Indicates a GETPID syscall (BPX1GPI); a part of GETHOSTBYADDR() processing.

RESOLVING THE PROBLEM
Create an OMVS segment with a UID for the CICS region user ID by following the instructions in Giving CICS regions access to z/OS UNIX System Services [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/index.jsp?topic=/com.ibm.cics.ts.installation.doc/topics/dfha1l3.html]. This section also states:

CICS requires access to z/OS UNIX System Services, and to directories and files in the file system. CICS facilities that require this access include TCP/IP support, Java™ support, CICS Web support, and task-related user exits that are enabled with the OPENAPI option, including the task-related user exit of the CICS-DB2 attachment facility.

Even if you do not intend on using Web support or sockets, the Web (WB) and sockets (SO) domains still get initialized at start up and require an OMVS Segment with a UID.



PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server