Title: IBM OA37430: CLEARING EVENTS ACROSS SYSPLEX - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS NEW FUNCTION.
    
   
   

ERROR DESCRIPTION
 *  This change should support the clearing of events across a
   sysplex.
   
   E.g on System "A" job TESTJOB creates a RED event. Then on
   System "B" ( within the same Sysplex ) job TESTJOB is restarted
   creating an GREEN event and clearing the RED event from System
   "A".
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All Tivoli Event Pump users.                 *
   ****************************************************************
   * PROBLEM DESCRIPTION: This enhancement enables clearing       *
   *                      events across a sysplex in Tivoli       *
   *                      Netcool/OMNIbus and Tivoli Business     *
   *                      Service Manager. Resolution events      *
   *                      can clear exceptions for similar        *
   *                      objects located in different LPARs      *
   *                      within the same sysplex.                *
   ****************************************************************
   * RECOMMENDATION: Apply the applicable PTF(s).                 *
   ****************************************************************
   This APAR adds clearing events across a sysplex and extends the
   SYSPLEX support facility. Now any exception event occurred on
   the system can be resolved by resolution event from another
   system within the same sysplex. For example,
   
   - On System 'A' a job 'X' creates a RED event;
   - Then on System 'B', within the same sysplex, similar job 'X'
     is restarted creating a GREEN event;
   - The GREEN events from System 'B' clears the RED event from
     System 'A'.
   
   This enhancement can be useful for those users who distribute
   EDR traps to all Event Pump instances in a sysplex. Dynamically
   created EDR trap can be propagated to different system and
   resolve the exception from any systems within a sysplex.
   
   Every Tivoli Event Pump for z/OS feed can generate message,
   exception and resolution events. Each event is assigned with
   severity based on event format and action types, Object ID and
   other logic. Message events can be assigned with all severity
   levels which are available in Tivoli Netcool/OMNIbus database:
   
   - 0 or Clear severity level
   - 1 or Indeterminate severity level
   - 2 or Warning severity level
   - 3 or Minor severity level
   - 4 or Major severity level
   - 5 or Critical severity level
   
   When Tivoli Netcool/OMNIbus receives Event Pump events with 0
   (Clear) severity level it flushes the severity of all registered
   events with the same Object ID. This process is called as
   'Clearing events'. There are similar picture for the exception
   events. For the most cases exceptions have high severity level
   (5, RED). Tivoli Netcool/OMNIbus flushes the severity of all
   registered exceptions with the same Object ID only when it
   receives resolution event. This process is called as
   'Resolution'. Message event can be cleared only by another
   message event, exception can be resolved only by resolution
   event. Clearing and resolution processes are available only for
   events within the same LPAR. This APAR expands this process to
   SYSPLEX level.
   
   Cross sysplex clearing can be enabled by configuring new
   SYSPLEX_CLEARING startup parameter of the event distributor
   component. Set this parameter to YES if you want to clear events
   across a sysplex. Every Tivoli Event Pump for z/OS feed sends
   sysplex related information and Tivoli Netcool/OMNIbus does
   cross sysplex clearing only when the SYSPLEX_CLEARING parameter
   set to YES. For all other cases sysplex related information is
   not sent to distributed side and clearing events across a
   sysplex is not occurred, installation performs as before -
   resolution events clear exceptions only for the same system.
   
   There is an associated distributed platform update for Tivoli
   Netcool/OMNIbus probe rules and schema updates. This update is
   in MDV 4.2.2.6-TIV-EP-FP0006, it can be located on the IBM
   Tivoli Event Pump for z/OS support site under Downloads and
   installed independently of this SMP/E package.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX
 *  ++APAR is available upon request.
   
   
    
   
   

COMMENTS
 *  Configuration Reference for IBM Tivoli Event Pump for z/OS
   Version 4.2.2 (SC27-4041) should be updated. Add description for
   new parameter into Chapter 2. Master address space parameters
   (GPZPARMS):
   
   SYSPLEX_CLEARING
   
     Purpose
   
       Specifies the scope for clearing or resolution events.
   
     Syntax
   
                                  +- NO  -+
                                  |       |
       >>--- SYSPLEX_CLEARING= ---+-------+---><
                                  |       |
                                  +- YES -+
   
     Operand Descriptions
   
       NO  Set the scope for clearing and resolution events to the
           SYSTEM level. All messages with clear severity level
           will flush the severity of registered message events for
           the same Object ID within the system. All resolution
           events will resolve exceptions for the same objects in
           the same system. This is the default option.
   
       YES Set the scope for clearing and resolution events to the
           SYSPLEX level. All messages with clear severity level
           will flush the severity of registered message events for
           the same Object ID within the sysplex. All resolution
           events will resolve exceptions for the same objects in
           the same sysplex.
   
     Usage Notes
   
       This statement is also used by the event distributor
       (GTMSRVR) startup procedure in a 2-address-space
       environment.
   
   Installation and Configuration Guide for IBM Tivoli Event Pump
   for z/OS Version 4.2.2 (SC27-4042) should be changed as follows:
   
   Add new section into Distribute EDR traps to all Event Pump
   programs in a sysplex paragraph in the Chapter 25. Configuring
   event-driven registration:
   
       Dynamically created EDR traps will clear events within a
       sysplex only if SYSPLEX_CLEARING startup parameter for event
       distributor is set to YES value. In this case sysplex
       related information will be sent to Tivoli Netcool/OMNIbus
       servers and used for cross sysplex clearing. Othewise,
       sysplex related information is not sent to distributed side
       and cross sysplex clearing is not occured, Event Pump
       performs as before - resolution events clear exceptions only
       for the same system. Refer to Configuration Reference for
       IBM Tivoli Event Pump for z/OS Version 4.2.2 (SC27-4041)
       document for more information about SYSPLEX_CLEARING
       parameter.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   OA37430
   
   
 * REPORTED COMPONENT NAME
   EVENT PUMP FOR
   
   
 * REPORTED COMPONENT ID
   5698B3400
   
   
 * REPORTED RELEASE
   422
   
   
 * STATUS
   CLOSED UR1
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-08-30
   
   
 * CLOSED DATE
   2013-10-21
   
   
 * LAST MODIFIED DATE
   2013-11-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    OA35896
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UA71138
   
   

MODULES/MACROS
 *  GTMEIF00 GTMEIF01 GTMEIF02 GTMEIF03 GTMEIF05
   GTMIPCRH GTMIPSND GTMIPSRV GTMPARMS GTMSEND
   
   
    
   
   

Publications Referenced SC27404100 SC27404200 FIX INFORMATION
 * FIXED COMPONENT NAME
   EVENT PUMP FOR
   
   
 * FIXED COMPONENT ID
   5698B3400
   
   

APPLICABLE COMPONENT LEVELS
 * R422 PSY UA71138 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UA71138]
   UP13/10/23 P F310
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.