Title: IBM ConfigEngine task database-transfer fails due to incorrect db2.DbLibrary - United States

Text:
com.ibm.wps.config.DerivePath; fbkdb_cfg.xml; database-transfer; db2.DbLibrary TECHNOTE (TROUBLESHOOTING)

PROBLEM
When running the IBM® WebSphere® Portal ConfigEngine task database-transfer, the process fails, stating that "source" files must be located in the same parent directory.

SYMPTOM
Looking at the ConfigTrace.log, we see:
........
Tue Apr 21 00:45:24 EDT 2009
Target started: action-update-env-variable

action-update-env-variable:
Target finished: action-update-env-variable
Target finished: action-update-env-variable-db2
Target finished: action-database-transfer-setup-feedback
Target finished: action-pre-db-transfer-prereq.pzn
Target finished: pre-db-transfer
Target finished: database-transfer
---- Begin dump of properties ----
........
---- End dump of properties ----
uploading registry

BUILD FAILED
/usr/WebSphere/AppServer/profiles/WebSphere_Portal/ConfigEngine/base_dynamic.xml:827: The following error occurred while executing this line:
/usr/WebSphere/AppServer/profiles/WebSphere_Portal/ConfigEngine/config/actions/db_cfg_mgr.xml:290: The following error occurred while executing this line:
/usr/WebSphere/PortalServer/pzn/prereq.pzn/config/includes/pzn_cfg.xml:229: The following error occurred while executing this line:
/usr/WebSphere/PortalServer/pzn/prereq.pzn/config/includes/fbkdb_cfg.xml:541: The following error occurred while executing this line:
/usr/WebSphere/PortalServer/pzn/prereq.pzn/config/includes/fbkdb_cfg.xml:739: The following error occurred while executing this line:
/usr/WebSphere/PortalServer/pzn/prereq.pzn/config/includes/fbkdb_cfg.xml:770: class com.ibm.wps.config.DerivePath ERROR: invalid input. "source" files must be located in the same parent directory.

Total time: 1 minute 34 seconds
........


CAUSE
Reviewing the wkplc*.properties files, it appears that all the values are correct based on syntax, and all the servers, domains, and drivers are correctly identified based on their naming and location. Looking more closely, however, we see that the value for db2.DbLibrary in wkplc_dbtype.properties:

db2.DbLibrary=/home/db2inst1/sqllib/java/db2jcc.jar:/home/db2inst1/java/db2jcc_license_cu.jar

This path indicted that the customer had configured db2jcc.jar and db2jcc_license_cu.jar in different directory locations.


RESOLVING THE PROBLEM
Looking at the remarks in the wkplc_dbtype.properties, we find the following: 


# For DB2 Type 4 driver use <SQLLIB>/java/db2jcc.jar;<SQLLIB>/java/db2jcc_license_cu.jar
# Please use the system specific file separator names, e.g. for windows semicolon and for unix colon.

This recommends that the db2jcc.jar and db2jcc_license_cu.jar be located in the same directory location. 

Please relocate db2jcc.jar and db2jcc_license_cu.jar in the same directory location, update the wkplc_dbtype.properties, and re-run the ConfigEngine database-transfer task.