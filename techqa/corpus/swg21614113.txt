Title: IBM Is the command-line security policy overwritten by the datacollector.policy file? - United States

Text:
java.security.policy security policy ITCAM arguments datacollector.policy CAMADALL CAMADINST TECHNOTE (TROUBLESHOOTING)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 US English 

PROBLEM(ABSTRACT)
 Is the command-line security policy overwritten by the datacollector.policy file? 

ENVIRONMENT
Distributed

RESOLVING THE PROBLEM
The ITCAM security policy property in ITCAM for AD 7.1.x is not on the command line arguments, but in the java.dc.properties file. The native agent reads the dc.java.properties file and promotes all the properties there into system properties and therefore overrides anything on the command line arguments if its specified there. 

When you issue the ps -aef | grep -i <server> command you are seeing what was passed to the process when it started, not what the values are now. You would need to issue a System.getProperties().list(Writer) once the DC had started to see what the values really are. In fact, a message is written to the trace reporting logs what all the system properties are after the server is started.

Here's an example of what's written into the trace-dc-ParentLast.log logfile:

<Trace Level="INFO">
<Time Millis="1348003898775"> 2012-09-18 21:31:38.775+00:00</Time>
<Server Format="IP">tvt6034.tivlab.raleigh.ibm.com</Server>
<ProductId>CYN</ProductId>
<Component>CYN.trc.shared.itcam.dc.BootstrapService</Component>
<ProductInstance>99</ProductInstance>
<LogText><![CDATA[System properties: {jzos.logging=E, am.was.classpath.include.file.webservices=*ws-handlers.jar, os.name=z/OS, Loading.className=com.ibm.log.PDLogger, internal.probe.class.hashsiz
e=1, Timer.productInstance=6.0, am.camtoolkit.gpe.remembered.object.map.init.capacity=512, com.ibm.tivoli.itcam.toolkit.ai.jms.callback.unconditional=true, java.rmi.server.codebase=file:///opt/IBM/
. . . 
e.misc.PreventRecursion, CYN.trc.ws.instrument.logging=true, CYN.trc.toolkit.ai.level=INFO, CYN.trc.temadc.level=INFO, was.install.root=/u/WAS610/AppServer, java.security.policy=/u/itcam71/runtime/
was61.TVT6034.BBOSBVT/datacollector.policy, CYN.formatter.PDXML.trc.forceAsTrace=true, CYN.handler.memory.snap.convertExceptions=true #keep, logger.dc.ca.trace.level=INFO, internal.probe.hashsize=8
423, org.osgi.framework.os.version=01.12.00, itcam.home=/u/itcam71, CYN.formatter.TEXT.className=com.ibm.log.Formatter, java.jcl.version=20110208, CYN.handler.file.trc.formatterName=CYN.formatter.P
DXML.trc, user.variant=, CYN.protocol.message.className=com.ibm.log.util.MessageErrorProtocol, java.util.logging.configureByServer=true, CYN.trc.oas.level=INFO, ibm.system.encoding=IBM-1047, am.cam
toolkit.ra.maxqueueaction=drop, CYN.msg.bvt.logging=true, CYN.trc.shared.datacollector.logging=true, CYN.msg.gpe.level=INFO, CYN.trc.ecam.logging=true, com.ibm.tivoli.jiti.config.Config.individualO
verrideSupported=true, CYN.msg.jmxe.level=INFO, CYN.msg.was.logging=true, java.fullversion=J2RE 1.5.0 IBM J9 2.3 z/OS s390-31 j9vmmz3123ifx-20101130 (JIT enabled)
J9VM - 20101129_69669_bHdSMr
JIT - 20100623_16197ifx1_r8

 

PRODUCT ALIAS/SYNONYM
 ITCAM for App Diagnostics ITCAM ITCAMfAD ITCAM4AD