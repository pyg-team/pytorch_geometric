Title: IBM DASH start failure error:  ADMU0111E: InvalidDirectoryException - United States

Text:
DASHL2; runAsUser; runAsGroup; startServer; ADMU0111E; PROC0003E; JazzSM start failure TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Starting DASH fails with this error:ADMU0111E: Program exiting with error: com.ibm.ws.process.exception.InvalidDirectoryException: PROC0003E: Working Directory: does not appear to be valid, or accessible by the process. 

SYMPTOM
Errors to STDOUT when executing "startServer.sh" script: 

ADMU0116I: Tool information is being logged in file
/opt/IBM/JazzSM/profile/logs/server1/startServer.log
ADMU0128I: Starting tool with the jazzsm profile
ADMU3100I: Reading configuration for server: jazzsm
Time: [0x58894fde], Process: [549042], Thread: [0x102]: Unable to change current working directory to: [/opt/IBM/JazzSM/profile]
Time: [0x58894fde], Process: [549042], Thread: [0x102]: Unable to launch process. An error occurred. Return value: [4] errno: [13] [The file access permissions do not allow the specified action.]
Time: [0x58894fde], Process: [499882], Thread: [0x102]: Creation failure, spawn was unsuccessful. Therefore deallocating process structure at: [0x12e2a650]
ADMU0111E: Program exiting with error:
com.ibm.ws.process.exception.InvalidDirectoryException: PROC0003E:
Working Directory: [/opt/IBM/JazzSM/profile] does
not appear to be valid, or accessible by the process. Process could
not be created.
ADMU1211I: To obtain a full trace of the failure, use the -trace option.
ADMU0211I: Error details may be seen in the file:
/opt/IBM/JazzSM/profile/logs/server1/startServer.log


CAUSE
Either a non-root install was started by root, or a different user besides what was used to do the initial install, causing file permission errors, or runAsUser and runAsGroup variables incorrect in server.xml file.


ENVIRONMENT
DASH installed with either WebSphere "inside" of JazzSM directory, or a stand alone copy of WebSphere installed in different location, either on a Windows or UNIX platform.



DIAGNOSING THE PROBLEM
Please check the following: 

1) If this was a non-root install, and at some point, DASH may have been started up as root, which could cause permission issues because file ownership may have been changed to root..

If this is the case, please stop DASH and execute this command to see if any files are owned by root:
find <JazzSM_HOME> -user root 

 where <JazzSM_HOME> is the actual path of the JazzSM Home directory. 

2) Check the RunAsUser and runAsGroup variable in the server.xml file located in profile/config/cells/JazzSMNode01Cell/nodes/JazzSMNode01/servers/server1. These values could either be blank ( default value ), or the userid/groupid of the original installer.


RESOLVING THE PROBLEM
If this is a non-root installation, and DASH was inadvertently started as root, indicated by the results of the find command in "Diagnosing the problem" section, then please run this command as root user, first stop JazzSM: 

 chmod -R <userid>:<groupid> <JazzSM_HOME_DIRECTORY> 

where userid and groupid belong to original installer of JazzSM, 

Also check the following if the first option doesn't fix the issue: 

The runAsUser and runAsGroup variables in the server.xml file located here: 

<JazzSM_HOME/profile/config/cells/JazzSMNode01Cell/nodes/JazzSMNode01/servers/server1 

By default, these are blank, but they may have been changed if JazzSM is installed and configured to use stand alone copy of WebSphere. These values should match the userid and groupid of the UNIX user that did the initial install.