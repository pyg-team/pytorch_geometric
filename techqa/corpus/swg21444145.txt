Title: IBM Uninstall, upgrade, or rollback of a 7.1.x or 8.0.x.x Rational product fails on UNIX platforms with several missing file errors - United States

Text:
rollback; uninstall; upgrade; unix; RNCC8.0; RNCC8.0.0.1; RNCC8.0.0.2; RNCC8.0.0.3; RNCC8.0.0.4; RNCC8.0.0.5; RNCC8.0.0.6; RNCC8.0.0.7; RNCC8.0.0.8; RNCC8.0.0.9; RNCC8.0.0.10; RNCC8.0.0.11; RNCC8.0.0.12; RNCC8.0.0.13; RNCC8.0.0.14; RNCC8.0.0.15; RNCC8.0.0.16; RNCC8.0.0.17; RNCC8.0.0.18; RNCC8.0.0.19; RNCC8.0.1; RNCC8.0.1.1; RNCC8.0.1.2; RNCC8.0.1.3; RNCC8.0.1.4; RNCC8.0.1.5; RNCC8.0.1.6; RNCC8.0.1.7; RNCC8.0.1.8; RNCC8.0.1.9; RNCC8.0.1.10; RNCC8.0.1.11; RNCC8.0.1.12; RNCQ8.0; RNCQ8.0.0.1; RNCQ8.0.0.2; RNCQ8.0.0.3; RNCQ8.0.0.4; RNCQ8.0.0.5; RNCQ8.0.0.6; RNCQ8.0.0.7; RNCQ8.0.0.8; RNCQ8.0.0.9; RNCQ8.0.0.10; RNCQ8.0.0.11; RNCQ8.0.0.12; RNCQ8.0.0.13; RNCQ8.0.0.14; RNCQ8.0.0.15; RNCQ8.0.0.16; RNCQ8.0.0.17; RNCQ8.0.0.18; RNCQ8.0.0.19; RNCQ8.0.1; RNCQ8.0.1.1; RNCQ8.0.1.2; RNCQ8.0.1.3; RNCQ8.0.1.4; RNCQ8.0.1.5; RNCQ8.0.1.6; RNCQ8.0.1.7; RNCQ8.0.1.8; RNCQ8.0.1.9; RNCQ8.0.1.10; RNCQ8.0.1.11; RNCQ8.0.1.12; RN7.1.2.0; RN7.1.2.1; RN7.1.2.2; RN7.1.2.3; RN7.1.2.4; RN7.1.2.5; RN7.1.2.6; RN7.1.2.7; RN7.1.2.8; RN7.1.2.9; RN7.1.2.10; RN7.1.2.11; RN7.1.2.12; RN7.1.2.13; RN7.1.2.14; RN7.1.2.15; RN7.1.2.16; RN7.1.2.17; RN7.1.2.18; RN7.1.2.19 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to uninstall, upgrade, or rollback IBM Rational ClearCase or Rational ClearQuest on UNIX platforms fails with errors stating there are several missing files, directories, and classes. 

SYMPTOM
The install logs contain errors similar to the following: 

Unable to find custom install operation com.ibm.rational.team.install.cc.CcFirstAction java.lang.ClassNotFoundException: com.ibm.rational.team.install.cc.CcFirstAction 
Working directory "/opt/ibm/RationalSDLC/common/CM/profiles/cmprofile/bin" does not exist during execution of "wsadmin.sh" command. 
File "/opt/ibm/RationalSDLC/common/eWAS/bin/ewas_shutdown" not found.

In subsequent installation attempts, IBM Installation Manager displays the following warning while selecting the shared resources directory: 

The specified /opt/IBM/IMShared location contains files that might be managed by another Installation Manager. Select an empty location to avoid corrupting existing files.

The installation will fail when deploying web components and their related applications.


CAUSE
A failed upgrade from 7.1.0.x version to a later version can cause installation failures on subsequent uninstall, upgrade, or rollback operations. When the upgrade attempt fails, the files are deleted from the system while the processes or services that are dependent on those files are still running. As a result, any subsequent installation attempts fail.


RESOLVING THE PROBLEM
To correct this problem and re-enable the Team products installation, the running processes must be stopped, and any files that are left behind in the installation directory must be deleted. 


Procedure:


 1. In a terminal session, with root access privileges, run the following command where the value of $Install.Directory is the directory where the product is installed: 
    
    ps -efa | grep $Install.Directory 
    
    
 2. To stop each process reported in the results of step 1, run the following command where the value of $PID is the Process Identifier of the process to stop. 
    
    kill -9 $PID 
    
 3. Remove any file in the previously used installation directory:  1. Run the following command where the value of $Install.Directory is the directory of the installation directory for the previous installation attempt: 
        
        rm -fr $Install.Directory/*
        
    
    

After performing these steps, try to install the product again. Installation Manager displays the following warning: 

The specified /opt/IBM/IMShared location contains files that might be managed by another Installation Manager. Select an empty location to avoid corrupting existing files. 

You can ignore this warning, which is also displayed after a successful installation of any Team product.  


Cross reference information Segment Product Component Platform Version Edition Software Development Rational ClearQuest AIX, HP-UX, Linux, Solaris 7.1, 7.1.0.1, 7.1.0.2, 7.1.1, 7.1.1.1, 7.1.1.2, 7.1.1.3, 7.1.1.4, 7.1.1.5, 7.1.1.6, 7.1.1.7, 7.1.1.8, 7.1.1.9, 7.1.2, 7.1.2.1, 7.1.2.10, 7.1.2.11, 7.1.2.12, 7.1.2.13, 7.1.2.14, 7.1.2.15, 7.1.2.16, 7.1.2.17, 7.1.2.18, 7.1.2.19, 7.1.2.2, 7.1.2.3, 7.1.2.4, 7.1.2.5, 7.1.2.6, 7.1.2.7, 7.1.2.8, 7.1.2.9, 8.0, 8.0.0.1, 8.0.0.10, 8.0.0.11, 8.0.0.12, 8.0.0.13, 8.0.0.14, 8.0.0.15, 8.0.0.16, 8.0.0.17, 8.0.0.18, 8.0.0.19, 8.0.0.2, 8.0.0.20, 8.0.0.3, 8.0.0.4, 8.0.0.5, 8.0.0.6, 8.0.0.7, 8.0.0.8, 8.0.0.9, 8.0.1, 8.0.1.1, 8.0.1.10, 8.0.1.11, 8.0.1.12, 8.0.1.13, 8.0.1.2, 8.0.1.3, 8.0.1.4, 8.0.1.5, 8.0.1.6, 8.0.1.7, 8.0.1.8, 8.0.1.9