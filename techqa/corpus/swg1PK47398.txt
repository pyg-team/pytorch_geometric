Title: IBM PK47398: DFHSN1129 ISSUED WHEN USER ATTEMPTS TO SIGNON AT ANY TERMINALS AFTER USER SHUTDOWNS VIRTUAL TERMINAL WITHOUT SIGNOFF - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A virtual terminal is autoinstalled and a transaction issues an
   EXEC CICS SIGNON to CICS and starts its normal execution. If the
   connection is interrupted, the TCTTE is cleaned up and removed,
   and the definitions are deleted, but the user remains signed on.
   If he attempts to sign on again, "DFHSN1129 Signon at netname by
   user xxxxxx because the user is already signed on elsewhere"is
   issued by CICS. There needs to be a provision within terminal
   builder services, which destroys the virtual terminal, for doing
   a SIGNOFF_TERMINAL_USER call.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All                                          *
   ****************************************************************
   * PROBLEM DESCRIPTION: DFHSN1129 user already signed on        *
   *                      issued when user attempts to            *
   *                      signon at any terminals after           *
   *                      virtual terminal deleted due to         *
   *                      interrupted connection.                 *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Message DFHSN1129 is issued when there is a signon of a USERID
   which is apparently still signed on at a virtual terminal.
   The message is produced because the customer is using
   SNSCOPE=SYSPLEX and there is already an active MVS ENQ against
   the userid. In fact there are no other terminals in this CICS
   (or any others in the PLEX) with this USERID signed onto them.
   What has happened is that an APPC connection between CTG (CICS
   Transaction Gateway) and CICS has been abnormally terminated.
   The APPC connection had been autoinstalled and AILDELAY was
   defaulting to 0, so the APPC connection was deleted. This caused
   all the virtual terminals owned by this APPC connection to also
   be deleted. As part of this deletion, the signed on USERID
   should be signed off but this never happens.
   This means that the SYSPLEX ENQ on the USERID is not DEQ'd and
   the user is unable to signon again when the CTG -> CICS
   connection is re-established.
   
   Additional keywords:
   msgDFHSN1129 TCTTESKA TCTTESTA TCTSK_VIRTUAL_TERMINAL
   
   
    
   
   

PROBLEM CONCLUSION
 *  DFHBSTS has been changed in proc DELETE_SNEX to ensure
   that virtual terminals are signed off.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK47398
   
   
 * REPORTED COMPONENT NAME
   CICSTS V3 Z/OS
   
   
 * REPORTED COMPONENT ID
   5655M1500
   
   
 * REPORTED RELEASE
   400
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-06-19
   
   
 * CLOSED DATE
   2007-11-22
   
   
 * LAST MODIFIED DATE
   2007-12-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK31530 UK31531
   
   

MODULES/MACROS
 *     DFHBSTS
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICSTS V3 Z/OS
   
   
 * FIXED COMPONENT ID
   5655M1500
   
   

APPLICABLE COMPONENT LEVELS
 * R400 PSY UK31530 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK31530]
   UP07/11/24 P F711
   
   
 * R500 PSY UK31531 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK31531]
   UP07/11/24 P F711
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.