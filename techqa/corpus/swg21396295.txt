Title: IBM Webform Server hangs during normal operation - United States

Text:
webform server hung; Timed out obtaining inUse lock for form instance; hung threads; webform server crash TECHNOTE (TROUBLESHOOTING)

PROBLEM
There is an issue that can arise where the Translator's fcCacheSize, a setting in the translator.properties (located in the Webform Server installation directory), is set too low compared to the current demands. When the number of concurrent (active) users increases above the fcCacheSize (number of forms held in memory) you can experience hard disk thrashing. This can lead to hung threads and eventually causes the Webform Server to hang.

SYMPTOM
Some possible errors you can see in the systemOut.log in WAS:

0000002f FreePool E J2CA0045E: 
Connection not available while invoking method 
createOrWaitForConnection for resource jdbc/WebformAccessControlDB2. 

0000001e ThreadMonitor W WSVR0605W: Thread
"WebContainer : 3" (00000022) has been active for 713256 milliseconds 
and may be hung. There is/are 7 thread(s) in total in the server that 
may be hung. 

Translator's error.xml may show time out errors similar to this:

<message>java.lang.IllegalStateException: Timed out obtaining inUse lock 
for form instance BA1FCD18C78F8CB9FBB4664A468E00C2000</message>


RESOLVING THE PROBLEM
The resolution is to increase the fcCacheSize to greater than the number of concurrent users/peak load that the server experiences. 

Note: if you increase the fcCacheSize to high, you can run into out of memory errors. If you are unable to increase the fcCacheSize then you may need to run Webform Server within a cluster. If you are running a cluster then you may need to increase the number of Webform Server instances. 

Be aware that the 3.5.x Webform Server is 32-bit and therefore limited to a 4GB memory space for the process. 

If you have any questions about how to tune your Webform Server please contact Support.