Title: IBM One expired certificate brings down all certificates in the DataPower Validation Credential - United States

Text:
cert expired certificate valcred validation credential down ; certificate monitor ; validation credential TECHNOTE (FAQ)

QUESTION
 Why does one expired certificate cause all other certificates within the Validation Credential to come down after a reboot of the DataPower appliance? 

CAUSE
When multiple certificates are configured to a single Validation Credential (ValCred), the ValCred will maintain references to each certificate. 
As such, when DataPower configuration objects (such as ValCred) has references/links to each other, the whole chain of objects will go down when any of the referenced objects are down. This means that one certificate being down will take down the whole ValCred, along with any other configured objects referencing that ValCred (i.e XML manager, MPGW, etc). 

In regards to the problem occurring after a reboot, this is because the 'certificate expiration' check only occurs at two times: 

 * (re)configuration of a certificate object 
 * reboot of the appliance 


When the expiration check occurs at reboot, all configured objects are processed and any object referencing a down object (directly or indirectly), will also be marked down. 
ANSWER
The Ignore Expiration Dates toggle in the Crypto Certificate object determines if the 'certificate expiration' check should be ignored at configuration/reboot time. By setting it to ON, there are no checks for certificate expiration at configuration/reboot time. This means that when one certificate in the Validation Credential expires, the certificate remains in the 'up' state and the other certificates in the referenced chain are not affected. The default is OFF. 

 
The Disable Expired Certificates toggle in the Crypto Certificate Monitor object, determines if the 'certificate expiration' check should happen on a periodic timer (with the certificate monitor) instead of only happening at configuration/reboot time. Adversely, if this was ON, all referenced objects would have went down immediately, instead of only after a reboot. The default is OFF. 

In conclusion, use of Disable Expired Certificates = OFF in the Crypto Certificate Monitor object and Ignore Expiration Dates = ON in all of the certificate objects within the Validation Credential prevents one expired certificate from bringing down all other certificates in the Validation Credential.

Also, please note that when Ignore Expiration Dates = ON this allows the certificate to maintain the up state even if it is expired. However, when the certificate is used to make an SSL connection to a remote host, the actual expiration date is still utilized, and connections may fail validation if the certificate has expired.