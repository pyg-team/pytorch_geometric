Title: IBM Plug-in 7.0 runtime error PluginInstallRoot is not defined - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The IBM web server Plug-in configuration file generated from IBM Websphere Application Server v6.x does not include the PluginInstallRoot property. The IBM web server Plug-in v7.0 runtime requires the PluginInstallRoot property in order to use HTTPS connections. If the PluginInstallRoot property does not exist in the plugin-cfg.xml file, the Plug-in v7.0 runtime will give the errors shown below. 

SYMPTOM
The IBM web server Plug-in v7.0 will give the following errors in the Plug-in log (http_plugin.log) file, if the PluginInstallRoot property is not defined in the Plug-in configuration (plugin-cfg.xml) file: 

TRACE: ws_transport: transportInitializeSecurity: transport=0x98c7b50; GSKIT Library not yet loaded
ERROR: ws_transport: transportInitializeSecurity:security library not found. PluginInstallRoot is not defined. 
ERROR: ws_server: serverAddTransport: Failed to initialize security ERROR: ws_server: serverAddTransport: HTTPS Transport is skipped


CAUSE
Earlier versions of the IBM web server Plug-in did not use the PluginInstallRoot property. However, that property is very important for IBM web server Plug-in v7.0.

Consequently, if the plugin-cfg.xml file was generated from a WebSphere Application Server version 6.0.x or 6.1.x environment, then it does not have this PluginInstallRoot property, and it will need to be added manually.


RESOLVING THE PROBLEM
To resolve the problem, edit the plugin-cfg.xml file and manually add the PluginInstallRoot property just below the other properties near the top of the file. 


<Property Name="PluginInstallRoot" Value="PLUGINS_INSTALL_ROOT"/>

For example, if using the IBM HTTP Server (IHS) on AIX the property would be:
<Property Name="PluginInstallRoot" Value="/usr/IBM/HTTPServer/Plugins/"/>

Another example, if using Microsoft IIS web server on Windows, the property would be:
<Property Name="PluginInstallRoot" Value="C:\Program Files\IBM\WebSphere\Plugins\"/>

After making the change in the plugin-cfg.xml file, restart the web server for the change to take affect.

Note: Manual changes can be overwritten upon the next plug-in regeneration. If you want this change to be persisted permanently in the plugin-cfg.xml, navigate to the WebSphere Administrative console, select Servers > Web Servers > Web_server_name > Plug-in properties > Custom properties > New. 


 1. Under General Properties, specify the name of the custom property in the Name field and a value for this property in the Value field. You can also specify a description of this property in the Description field. 
 2. Click Apply or OK. 
 3. Click Save to save your configuration changes. 
 4. Re-generate and propagate the plugin-cfg.xml file. 
 5. Stop and restart the web server


This property provides the install path for the plug-in. This is mandatory if using the Global Security Kit (GSKit) because WebSphere Application Server v7.0 supports the local install of the GSKit instead of a global install as in versions 6.1/6.0. The attribute value is set to the fully qualified path to the plug-in install root. The PluginInstallRoot property was introduced in version 7.0. 

If you are still experiencing the same error, open a support ticket and provide the following files: 
Plugin-cfg.xml and http_plugin.log. RELATED INFORMATION
 Plug-in Properties [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.nd.doc/info/ae/ae/rwsv_plugincfg.html#rwsv_plugincfg__PluginInstallRoot]