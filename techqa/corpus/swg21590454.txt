Title: IBM db2dart  will  skip SMS table  if the .DAT file is missing - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 db2dart tool will skip a SMS table if corresponding .DAT file is missing from filesystem 

SYMPTOM
db2dart <db-name> /DB 

will not record a SMS table in the output file and silently skip the same, if the .DAT container file corresponding to the table is missing from filesystem


CAUSE
db2dart is a offline tool and checks for the DB2 object corruptions by checking the tablespace containers from filesystem. If a SMS table's data container .DAT file is missing from the filesystem due to some problem below DB2's level then db2dart will not have any idea about that object and will silently skip the table from the output


ENVIRONMENT
Any DB2 release will have this symptom



DIAGNOSING THE PROBLEM
If the "db2dart <db-name> /DB" skip a SMS table but the table is still found out to be corrupted as per db2diag.log messages or, while trying to access the same, then "db2dart <db-name> /T /OI <object-id>" to be run for that table which will show an error pointing to the corruption. Also, the SMS table container could be checked from the filesystem level to verify whether it's missing or not.



RESOLVING THE PROBLEM
This is a kind of limitation of db2dart tool as it cannot verify the details with respect to system catalog. 

Once a SMS table container file .DAT file is missing, user needs to restore the tablespace or, the entire database. If it's a HADR setup and the .DAT file is missing only at the standby side then recreation of a fresh HADR standby will fix the issue.

RELATED INFORMATION
 db2dart [http://pic.dhe.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.admin.cmd.doc/doc/r0003477.html]