Title: IBM IZ65943: WEBSPHERE MQ V7 ENFORCES CRL DISTRIBUTION POINT CERTIFICATE     EXTENSION CHECKING. THIS MAY CAUSE SSL/TLS CONNECTIONS TO FAIL - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V7.0 Fix Pack 7.0.1.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24026518]
WebSphere MQ V7.0.1 for i5/OS Fix Pack 7.0.1.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24026566]
WebSphere MQ V6, Fix Pack 6.0.2.9 [http://www-01.ibm.com/support/docview.wss?uid=swg24025669]
WebSphere MQ V6.0 for iSeries Fix Pack 6.0.2.9 [http://www-01.ibm.com/support/docview.wss?uid=swg24025670]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If a digital certificate has a CRL Distribution Point
   certificate extension, then IBM WebSphere MQ v7 enforces
   contacting the identified LDAP or HTTP server(s) to retrieve the
   CRLs. This mandatory CRL verification requirement may cause the
   SSL/TLS handshake to fail if an error occurs in querying the
   CRL. For example, loss of network connectivity to the CRL
   server, incorrect configuration of the CRL server and so on,
   could prevent WebSphere MQ SSL/TLS channels from starting.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Users of WebSphere MQ v7 SSL/TLS channels whose digital
   certificates contain a CRL Distribution Point certificate
   extension and whose MQ systems fail querying the CRL. The
   issue can affect both SSL/TLS message channels and SSL/TLS
   client applications.
   
   Platforms affected:
   All Distributed (iSeries, all Unix and Windows)
   ****************************************************************
   PROBLEM SUMMARY:
   Some digital certificates used for SSL/TLS channels contain
   a certificate extension known as CRL Distribution Point (CDP)
   Universal Resource Identifier (URI) extensions. These
   certificate extensions list the LDAP servers hosting
   Certificate Revocation Lists (CRLs).
   
   In WebSphere MQ v7, CDP URI extensions are checked by
   default in order to provide enhanced protection against the
   use of revoked digital certificates. If systems using such
   digital certificates fail to query the CRLs, SSL/TLS handshake
   would fail. Failure to query CRLs may happen due to various
   reasons:
   - unable to connect to the CRL server (for example, due to a
   network
   problem)
   - failure to find the CRL on the server
   - failure to parse the CRL value (for example, corrupted or
   malformed CRL)
   
   
    
   
   

PROBLEM CONCLUSION
 *  Although performing CRL verification enhances the security of
   the channel connectivity, this may pose problems in setups
   where the security requirement is not very stringent. In such
   scenarios, it is recommended to request the Certificate
   Authorities (CA) provide digital certificates without CDP URI
   extensions.
   
   For cases where an immediate work-around is required to
   suppress the CDP URI checking, this APAR introduces a new ini
   file setting and a new environment variable. To disable CDP
   URI checking, users can:
   (a) add the following setting to the SSL stanza:
   CDPCheckExtensions=N
   This can be set in the client ini file (for example,
   mqclient.ini) or in the queue manager configuration
   (for example, qm.ini)
   
   or, (b) export the following environment variable in the
   session where the queue manager is started:
   export AMQ_SSL_DISABLE_URI_CDP=Y
   
   With this setting in place, WebSphere MQ will ignore CDP
   certificate extensions and will not attempt contacting CRL
   server(s) to retrieve CRLs.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
                      v7.0
   Platform           Fix Pack 7.0.1.2
   --------           --------------------
   Windows            U200316
   AIX                U829807
   HP-UX (PA-RISC)    U829678
   HP-UX (Itanium)    U829681
   Solaris (SPARC)    U829806
   Solaris (x86-64)   U829680
   iSeries            tbc_p700_0_1_2
   Linux (x86)        U829677
   Linux (x86-64)     U829676
   Linux (zSeries)    U829682
   Linux (Power)      U829679
   
                      v6.0
   Platform           Fix Pack 6.0.2.9
   --------           --------------------
   Windows            U200313
   AIX                U828012
   HP-UX (PA-RISC)    U827381
   HP-UX (Itanium)    U827383
   Solaris (SPARC)    U827693
   Solaris (x86-64)   U828055
   iSeries            tbc_p600_0_2_9
   Linux (x86)        U827380
   Linux (x86-64)     U827694
   Linux (zSeries)    U827590
   Linux (Power)      U827382
   Linux (s390x)      U827695
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ65943
   
   
 * REPORTED COMPONENT NAME
   WMQ AIX V7
   
   
 * REPORTED COMPONENT ID
   5724H7221
   
   
 * REPORTED RELEASE
   701
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-11-27
   
   
 * CLOSED DATE
   2010-01-11
   
   
 * LAST MODIFIED DATE
   2010-01-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ AIX V7
   
   
 * FIXED COMPONENT ID
   5724H7221
   
   

APPLICABLE COMPONENT LEVELS
 * R701 PSY
   UP