Title: IBM Unable to login an Operational Decision Manager console because of referrer check - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 I am unable to login when accessing the ODM console (Decision Center, Rule Execution Server) through the WebSEAL reverse proxy, but I am able to login successfully accessing directly the WebSphere Application Server. How to configure ODM to allow login when using the reverse proxy?
I am unable to login the RES console after updating to a new fixpack (e.g. 8.5.1.1) implementing a referrer check, how can I configure the ODM RES console to allow login through a reverse proxy?


CAUSE
A referrer check, possibly newly introduced through a product fix, may be preventing users from login in when a reverse proxy such as WebSEAL is used to access the ODM console.

ANSWER
Option 1 - Use IBM HTTP Server (IHS) 

The first recommendation when faced with a referrer check issue with ODM on WebSphere Application Server is to follow the security hardening guidelines that typically advocate the use of IHS as the web server (see WebSphere Application Server security [http://www.ibm.com/developerworks/websphere/zones/was/security/]). 

When configuring the plugin, make sure to uncheck "Remove special headers" as per the screen shot below:
[/support/docview.wss?uid=swg21684689&aid=1] [/support/docview.wss?uid=swg21684689&aid=1]


Option 2 - Disable the referrer check

A second option is to disable the referrer check from the ODM Console. 
For ODM Decision Center Enterprise Console please follow instructions in Decision Center and WebSEAL [http://www-01.ibm.com/support/docview.wss?uid=swg21660750]. 
For the Decision Center Business Console comment out in decisioncenter.war/WEB-INF/web.xml the section:
<filter-mapping>
<filter-name>securityCheckPointFilter</filter-name>
<url-pattern>/*</url-pattern>
</filter-mapping> 

For the ODM RES console similarly comment out in jrules-res-management.war/WEB-INF/web.xml:

<filter-mapping>
<filter-name>CSRFValidationFilter</filter-name>
<url-pattern>/protected/*</url-pattern>
</filter-mapping>


Option 3 - Implement a custom referrer check

A third option is to disable the ODM referrer check as per the instructions above and add a custom referrer check implementation as per the instructions in Sample custom security filter for Decision Center or Decision Server consoles [http://www-01.ibm.com/support/docview.wss?uid=swg21684291]