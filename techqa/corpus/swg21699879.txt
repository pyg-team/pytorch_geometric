Title: IBM Region Move tool and the "Enable region for recovery" option enabled for DB2 or SQL Server in CPE 5.2 - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Should Region Move tool be used with "Enable region for recovery" on DB2 or SQL Server in CPE 5.2? 

CAUSE
After using the Region Move tool with the "Enable region for recovery" enabled on DB2 or SQL Server, users encounter the error "[FNRPE2131090261E]Cannot share tablespace <XXX> with region <N>" while configuring the new PE virtual server for the moved region. 
The feature "Enable region for recovery" doesn't serve much purpose on DB2 or SQL Server because those database engines don't have the necessary underlying support for the feature. Only Oracle does. Users should not have "Enable region for recovery" enabled for those two databases when using the region move tool.


ANSWER
The following is the work-around for the problem described above. 


All the customer needs to do is to create a new virtual server directory and populate the values for the vwserver.ini with the db information of the moved database in the new virtual server directory.

Here are sample steps.

Assuming you wanted to create new virtual PE named "newserver1".

We will start from the "default" virtual PE.

cd ~ProcessEngine/data
cp -r pesvr.default pesvr.newserver1
cd pesvr.newserver1

Delete logs in the pesvr.newserver1\logs folder

Edit pesvr.newserver1\vwserver.ini file to include new values of the moved database. 

For example:

#JPE
#Thu Mar 19 19:11:57 PDT 2015
DBType=DB2
DBHost=cmepaixserver
DBVersion=DB2LUW
DBPort=60000
DBUserName=f_sw
DBName=PEDB
DBpw=@\!v2\!9P4swKvUl5XwQ4aeVww9U5sBSPKkae0q06vXiIOtAHU\=

Follow this link to generate the encrypted password for DBpw. 

https://www-304.ibm.com/support/knowledgecenter/api/content/nl/en-us/SSNW2F_5.1.0/com.ibm.p8.install.doc/p8pia046.htm [https://www-304.ibm.com/support/knowledgecenter/api/content/nl/en-us/SSNW2F_5.1.0/com.ibm.p8.install.doc/p8pia046.htm]

Now start the task manager using: vwtaskman newserver1. 
Adjust the IOR and main server port information. 
You should be able to start the server to test it.