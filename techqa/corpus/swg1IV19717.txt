Title: IBM IV19717: UNABLE TO INCREASE THE LENGTH OF TICKET.DESCRIPTION - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS USER ERROR.
    
   
   

ERROR DESCRIPTION
 *  I'm trying to Increase the Attribute Length for
   TICKET.DESCRIPTION in
   MAM 7.5 from 100 -> 250.  This is not for a PMR am testing the
   latest
   version of the TSRM / Omnibus Integration.
   
   Making the change in Database Configuration seems to go fine.
   ConfigDB
   runs with no error.    Checking the TICKET object and associated
   objects
   (INCIDENT, PROBLEM, SR) shows the change is OK.  Checking the
   DB2
   Control Center also shows the change is OK.
   
   Now when I add a string of length > 100 but <250 to the
   Description
   Attribute I get the following error in both the UI and the
   Integration
   Framework in all the Ticket based applications- the below
   example is
   from an Inbound Transaction in Incident:
   
   [22/02/12 18:12:19:223 GMT] 00000073 SystemOut     O 22 Feb 2012
   18:12:19:223 [ERROR] [MXServer] [] Processing failed for
   OMNIINCIDENT.
   The object structure is 1. The primary object is INCIDENT. The
   key is
   INCIDENT.BMXAA4049E - The value specified
   9_180_203_10:tivoli-itcam1.:KT3A:MS_Offline[(Status="N" AND
   Reason<>"FA"
   ) ON 9_... exceeds the maximum field length. Enter a value that
   fits
   into the length of this attribute.
   [22/02/12 18:12:19:223 GMT] 00000073 LocalExceptio E
   CNTR0020E: EJB
   threw an unexpected (non-declared) exception during invocation
   of method
   "secureProcessMOS" on bean "BeanId(MAXIMO#mboejb.jar#mosservice,
   null)".
   Exception data: javax.ejb.EJBException: nested exception is:
   psdi.util.MXApplicationException: BMXAA4049E - The value
   specified
   9_180_203_10:tivoli-itcam1.:KT3A:MS_Offline[(Status="N" AND
   Reason<>"FA"
   ) ON 9_... exceeds the maximum field length. Enter a value that
   fits
   into the length of this attribute.
   psdi.util.MXApplicationException: BMXAA4049E - The value
   specified
   9_180_203_10:tivoli-itcam1.:KT3A:MS_Offline[(Status="N" AND
   Reason<>"FA"
   ) ON 9_... exceeds the maximum field length. Enter a value that
   fits
   into the length of this attribute.
    at psdi.util.MaxTypeALN.checkLength(MaxTypeALN.java:110)
    at psdi.util.MaxTypeALN.setValue(MaxTypeALN.java:95)
    at psdi.mbo.MboValue._setValue(MboValue.java:1225)
    at psdi.mbo.MboValue.setValue(MboValue.java:1136)
    at psdi.mbo.Mbo.setValue(Mbo.java:2173)
    at psdi.app.ticket.WorkView.update(WorkView.java:171)
    at psdi.app.ticket.WorkView.add(WorkView.java:106)
    at psdi.mbo.MboSet.addAtIndex(MboSet.java:4329)
    at psdi.mbo.MboSet.add(MboSet.java:4238)
    at psdi.mbo.MboSet.add(MboSet.java:4120)
    at psdi.app.ticket.Ticket.save(Ticket.java:1022)
    at psdi.mbo.MboSet.saveMbos(MboSet.java:7342)
    at psdi.mbo.MboSet.validateTransaction(MboSet.java:7323)
    at
   psdi.txn.MXTransactionImpl.validateTransaction(MXTransactionImpl
   .java:37
   5)
    at
   psdi.txn.MXTransactionImpl.saveTransaction(MXTransactionImpl.jav
   a:207)
    at psdi.txn.MXTransactionImpl.save(MXTransactionImpl.java:156)
    at psdi.iface.mos.MosProcessImpl.save(MosProcessImpl.java:1757)
    at
   psdi.iface.mos.MosProcessImpl.processExternalData(MosProcessImpl
   .java:32
   3)
    at
   psdi.iface.mos.MosProcessImpl.processObjectStructureService(MosP
   rocessIm
   pl.java:208)
    at
   psdi.iface.mic.MicService.processObjectStructureData(MicService.
   java:190
   8)
    at
   psdi.iface.mic.MicService.processObjectStructureService(MicServi
   ce.java:
   1642)
    at
   psdi.iface.mos.MOSServiceBean.secureProcessMOSInternal(MOSServic
   eBean.ja
   va:272)
    at
   psdi.iface.mos.MOSServiceBean.secureProcessMOS(MOSServiceBean.ja
   va:113)
    at
   psdi.iface.mos.EJSLocalStatelessmosservice_43551b5c.secureProces
   sMOS(Unk
   nown Source)
    at psdi.iface.util.WebUtil.invokeMosEJB(WebUtil.java:394)
    at
   psdi.iface.servlet.MOSServiceServlet.invokeEJB(MOSServiceServlet
   .java:20
   8)
    at
   psdi.iface.servlet.MOSServiceServlet.doPost(MOSServiceServlet.ja
   va:144)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:738)
    at javax.servlet.http.HttpServlet.service(HttpServlet.java:831)
   
   Furthermore If I do the same operation on other ALN attrbiute
   such as
   TARGETDESC on TICKET then I do not get the error.  If I do the
   same
   thing for ASSET.DESCRIPTION I do not get the same error.   If I
   do the
   same operation on TICKET.DESCRIPTION in 7.1.1.x I do not get the
   same
   problem.
   
   
   
   Steps to replicate:
   
   Open Database Configuration. TICKET Object, DESCRIPTION
   Attribute
   
   Change the Length from 100 to 250. Save, enable Admin mode,
   Apply
   Configuration Changes, disable Admin Mode.
   
   Open any TICKET based Application eg INCIDENT
   
   Enter a string of length > 100 but is < 250 in the description
   field and
   save.
   
   
   Version of Maximo: 7.5, 7.5.01
   
   
    
   
   

LOCAL FIX
 *  Update the length of WORKVIEW.DESCRIPTION by hand.
   
   
    
   
   

PROBLEM SUMMARY

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  Cannot be fixed as a bug. Steve H thinks there is an RFE open
   for this.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   IV19717
   
   
 * REPORTED COMPONENT NAME
   ADMINISTRATION
   
   
 * REPORTED COMPONENT ID
   5724R46A1
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED USE
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-04-16
   
   
 * CLOSED DATE
   2012-05-17
   
   
 * LAST MODIFIED DATE
   2012-05-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS