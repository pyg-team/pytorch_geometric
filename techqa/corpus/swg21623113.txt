Title: IBM Commands to create a queue manager and to configure it for remote administration via MQ Explorer - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document provides details of the line commands for WebSphere MQ to create a queue manager and to configure it for remote administration using MQ Explorer 

CAUSE
This technote is a companion to the following IBM SupportTV video on YouTube:



 * How do I create a queue manager using the MQ Explorer? [http://www.youtube.com/watch?v=QMvuWkSs7sc]



RESOLVING THE PROBLEM
Issue these three steps to create a WebSphere MQ queue manager using line commands: 

1. It is good practice to define a Dead Letter Queue when creating a queue manager

crtmqm -u SYSTEM.DEAD.LETTER.QUEUE QM_TEST


2. Start the queue manager

strmqm QM_TEST


3. Run the MQ administration tool

runmqsc QM_TEST

a. Define and start a listener. The default is port 1414. 
define listener(TCP.LISTENER) trptype(tcp) control(qmgr) port(1414)
start listener(TCP.LISTENER)

b. Define a channel to be used by a remote MQ Explorer 
define channel(SYSTEM.ADMIN.SVRCONN) chltype(SVRCONN) REPLACE

c. For MQ 7.1 and later, and if you need to allow remote connections by an MQ Administrator.
Note: This is too broad and it is useful for test queue managers. For production queue managers you may need to customize the remote access to MQ Administrators.

set CHLAUTH(*) TYPE(BLOCKUSER) USERLIST('nobody','*MQADMIN')
set CHLAUTH(SYSTEM.ADMIN.*) TYPE(BLOCKUSER) USERLIST('nobody')

d. For MQ 8.0 and later, and if you want the password to be optional for an MQ Administrator.
Note: This is NOT recommended for production queue managers. It might be fine for your test queue managers.
ALTER AUTHINFO(SYSTEM.DEFAULT.AUTHINFO.IDPWOS) AUTHTYPE(IDPWOS) +
CHCKCLNT(OPTIONAL)
REFRESH SECURITY TYPE(CONNAUTH)

end

+++ Additional commands are needed for non-MQ administrators to connect to the queue manager and to access queues using MQ Explorer

For more details see:

HOW TO: Setmqaut commands to allow Windows Explorer remote administration of WMQ on a UNIX [http://www.ibm.com/support/docview.wss?uid=swg21250706]

++ References

WMQ 7.1, 7.5, 8.0 queue manager RC 2035 MQRC_NOT_AUTHORIZED or AMQ4036 when using client connection as an MQ Administrator [http://www.ibm.com/support/docview.wss?uid=swg21577137]

MQ 8.0: errors AMQ5540 and AMQ5541, application did not supply a user ID and password, 2035 MQRC_NOT_AUTHORIZED [http://www.ibm.com/support/docview.wss?uid=swg21680930]

RELATED INFORMATION
 WMQ V8: Administering remote WMQ objects [http://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.adm.doc/q021090_.htm?lang=en]
Webcast:Remote admin of queue managers using WMQ Explor [http://www.ibm.com/support/docview.wss?uid=swg27008431]
WMQ V7: Free client conn on z/OS allow remote admin [http://www.ibm.com/support/knowledgecenter/SSFKSJ_7.0.1/com.ibm.mq.csqzao.doc/mi20891_.htm]
HOWTO: Allow Windows Explorer remote admin of UNIX [http://www.ibm.com/support/docview.wss?uid=swg21250706]


 

PRODUCT ALIAS/SYNONYM
 WebSphere MQ WMQ