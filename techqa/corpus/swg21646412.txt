Title: IBM The IBM Case Manager viewer widget displays a 'Server did not respond with OK' error message when viewing documents with the IBM Content Navigator viewer - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 If IBM Content Navigator viewer is configured as the IBM Case Manager client viewer, a 'Server did not respond with OK' error may be returned when viewing documents and the error can only be corrected after a restart of WebSphere Application Server. 

SYMPTOM
When you open a document in IBM Case Manager to display using the viewer widget, and the viewer widget uses IBM Content Navigator's FileNet viewer, you might see the following error in the viewer: 

Unable to open <http:myserver_name:9080/navigator/p8/getDocument.do?...
Error:ji.net.jiServerException
Server did not respond with OK.
Server is not licensed. Please contact your system administrator.

The error will only affect documents that have been configured to display with the FileNet viewer and if IBM Case Manager and IBM Content Navigator are deployed on the same server. 


DIAGNOSING THE PROBLEM
You might encounter this problem under the following conditions: 

1) If the IBM Case Manager URL prefix does not match with the IBM Content Navigator URL prefix. For example, if the IBM Case Manager URL prefix is using HTTP and the IBM Content Navigator URL prefix is using HTTPS, or vice versa. This behavior is already documented in the following IBM Case Manager InfoCenter topic:
IBM Content Navigator viewer displays an error message for TIF and PDF documents [http://pic.dhe.ibm.com/infocenter/casemgmt/v5r1m1/index.jsp?topic=%2Fcom.ibm.casemgmt.design.doc%2Facmtc014.htm] 

2) If the IBM Case Manager URL hostname does not match with the IBM Content Navigator URL hostname when IBM Case Manager and IBM Content Navigator applications are deployed on the same host. For example, if the IBM Case Manager URL hostname contains a shortname (http://myserver/CaseClient) while the configured IBM Content Navigator URL hostname contains a fully qualified domain name (FQDN) for the same host (http://myserver.org.com/navigator), or vice versa. 

This can also be a problem if the IBM Case Manager URL and the IBM Content Navigator URL are configured the same (http://myserver/), but when a user access IBM Case Manager, they end up using the FQDN instead (http://myserver.org.com/CaseClient). Similarly if the IBM Case Manager and the IBM Content Navigator are configured with the FQDN but the user uses the shortname, the same error can result.



RESOLVING THE PROBLEM
To resolve this problem, follow similar instructions that are documented in the IBM Case Manager InfoCenter for the related problem: 

IBM Content Navigator viewer displays an error message for TIF and PDF documents [http://pic.dhe.ibm.com/infocenter/casemgmt/v5r1m1/index.jsp?topic=%2Fcom.ibm.casemgmt.design.doc%2Facmtc014.htm]

1) Stop WebSphereÂ® Application Server.
2) Clear the WebSphere Application Server cache by deleting all the files from the following directories:


 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * Important:
 * 


3) Ensure that the URL for IBM Case Manager matches the IBM Content Navigator URL. For example, if IBM Case Manager uses only a shortname for the hosthame (e.g. http://myserver), then the IBM Content Navigator URL must also be set with a shortname for the hostname to prevent connection issues. To change the IBM Content Navigator URL: 

 * 
 * 
 * 
 * 
 * 
 * 
 * 


4) Start WebSphere Application Server. 
5) Access IBM Case Manager using the same URL, shortname or FQDN as configured in Case Manager administration client. Select the document to view in the Viewer widget.