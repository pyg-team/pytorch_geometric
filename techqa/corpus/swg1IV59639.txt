Title: IBM IV59639: APPLY CONFIGURATION CHANGES FAILS WITH BMXAA7094E. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Apply Configuration Changes failed with the following error.
   
   BMXAA7094E - The entered value NEXTVAL FOR SEQ1 is not valid.
   Enter a valid integer value.
   
   The problem is recreatable in the following environment.
   
   Product information: MAM
   Product version: 7.5.0.5
   OS: RHEL 5.8
   DB: DB2 v9.7
   Application Server: WAS 7.0.0.15
   Base Language: EN
   
   STEPS TO REPRODUCE:
   1) From "Database Configuration" application, open "Asset"
   object.
   
   2) On "Attributes" tab, create the following attribute.
   
   Attribute : SEQUENCE1
   Description : SEQUENCE1
   Type        : INTEGER
   Length      : 12
   Scale       : 0
   Default Value : &SEQUENCE&
   Alias         : SEQUENCE1
   Sequence Name : SEQ1
   
   3) Add the following attributes.
   
   Attribute : ATTRIBUTE1
   Description : ATTRIBUTE1
   Type        : ALN
   Length      : 50
   Scale       : 0
   Alias         : ATTRIBUTE1
   
   Attribute : ATTRIBUTE2
   Description : ATTRIBUTE2
   Type        : ALN
   Length      : 50
   Scale       : 0
   Alias         : ATTRIBUTE2
   
   4) Turn on the admin mode and apply the configuration
   changes.
   
   5) Turn off the admin mode.
   
   6) From "Database Configuration" application, select "GL
   Account Configuration" from "Select Action" menu and specify
   the following values on "GL Account Configuration" window.
   
   Component : COSTCENTER
   Length    : 4
   Type      : INTEGER
   Required? : checked
   GL Order  : 0
   
   Then click OK.
   
   7) Turn on the admin mode and apply the configuration
   changes.
   
   8) Turn off the admin mode.
   
   9) From "Organizations" application, create a new
   organization with the following values.
   
   Organization : ORG1
   Base Currency1 : USD
   Base Currency2 : Blank
   Item Set       : SET1
   Company Set    : SET2
   Default Item Status : Active
   Default Stock Category : STK
   Clearing Account : blank
   Active : unchecked
   Site : SITE1
   
   10) From "Chart of Accounts" application, select ORG1 and
   click "GL Component Maintenance". On "GL Component
   Maintenance" window, select "COSTCENTER" and click
   "New Row" in "GL Component Value for COSTCENTER" section
   and specify the following values.
   
   GL Component Value : 1000
   Description        : 1000
   Active?            : checked
   
   Then click OK to close "GL Component Maintenance" window.
   
   11) Click "New Row" in "GL Account for ORG1" section and
   specify the following values.
   
   GL Account : 1000
   Active Date: 14/03/24 20:40
   Expireation Date: 14/04/30 4:27
   
   12) From "Organizations" application, open "ORG1" and
   specify the following values.
   
   Clearing Account : 1000
   Active?          : checked
   
   13) Click "Profile" button and select "Default Information".
   On "Default Information" window specify the following value.
   
   Default Insert Site : SITE1
   
   14) From "Assets" application, create a new Asset.
   
   Asset : ASSET1
   
   15) From "Database Configuration" application, open "Asset".
   
   16) On "Attributes" tab, add the following attribute.
   
   Attribute : ATTRIBUTE3
   Description : Attribute3
   Type : ALN
   Length : 50
   Scale : 0
   Alias : ATTRIBUTE3
   
   17) Change the length of the following attribute.
   
   Attribute : ATTRIBUTE1
   Length : 50-->30
   
   18) Delete the following attribute.
   
   Attribute : ATTRIBUTE2
   
   19) Turn the admin mode ON
   
   20) Apply the configuration changes then the following error
   happens.
   
   BMXAA7094E - The entered value NEXTVAL FOR SEQ1 is not valid.
   Enter a valid integer value.
   BMXAA6819I - ConfigDB completed with errors.
   BMXAA6820I - RestoreFromBackup completed without errors.
   
   Moreover, RestoreFromBackup log file shows the following error.
   
   psdi.util.MXApplicationException: BMXAA7094E - The entered
   value NEXTVAL FOR SEQ1 is not valid. Enter a valid integer
   value.
   at psdi.util.MXFormat.stringToInt(MXFormat.java:155)
   at psdi.configure.Util.getDefaultString(Util.java:2249)
   at psdi.configure.Util.getDefaultString(Util.java:2117)
   at psdi.configure.Util.getDefaultString(Util.java:2098)
   at psdi.configure.Util.buildSelectStatementForRestore
   (Util.java:195 8)
   at psdi.configure.RestoreFromBackup.loadMaximoTable
   (RestoreFromBack up.java:530)
   at psdi.configure.RestoreFromBackup.process
   (RestoreFromBackup.java: 244)
   at psdi.configure.ConfigDB.callRestoreFromBackup
   (ConfigDB.java:3079 )
   at psdi.configure.ConfigDB.process(ConfigDB.java:302)
   at psdi.app.configure.ConfigureService$ConfigDBThread.run
   (Configure Service.java:3015)
   /**** system#invalidnumberint  The entered value NEXTVAL
   FOR SEQ1 is not valid. Enter a valid integer value. ****/
   BMXAA6820I - RestoreFromBackup completed without errors.
   Thu Apr 17 04:40:16 JST 2014
   
   "To Be Changed" flag actually disappeared after closing
   "Apply Configuration Changes" window but cannot turn OFF
   the admin mode because the value "1" was set to the
   record of CONFIGURINT on MAXCARS table.
   
   CURRENT ERRONEOUS RESULT:
   BMXAA7094E happens on applying configuration changes.
   
   EXPECTED RESULT:
   BMXAA7094E should not happen on applying configuration changes.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Administrative users                                         *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * APPLY CONFIGURATION CHANGES FAILS WITH BMXAA7094E.           *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Fixed in code.                                               *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Fixed in code - 7.5.0.7 Fix Pack.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV59639
   
   
 * REPORTED COMPONENT NAME
   ADMINISTRATION
   
   
 * REPORTED COMPONENT ID
   5724R46A1
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-04-23
   
   
 * CLOSED DATE
   2014-04-25
   
   
 * LAST MODIFIED DATE
   2014-04-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  MAXIMO
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ADMINISTRATION
   
   
 * FIXED COMPONENT ID
   5724R46A1
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP