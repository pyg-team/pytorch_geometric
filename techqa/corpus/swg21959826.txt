Title: IBM No data in TEP and ABAP dump on ITM-_GET_PARAMETER-RSDB/DBHOST - United States

Text:
ABAP dump ITM-_GET_PARAMETER-RSDB/DBHOST RSDB/DBHOST function module /IBMMON/ITM_HOSTS C_SAPGPARAM database host se37 st22 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Exception raised with rsdb/dbhost and lack of data in the Tivoli Enterprise Portal for the SAP agent 

SYMPTOM
SAP agent does seem to be connecting to SAP but no data in TEP, and generating the following error:
(555E15D6.0000-3678:ksalogmsg.cpp,184,"logmsg") KSA0301 ABAP exception: ITM-_GET_PARAMETER-RSDB/DBHOST in function module /IBMMON/ITM_HOSTS


CAUSE
An issue with how rsdb/dbhost has been specified

DIAGNOSING THE PROBLEM
The exception occurs when the ABAP code tried get the host of database. 
The SAP agent uses sap system function "C_SAPGPARAM" to get the value of database host. The cause is that this function is not working as expected. 
Perform some tests on the SAP system: 
1. Login into SAP GUI with a dialog user
2. run t-code "se37" 
3. run function module "/IBMMON/ITM_HOSTS" 
4. See if you can see the DBHOST from result table


In case no DBHOST entry appears, and there is an exception "ITM-_GET_PARAMETER-RSDB/DBHOST" raised, then please use t-code "st22" to check if there is any ABAP dump related to this. 

Please follow this procedure to collect the ABAP dumps. 
1. Logon to SAP system via SAP GUI. 
2. Run 'ST22' transaction code 
3. Double click on the ABAP dump. 
4. Click 'System' -> 'List' -> 'Save' -> Local File and then select HTML format 
5. The HTML document can be saved for further references. Please send this to IBM software support.

Also provide these info: 
1. Logon the SAPGUI, run RZ11, input the rsdb/dbhost as parameter name, press enter, then copy the screenshot and upload it. 

2. Collect and upload the profiles of SAP System under 
/usr/sap/<SID>/sys/profile/ or <drive>:\usr\sap\<SID>\SYS\profile\ 


RESOLVING THE PROBLEM
If no exception found, you can use this user/id to reconfig the SAP agent and see if this helps.

 

PRODUCT ALIAS/SYNONYM
 itm itcam sap agent