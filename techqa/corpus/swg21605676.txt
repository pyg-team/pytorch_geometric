Title: IBM Unable to render any pages in Portal - United States

Text:
404; 500; Default.jsp; wps_theme; NullPointer; com.ibm._jsp._Default._jspService TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IBM WebSphere Portal is successfully installed and configured. After running for a long period of time, all pages in the Portal begin showing either HTTP 404 or HTTP 500 errors. This Technote will document how to resolve this issue so pages successfully render again. 

SYMPTOM
HTTP 404: Page Not Found or HTTP 500: Internal Server Error are displayed on every Portal page.


CAUSE
Corrupted temporary files on the Portal server are preventing themes from rendering.

ENVIRONMENT
Any Portal 6.1 or later environment

DIAGNOSING THE PROBLEM
1. Utilize a specially crafted URL to login to the Portal server independent of the Login portlet:http://myportalserver.raleigh.ibm.com:10039/wps/portal/cxml/04_SD9ePMtCP1I800I_KydQvyHFUBADPmuQy?userid=wpsadmin&password=wpsadmin





Substitute the userid= and password= parameters with a valid user's credentials 

 

2. The page being rendered may produce an HTTP 404 or HTTP 500 error. However, as this point, the user is now authenticated into the Portal server. Enter the following URL:http://myportalserver.raleigh.ibm.com:10039/wps/myportal/Administration 




3a. If the Administration area is rendering successfully at this time, click on the Themes and Skins portlet click the "Portal" theme and click "Set as default portal theme". This should allow the remainder of the Portal to render successfully so pages are accessible.

[/support/docview.wss?uid=swg21605676&amp;aid=1]


Thereafter, to troubleshoot custom themes not rendering properly, open a service request with IBM Support [http://www.ibm.com/software/support/probsub.html].


3b. If the Administration area is NOT rendering successfully at this time, review the SystemOut.log file, checking near the end of the file for more recent timestamps. The following stacktrace may be displayed if the Administration area is not rendering successfully:

[datetime] 00000076 servlet E com.ibm.ws.webcontainer.servlet.ServletWrapper service SRVE0068E: Uncaught exception created in one of the service methods of the servlet /themes/html/Portal/Default.jsp in application wps_theme. Exception created : java.lang.NullPointerException at com.ibm._jsp._Default._jspService(_Default.java:1019) 

If this message is occurring, proceed to the "Resolving the problem" section of this document.



RESOLVING THE PROBLEM
Clear the temp directories as follows 


i. Stop all Portal servers. If clustered, stop the nodeagents and Deployment Manager
ii. On each Portal node and on the Deployment Manager clear all of the the contents on the servers within these folders. Leave the folders themselves intact.

<WAS_profile>/temp 
<WAS_profile>/wstemp 
<WAS_profile>/tranlog 
<WAS_profile>/config/temp 

For the Portal server, an example of a full path for the profile would be:
/usr/IBM/WebSphere/wp_profile/temp

For the Deployment Manager, an example of a full path for the profile woudl be:
/usr/IBM/WebSphere/AppServer/profiles/Dmgr01/temp

iii. (If clustered), start the Deployment Manager and nodeagents. 
iv. Start the Portal servers

The HTTP 404 and HTTP 500 errors should no longer display.

RELATED INFORMATION
 Open a service request with IBM Support [http://www.ibm.com/software/support/probsub.html]


 


Cross reference information Segment Product Component Platform Version Edition Organizational Productivity- Portals & Collaboration WebSphere Portal AIX, HP-UX, IBM i, Linux, Solaris, Windows, z/OS 7.0, 6.1