Title: IBM PM37037: DYNAMIC SQL STATEMENT TEXT IS NOT POPULATED IN DCS APPLICATION SNAPSHOT AND COUNTERS ARE NOT POPULATED IN CLASSIC PANEL ZDBCP. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  To measure connectivity performance between the db2 connect
   gateway, where the Performance Expert Agent runs, and the host
   database, Performance Expert Agent issues a dummy select
   statement against the host database and right away gets a DCS
   application snapshot to get the needed performance counters.
   .
   The needed select statement is being identified by its dynamic
   SQL statement text, which is not available in some cases in the
   snapshot output, therefore the statements can not be identified
   and the counters can not be collected.
   .
   
   
    
   
   

LOCAL FIX
 *  As an instance owner, stop the local db2 instance, where the
   accounting string.
   .
   Performance Expert Agent runs, using db2stop command and start
   it back using db2start.
   .
   Apply the apar fix for the final solution, which uses the
   accounting string.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: OMEGAMON XE for DB2 PE/DB2PM                 *
   *                 users of component:                          *
   *                 -   Performance Expert Agent for             *
   *                     DB2 Connect Monitoring                   *
   ****************************************************************
   * PROBLEM DESCRIPTION: Dynamic SQL statement text is not       *
   *                      populated in DCS application snapshot   *
   *                      and counters are not populated.         *
   *                                                              *
   ****************************************************************
   * RECOMMENDATION: Apply this PTF                               *
   *                                                              *
   ****************************************************************
   PROBLEM SUMMARY:
   - The APAR/PTF points the user to the updated Agent code on
     the web, which fixes the issue.
   - A so called "accounting string" is being set to identify the
     needed local DCS application (and it's needed statement) in
     the DCS application snapshot, instead of using dynamic SQL
     statement text.
   - Keywords in the Agent's log:
     - No data blocks found
     - CollectedGroup.findDataBlockByStringCounter
     - 'DYNASTMTTEXT'
   
   PROBLEM CONCLUSION:
   - The APAR/PTF points the user to the updated Agent code on
     the web, which fixes the issue.
   - This PTF corresponds to the code level E9007 of the
     Performance Expert Agent for DB2 Connect Monitoring.
   
   
    
   
   

PROBLEM CONCLUSION
 *  - The APAR/PTF points the user to the updated Agent code on
     the web, which fixes the issue.
   - This PTF corresponds to the code level E9007 of the
     Performance Expert Agent for DB2 Connect Monitoring.
   
   KEYWORDS : NO DATA BLOCKS FOUND
              COLLECTEDGROUP.FINDDATABLOCKBYSTRINGCOUNTER
              'DYNASTMTTEXT' DYNASTMTTEXT
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM37037
   
   
 * REPORTED COMPONENT NAME
   OM XE DB2PE/PM
   
   
 * REPORTED COMPONENT ID
   5655OPE00
   
   
 * REPORTED RELEASE
   410
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-04-14
   
   
 * CLOSED DATE
   2011-04-28
   
   
 * LAST MODIFIED DATE
   2011-05-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK67178
   
   

MODULES/MACROS
 *  DGOK$INF
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OM XE DB2PE/PM
   
   
 * FIXED COMPONENT ID
   5655OPE00
   
   

APPLICABLE COMPONENT LEVELS
 * R410 PSY UK67178 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK67178]
   UP11/04/29 P F104
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.