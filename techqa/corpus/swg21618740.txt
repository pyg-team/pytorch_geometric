Title: IBM TIP 2.2.x install failure during PreCheck phase. WAS.bit=abort. - United States

Text:
TIPL2INST; TIP 2.2.0.7; installation; failure; during; PreChec; phase; 32bit; 64bit; WAS.bit=abort. TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Installing a 64bit TIP fixpack on an existing 32bit installation of TIP failed in the Precheck portion of the upgrade. This is the initial error received:
FAILURE: The overall installation fails. Check /root/TIPFPInstaller-00.log. 

SYMPTOM
Exceptions in the TIPFPInstaller-00.log, the actual content of the error will vary depending on the <TIP_HOME> variable and the date of the install attempt. 

 
2012-09-10 08:58:28.614-05:00 : STDERR : The following error occurred 
/opt/IBM/ITM/tivoli/tipv2/_uninst/TIPInstall2207/plan/checks/MachinePlan 
_localhost/00001_TIPInstall_PreCheck-FP7/TIPInstall_PreCheck-FP7.xml:323 
: The following error occurred while executing this line: 
/opt/IBM/ITM/tivoli/tipv2/_uninst/TIPInstall2207/plan/checks/MachinePlan 
_localhost/00001_TIPInstall_PreCheck-FP7/TIPInstall_PreCheck-FP7.xml:912.


CAUSE
A 64bit TIP Fixpack installed when the existing TIP install was 32bit.


ENVIRONMENT
TIP 2.2.0.3, Product TCR 2.1.1. OS: AIX ( could happen on any OS or base product )



DIAGNOSING THE PROBLEM
The exception in the TIPInstaller-00.log above, pointed to line 912 in the TIPInstall_PreCheck-FP7.xml. which created the TIPInstall_PreCheck-FP7.log file containing the reason for the install failure: 


validateWAS: 
[echo] Check the Installed version of WAS 
here:/opt/IBM/ITM/tivoli/tipv2 
[echo] WAS.version19=abort 

validateMaintenance_Pack: 
[echo] validateMaintenance_Pack 
[echo] validateMaintenance_Pack maintenance.pack.properties 
[echo] get platformname from WAS fixpack install.txt: AixPPC64 ( using the 64 bit Fixpack ) 
[echo] WS.FP0000019.status none 
[echo] SDK.FP0000019.status none 

setConditions: 

detectRunningProcess: 
[echo] invoking 
/opt/IBM/ITM/tivoli/tipv2/temp/detectJavaProcess.sh 
[delete] Deleting: 
/opt/IBM/ITM/tivoli/tipv2/temp/detectJavaProcess.sh 

laydownScript: 
[copy] Copying 1 file to 
/opt/IBM/ITM/tivoli/tipv2/profiles/TIPProfile/bin 

compareOSandImageBit: 
[echo] mode=32 ( Bitness of the current TIP install ) [echo] WAS.bit=abort.


RESOLVING THE PROBLEM
Download the 32bit version of TIP 2.2.0.7 and reinstall. 

You can also refer to this technote for more information about migrating to 64bit TIP after an initial 32bit TIP base install.
http://www-01.ibm.com/support/docview.wss?uid=swg21615867