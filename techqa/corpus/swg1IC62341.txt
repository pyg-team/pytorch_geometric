Title: IBM IC62341: MQRC_OBJECT_NOT_FOUND (2085) RETURNED USING MQ JAVA CLIENT - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.6 [http://www-01.ibm.com/support/docview.wss?uid=swg24025461]
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.7 [http://www-01.ibm.com/support/docview.wss?uid=swg24027369]
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.8 [http://www-01.ibm.com/support/docview.wss?uid=swg24030009]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  WebSphere MQ Java client using a non-mqm group principal id in
   the SVRCONN channel MCAUSER attribute fails with a 2085,
   MQRC_OBJECT_NOT_FOUND. If the user id in the MCAUSER parameter
   is not authorized via a setmqaut to open the queue, then error
   code 2085 is returned. The mqrc returned should be a 2035,
   MQRC_NOT_AUTHORIZED. This problem can be demonstrated using the
   MQIVP Java client test connectivity application.
   ADDITIONAL KEYWORDS: security auth permission notauth object
   not found IVP mqm userid MQOPEN MQINQ open inquire qmgr manager
   zfu_as_checkobjectauthority MQZAO_INQUIRE 0x00000010 rc2085
   rc2035
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  If a non-mqm user does not have the correct authoirization for a
   qmgr, the MQIVP Java client test connectivity application using
   a non-mqm group principal in the SVRCONN MCAUSER attribute will
   fail with a  2085, MQRC_OBJECT_NOT_FOUND, instead of the correct
   2035, MQRC_NOT_AUTHORIZED.  This is due to the Java MQIVP
   opening the qmgr with a blank qmgr name, and aouLocateEntry
   searching the object catalog for a blank name, thus reporting
   MQRC_OBJECT_NOT_FOUND.
   
   
    
   
   

PROBLEM CONCLUSION
 *  When a blank qmgr name is passed to aouLocateEntry, need to
   determine that the qmgr record exists in the object catalog, as
   is done by other unix platforms.
   Planned for release in WMQ HP NonStop Server V5.3.1.6 fix pack.
   
   
    
   
   

TEMPORARY FIX
 *  Provide the user with the correct authorization needed to access
   the qmgr and queue (SYSTEM.DEFAULT.LOCAL.QUEUE).
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC62341
   
   
 * REPORTED COMPONENT NAME
   WEBS MQ NSS MIP
   
   
 * REPORTED COMPONENT ID
   5724A3901
   
   
 * REPORTED RELEASE
   530
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-08-03
   
   
 * CLOSED DATE
   2009-08-06
   
   
 * LAST MODIFIED DATE
   2009-08-06
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS MQ NSS MIP
   
   
 * FIXED COMPONENT ID
   5724A3901
   
   

APPLICABLE COMPONENT LEVELS
 * R531 PSY
   UP