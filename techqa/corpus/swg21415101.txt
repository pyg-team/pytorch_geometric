Title: IBM "Argument list too long" error importing rmbranch oplog on Linux - United States

Text:
argument; list; syncreplica; import; RATLC01306504; PM04241 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to import an IBM Rational ClearCase MultiSite rmbranch oplog on Linux results in the error "Argument list too long". 

SYMPTOM
The full error message is as follows:

multitool: Error: Can't exec "/opt/rational/clearcase/lib/mgrs/text_file_delta/delete_branches_versions": Argument list too long
multitool: Error: Unable to invoke operation "delete_branches_versions" for manager "text_file_delta": -1
multitool: Error: (Operation pathname was: "/opt/rational/clearcase/lib/mgrs/text_file_delta/delete_branches_versions")
multitool: Error: Unable to delete branches and/or versions.
multitool: Error: Unable to replay oplog entry <OPLOG>: error detected by ClearCase subsystem.



CAUSE
A trace of the import will show that the branch being removed has many thousands of versions. 

The OID's of these versions are being passed to the command line as one argument.


RESOLVING THE PROBLEM
If you are seeing this error, collect the following information and contact IBM Rational Client Support [http://ibm.com/software/support/help.html] [http://www-01.ibm.com/software/support/help.html?ratlid=esr]for further assistance: 

 1. Provide a transcript of the full error message 
 2. Provide output from a dump of the oplog 
 3. Provide the number of replicas in the family 
 4. Provide output from all sites in the family using Multisiteinfo [http://www.ibm.com/support/docview.wss?rs=984&uid=swg21125539] [1125539] 
 5. Run the import manually as follows to collect trace information:
    
    strace -fTtttv -o /tmp/multitool_import.out <multitool command>



Rational Customer Support has created an Request For Enhancement for this issue.