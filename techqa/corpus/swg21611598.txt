Title: IBM Collect troubleshooting data for IBM Process Designer problems in IBM Business Process Manager (BPM) - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are having a problem with the IBM Process Designer tool, which is part of the IBM Business Process Manager products. You would like to know what documentation you must collect (MustGather) so that the IBM Business Process Manager Support team can diagnose your problem. If you gather this documentation before contacting support, it will expedite the troubleshooting process and save you time. 

DIAGNOSING THE PROBLEM
Application design questions are beyond the scope of the support team. For those questions, we recommend the following options: 

 * Post your question to dW Answers [https://developer.ibm.com/answers/questions/index.html] using "bpm" as one of the question tags. 
 * Get help from Professional Services or our Expert Access Services staff (formerly On Demand Consulting (ODC)). If you need assistance engaging Professional Services or our Expert Access Services staff, contact your IBM account team.

OVERVIEW OF IBM PROCESS DESIGNER DIAGNOSTIC INFORMATION

Gather the following information and files: 

General diagnostic information 

 * Problem description 
 * Environment description 
 * Log files and configuration information: 
 * ae.log file 
 * orb* files 
 * eclipse.ini file 
 * /properties directory 
 * /workspace directory 
 * Process center profile /logs directory 
 * Process center version info


As needed diagnostic information  * Process Designer tracing 
 * SSL tracing 
 * Javacoresâ„¢ and garbage collection (GC) logging for hangs, performance, and memory issues



DETAILED STEPS TO GATHER DIAGNOSTIC INFORMATION

1: Problem and environment description
Provide a detailed description of the problem that you are having. Be detailed about the steps that lead up to the issue and include screen shots whenever possible. 


You can optionally send in a recording of your screen to help expedite the problem determination process. Refer to this document on Recording Your Screen To Share With Support [https://www.ibm.com/developerworks/community/blogs/IBMElectronicSupport/entry/recording_your_screen_to_share_with_support?lang=en] for information on downloading the screen recording tool, and instructions on how to use it to record your screen.


The description needs to answer the following questions: 

 * Was there any changes prior to the issue occurring? 
 * Is the issue intermittent or re-creatable? If the problem is intermittent, how often does it occur? 
 * How does the issue impact your business? 
 * Are there any deadlines that are affected by this problem? 
 * Is the related Process Center clustered? 
 * Are you connecting directly to a Process center or through a web server? 
   
   

2: Log and configuration files 
Gather the following files from the Process Designer root directory for the affected client:  * ae.log file 
 * eclipse.ini file 
 * /workspace directory 
 * /properties directory 
 * java.util.log file 
 * orb* files - Any files that start with "orb" under the Process Designer root directory that were modified during the time frame of the issue. 
   
   

Gather the Process Center /logs directory from the process center profile that Process Designer is connected to at the time of the issue. For example: <Profile root>/logs 
Also get the output of this command: <PC profile>/bin/versionInfo -maintenancePackages 


Note: If you are using custom paths for your server log or trace, then provide all of the files that normally exist in this directory. If possible, use the default logging paths. 



3: Process Designer tracing and Fiddler capture 
Depending on your version use one of the following methods:  * For details on enabling PD tracing, see the Enabling error logging in Process Designer [https://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.6.0/com.ibm.wbpm.wle.editor.doc/topics/enabletracing.html] topic in the product documentation.

 * After the traces are enabled, please begin collecting a Fiddler capture. For details on collecting a Fiddler capture, please see Collect a HTTP traffic capture with Fiddler or your web browser [http://www-01.ibm.com/support/docview.wss?uid=swg21985990]
   1. 

When the traces are set and Fiddler is started, restart IBM Process Designer, recreate the problem, write down the time stamp, stop Process Designer, and then export the Fiddler capture. The ae.log and workspace log directories should now contain the debug and error messages from the Process Designer along with HTTP capture in the Fiddler .saz export. 





4: SSL/ORB tracing (for SSL/ORB connection issues) 
For Secure Sockets Layer (SSL) or ORB issues in the Process Designer, like SSLHandshakeExceptions, you can enable a specific trace, which helps to log more details about the problem. Follow these steps:  * For SSL tracing, edit the eclipse.ini file by adding this line:
   -Djavax.net.debug=true 
 * For ORB tracing, edit the eclipse.ini file by adding these 3 lines:
   -Dcom.ibm.CORBA.Debug=true 
   -Dcom.ibm.CORBA.CommTrace=true 
   -Dcom.ibm.CORBA.Debug.Output=client.log 
   1. Restart the Process Designer using the following command to send the console output to a file:
   <ProcessDesignerDirectory>\eclipse.exe > SSL.log 2>&1
   Note: The SSL.log is the file name that will contain the SSL trace. You can only capture this information to a file when you use javaw. When you use java.exe to get javacores, the output goes to the console window.
   2. Recreate the issue.
   3. Provide the following files and directories from the Process Designer client:  * SSL.log file 
    * client.log file 
    * /etc directory 
    * /resources directory
   
   4. Disable the trace when finished as it can affect performance of the client. 
   
   

5: Javacores and garbage collection (GC) data for hang, performance, and memory issues
For performance, hang, and JVM memory issues, Javacores, heap dumps and gc logging are needed. Complete the following steps to gather this information:  1. Edit the eclipse.ini file and add the following lines:
    -verbose:gc 
    -Xverbosegclog:<absolute path to the verbosegc.log file>
    -Xdump:heap+java:events=user
    
    
    Note: This path is the location of the gc log file that needs to be provided. It is recommended to use the Process Designer root directory path. 
 2. Edit the eclipse.ini file and replace javaw.exe with java.exe. 
 3. Restart the Process Designer and ensure that you do not close the extra command window that is opened. 
 4. Recreate the issue or wait for a reoccurrence. 
 5. Generate a Javacore and heapdump by selecting the Process Designer command window to bring focus to the window and then hold down the <CTRL> + <BREAK> keys to generate the dump. 
    
    
    Note: The verbose gc log file shows the location and time when dumps are generated. 
 6. Gather 3-4 Javacores 30-60 seconds apart or evenly spaced out over the hang time frame during the hang or performance issue. 
 7. Provide the following files from the IBM Process Designer client:  * Verbose gc log file 
     * Javacore files 
     * Heap dump files if you are experiencing a JVM memory issue.
    
    

The trace is pretty light weight but can be disabled by reversing steps 1. Step 2 should be reversed when you finish gathering the needed javacores. 


WHAT TO DO NEXT
 1. Review the log files and traces at the time of the problem to try to determine the source of the problem.
    
    
 2. Use IBM Support Assistant [http://www.ibm.com/software/support/isa/] to search for known problems in the information center, forums, and technotes.
    
    
 3. If you cannot find related problems or cannot solve the problem, send the information you have collected to IBM by following the instructions in Exchanging Information with IBM Technical Support. [http://www.ibm.com/software/support/exchangeinfo.html]
    
    

RELATED INFORMATION
 Documentation - Debugging with the Inspector [http://www.ibm.com/support/knowledgecenter/SSFPJS_8.0.0/com.ibm.wbpm.wle.editor.doc/topics/running_debugging_procs.html]
A simplified Chinese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21634449]






Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Process Manager Express Process Designer Linux, Windows 8.5, 8.0.1, 8.0, 7.5.1, 7.5 Business Integration IBM Business Process Manager Standard Process Designer AIX, Linux, Solaris, Windows 8.5, 8.0.1, 8.0, 7.5.1, 7.5 Business Integration IBM BPM Advanced Pattern on Red Hat Enterprise Linux Server Process Designer Linux Red Hat - xSeries 8.0.1, 8.0 Business Integration IBM Business Process Manager Advanced Pattern on AIX Process Designer AIX 8.0.1 
PRODUCT ALIAS/SYNONYM
 BPM