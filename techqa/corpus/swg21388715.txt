Title: IBM Insight Business Intelligence Server is unresponsive and appears to have crashed - United States

Text:
WAS; Insight; BI Server; crash; hang; unresponsive; WAS; java; core; logs; systemout.log; hung; crashes; frozen; AIO; stack; java; AioTCPReadRequestContextImp; 157; SocketTimeoutException; ASync; operation; time; out; timeout TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 On some server configurations, the IBM Rational Insight Report Server is unresponsive (crashes) and requires a restart to return to a normal state. 

SYMPTOM
The following errors may be seen in the WAS system out logs:

Stack Dump = java.net.SocketTimeoutException: Async operation timed out 

 at com.ibm.ws.tcp.channel.impl.AioTCPReadRequestContextImpl.processSyncReadRequest(AioTCPReadRequestContextImpl.java:157) 

 at com.ibm.ws.tcp.channel.impl.TCPReadRequestContextImpl.read(TCPReadRequestContextImpl.java:109) 

 at com.ibm.ws.http.channel.impl.HttpServiceContextImpl.fillABuffer(HttpServiceContextImpl.java:4127) 

 at com.ibm.ws.http.channel.impl.HttpServiceContextImpl.findBodyLength(HttpServiceContextImpl.java:3027)




CAUSE
The IBM WebSphere Application Server logs and Java core dump points to an issue with the asynchronous input / output Timer thread. On Windows and Linux, the underlying TCP/IP channel of WebSphere is configured by default to use non-blocking or asynchronous I/O (AIO) to provide high performance communications. However, this might lead to threading issues in the Web container and application.



RESOLVING THE PROBLEM
This problem can be resolved by disabling the AIO function: 


To disable the AIO function (remove the AIO libraries):

You can remove the libraries, but it is better simply to rename the libraries in the same directory so you will know where they are in case you need to re-enable them. Since they are native libraries and not Java .jar files, the name is critical for them to be loaded, so you just can change the extension of the libraries to something else. The libraries are located in the C:\Program Files\IBM\Rational Insight\AppServer\bin folder. Re-name the ibmaio.dll, and the ibmaiodbg.dll file through Windows explorer, or through command line:


move ibmaio.dll ibmaio.dis 

move ibmaiodbg.dll ibmaiodbg.dis



The application server must be recycled after the libraries have been removed or renamed.