Title: IBM Migration failure message generated when migrating a virtual portal that uses a realm other than the default realm - United States

Text:
WPv7000eGA; error; migrate; migration; migrating; virtual portal; realm; default realm; user ID; additional parameter; parameter; suppress error message; MigrationTrace.log; migration trace log; log TECHNOTE (TROUBLESHOOTING)

PROBLEM
An error message can be generated if you attempt to migrate a virtual portal that uses a realm other than the default realm and that realm does not contain the user ID of the Portal administrator. When this occurs, the migration itself completes as expected so there is no reason to perform the migration again. 

However, if you intend to migrate another virtual portal, you can specify an additional parameter to suppress the error message.


SYMPTOM
An error similar to the following is displayed in the MigrationTrace.log file: 


....
[exec] [wsStartApp] Started Application [MigratedThemes]
[exec] [mkdir] Created dir: C:\IBM\WebSphere\wp_profile\ConfigEngine\config\work\migration
[exec] [echo] name="XMLAccessUrl" value=
"http:/ /localhost:10039/wps_migrated/config/" overwrite="true"
[exec] [xmlaccess] EJPXB0006I: Connecting to URL 
http:/ /localhost:10039/wps_migrated/config/
[exec] [xmlaccess] EJPXB0004I: Writing output file C:\IBM\WebSphere\wp_profile\ConfigEngine\config\work\migration\exportedThemesAndSkins.xml
[exec] [xmlaccess] EJPXB0002I: Reading input file C:\IBM\WebSphere\PortalServer\installer\wp.config\config\templates\exportThemesAndSkins.xml
[exec] [xmlaccess] EJPXB0019E: Server response indicates an error. For status and details of the XmlAccess error look at file
C:\IBM\WebSphere\wp_profile\ConfigEngine\config\work\migration\exportedThemesAndSkins.xml.
[exec] [xmlaccess] EJPXB0019E: Server response indicates an error. For status and details of the XmlAccess error look at file
C:\IBM\WebSphere\wp_profile\ConfigEngine\config\work\migration\exportedThemesAndSkins.xml.

[exec] FAILURE_LOG_DIR=null
[exec] BUILD FAILED
[exec] C:\IBM\WebSphere\PortalServer\installer\wp.ear\config\includes\wp.ear.mig_cfg.xml:375:
EJPXB0019E: Server response indicates an error. For status and details of the XmlAccess error look at file
C:\IBM\WebSphere\wp_profile\ConfigEngine\config\work\migration\exportedThemesAndSkins.xml.
[exec] basepath = C:\IBM\WebSphere\PortalServer\installer\wp.ear

[exec] Total time: 24 minutes 11 seconds
[exec] isIseries currently set to: null
[exec] uploading registry
[exec] Created admin client: com.ibm.ws.management.AdminClientImpl@3b283b28
[exec] Created config Service Proxy: com.ibm.websphere.management.configservice.ConfigServiceProxy@4ea44ea4
[exec] CELL: stayfly
[exec] NODE: stayfly
[exec] Websphere:_Websphere_Config_Data_Type=Registry,_Websphere_Config_Data_Id=cells/stayfly|
registry.xml#Registry_1281876325593,_WEBSPHERE_CONFIG_SESSION=anonymous1282039978531

[exec] update-registry-sync-property:
[exec] Tue Aug 17 06:12:59 EDT 2010
[exec] [echo] updated RegistrySynchronized in file wkplc.properties with value: true
[exec] Return Value: 1
Target finished: update-wps-ear-themes-skins-screens Tue Aug 17 06:13:01 EDT 2010
****************************************************
*** END FRAMEWORK TARGET: post-import
****************************************************
Target finished: action-post-import [datetime] 
Target finished: action-import-portal-content [datetime]
Target finished: portal-post-upgrade [datetime]
Target finished: portal-post-upgrade [datetime]

BUILD FAILED
C:\IBM\WebSphere\wp_profile\PortalServer\migration\mig_ant_driver.xml:220: The following error occurred while executing this line:
C:\IBM\WebSphere\wp_profile\PortalServer\migration\components\wp.migration.postupgrade\mig_ant.xml:133: The following error occurred while executing this line:
C:\IBM\WebSphere\wp_profile\PortalServer\migration\components\wp.migration.postupgrade\mig_ant.xml:172: The following error occurred while executing this line:
C:\IBM\WebSphere\wp_profile\PortalServer\migration\components\wp.migration.postupgrade\mig_ant.xml:209: The following error occurred while executing this line:
C:\IBM\WebSphere\wp_profile\PortalServer\migration\mig_ant_driver.xml:566: The following error occurred while executing this line:
C:\IBM\WebSphere\wp_profile\PortalServer\migration\components\wp.migration.admin\mig_ant.xml:262: exec returned: 1


RESOLVING THE PROBLEM
When this error occurs, the migration itself completes as expected and you do not have to perform the migration again. 

If you intend to migrate another virtual portal, you can suppress the error message by adding the property, "-DDoNotMigrateThemesAndSkins=true", to the WPMigrate command when you run the portal-post-upgrade task.