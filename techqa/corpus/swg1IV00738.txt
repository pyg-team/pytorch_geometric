Title: IBM IV00738: REORDER DOES NOT RUN WHEN A WF PROCESS IS SET FOR "PRS ON REORDER" IN THE WORKFLOW OPTIONS IN THE ORGANIZATION APPLICATION - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Reorder does not run when a WF Process is set for "PRs on
   Reorder" in the Workflow Options in the Organization application
   
   When the field on Orgs - Workflow Options for PR on Reorder is
   left blank then Reorder runs.
   
   Reproduced so far in 7.5.0.1, 7.1.1.6, 7.1.1.7, 7.1.1.8 and
   7.1.1.9.
   
   Steps to reproduce:
   1. Set up an Item in Inventory that will be Reordered when
      Reorder runs.   You can test in the Inventory app by
      selecting Reorder from the menu and clicking the Preview
      button.
   2. Create a WF process for PRs with just a single Task node
      assigned to Originator.  Save, Enable, and Activate the
      process.
   3. On the Organizations app, choose your Org and then open
      Select Action - Workflow Options.
   4. On the WF Options dialog, select your Site and put in
      the name of the WF process made in Step 2 for PRs on
      Reorder.   Save.
   5. Go back to Inventory and try to run Reorder.   For results
      you will get the results dialog showing no PRs created and
      nothing reordered.
   
   But if you go back to Orgs and remove the WF process from the WF
   Options you can run Reorder and the Item will be reordered.
   
   In the log we see:
   
   19 May 2011 18:01:49:363 [ERROR] Workflow PRDAWN started in
   background threw an exception, unable to
    initiate.
   psdi.util.MXAccessException: BMXAA0024E - SAVE is not allowed on
   PR.
           at psdi.mbo.MboSet.save(MboSet.java:6629)
           at psdi.mbo.MboSet.save(MboSet.java:6594)
           at psdi.app.pr.PRSet.save(PRSet.java:170)
           at
   psdi.workflow.WFInstance.saveInstance(WFInstance.java:429)
           at
   psdi.workflow.WFCallStackSet.saveInstance(WFCallStackSet.java:37
   3)
           at
   psdi.workflow.WFCallStackSet.applyWorkflowAction(WFCallStackSet.
   java:230)
           at
   psdi.workflow.WFCallStackSet.initiateWorkflow(WFCallStackSet.jav
   a:136)
           at
   psdi.workflow.WFInstance.initiateWorkflow(WFInstance.java:126)
           at
   psdi.workflow.WFProcess.initiateWorkflow(WFProcess.java:712)
           at
   psdi.workflow.virtual.InitiateWorkflowMboSet.execute(InitiateWor
   kflowMboSet.java:89)
           at
   psdi.workflow.WorkFlowService.initiateWorkflow(WorkFlowService.j
   ava:270)
           at
   psdi.app.inventory.ReorderSet.PostProcessingPR(ReorderSet.java:1
   400)
           at
   psdi.app.inventory.ReorderSet.reorder(ReorderSet.java:990)
           at
   psdi.app.inventory.virtual.ReorderItemsSet.execute(ReorderItemsS
   et.java:115)
           at
   psdi.webclient.beans.common.ReorderpadBean.reorderresults(Reorde
   rpadBean.java:117)
           at
   psdi.webclient.beans.common.ReorderpadBean.reorderresultsitem(Re
   orderpadBean.java:153)
           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
   Method)
           at
   sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessor
   Impl.java:39)
           at
   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethod
   AccessorImpl.java:25)
           at java.lang.reflect.Method.invoke(Method.java:597)
           at
   psdi.webclient.system.session.AsyncProcess.run(AsyncProcess.java
   :95)
           at java.lang.Thread.run(Thread.java:662)
   
   I will attach more of the log when the Issue is made.
   
   
    
   
   

LOCAL FIX
 *  (none)
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: maximo users                                 *
   ****************************************************************
   * PROBLEM DESCRIPTION: REORDER DOES NOT RUN WHEN A WF PROCESS  *
   *                      HAS BEEN ENTERED FOR "PRS ON REORDER"   *
   *                      IN THE WORKFLOW OPTIONS IN THE          *
   *                      ORGANIZATION APPLICATION                *
   *                                                              *
   ****************************************************************
   * RECOMMENDATION:                                              *
   *                                                              *
   *                                                              *
   *                                                              *
   ****************************************************************
   REORDER DOES NOT RUN WHEN A WF PROCESS HAS BEEN ENTERED FOR
   "PRS ON REORDER" IN THE WORKFLOW OPTIONS IN THE ORGANIZATION
   APPLICATION
   
   
    
   
   

PROBLEM CONCLUSION
 *  <The L2 said the problem for the APAR was not described
   accurately for the PMR. He said he would create a new APAR. The
   workflow I created worked fine. The workflow the L2 used has
   some problems under some conditions but had a  work around. In
   essence, the work flows we used are different from the work
   flow used by the client. I am closing this APAR. and expecting
   a new APAR that describes the problem better. >
   
   
   
   
   
   The fix for this APAR is contained in the following maintenance
   package:
   
     | release\fix pack | REL 7.1.1.9 - BS
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV00738
   
   
 * REPORTED COMPONENT NAME
   ADMINISTRATION
   
   
 * REPORTED COMPONENT ID
   5724R46A1
   
   
 * REPORTED RELEASE
   711
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-05-20
   
   
 * CLOSED DATE
   2011-06-12
   
   
 * LAST MODIFIED DATE
   2011-06-12
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  MAXIMO
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ADMINISTRATION
   
   
 * FIXED COMPONENT ID
   5724R46A1
   
   

APPLICABLE COMPONENT LEVELS
 * R711 PSY
   UP