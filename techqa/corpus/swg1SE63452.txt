Title: IBM SE63452: MQ V7.1 COULD SEE INCREASED MEMORY AND CPU USAGE WHEN USING MODEL QUEUES - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Higher memory and possible CPU usage may be observed if using
   MQ model queues to generate Temporary Dynamic Queues (TDQ)
   AND there has been corruption in a migrated model queue that is
   being used to generate these TDQs.
   
   The longer the Queue Manager runs without restart, the more
   TDQ activity may cause more memory allocation for TDQ
   tracking. This impacts run time performance creating queues
   (including TDQs). Other MQ activity may be adversely impacted,
   most notably when the MQ checkpoint process runs and/or the
   queue manager is shutdown.
   
   If the TDQ usage is intense enough and the Queue Manager runs
   long enough, the QM may crash indicating a memory shortage.
   .
   Additional symptoms:
   performance slow slowness
   ENDMQM taking long time to complete may be due to this bug
   
   
    
   
   

LOCAL FIX
 *  Either delete and recreate the affected model queue or restart
   the Queue Manager more frequently to free up memory
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   MQ users who have migrated from a previous version and use
   temporary dynamic queues
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   The combination of a corrupted q file for a model queue with the
   generation of many temporary dynamic queues can result in a
   memory leak in MQ shared memory segments. Over time, this can
   result in poor performance in MQ such as long checkpoint times
   and queue manager shutdowns.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The IBM MQ code has been modified to account for corrupted q
   file fields which can result in temporary dynamic queues not
   being cleaned up properly.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v7.1       7.1.0.8
   v7.5       7.5.0.5
   v8.0       8.0.0.2
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   SE63452
   
   
 * REPORTED COMPONENT NAME
   WMQ ISERIES V7
   
   
 * REPORTED COMPONENT ID
   5724H7226
   
   
 * REPORTED RELEASE
   710
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-12-04
   
   
 * CLOSED DATE
   2015-12-08
   
   
 * LAST MODIFIED DATE
   2016-11-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  RCHMGR
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ ISERIES V7
   
   
 * FIXED COMPONENT ID
   5724H7226
   
   

APPLICABLE COMPONENT LEVELS
 * R710 PSY
   UP