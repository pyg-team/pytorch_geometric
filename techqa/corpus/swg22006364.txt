Title: IBM FileNet Content Platform Engine intermittendly fails to get a JAAS subject in a workflow subscription - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Intermittendly and very rarely workflow subscriptions fails to execute, but are usually successful on the 2nd try. 

SYMPTOM
In the Content Platform Engine (CPE) Error Logs, following error can be observed:
EVNT FNRCV0006E - ERROR Exception in method onEvent() of handler filenet.pe.ce.wfeventhandler.WorkflowEventActionHandler com.filenet.api.exception.EngineRuntimeException: FNRCV0006E: EVENT_HANDLER_THREW: An exception occurred in the event handler. Message was: Failed to get a JAAS subject.



CAUSE
The cause for the problem is unknown.


RESOLVING THE PROBLEM
Set the option 
-Dcom.filenet.engine.init.BGThreadsAsBootstrapId=true on the Java Runtime environment where
the CPE server is running.

CPE performs asynchronous tasks with a pool of background threads. By default, those threads are started with no particular security context. If a security context is needed, the background task would provide it.

If "com.filenet.engine.init.BGThreadsAsBootstrapId" is set to true, those threads are started with a security context that uses a JAAS Subject based on the CPE bootstrap credentials. In that case, even if a background task does not create a security context, the bootstrap security context should still be active.



Cross reference information Segment Product Component Platform Version Edition Enterprise Content Management FileNet P8 Platform Process Engine Windows, AIX, HP-UX, Linux, Solaris 5.2.1