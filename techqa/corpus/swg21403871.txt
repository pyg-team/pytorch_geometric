Title: IBM Why am I sometimes unable to find documents when searching using, one or more of their multi-valued attributes, the Contains operator and an underscore character in the search value? - United States

Text:
wildcard; Contains; multi-valued; multivalued; underscore; LIKE clause; LIKE predicate TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 In DB2Â® Document Manager, why am I sometimes unable to find documents when searching using, one or more of their multi-valued attributes, the Contains operator and an underscore character in the search value? 

SYMPTOM
An unexpected number of documents are returned when searching for documents having multi-valued attributes, when searching using a multi-valued attribute and an underscore character as the search value.


CAUSE
There are two points to be noted: 

 * the underscore character (_) is a wildcard character in DB2 UDB, DB2 Document Manager and DB2 Information Integrator for Content, and it represents any single character when used in a search or query. 
 * the DB2 Document Manager search operator, Contains, is translated to the LIKE SQL predicate


RESOLVING THE PROBLEM
The search criteria <Attr1 Contains b_c> is translated to SQL as <Attr1 LIKE "b_c"> and this will return therefore only those documents whose Attr1 values are like "b<any character>c". For example documents matching this criteria are those that have "Attr1=b_c" or "Attr1=bdc", but not "a,b_c,d". 

 * The search criteria <Attr1 Contains %b_c%> is translated to SQL as <Attr1 LIKE "%b_c%"> and this will return documents whose Attr1 value is like "<0 or more characters>b_c<0 or more characters>". For example, documents matching this criteria are those that have "Attr1=b_c" or "Attr1=bdc", or "Attr1=a,b_c,d". 
 * The percent sign "%", and asterisk (*) are both wildcard characters that represents 0 or more characters and can be used interchangeably to return the same results.

RELATED INFORMATION
 Using wildcard characters with attributes of character [http://publib.boulder.ibm.com/infocenter/cmgmt/v8r4m0/topic/com.ibm.programmingcm.doc/dcmaq036.htm]
LIKE predicate [http://publib.boulder.ibm.com/infocenter/db2luw/v8//topic/com.ibm.db2.udb.doc/admin/r0000751.htm]
Searching in Document Manager [http://publib.boulder.ibm.com/infocenter/cmgmt/v8r4m0/topic/com.ibm.administeringddm.doc/ddmqr020.htm]