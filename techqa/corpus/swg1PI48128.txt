Title: IBM PI48128: WMQ ABEND 0C4 S0C4 ABN 0C4-00000011 M=CSQXDISP LOC=CSQXRCTL.CSQXRSCL - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Abend 0C4 in Channel initiator (CHIN CHINIT)
   +CSQX112E CSQXDISP Dispatcher process error, TCB=009B1B00
             reason=0C4000-00000011
   IEA794I SVC DUMP HAS CAPTURED:
   DUMPID=001 REQUESTED BY JOB (CSQ1CHIN)
   DUMP TITLE=CSQ1,ABN= 0C4-00000011,C=R3600.710.CHIN,M=CSQXDISP,
              LOC=CSQXRCTL.CSQXRSCL
   .
   The abend occurs while comparing the SSLPEER value for the
   channel against the DN attributes in the certificate due to an
   attempt to access storage beyond the end of the SSLPEER string.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS Version 7 *
   *                 Release 1 Modification 0.                    *
   ****************************************************************
   * PROBLEM DESCRIPTION: Abend S0C4 occurs in                    *
   *                      LOC=CSQXRCTL.CSQXRSCL during startup of *
   *                      an SSL/TLS channel with SSLPEER set.    *
   *                      The abend is followed by message:       *
   *                      "                                       *
   *                      CSQX112E CSQXDISP Dispatcher process    *
   *                      error, TCB=xxxxxxxx,                    *
   *                      reason=0C4000-00000011'                 *
   *                      "                                       *
   *                      Following the error, further errors     *
   *                      will occur for channels running on      *
   *                      or starting on the failed dispatcher.   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   During startup for a channel using SSL/TLS, the Distinguished
   Name in the peer certificate is compared against the values
   specified in the SSLPEER attribute of the channel definition.
   During this comparison it is possible for storage beyond the
   end of the SSLPEER string to be accessed, and if this storage is
   unavailable, the reported abend 0C4 can occur.
   
   
    
   
   

PROBLEM CONCLUSION
 *  rsxCompareSSLPeerStrings is updated to check the remaining
   length of the SSLPEER value to avoid the invalid access to
   storage beyond its end, and prevent the abend occurring.
   100Y
   CMQXRSCL
   CSQXRSCL
   
   
    
   
   

TEMPORARY FIX
 *  *********
   * HIPER *
   *********
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI48128
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   100
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-09-03
   
   
 * CLOSED DATE
   2015-10-26
   
   
 * LAST MODIFIED DATE
   2016-01-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PI50535 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI50535] UI32353
   
   

MODULES/MACROS
 *  CMQXRSCL CSQXRSCL
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R100 PSY UI32353 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI32353]
   UP15/12/15 P F512 Â½
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.