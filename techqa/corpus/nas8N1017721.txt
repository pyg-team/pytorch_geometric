Title: IBM What UPS Monitor Program Should Do for JS Scheduler - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document describes what a UPS monitor program should do relative to the advanced job scheduler. 

RESOLVING THE PROBLEM
This document describes what a UPS monitor program should do relative to the advanced job scheduler. 

First, a word on how group jobs and dependent jobs are handled by the job scheduler. Checking for dependencies is handled by the job scheduler monitor program. If the monitor is ended, it cannot submit any additional dependent jobs to their job queues. Group jobs are handled differently in that the job scheduler monitor submits the first job of a group to its job queue when it is time to initiate the group. As each job in the group ends, it submits the next job in the group to run assuming that there is no reason for it to suppress the next job from running. Therefore, after the first job of a group is submitted, running the remaining jobs in the group is controlled by the group jobs. The job scheduler monitor program is no longer involved.

A UPS monitor program should end the job scheduler monitor using the ENDJS *MONITOR command. This causes it to stop submitting any new dependent jobs. If any group jobs are defined to the scheduler, the various job queues used for running the group jobs should be held using the HLDJOBQ jobqueue-name command. If the UPS monitor program detects that system utility power has been restored prior to its taking action to power down the system, the UPS monitor program should restart the job scheduler monitor using the STRJS *MONITOR command, and it should release any job queues that it placed on hold. If the recovery action defined for the job scheduler jobs is *SBMRLS, the dependent jobs and initial group jobs that may have missed their intended submission time are still submitted. 

If the system is powered down by the UPS program causing an active dependent job to abort, when the system is re-IPLed, the job scheduler monitor is restarted and the dependencies are checked prior to submitting new dependent jobs. If a power-down causes a group job to abort, it will not have submitted the next job in the group. If a group job completed prior to a UPS monitor program forced the power-down, the next job in the group was submitted and will run after the system IPLs back up. If the UPS monitor program placed job queues on hold, the job queues do not need to be released. This can be done manually by operations personnel. However, optimally, it should be done by the system startup program.

 


Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 6.1 Operating System IBM i 7.1 Operating System IBM i 7.3 Operating System IBM i 7.2 
HISTORICAL NUMBER
 20080933