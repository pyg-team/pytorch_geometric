Title: IBM IV68539: BIZAPP CREATE FAILS IN 7.3 IF WRONG ORACLE DRIVER FILES - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  During the topo phase, when BizAppAgent is running, if the
   incorrect version of Oracle is used or the wrong driver files
   are copied, any of the following errors may occur;
   
   
   </excludedRelationships></instance></traversalConfiguration></xm
   l> for
   column "CDTADM.GPCONFIG.XD_X" : Unsupported feature
    at
   org.datanucleus.jdo.NucleusJDOHelper.getJDOExceptionForNucleusEx
   ception(
   NucleusJDOHelper.java:313)
   
   
   2015-01-15 15:03:17,279 TopologyBuilder
   [TopologyBuilder-InitThread]  ERROR jdo.JdoStartup -
   JdoStartup.init failed
   java.lang.NoClassDefFoundError:
   oracle.xml.binxml.BinXMLMetadataProvider
   
   
   2015-01-16 11:05:40,369 PatternsSchedulingService
   [default_Worker-1]  ERROR serviceinfrastructure.BizAppsAgent -
   java.rmi.RemoteException: CTJOX0193E The application cannot get
   objects from the Topology Manager: java.rmi.RemoteException:
   CTJOX0193E The application cannot get objects from the Topology
   Manager: java.rmi.RemoteException:
   oracle.jdbc.driver.OracleSQLXML incompatible with
   oracle.sql.OPAQUE; nested exception is:
   
           java.lang.ClassCastException:
   oracle.jdbc.driver.OracleSQLXML incompatible with
   oracle.sql.OPAQUE..
   
   
   
   
   2015-01-26 15:47:34,884 ApiServer [RMI TCP
   Connection(727)-10.199.208.116]  ERROR
   topomgr.TopologyManagerFactory - findWithCursor invocation
   failed
   
   java.lang.IllegalAccessError
   
   
   
   For Oracle support in TADDM 7.3 the documentation already states
   that we require version 11.2.0.3, eg;
   
   Patch Set 3 (11.2.0.3) or later required.
   
   Additional libraries required:
   
   ojdbc6.jar - the JDBC driver file,
   xdb6.jar, xmlparserv2.jar - libraries for XML support.
   
   
   
   The first two errors occur if ojdbc6.jar is not the 11.2.0.3
   version.  You can see this problem via the tomcat.log message;
   
   
   2015-01-23 17:04:08,847  [localhost-startStop-1]  DEBUG
   util.CommonDriverManager - JDBC driver version: 11 2 Oracle JDBC
    driver 11.2.0.2.0
   
   Note that is below the recommended 3 level.
   
   However, the doc is not specific regarding the other two files.
   There may be multiple copies of these files which differ on the
   Oracle server. Specifically for 11.2.0.3 you need to copy from
   your oracle server these files;
   
   
   ..app/oracle/product/11.2.0.3/dbhome_1/xdk/lib/xmlparserv2.jar
   
   
   
   
   ../app/oracle/product/11.2.0.3/dbhome_1/rdbms/jlib/xdb6.jar
   
   to dist/lib/jdbc directory on your TADDM server along with the
   proper ojdbc6.jar from Oracle 11.2.0.3 or above.
   
   The documentation will be updated to explicitly state the
   location of the files to be copied and where they are to be
   copied to.
   
   
    
   
   

LOCAL FIX
 *  Copy the proper files from the Oracle Server to dist/lib/jdbc as
   noted above.
   
   
    
   
   

PROBLEM SUMMARY
 *  During the topo phase, when BizAppAgent is running, while
   creating a BizApp getting    NullPointerException
   
   CAUSE: Improper content of the XD where the XML is read from
   PatternConfiguration.xml.
   
   com.collation.platform.model.topology.customCollection.PatternCo
   nfigurat
   ion WARN jdo.BaseJdo - 3FE72643AE653B64B433367E9D530BB7-0
   javax.jdo.JDODataStoreException: Cannot set String parameter:
   value =
   <xml><general><instance><maxHopsLimit>10</maxHopsLimit><infoLeve
   l>GENERA
   L</infoLevel></instance></general><compositionConfiguration><ins
   tance><i
   ncludeInComposition>
               <include type="simple.SComputerSystem"/>
   ....
   ....
   ....
        <exclude relation="{any}" source="{any}"
   target="uri.URIAccessPoint"/>
   
   </excludedRelationships></instance></traversalConfiguration></xm
   l> for
   column "CDTADM.GPCONFIG.XD_X" : Unsupported feature
   at
   org.datanucleus.jdo.NucleusJDOHelper.getJDOExceptionForNucleusEx
   ception(
   NucleusJDOHelper.java:313)
   
   
    
   
   

PROBLEM CONCLUSION
 *  The following changes will be made in the next release of the
   publications:
   Topic: Installing>Planning for installation>TADDM server
   requirements>Database server software requirements
   Topic: Installing>Installing TADDM>Installing TADDM
   servers>Installing TADDM servers using the installation
   wizard>Installing a domain server using the installation wizard
   Topic: Installing>Installing TADDM>Installing TADDM
   servers>Installing TADDM servers using the installation
   wizard>Installing a synchronization server using the
   installation wizard
   Topic: Installing>Installing TADDM>Installing TADDM
   servers>Installing TADDM servers using the installation
   wizard>Installing the primary storage server using the
   installation wizard
   Topic: Installing>Upgrading TADDM>Upgrading the TADDM server
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV68539
   
   
 * REPORTED COMPONENT NAME
   APP DEPENDENCY
   
   
 * REPORTED COMPONENT ID
   5724N5500
   
   
 * REPORTED RELEASE
   730
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-01-14
   
   
 * CLOSED DATE
   2015-02-25
   
   
 * LAST MODIFIED DATE
   2016-06-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS