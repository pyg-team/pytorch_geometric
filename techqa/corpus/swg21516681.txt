Title: IBM CWPZI8735E ZEROSERV RC231 when entering zero create CICS_Dynamic_Scripting - United States

Text:
ICH408I MSGICH408I CWPZI8735E RC231 ; RC 231; RC=231 MSGCWPZI8735E CWPZI8735 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97 KIXINFO retention41 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You receive message CWPZI8735E Request failed with ZEROSERV return code=231 (RC=231). This occurs when you enter the command " zero create CICS_Dynamic_Scripting " in OMVS. You are trying to install the CICS Transaction Server for z/OS (CICS TS) V4.1 Feature Pack for Dynamic Scripting. 

SYMPTOM
The complete message that you are receiving is CWPZI8735E [http://www.ibm.com/support/knowledgecenter/SSGMCP_4.1.0/com.ibm.cics.ts.smash.doc/messages/CWPZI8735E.html] Request failed. ZEROCICS return code=0, ZEROSERV return code=231. 

If you review the Syslog you will see RACF message ICH408I Insufficient Authority to Open.

You are following the steps in the CICS documentation under "Creating your first dynamic scripting application". 


CAUSE
The return code of 231 in message CWPZI8735E means Failed to open trace FIFO pipe.

There are two tasks that get invoked whenever zero is run from the command line. One task is for the zero program that is called from the command line and the other task performs the backend processing in the CICS address space. The two tasks communicate with each other over a pipe.

When the zero command is issued, zero program is started and it opens several pipes including a CICS trace pipe. The CICS backend task is then invoked by the EXCI interface. The failure occurs when this backend task attempts to open the CICS trace pipe because it does not have permission to open the pipe.

RESOLVING THE PROBLEM
Ensure that installation script install inside the 'zero' directory is run as part of the installation. When run, this will turn on the SETGID [http://publib.boulder.ibm.com/infocenter/zos/v1r12/index.jsp?topic=%2Fcom.ibm.zos.r12.bpxb600%2Fsgi.htm]bit in the zero directory as expected by CICS Dynamic Scripting. Afterwards, when the pipes are created by the Dynamic Scripting user, they will be created with the relevant access permissions that allow the CICS region as a member of the same group to write data. 

More information on this can be seen in step 9 of the installation process documented in the section entitled Installing the feature pack [http://www.ibm.com/support/knowledgecenter/SSGMCP_4.1.0/com.ibm.cics.ts.smash.doc/smash_installation.html] in the CICS TS V4.1 documentation.
9 .Set the permissions for the zero directory to enable CICS and command-line interface users to read and write to them. Use the provided script, install. 

 1. Ensure that the script has the correct permissions by entering the command chmod +x ./install. 
 2. Run the script by entering the command ./install newgroup, where newgroup is the name of the z/OS UNIX group that contains the IDs for the required CICS regions and command-line interface users.

 

PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server