Title: IBM IZ01766: LOAD INVOKED THROUGH SYSPROC.DB2LOAD() MIGHT CAUSE DATA         CORRUPTION IN DPF ENVIRONMENT - United States

Text:
AIX  FIXES ARE AVAILABLE
DB2 Version 9.1 Fix Pack 4a for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24018314]
DB2 Version 9.1 Fix Pack 7 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24022678]
DB2 Version 9.1 Fix Pack 5 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24019146]
DB2 Version 9.1 Fix Pack 6 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24020890]
DB2 Version 9.1 Fix Pack 6a for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24021876]
DB2 Version 9.1 Fix Pack 7a for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24024113]
DB2 Version 9.1 Fix Pack 8 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24024502]
DB2 Version 9.1 Fix Pack 9 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24026384]
DB2 Version 9.1 Fix Pack 10 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24029027]
DB2 Version 9.1 Fix Pack 11 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24031281]
DB2 Version 9.1 Fix Pack 12 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24033023]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  In a partitioned database environment, a load operation invoked
   through the trusted system stored procedure SYSPROC.DB2LOAD()
   could cause corruption by overwriting DB2 files with content
   from the LOAD messages file.
   .
   For example, the following corruption has been seen at the
   beginning of a SQL0000n.INX file (Page 0 header):
   .
   000 *5351 4C33 3330 344E 2020 5468 6520 7461*
   010 *626C 6520 646F 6573 206E 6F74 2065 7869*
   020 *7374 2E0A 0A00 0000 0000 0000 0000 0000*
   030 *
   .
   This matches the following ASCII string:
   .
   "SQL3304N..The.table.does.not.exist"
   .
   The problem is caused by an improper handling of the file handle
   that belongs to the LOAD messages file. This problem can occur
   regardless of whether the messages file option is specified when
   you call the SYSPROC.DB2LOAD() stored procedure.
   
   Third-party vendor applications (such as ETL tools) that perform
   LOAD operations using this system stored procedure can thus
   affect the database server.
   
   
    
   
   

LOCAL FIX
 *  Do not invoke the LOAD utility using the SYSPROC.DB2LOAD()
   stored procedure.  If possible, use one of the following
   instead:
   
   - Native LOAD utility (from DB2 CLP)
   - db2Load() API
   - If not using Connect type 2, invoke LOAD through ADMIN_CMD()
   (V9 release only).
   
   
    
   
   

PROBLEM SUMMARY
 *  Users Affected = All users of sysproc.db2load() procedure or
   using a third party vendor product performing LOAD through this
   procedure.
   Problem Description = Load invoked through sysproc.db2load()
   might cause corruption in dpf environment.
   Problem Summary = Load invoked through sysproc.db2load()
   might cause corruption in dpf environment.
   
   
    
   
   

PROBLEM CONCLUSION
 *  First fixed in V9.1 Fixpak 4a
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ01766
   
   
 * REPORTED COMPONENT NAME
   DB2 UDB ESE AIX
   
   
 * REPORTED COMPONENT ID
   5765F4100
   
   
 * REPORTED RELEASE
   910
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-07-20
   
   
 * CLOSED DATE
   2008-04-30
   
   
 * LAST MODIFIED DATE
   2008-04-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    IZ01765 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ01765]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 UDB ESE AIX
   
   
 * FIXED COMPONENT ID
   5765F4100
   
   

APPLICABLE COMPONENT LEVELS
 * R810 PSN
   UP
   
   
 * R820 PSN
   UP
   
   
 * R910 PSN UP
   IZ01766
   
   
 * R950 PSN
   UP