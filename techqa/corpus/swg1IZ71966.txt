Title: IBM IZ71966: NC/MTTRAPD PROBE CRASHES - United States

Text:
  DIRECT LINKS TO FIXES
7.3.0-TIV-NCOMNIbus-Windows-FP0017 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Windows-FP0017&source=SAR]
7.3.0-TIV-NCOMNIbus-Solaris-FP0017 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Solaris-FP0017&source=SAR]
7.3.0-TIV-NCOMNIbus-Linux-FP0017 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Linux-FP0017&source=SAR]
7.3.0-TIV-NCOMNIbus-ZLinux-FP0017 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-ZLinux-FP0017&source=SAR]
7.3.0-TIV-NCOMNIbus-HPUXIA-FP0017 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-HPUXIA-FP0017&source=SAR]
7.3.0-TIV-NCOMNIbus-AIX-FP0017 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-AIX-FP0017&source=SAR]
7.3.0-TIV-NCOMNIbus-Windows-FP0016 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Windows-FP0016&source=SAR]
7.3.0-TIV-NCOMNIbus-Solaris-FP0016 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Solaris-FP0016&source=SAR]
7.3.0-TIV-NCOMNIbus-Linux-FP0016 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Linux-FP0016&source=SAR]
7.3.0-TIV-NCOMNIbus-ZLinux-FP0016 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-ZLinux-FP0016&source=SAR]
7.3.0-TIV-NCOMNIbus-HPUXIA-FP0016 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-HPUXIA-FP0016&source=SAR]
7.3.0-TIV-NCOMNIbus-HPUX-FP0016 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-HPUX-FP0016&source=SAR]
7.3.0-TIV-NCOMNIbus-AIX-FP0016 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-AIX-FP0016&source=SAR]
7.3.0-TIV-NCOMNIbus-Windows-FP0015 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Windows-FP0015&source=SAR]
7.3.0-TIV-NCOMNIbus-Solaris-FP0015 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Solaris-FP0015&source=SAR]
7.3.0-TIV-NCOMNIbus-Linux-FP0015 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Linux-FP0015&source=SAR]
7.3.0-TIV-NCOMNIbus-ZLinux-FP0015 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-ZLinux-FP0015&source=SAR]
7.3.0-TIV-NCOMNIbus-HPUXIA-FP0015 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-HPUXIA-FP0015&source=SAR]
7.3.0-TIV-NCOMNIbus-HPUX-FP0015 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-HPUX-FP0015&source=SAR]
7.3.0-TIV-NCOMNIbus-AIX-FP0015 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-AIX-FP0015&source=SAR]
7.3.0-TIV-NCOMNIbus-Linux-FP0006 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Linux-FP0006&source=SAR]
7.3.0-TIV-NCOMNIbus-Windows-FP0006 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Windows-FP0006&source=SAR]
7.3.0-TIV-NCOMNIbus-Solaris-FP0006 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-Solaris-FP0006&source=SAR]
7.3.0-TIV-NCOMNIbus-ZLinux-FP0006 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-ZLinux-FP0006&source=SAR]
7.3.0-TIV-NCOMNIbus-HPUX-FP0006 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-HPUX-FP0006&source=SAR]
7.3.0-TIV-NCOMNIbus-AIX-FP0006 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+OMNIbus&fixids=7.3.0-TIV-NCOMNIbus-AIX-FP0006&source=SAR]
Tivoli Netcool/OMNIbus 7.3.0 Fix Pack 3, 7.3.0-TIV-NCOMNIbus-FP0003 [http://www-01.ibm.com/support/docview.wss?uid=swg24026686]
Tivoli Netcool/OMNIbus 7.3.0 Fix Pack 4, 7.3.0-TIV-NCOMNIbus-FP0004 [http://www-01.ibm.com/support/docview.wss?uid=swg24027482]
Tivoli Netcool/OMNIbus 7.3.0 Fix Pack 5, 7.3.0-TIV-NCOMNIbus-FP0005 [http://www-01.ibm.com/support/docview.wss?uid=swg24028127]
Tivoli Netcool/OMNIbus 7.3.0 Fix Pack 13, 7.3.0-TIV-NCOMNIbus-FP0013 [http://www-01.ibm.com/support/docview.wss?uid=swg24036691]
Tivoli Netcool/OMNIbus 7.2.1 Fix Pack 15, 7.2.1-TIV-NCOMNIbus-FP0015 [http://www-01.ibm.com/support/docview.wss?uid=swg24036693]
Tivoli Netcool/OMNIbus 7.3.0 Fix Pack 14, 7.3.0-TIV-NCOMNIbus-FP0014 [http://www-01.ibm.com/support/docview.wss?uid=swg24036692]
Tivoli Netcool/OMNIbus 7.3.0 Fix Pack 15, 7.3.0-TIV-NCOMNIbus-FP0015 [http://www-01.ibm.com/support/docview.wss?uid=swg24039199]
Tivoli Netcool/OMNIbus 7.3.0 Fix Pack 16, 7.3.0-TIV-NCOMNIbus-FP0016 [http://www-01.ibm.com/support/docview.wss?uid=swg24039351]
Tivoli Netcool/OMNIbus 7.2.1 Fix Pack 13, 7.2.1-TIV-NCOMNIbus-FP0013 [http://www-01.ibm.com/support/docview.wss?uid=swg24031554]
Tivoli Netcool/OMNIbus 7.3.0 Fix Pack 17, 7.3.0-TIV-NCOMNIbus-FP0017 [http://www-01.ibm.com/support/docview.wss?uid=swg24039352]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Customer send SNMP Traps at the same time to two mttrapd Probes,
   running in
   peer mode. Here and then the probes are crashing simultaneously.
   We assume that the Traps are the problem. In the Debug Log, the
   traps are
   always named by the PID of the probe process.
   
   In the syslog there are entries like below:
   
   messages:Jan  5 08:21:19 ombbk01 kernel: nco_p_mttrapd[18227]:
   segfault
   at 000000000000004d rip 00000000f7dc1c23 rsp 00000000ff8e8d30
   error 4
   messages:Jan  5 10:49:20 ombbk01 kernel: nco_p_mttrapd[21369]:
   segfault
   at 0000000000000028 rip 00000000f7d685d3 rsp 00000000ffe84a84
   error 6
   
   In Probe debug log, there are messages like below:
   
   20.01.2010 14:36:17: Error: [Event Processor] OplSessionProcess
   failed:  malloc() failed
   
   Probes used are
   nco_p_mttrapd 11_0
   tivoli_eif 7_0
   nonnative base 5_1
   on SLES 10 Patchlevel 3 64bit
   Kernel 2.6.16.60
   
   L3 succesfully replicated issue and confirmed to raise apar.
   
   
    
   
   

LOCAL FIX
 *  No local fix
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Users of any probes with rules that make use of the nvp_add
   function.
   ****************************************************************
   PROBLEM DESCRIPTION:
   A probe crashes when a long string gets passed to the nvp_add()
   function in a rule.
   ****************************************************************
   RECOMMENDATION:
   Apply the maintenance packages listed in the Problem Conclusion.
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is contained in the following maintenance
   packages:
   
   | fix pack | 7.2.1-TIV-NCOMNIbus-FP0008
   | fix pack | 7.3.0-TIV-NCOMNIbus-FP0002
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ71966
   
   
 * REPORTED COMPONENT NAME
   NC/OBUS MTTRAPD
   
   
 * REPORTED COMPONENT ID
   5724P03MT
   
   
 * REPORTED RELEASE
   721
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2010-03-03
   
   
 * CLOSED DATE
   2010-03-25
   
   
 * LAST MODIFIED DATE
   2010-03-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   NETCOOL/OMNIBUS
   
   
 * FIXED COMPONENT ID
   5724O4800
   
   

APPLICABLE COMPONENT LEVELS
 * R721 PSN
   UP