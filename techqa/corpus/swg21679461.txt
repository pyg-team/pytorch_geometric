Title: IBM DPR-ERR-2002 while testing datasource - United States

Text:
DPR-ERR-2002 while testing datasource DPR-DPR-1035 Dispatcher BibusTKServerMain missing shared tcr TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After having configured a datasource, the connection test fails with:

DPR-ERR-2002 Unable to execute the request because there was no process 

SYMPTOM
Message DPR-ERR-2002 indicates a more severe error with Cognos Engine. 

In this case, cogserver.log can provide more details about possible root causes. 

In most cases you can find something like:
-------------
DPR-DPR-1035 Dispatcher detected an 
error.</messageString></message><message><messageString>Process BIBusTKServerMain failed to start 
-------------

while the Pogo files show:

2014-07-07 11:31:53.684 FATAL [m.cognos.pogo.reportservice.ProcessManager] Thread-82: External Report Server process BIBusTKServerMain cannot be started java.io.IOException: Process BIBusTKServerMain failed to start properly.com.cognos.pogo.reportservice.ReportServerProcess.getProcessOutput(ReportServerProcess.java:192) 


CAUSE
One of the most common cause of above errors and symptoms is a missing shared library.


DIAGNOSING THE PROBLEM
Considering that BibusTKServerMain process is failing to start, this is the binary that is failing to load the shared library. 

You can determine the missing shared library in this way: 

1) Stop TCR 

2) set LIBPATH=<JazzTCRinstallation root>/bin 

where <JazzTCRinstallation root> is the path to reach "Reporting" subfolder in the TCR installation directory. 

 
3) export LIBPATH 
4) cd <JazzTCRinstallationinstallation root>/bin 
5) ldd BIBusTKServerMain 

verify that all the libraries can be loaded 

It is possible that one or more are showed as not found already in ldd output.

E.G.:

..
..
libicuuccognos.so.48 => ./libicuuccognos.so.48 (0x00960000)
libicudatacognos.so.48 => ./libicudatacognos.so.48 (0xf64ca000)
libstdc++.so.6 => not found
libxcb.so.1 => /usr/lib/libxcb.so.1 (0x00631000)
..
..

In this case it shows library libstdc++.so.6 is not found

To have confirmation, run the BIBusTKServerMain from command line 

6) Run ./BIBusTKServerMain

This should be done from 32bit bin libraries, not from bin64 and this is because TCR still uses 32bit version of BIBusTKServerMain.

When BIBusTKServerMain is executed from command line, if it fails finding needed shared libraries, an error message is showed.
E.G.:
[root@TCRhost bin]# ./BIBusTKServerMain
./BIBusTKServerMain: error while loading shared libraries: libstdc++.so.6: cannot open shared object file: No such file or directory



RESOLVING THE PROBLEM
If output from ldd shows that the missing shared library (for example libstdc++.so.6) is available under /usr/lib64, likely the same file is instead not present under /usr/lib, that is the library for 32bit shared libraries. 

If it is really missing, you need to check with system administrator and install the 32bit version of the package that contains the missing library.
For example, libstdc++.so.6 should be available in the package called libstdc++.i686

 

PRODUCT ALIAS/SYNONYM
 Tivoli Common Reporting V3.1