Title: IBM Healthcheck L2 Rule: SHC110: Blade ECC memory error detected - United States

Text:
healthcheck; error; ecc; shc110; rule TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 False report of L2 Rule: SHC110: Blade ECC memory error detected in healthcheck report 

SYMPTOM
 

L2 Rule : SHC110
Issue Detected : Blade ECC memory error detected
Severity : High
Components : In SPA 2 for Blade_13 SN#Y012UF31K0A9 Memory device 8, (DIMM 8
) correctable ECC memory error logging limit reached 09/24/13 04:08:14

Expert's Advice :

Report the issue to IBM Netezza Support.
Note: AMM logs can keep historical information that are no longer valid 






CAUSE
nzhealthcheck (2.2.0.2) is wrongly using old log entries


DIAGNOSING THE PROBLEM
 

- Run ssh mm00x displaylog -sev E -T mm[1] | grep Blade_y where x is the affected spa number and y is the affected blade number. 

E.g., ssh mm002 displaylog -sev E -T mm[1] | grep Blade_13 

Or 

- Collect AMM service data by running:
/nz/kit/bin/adm/ibm_amm --loc=spax.mm --service_data=/tmp/mm00xsd.tgz

E.g., /nz/kit/bin/adm/ibm_amm --loc=spa2.mm --service_data=/tmp/mm002sd.tgz 

Verify the only instance of ECC memory error in AMM service data primary_ffdc/service.txt is from back in 09/24/13 as symptom indicated: 

1395 ERR Blade_13 09/24/13 04:08:14 C
0x806F050C (SN#Y012UF31K0A9)Memory device 8, (DIMM 8) correctable ECC memory error logging limit reached

- Search log for affected blade and install keyword to confirm affected blade has already been serviced. 

In this instance you can see the blade was replaced in 12/20/13: 

[nz@nzhost /tmp]$ grep Blade_13 primary_ffdc/service.txt | grep install
1288 INFO Blade_13 12/20/13 08:31:27 N 0x0E00200D Blade 13 installed
[nz@nzhost /tmp]$ 

- If issue is current then check health on affected spa and replace affected DIMM.



RESOLVING THE PROBLEM
This is a known issue resolved in nzhealthcheck version 2.3 as per Defect 86042