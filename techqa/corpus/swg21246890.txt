Title: IBM Replica feature level displayed as unknown - United States

Text:
Global Monitor Expert Advice; chflevel; feature level; unknown; multisite; sibling; replica; 1246890 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote explains why lsreplica or describe output of an IBM® Rational® ClearCase MultiSite® replica displays the replica feature level as unknown for all replicas listed except for the first replica in the family. 

SYMPTOM
 

A describe of a replica or the output of a multitool lsreplica command displays "unknown" for all replicas listed except for the first replica in the family.

Example: 

M:\dynamic_view\>cleartool describe -long replica:rep1@\multisite
replica "rep1"
created 2006-09-01T10:10:51-04 by user.group@HOST
replica type: unfiltered
master replica: home@\multisite
owner: DOM\user
group: DOM\group
host: "vm1-host"
identities: not preserved
permissions: not preserved
feature level: unknown
connectivity: connected

CAUSE
 

This is expected behavior if the replica feature level for a new replica has not been explicitly set. 

Before you set the feature level for a newly created replica, its value is recorded as unknown. For example if you use the describe command to show the properties of a new replica, the output will look similar to that displayed above where the "feature level" is listed as "unknown". 

This information is documented in the Displaying Feature Levels [http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m1/index.jsp?topic=/com.ibm.rational.clearcase.cc_ms_admin.doc/c_display_feat_levels.htm] section of the ClearCase MultiSite Administrator's Guide.

Documentation 

 * Hardcopy can be ordered from the IBM Publications Center [http://www.ibm.com/shop/publications/order].
   
   
 * On-line documentation can be found:
   
   About the ClearCase Information Center [http://www.ibm.com/support/docview.wss?rs=984&uid=swg27010158]
   
   Note: The on-line ClearCase version 7.x documentation can be found in the IBM Publication Center [http://www.elink.ibmlink.ibm.com/public/applications/publications/cgibin/pbi.cgi] and has been organized for you in technote 1239261 [http://www.ibm.com/support/docview.wss?rs=984&uid=swg21239261].
   
   
   2003.06:
   HTML [ftp://ftp.software.ibm.com/software/rational/docs/v2003/cc_family/ccase/doc/index.html]
   PDF LINKS [ftp://ftp.software.ibm.com/software/rational/docs/documentation/manuals/clearcase.jsp]
   
   Note: The 2003.06.00 ClearCase manuals can be found on-line in the Legacy Rational product documentation [http://www.ibm.com/software/rational/support/documentation/index.html?rcss=rtlcc#legacydocumentation] section for the ClearCase Family [ftp://ftp.software.ibm.com/software/rational/docs/documentation/manuals/clearcase.html].
   
   
 * Distributed Documentation
   
   UNIX® and Linux®: /opt/rational/clearcase/doc/books
   
   Microsoft® Windows®: C:\Program Files\Rational\ClearCase\doc\books

RESOLVING THE PROBLEM
 


To display the proper feature level after a replica is created, run the cleartool chflevel command to set the appropriate feature level to the feature level of the installed ClearCase version where the replicated VOB resides.

Review the ClearCase Command Reference Guide on the topic of chflevel [http://publib.boulder.ibm.com/infocenter/cchelp/v7r0m1/index.jsp?topic=/com.ibm.rational.clearcase.cc_ref.doc/topics/ct_chflevel.htm] (cleartool man chflevel) for more information.

Example:

List the replicas in the family to see the feature level values.

C:\>multitool lsreplica -long -invob \test-vob
For VOB replica "\test-vob":
replica "original"
2004-12-07T14:58:04-05 by user1@hostA
"xxx"
replica type: unfiltered
master replica: original@\test-vob
owner: DOMAIN-A\user1
group: DOMAIN-A\user
host: "MYHOST"
identities: not preserved
permissions: not preserved
feature level: 4
connectivity: connected
replica "test-sc-rep"
2005-09-15T21:24:47-04 by John User (user1@hostA)
replica type: unfiltered
master replica: test-sc-rep@\test-vob
request for mastership: enabled
owner: DOMAIN-A\user1
group: DOMAIN-A\user
host: "YOURHOST"
identities: not preserved
permissions: not preserved
feature level: unknown
connectivity: connected


Describe the replica to see the specific feature level value defined for the replica:

C:\>cleartool describe -long replica:test-sc-rep@\test-vob
replica "test-sc-rep"
created 2005-09-15T21:24:47-04 by John User (user1@hostA)
replica type: unfiltered
master replica: test-sc-rep@\test-vob
request for mastership: enabled
owner: DOMAIN-A\user1
group: DOMAIN-A\user
host: "YOURHOST"
identities: not preserved
permissions: not preserved
feature level: unknown
connectivity: connected


Change the feature level using the chflevel command.

C:\>cleartool chflevel -replica 5 test-sc-rep@\test-vob
Replica feature level raised to 5.


Describe the replica again to see the specific feature level value defined for the replica:

C:>cleartool describe -long replica:test-sc-rep@\test-vob
replica "test-sc-rep"
created 2005-09-15T21:24:47-04 by John User (user1.user@mckinn
replica type: unfiltered
master replica: test-sc-rep@\test-vob
request for mastership: enabled
owner: DOMAIN-A\user1
group: DOMAIN-A\user
host: "YOURHOST"
identities: not preserved
permissions: not preserved
feature level: 5
connectivity: connected
Attributes:
FeatureLevel = 5


List the specific replica to also see the feature level value.

C:>multitool lsreplica -long test-sc-rep@\test-vob
For VOB replica "\test-vob":
replica "test-sc-rep"
2005-09-15T21:24:47-04 by John User (user1@hostA)
replica type: unfiltered
master replica: test-sc-rep@\test-vob
request for mastership: enabled
owner: DOMAIN-A\user1
group: DOMAIN-A\user
host: "YOURHOST"
identities: not preserved
permissions: not preserved
feature level: 5
connectivity: connected


Now list the replicas in the family to see the feature level values defined for each sibling.

C:\>multitool lsreplica -long -invob \test-vob
For VOB replica "\test-vob":
replica "original"
2004-12-07T14:58:04-05 by user1@hostA
"xxx"
replica type: unfiltered
master replica: original@\test-vob
owner: DOMAIN-A\user1
group: DOMAIN-A\user
host: "MYHOST"
identities: not preserved
permissions: not preserved
feature level: 4
connectivity: connected
replica "test-sc-rep"
2005-09-15T21:24:47-04 by John User (user1@hostA)
replica type: unfiltered
master replica: test-sc-rep@\test-vob
request for mastership: enabled
owner: DOMAIN-A\user1
group: DOMAIN-A\user
host: "YOURHOST"
identities: not preserved
permissions: not preserved
feature level: 5
connectivity: connected






RELATED INFORMATION
#About Feature Levels and ClearCase [http://www.ibm.com/support/docview.wss?uid=swg21119269]
Raise the feature level of a VOB and not the server [http://www.ibm.com/support/docview.wss?uid=swg21150579]