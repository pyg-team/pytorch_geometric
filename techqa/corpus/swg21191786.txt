Title: IBM Should I use the  EXEC SQL CALL or a COBOL call? - United States

Text:
new2004; stored procedures; SP; SPs; cobol call; exec sql call TECHNOTE (FAQ)

QUESTION
 When invoking a COBOL DB2 stored procedure, should I use the EXEC SQL CALL or a COBOL call?

I have seen instances where a COBOL call is used in a nested stored procedure to call another stored procedure. Is this use preferable or even acceptable? 

ANSWER
What are your objectives for this change? What is the performance expectation? What function are you trying to provide? Stored procedures can provide a performance improvement, lots of overhead or something in between. Some of the functions that are associated with a DB2 stored procedure are separation of the function, running as a task in another address space, with separate scheduling and dispatching.
Stored procedures are designed to be used with multiple SQL statements. When used this way, stored procedures generally provide a performance improvement, especially if DB2 can avoid trips across remote access or even across separate address spaces. Several SQL statements are needed to overcome the overhead of separate scheduling and dispatching.

When you change from a few instructions for a COBOL call to work through scheduling into a separate address space, with the ability to run on other operating systems and separate accounting, you add thousands of instructions for all of this new function.

Chapter 19, General performance considerations in the redbook, SG24-7083, DB2® for z/OS® Stored Procedures: Through the CALL and Beyond has quite a bit of useful information. Also see the technotes "Nested stored procedures" and Stored procedure performance."

RELATED INFORMATION
 Stored procedure performance recommendations [http://www.ibm.com/support/docview.wss?rs=64&&uid=swg21115663]
Nested Stored Procedures [http://www.ibm.com/support/docview.wss?rs=64&&uid=swg21114994]
Redbook - DB2 for z/OS Stored Procedures [http://www.redbooks.ibm.com/abstracts/sg247083.html]