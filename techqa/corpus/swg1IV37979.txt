Title: IBM IV37979: MY PROFILE RECORD NOT CREATED IF EMPLOYEE RECORD IS NOT ACTIVE USER AND THIS CAUSES MISSING PERSONAL DATA IN QUERIES. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  The Issue
   
   Find Space seems to use the My Profile record for displaying
   the result list (email).
   
   Looking at the database I found that only active employees seem
   to have a My Profile record.
   
   Also given that the person has a primary location the Building,
   Floor and Room should be listed.
   
   My Profile records for 'Find Space'.  Find Space seems to use
   the My Profile record in the queries involved. Looking at the
   database I found that Employees that are not Active Users do
   not have 'My Profile' records. Some seem to have them but with
   no Username field. These show up. If I add a My Profile record
   (by making them Active Users they show up).  Why do Employees
   need to have a My Profile record to show up in the list?
   
   Attachments:
   Clients screenshots (3) problem.
   
   /ecurep/pmr/9/3/
   93168,756,000/mail20121112-004855-Anthony_Simpson
   File: PMR_errors.docx
   
   Testing and reproduction.
   
   QA STEPS TO REPRODUCE
   Also refer to the steps, screen shots and analysis in the
   attached PDF from L2 which supports 3 different issues 70313,
   77004, and 77005.  This is the third issue in the document.
   
   1.        Log in as Admin in GA environment 10.2
   http://9.72.76.70:7001/p321a102/index.html [http://9.72.76.70:7001/p321a102/index.html]
   2.        People > Employees
   3.        Create two Draft employee records
               Test Data = (ex. 77005-1 Active User and 77005-2
   Draft User)
   4.        Portfolio > Locations > Location Hierarchy
   5.        Create a Building with a Floor
               Test Data = KK L3 77004 Building 1
   6.        Under the Floor create a Space record
               Test Data = KK L3 77005 DOW1 (Space)
   7.        People > Employees
   8.        Assign both Employee records to the Space as Primary
   Location
   9.        Enter Work Phone, Email, and Mail Stop under Address
   section
   10.    Add a Primary Organization
   11.    Activate 77005-1 Active User record - this will created
   My Profile record visible in Associations tab
   12.    Leave 77005-2 Draft User in Draft Status - this will
   have no My Profile record in Associations tab
   13.    Space > Find Space
   14.    Select What are you looking for? = Person
   15.    Enter the Name = Employee 77005-1 Active User, then
   click Locate button
   16.    Click Personnel Directory tab to verify that both
   Employee records appear in the list since their Primary
   Location is on the same floor
   
   ISSUE
   If an Employee record is not an Active User (Draft, Review In
   Progress) then the My Profile record is not created and the
   corresponding data for the Image, Building, Floor, Room, Work
   Phone, Email, Mail Stop do not display in the query results on
   the Personnel Directory tab.  Also, if an Employee record is
   revised, the updates are written to the My Profile record when
   the Employee record is activated again.
   
   Employees, Consultants, and External Contacts are expected to
   display in the query, but how does External Contact can be
   associated to a Location record?
   
   There are 3 queries that display the Personnel Directory on the
   Find Space/Locate form.
   triPeople - Display - Employee Directory for Person Search
   (Locate)
   triPeople - Display - Employee Directory for Building Search
   (Locate)
   triPeople - Display - Employee Directory for Room Search
   (Locate)
   
   ---
   
   L3 Validated
   
   ---
   
   L2 INFORMATION
   Client logged 3 Problems on PMR  93168,756,000
   Development requested two of the problems be logged as separate
   PMR and raised as separate L3 requests.  I had created L3
   requests in EP but they didn't migrate into RTC.
   
   Prob: Users not active do not have a profile records so will
   not show up.  Why do employees need my profile record show up
   in the list.
   Envir: TRI10/32, Oracle, JBOSS, OS win2008
   
   Third problem in the attachment.
   
   
    
   
   

LOCAL FIX
 *  None other then making the user active or draft.
   
   
    
   
   

PROBLEM SUMMARY
 *  On the Find Space, Personal Directory query columns are now
   displaying
   against the people record and not the my profile record.
   
   Modify Queries to not have columns coming form the My Profile
   record changed them to triPeople. Columns was Image, Email, Mail
   Stop, Work Phone, Room, Floor, and Building. Remove the field
   columns from My Profile and Location Space. Also remove the
   filters from My profile and Location Space and added the filters
   from triPeople
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV37979
   
   
 * REPORTED COMPONENT NAME
   TRI APP PLTFM R
   
   
 * REPORTED COMPONENT ID
   5725F26RE
   
   
 * REPORTED RELEASE
   320
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-03-12
   
   
 * CLOSED DATE
   2013-03-22
   
   
 * LAST MODIFIED DATE
   2013-03-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R320 PSY
   UP