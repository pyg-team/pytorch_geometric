Title: IBM IV80022: JAZZSM IS INCOMPATIBLE WITH IIM INSTALLED IN "GROUP MODE" - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  Existing documentation is not clear on the requirement of
   installing IIM in "user mode" to be compatible with JazzSM
   services.
   Attempting to use an existing IIM installation using "group
   mode" will fail when installing other JazzSM services, for
   example the Reporting Services (Tivoli Common Reporting) will
   fail on creation of the TCR database.
   Example symptom:
   CRIMA1218W A problem occurred during the execution of the
   /opt/IBM/JazzSM/install/fsconfig.xml
   CRIMA1217E Failed in configuring Reporting Services Database.
   
   createTCRDBOnLinux:
    [echo] creating db on linux
    [exec] ERROR : <user> [uid=###] does not have root privileges.
           The user must have root privileges for running the
   script.
    [exec] ant_exec return code is 1
    [exec] Result: 1
    [echo] Result of create TCRDB_SQL command = 1
   
   
   Prerequisite Scanner (PRS) does not report FAIL for any
   component as it does not verify the "mode" for an existing IIM
   installation.
   Customers would have to verify the mode used for an existing IIM
   install by reviewing IIM logs gathered with JazzSM environment
   scripts.
   Collecting and exchanging data: Jazz for Service Management
   installation problems
   http://www-01.ibm.com/support/docview.wss?uid=swg21627669 [http://www-01.ibm.com/support/docview.wss?uid=swg21627669]
   Review the IIM Logs to confirm which "mode" IIM is using, and
   the user account.
   
    9 INFO  00:03.56 Starting Installation Manager.
   10 INFO  00:03.56 osgi.os:linux, osgi.arch:x86_64, 64bit
   11 INFO  00:03.56 os.name:Linux, osgi.nl:en_US,
   java.version:1.7.0
   12 INFO  00:03.56 user.name:tivoli, non-administrator
   13 INFO  00:03.56 Default encoding: UTF-8
   14 INFO  00:03.56 Launcher: /tmp/DASH/IM/groupinst
   15 INFO  00:03.56 Command line arguments: -toolId groupinst
   -accessRights group input @osgi.install.area/install.xml -dL
   /opt/IBM/InstallationManager/IMData
   16 INFO  00:03.56 Restoring Installation Manager state.
   17 INFO  00:03.60 Running Installation Manager version 1.8.3
   (internal version 1.8.3000.20150606_0047).
   18 INFO  00:03.60 Installation Manager mode: group
   
   Note in the above that the Installation manager mode is "group".
   
   
   Current JazzSM documentation:
   JazzSM supports both root and non-root "user mode", but is
   incompatible with "group mode".
   This is not explicitly documented in the current product
   documentation.
   Jazz for Service Management 1.1.0.3>Installing Jazz for Service
   Management>Planning your deployment>Choosing the user
   type>Installing as a root user or non-root user
   http://www-01.ibm.com/support/knowledgecenter/SSEKCU_1.1.0.3/com [http://www-01.ibm.com/support/knowledgecenter/SSEKCU_1.1.0.3/com]
   .ibm.psc.doc_1.1.0.3/install/psc_c_install_root_nonroot.html?lan
   g=en
   ***
   You can install Jazz&#153; for Service Management as a root user or a
   non-root user.
   Jazz for Service Management documentation refers to different
   user types.
   Root users
           Windows operating systemsAdministrators
           AIX operating systemsLinux operating systemLinux on
   System z operating systemsRoot users
       Choose to install as a root user under the following
   conditions:
           If you are in the Administrator group on Windows
           If you are a root user on UNIX or Linux systems
   Non-root users
           Windows operating systemsNon-administrators or users
   without administrative privileges
           AIX operating systemsLinux operating systemLinux on
   System z operating systemsNon-root users or users without root
   privileges
       Choose to install as a non-root user under the following
   conditions:
           If you are not an administrative user
           If you want to install in your own user home directory
   without administrative privileges
   ***
   The above simply states that you CAN install as an
   administrator, or a non-administrator, it does not state any
   requirement of the "mode" for IIM installation.
   Jazz for Service Management 1.1.2.0>Installing Jazz for Service
   Management>Preparing your environment>Preparing your environment
   for a  custom installation>Installing Installation Manager
   http://www-01.ibm.com/support/knowledgecenter/SSEKCU_1.1.2.0/com
   .ibm.psc.doc_1.1.2.0/install/psc_t_install_im_install.html?lang= [http://www-01.ibm.com/support/knowledgecenter/SSEKCU_1.1.2.0/com.ibm.psc.doc_1.1.2.0/install/psc_t_install_im_install.html?lang=]
   en
   ***
   You can install software with Installation Manager as an
   administrator, or non-administrator.
   See Install as an administrator, nonadministrator, or group.
   Note:
     On Linux systems: When you run the Installation Manager
   install
     command for the first time, ensure that you specify the
   -datalocation
     option for the agent data location. The agent data location is
   the
     directory that Installation Manager uses for data that is
   associated
     with its repository.
   ***
   The above simply states that you CAN install as an
   administrator, or a  non-administrator.
   
   When installing IIM in "group mode", the install can still be
   done as either an
   administrator, or a non-administrator
   All this section does is state that the group must have adequate
   permissions to the files / directories in order for IIM to work.
   The JazzSM documentation above points to a link in Installation
   Manage documentation:
   IBM Installation Manager 1.5.0>Installing and upgrading>Managing
   installations with Installation Manager>Working in silent
   mode>Install as an administrator, nonadministrator, or group
   http://www-01.ibm.com/support/knowledgecenter/SSDV2W_1.5.0/com.i
   bm.silentinstall12.doc/topics/r_admin_nonadmin.html [http://www-01.ibm.com/support/knowledgecenter/SSDV2W_1.5.0/com.ibm.silentinstall12.doc/topics/r_admin_nonadmin.html]
   ***
   Installation notes for Linux, UNIX, IBM i, and z/OS platforms
   You must have execute permission on Installation Manager
   directories,
   package directories, and parent directories. If you do not have
   execute
   permission, Installation Manager cannot access the child
   directories or
   files. Without this permission, unexpected behavior or failures
   can
   occur when you use Installation Manager.
   Starting in version 1.5.2 for administrator and nonadministrator
   modes,
   if the umask value is 000, Installation Manager automatically
   modifies
   the umask value to 022. The umask value is set only for the
   current
   session of Installation Manager and does not persist after the
   user
   exits Installation Manager. The umask values are logged in the
   log file.
   For group mode permissions, see Set permissions in group mode.
   ***
   IIM documentation indicates that "group mode" does not exist on
   Windows environments, and explains the need for permissions for
   the group to be correct when using "group mode" to access files
   / directories.
   
   JazzSM documentation should be updated to explicitly document
   the requirement of JazzSM for "user mode" and that it is
   incompatible with "group mode".
   This is neccessary as other IBM products that also use IBM
   Installation Manager make recommendations to install IIM in
   "group mode"
   Example:
   "IBM Netcool Operations Insight 1.3 Install & Upgrade Guide -
   Best Practices.pdf"
   Additional Keywords
   TCR
   5724C04JZ
   5724C04JT
   
   
    
   
   

LOCAL FIX
 *  Install IIM using "user mode" or "root" and rerun JazzSM install
   using that IIM install.
   
   
   Tech note link -
   http://www-01.ibm.com/support/docview.wss?uid=swg21976432 [http://www-01.ibm.com/support/docview.wss?uid=swg21976432]
   
   
    
   
   

PROBLEM SUMMARY
 *  Installation of Jazz for Service Management in group mode is
   incompatible with IBM Installation Manager.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Tech note created -
   http://www-01.ibm.com/support/docview.wss?uid=swg21976432 [http://www-01.ibm.com/support/docview.wss?uid=swg21976432]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV80022
   
   
 * REPORTED COMPONENT NAME
   JAZZ SM INSTAL
   
   
 * REPORTED COMPONENT ID
   5724C04JI
   
   
 * REPORTED RELEASE
   110
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-01-04
   
   
 * CLOSED DATE
   2016-02-11
   
   
 * LAST MODIFIED DATE
   2016-02-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS