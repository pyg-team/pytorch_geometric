Title: IBM IZ63758: SEGMENTED MESSAGES ARE RECEIVED OUT OF ORDER WHEN CLIENT        APPLICATION IS LINKED AGAINST WEBSPHERE MQ V7.0 CLIENT LIBRARIES - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V7.0 Fix Pack 7.0.1.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24024528]
WebSphere MQ V7.0.1 for i5/OS Fix Pack 7.0.1.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24025627]
WebSphere MQ V7.0 Fix Pack 7.0.1.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24026518]
WebSphere MQ V7.0.1 for i5/OS Fix Pack 7.0.1.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24026566]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When applications retrieving segmented messages are linked
   against WebSphere MQ v7.0 client libraries,the segmented
   messages are not received in order. The application receives
   segmented messages randomly from different logical messages,
   from a queue that contains multiple logical messages.
   
   If the application is linked with WMQ v7.0 server libraries
   the segmented messages are received in order.
   
   
   KEYWORDS : MQGMO_LOGICAL_ORDER , arcW_TRUNCATED_MSG_FAILED
   
   
    
   
   

LOCAL FIX
 *  Local Fix:
   Set the channel that the client is communicating over to have
   a SHARECNV of zero, e.g.
   
   ALTER CHL(MYCHL) CHLTYPE(SVRCONN) SHARECNV(0)
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Client applications linked with WMQ v7.0 client libraries that
   then connect to WMQ v7.0 or later queue managers, or server
   based applications that use the WMQ v7.0 asynchronous consume
   feature and rely on the MQGMO_LOGICAL_ORDER and
   MQGMO_ALL_SEGMENTS_AVAILABLE or MQGMO_ALL_MSGS_AVAILABLE options
   for correct message sequence delivery.
   
   Platforms affected:
   All Distributed (iSeries, all Unix and Windows)
   ****************************************************************
   PROBLEM SUMMARY:
   When an MQ v7.0 client connects to an MQ v7.0 queue manager,
   unless the SVRCONN channel in use specifies a SHARECNV value of
   0, the asynchronous consume feature is used to get messages.
   
   A problem with the asynchronous consumer code which did not
   honour the logical order of segmented or grouped messages meant
   that any such messages would be delivered either, out of order
   or, where MQGMO_ALL_SEGMENTS_AVAILABLE /
   MQGMO_ALL_MSGS_AVAILABLE was also specified, before all of the
   required messages had actually been put onto the queue.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The asynchronous consumer code was modified to correctly honour
   the specified message retrieval options.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
                      v7.0
   Platform           Fix Pack 7.0.1.1
   --------           --------------------
   Windows            U200310
   AIX                U827232
   HP-UX (PA-RISC)    U826485
   HP-UX (Itanium)    U826884
   Solaris (SPARC)    U827125
   Solaris (x86-64)   U827374
   iSeries            tbc_p700_0_1_1
   Linux (x86)        U826321
   Linux (x86-64)     U827231
   Linux (zSeries)    U827105
   Linux (Power)      U826779
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ63758
   
   
 * REPORTED COMPONENT NAME
   WMQ AIX V7
   
   
 * REPORTED COMPONENT ID
   5724H7221
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-10-23
   
   
 * CLOSED DATE
   2009-10-30
   
   
 * LAST MODIFIED DATE
   2009-11-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ AIX V7
   
   
 * FIXED COMPONENT ID
   5724H7221
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP