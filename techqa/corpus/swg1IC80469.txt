Title: IBM IC80469: Missing entry in the ERRREASON table which relates category compoent 4073 with error message 41810 - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When client is trying to add a category with invalid character
   length (negative testing) then the response saying the category
   component and error message are not
   related. This is because an entry missing in the "ERRREASON"
   table which will relate category component 4073 with the error
   message 41810.
   
   Here is sample response:
   
       <TxResponse>
           <RequestType>addCategory</RequestType>
           <TxResult>
               <ResultCode>FATAL</ResultCode>
               <DWLError>
                   <ComponentType>4073</ComponentType>
   
   <Detail>com.ibm.pdq.runtime.exception.DataRuntimeException:
   [pdq][10101][2.1.7500] An error prevented the SQL query from
   completing successfully.;  Caused by: com.ibm.db2.jcc.am.co: DB2
   SQL Error: SQLCODE=-302, SQLSTATE=22001, SQLERRMC=null,
   DRIVER=3.57.82</Detail>
   
   <ErrorMessage>[Error_DWLErrorMessageComponent_ErrorMessage:] The
   error message for the following parameters is not defined in the
   database. ComponentId = 4073; error code = ; reason code =
   41810; error message type = The following business rule failed:
   CategoryCode validation</ErrorMessage>
                   <LanguageCode>0</LanguageCode>
                   <ReasonCode>41810</ReasonCode>
                   <Severity>0</Severity>
               </DWLError>
           </TxResult>
       </TxResponse>
   
   
   The correct response should look like:
   
      <TxResponse>
           <RequestType>addCategoryHierarchy</RequestType>
           <TxResult>
               <ResultCode>FATAL</ResultCode>
               <DWLError>
                   <ComponentType>4073</ComponentType>
   
   <Detail>com.ibm.pdq.runtime.exception.DataRuntimeException:
   [pdq][10101][2.1.7500] An error prevented the SQL query from
   completing successfully.;  Caused by: com.ibm.db2.jcc.am.co: DB2
   SQL Error: SQLCODE=-302, SQLSTATE=22001, SQLERRMC=null,
   DRIVER=3.57.82</Detail>
                   <ErrorMessage>The following business rule
   failed: CategoryCode validation</ErrorMessage>
                   <ErrorType>DIERR</ErrorType>
                   <LanguageCode>100</LanguageCode>
                   <ReasonCode>41810</ReasonCode>
                   <Severity>0</Severity>
               </DWLError>
           </TxResult>
       </TxResponse>
   
   
    
   
   

LOCAL FIX
 *  This problem has been fixed in 9.0.1.24. Please download and
   install this PTF if you experience this problem.
   
   
    
   
   

PROBLEM SUMMARY
 *  See Above
   
   
    
   
   

PROBLEM CONCLUSION
 *  Originally reported as PMR #76251,180,000
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC80469
   
   
 * REPORTED COMPONENT NAME
   MASTR DATA MGT
   
   
 * REPORTED COMPONENT ID
   5724S7800
   
   
 * REPORTED RELEASE
   901
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-12-20
   
   
 * CLOSED DATE
   2012-01-24
   
   
 * LAST MODIFIED DATE
   2012-01-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   MASTR DATA MGT
   
   
 * FIXED COMPONENT ID
   5724S7800
   
   

APPLICABLE COMPONENT LEVELS
 * R901 PSY
   UP