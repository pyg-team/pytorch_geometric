Title: IBM WebSphere heapdumps are truncated on UNIX environments. - United States

Text:
TPAEWEBSPHERE; TPAEPERFORMANCE; ulimit; heapdump TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Heapdump files are truncated and do not contain proper information to troubleshoot memory issues. 

SYMPTOM
Files are truncated before all information is written. 


CAUSE
On UNIX environments this can be caused by incorrect ulimit settings. Maximo installation documentation advises to set specific ulimit, however if this is done just in the terminal window the limits will reset when that session is closed. 

RESOLVING THE PROBLEM
To resolve this issue set the ulimit in the limits file rather then a terminal window.


1. Open etc/security/limits 

2. For the profile running WebSphere ensure the following is set 

 * fsize = -1 
 * nofiles = 8192


For example: root: 

 fsize = -1 

 nofiles = 8192 

3. Save the limits file and restart the WebSphere services.