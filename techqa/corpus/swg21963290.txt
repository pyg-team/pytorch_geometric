Title: IBM Case Foundation VWSession.logon(String, String, String) errored with Failed to retrieve Identity Token for Region ABC,32776,1 - United States

Text:
API; PE; 5.2.1; custom code; logon TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The custom code called VWSession.logon(String, String, String) method and received "Failed to retrieve Identity Token for Region ABC,32776,1" error in a P8 5.2.1 environment 

SYMPTOM
Exception: Failed to retrieve Identity Token for Region ABC,32776,1. Server returns exception message: The IdentityToken property was not found in the properties collection..
at filenet.pe.ceutils.ConnectionPoints.jaasGetConnectionPoints(ConnectionPoints.java:639)
at filenet.pe.ceutils.ConnectionPoints.run(ConnectionPoints.java:521)
at filenet.pe.ceutils.ConnectionPoints.runEx(ConnectionPoints.java:470)
at filenet.pe.ceutils.ConnectionPoints.GetAConnectionPointFromACPName(ConnectionPoints.java:828)
at filenet.pe.ceutils.ConnectionPoints.GetConnectionPointFromCPURI(ConnectionPoints.java:403)
at filenet.pe.ceutils.ConnectionPoints.GetConnectionPointFromBootstrapURI(ConnectionPoints.java:451)
at filenet.pe.peorb.client.ORBSession.getConnectionPoint(ORBSession.java:722)
at filenet.pe.peorb.client.ORBSession.getJAASContext(ORBSession.java:662)
at filenet.pe.peorb.client.ORBSession.establishORBSession(ORBSession.java:571)
at filenet.pe.peorb.client.ORBSession.<init>(ORBSession.java:818)
at filenet.vw.server.PECommandsFactory.getPECommandsFromURL(PECommandsFactory.java:158)
at filenet.vw.api.VWSession.logon(VWSession.java:757)



CAUSE
The error occurs because the custom code still uses the Process Engine (PE) and Content Engine (CE) 5.0 jar files. 

ENVIRONMENT
Content Platform Engine (CPE) 5.2.1, Windows

RESOLVING THE PROBLEM
Update the custom code to use the PE and CE client jar files from CPE 5.2.1 (i.e pe.jar, pe3pt.jar, peResources.jar, Jace.jar, log4j.jar).