Title: IBM Log off function in the IBM Cognos Administration interface does not work as expected - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you configure the reports feature in IBM Intelligent Transportation, the log off function in the IBM Cognos Administration client interface does not work as expected. 

SYMPTOM
If you are accessing the IBM Intelligent Transportation solution portal from another browser session at the same time as using the IBM Cognos Administration interface, after you click Log Off, your user account remains logged in. 

To reproduce this problem: 


1. Log on to the IBM Intelligent Transportation solution portal interface as the portal administrator. 

 

2. Start an additional browser session, and using the following URL, log on to the IBM Cognos Administration client interface as the same portal administrator, for example, wpsadmin. 

 http://host_name/ServletGateway/servlet/Gateway 

 

where hostname is the host name of the IBM Intelligent Operations Center analytics server or the IBM Intelligent Operations Center web server. 

 

3. Complete the required IBM Cognos administration tasks. 

 

4. Click Log Off. 

 

5. Switch to the IBM Intelligent Transportation browser session. 

 

6. Switch back to the IBM Cognos Administration client interface browser session and click Log On again. 

 

Results 

You are logged back into the solution without being prompted for credentials, and you have full access to the IBM Cognos Administration client interface. The log off function in the IBM Cognos Administration interface does not clear the cookies of the recently closed session.


CAUSE
The log out behavior works as designed because of the Single Sign On (SSO) configuration of the underlying IBM Intelligent Operations Center environment.


RESOLVING THE PROBLEM
Do not use the Log Off link in the IBM Cognos Administration client to end the session and log out. Instead, switch back to the main Smarter Cities Solutions portal interface and click the Log Out link that is provided in the solution interface of IBM Intelligent Transportation and the IBM Intelligent Operations Center.


If you would like to hide the Log Off link in the IBM Cognos Administration client interface to prevent your users from seeing the link, you can optionally complete the following procedure: 


1. Log on to the IBM Intelligent Operations Center analytics server as theibmadmin user and complete the following steps in the specified order to shut down each component of Cognos.


1.1 Stop the IBM Cognos Business Intelligence server by entering the following commands: 

su - ibmadmin
cd /opt/IBM/cognos/c10_64/bin64
./cogconfig.sh -stop


1.2 Stop the IBM Cognos Dispatcher server by entering the following commands: 

su - ibmadmin
cd /opt/IBM/WebSphere/AppServer/profiles/cognosProfile1
./stopServer.sh CognosX_Disp1 -username <websphere_administrator> -password <websphere_administrator_password>


1.3 Stop the IBM Cognos Gateway server by entering the following commands: 

su - ibmadmin
cd /opt/IBM/WebSphere/AppServer/profiles/cognosProfile1
./stopServer.sh CognosX_GW1 -username <websphere_administrator> -password <websphere_administrator_password>


1.4 Stop the node agent of the IBM Cognos application server by entering the following commands: 


su - ibmadmin
cd /opt/IBM/WebSphere/AppServer/profiles/cognosProfile1
./stopNode.sh -username <websphere_administrator> -password <websphere_administrator_password>

2. Go to the /opt/IBM/cognos/c10_64/templates/ps/portal directory on the IBM Intelligent Operations Center analytics server. 


3. Edit the system.xml file. 


Note: Make a backup copy of the system.xml file before you edit it. 


4. Immediately before the </system> tag, add the following lines: 


<param name="ui_hide">
<RV_HEADER/> 
<CC_HEADER_MENU_logoff/>
</param> 


5. Restart the IBM Cognos Business Intelligence server components as the ibmadmin user by completing the following steps in the specified order: 

 

5.1 Start the IBM Cognos Business Intelligence server by entering the following commands:
su - ibmadmin
cd /opt/IBM/cognos/c10_64/bin64
./cogconfig.sh -s 

 

5.2 Start the node agent of the IBM Cognos application server by entering the following commands: 

su - ibmadmin
cd /opt/IBM/WebSphere/AppServer/profiles/cognosProfile1
./startNode.sh


5.3 Start the IBM Cognos Dispatcher server by entering the following commands: 

su - ibmadmin
cd /opt/IBM/WebSphere/AppServer/profiles/cognosProfile1
./startServer.sh CognosX_Disp1 


5.4 Wait for at least 5 minutes, and then start the IBM Cognos Gateway server by entering the following commands: 

su - ibmadmin
cd /opt/IBM/WebSphere/AppServer/profiles/cognosProfile1
./startServer.sh CognosX_GW1

 



Cross reference information Segment Product Component Platform Version Edition Smarter Cities IBM Intelligent Transportation IBM Intelligent Transit Analytics Linux Red Hat - xSeries 1.6.1, 1.6 All Editions Smarter Cities IBM Intelligent Operations Center Not Applicable Linux Red Hat - xSeries 1.6