Title: IBM PM66408: COBOL SAMPLE FOR THE IMS SUBSYSTEM INTERFACE DSN8IC0 NEED TO BE CORRECT - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  THE COBOL SAMPLE FOR THE IMS SUBSYSTEM INTERFACE DSN8IC0 HAS
   FOLLOWING CODE.
   ****************************************************************
   *       DECLARATION FOR OUTPUT: MODNAME DSN8ICGO/DSN8ICDO      *
   ****************************************************************
    01   OUT-MESSAGE.
         02 LL               PIC S9(3) COMP.
   
        MOVE +1613      TO LL IN OUT-MESSAGE.
   .
   IT APPEARS THAT A FOUR DIGIT NUMBER IS BEING MOVED INTO A
   THREE DIGIT FIELD.  WHEN ENTERPRISE COBOL OPTION TRUNC(STD)
   IS USED, THE FILED LL CAN HOLD 3 DIGIT NUMBER.
   DSN8IC0 SET THE LENGHT +1613 (4 DIGITS NUMBER) INTO THE FILED
   THUS THE TOP DIGIT "1" HAS BEEN LOST.
   IN DB2 for z/OS Installation Guide GC18-9846-15
   CHAPTER 7. VERIFYING THAT INSTALLATION OR MIGRATION AS
              SUCCESSFULL WITH SAMPLE APPLICATIONS
   TOPIC COBOL OPTIONS TO USE WITH THE INSTALLATION VERIFICATION
         PROCEDURES
   TABLE 88. ENTERPRISE COBOL OPTIONS STATE "TRUNC(STD)" IS
   RECOMMENDED.
   SAMPLE DSN8IC0 NEED TO BE CHANGE AS FOLLOWS.
   02 LL               PIC S9(4) COMP.
                             ***
   
   
    
   
   

LOCAL FIX
 *  CHANGE SAMPLE CODE AS FOLLOWS.
   02 LL               PIC S9(4) COMP.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Users of DSN8ICGO, the DB2 sample COBOL IMS  *
   *                 organization application in DB2 9.1 for z/OS *
   *                 and DB2 10, for z/OS are affected by this    *
   *                 change.                                      *
   ****************************************************************
   * PROBLEM DESCRIPTION: The DB2 sample COBOL IMS organization   *
   *                      application (transaction name DSN8ICGO) *
   *                      displays truncated messages             *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The DB2 sample COBOL IMS organization application can be used
   to test DB2 in the IMS environment.   Users of this application
   may observe truncation of messages displayed on the MFS panels.
   The truncation occurs when a computational item data element
   named LL, which resides in the IN-MESSAGE and OUT-MESSAGE data
   structures and is declared as PIC S9(3) COMP, receives a value
   of greater than 999.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  DSN8IC0 needs to be modified so that the LL data element is
   declared with as COMP-5 rather than COMP.  As a COMP-5 data
   element, LL can store values ranging from-32768 through +32767.
   Because the code bug is over 20 years old, the fix is deferred
   to a future release of DB2.  Customers who encounter this
   problem in a current DB2 release can work around it by modifying
   the DSN8IC0 source code as indicated or by using the TRUNC(BIN)
   compiler option.
   
   Defect pm66408.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PM66408
   
   
 * REPORTED COMPONENT NAME
   DB2 OS/390 & Z/
   
   
 * REPORTED COMPONENT ID
   5740XYR00
   
   
 * REPORTED RELEASE
   910
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-06-08
   
   
 * CLOSED DATE
   2012-06-19
   
   
 * LAST MODIFIED DATE
   2012-06-19
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * RA10 PSN
   UP
   
   
 * R910 PSN
   UP