Title: IBM PM98641: REORG ENDS WITH MSGDSNU038I AND ABEND04E RC00E40079 ON DDNAME SYSREC - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A REORG on a PBG tablespace abended with abend04e rc00e40079
   and the following error:
   DSNU038I    234 10:44:53.23 DSNUGSDA - BLOCK SIZE FOR DCB,
   DDNAME SYSREC, IS TOO SMALL, MUST BE AT LEAST 30080 BYTES.
   The allocated SYSREC block size is smaller than the length
   of the loaded record.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All DB2 9 for z/OS, DB2 10 for z/OS and DB2  *
   *                 11 for z/OS users of REORG utility           *
   ****************************************************************
   * PROBLEM DESCRIPTION: MSGDSNU038I and ABEND04E RC00E40079     *
   *                      during a REORG SHRLEVEL CHANGE utility  *
   *                      against a partition-by-growth (PBG)     *
   *                      table space                             *
   ****************************************************************
   * RECOMMENDATION: Apply corrective PTF when available          *
   ****************************************************************
   User ran a REORG SHRLEVEL CHANGE SORTDATA utility against a PBG
   table space. The table had no clustering index so the SORTDATA
   method was not used. The REORG failed with message DSNU038I -
   BLOCK SIZE FOR DCB, DDNAME SYSREC, IS TOO SMALL, MUST BE AT
   LEAST 30080 BYTES and abended with a reason code of X'00E40079'.
   
   The problem happened because the length of the unloaded record
   was set incorrectly when records were unloaded by a table space
   scan without sorting.
   
   The problem will happen for the following cases:
   1) REORG SHRLEVEL CHANGE SORTDATA against a PBG without
      clustering index  (v9, v10 ,v11)
   2) REORG SHRLEVEL REFERENCE SORTDATA NO AUX YES against a
      partitioned table space with LOB columns and unload/reload
      parallelism (v10, v11)
   3) REORG SHRLEVEL CHANGE SORTDATA NO against PBG (v11)
   4) REORG SHRLEVEL CHANGE SORTDATA NO against a partitioned table
      space with unload/reload parallelism (v11)
   
   
    
   
   

PROBLEM CONCLUSION
 *  The REORG utility code has been modified to set the record
   length correctly.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM98641
   
   
 * REPORTED COMPONENT NAME
   DB2 OS/390 & Z/
   
   
 * REPORTED COMPONENT ID
   5740XYR00
   
   
 * REPORTED RELEASE
   A10
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-10-08
   
   
 * CLOSED DATE
   2013-12-08
   
   
 * LAST MODIFIED DATE
   2014-01-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI13330 UI13331 UI13332
   
   

MODULES/MACROS
 *  DSNURSCN
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 OS/390 & Z/
   
   
 * FIXED COMPONENT ID
   5740XYR00
   
   

APPLICABLE COMPONENT LEVELS
 * RA10 PSY UI13330 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI13330]
   UP13/12/24 P F312
   
   
 * RB10 PSY UI13331 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI13331]
   UP13/12/24 P F312
   
   
 * R910 PSY UI13332 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI13332]
   UP13/12/24 P F312
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.