Title: IBM IZ72804: CME RESYNC QUERIES TAKING A LONG TIME TO RUN - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The CME is taking a long time to run its hourly synchronization.
   
   After some investigations, it was found that the resync queries,
   especially the "relationships manager" and the "threshold
   manager" were doing nested loops from se_desc_hist to
   elmt_desc_hist, rather than the reverse. This is giving us a bad
   explain plan
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  This issue was caused by a database that was not normal for
   Proviso. This particular customer  has
   configuration with nearly 1 to 1 of elements to subelements. In
   this case, it is about 1.2M elements to 1.4M subelements.
   The database is set up expecting something more along the lines
   of many subelements to a few elements. We need to add an ORDERED
   hint to the SQL query to select from element and element history
   table for PvRelation and PvThresholdDefinition.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Release IFix 4.4.1.4-TIV-PROV-IF0190.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ72804
   
   
 * REPORTED COMPONENT NAME
   NC/PROV DATACHA
   
   
 * REPORTED COMPONENT ID
   5724P59DC
   
   
 * REPORTED RELEASE
   441
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-03-12
   
   
 * CLOSED DATE
   2010-03-16
   
   
 * LAST MODIFIED DATE
   2010-11-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   NC/PROV DATACHA
   
   
 * FIXED COMPONENT ID
   5724P59DC
   
   

APPLICABLE COMPONENT LEVELS
 * R441 PSY
   UP
   
   
 * R443 PSY
   UP