Title: IBM IC36395: DELETE LIBRARY LIBTYPE ACSLS APPEARS TO HANG WITH LONG WAIT - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A delete library of an ACSLS library with a large
   library inventory may appear to hang if the TSM Server
   can not communicate with the ACSLS server.  Normal
   delete library processing for ACSLS libraries will
   contact the ACSLS server and attempt to clear the lock
   on each volume in the library inventory.  If
   communication can not be established with the ACSLS
   server, this operation can take several minutes to time
   out.  Since this operation is repeated for each volume,
   the total processing time can be large.
   The TSM Server should be changed to allow for a quicker
   ACSLS library deletion if communications is not
   available with the ACSLS server.
   Note this APAR has similar symptoms to: APAR IC32360
   
   
    
   
   

LOCAL FIX
 *  If possible re-establish communications with the ACSLS
   server prior to issuing the delete command.  If
   communications can not be re-established, ensure that
   the ACSTIMEOUTX option is set to 1 and wait for the
   process to run to completion.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All TSM server users with ACSLS libraries.   *
   ****************************************************************
   * PROBLEM DESCRIPTION: A delete library command on an ACSLS    *
   *                      library involves an attempt to unlock   *
   *                      all volumes in the inventory.  However, *
   *                      if communication has been lost between  *
   *                      TSM and the ACSLS server this series of *
   *                      operations will last as long as the     *
   *                      ACSLS timeout value per volume.  This   *
   *                      creates a situation where other         *
   *                      processes can be waiting to acquire     *
   *                      the resources held by this particular   *
   *                      delete, and if each volume has to wait  *
   *                      for a timeout this can be very costly.  *
   ****************************************************************
   * RECOMMENDATION: Apply fix when available.  This problem is   *
   *                 targeted for TSM 5.1.8 and 5.2.2.            *
   ****************************************************************
   If experienceing communication problems with ACSLS library,
   it can result in excessive timeouts.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This problem has been resolved such that when we attempt to
   clear the locks of all the volumes, if one attempt should
   timeout, we will no longer attempt to clear the locks on the
   other volumes.  This will minimize how long other processes
   have to wait on the delete's resources to only one timeout.
   
   However, should this situation occur where communication is
   lost and the attempt to clear the lock on the volumes
   timeouts, the user will have to use the ACSLS server to
   unlock the volumes.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC36395
   
   
 * REPORTED COMPONENT NAME
   TSM SERVER 510
   
   
 * REPORTED COMPONENT ID
   5698ISMSV
   
   
 * REPORTED RELEASE
   51A
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2003-05-27
   
   
 * CLOSED DATE
   2003-07-14
   
   
 * LAST MODIFIED DATE
   2003-07-14
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TSM SERVER 510
   
   
 * FIXED COMPONENT ID
   5698ISMSV
   
   

APPLICABLE COMPONENT LEVELS
 * R52W PSY
   UP
   
   
 * R51H PSY
   UP
   
   
 * R51L PSY
   UP
   
   
 * R51S PSY
   UP
   
   
 * R51W PSY
   UP
   
   
 * R52A PSY
   UP
   
   
 * R52H PSY
   UP
   
   
 * R52L PSY
   UP
   
   
 * R52S PSY
   UP