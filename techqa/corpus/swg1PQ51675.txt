Title: IBM PQ51675: USING IBM HTTP SERVER ON OS/390 OR Z/OS AS A HIDDEN OR REVERSE PROXY IS NOT DOCUMENTED - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  Using the IBM HTTP Server on OS/390 and z/OS does not document
   how to use the Proxy directive as a hidden (also called
   reverse) proxy. Also there is no documentation that in a
   hidden proxy configuration that an SSL can be established
   between the browser and the hidden proxy but no SSL connection
   between the hidden proxy and the origin server (this is called
   SSL tunelling). The user sees a lock icon in the browser even
   though the entire tunnel is not secure.
   
   
    
   
   

LOCAL FIX
 *  IBM HTTP Server Planning, Installing and Using manual to be
   updated.Syntax for Proxy directive as hidden proxy:
      Proxy <template> <URL>
   eg.
      Proxy /mystuff/* http://myserver/* [http://myserver/*]
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Customers who use the proxy features of      *
   *                 the 390 HTTP Server                          *
   ****************************************************************
   * PROBLEM DESCRIPTION: Using the HTTP Server to implement a    *
   *                      hidden proxy (also known as reverse     *
   *                      proxy) is not documented.               *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Using the HTTP Server to implement a hidden proxy (also known
   as reverse proxy) is not documented. Additional documentation
   of various proxy setups and the cacheagt program would be
   helpful.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The HTTP Server documentation is modified as follows.
   
   The following COMPID's are affected by these changes:
   
   5697D4300 LDGW for OS/390  Version 5
   
   The chapter named "RUNNING YOUR SERVER AS A PROXY" may be
   chapter 15 or chapter 16, depending on the version.
   
   IN THE CHAPTER "RUNNING YOUR SERVER AS A PROXY", IN THE FIRST
    SECTION ("WEB TRAFFIC EXPRESS PROXY FEATURES"):
   
   THE PHRASE "for multiple browsers" PROBABLY SHOULD HAVE BEEN
    "from multiple servers".
   
   IN THE CHAPTER "RUNNING YOUR SERVER AS A PROXY"), AT THE END
    OF THE FIRST SECTION ("WEB TRAFFIC EXPRESS PROXY FEATURES"),
    ADD THIS:
   
   First, a few definitions:
   
   proxy server - a server that accepts requests from clients
    (usually browsers, but possibly servers) and forwards them to
    other servers. It may cache files which it received from
    destination servers while servicing previous requests, so
    that it can later return files to clients without bothering
    the destination servers. It may also provide content-
    filtering and other controls.
   
   origin server - the webserver that holds the original copy of
    the resource.
   
   content server - another term for origin server.
   
   destination server - another term for origin server.
   
   firewall - a system of hardware and software (which may
    include a proxy server) to protect an intranet from
    intruders.
   
   SOCKS server - a circuit-level proxy server, which establishes
    a connection from a client to an application, and afterward
    just forwards data in both directions without further
    interference. This is not a function of web proxy servers,
    but of special-purpose hardware and software.
   
   forward proxy server - a proxy server set up so that it acts
    as a proxy for a set of clients, handling requests on behalf
    of those clients, and often set up by the clients'
    organization. The clients are configured to use the proxy
    server, and thus they know that the proxy server is not the
    content server; for example, a browser may have a proxy
    defined in its setup by the user.
   
   reverse proxy server - a proxy server set up so that it acts
    as a proxy for a set of servers, proxying requests on behalf
    of those servers; sometimes called a gateway. The clients
    usually do not know that the reverse proxy server is not the
    actual origin server.
   
   hidden proxy server - another term for reverse proxy.
   
   SSL tunneling - a concept which provides for a proxy server to
    forward a request without decrypting the request at all, not
    even the URL; the tunneling proxy server understands only the
    destination server's address and port number. The proxy
    server does not decrypt the request, and does not even need
    to have SSL configured at all. Only the destination server
    needs to be able to support SSL and to decrypt. The
    "https://" requests come in to the proxy server's non-SSL
    port (by default, port 80), and are redirected to the
    destination server's SSL port (usually 443). The SSL
    tunneling proxy server must have CONNECT requests enabled
    ("Enable Connect" directive). Most filtering by the proxy
    server is impossible when using tunneling. For example, virus
    screening is not possible, and filtering based on the URL or
    header fields is also impossible, because the proxy server
    does not decrypt this information. This works under the
    forward proxy concept only, not under reverse proxy. Under
    reverse proxy, in an alternative to SSL tunneling, it is also
    possible to get an SSL connection from the browser to the
    proxy server, and let the proxy server use a non-SSL
    connection to the content server, but then encryption and
    certificate authentication are not available on the path to
    the content server.
   
   
   IN THE CHAPTER "RUNNING YOUR SERVER AS A PROXY", AT THE END
    OF THE 2ND SECTION ("Setting up your proxy server"), REPLACE
    THIS SENTENCE:
   You must set the following directives in the httpd.conf
    configuration file:
   WITH:
   You must set some or all the following directives in the
    httpd.conf configuration file, as described in more detail
    below:
   
   IN THE CHAPTER "RUNNING YOUR SERVER AS A PROXY", AT THE END
    OF THE 2ND SECTION (SETTING UP YOUR PROXY SERVER), REPLACE
    THE  SINGLE SENTENCE ("After you've configured your proxy
    server, tell your users so they can configure their browsers
    to direct their requests to the proxy.") WITH:
   
   For all proxy servers, set up the following optional log file
    definitions, as desired:
       ProxyAccessLog full_or_relative path    # optional
       CacheAccessLog full_or_relative path    # optional - see
    the note immediately following
   
   
   Setting up a forward proxy server
   
   You must set the following directives in the httpd.conf
    configuration file for each protocol you want proxied. Note
    that the Proxy directives have just one argument.
       Proxy http:* [http:*]
       Proxy ftp:*
       Proxy gopher:*
       Proxy *:443     # if SSL tunneling is desired
       Enable CONNECT  # if SSL tunneling is desired
   After you've configured your proxy server, tell your users so
    they can configure their browsers to direct their requests to
    the proxy.
   
   Setting up a reverse (hidden) proxy server
   
   You must set directives such as the following examples in the
    httpd.conf configuration file. Note that the Proxy directives
    have two arguments.
   Proxy   *      http://www.content.com:6780/*     # to proxy
    all requests
   Proxy   /XYZ/*  http://www.destination.com/*      # to proxy
    only those requests starting with "/XYZ/"
   Proxying only selected requests creates a webserver which is a
    combination of proxy and destination servers. You must
    consider the security and control implications of this
    mixture of functions.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PQ51675
   
   
 * REPORTED COMPONENT NAME
   DGW/WAS OS/390
   
   
 * REPORTED COMPONENT ID
   5697D4300
   
   
 * REPORTED RELEASE
   530
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2001-08-21
   
   
 * CLOSED DATE
   2001-09-24
   
   
 * LAST MODIFIED DATE
   2001-09-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

Publications Referenced SC31869002 SC31869003 SC34482600 FIX INFORMATION

APPLICABLE COMPONENT LEVELS