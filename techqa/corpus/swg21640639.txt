Title: IBM LDAP user TIP login hangs; transaction timeout error in logs - United States

Text:
TIPL2LDAP LDAP; login; TIP; WTRN0124I TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When logging in to TIP as an LDAP user with valid credentials, the TIP login screen hangs for several minutes before completing login. SystemOut.log reports messages like Transaction <number> has timed out ... 

SYMPTOM
Typical message in SystemOut.log:

TimeoutManage I WTRN0124I: When thetimeout occurred the thread with which the transaction is, or was most 
recently, associated was Thread[Thread-67,5,main]. The stack trace of 
this thread when the timeout occurred was: 
java.net.PlainSocketImpl.socketConnect(Native Method) 



CAUSE
The LDAP server or a firewall between TIP and LDAP is closing connections before the authentication can be completed, leading to idle connections on the WAS side.

RESOLVING THE PROBLEM
Update the LDAP configuration to introduce a context pool timeout value greater than 0 but less then the LDAP and/or firewall connection timeout(s) in order to remove idle context instances.


Note: Make a backup copy of wimconfig.xml file before making any changes.

Note: The end result will be that the wimconfig.xml under <profile>/config/cells/<cellname>/wim/config/ is updated for the 'poolTimeout' parameter:

<config:repositories xsi:type="config:LdapRepositoryType" ... id="repositoryid" ...>
...
<config:contextPool enabled="true" initPoolSize="1" maxPoolSize="20" poolTimeOut="120" poolWaitTime="3000" prefPoolSize="3"/>
...