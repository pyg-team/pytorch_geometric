Title: IBM Using custom property connectionNameList to connect to WebSphere MQ multi-instance queue managers from WebSphere Application Server - United States

Text:
 WHITE PAPER

ABSTRACT
 The objective of this technical document is to describe in detail how to exploit from the WebSphere Application Server the connection to Multi-Instance Queue Managers in WebSphere MQ 7.0.1 using a custom property called "connectionNameList" for Activation Specifications or "XMSC_WMQ_CONNECTION_NAME_LIST" for Connection Factories.

The MQ 7.0.1 JMS client introduced also the feature "automatic client reconnection", which is used on JMS stand-alone applications, but it is not used when running a JMS application within an application server. Instead, the automatic retry mechanisms for Listener Ports and Activation Specifications are used.

One way to configure the WebSphere Application Server to work with multi-instance queue managers is by using a custom property called "connectionNameList", in which the host names and ports of the different instances are specified. This is the easiest way.

Note: XA is not supported during automatic client reconnect 

CONTENT
The chapters of this document are:


Chapter 1: Prerequisites (MQ 7.0.1.3, Sample MDB, userid with proper authority)
Chapter 2: Creating JNDI objects and adding custom property 
Chapter 3: Switchover testing of the Sample MDB - Listener Port 

 *  Test 1: Messages are passed to the MDB, from host-1 "veracruz" 
 *  Test 2: Doing a switchover of the Queue Manager from host-1 "veracruz" to host-2 "cbeech" 
 *  Test 3: MDB gets message that is put into the other instance of the queue manager (host-2 "cbeech")


Chapter 4: Switchover testing of the Sample MDB - Activation Specification 
Similar steps as in Chapter 3 
Chapter 5: Troubleshooting 

Notes: 
1) There is a new section labeled: +++ Update on 07-Jul-2014 
This new section describes the additional fields for adding the connection name list when creating a Connection Factory or an Activation Specification when using WebSphere Application Server Administrative Console 8.x. 

2) There is a new section labeled: +++ Update on 24-May-2011 
This new section provides more details on the "XMSC_WMQ_CONNECTION_NAME_LIST" property for Connection Factories. 

It is highly recommended that you review the details described in the following technote: 

Technote: 1508357 
Using WebSphere MQ automatic client reconnection with the WebSphere MQ classes for JMS [http://www.ibm.com/support/docview.wss?uid=swg21508357] 

Attached PDF File: How_to_use_MQ_701_Multi-Instance_QMgrs_from_WAS-connectionNameList.pdf 

How_to_use_MQ_701_Multi-Instance_QMgrs_from_WAS-connectionNameList.pdf 

How_to_use_MQ_701_Multi-Instance_QMgrs_from_WAS-connectionNameList.pdf [/support/docview.wss?uid=swg27020700&aid=2]How_to_use_MQ_701_Multi-Instance_QMgrs_from_WAS-connectionNameList.pdf [/support/docview.wss?uid=swg27020700&aid=1]


Cross reference information Segment Product Component Platform Version Edition Application Servers WebSphere Application Server Java Message Service (JMS) AIX, HP-UX, Linux, Solaris, Windows 9.0, 8.5, 8.0, 7.0.0.13 PRODUCT ALIAS/SYNONYM
 WMQ MQ MQSeries