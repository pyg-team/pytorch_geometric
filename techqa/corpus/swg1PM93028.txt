Title: IBM PM93028: JCR DATABASE USES WRONG STORAGEGROUP FOR TEMPORARY DATA. - United States

Text:
  FIXES ARE AVAILABLE
Fixes integrated in WebSphere Portal 8.0.0.1 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24034497]
Fixes integrated in WebSphere Portal 7.0.0.1 & 7.0.0.2 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24029452]



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When Portal/WCM tries to update JCR Indices it tries to use the
   
   SYSDEFLT storagegroup for temporary data although in
   wkplc_dbdomain.  properties different storagegroup is defined:
   
   -----------
   From wkplc_dbdomain.properties:
   
   feedback.DbStorageGroup=SGWPST
   likeminds.DbStorageGroup=SGWPST
   release.DbStorageGroup=SGWPST
   community.DbStorageGroup=SGWPST
   customization.DbStorageGroup=SGWPST
   jcr.DbStorageGroup=SGWPST
   
   -------
   The Portal-JVM throws the following exception during startup:
   Page 14 of 113
   
   Caused by: com.ibm.icm.da.DBAccessException: DB2 SQL Error:
   SQLCODE=-
   551, SQLSTATE=42501, SQLERRMC=WPPBFF1;CREATE INDEX;SYSDEFL T,
   DRIVER=4.
   11.77Thread 780676744 : qlSyntaxErrorException: DB2 SQL Error:
   SQLCODE=-
   551, SQLSTATE=42501, SQLERRMC=WPPBFF1;CREAT E INDEX;SYSDEFLT,
   DRIVER=4.
   11.77
   
   
    
   
   

LOCAL FIX
 *  As a temporary fix the DBAs have granted the user rigths on
   this storage group, but this should not be the solution for the
   future
   
   
    
   
   

PROBLEM SUMMARY
 *  In Zos environment, ProcessLinks  E com.ibm.icm.da.
   portable.data.ProcessLinks collectiveBatchRemoveLink
   com.ibm.db2.jcc.am.
   SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-551,
   SQLSTATE=42501,
   SQLERRMC=WPPBFE1;CREATE INDEX;SYSDEFLT, DRIVER=4.11.77
                                    com.ibm.db2.jcc.am.
   SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-551,
   SQLSTATE=42501,
   SQLERRMC=WPPBFE1;CREATE INDEX;SYSDEFLT, DRIVER=4.11.77
   It uses System defualt storage group instead of configured one.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A code fix for this issue is integrated into the WebSphere
   Portal & WCM Combined Cumulative Fix 24 (PM93215 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM93215]) for Portal
   7.0.0.2 available from Fix Central:
   
   http://www-933.ibm.com/support/fixcentral/swg/selectFixes?parent
   =ibm~WebSphere&product=ibm/WebSphere/WebSphere+Portal&release=7 [http://www-933.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~WebSphere&product=ibm/WebSphere/WebSphere+Portal&release=7]
   .0.0.2&platform=All&function=aparId&apars=PM93215
   
   You might need to type or paste the complete address into your
   Web browser.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM93028
   
   
 * REPORTED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * REPORTED COMPONENT ID
   5724I2900
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-07-16
   
   
 * CLOSED DATE
   2014-01-09
   
   
 * LAST MODIFIED DATE
   2014-01-09
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * FIXED COMPONENT ID
   5724I2900
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP