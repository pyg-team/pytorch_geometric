Title: IBM JR31430; 6.2: scheduler defined at both the cluster scope and at the server scop - United States

Text:
JR31430; AppScheduler; wpsv6rnotes; v601rnotes; v602rnotes; v61rnotes; v612rnotes; v62rnotes; application scheduler DOWNLOADABLE FILES

ABSTRACT
 Scheduler defined at both the cluster scope and at the server scope in the "Remote Messaging and Remote Support" topology. Multiple AppSchedulers cause conflict. 

DOWNLOAD DESCRIPTION
JR31430 resolves the following problem:

ERROR DESCRIPTION: 
The Scheduler is defined at both the cluster scope and at the server scope in the "Remote Messaging and Remote Support" topology. 

LOCAL FIX: 
Create only one AppScheduler in the cell scope, instead of multiple AppSchedulers. 

USERS AFFECTED:


WebSphere Process Server v6.0.2.4
WebSphere Process Server v6.0.2.5
WebSphere Process Server v6.1.0.2
WebSphere Process Server v6.1.2.0
WebSphere Process Server v6.2.0.0
users using the AppScheduler

PROBLEM DESCRIPTION:
Scheduler defined at both the cluster scope and at the server scope in the "Remote Messaging and Remote Support" topology. Multiple
AppSchedulers cause conflict.

RECOMMENDATION:
None


PROBLEM SUMMARY:
Configuration of Scheduler of type AppScheduler at both cluster and server level is incorrect. Scheduler and the Scheduler's
workManager need to be created at the cell level only.

PROBLEM CONCLUSION: 
Applying this interim fix, and then creating new profiles will resolve the issue. The fix for this APAR is targeted for 
inclusion in a future v6.0.2.x, v6.1.0.x, v6.1.2.x, and v6.2.0.x fix pack. 


Notes: 

 * After applying this interim fix, the existing profiles will remain the same. If you do not want to create any new profiles, you need to use the following workaround instead of this interim fix: Manually delete the conflicting cluster scope and server scope AppSchedulers. Add cell scope scheduler if you are planing to use the AppScheduler. Use the right value for "Data source JDNI name", "Table prefix", "Work manager JNDI name"(the same value as one of the old AppScheduler configuration will be fine).
   
   
   
   This example [http://public.dhe.ibm.com/software/websphere/cw/process_server/DCF_Graphics/4025221/scheduler1.jpg] from the administrative console (click Resources > Scheduler) illustrates the problem. 
   
   
   
   
   This example [http://public.dhe.ibm.com/software/websphere/cw/process_server/DCF_Graphics/4025221/scheduler2.jpg] from the administrative console (Resources > Scheduler) illustrates a one cell-scoped AppScheduler.
   
   
   
   
 * After applying this interim fix, it is possible to still have the following error appear in the profile's SystemOut.log file: 
   
   LeaseAlarm E SCHD0125E: Unexpected exception while processing the acquireLease operation: com.ibm.ws.leasemanager.LeaseException: SCHD0300E: Error during Database operation, localized message is ORA-00001: unique constraint (WPRC SDB.SYS_C003194) violated, Vendor Error Code is 1, ANSI-92 SQLState is 23000, cause: ORA-00001: unique constraint (WPRCSDB.SYS_C003194) violated 
   
   
   This issue happens when the Scheduler configuration using the same database and table prefix and the cluster members are started concurrently; all cluster members try to acquire the lease, which results in the above exception. This problem has been resolved by APAR PK91198 and you must apply the interim fix for that APAR:
   http://www.ibm.com/support/docview.wss?uid=swg1PK91198 [http://www.ibm.com/support/docview.wss?uid=swg1PK91198].

PREREQUISITES
Please download the UpdateInstaller below to install this fix.

URL LANGUAGE SIZE(Bytes) UpdateInstaller [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21205991] US English 7250000 
INSTALLATION INSTRUCTIONS
Please review the readme.txt for detailed installation instructions.

URL LANGUAGE SIZE(Bytes) Readme [ftp://public.dhe.ibm.com/software/websphere/cw/support/fixes/JR31430/readme.txt] US English 4238 
DOWNLOAD PACKAGE




Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 6.0.2.4-WS-WPS-IFJR31430 06-22-2009 US English 167427 FTP [ftp://public.dhe.ibm.com/software/websphere/cw/support/fixes/JR31430/6.0.2.4-WS-WPS-IFJR31430.pak] 6.1.0.2-WS-WPS-IFJR31430 06-22-2009 US English 196344 FTP [ftp://public.dhe.ibm.com/software/websphere/cw/support/fixes/JR31430/6.1.0.2-WS-WPS-IFJR31430.pak] 6.1.2.0-WS-WBI-IFJR31430 06-22-2009 US English 211628 FTP [ftp://public.dhe.ibm.com/software/websphere/cw/support/fixes/JR31430/6.1.2.0-WS-WBI-IFJR31430.pak] 6.2.0.0-WS-WBI-IFJR31430 06-22-2009 US English 43243 FTP [ftp://public.dhe.ibm.com/software/websphere/cw/support/fixes/JR31430/6.2.0.0-WS-WBI-IFJR31430.pak] 
TECHNICAL SUPPORT
 Contact IBM Support using SR (http://www-306.ibm.com/software/support/probsub.html [http://www-306.ibm.com/software/support/probsub.html]), visit the WebSphere Process Server Support Web site (http://www.ibm.com/software/integration/wps/support/ [http://www.ibm.com/software/integration/wps/support/]), or contact 1-800-IBM-SERV (U.S. only). 

 [/support/docview.wss?uid=swg24025221&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24025221&aid=2]Problems (APARS) fixed
JR31430