Title: IBM S-TAP installation failure on Linux. - United States

Text:
S-TAP; Linux; mount; install TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 S-TAP installation failure on Linux. Error : GIM is installed but not running. Please start gim by running 'start gim_89422". 

CAUSE
Attempt to install Guardium 9.5 agent on Linux Redhat 7 machines failing. Error " Error : GIM is installed but not running. Please star 

gim by running 'start gim_89422".


RESOLVING THE PROBLEM
 

This issue occurs usually due to a wrong FS mount order which causes the STAP process being unable to find the FS already mounted. 

KTAP module gets loaded with the booting of the OS which requires the STAP directory to be available so that it can refer to guard_tap.ini file that has KTAP_INSTALLED set to 1. 

For example, if the current installation directory was to be under VCS control, the file system would not be mounted unless VCS comes up and all the underlying resources are brought up ( VG resource, volume resource, mount point resource ), resulting in K-TAP device not being loaded and returning the above error message.


To work around around this issue the following suggestions are being made: 
- Change the system startup sequence at the system level to ensure the Guardium applications are mounted before the startup procedures are invoked. If you cannot have Guardium installed on internal disk drives, this is the best option. 
- Try editing the etc/fstab so the mount point where Guardium is installed is the highest application in the list. 
- Add a sleep statement or other delay to the Guardium .conf files as a short term solution. 
Note: This option introduces software management issues and is the least desirable option. 

NOTE: Guardium Development is planning to make changes to the startup scripts to detect whether the file system is accessible. This change is expected during the 10.5 time frame.


If this does not resolve the issue, please contact Guardium Support. 

You should open a pmr, collect and upload the following to further investigate.

1.) S-TAP diag.

For more information on how to collect STAP diag refer the below link:

www-01.ibm.com/support/docview.wss?uid=swg21606592 

2.) From the server itself : 
# tune2fs -l /dev/mapper/appvg-guardiumlv 

3.) uname -a