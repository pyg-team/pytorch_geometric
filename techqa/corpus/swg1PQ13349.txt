Title: IBM PQ13349: ABEND40D RC=10 RECURSIVE ERRORS AS STORAGE IS NOT AVAILABLE DUE TO REPETITIVE X'800' GETMAINS THAT ARE NOT FREED - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Batch job receives an abend878 when storage is exhausted due to
   X'800' bytes being used by REXX/370 and not freed.  This storage
   is defined in the CEXEC's area.  During termination, as there is
   insufficient storage, the job ultimately fails with Abend40D
   RC=10.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Users running REXX compiled execs with       *
   *                 recursive calls of internal subroutines.     *
   ****************************************************************
   * PROBLEM DESCRIPTION: The REXX Library may receive an         *
   *                      abnormal end with system code 878       *
   *                      when calling subroutines recursively.   *
   *                      It denotes that the machine storage is  *
   *                      exhausted.                              *
   *                      In recursive calls, the REXX Library    *
   *                      getmains storage in portions of x'800'  *
   *                      bytes for each "Call" statement. Thus,  *
   *                      the free storage area is narrowed down  *
   *                      very close to the end. Subsequent       *
   *                      processing, e.g. issuing messages or    *
   *                      TSO routines requesting storage cause   *
   *                      then the system abend code 878.         *
   ****************************************************************
   * RECOMMENDATION: The REXX Library should issue the            *
   *                 corresponding message EAGREX0500E Error 5,   *
   *                 Machine storage exhausted... instead of      *
   *                 getting an system abend code 878.            *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problem was fixed in a way that the REXX Library terminates
   immediately when getting a RC<>0 from Getmain, when requesting
   storage sizes smaller than 4k. The appropriate error message
   EAGREX0500E is either listed in Job outlist, or on the TSO
   console displayed when running in foreground.
   The immediate exit from EAGRTPRC is inevitable due to the fact
   that the REXX processing cannot be continued without having
   enough free storage available.
   Corresponding to the IRXCMPTM definitions, the subsequent call
   to entry point EAGRTXTR is performed then to free main of all
   REXX engaged storage areas.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PQ13349
   
   
 * REPORTED COMPONENT NAME
   LIB REXX ON Z/O
   
   
 * REPORTED COMPONENT ID
   569501403
   
   
 * REPORTED RELEASE
   140
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2004-07-19
   
   
 * CLOSED DATE
   2005-02-11
   
   
 * LAST MODIFIED DATE
   2005-03-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PQ91495
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  EAGJRLIB EAGJXSIG
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LIB REXX ON Z/O
   
   
 * FIXED COMPONENT ID
   569501403
   
   

APPLICABLE COMPONENT LEVELS
 * R140 PSY UK00702 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK00702]
   UP05/02/25 P F502
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.