Title: IBM Tivoli Storage Manager Server and DB2 / db2sysc memory usage - United States

Text:
memory mem ram db2 db2sysc dbmempercent TECHNOTE (FAQ)

QUESTION
 Why does the db2sysc process in relation to Tivoli Storage Manager Server Version 6x seem to take up a significant amount of memory no matter how much additional memory is installed into the physical machine? 

ANSWER
The default setting for the Tivoli Storage Manager Server is to configure DB2 memory usage to AUTOMATIC. This setting allows DB2 to manage memory independently of Tivoli Storage Manager. 
The memory manager built in to DB2 is named stmm and it will make entries in the db2diag.log as it makes changes to memory usage such as the following:


 * 2010-03-22-10.34.12.228645-420 I8726E329 LEVEL: Event
 * 
 * PID : 29855 TID : 140730958141184PROC : db2star2
 * 
 * INSTANCE: tsm NODE : 000
 * 
 * FUNCTION: DB2 UDB, config/install, sqlfLogUpdateCfgParam, probe:30
 * 
 * CHANGE : CFG DBM: "Instance_memory" From: "20" <automatic> To: "780850" <automatic>
 * 

The memory usage will be allocated to a process named db2sysc . 

A section from the DB2 information center regarding DB2 / db2sysc memory usage: 
 * Controlling DB2 Memory consumption:
 * 
 * 
 * database_memory
 * 
 * database_memory 
 * 
 * database_memory
 * 
 * 
 * 
 * 
 * instance_memory
 * 
 * instance_memory
 * 
 * database_memory
 * 
 * 
 * 
 * The computed value (of memory usage) ranges between 75 percent and 95 percent of the physical RAM on the system - the larger the system, the higher the percentage. 


For example, a server with 32GB of available system memory could contain a db2sysc process using up to approximately 30GB of memory ( ~94% of available system memory) and this would be normal. 

It is not recommended to alter the memory usage of DB2 to anything other than AUTOMATIC in the event that only a single Tivoli Storage Manager instance is running on the server. 

Setting the DBMEMPERCENT option is recommended only in situations where more than a single Tivoli Storage Manager instance will run on the same physical machine or virtualized partition (in the case of an LPAR). In all other cases the default value should be used, 'AUTO'.  

PRODUCT ALIAS/SYNONYM
 TSM ADSM IBM Spectrum Protect