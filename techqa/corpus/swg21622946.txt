Title: IBM Installation of CF03 on Portal 8.0 may fails with exception - United States

Text:
Portal; cf 03; installation; failing TECHNOTE (TROUBLESHOOTING)

PROBLEM
When trying to install CF03 on Portal 8.0, Installation fails with below error:
opt/IBM/Rendering/PortalServer/installer/wp.config/config/includes/wp_cluster_cfg.xml:1436: Detected single app deployment time greater than 5 minutes



ENVIRONMENT
AIX, IBM i, Linux, Solaris, Windows

DIAGNOSING THE PROBLEM
Check the \wp_profile\ConfigEngine\log\ConfigTrace.log log file for the following error:-

/opt/IBM/Rendering/PortalServer/installer/wp.config/config/includes/wp_cluster_cfg.xml:1436: Detected single app deployment time greater than 5 minutes
at com.ibm.wplc.deploy.tasks.impl.ClusterWaitForSyncToCompleteImpl.execute(ClusterWaitForSyncToCompleteImpl.java:289)
at com.ibm.wplc.deploy.tasks.AbstractBaseAdminTask.executeBean(AbstractBaseAdminTask.java:541)
at com.ibm.wplc.deploy.tasks.AbstractBaseAdminTask.executeTask(AbstractBaseAdminTask.java:525)
at com.ibm.wplc.deploy.tasks.AbstractBaseWsAdminWrapperTask.executeTask(Abs
tractBaseWsAdminWrapperTask.java:376)

In addition to that you will see error like below:

[wplc-wait-for-sync-to-complete] Distribution of AJAX Proxy Configuration not complete.
[wplc-wait-for-sync-to-complete] Distribution of Dojo_Resources not complete.



RESOLVING THE PROBLEM
Workaround 1:



1. Try to increase maxAppTimeToWait="5" to 15 min. in wp_cluster_cfg.xml and run the installation again.

If doesn't work and you notice that wp_cluster_cfg.xml parameter revert back to lower value, then try the workaround below:

Workaround 2: 


1. Edit the PortalServer/wps.properties file and remove the lines for:

ProfileName
ProfileDirectory

Do not just comment them out; remove them completely.

2. Install CF03. It should go through successfully this time. It will NOT update the profile so it should skip the failing script.

3. Make the same timeout changes to wp_cluster_cfg.xml again.

4. Add ProfileName and ProfileDirectory back to wps.properties.

5. Execute this ConfigEngine script to update the profile:

./ConfigEngine.sh CONFIG-WP-PTF-CF -DWasPassword=<password> -DPortalAdminPwd=<password>

If doesn't work, continue to next step.

Workaround 3:

1 Edit the Installation Manager configuration file, found at /opt/IBM/InstallationManager/eclipse/configuration/config.ini 


2. Add the following line to this file: WP_UPDATE_SKIP_CONFIG=true [file://WP_UPDATE_SKIP_CONFIG=true] 


3. Save the file and run the portal installation again. You will need to run ./ConfigEngine.sh CONFIG-WP-PTF-CF -DWasPassword=<password> -DPortalAdminPwd=<password> to finish update.