Title: IBM How to disable RC4 stream cipher in IBM Tivoli Provisioning Manager server. - United States

Text:
 NEWS

ABSTRACT
 The following steps are required to disable RC4 stream cipher in IBM Tivoli Provisioning Manager server. 

CONTENT
 UNIX (AIX - Linux - Solaris) operating system


1.Log on as tioadmin.

2.Verify if Tivoli Provisioning Manager is up and running by issuing from the $TIO_HOME/tools directory:
./tioStatus.sh [was admin] [was admin password]

3.Stop the Tivoli Provisioning Manager node:
<WAS_HOME>/profiles/ctgAppSrv01/bin/stopNode.sh -username <was admin> -password <was admin password>

where the default value of <WAS_HOME> is:
/usr/IBM/WebSphere/AppServer or /opt/IBM/WebSphere/AppServer

4.Modify all WebSphere SSL configurations for the Agent Manager component by running the following manual steps from the WebSphere Application Server console:
• Log on to https://<TPM host name>:21003/ibm/console as wasadmin.
• Go to Security > SSL certificate and key management > SSL configurations
• Select each SSL configuration displayed, then click Quality of protection (QoP) settings under Additional Properties.
• On the Quality of protection (QoP) settings panel, under "Cipher suites" and then "Selected ciphers", select all cipher suites with stream cipher RC4 and click "<< Remove" button.
• Click OK and Save. 

5.Modify all WebSphere SSL configurations for Tivoli Provisioning Manager by running the following manual steps from the WebSphere Application Server console:
• Log on to https://<TPM host name>:9043/ibm/console as wasadmin.
• Go to Security > SSL certificate and key management > Manage endpoint security configurations.
• Select ctgNode01 from the Inbound folder and click SSL configurations.
• Select each SSL configuration displayed, then click Quality of protection (QoP) settings under Additional Properties.
• On the Quality of protection (QoP) settings panel, under "Cipher suites" and then "Selected ciphers", select all cipher suites with stream cipher RC4 and click "<< Remove" button.
• Click OK and Save. 

7.Synchronize the Tivoli Provisioning Manager node:
<WAS_HOME>/profiles/ctgAppSrv01/bin/syncNode.sh <hostname> 8879 -username <was admin> -password <was admin password>

8.Stop Tivoli Provisioning Manager from the $TIO_HOME/tools directory:
./tio.sh stop [was admin] [was admin password]

9.Configure Tivoli Provisioning Manager Web Services Cipher Suites in the way indicated in Web Service Cipher Suites Support Enablement [http://www.ibm.com/support/docview.wss?uid=swg21433936] where SSL_DHE_DSS_WITH_RC4_128_SHA and SSL_RSA_WITH_RC4_128_SHA have been removed from the cipher suites list.


10.Start Tivoli Provisioning Manager from the $TIO_HOME/tools directory:
./tio.sh start [was admin] [was admin password]



Windows operating system

Note: Use double quotes when you have path names with blanks.
For example, use “<WAS_HOME>\profiles\ctgAppSrv01\bin\stopNode.bat“ instead of <WAS_HOME>\profiles\ctgAppSrv01\bin\stopNode.bat.


1.Log on as tioadmin.

2.Verify if Tivoli Provisioning Manager is up and running by issuing from the %TIO_HOME%\tools directory:
tioStatus.cmd [was admin] [was admin password]

3.Stop the Tivoli Provisioning Manager node:
<WAS_HOME>\profiles\ctgAppSrv01\bin\stopNode.bat -username <was admin> -password <was admin password>

where the default value of <WAS_HOME> is:
C:\Program files\IBM\WebSphere\AppServer

4.Modify all WebSphere SSL configurations for the Agent Manager component by running the following manual steps from the WebSphere Application Server console:
• Log on to https://<TPM host name>:21003/ibm/console as wasadmin.
• Go to Security > SSL certificate and key management > SSL configurations.
• Select each SSL configuration displayed, then click Quality of protection (QoP) settings under Additional Properties.
• On the Quality of protection (QoP) settings panel, under "Cipher suites" and then "Selected ciphers", select all cipher suites with stream cipher RC4 and click "<< Remove" button.
• Click OK and Save. 


5.Modify all WebSphere SSL configurations for Tivoli Provisioning Manager by running the following manual steps from the WebSphere Application Server console:
• Log on to https://<TPM host name>:9043/ibm/console as wasadmin.
• Go to Security > SSL certificate and key management > Manage endpoint security configurations.
• Select ctgNode01 from the Inbound folder and click SSL configurations.
• Select each SSL configuration displayed, then click Quality of protection (QoP) settings under Additional Properties.
• On the Quality of protection (QoP) settings panel, under "Cipher suites" and then "Selected ciphers", select all cipher suites with stream cipher RC4 and click "<< Remove" button.
• Click OK and Save. 

7.Synchronize the Tivoli Provisioning Manager node:
<WAS_HOME>\profiles\ctgAppSrv01\bin\syncNode.bat <hostname> 8879 -username <was admin> -password <was admin password>

8.Stop Tivoli Provisioning Manager from the %TIO_HOME%\tools directory:
tio.cmd stop [was admin] [was admin password]

9.Remove RC4 from Tivoli Provisioning Manager Web Services Cipher Suites in the way indicated in Web Service Cipher Suites Support Enablement [http://www.ibm.com/support/docview.wss?uid=swg21433936] where SSL_DHE_DSS_WITH_RC4_128_SHA and SSL_RSA_WITH_RC4_128_SHA have been removed from the cipher suites list.


10.Start Tivoli Provisioning Manager from the %TIO_HOME%\tools directory: