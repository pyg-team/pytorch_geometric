Title: IBM Why am I receiving a "Remote connection is not following correct msg format" in the DB2 HADR Primary db2diag.log? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Why am I receiving a "Remote connection is not following correct msg format" in the DB2 HADR Primary db2diag.log? 

CAUSE
For example, reviewing the db2diag.log on the DB2 HADR Primary as follows:
2016-01-14-14.26.41.257395-420 I15201380A470 LEVEL: Warning 
PID : 35717340 TID : 461725 PROC : db2sysc 0 
INSTANCE: db2inst1 NODE : 000 DB : SAMPLE 
HOSTNAME: hostname1
EDUID : 461725 EDUNAME: db2hadrp.0.1 (SAMPLE) 0 
FUNCTION: DB2 UDB, High Availability Disaster Recovery, 
hdrHandleRemoteConn, probe:30160 
MESSAGE : TCP socket connection accepted. Remote Host: 144.25.100.11 
Port: 
49479

2016-01-14-14.26.41.359483-420 I15201851A546 LEVEL: Error 
PID : 35717340 TID : 461725 PROC : db2sysc 0 
INSTANCE: db2inst1 NODE : 000 DB : SAMPLE 
HOSTNAME: hostname1 
EDUID : 461725 EDUNAME: db2hadrp.0.1 (SAMPLE) 0 
FUNCTION: DB2 UDB, High Availability Disaster Recovery, 
hdrGetTcpMessage, probe:36800 
MESSAGE : ZRC=0x8780013D=-2021654211=HDR_ZRC_GENERIC_ERROR 
"generic HADR error code" 
DATA #1 : <preformatted> 
Remote connection is not following correct msg format 

2016-01-14-14.26.41.360005-420 I15202398A530 LEVEL: Error 
PID : 35717340 TID : 461725 PROC : db2sysc 0 
INSTANCE: db2inst1 NODE : 000 DB : SAMPLE 
HOSTNAME: hostname1 
EDUID : 461725 EDUNAME: db2hadrp.0.1 (SAMPLE) 0 
FUNCTION: DB2 UDB, High Availability Disaster Recovery, hdrHandleHsAck, 
probe:39960 
MESSAGE : ZRC=0x8780013D=-2021654211=HDR_ZRC_GENERIC_ERROR 
"generic HADR error code" 
DATA #1 : <preformatted> 
HADR handshake with remote host failed.




ANSWER
The above message - Remote connection is not following correct msg format, is conveying to DB2 that the HADR daemon received a connection request from Remote Host: 144.25.100.11, using Port: 49479, which is subsequently rejected because the request is not following DB2 HADR communications protocol. 

Everything is "Working as designed" here for DB2. 

The concern here is what kind of activity that is trying to connect from that host through that port which should be investigated and stop these requests. 

Contact your local Sys Adm or network team for them to investigate further.