Title: IBM IZ68077: ITM DLA BOOK CAUSES SYSTEMS TO BE MERGED INCORRECTLY - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Environment:
   TADDM 7.1.2.1
   ITM 6.2.1
   TBSM 4.2
   
   Problem Description:
   
   The ITM DLA (tmsdla) uses templates to determine what data to
   retrieve from application Agents.  There are cases where
   unexpected values are being returned for certain attributes in
   these templates.  When the resulting XML book is loaded into
   TADDM, it can have problems, such as attempting to
   incorrectly merge different machines data together.
   In TADDM, both machines are discovered via
   TADDM sensor discovery and these machines are different objects
   .  Incorrectly merging the XML data causes the data in
   TADDM to be inaccurate, and further export of these machines to
   TBSM results in incorrect BSM_Identity fields set in TBSM.
   
   A specific example would be where ITM UNIX OS Agents
   sometimes returned a SerialNumber value of "UNKNOWN".  The
   SerialNumber is used as part of a naming rule in TADDM, and when
   the SerialNumber was returned as "UNKNOWN" by multiple Agents,
   it attempted to incorrectly merge multiple machines' data
   together into one object in TADDM.
   
   One proposed solution would be to add functionality to the ITM
   DLA, and allow application Agent teams writing XML templates to
   update their templates to control which attribute/value pairs in
   the data should be handled differently.   This requires changes
   to the ITM DLA, and also separate changes to the application
   Agent XML templates.  The required changes to the ITM DLA
   are being handled in this APAR.
   
   Detailed Recreation Procedure:
   For the specific case cited above, simply run the tmsdla tool to
   produce XML output. Do a bulk-load of the info into TADDM.  For
   those nodes where the "model", "manufacturer", and
   "serialNumber" attributes are all the same value (because
   "serialNumber" was being returned as "UNKNOWN" by multiple
   Agents), the separate machine data will merge together into one.
   
   Related Files and Output:
   
   ITM DLA logs:
   tmsdla.log
   tmsdla.queries.log
   tmsdla.trace
   XML file generated by ITM DLA
   
   APAR Approver: RP
   
   
    
   
   

LOCAL FIX
 *  The ITM DLA XML output can be manually edited to change
   attributes that cause bulk load problems in TADDM.  In the
   specific example cited above, the serialNumber values were
   removed to avoid problems with the TADDM naming rules and to
   avoid incorrect merging of the data.
   
   
    
   
   

PROBLEM SUMMARY
 *  The agent data returned to the IBM Tivoli Monitoring DLA
   contains invalid data for attributes that are part of a TADDM
   naming rule. Examples of invalid data are "UNKNOWN" or
   "NOT_AVAILABLE".
   
   
    
   
   

PROBLEM CONCLUSION
 *  Allow attribute level filtering of data in the IBM Tivoli
   Monitoring DLA.
   
   Note: This APAR adds the ability to filter values at the
   attribute level to the ITM DLA tool, but new application DLA
   template files are required to implement the attribute level
   filters.  This requires updating the application support files
   installed on the portal server.  Please contact IBM support for
   the application you are experiencing trouble with to determine
   what application support maintenance must be applied to the
   portal server.
   
   The fix for this APAR is included in the following maintenance
   vehicle:
       | fix pack | 6.2.1-TIV-ITM-FP0003
       | fix pack | 6.2.2-TIV-ITM-FP0002
   
   
    
   
   

TEMPORARY FIX
 *  Remove attributes that contain invalid data from the IBM Tivoli
   Monitoring DLA book:
   1. Open the DLA book generated by the ITM DLA in a text editor.
   2. Find the attribute that contains the unexpected value seen in
   TADDM (ex. "UNKNOWN", "N/A", "NOT_APPLICABLE").
   3. Delete the attribute from the DLA book.
   4. Save the DLA book.
   5. Re-import the DLA book into TADDM.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ68077
   
   
 * REPORTED COMPONENT NAME
   TEPS
   
   
 * REPORTED COMPONENT ID
   5724C04PS
   
   
 * REPORTED RELEASE
   621
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-01-14
   
   
 * CLOSED DATE
   2010-04-28
   
   
 * LAST MODIFIED DATE
   2010-07-23
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TEPS
   
   
 * FIXED COMPONENT ID
   5724C04PS
   
   

APPLICABLE COMPONENT LEVELS
 * R621 PSY
   UP