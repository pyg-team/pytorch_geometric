Title: IBM UDA-SQL-0196 The table or view "System_DV" was not found - United States

Text:
UDA-SQL-0196 ; system_dv; summarization pruning; system; SQL Error Code = -286; tcr; grant TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Report "CPU Utilization for Single Resource" does not complete successfully and an error message UDA-SQL-0196 is instead issued. 

SYMPTOM
UDA-SQL-0196 The table or view "System_DV" was not found in the dictionary.
RSV-SRV-0042 Trace back:RSReportService.cpp(779)
QFException: CCL_CAUGHT: RSReportService::process() 
RSReportServiceMethod.cpp(265): QFException: CCL_RETHROW: 
RSReportServiceMethod::process()


CAUSE
The report "CPU Utilization for Single Resource" gathers data from Warehouse summarization view called "System_DV".
The error messages indicates the view is not available, and likely also the related table "System_D" is missing.

DIAGNOSING THE PROBLEM
Verify the following:


1) The historical collection for "System" attribute is enabled and table "System" is created and 
populated into the Warehouse database 

2) The Summarization and pruning activity for "System" attribute is also enabled. 

3) Summarization and Pruning agent is running 

If above conditions are OK, it is possible that the Summarization and Pruning activity for System
attribute is failing. In this case you need to check the Summarization & Pruning Agent logs for any error message concerning System attribute group.


RESOLVING THE PROBLEM
Open the S&P agent Java file called:
<hostname>_sy_java_<epochtime>-0x.log 

where x is a sequential number. 

Make a find for "System_" and look for any error.
In example, you may find something like: 

== 45119 t=work2 SQL IN ERROR:
statement name : System_H.Cre1 
SQL : CREATE TABLE "ITMUSER"."System_H"
template SQL : 
== 45120 t=work2 SQLException occured. SQL State = 42727 , SQL Error Code = -286 
== 45121 t=work2 com.ibm.db2.jcc.b.SqlException: A default table space could not be found with a page size of at least "8192" that authorization ID "ITMUSER" is authorized to use.
------------------------
This error messages explains why the table System_H and also the other summarization tables (like System_D) are not created. 

The DB2 user ITMUSER is missing authorization to use a tablespace with a page size of 8192.
Correct this error by executing: 

$> db2 list tablespaces show detail 

to identify a tablespace with page size 8192, and then grant the ITMUSER on it by: 

$> db2 GRANT USE OF TABLESPACE <tablespace_name> TO ITMUSER 

Restart the S&P agent and wait for the needed tables and views to be created.

 

PRODUCT ALIAS/SYNONYM
 Tivoli Common Reporting 2.1