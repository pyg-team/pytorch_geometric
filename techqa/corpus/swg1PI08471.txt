Title: IBM PI08471: THEME RENDERING PROBLEMS DURING LOAD TEST - United States

Text:
  FIXES ARE AVAILABLE
Fixes integrated in WebSphere Portal 8.0.0.1 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24034497]
Fixes integrated in WebSphere Portal 7.0.0.1 & 7.0.0.2 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24029452]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  During load tests pages initially work, then eventually fail to
   display properly.
   
   Intermittent failures under load. Pages fail to display
   correctly with custom theme based on the default Portal 8
   theme.
   
   SystemOut.log contains:
   
   servlet       E com.ibm.ws.webcontainer.servlet.ServletWrapper
   service SRVE0068E: An exception was thrown by one of the
   service methods of the servlet
   [/themes/html/dynamicSpots/modules/tagging_rating/head.jsp] in
   application [Theme_Modules]. Exception created :
   [java.lang.NullPointerException
    at
   com.ibm.portal.resolver.helper.Parameters.getParameter(Parameter
   s.java:437)
    at
   com.ibm.portal.resolver.helper.Parameters.getParameter(Parameter
   s.java:161)
    at
   com.ibm.wps.resolver.resource.ResourceHttpServletRequest.getHead
   er(ResourceHttpServletRequest.java:656)
   ...
    at
   com.ibm.wps.engine.state.WPServerVPContext.determineHostName(WPS
   erverVPContext.java:80)
   ...
   ... Servlet       E com.ibm.wps.engine.Servlet doGet
   EJPEJ0004E: An unexpected exception occurred.
   
   com.ibm.portal.state.phases.exceptions.PhaseException:EJPEI0105E
   : An error occurred during the rendering in phase
   [com.ibm.wps.engine.phases.WPRenderPhase@7c0d3335].
    at
   com.ibm.wps.engine.phases.WPRenderPhase.processRendering(WPRende
   rPhase.java:549)
   ...
    at com.ibm.wps.engine.Servlet.doGet(Servlet.java:686)
   ...
   Caused by: javax.servlet.jsp.JspException:
   com.ibm.wps.resolver.data.exceptions.URIProcessingIOException:
   EJCBD0021E: The URI [dav:fs-type1/themes/Portal8.0/theme.html]
   and parameters
   [['themeURI'=['dav:fs-type1/themes/Portal8.0/theme.html'],
   'mime-type'=['text/html']]] could not be processed:
   [EJCBD0021E: The URI
   [dav:fs-type1/themes/Portal8.0/nls/theme_en.html] and
   parameters
   [['themeURI'=['dav:fs-type1/themes/Portal8.0/theme.html'],
   'mime-type'=['text/html']]] could not be processed:
   [EJCBD0019E: The data source identified by the URI [null] and
   parameters []] could not be processed: [EJCBD0021E: The URI
   [res:/.../themes/html/dynamicSpots/navigation.jsp?rootClass=wpth
   emePrimaryNav%20wpthemeLeft&startLevel=1] and parameters []]
   could not be processed: [null]]]]
    at
   com.ibm.wps.engine.templates.themes.Default.render(Default.java:
   237)
   ...
   Caused by: java.lang.NullPointerException
    at
   com.ibm.portal.resolver.helper.Parameters.getParameter(Parameter
   s.java:437)
    at
   com.ibm.portal.resolver.helper.Parameters.getParameter(Parameter
   s.java:161)
    at
   com.ibm.wps.resolver.resource.ResourceHttpServletRequest.getHead
   er(ResourceHttpServletRequest.java:656)
    at
   com.ibm.wps.engine.state.WPServerVPContext.determineHostName(WPS
   erverVPContext.java:80)
   
   
    
   
   

LOCAL FIX
 *  None available
   
   
    
   
   

PROBLEM SUMMARY
 *  During load tests pages initially work, then eventually fail to
   display properly.
   
   Intermittent failures under load. Pages fail to display
   correctly with custom theme based on the default Portal 8
   theme.
   .
   
   
    
   
   

PROBLEM CONCLUSION
 *  A code fix for this issue is integrated into the WebSphere
   Portal & WCM Combined Cumulative Fix 10 (PI08371 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI08371]) for Portal
   8.0.0.1 available from Fix Central:
   
   http://www-933.ibm.com/support/fixcentral/swg/selectFixes?parent
   =ibm/WebSphere&product=ibm/WebSphere/WebSphere+Portal&release=Al [http://www-933.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm/WebSphere&product=ibm/WebSphere/WebSphere+Portal&release=Al]
   l&platform=All&function=aparId&apars=PI08371
   
   You might need to type or paste the complete address into your
   Web browser.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI08471
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-12-19
   
   
 * CLOSED DATE
   2014-02-25
   
   
 * LAST MODIFIED DATE
   2014-02-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * FIXED COMPONENT ID
   5724E7600
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP