Title: IBM TBSM Agent customization for split server installation. - United States

Text:
tbsm agent custom change remove stop prevent TECHNOTE (FAQ)

QUESTION
 How do I change the TBSM agent for separate data and dashboard servers? 

CAUSE
The TBSM Agent will try to monitor all TBSM processes and URLs, even if the servers are split across physical systems and not all are running on the same one.

ANSWER
For the processes monitoring: 

1. First, shut down the agent - .../ITM/bin/itmcmd agent stop r9 

2. Take a backup copy of the file: .../ITM/<arch>/r9/bin/kr9.ref 

3. Then edit the file: .../ITM/<arch>/r9/bin/kr9.ref and in the section <process_list> you will see something similar to the following: 

<process_list> 
<process arg="TBSMProfile" fullname="" includeChildProcesses="false" matcharg="true" matchargwithvalue="false" matchfullarg="false" matchfullname="false" name="TBSM Data Server" procname="java" value=""/> 
<process arg="TIPProfile" fullname="" includeChildProcesses="false" matcharg="true" matchargwithvalue="false" matchfullarg="false" matchfullname="false" name="TBSM Dashboard Server" procname="java" value=""/> 
<process arg="" fullname="" includeChildProcesses="false" matcharg="false" matchargwithvalue="false" matchfullarg="false" matchfullname="false" name="TBSM Process Control Agent" procname="${NCO_PAD_BASE_NAME}" value=""/> 
<process arg="" fullname="" includeChildProcesses="false" matcharg="false" matchargwithvalue="false" matchfullarg="false" matchfullname="false" name="TBSM OMNIbus Object Server" procname="nco_objserv" value=""/> 
<process arg="com/ibm/tbsm/cltools/service/ASIXMLToolkitSvc" fullname="" includeChildProcesses="false" matcharg="true" matchargwithvalue="false" matchfullarg="false" matchfullname="false" name="TBSM Discovery Library toolkit" procname="${DL_TOOLKIT_BASE_NAME}" value=""/> 
</process_list> 

4. Remove the line(s) for any process(es) that you do not want to monitor on that system. So, for example, on a Dashboard Server, you might want to remove the line containing: 
process arg="TBSMProfile". 

5. When you have removed all those you want, save the file and start the agent: 
.../ITM/bin/itmcmd agent start r9 

6. Then check your ITM Client and you should see those processes have gone from the TBSM Availability workspace. 

 

For the URL Monitoring: 


1. First, shut down the agent - .../ITM/bin/itmcmd agent stop r9 

2. Take a backup copy of the file: .../ITM/<arch>/r9/bin/tbsmmonitorcdp.props

3. Then edit the file: .../ITM/<arch>/r9/bin/tbsmmonitorcdp.props and you will see 2 lines:

tbsmmonitorcdp.url.dataserver=https://localhost:17316/ibm/console
tbsmmonitorcdp.url.dashboard=https://localhost:16311/ibm/console

4. Remove or comment out the line for the URL you do not what to monitor on that system.

5. When finished, save the file and start the agent: 
.../ITM/bin/itmcmd agent start r9 

6. Then check your ITM Client and you should only see the URL you want to monitor.