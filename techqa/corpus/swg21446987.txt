Title: IBM Computing and allocating sufficient memory for Metadata Workbench and for Business Glossary, versions 8.5, 8.7 and 9.1 - United States

Text:
bg812relnotes; bg85relnotes; mdwb812relnotes; mdwb85relnotes; is85relnotes; is81relnotes TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 InfoSphere Metadata Workbench and InfoSphere Business Glossary coexist with other IBM InfoSphere Information Server product modules and with WebSphere Application Server. You must adjust the amount of memory that InfoSphere Metadata Workbench and InfoSphere Business Glossary are allowed to use to prevent negative impact on the operation of other product modules that are installed on the same server, according to the total memory available to the WebSphere Application Server. 

SYMPTOM
Either of the following messages is displayed: 

 * The system is currently busy. Retry your request at a later time. 
 * The current task cannot be completed due to system limitations. Your options: 
   a. Ask the IBM InfoSphere Information Server system administrator to increase the JVM heap size and maxObjectsInMemory size.
   b. Run your task by using the Command Line Interface (CLI), if possible.
   c. Retry your request at a later time, when there are fewer concurrent requests.


RESOLVING THE PROBLEM
Note: Before you start adjusting the memory settings, you must know the installation directory where IBM InfoSphere Information Server is installed. 
The default InfoSphere Metadata Workbench and InfoSphere Business Glossary memory consumption limit of 200 MB is meant for the default WebSphere Application Server maximum heap setting for the whole suite. For typical operations, you need to increase the maximum heap setting of WebSphere Application Server. You decide how much of this memory to give to InfoSphere Metadata Workbench and InfoSphere Business Glossary. 

Internally, the number of KB corresponds to the number of objects that InfoSphere Metadata Workbench and InfoSphere Business Glossary are allowed to temporarily hold in memory at one time, such as during some reporting activities. 

Typically, 6 GB for the WebSphere Application Server maximum heap setting and 4000000 maxObjectsInMemory is sufficient. 

The RAM size for the WebSphere Application Server must be large enough to allow the operating system and any additional processes to run smoothly. Usually, at least 2 GB more than the WebSphere Application Server maximum heap setting is sufficient. See the following table for memory sizing of a typical installation. 

Server Host + at least 2 GB 8 GB RAM or more WebSphere Application Server
JVM hosts
InfoSphere Information Server + at least 2 GB 6 GB max heap size or more InfoSphere Metadata Workbench maxObjectsInMemory=3500000 InfoSphere Business Glossary maxObjectsInMemory=500000 [/support/docview.wss?uid=swg21446987&amp;aid=1] Recommended total:
maxObjectsInMemory=4000000 (4 million)
consumes up to 4 GB 
To adjust the memory settings, complete the following steps: 

1. Change the JVM maximum heap size. 

Option Description WebSphere Application Server Liberty Profile Follow the instructions in the Setting generic JVM arguments in the WebSphere Application Server V8.5 Liberty profile [http://www-01.ibm.com/support/docview.wss?uid=swg21596474&cp=SSZJPZ_11.3.0] technote. IBM WebSphere Application Server Network Deployment a. Open the WebSphere Application Server administrative console. 
b. In the left pane, click Servers > Server Types > WebSphere Application Servers. In the Application Servers list, click the name of the server.
c. In the Server Infrastructure section, expand Java and Process Management, and then click Process Definition. 
d. In the Additional Properties section, click Java Virtual Machine. In the Maximum Heap Size field, type the maxHeap value. For example, for 6 GB type 6144M. 
e. Click Save. 
f. Restart WebSphere Application Server for the memory allocation to take effect. 
2. Allocate the computed amount of memory for each product module:  * 
 * 
 * 
 * Servers
 * 
 * 
 * 
 * WebSphere Application Servers
 * 
 * 
 * 
 * 
 * 
 * Java and Process management
 * 
 * Process Definition
 * 
 * 
 * 
 * Java Virtual Machine
 * 
 * 
 * 
 * Custom Properties
 * 
 * 
 * 
 * i. Click New. 
   ii. For InfoSphere Metadata Workbench, enter the name "com.ibm.is.wb.maxObjectsInMemory" or for InfoSphere Business Glossary, enter the name "com.ibm.is.bg.maxObjectsInMemory" and the desired numeric value that you computed in step 1. 
   iii. Click OK. 
   iv. On the "Messages" section at the top, click Save. 
 * 


3. Important: The maximum memory allocation for InfoSphere Metadata Workbench and InfoSphere Business Glossary must always be less than the maximum heap size for WebSphere Application Server. Therefore, whenever you reduce the maximum heap size for WebSphere Application Server, you might need to also reduce the memory allocation for InfoSphere Metadata Workbench and InfoSphere Business Glossary. Otherwise, an OutOfMemory condition might occur that stops the operation of WebSphere Application Server and the entire InfoSphere Information Server suite. 


Note: For instructions for InfoSphere Information Governance Catalog versions 11.3 and 11.5, see the following Knowledge Center topics: 
- Computing and allocating memory in version 11.3 [https://www.ibm.com/support/knowledgecenter/en/SSZJPZ_11.3.0/com.ibm.swg.im.iis.mdwb.doc/topics/t_computing_memory.html] 
- Computing and allocating memory in version 11.5 [https://www.ibm.com/support/knowledgecenter/en/SSZJPZ_11.5.0/com.ibm.swg.im.iis.mdwb.doc/topics/t_computing_memory.html] 



Cross reference information Segment Product Component Platform Version Edition Information Management InfoSphere Metadata Workbench AIX, HP-UX, Linux, Solaris, Windows 9.1, 8.7.0.1, 8.7, 8.5.0.3, 8.5.0.2, 8.5.0.1, 8.5 All Editions