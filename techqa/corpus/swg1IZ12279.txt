Title: IBM IZ12279: DB2 ALTERNATE SERVER FEATURE CAN CORRUPT DB DIRECTORY ENTRY ON  CLIENT RUNNING JAVA DB2 APPS ON MULTIPROCESSOR MACHINES. - United States

Text:
AIX  FIXES ARE AVAILABLE
DB2 Version 9.1 Fix Pack 7 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24022678]
DB2 Version 9.1 Fix Pack 5 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24019146]
DB2 Version 9.1 Fix Pack 6 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24020890]
DB2 Version 9.1 Fix Pack 6a for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24021876]
DB2 Version 9.1 Fix Pack 7a for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24024113]
DB2 Version 9.1 Fix Pack 8 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24024502]
DB2 Version 9.1 Fix Pack 9 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24026384]
DB2 Version 9.1 Fix Pack 10 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24029027]
DB2 Version 9.1 Fix Pack 11 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24031281]
DB2 Version 9.1 Fix Pack 12 for Linux, UNIX and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24033023]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The high availabilty feature alternate server can lead to
   database directory corruption or duplicate entries on
   multiprocessor clients running java application accessing DB2.
   
   The problem may have symptons of duclicate DB directory entries,
   corrupted DB entries or missing DB entries.
   
   Errors similar to the following may also be seen in the
   db2diag.log :
   
   2007-06-13-09.11.05.513271+120 E7758C358          LEVEL: Warning
   (OS)
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, oper system services, sqlochgfileptr,
   probe:100
   CALLED  : OS, -, unspecified_system_function
   OSERR   : EBADF (9) "A file descriptor does not refer to an open
   file."
   
   2007-06-13-09.11.05.513751+120 I8117C272          LEVEL: Severe
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, base sys utilities, sqleGetAlternateServer,
   probe:20
   RETCODE : ZRC=0xFFFFD8EC=-10004
   
   
    
   
   

LOCAL FIX
 *  Avoid using the alternate server feature
   
   
    
   
   

PROBLEM SUMMARY
 *  Users Affected :
   Db2 users using alternate server feature with
   Db2 java applications on multiprocessor clients.
   Problem Description:
   Db2 alternate server feature can corrupt db entry on client
   running Java Db2 applications on multiprocessor client machines.
   The problem may have symptons of duclicate DB directory entries,
   corrupted DB entries or missing DB entries.
   
   Errors similar to the following may also be seen in the
   db2diag.log :
   
   2007-06-13-09.11.05.513271+120 E7758C358          LEVEL: Warning
   (OS)
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, oper system services, sqlochgfileptr,
   probe:100
   CALLED  : OS, -, unspecified_system_function
   OSERR   : EBADF (9) "A file descriptor does not refer to an open
   file."
   
   2007-06-13-09.11.05.513751+120 I8117C272          LEVEL: Severe
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, base sys utilities, sqleGetAlternateServer,
   probe:20
   RETCODE : ZRC=0xFFFFD8EC=-10004
   Problem Summary:
   Possible corruption of the DB directory entries when using the
   Alternate Server High Availability feature.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem first fixed in Db2 V9.1 FP5
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ12279
   
   
 * REPORTED COMPONENT NAME
   DB2 CEE AIX
   
   
 * REPORTED COMPONENT ID
   5765F3000
   
   
 * REPORTED RELEASE
   910
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-01-04
   
   
 * CLOSED DATE
   2008-07-14
   
   
 * LAST MODIFIED DATE
   2008-07-14
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    IZ12278 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ12278]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    IZ26781 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ26781]
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 CEE AIX
   
   
 * FIXED COMPONENT ID
   5765F3000
   
   

APPLICABLE COMPONENT LEVELS
 * R910 PSY
   UP