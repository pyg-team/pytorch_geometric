Title: IBM Exporting work items to HTML or CSV format in RTC - United States

Text:
1329510; RTC; work item; export; failure; CSV; Can't find the file at; esiEnable; HTML; IHS; Response already committed TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote explains how to resolve an error, that can occur when exporting workitems to HTML or CSV formats from IBM Rational Team Concert (RTC) runs in an IBM Websphere Application Server (WAS) with IBM HTTP Server as front-end environment. 

SYMPTOM
After completing the Export Work Items wizard, the export could fail with the message: 

Can't find the file at <HTML_Export_URL>

For CSV exports, a blank file is generated. Both from the WebUI and the rich Client, work items queries can be run. However, work items export will fail with the message:


[/support/docview.wss?uid=swg21329510&aid=1] [/support/docview.wss?uid=swg21329510&aid=1]


The following entry can be found in the server's log:
00000038 SRTServletRes W WARNING: Cannot set status. Response already committed.


CAUSE
The Edge Side Include (ESI) plug-in prevents the response received from the server to be committed.


ENVIRONMENT
The architecture context of this issue is the 3 servers configuration (see link below): 

 *  IBM HTTP Server [IHS] as the front-end. IBM Rational Team Concert server runs on IBM Websphere Application Server. Repository database might be on a third server. 

The IHS server is deployed as the IHS for WAS plug-in, and acts as the front-end that redirects request to the RTC server. 

DIAGNOSING THE PROBLEM
With the above architecture in place, all other operations / commands complete successfully. 

However, the export will fail. When removing the IHS from the architecture in place, the export (both HTML and CSV) would complete successfully.

The following entry can be found in the server's log: 

 * 
   00000038 SRTServletRes W WARNING: Cannot set status. Response already committed.




RESOLVING THE PROBLEM
Disable the Edge Side Include (ESI) plug-in by modifying the Web server plug-in properties [http://publib.boulder.ibm.com/infocenter/wasinfo/v6r1/topic/com.ibm.websphere.base.doc/info/aes/ae/uwsv_plugin_props.html]. 

 * Default value is: <Property Name="esiEnable" Value="true"/> 
 * New value should be: <Property Name="esiEnable" Value="false"/>

RELATED INFORMATION
 Configuring Edge Side Include caching [http://publib.boulder.ibm.com/infocenter/wasinfo/v6r1/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/tdyn_esiedgecaching.html]
Web server plug-in properties [http://publib.boulder.ibm.com/infocenter/wasinfo/v6r1/index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/uwsv_plugin_props.html]