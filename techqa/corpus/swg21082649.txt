Title: IBM Shutdown of CICS TS hanging after upgrading to new release - United States

Text:
hangs hung shut migrates migration upgrades intermittent 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97 5655S9700 R670 670 R700 700 HCI6700 5655-S97 5655S97 kixinfo kixdcfcic620 kixdcfcic630 kixdcfcic640 kixdcfcic650 kixdcfcic660 kixdcfcic670 TCP_SHUT TCP CSKP KIXINFO TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Your CICS Transaction Server (CICS TS) region intermittently hangs at shutdown when you use CEMT PERFORM SHUT. This started happening after upgrading to a new release of CICS. It is most likely to occur when upgrading from CICS/ESA V4.1 (End Of Service date 31 Dec 2002). 

CAUSE
The region contains a transaction definition for CSKP that points to program DFHAKP.

DIAGNOSING THE PROBLEM
You can enter the following CICS commands to help you determine if this item describes your problem:


 * CEMT INQUIRE TRANSACTION(CSKP) to display the program CSKP is pointing to. 
 * CEDA DI TRANSACTION(CSKP) GROUP(*) to display all the groups containing a definition for CSKP. 
 * CEDA DISPLAY LIST(*) G(DFHCOMP5) to display all the group lists containing group DFHCOMP5. 


A CICS dump of the region shows many entries for TCP_SHUT. This is related to TRANSID CSTP (DFHZDSP). 
RESOLVING THE PROBLEM
Remove group DFHCOMP5 [http://publib.boulder.ibm.com/infocenter/cicsts/v3r2/index.jsp?topic=/com.ibm.cics.ts.doc/dfha4/topics/dfha4la.html] from the GRPLIST [http://publib.boulder.ibm.com/infocenter/cicsts/v3r2/index.jsp?topic=/com.ibm.cics.ts.doc/dfha2/parameters/dfha2_grplist.html]in all of your regions except for CICS/ESA V4.1 regions.

Note: CICS/ESA V4.1 went End Of Service (EOS) on 31 Dec 2002. CICS/ESA V4.1 is not the same as CICS Transaction Server for z/OS V4.1 that became available on 26 June 2009.

DFHCOMP5 is a compatibility group for CICS/ESA V4.1. It contains a definition for transaction CSKP.

In releases of CICS higher than CICS/ESA V4.1, there should be no transaction definition for CSKP in the GRPLIST. CICS dynamically adds the transaction definition for CSKP during initialization. The newer transaction definition points to program DFHRMXN3.





PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server