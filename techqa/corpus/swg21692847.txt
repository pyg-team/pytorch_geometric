Title: IBM Changes in the Liberty profile extprogmodels feature cause problems when you upgrade to or deploy Version 8.5.5.4 servers in WebSphere Application Server Patterns - United States

Text:
WASPatternsV1RNotes TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Beginning in Version 8.5.5.4 of the IBM Websphere Application Server Liberty profile, the extprogmodels feature was replaced with the extendedPackage-1.0 Liberty Repository add-on. This change cause problems when you try to upgrade to Version 8.5.5.4 or later of the Liberty profile in IBM WebSphere Application Server Patterns. 

SYMPTOM
In WebSphere Application Server Patterns 1.0.0.0 or 1.0.0.1, if you attempt to install Version 8.5.5.4 Liberty profile servers, you receive the following error message: 

 * 
 * [Mon 15 Dec 2014 05:30:23 PM UTC] vsys/im.py 139922626193152 pid=18547 DEBUG CRIMA1151E ERROR: 
 * 
 * The "extprogmodels" feature cannot be found in package com.ibm.websphere.liberty.ND.v85 
 * 
 * (IBM WebSphere Application Server Liberty Network Deployment 8.5.5.4). 
 * 


In WebSphere Application Server Patterns Network Deployment 1.0.0.2, when you deploy Version 8.5.5.4 or later Liberty profile servers, the deployment does not include the following features, which were previously included in Liberty 8.5.5.3:  * jaxb
   jaxws
   mongodb
   wasJmsClient
   wasJmsSecurity
   wasJmsServer
   wmqJmsClient
   wsSecurity


In WebSphere Application Server Patterns 1.0.0.0 or 1.0.0.1 and WebSphere Application Server Patterns Network Deployment 1.0.0.2, if you deployed Version 8.5.5.2 or 8.5.5.3 Liberty profile servers and you attempt to upgrade to Version 8.5.5.4, you receive the following error message:  * [Mon 15 Dec 2014 04:30:39 PM UTC] vsys/im.py 139701457323776 pid=21601 DEBUG out is ERROR: 
 * 
 * Unable to connect to the IBM WebSphere Liberty repository or local Installation Manager repository. 
 * 
 * Verify that firewalls are configured to allow Installation Manager to access the internet or that 
 * 
 * the local Installation Manager repository can be accessed. If the problem persists, then the 
 * 
 * repository server might be unavailable. To continue the installation without additional assets, 
 * 
 * specify user.feature="" and user.addon=""


RESOLVING THE PROBLEM
 

To deploy a new pattern with Version 8.5.5.4 of the Liberty profile, install IBM WebSphere Application Server Network Deployment Patterns 1.0.0.2 or later. To upgrade from Version 8.5.5.2 or 8.5.5.3 of the Liberty profile to Version 8.5.5.4 or later, log in to the virtual machine as the root user and run the following command:  * sudo -u virtuser /home/virtuser/IBM/InstallationManager/eclipse/tools/imcl modify com.ibm.websphere.liberty.ND.v85 -properties user.addon='',user.feature=''
 *  
 * After you run this command, you can upgrade to Version 8.5.5.4, but the following features are removed:
   jaxb
   jaxws
   mongodb
   wasJmsClient
   wasJmsSecurity
   wasJmsServer
   wmqJmsClient
   wsSecurity 
 *  
 * If you are installing or upgrading Version 8.5.5.4 of the WebSphere Application Server Network Deployment Liberty profile, the required feature files are cached on the virtual machine but are not automatically installed. To install these features, run the following featureManager command from the bin directory of your Liberty profile server installation directory:
   sudo -u virtuser <liberty_home>/bin/featureManager install extendedPackage-1.0 --acceptLicense --location=/opt/IBM/InstallationManager_AppServer_Shared/files/
   
   For example:
   sudo -u virtuser /opt/IBM/WebSphere/Liberty/bin/featureManager install extendedPackage-1.0 --acceptLicense --location=/opt/IBM/InstallationManager_AppServer_Shared/files/

RELATED INFORMATION
#WebSphere Application Server Version 8.5 release notes [http://www14.software.ibm.com/webapp/wsbroker/redirect?version=phil&product=was-nd-mp&topic=relnotes]
WebSphere Application Server ND Patterns documentation [http://www14.software.ibm.com/webapp/wsbroker/redirect?version=pattv1&product=was-patt-nd&topic=welcome_patternsBnd]