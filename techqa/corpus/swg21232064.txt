Title: IBM JVMCL052: Cannot allocate memory when entering make jvm for CICS Java samples - United States

Text:
JVMDBG001 ; Out of memory aborting ; JVMCL052 FSUM8226 131 make jvm 5655M1500 R640 640 R400 400 HCI6400 ; 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 ; 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97; kixinfo TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You receive the following messages when entering the make jvm command to build Java™ samples that come with CICS Transaction Sever for z/OS (CICS TS:

JVMDBG001: malloc failed to allocate 100016 bytes, time: Wed Feb 22 
**Out of memory, aborting**
*** panic: JVMCL052: Cannot allocate memory in initialize Heap for heap segment 

SYMPTOM
Following is a more complete list of messages received:


JVMDBG001: malloc failed to allocate 100016 bytes, time: Wed Feb 22 22:28:03 2006
**Out of memory, aborting**
*** panic: JVMCL052: Cannot allocate memory in initializeHeap for heap segment
JVMDG217: Dump Handler is Processing Signal 3 - Please Wait.
JVMHP002: JVM requesting System Transaction Dump
JVMHP012: System Transaction Dump written to
MCCLURE.JVM.TDUMP.MCCLURE7.D060222.T222803
JVMDBG001: malloc failed to allocate 2621440 bytes, time: Wed Feb 22 22:28:09 2006
JVMDBG001: malloc failed to allocate 2097152 bytes, time: Wed Feb 22 22:28:09 2006
JVMDBG001: malloc failed to allocate 1572864 bytes, time: Wed Feb 22 22:28:09 2006
JVMDBG001: malloc failed to allocate 1048576 bytes, time: Wed Feb 22 22:28:09 2006
JVMDBG001: malloc failed to allocate 524288 bytes, time: Wed Feb 22 22:28:09 2006
JVMDG305: Java core not written, unable to allocate memory for print buffer.
JVMDG215: Dump Handler has Processed Error Signal 3.
CEE5207E The signal SIGABRT was received.
FSUM8226 make: Error code 131

CAUSE
The TSO region Size was too small. Building the Java samples [http://publib.boulder.ibm.com/infocenter/cicsts/v4r1/topic/com.ibm.cics.ts.java.doc/topics/dfhpjmv.html] in the CICS TS information center states If you use OMVS to perform this task, note that you might need to increase the size of your TSO region when you are using the IBM 31-bit SDK for z/OS®, Java Technology Edition.



RESOLVING THE PROBLEM
Increase your TSO region Size by entering a new value when logging onto TSO [http://publibz.boulder.ibm.com/cgi-bin/bookmgr_OS390/BOOKS/IKJ4C260/1.1.2.1?SHELF=IKJ4BKC0&DT=20110621112201]. In this case, the TSO region size was 6000 and increasing it to 020000 on the logon panel resolved the problem. 

See Limiting the size of each user's address space [http://publibz.boulder.ibm.com/cgi-bin/bookmgr_OS390/BOOKS/IKJ4B4C0/3.2.2?SHELF=IKJ4BKC0&DT=20110622122347] in the TSO/E Customization Guide if the region size you specify when logging on is overridden.



RELATED INFORMATION
#Storage Tuning of JVMs under CICS TS 3.1 and 3.2 [http://www.ibm.com/support/docview.wss?uid=swg27009091]




PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server