Title: IBM JR45889: JAVA.LANG.STACKOVERFLOWERROR OCCURS WHEN VARIABLE TYPED DEFINED AS ANY - United States

Text:
  A FIX IS AVAILABLE
Version 8.0.1 Fix Pack 2 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24035701]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When defining a variable of type ANY and is not a list or array,
   the code loops until a StackOverflowError occurs.
   
   Caused by: java.lang.StackOverflowError
    at
   com.lombardisoftware.core.VariableObjectSerializer.serializeInte
   rnal(VariableObjectSerializer.java:112)
    at
   com.lombardisoftware.core.VariableObjectSerializer.serializeInte
   rnal(VariableObjectSerializer.java:206)
    at
   com.lombardisoftware.core.VariableObjectSerializer.serializeInte
   rnal(VariableObjectSerializer.java:206)
   ......
   ......
   ......
   
    at
   com.lombardisoftware.core.VariableObjectSerializer.serializeInte
   rnal(VariableObjectSerializer.java:206)
    at
   com.lombardisoftware.core.VariableObjectSerializer.serialize(Var
   iableObjectSerializer.java:76)
    at com.lombardisoftware.core.TWObject.toXML(TWObject.java:512)
    at
   com.lombardisoftware.core.script.js.TWObjectScriptable.toXML(TWO
   bjectScriptable.java:128)
    at
   com.lombardisoftware.core.script.js.TWObjectScriptable.toString(
   TWObjectScriptable.java:90)
    at
   com.lombardisoftware.core.script.js.TWObjectScriptable.getString
   Value(TWObjectScriptable.java:559)
    at
   com.lombardisoftware.core.script.js.TWObjectScriptable.getDefaul
   tValue(TWObjectScriptable.java:569)
    at
   org.mozilla.javascript.ScriptRuntime.toString(ScriptRuntime.java
   :724)
    at
   org.mozilla.javascript.ScriptRuntime.add(ScriptRuntime.java:2570
   )
    at
   org.mozilla.javascript.Interpreter.do_add(Interpreter.java:4669)
    at
   org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.jav
   a:2958)
    at
   org.mozilla.javascript.Interpreter.interpret(Interpreter.java:24
   87)
    at
   org.mozilla.javascript.InterpretedFunction.call(InterpretedFunct
   ion.java:164)
    at
   org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.j
   ava:398)
    at
   org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.jav
   a:3070)
    at
   org.mozilla.javascript.InterpretedFunction.exec(InterpretedFunct
   ion.java:175)
    at
   com.lombardisoftware.core.script.js.JSScript.exec(JSScript.java:
   60)
    at
   com.lombardisoftware.core.script.js.JavaScriptRunner$2.execute(J
   avaScriptRunner.java:256)
    at
   com.lombardisoftware.core.script.js.PreparedScope.executeWithSco
   pe(PreparedScope.java:204)
   
   
    
   
   

LOCAL FIX
 *  n/a
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Applications with variables defined as ANY  *
   *                  type.                                       *
   ****************************************************************
   * PROBLEM DESCRIPTION: StackOverflowError may occur when       *
   *                      process variables are defined as ANY    *
   *                      type.                                   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When defining a variable of type ANY and is not a list or
   array, a StackOverflowError may occur when reading the
   variable. During serialization/deserialization the code flow
   enters an infinite loop trying to match the TWObject type and
   terminates with a StackOverflowError.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Code changes have been made to properly assign the object type
   to mitigate the recurrsive behavior. An interim fix will be
   available on v8.0.1.0.  This fix will also be integrated into
   the next release.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR45889
   
   
 * REPORTED COMPONENT NAME
   BPM ADVANCED
   
   
 * REPORTED COMPONENT ID
   5725C9400
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-03-01
   
   
 * CLOSED DATE
   2013-03-27
   
   
 * LAST MODIFIED DATE
   2015-12-31
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM ADVANCED
   
   
 * FIXED COMPONENT ID
   5725C9400
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP