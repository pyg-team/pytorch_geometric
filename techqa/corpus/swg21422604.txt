Title: IBM Set Trace on ITCAM for SOA Agent - United States

Text:
CAMSOAAGENT CAMSOACD CAMSOALOG CAMSOAALL "Collecting Data" Set SOA TEMA Agent Data Trace TECHNOTE (FAQ)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 US English 

QUESTION
 Instruction to capture SOA agent data with trace. 

ANSWER
 

Collecting ITCAM for SOA TEMA Agent data with Trace in Windows and Unix Platform 
=> Set SOA Agent tracing and capture data 

1. Stop the ITCAM for SOA agent. 
2. Optional : Delete existing logs (to clear prior unrelated activity). 
<ITM_Home>/logs/<hostname>d4<timestamp>.log 

3. Enable tracing for the ITCAM for SOA agent, instructions below : 
(There are 2 ways to do this. Choose one of the following to enable tracing.) Using GUI From MTEMS (Manage Tivoli Enterprise Monitoring Services utility) :  1. Right click on ITCAM for SOA 
 2. Select Advanced -> Edit trace parms... 
 3. From the "ITCAM for SOA : Trace Parameters" pop up window. From the drop down list of "Enter RAS1 Filters:", select "ERROR (UNIT:kd4 ALL) (UNIT:kra ALL)" 
 4. Select OK (to implement the change) 
 5. Select "Yes" (to recycle the service)

Edit Property file  1. Open the following file :  * Windows : <ITM_HOME>\TMAITM6\KD4ENV 
     * Unix : <ITM_HOME>/config/d4.ini
    
    
 2. Edit to set the value for KBB_RAS1 as following and save it.

 * 
 * 
 * 
 * 
 * 


4. Re-start the ITCAM for SOA monitoring agent and run traffic. 

5. Collect (zip up) and send the following directory. From ITCAM for SOA installed System * Windows : <ITM_HOME>\TMAITM6\KD4\logs 
* Unix : <ITM_HOME>/<platform>/d4/KD4/logs 
NOTE : Make sure to disable SOA Agent trace setting. 


=> Remove SOA Agent tracing 

1. Stop the ITCAM for SOA agent. 

2. Disable tracing for the ITCAM for SOA agent, instruction below. 
(There are 2 ways to do this. Choose one of following to disable tracing.) Using GUI From MTEMS (Manage Tivoli Enterprise Monitoring Services utility) :  1. Right click on ITCAM for SOA 
 2. Select Advanced -> Edit trace parms... 
 3. From the "ITCAM for SOA : Trace Parameters" pop up window, From the drop down list of "Enter RAS1 Filters:", select "ERROR" 
 4. Select OK (to implement the change) 
 5. Select "Yes" (to recycle the service)

Edit Property file  1. Open the following file :  * Windows : <ITM_HOME>\TMAITM6\KD4ENV 
     * Unix : <ITM_HOME>/config/d4.ini 
    
    
 2. Edit the value for KBB_RAS1 as follows and save it.

 * 
 * 
 * 
 * 
 * 


3. Start the ITCAM for SOA monitoring agent. 



Collecting ITCAM for SOA TEMA Agent data with Trace in z/OS Platform 
1. Edit RKANPARU(KD4ENV) member and set the needed trace levels 
Example: 
KBB_RAS1=ERROR (UNIT:kraahbin all)(unit:kra state) (UNIT:khdx ER ST) (UNIT:krabhsco ALL) 

2. Then recycle the KD4 started task to make the change effective 
You can do this dynamically (no need to restart KD4 stc) using command 

/F <kd4stc>,CTDS TRACE ADD FILTER ID=T1 UNIT=KRAAHBIN CLASS(ALL) 
/F <kd4stc>,CTDS TRACE ADD FILTER ID=T2 UNIT=KRA CLASS(STATE) 
/F <kd4stc>,CTDS TRACE ADD FILTER ID=T3 UNIT=krabhsco CLASS(ALL) 
/F <kd4stc>,CTDS TRACE ADD FILTER ID=T4 UNIT=khdx CLASS(ER ST) 


3. Let the customer reproduce the problem 
4. And then issue the following command to dynamically disable the trace: 

/F <kd4stc>,CTDS TRACE REMOVE FILTER ID=T1 
/F <kd4stc>,CTDS TRACE REMOVE FILTER ID=T2 
/F <kd4stc>,CTDS TRACE REMOVE FILTER ID=T3 
/F <kd4stc>,CTDS TRACE REMOVE FILTER ID=T4 

5. Collect RKLVLOG related to KD4 STC for review.