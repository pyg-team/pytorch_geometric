Title: IBM Installing Firmware Using the USB Port on the Service Processor on a System that is Not Managed by an HMC - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 On POWER6 (and beyond) servers, you can now install firmware using the USB port on the service processor on a system that is not managed by an HMC. 

RESOLVING THE PROBLEM
POWER6 (and beyond) servers provide a method of installing server firmware to the Flexible Service Processor using a USB flash drive. The instructions included in this document come from the Hardware Information Center at the following URL: 

http://publib.boulder.ibm.com/infocenter/systems/scope/hw/index.jsp [http://publib.boulder.ibm.com/infocenter/systems/scope/hw/index.jsp]

Installing firmware using the USB port on the service processor on a system that is not managed by an HMC

Learn how to use the universal serial bus (USB) port to install server firmware on the service processor when the system is not responding.
Only install firmware using the USB port on the service processor if you are directed to do so by your next level of support, by an isolation procedure, or after exchanging the service processor assembly.

Download the server firmware fix and copy it to a USB flash drive

Use Fix central to download the correct firmware to be installed on the server. To link to Fix Central: http://www.ibm.com/eserver/support/fixes/ [http://www.ibm.com/eserver/support/fixes/].

When downloading the file, select the .rpm file to be downloaded. If you select the .iso file, you will need to either:

A. Burn that to a DVD, then extract the .rpm file of interest

or 

B. Open it with an application capable of opening a .iso file and extract the .rpm file of interest.



1. Verify that your USB flash drive is formatted to FAT32. If it is not, complete the following steps: 
a. Plug your USB flash drive into the USB slot of your server or computer. A message will display informing you that the operating system recognizes the drive and it is ready to use. 
b. Double-click My Computer, and then right-click the appropriate device drive. 
c. Select Format. The Format Removable Disk dialogue box is displayed. 
d. Ensure that the File system field displays FAT32 and the Quick Format check box is cleared. All other fields remain in their default setting. 
e. Click Start. 
Attention: A warning message will display to inform you that the format action will erase all of the data in the flash memory. Click OK to allow the process to continue.
f. Click OK when the action is complete. 2. Insert the blank, formatted USB flash drive into the USB port on the server or computer where you copied the RPM file. A message will display informing you that the operating system recognizes the drive and it is ready to use. 3. Copy the RPM file to the USB flash drive. 4. To remove the USB flash drive safely, double-click the Safely Remove Hardware icon in the lower right corner of the screen. 
Note: The Safely Remove Hardware icon is a slanted green arrow over a box. 5. Follow the prompts to remove the USB flash drive. 6. Continue with Install the server firmware through the USB port on the service processor assembly. 
Install the server firmware through the USB port on the service processor assembly 

To install the server firmware through the USB port on the service processor assembly, you should perform the following steps: 

Caution: Do not interrupt this process once you begin. 1. Ensure that the server is in service processor standby. Service processor standby is indicated when the server is powered off, and the power-on LED on the control panel is blinking slowly. 2. Insert the USB flash drive into one of the following: 

o The top USB port on the back on a rack-mounted system 
o The right-most USB port on a deskside system 

For example, for the model 8203-E4A and model 8204-E8A this port is Un-P1-T3. For additional information, refer to the Location Codes section in your host model's service guide. The firmware level will load automatically. The level of firmware on the USB flash drive will be installed onto both the P and T sides of the service processor assembly. Several checkpoints will be posted on the control (operator) panel during the installation of the firmware: 

o C100B101: The firmware image is being installed on a side of the flash. 
o C100B102: The firmware image is being installed on the other side of the flash. 
o C100B103: The firmware installation has been completed successfully. 

Note: If a C100B104 code is displayed, the firmware installation has failed. Perform the following steps: 

a. Ensure that the USB flash drive contains the firmware fix. If necessary, copy the firmware to the USB flash drive again. 
b. Retry the task with another USB flash drive. 
c. If necessary, replace the service processor assembly. 3. After checkpoint C100B103 is displayed on the control panel, you can safely remove the USB flash drive. 4. Continue with the next section Verify that the firmware installed correctly. 
Verify that the firmware installed correctly 

To verify that the firmware installed correctly, perform the following steps: 1. Access the ASMI and view the level of server firmware displayed in the upper-right corner below the copyright statement on the Welcome pane. 2. Verify that the level of server firmware that is displayed is the level that you installed. 3. If the level of server firmware that is displayed is not the level that you installed, retry installing the firmware using another USB flash drive. If the problem persists, contact your next level of support. 

HISTORICAL NUMBER
 520797642