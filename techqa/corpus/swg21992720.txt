Title: IBM MustGather: Collecting Data for IBM FileNet eForms for P8 issues - United States

Text:
logs; Workflow policy; Document Policy TECHNOTE (FAQ)

QUESTION
 What information should be collected when I experience a problem with IBM FileNet eForms for P8? 

ANSWER
Must Gather for the IBM FileNet eForms for P8 software 

Collecting data before calling IBM support will help you understand the problem and save time analyzing the data. 

Collecting data early, before opening the PMR, helps IBM® Support quickly determine if: 

 *   * Symptoms match known problems (rediscovery). 
    * There is a non-defect problem that can be identified and resolved. 
    * There is a defect that identifies a workaround to reduce severity.
   
   


Locating the root cause of a problem can speed development of a code fix. 

Describing the Problem This background information is needed for opening a PMR, but is not gathered by the data collector: 

 *   * How often does this problem occur? 
    * Can the problem be reproduced? And if so, how is it reproduced? 
    * How many users are affected by this problem? 
    * Is the problem in newly exercised functionality? Or was this previously working and now it's stopped working? 
    * What, if anything, has been changed? 
    * What is the business impact of this problem? 
    * Is there a workaround?
   
   

Gathering Operating System Versions, Settings and Logs 

These commands collect:  *   * OS Version 
    * OS Environment Variables 
    * OS Kernel parameters 
    * OS running processes 
    * OS networking information 
    * OS locale information 
    * OS log files 
   
   

Run the following commands on the Content Foundation Content Platform Engine server and collect the output: 

AIX Servers 

Command​ Collects​ /usr/sbin/instfix -ivq ​ OS Patches or Maintenance level​ env ​ OS Environment Variables​ errpt -a​ OS Configuration & Error Reporting​ /usr/sbin/lsattr -E -l sys0 ​ OS Kernel parameters​ ps -ef​ currently running processes​ netstat -an​ socket information​ locale​
locale -a​ locale information​ /var/adm/syslog/syslog.log​ include system log files​ 

Solaris Servers Command​ Collects​ /usr/bin/showrev -a ​ OS Patches or Maintenance level​ env ​ OS Environment Variables​ /usr/sbin/prtdiag -v ​ OS Configuration & Error Reporting​ /usr/sbin/sysdef -D ​
/usr/bin/getconf -a​ OS Kernel parameters​ ps -ef​ currently running processes​ netstat -an​ socket information​ locale​
locale -a​ locale information​ /var/adm/messages & /var/log/syslog​ include system log files​ 


Windows Servers Command​ Collects​ WMIC /OUTPUT:C:\ProcessList.txt PROCESS get Caption,Processid,Usermodetime,Commandline​ current running processes including the command line​ set​ OS Environment Variables​ Windows 2003: ​
cscript C:\windows\system32\eventquery.vbs ​
/L application /R 1000 /V ​
cscript C:\windows\system32\eventquery.vbs ​
/L system /R 1000 /V ​
​
Windows 2008 and newer:​
wevtutil epl System Systemlog.evtx​
wevtutil epl Application Applicationlog.evtx​ OS Event Logs​ netstat -an​ socket information​ chcp​ display code page​ 


Linux Servers Command​ Collects​ uname -a​ OS Version​ /usr/bin/showrev -a ​ OS Patches or Maintenance level​ env ​ OS Environment Variables​ /usr/sbin/prtdiag -v ​ OS Configuration & Error Reporting​ /usr/sbin/sysdef -D ​
/usr/bin/getconf -a ​ OS Kernel parameters​ /usr/bin/getconf -a​ configuration info​ /bin/dmesg​ messages​ ps -ef​ currently running processes​ netstat -an​ socket information​ locale​
locale -a​ locale information​ /var/log/messages.*​ include system log files​ 

Ping pages for supporting components: Because IBM FileNet eForms for P8 can interact with the Content Platform Engine, Case Manager, Content Navigator and Case Foundation, it is useful to collect their ping pages to make sure that all the components have the same client versions. 

 * 
 * 
 *  For Process: http://<cpe-server name>:<cpe-port #>/peengine/IOR/ping 
 *  For Case Manager: http://<server name>:<port #>/CaseManager/CASEREST/v1/info 
 *  For Content Navigator: http://<icn-server name>:<icn-port #>/navigator/Ping


Collect the following additional information for eForms for P8 installation and configuration issues: 

 *   * eForms patch level (raptor number) [Obtained from the version.txt file in the installation directory of eForms] 
    * Application Server Software type (such as WebSphere) and version number. 
    * Database type and version of Content Engine (CE) database. 
    * Is CE database local or remote? 
    * Workplace or Workplace XT version. [On logon page, right click and choose view source, provide build number.] 
    * eForms Designer version.
   
   


Installation Logs for eForms for P8: Any errors that occur during installation will be recorded in the eForms_install_log_4.0.2.0.txt file located in the IBM FileNet Application Engine or IBM FileNet Workplace XT root directory: 

…install_path/IBM/FileNet/Workplace or …install_path/IBM/FileNet/WebClient 


Logs: 

Application server logs 

Should the issue be related to eForms for P8 in an IBM Content Navigator or IBM Manager Case Manager configuration collect the IBM Case Manager Client log. The IBM® Case Manager Client records log messages to the IBM Content Navigator log file. To configure debug level logging for IBM® Case Manager web applications, you must enable debugging on the IBM Content Navigator server and restart the IBM Content Navigator server. 

Procedure: 
To configure logging settings in IBM Content Navigator: 

 *   1. Log in to the IBM Content Navigator administration desktop. 
    2. Click the Settings tab and then click the Logging subtab. 
    3. Set the logging level for the applications to Debug. 
    4. Click Save and then click Close. 
    5. Log out of the IBM Content Navigator administration desktop. 
    6. Restart the application server instance where IBM Content Navigator is deployed.
   
   


The IBM® Case Manager Client records log messages to the IBM Content Navigator log file. 

For further information about log files in IBM Content Navigator, see the IBM Content Navigator documentation: http://pic.dhe.ibm.com/infocenter/cmgmt/v8r4m0/topic/com.ibm.installingeuc.doc/eucts002.htm [http://pic.dhe.ibm.com/infocenter/cmgmt/v8r4m0/topic/com.ibm.installingeuc.doc/eucts002.htm] 

eForms for P8 does not have its own log files. It will log exceptions if encountered in the Application Server logs: 

WebSphere Application Server 

In WebSphere® Application Server, all logging information is written to the SystemOut.log file. By default, this log file is in the following subdirectory of the WebSphere Application Server installation directory: 

WAS_profile_location/logs/server/



WebLogic Application Server 

install_root/user_projects/domains/<domain-name>/servers/<server-name>/logs 

 

JBoss Application Server 

install_root/server/<server-name>/log 

 


Exceptions displayed in Workplace for eForms for P8 issues: 

If an exception error is displayed in the browser, include the full text content of the stack trace (that is, not a screen capture) shown in the expanded details portion of the error page. 

In the Workplace error page, click the "Show Details" link as shown here: 
[/support/docview.wss?uid=swg21992720&aid=1] [https://www-304.ibm.com/support/docview.wss?uid=swg21316279&aid=8]
Select and copy ALL of the text content shown in the details box, as shown here: 
[/support/docview.wss?uid=swg21992720&aid=2] [https://www-304.ibm.com/support/docview.wss?uid=swg21316279&aid=9] 

Workplace/Workplace XT (AE) Logs: 

The AE log files <ae_install path>FileNet\AE\logs\p8Workplace.log and <ae_install path>FileNet\AE\logs\p8WorkplaceSub.log. Include the logging data from the time when the problem occurred. 


Additional data collection 
In order to identify the root cause of an issue it may be necessary for support to attempt to reproduce the issue in-house. For this purpose, collect the following: 

 *  eForms template (.itx file) Worklow pep/xpdl file (if applicable) Is a Document Policy or Workflow Policy being used? Eforms-preferences.xml file (On AE server, .../IBM/FileNet/Config/WebClient) 



Screenshots It may be appropriate to include screenshots of errors or other symptoms that will help us understand the problem. 


MustGather for dependent components 

If you can tell based on the nature of the problem or visible symptoms in the log files that the issue is Content Platform Engine related, gathering the respective log files can help speed resolution, but these files are not specifically required to start the problem resolution process. 

For additional information refer to the MustGather documents for: 

 *  FileNet Process: http://www.ibm.com/support/docview.wss?uid=swg21589938 [http://www-01.ibm.com/support/docview.wss?uid=swg21589938] FileNet Content: http://www.ibm.com/support/docview.wss?uid=swg21308231 [http://www.ibm.com/support/docview.wss?uid=swg21308231] Case Manager Client (if applicable): http://www-01.ibm.com/support/docview.wss?uid=swg21640053 [http://www-01.ibm.com/support/docview.wss?uid=swg21640053]