Title: IBM Updated image does not display in the Notes client - United States

Text:
 TECHNOTE (FAQ)

QUESTION
A customer had an image which was pulled from his web server and added to his signature when sending mails externally. The customer updated the image on the web server with a different image using the same file name, but found that the older image was still being used. 

The customer had his Notes client location document /Advanced /Web Retriever /Update Cache set to every time, and expected that the updated image would be retrieved. 

Deleting the Perweb database would display the updated image but this could not be done every time for all users. How can the Notes Client display the updated image?.


CAUSE
The Notes Client was not displaying the latest image because the timestamp of the file on the web server was before the last time the client fetched the image. Due to this, and depending on the mail action, the Notes Client displays the image stored in the Perweb database, or uses the image stored in the browser cache. 


ANSWER
The timestamp attribute of the image on the web server needed to be changed to a later one so that the image would be fetched again, i.e. the 'modified' time attribute. 


Note also that Notes web cache (i.e. Perweb.nsf) will never refetch a resource if the version in the cache is less than ten minutes old. In other words if Notes fetched an image less than ten minutes ago and is asked to get that image again it will always come from the cache, irrespective of timestamps. So it is necessary to wait at least ten minutes after making a change on the server before trying any operations with the client again.

Regarding the Notes client location document /Advanced /Web Retriever /Update Cache settings:

Setting the 'Update Cache' value to:
Every Time : timestamps will be checked to determine if a refresh is needed on every fetch of a resource.
Once per session : timestamps will be checked to determine if a refresh is needed during the first fetch of a resource, they will not be checked again until the client is restarted.
Never : timestamps are not checked.

Note: this value is only used to determine if / how often to update the web cache. The resource may still be retrieved before ever checking the timestamps depending upon several other factors, for example the error status from previous retrieval, the resource has expired. (i.e. current time is > value in HTTPExpires header field), etc.