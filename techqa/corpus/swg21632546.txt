Title: IBM MustGather: Source Control issues with Rational Team Concert - United States

Text:
mustgather; must gather; data collection; source control; rtc; scm; SCM Web UI; SCM Eclipse Client; SCM CLI; trace TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 How to collect the data necessary to diagnose and resolve IBM Rational Team Concert (RTC) source control issues. 

CAUSE
This MustGather will assist you in collecting the data necessary to help you diagnose and resolve the issue. If you are unable to determine the root cause using the information collected, you should open a PMR with IBM Support [http://www.ibm.com/contact] for further investigation providing the data collected. 

RESOLVING THE PROBLEM
You can use the IBM Support Assistant Lite (ISA Lite) Data Collector tool [https://jazz.net/help-dev/clm/index.jsp?re=1&topic=/com.ibm.team.concert.doc/topics/t_using_the_isal.html] to quickly collect diagnostic files, such as log files, configuration files or to run traces. This tool is bundled with RTC 4.x and above. ISA Lite collects information about your Jazz Team Server environment and stores the information in a .zip archive file. If you have a need to open a service request with IBM Support [http://www.ibm.com/contact] for further assistance, you can send the archive file with the data collection so that they can help diagnose and fix problems. 

The information below should be gathered in addition to the normal information and log gathering done by ISA Lite. 







SCM Data Transfer Issues

SCM CLI

SCM Eclipse Client

SCM Web UI

SCM Additional Resources

#SCM%20Data%20Transfer%20Issues 





SCM Data Transfer Issues 
When there is difficulty with transferring data between the server and the client such a timeouts, out of memory errors or general slowness collect the following data. 

Preparation 

Enable Verbose Garbage Collection in WebSphere 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * For more information on verbose GC including additional instructions for Solaris or HP-UX, see: 
   Enabling verbose garbage collection (verboseGC) in WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?rs=180&uid=swg21114927] 
   For more information on collecting data related to WebSphere see: 
   MustGather: Read first for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg21145599] 
   


Enable the JVM to create javacores in WebSphere 
 * 
 * 
 * -Xdump:java:events=user
 * 
 * 
 * 
 * 
 * Note
 * 
 * 
 * -Xdump:java+
 * heap
 * +
 * system
 * :events=user
 * 
 * 
 * Restart the Application Server for the previous two changes to take effect.


Enable the JVM to create javacores and verbose GC logging in Tomcat  * 
 * 
 * 
 * 
 * -Xdump:java:events=user

 * Restart the Application Server for the changes to take effect.


Note: Both the previous settings should be safe to leave enabled at all times. Garbage collection has a minimal impact on the server and Xdump has no impact unless explicitly called. 

Data Collection  * 


Note: Because of the amount of logs generated by the following two settings it is recommended that they be disabled after reproducing the problem. 

Enable SCM Service Logging  * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * not 
 * 
 * 
 * 



Enable SCM and SQL tracing  * 
 * log4j.properties
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * https://
 * <server:port>
 * /
 * ccm
 * /admin?internal=true
 *  Select Reload Log Settings on the left side under Internal Tools,
   Disable when reproduction is complete 
 * To disable you must replace TRACE and DEBUG with OFF and use the Reload Log Settings operation again. 
   Removing them or commenting them out will prevent them from being disabled. 
   log4j.logger.com.ibm.team.scm=OFF 
   log4j.logger.sqlTxLogger=OFF 



Start the WAIT script  * 
 * 
 * Example
 * 
 * 
 * 
 * waitDataCollector.sh --sleep 60 --iters 40 <CCM-WAS-PID> 
 * 
 * 
 * Note 
 * 

 * Warning: 
 * 
 * 
 * 


Use the Query Stats counter service to gather query stats.  * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * Reset Query Stats
 * 
 *  Start Collecting Query Stats
 * 
 * 
 * 
 * 
 * 
 * 
 * Query Stats View
 * 


Reproduce the problem, collect and send in the following: 
 * 
 * This will include the logs containing the SCM and SQL traces. 
 * 
 * 
 * 


4.x Data Collection tool [https://jazz.net/help-dev/clm/index.jsp?re=1&topic=/com.ibm.team.concert.doc/topics/t_using_the_isal.html] 
3.x Data Collection tool [http://www-01.ibm.com/support/docview.wss?uid=swg21455421] 
2.x Data Collection tool [http://www-01.ibm.com/support/docview.wss?uid=swg21433019] 

 Back to top 



SCM CLI (Command Line Interface) 
 * Can this issue be reproduced in the Eclipse client (not using the CLI) or web US (User Interface)?
   
   


SCM Eclipse Client 
 * Collect the relevant screenshots
   
   
 * Collect the workspace log file located in ‘workspace directory/metadata’ named .log


 

 

SCM Web UI  * Collect the relevant screenshots
   
   

 

SCM Additional Resources 
 * SCM Command Line Bug Reporting [https://jazz.net/wiki/bin/view/Main/SCMCommandLineBugReporting]
   
   
 * MUSTGATHER: Troubleshooting hangs of the scm.exe application [http://www.ibm.com/support/docview.wss?uid=swg21572522]



 Back to top 


Leverage the Jazz Community Jazz and Rational Team Concert have an active community that can provide you with additional resources. Browse and contribute to the User forums, contribute to the Team Blog and review the Team wiki.
Refer to technote 1319600 [http://ibm.com/support/docview.wss?uid=swg21319600] for details and links.