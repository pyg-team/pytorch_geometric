Title: IBM PM81521: MESSAGES STUCK IN PENDING ACKNOWLEDGEMENT STATE IN WEBSPHERE APPLICATION SERVER SERVICE INTEGRATIONS BUS DESTINATION - United States

Text:
  FIXES ARE AVAILABLE
PM81521; 7.0.0.25, 7.0.0.27, 7.0.0.29: Messages stuck in pending acknowledgement state in Websphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035443]
PM81521;8.0.0.6: messages stuck in pending acknowledgement state in websphere appl [http://www-01.ibm.com/support/docview.wss?uid=swg24036383]
8.5.5.1: WebSphere Application Server V8.5.5 Fix Pack 1 [http://www-01.ibm.com/support/docview.wss?uid=swg24035935]
8.0.0.8: WebSphere Application Server V8.0 Fix Pack 8 [http://www-01.ibm.com/support/docview.wss?uid=swg24036729]
7.0.0.31: WebSphere Application Server V7.0 Fix Pack 31 [http://www-01.ibm.com/support/docview.wss?uid=swg24036768]
8.5.5.2: WebSphere Application Server V8.5.5 Fix Pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24037250]
7.0.0.33: WebSphere Application Server V7.0 Fix Pack 33 [http://www-01.ibm.com/support/docview.wss?uid=swg24037573]
8.0.0.9: WebSphere Application Server V8.0 Fix Pack 9 [http://www-01.ibm.com/support/docview.wss?uid=swg24037574]
8.5.5.3: WebSphere Application Server V8.5.5 Fix Pack 3 [http://www-01.ibm.com/support/docview.wss?uid=swg24038133]
7.0.0.35: WebSphere Application Server V7.0 Fix Pack 35 [http://www-01.ibm.com/support/docview.wss?uid=swg24038310]
8.5.5.4: WebSphere Application Server V8.5.5 Fix Pack 4 [http://www-01.ibm.com/support/docview.wss?uid=swg24038539]
8.0.0.10: WebSphere Application Server V8.0 Fix Pack 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24039242]
7.0.0.37: WebSphere Application Server V7.0 Fix Pack 37 [http://www-01.ibm.com/support/docview.wss?uid=swg24039338]
8.5.5.5: WebSphere Application Server V8.5.5 Fix Pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24039425]
8.5.5.6: WebSphere Application Server V8.5.5 Fix Pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24040035]
8.0.0.11: WebSphere Application Server V8.0 Fix Pack 11 [http://www-01.ibm.com/support/docview.wss?uid=swg24040425]
8.5.5.7: WebSphere Application Server V8.5.5 Fix Pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24040533]
7.0.0.39: WebSphere Application Server V7.0 Fix Pack 39 [http://www-01.ibm.com/support/docview.wss?uid=swg24041013]
8.5.5.8: WebSphere Application Server V8.5.5 Fix Pack 8 [http://www-01.ibm.com/support/docview.wss?uid=swg24041178]
8.0.0.12: WebSphere Application Server V8.0 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24041590]
8.5.5.9: WebSphere Application Server V8.5.5 Fix Pack 9 [http://www-01.ibm.com/support/docview.wss?uid=swg24041819]
7.0.0.41: WebSphere Application Server V7.0 Fix Pack 41 [http://www-01.ibm.com/support/docview.wss?uid=swg24041931]
8.5.5.10: WebSphere Application Server V8.5.5 Fix Pack 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24042150]
8.5.5.11: WebSphere Application Server V8.5.5 Fix Pack 11 [http://www-01.ibm.com/support/docview.wss?uid=swg24043005]
8.0.0.13: WebSphere Application Server V8.0 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24042746]
7.0.0.43: WebSphere Application Server V7.0 Fix Pack 43 [http://www-01.ibm.com/support/docview.wss?uid=swg24043400]
8.5.5.12: WebSphere Application Server V8.5.5 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24043844]
8.0.0.14: WebSphere Application Server V8.0 Fix Pack 14 [http://www-01.ibm.com/support/docview.wss?uid=swg24044096]
8.5.5.13: WebSphere Application Server V8.5.5 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24044479]
7.0.0.45: WebSphere Application Server V7.0 Fix Pack 45 [http://www-01.ibm.com/support/docview.wss?uid=swg24044551]
8.0.0.15: WebSphere Application Server V8.0 Fix Pack 15 [http://www-01.ibm.com/support/docview.wss?uid=swg24044734]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  In WebSphere Application Server v7.0.x Service Integration
   Bus, multiple messaging engines are configured to use a
   Publish Subscribe topology. When more than one messaging
   engine is shut down and started up in parallel and messages
   are published at the same time, the messages remain in
   pending acknowledgement state.
   
   
    
   
   

LOCAL FIX
 *  Restart the messaging engines sequentially.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users of the default messaging provider     *
   *                  for                                         *
   *                  IBM WebSphere Application Server v7.0,      *
   *                  v8.0, and v8.5.5                            *
   ****************************************************************
   * PROBLEM DESCRIPTION: Message pile up is observed on the      *
   *                      Source Messaging Engine awaiting for    *
   *                      the messages to be acknowledged from    *
   *                      the Target Messaging Engine.            *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When using Publish Subscribe in Service Integration Bus in a
   multi Messaging Engine scenario, message pile up is observed on
   the Source Messaging Engine awaiting for the messages to be
   acknowledged from the Target Messaging Engine. There are
   various reasons why the target messaging engine is not
   acknowledging the messages.Some of the scenarios are gaps
   created due to a very minute timing window between message
   production and target messaging engine start-up (or) messages
   being received out of order and having a lot of silences in
   between (or) lack of consolidation between the streams leading
   to virtual gaps.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Code has been modified to effectively synchronize the timing
   window between message production and target messaging engine
   start-up registration and also to consolidate effectively to
   overcome the problems due to out of order delivery and silence
   messages and to fill the virtual gaps.
   
   The fix for this APAR is currently targeted for inclusion in
   fix packs 7.0.0.31,8.0.0.8 and 8.5.5.1 . Please note that This
   APAR supercedes PM62615 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM62615],PM71430 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM71430]. If applying an interim fix
   for PM81521, the install sequence should be PM56596 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM56596]
   followed by PM81521. You need not install interim fixes for
   PM62615 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM62615] and PM71430 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM71430] .
   
   Please refer to the Recommended Updates page for delivery
   information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM81521
   
   
 * REPORTED COMPONENT NAME
   WAS SIB & SIBWS
   
   
 * REPORTED COMPONENT ID
   620800101
   
   
 * REPORTED RELEASE
   300
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-01-28
   
   
 * CLOSED DATE
   2013-06-24
   
   
 * LAST MODIFIED DATE
   2013-10-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WAS SIB & SIBWS
   
   
 * FIXED COMPONENT ID
   620800101
   
   

APPLICABLE COMPONENT LEVELS
 * R300 PSY
   UP
   
   
 * R800 PSY
   UP
   
   
 * R850 PSY
   UP