Title: IBM IT09202: PUREAPPLICATION SYSTEM: UNABLE TO DEPLOY AN ON DEMAND ROUTER PATTERN ON PUREAPPLICATION SYSTEM VERSION 2.1 - United States

Text:
  A FIX IS AVAILABLE
IBM PureApplication System Version 2.1.1.0 [http://www-01.ibm.com/support/docview.wss?uid=swg24040981]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The customer was unable to deploy an On Demand Router pattern
   instance after upgrading a PureApplication System from version
   2.0 to 2.1.
   
   In reviewing the 0Config.log the following errors are seen:
   
   
   DEBUG WARNING: shell=True used for subprocess command
   execution; might be insecure.
   
   itcamwas ... DEBUG [ERR] ... : Failed to open:
   [/opt/IBM/WebSphere/Profiles/ODRCustom01/logs/odr/native_stdout.
   log] for use as standard descriptor: [1].  The reported error
   (errno) was: [13]. [Permission denied]
   ...
   Unable to launch process.  An error occurred.  Return value: [6]
   errno: [13] [Permission denied] ...
   Creation failure, spawn was unsuccessful.  Therefore
   deallocating process structure at: [0x8eb83f20]
   
   itcamwas ... DEBUG [OUT] ADMU0118E: The log file cannot be
   written to location /opt/IBM/WebSphere/Profiles/
   ODRCustom01/logs/odr/startServer.log
   ; please specify a different location with -logfile
   
   ADMU0128I: Starting tool with the ODRCustom01 profile
   ADMU3100I: Reading configuration for server: odr
   ...
   Failed to open:
   [/opt/IBM/WebSphere/Profiles/ODRCustom01/logs/odr/native_stdout.
   log] for use as standard descriptor: [1].  The reported error
   (errno) was: [13]. [Permission denied]
   ...
   Unable to launch process.  An error occurred.  Return value: [6]
   errno: [13] [Permission denied]
   ...
   Creation failure, spawn was unsuccessful.  Therefore
   deallocating process structure at: [0x8eb83f20]
   
   In a new architecture virtual system pattern the username
   variable should be read from /etc/virtualimage.properties but
   it is not.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  The monitoring script files were attempting to start processes
   using the wrong user ID. The code needs to be updated to read
   the appropriate IDs and then use them to run the scripts.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A code fix is being provided in the System Monitoring service
   version 1.0.5.0 being made available with PureApplication System
   version 2.1.1.0.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT09202
   
   
 * REPORTED COMPONENT NAME
   PAPP SYS 8382 I
   
   
 * REPORTED COMPONENT ID
   5725G3200
   
   
 * REPORTED RELEASE
   210
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-05-29
   
   
 * CLOSED DATE
   2015-08-25
   
   
 * LAST MODIFIED DATE
   2015-08-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   PAPP SYS 8382 I
   
   
 * FIXED COMPONENT ID
   5725G3200
   
   

APPLICABLE COMPONENT LEVELS
 * R211 PSY
   UP