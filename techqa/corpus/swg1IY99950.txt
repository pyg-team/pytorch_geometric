Title: IBM IY99950: USING IE 7 REPORT OUTPUTS ARE MOVED TO THE BACKGROUND AFTER OPENING. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Problem overview:
   
   When running an HTML report in TCR with Internet Explorer the
   new opened
   window, that contains the report, doesn't have focus.
   
   The bug seems to be Internet Explorer related, since with
   different
   browsers (Firefox,Safari,...) everything is working fine.
   
   The bug has been found in a dojo component shipped with our
   product:
   dijit.Dialog.
   The line incriminated is in the file:
   systemApps\isclite.ear\rptwebui_v1.2.0.war\js\ibm\tivoli\tcr\act
   ions\Vie
   wAsHTML.js, function
   _runReportWithParameters, instruction setTimeout( dojo.hitch(
   this._dialog, "hide" ), 1000 ).
   
   We have the following class structure for dialogs:
   
   dijit.Dialog (dojo file)
   ibm.tivoli.tcr.dijit.dijit.Dialog
   ibm.tivoli.tcr.dialogs.ReportParameters
   ibm.tivoli.tcr.dialogs.OnDemandParameters
   
   This OnDemandParameters dialog is the one used by action
   ViewAsHTML.
   
   The default implementation of hide() function for dijit.Dialog
   contains
   the instruction:
   this.connect(this._fadeOut,
    "onEnd",
    dojo.hitch(this,function(){
     dijit.focus(this._savedFocus);}));
   namely, at the end of the dialog's fadeout, we return the focus
   to the
   dialog and that's why there is a focus problem.
   
   
    
   
   

LOCAL FIX
 *  Workaround:
   
   Dialog.js and ViewAsHTML.js are provided by TCR L3.
   
   The solution changes the default implementation for the
   dijit.Dialog's
   hide() function by removing the line
   this.connect(this._fadeOut,"onEnd",dojo.hitch(this,function(){di
   jit.focu
   s(this._savedFocus);}));.
   Only when the vrowser is Internet Explorer.
   
   How to apply the fix:
   In order to fix this behaviour we need to:
   1.stop the server: <TCR-DIR>\products\tcr\bin\stopTCRserver.cmd
   2.backup the files:
   1.<TCR-DIR>\systemApps\isclite.ear\rptwebui_v1.2.0.war\js\ibm\ti
   voli\tcr
   \actions\ViewAsHTML.js
   2.<TCR-DIR>\systemApps\isclite.ear\rptwebui_v1.2.0.war\js\ibm\ti
   voli\tcr
   \dijit\Dialog.js
   3.copy in the previous two locations the files attached
   4.restart the server:
   <TCR-DIR>\products\tcr\bin\startTCRserver.cmd
   
   
    
   
   

PROBLEM SUMMARY
 *  When using Internet Explorer, report outputs are moved to the
   background after opening. This issue occurs in Internet Explorer
   only. When running a report, the output window was placed in the
   background. This was a dojo-related bug.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Official fix for this defect is included in the Interim Fix 6
   for IBM Tivoli Common Reporting 1.2.0.1. More information about
   the interim fix can be found in the following location:
   http://www.ibm.com/support/docview.wss?uid=swg24026217 [http://www.ibm.com/support/docview.wss?uid=swg24026217]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY99950
   
   
 * REPORTED COMPONENT NAME
   TIVOLI COMMON R
   
   
 * REPORTED COMPONENT ID
   5724T6900
   
   
 * REPORTED RELEASE
   120
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-11-10
   
   
 * CLOSED DATE
   2010-03-24
   
   
 * LAST MODIFIED DATE
   2010-03-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TIVOLI COMMON R
   
   
 * FIXED COMPONENT ID
   5724T6900
   
   

APPLICABLE COMPONENT LEVELS
 * R120 PSY
   UP