Title: IBM ** Troubleshooting ** error 'Failed to connect or logon to IBM Cognos' when using FM model - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User launches Controller, and clicks on 'Transfer' - 'External Data' - 'Define Import Specifications'. User clicks on the blue writing 'Model Name' (directly underneath heading 'Framework Manager'). User receives error message. 

SYMPTOM
[/support/docview.wss?uid=swg21347528&aid=1] [/support/docview.wss?uid=swg21347528&aid=1] 

Failed to connect or logon to IBM Cognos




 * Failed to connect or logon to IBM Cognos 8


CAUSE
There are a number of different potential causes for the same on-screen error message: 

 * Scenario #1 - The 'namespace' name was incorrectly defined inside Cognos Controller Configuration  * For more details, see Technote #1382316
   
   
 * Scenario #2 - The username/password was incorrectly defined inside Cognos Controller Configuration  * For more details, see Technote #1382316
   
   
 * Scenario #3 - Customer using Controller 8.2.x and is using non-Native (for example 'Cognos 8') authentication  * Code production problem caused the functionality to fail if the setting 'Allow anonymous access?' is set to 'False' in Cognos Configuration 
   
   
 * Scenario #4 - Customer using 'blank' password for the user 
 * Scenario #5 - Cognos 8 package has a name with an ampersand (&) character in it 
 * Scenario #6 - Microsoft SOAP Toolkit 3.0 not installed on the application server ("Web Services Server").  * For more details, see Technote #1376195
   
   
 * Scenario #7 - Customer has configured "Controller Configuration" correctly (see scenarios #1, #2) but the settings were saved inside the wrong registry key location  * This only occurs on some old versions of Controller, when the Controller application server is hosted on a 64-bit application server.
   
   


Typically, the most likely causes are scenarios #1, #2, where the section 'External data - Framework Manager import' has not been configured correctly (inside 'Controller Configuration' on the Controller application server). 
DIAGNOSING THE PROBLEM
To try to narrow down which scenario you are suffering from, look inside the Windows Event Viewer ( Application Log). 

 * For example:


Scenarios #1, 2 & 7: 

Event Type: Warning 
Event Source: VBRuntime 
Event Category: None 
Event ID: 1 
Date: 28/04/2008 
Time: 14:55:19 
User: N/A 
Computer: WBRATRNCON8 
Description: 
The VB Application identified by the event source logged this Application FrDImportBT: Thread ID: 1336 ,Logged: Error occured at 28/04/2008 14:55:19 in FrDImportBT, Error No=-2147221502, Source=cdk.ContentManagerService#clsCRN.Logon, Description=cdk.ContentManagerService: 
SOAP-ENV:Fault faultcode : Client faultstring : CM-REQ-4342 An error occurred with the client. 
detail bus:exception severity : error errorCode : cmAuthenticateFailed bus:message messageString : CM-CAM-4005 Unable to authenticate. Check your security directory server connection and confirm the credentials entered at login. 

Scenario #6: 
[/support/docview.wss?uid=swg21347528&aid=2] [/support/docview.wss?uid=swg21347528&aid=2] 
VBRuntime 
Error No=91 
Object variable or With block variable not set 
RESOLVING THE PROBLEM
Scenarios 1 & 2: 

 

 * 
 * For more details, see Technote #1382316
 * 
 *  Launch Cognos 8 Controller Configuration from the Start Menu Open the section 'Web Services Server' - 'External data - Framework Manager import' Ensure that the section 'User id' is correctly filled in (e.g. 'Administrator') Ensure that the section 'password' is correctly filled in Click 'save' 

 * 
 * 
 * Dispatcher URI - h ttp://APPSERVER:9300/p2pd/servlet/dispatch 
   Namespace - default 
   User id - administrator 
   Password - **** 
   IMPORTANT: The name of the 'namespace' must be that which is defined inside Cognos Connection inside 'NAMESPACE ID', which is *not necessarily* the value that the end user sees when he/she logs on. 
   
 * 
 * 
 *  Launch Cognos Confoguration from the Start Menu Expand 'Local Configuration' - 'Security' - 'Authentication' Highlight your namespace (e.g. 'mynamespace') Inside the 'Resource Properties' section, locate the Name 'Namespace ID'. Make a note of its corresponding 'value' (e.g. 'Cognos8' or 'namespacename') Launch IBM Cognos 8 Controller Configuration from the Start Menu Open the section 'Web Services Server' - 'External data - Framework Manager import' Ensure that the section 'Namespace' is correctly filled in with the value of <Namespace ID> (for example 'Cognos8' or 'namespacename') Click 'save' Retry 


Scenario 3: 
 * 
 * 
 * 
 * TIP: Controller 8.4 or later is highly recommended.
 * 

Scenario 4: 
 * 
 * 
 * 
 * Solution steps:
 *  Exit Controller Launch Cognos 8 Controller Configuration from the Start Menu Open the section 'Web Services Server' - 'External data - Framework Manager import' Make a note of the value of 'User id' (e.g. 'Administrator') Launch the appropriate tool (for example 'Access Manager - Administration') and change the password to something valid (example 'admin1234') Return to the 'Cognos 8 Controller Configuration' - 'External data - Framework Manager import' screen Ensure that the section 'password' is correctly filled in with new password (example 'admin1234') Click 'save' Launch Controller and test. 
 * 
 * Workaround: 
 * 
 * 
 * 
 *  Ensure no users using Cognos applications Logon to Controller Report Server (typically the same as the Application Server) Launch Cognos Configuration from the Start Menu Open section 'Local Configuration - Security - Authentication' Change the value of 'Restrict access to members of the built-in...' (from True) to 'False' Open namespace called 'Cognos' Change the value of 'Allow anonymous access?' (from False) to 'True' Click 'Save' Restart the IBM Cognos 8 BI service Launch Cognos Controller Configuration Open section 'Web Services Server - Server Authentication' Change value of 'Select authentication method' (from Cognos 8) to 'Native' Click 'save' Re-test 


Scenario 5: 
 * 
 * 
 * 
 * 
 *  Steps (Workaround): 
   The following is only suitable for a test/demo server, not a production one:  1.  Ensure no users using Cognos applications 
    2.  Logon to Controller Report Server (typically the same as the Application Server) 
    3.  Launch Cognos Configuration from the Start Menu 
    4.  Open section 'Local Configuration - Security - Authentication' 
    5.  Change the value of 'Restrict access to members of the built-in...' (from True) to 'False' 
    6.  Open namespace called 'Cognos' 
    7.  Change the value of 'Allow anonymous access?' (from False) to 'True' 
    8.  Click 'Save' 
    9.  Restart the IBM Cognos 8 BI service 
    10. Launch Cognos Controller Configuration 
    11. Open section 'Web Services Server - Server Authentication' 
    12. Change value of 'Select authentication method' (from Cognos 8) to 'Native' 
    13. Click 'save' 
    14. Re-test
   
   


Scenario 6: 

Install Microsoft SOAP Toolkit 3.0 on the application server ("Web Services Server").  * For more details, see Technote #1376195


Scenario 7: 

On the Controller application server, copy the relevant registry keys from the 64-bit portion of the registry into the 32-bit section. 
 * Steps:
 *  Logon to the Controller application server as an administrator START - RUN - REGEDIT Navigate to the key 'HKEY_LOCAL_MACHINE\SOFTWARE\VB and VBA Program Settings\FrangoController\Shares Right-click and export this key as a .REG file Open the exported .REG file inside a text editor Modify the contents so that it refers to "HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\VB and VBA Program Settings\FrangoController\Shares" (instead of "HKEY_LOCAL_MACHINE\SOFTWARE\VB and VBA Program Settings\FrangoController\Shares\") Save the file Double-click the newly-modified .REG file (to import the registry contents) Check that the contents of 'HKEY_LOCAL_MACHINE\SOFTWARE\VB and VBA Program Settings\FrangoController\Shares' have successfully been copied to 'HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\VB and VBA Program Settings\FrangoController\Shares' Test 

RELATED INFORMATION
 1382316 - Error 'Failed to connect or logon to Cognos 8 [http://www.ibm.com/support/docview.wss?uid=swg21382316]
1405205 - Error 'Failed to connect or logon to IBM cogn [http://www.ibm.com/support/docview.wss?uid=swg21405205]


 

HISTORICAL NUMBER
 1037477