Title: IBM PK11593: APPLICATION DEVELOPED WITH JSF 6.0 HAS A PROBLEM WITH "GO TO" FUNCTION WITH PAGE CODE BASE. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS UNREPRODUCIBLE.
    
   
   

ERROR DESCRIPTION
 *  Environment: Windows XP
   Product name: IBM&#65449; Rational&#65449; Application Developer
   Program Version    :  6.0.0.1 - Interim fix 3 applied
   Build: 20050214_1800
   Reproducible Y/N: Y
   Description of problem:
   Application developed with JSF 6.0 has a problem with "GO TO"
   function with page code base . Application goes into an
   infinite loop  when they try to go from Page 2 to Page 1(issue
   with reverse navigation).
   
   Customer Description:
   Supplied a simple JSF project with 4 pages and 4 backing
   javabeans.
   
   Pages are:
   Pagina1Goto and Pagina2Goto: 2 pages connected using gotoPage
   method in PageCodeBase (method generated by RAD).
   Pagina1Config and Pagina2Config: 2 pages connected using
   faces-config.xml.
   
   I'm debugging the code with WAS 5.1 WTE embedded server.
   
   If I use gotoPage, the first time I push the button in Pagina1,
   I go to Pagina2. But in the second page, if I push the
   button, the debugger stops in the action Method associated with
   the button in Pagina1. If I continue the execution I debug
   the method in Pagina2 and I go into an infinite loop. If I use
   Pagina1Config and Pagina2Config with faces-config.xml
   everything goes well.
   
   Our problem is that sometimes we have URLs generated
   dynamically. Then we need to do some navigation
   programmatically. We
   have tried use redirect
   (this.facesContext.getExternalContext().redirect( )) and it
   works fine, but we don?t want to use
   redirect because it has others problems (we want to use
   ?forward?). We have tried with Dispatch
   (this.facesContext.getExternalContext().dispatch( )) and the
   result is similar to use gotoPage.
   
   Also in our computer, when you start in page 2 the problem is
   the same that starting in page 1.
   
   This problem is critical for us, because we are developing
   architecture that uses this method and we have real applications
   affected by this problem. Could you give us estimation about the
   time needed to solve this problem? It's very important for
   us in order to think any alternative solution.
   
   NB: We have also tested this application in a standard WAS 5.1
   (Windows 2000 operating system) and the problem appears too,
   then we think that the problem is in the JSF implementation more
   than in RAD.
   
   Engineers Research:
   Using the customer project as attached the problem is
   reproducible.
   I can see that if I activate the page 1 button I correctly go to
   page 2 and then if I do the same in page 2 I appear to
   freeze in page 2. When I debugged this myself there appears to
   be 3 iterations in this loop it does go back and forward
   between pages on these occasions and the
   facesContext.setViewRoot(newView) of the gotoPage method is
   cycled through three
   times. This is also irrespective of what page I start on, if I
   start in page 2 it works the first time and then this
   behaviour manifests in reverse. Looking at the code I can't see
   how this error is actually coming from the gotoPage method as
   suggested by the customer initially.
   
   Steps to reproduce:
   1. Import attached project
   2. Deploy to WTE 5.1.
   3. Run Pagina1Goto and push button to go to Pagina2, doing the
   same in Pagina2 has no effect the applicaiton freezes.
   
   Workaround:
   None found
   
   
   NB: I have also today tried testing this with RAD 6.0.1 update
   applied and the behaviour still occurs.
   
   
    
   
   

LOCAL FIX
 *  NONE FOUND
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: na                                           *
   ****************************************************************
   * PROBLEM DESCRIPTION: PageCodeBase#gotoPage() did not appear  *
   ****************************************************************
   *                      to work correctly.                      *
   ****************************************************************
   * RECOMMENDATION: Correct the usage of gotoPage() or better ye *
   ****************************************************************
   *                 t do not use that method at all and instead  *
   ****************************************************************
   *                 return a string from the action and let navi *
   ****************************************************************
   *                 gation rule processing handle page transitio *
   ****************************************************************
   *                 n.                                           *
   ****************************************************************
   The method was being used incorrecty as the destination page nam
   e requires the leading / char.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK11593
   
   
 * REPORTED COMPONENT NAME
   APP DEV V6 WIN
   
   
 * REPORTED COMPONENT ID
   5724J1901
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED UR5
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2005-09-09
   
   
 * CLOSED DATE
   2005-12-06
   
   
 * LAST MODIFIED DATE
   2005-12-06
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R600 PSN
   UP