Title: IBM Content Navigator searches with FileNet return insufficient results. - United States

Text:
content navigator filenet search cpe TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When searching for files using IBM Content Navigator's (ICN) search feature, files that are expected to be returned are missing. However when running a similar search using FileNet Content Platform Engine's (CPE) native search, correct results are returned. 

SYMPTOM
Searching for "TEST" in ICN: 

[/support/docview.wss?uid=swg21978583&aid=1] [/support/docview.wss?uid=swg21978583&aid=1]

Returns no results:
[/support/docview.wss?uid=swg21978583&aid=2] [/support/docview.wss?uid=swg21978583&aid=2]

In CPE, the search works as expected:
[/support/docview.wss?uid=swg21978583&aid=3] [/support/docview.wss?uid=swg21978583&aid=3]


CAUSE
A possible cause is that the search created by ICN is not compatible with CPE's search syntax. This can occur when CPE client files have not been updated to the correct CPE version during the ICN install or upgrade. 



ENVIRONMENT
IBM Content Navigator 2.0.x
IBM FileNet Content Platform Engine 5.2.x



DIAGNOSING THE PROBLEM
1. To diagnose the issue, enable debug logging on the ICN server: 

Hide details for Instructions [/support/docview.wss?uid=swg21978583&amp;aid=4]Instructions 

 * 
 * 
 * - Click the Settings and go to the Logging tab 
 * - From Application-level Logging dropdown, select Debug. 
 * - Save and close. 
   [/support/docview.wss?uid=swg21978583&aid=5] [/support/docview.wss?uid=swg21978583&aid=5]


2. Run a search in ICN as normal: 
[/support/docview.wss?uid=swg21978583&aid=6] [/support/docview.wss?uid=swg21978583&aid=6] 


3. Open the application server log for the server where ICN is deployed. Example: 
[/support/docview.wss?uid=swg21978583&aid=7] [/support/docview.wss?uid=swg21978583&aid=7] 

4. In the log, search for "sql:" and find the line that best matches the search that has been ran: 
[/support/docview.wss?uid=swg21978583&aid=8] [/support/docview.wss?uid=swg21978583&aid=8]  * 
 * 
 * SELECT t.[DocumentTitle], t.[ContentSize], t.[LastModifier], t.[DateLastModified], t.[MajorVersionNumber], t.[ClassDescription], t.[IsCurrentVersion], t.[IsReserved], t.[Reservation], t.[MimeType], t.[VersionStatus], t.[MinorVersionNumber], t.[VersionSeries], t.[Id], t.[ReplicationGroup], t.[Creator], t.[ReservationType], t.[IsVersioningEnabled], t.[Owner], t.[EntryTemplateObjectStoreName], t.[EntryTemplateId], t.[EntryTemplateLaunchedWorkflowNumber], t.[CompoundDocumentState] FROM [document] t WHERE t.[DocumentTitle] LIKE 'TEST%' AND t.VersionStatus = 1 ORDER BY t.[DocumentTitle] OPTIONS (TIMELIMIT 60, COUNT_LIMIT 2147483647 )
 * 

5. Copying that text, attempt the search in CPE using the SQL view. It should return the same results as ICN: 
[/support/docview.wss?uid=swg21978583&aid=9] [/support/docview.wss?uid=swg21978583&aid=9] 


RESOLVING THE PROBLEM
Steps to upgrade the CPE client files are provided in the Infocentre at the link below: 

Updating the IBM FileNet P8 client connector files (FileNet P8) [http://www.ibm.com/support/knowledgecenter/SSEUEX_2.0.3/com.ibm.installingeuc.doc/eucde012.htm]




Cross reference information Segment Product Component Platform Version Edition Enterprise Content Management Content Navigator ICN and CM FileNet Linux, Windows 2.0.3, 2.0.2