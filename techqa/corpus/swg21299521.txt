Title: IBM AMQ4036 connecting to i5/OS queue manager from Windows MQ Explorer - United States

Text:
2035 AMQ4036 MQEXPLORER REMOTE ADMINISTRATION TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Your i5/OS user is a member of a group called MQUSER. This group is enrolled in MQ security with GRTMQMAUT OBJ(*ALL) OBJTYPE(*ALL) USER(MQUSER) AUT(*ADMDSP) MQMNAME(SHTEST). When the user attempts to view objects on the i5/OS queue manager from Windows MQ Explorer, the user receives:

AMQ4036, "Access not permitted. You are not authorized to perform this operation." 

CAUSE
Windows user does not have appropriate authority.

DIAGNOSING THE PROBLEM
Obtain MQ trace on i5/OS while attempting connection to determine for what object user is receiving MQRC 2035, Not Authorized. Technote 1166937 "2035 MQRC_NOT_AUTHORIZED in WMQ" [https://www.ibm.com/support/docview.wss?uid=swg21166937] is helpful with deciphering authority settings in trace . 

RESOLVING THE PROBLEM
The authority required for the user connecting to the i5/OS queue manager using the Windows MQ Explorer to display queues and channels is as shown below. These steps assume that you have properly configured -OR- disabled the Channel Authentication(CHLAUTH) and Connection Authentication(CONNAUTH) functions for the queue manager v7.1 or v8. For more information about CHLAUTH and CONNAUTH review the following links:


Channel Authentication(CHLAUTH): 

 * YouTube - [/support/docview.wss?uid=swg21299521&amp;aid=1] MQ V8 CHLAUTH Tech Talk [https://www.youtube.com/watch?v=DXa_GqJieqo] 
 * Slideshare - [/support/docview.wss?uid=swg21299521&amp;aid=2] WebSphere MQ CHLAUTH - including V8 changes [http://www.slideshare.net/MoragHughson/websphere-mq-chlauth] 
 * Blog entry - I'm being blocked by CHLAUTH - how can I work out why? [https://www.ibm.com/developerworks/community/blogs/aimsupport/entry/blocked_by_chlauth_why] 
 * WebSphere Integration User Group (UK) - [/support/docview.wss?uid=swg21299521&amp;aid=3] MQ Channel Authentication Records [http://www.mqug.org.uk/downloads/201407/201407%20-%20MQ103%20-%20CHLAUTH%20inc%20v8.pdf]



CONNAUTH and CHCKLOCL: 
Product documentation topic - Security: new CONNAUTH CHCKLOCL parameter [https://www.ibm.com/support/knowledgecenter/SSFKSJ_8.0.0/com.ibm.mq.pro.doc/q120081_.htm] 
Queue Manager 
GRTMQMAUT OBJ(<QMGR>) OBJTYPE(*MQM) USER(<MQUSER>) 
AUT(*CONNECT *INQ *ADMDSP) MQMNAME(<QMGR>) 

Queue 
GRTMQMAUT OBJ(<QNAME | *ALL>) OBJTYPE(*Q) USER(<MQUSER>) AUT(*ADMDSP) 
MQMNAME(<QMGR>) 
. 
GRTMQMAUT OBJ(SYSTEM.ADMIN.COMMAND.QUEUE) OBJTYPE(*Q) 
USER(<MQUSER>) AUT(*PUT *INQ) MQMNAME(<QMGR>) 

GRTMQMAUT OBJ(SYSTEM.MQEXPLORER.REPLY.MODEL) OBJTYPE(*Q) 
USER(<MQUSER>) AUT(*ADMCRT *ADMDSP *INQ *GET) MQMNAME(<QMGR>) 

Channel 
GRTMQMAUT OBJ(<CHLNAME | *ALL>) OBJTYPE(*CHL) USER(<MQUSER>) AUT(*ADMDSP *CTRL) MQMNAME(<QMGR>) 



HISTORICAL NUMBER
 51854
227
000 

PRODUCT ALIAS/SYNONYM
 IBMMQ WMQ MQ