Title: IBM Collect troubleshooting data for Process Federation Server problems in IBM Business Process Manager (BPM) - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 English 

PROBLEM(ABSTRACT)
 You are having a Process Federation Server problem with IBM Business Process Manager. You would like to know what documentation you must collect (MustGather) so that the IBM Business Process Manager Support team can diagnose your problem. If you gather this documentation before contacting support it will expedite the troubleshooting process, and save you time. 

DIAGNOSING THE PROBLEM
Problem Description : 
Describe the steps to recreate the issue. Include the symptoms of the issue . 

 * Which component or application is involved? 
 * Do you see any error messages? 
 * What is the time stamp when the problem occurs? 
 * Did the current scenario work previously? If yes, what has been changed? 
 * Is this issue reproducible at will? How often does this problem occur? Do you see any indicators on why this happens? 
 * Provide screen shots if applicable (if an error message is not shown or if the specific error is not seen in the log files, and so on)


Important notes: 

If the issue you are facing is related to set up / configuration or installation of Process Federation Server, please include all the steps you took to perform these tasks; You may refer to the url you followed from BPM info Center . 

If the problem is related to Process Federation Server configuration, first try the PFS validation utility and provide results: http://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.5.7/com.ibm.wbpm.main.doc/topics/tsec_fps_validation.html [http://www.ibm.com/support/knowledgecenter/en/SSFPJS_8.5.7/com.ibm.wbpm.main.doc/topics/tsec_fps_validation.html] 

If the problem is related to federated Process Portal configuration, first try the Portal validation utility and provide results: https://www.ibm.com/support/knowledgecenter/en/SSFTN5_8.5.7/com.ibm.wbpm.imuc.doc/topics/tcfg_process_portal_verify_federated.html [https://www.ibm.com/support/knowledgecenter/en/SSFTN5_8.5.7/com.ibm.wbpm.imuc.doc/topics/tcfg_process_portal_verify_federated.html] 


Environment Description : 
Describe the configuration specifications of your Process Server Federation environment. 

In your description please include : 

 * Federation topology - what is being federated (BPMN or BPEL), which BPM releases are being federated, which environment is hosting the federated Process Portal. 
 * PFS server.xml file, located in PFS directory /usr/servers/<server_name>/server.xml. Note, you may wish to encode or temporarily remove passwords before providing the server.xml. See instructions here: https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.wlp.doc/ae/rwlp_command_securityutil.html [https://www.ibm.com/support/knowledgecenter/SSAW57_8.5.5/com.ibm.websphere.wlp.doc/ae/rwlp_command_securityutil.html] 
 * If the problem is related to integration with a backend BPM environment, provide that BPM environment's 100Custom.xml and TeamWorksConfiguration.running.xml configuration files. For location see BPM mustgather: http://www-01.ibm.com/support/docview.wss?uid=swg21569731 [http://www-01.ibm.com/support/docview.wss?uid=swg21569731]


Provide product version information : 
From the PFS server /bin directory, run the Liberty command: 
productInfo version 


Collect logs: 

A) Collect the PFS logs directory /usr/servers/<server_name>/logs. If possible provide clean logs by stopping server, deleting logs directory, set tracing in server.xml, start server, reproduce problem, zip up entire logs directory.

General purpose trace in PFS server.xml:
<logging
consoleLogLevel="INFO"
traceFormat="BASIC"
maxFiles="5"
maxFileSize="20"
traceSpecification="*=info:com.ibm.bpm.federated.*=all:com.ibm.bpm.federated.indexer.*=fine"
/> 

For a PFS indexing problem: 
change the traceSpecification to *=info:com.ibm.bpm.federated.*=all:com.ibm.bpm.federated.indexer.*=all

B) Collect backend BPM logs directory if you suspect the problem is related to integration with the backend BPM server: 

Backend BPM (traditional WAS) REST trace 
Use this trace string to see the REST requests on backend BPM side, for example for troubleshooting issues between PFS and backend BPM: 
*=info:com.ibm.bpm.wle.query.*=all:com.ibm.bpm.wle.util.*=all:com.ibm.bpm.rest.*=all 

If the problem is specific to the WebSphere Liberty runtime, please see the Liberty profile mustgather [http://www-01.ibm.com/support/docview.wss?uid=swg21145599] for additional information. 




WHAT TO DO NEXT
 

 1. Review the log files and traces at the time of the problem to try to determine the source of the problem.
    
    
 2. Use IBM Support Assistant [http://www.ibm.com/software/support/isa/] to search for known problems in the product documentation, forums, and technotes.
    
    
 3. If you cannot find related problems or cannot solve the problem, send the information you have collected to IBM by following the instructions in Exchanging Information with IBM Technical Support. [http://www.ibm.com/software/support/exchangeinfo.html]