Title: IBM Object Server is not functional due to corrupted database - United States

Text:
E-OBJ-102-020; Failed to start the storage system; Extent statistics mismatch; E-IPC-005-001; OpenServer - Error; SRV_START event aborted srv_run; E-STK-102-014; Failed to start server processing loop TECHNOTE (FAQ)

QUESTION
 Seeing Error messages indicating issues with database when object server starts. 

CAUSE
Corrupted database due to abnormal shutdown/ending.

ANSWER
The object server database can be corrupted if the object server shutdown abnormally (system crash, nco_objserv process is killed, etc.). When an object server is restarted with corrupted database it may fails start or fail immediately after the start. If the issue is due to corrupted database you may see the following error messages in the log: 

 *  04/26/10 11:57:25: Error: E-OBJ-102-020: Failed to start the storage system. (-490:Extent statistics mismatch) 04/26/10 11:57:25: Error: E-IPC-005-001: OpenServer - Error: 16334/10/0: SRV_START event aborted srv_run 04/26/10 11:57:25: Error: E-STK-102-014: [nstk]: NCOMS01: Failed to start server processing loop. (-19:General failure) 


If this is the case, the Object server will make backup files of database while running by creating files with _0 and _1 in $OMNIHOME/db/. If the object server is corrupted, you can try to restore the table from it backup. 

Note that the following steps must be performed only when object server is shutdown (or not running and make sure process agent (PA) or some other script not already started the object server and is running. 
 *  Backup the Object server Database directory Remove *_1* files and try starting object server 


If unable to start, continue with the following steps: 
 *  Remove *_0* and *_1* (newly created) files and copy *_1* from backup of Object Server Database directory and try starting object server. 

If still unable to start, continue with the following steps: 
 *  Remove *_0* and *_1* files, leaving only the .tab files. Start the Object Server. 


Refer to the triggers in the automatic_backup_system trigger group defined in the automation.sql file that use the ALTER SYSTEM BACKUP command to provide an automatic backup facility. The automatic_backup trigger is disabled by default; it is a good practice to enable this trigger to create backups automatically. 

You can also customize this trigger to suit your environment. For example, you can change the number of backups saved. See the IBM Tivoli Netcool/OMNIbus: Administration Guide for additional more information.