Title: IBM Disabling Security setting for TIP bundled with TKLM - United States

Text:
TKLM; Security; Tivoli Integrated Portal TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Problems performing key management tasks due to lack of permission after disabling Security for TIP 

SYMPTOM
 

* After disabling the Security setting for TIP, TKLM will not prompt a user for its password. A non-existent user can even login to TKLM without any problem. However, the user will not be allowed to perform any key management task. 

* Upon login with either TIPAdmin or TKLMAdmin an error message might be displayed similar to the one below:

javax.management.MBeanException: 
RuntimeException thrown in RequiredModelMBean 
while trying to invoke operation getPermission 

* Running any command from wsadmin console will result in an error message. 

Example: 

print Admintask.tklmCertList() 

CTGKM0002E CommandFailed: javax.management.MBeanException thrown in RequiredModelMBean while trying to invoke operation getConfigEntry


CAUSE
 

The TIP security was disabled manually and incorrectly due to problems accessing the TKLM GUI with current users and password. The setting can be disabled from the security.xml file located under

Windows:
Drive:\ibm\tivoli\tiptklmV2\profiles\TIPProfile\config\cells\TIPCell
UNIX:
/opt/IBM/tivoli\tiptklmV2/profiles/TIPProfile/config/cells/TIPCell



DIAGNOSING THE PROBLEM
 

Edit the security.xml file and check the enabled setting value. If security has not been disabled then part of the security.xml file will look like the snippet under "Example before". However, if security has been disabled it will look like the snippet under "Example after". 


Example before:
"<security:Security xmi:version="2.0" ..... useLocalSecurityServer="true" useDomainQualifiedUserNames="false" enabled="true" cacheTimeout="600" issuePermissionWarning="false" activeProtocol="BOTH" enforceJava2Security="false" enforceFineGrainedJCASecurity="false" appEnabled="true" dynamicallyUpdateSSLConfig="true" activeAuthMechanism="LTPA_1" activeUserRegistry="WIMUserRegistry_1" defaultSSLSettings="SSLConfig_TIPNode_1">"

Example after:
"<security:Security xmi:version="2.0" ..... useLocalSecurityServer="true" useDomainQualifiedUserNames="false" enabled="false" cacheTimeout="600" issuePermissionWarning="false" activeProtocol="BOTH" enforceJava2Security="false" enforceFineGrainedJCASecurity="false" appEnabled="true" dynamicallyUpdateSSLConfig="true" activeAuthMechanism="LTPA_1" activeUserRegistry="WIMUserRegistry_1" defaultSSLSettings="SSLConfig_TIPNode_1">"



RESOLVING THE PROBLEM
 

Enable back the security for TIP by changing the value of the setting enabled to true, restart TKLM and log back into the GUI with the correct password for TKLMAdmin or TIPAdmin. If the passwords for these users are still a problem after making the change please reset them by following the steps provided under the following link: 

Resetting a password on distributed systems:
http://pic.dhe.ibm.com/infocenter/tivihelp/v2r1/index.jsp?topic=%2Fcom.ibm.tklm.doc_2.0%2Fref%2Fref_ic_getting_distribpwd_reset.html [http://pic.dhe.ibm.com/infocenter/tivihelp/v2r1/index.jsp?topic=%2Fcom.ibm.tklm.doc_2.0%2Fref%2Fref_ic_getting_distribpwd_reset.html]

RELATED INFORMATION
 Resetting a password on distributed systems [http://pic.dhe.ibm.com/infocenter/tivihelp/v2r1/index.jsp?topic=%2Fcom.ibm.tklm.doc_2.0%2Fref%2Fref_ic_getting_distribpwd_reset.html]
Disable security for Tivoli Integrated Portal [https://www-304.ibm.com/support/docview.wss?uid=swg21499504]