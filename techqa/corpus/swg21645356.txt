Title: IBM Restrictions and known issues for IBM PureData System for Transactions T1500, Fix Pack 1.0.0.3 - United States

Text:
 NEWS

ABSTRACT
 This document outlines all restrictions, known issues and workarounds for the IBM PureData System for Transactions, Fix Pack 1.0.0.3 

CONTENT
Known Issues and Workarounds for IBM PureData System for Transactions, Fix Pack 1.0.0.3
Backing up the performance monitor database 

Problem: To create a full online backup of the internal database that is used by the database performance monitor, including existing monitoring data, you must run a script to prepare and execute the backup. Resolution: See the Backing up the performance monitor database in PureData System for Transactions [http://www-01.ibm.com/support/docview.wss?uid=swg21642156] technote for additional details and a copy of the necessary script. 
Integration between IBM PureApplication System and IBM PureData System for Transactions Problem: To use the integrated functionality in IBM PureApplication System to connect with IBM PureData System for Transactions databases requires the latest version of PureApplication. Resolution: Upgrade your IBM PureApplication System to Version 1.1.0.0. Download links and installation instructions are available at the PureSystems Centre [http://izcat13.pok.ibm.com/software/brandcatalog/puresystems/centre/update?uid=S_PUREAPP] website. 
Database backup operation is not run after an instance resize operation Problem: During an instance resize operation, the user selects the option to perform a database backup after the instance is resized. However, the database backup operation is not run after the resize operation is complete. Resolution: The database backup cannot be completed because the database performance monitor is still monitoring the database through an active connection. This connection must be suspended for the duration of the backup.

In the database performance monitor:
1. On the Databases page, select your database and click Monitoring > Disable Automatic Collection.
2. Click Health > Alerts > Health Alert Configuration, select your database, clear the Monitor database health check box and click Apply.

Once the database backup is complete, you can return to the database performance monitor and resume normal operations:
1. On the Databases page, select your database and click Monitoring > Enable Automatic Collection.
2. Click Health > Alerts > Health Alert Configuration, select your database, select the Monitor database health check box and click Apply. 
Cannot launch the management console from the workload console Problem: Unable to launch the Manage console interface from the Instance panel of the Workload Console. The browser returns an "Unable to connect" error, reporting that it "can't establish a connection to server at <compute_node_IP>:8888" Resolution: This is an issue caused by a compute node starting up before the PureData System Manager after a system reboot or power outage. 

Manually restart the nodes in the correct sequence, starting the PSM first, then the compute nodes. 
CF_MEM_SZ memory parameter is not being calculated correctly on the CF node Problem: IBM PureData System for Transactions has 256 GB of cluster caching facility (CF) memory installed. For DB2 instances deployed on PureData System for Transactions Fix Pack 2, the amount of CF memory is 128 GB.

This problem is corrected for DB2 instances deployed on PureData System For Transactions Fix Pack 3. Resolution: Change the CF_MEM_SZ configuration parameter for each DB2 instance. This parameter is configurable offline, but the instance must be restarted for the new value to take effect. This change requires the following command:

db2 update dbm cfg CF_MEM_SZ using AUTOMATIC

This command must be run by the instance owner or a user with SYSADM or SYSCTL authority on the instance. 
New database table space storage allocations not being placed on available solid state drives Problem: Additional table space storage is added to a deployed database, but that storage is not initially placed on solid state drives (SSD), even though there are SSD units available. Resolution: This is known behavior. The IBM System Storage® EasyTier® feature included in the PureData System for Transactions distributes data automatically between solid state and hard disk drives based on actual I/O behavior. Data is migrated to and from drives based on resource needs. 

If the system requires that the new table space allocation be on a faster disk, the EasyTier feature will move the data as necessary. 
Database performance monitor unable to create event monitors on instances configured with Oracle compatibility Problem: On a DB2 Version 10.1 or 10.5 instance configured for Oracle compatibility, the database performance monitor shows errors related to creating event monitors for the databases in the instance. 

The database performance monitor attempts to create the event monitors with the @ symbol in the name, however due to the Oracle compatibility function, the DB2 syntax parser returns an error. Resolution: Change the Oracle compatibility setting on the instance so that the special meaning of the @ symbol on all database object names is disabled. This change allows the database performance monitor to create the event monitors. This resolution requires an outage of the instance.
 1. Log into the instance as either the instance owner or with SYSADM or SYSCTL authority on the instance. Run the following commands to change the Oracle compatibility mode:
    
    db2set DB2_COMPATIBILITY_VECTOR=10FFF
    
    
 2. If your database uses a 1208 (Unicode) or a single byte code page, and the DB2_DEFERRED_PREPARE_SEMANTICS parameter is not already set, run the command:
    
    db2set DB2_DEFERRED_PREPARE_SEMANTICS=YES
    
    If your database uses a double byte code page, and the DB2_DEFERRED_PREPARE_SEMANTICS parameter is not already set, run the command:
    
    db2set DB2_DEFERRED_PREPARE_SEMANTICS=YES_DBCS_GRAPHIC_TO_CHAR
    
    
 3. Restart the instance to complete the task, using the commands: 
    
    db2stop force
    db2start
    
    
 4. After the instance has restarted, the event monitors can be created from database objects containing an @ symbol.


Note: Federation 3-part name support for Oracle compatible databases is available only when the instance the DB2_COMPATIBILITY_VECTOR parameter set to ORA mode.

This resolution applies to any IBM PureData System for Transactions Small, Medium, or Large hardware configuration running on Fix Pack 3 or earlier. 
Database performance monitor reports an error with the PERFDB repository Problem: When attempting to open the database performance monitor, the system reports that there is an error with the PERFDB repository database. Resolution: Restart the Database Performance Monitor services from the workload console using the following process.

Click System Console > Hardware > Management Nodes > PureSystems Manager (Primary) > Restart Database Tools 
Attempting to drop a database fails due to file system busy error Problem: An attempt to delete a database from the workload console fails. 

Analysis of the log shows a message similar to the following error.
ERROR: Failed while deleting a DB2 managed GPFS cluster and file system, error: File system 'db2fs_example_file_system_name-123457890' could not be unmounted. Check the diagnostic log (db2diag.log or /tmp/ibm.db2.cluster.*) for more information. Correct the problem and re-issue the command 
'hostname.example.com' cannot unmount 'db2fs_example_file_system_name-1234567890'. The file system is busy. 

This error can occur if the file system is still being accessed by another user. Resolution:  1. Run the following command to determine which process identifiers still have access to the file system. 
    
    fuser -cu <file_system_name>
    
    
 2. Use the process numbers that were returned in a ps command to determine which processes correspond to those PID values. 
    
    ps -ef | grep 23456
    
    
 3. Contact the owner of the specified processes that are accessing the file system and instruct them to exit those processes. A system administrator can also run the termination command kill -9 to end the processes. 
 4. Run the fuser command again to verify that no processes are accessing the file system. 
 5. Delete the database again from the workload console. 


Note: You do not require superuser authority to run the fuser or ps commands.


Restrictions for IBM PureData System for Transactions, Fix Pack 1.0.0.3 

DNS server changes from system console Restriction: Any changes made to the Domain Name Service (DNS) server configuration in the System > Settings panel are not propagated to existing workloads. 



Information on restrictions and known issues for associated Database Tools are contained in the PureData System for Transactions T1500 Fix Pack 3: Restrictions and Limitations for IBM database tools [http://www-01.ibm.com/support/docview.wss?uid=swg27039194] technote.