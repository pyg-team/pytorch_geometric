Title: IBM "Finished with Error ... SQL: Column 'MOTBOL' is not found" when running a consolidation - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User clicks "Group - Consolidation with Status". User chooses parameters, and clicks "run". Inside the batch queue, consolidation finishes with the message "Finish with Error"

Problem may only affect some actualities (for example it may work OK for "AC"). 

SYMPTOM
Inside the batch queue, consolidation finishes with the message "Finish with Error" 

 * When looking in the consolidation log file, the message "SQL: Column 'MOTBOL' is not found" appears.


Consolidation log fil e ( "logvfp.log ") : 
Call Stack: 
1 - PROCEDURE MAIN.RUNKONSOL C:\PROGRAM FILES\IBM\COGNOS\C10\SERVER\LIBS\FRANGOLIB.VCT - Line 86 
2 - PROCEDURE KONSOLPS KONSOLPS.FXP - Line 568 
3 - EVENTMAINS.FXP - Line 73 
4 - PROCEDURE FXACQEVENTS EVENTMAINS.FXP - Line 167 
5 - FXACQ2XDBS.FXP - Line 89 
6 - PROCEDURE CALL_CURRCONV FXACQ2XDBS.FXP - Line 1828 
7 - PROCEDURE OMRAKP OMRAKP.FXP - Line 304 
8 - PROCEDURE OMRMAIN OMRAKP.FXP - Line 487 
9 - PROCEDURE KURSA OMRAKP.FXP - Line 4149 
10 - PROCEDURE KURSD_ONSUMS OMRAKP.FXP - Line 3612 
Program statement: Not available, c:\program files\ibm\cognos\c10\server\progs\omrakp.prg not found 
Error number: 1806 
Message text: SQL: Column 'MOTBOL' is not found. CAUSE
Code production problem (defect APAR PM76994) in Controller.



ENVIRONMENT
The problem is only triggered when a flag for counter company is set to "true", but the journal (for the relevant period) is not yet created when trying to currency convert D-code. An internal logic in the currency translation program fails and the error message appears.



RESOLVING THE PROBLEM
Upgrade to Controller 10.1.1 FP2 (10.1.2155) or later.



RELATED INFORMATION
#1373203 - How to locate the consolidation log file "log [http://www.ibm.com/support/docview.wss?uid=swg21373203]