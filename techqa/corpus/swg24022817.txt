Title: IBM PK83999; 6.1.0.21: NamingException when updating group membership. - United States

Text:
PK83999; PK83999; PK83999 DOWNLOADABLE FILES

ABSTRACT
 If cross-brand LDAP including Active Directory LDAP is configured in VMM, update() API call may fail with NamingNotFoundException. 

DOWNLOAD DESCRIPTION
PK83999 resolves the following problem:

ERROR DESCRIPTION: 
If cross-brand LDAP servers including Active Directory LDAP is configured in Virtual Member Manager (VMM), update() API call with group membership assignment may fail with NamingNotFoundException. 

LOCAL FIX: 
none 

PROBLEM SUMMARY

USERS AFFECTED:
All users of IBM WebSphere Application Server V6.1 or V7.0 who use federated repositories (Virtual Member Manager).

PROBLEM DESCRIPTION:
If cross-brand LDAP including Active Directory LDAP is configured in VMM, update() API call may fail with NamingNotFoundException.

RECOMMENDATION:
None

If cross-brand LDAP servers including Active Directory (AD) LDAP is configured in Virtual Member Manager (VMM) as repositories, or both AD LDAP and database repositories were configured at the same time, the update() call with group membership in the other brand LDAP server or database repository would fail with a NamingException:

00000048 LdapConnectio 1
com.ibm.ws.wim.adapter.ldap.LdapConnection getRangeAttributes
Exception caught:
javax.naming.NamingException:
[LDAP: error code 1 - 000020D6: SvcErr: DSID-03100684, problem
5012 (DIR_ERROR), data 0
]; remaining name 'cn=FS Admin,o=Default Organization'
at com.sun.jndi.ldap.LdapCtx.mapErrorCode
(LdapCtx.java:3040)
at com.sun.jndi.ldap.LdapCtx.c_getAttributes
(LdapCtx.java:1306)
......
at
com.ibm.ws.wim.adapter.ldap.LdapConnection.getEntityByIdentifier(LdapConnection.java:2276)
at
com.ibm.ws.wim.adapter.ldap.LdapAdapter.get(LdapAdapter.java:1348) 




at
com.ibm.ws.wim.ProfileManager.getIdentifierByUniqueIdOrUniqueName(ProfileManager.java:3851)
at
com.ibm.ws.wim.ProfileManager.setExtIdAndRepositoryIdForEntities(ProfileManager.java:3625)
at
com.ibm.ws.wim.ProfileManager.updateImpl(ProfileManager.java:2745).

Please note that the problem happened only when AD LDAP was the first repository configured in VMM. For example, AD LDAP was the first LDAP repository and then IBM Directory Server (IDS) LDAP was the second repository configured in VMM. When assigning a user in IDS to a group also in IDS as a group member, the update() call would fail with the exception.

PROBLEM CONCLUSION: 
The problem has been fixed, there will be no exception thrown for update() call with special scenario. 
The fix for this APAR is currently targeted for inclusion in fix packs 6.1.0.27 and 7.0.0.5. Please refer to the Recommended Updates page for delivery information: 
http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]

PREREQUISITES
Please download the UpdateInstaller below to install this fix.

URL LANGUAGE SIZE(Bytes) UpdateInstaller [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21205991] US English 7250000 
INSTALLATION INSTRUCTIONS
Please review the readme.txt for detailed installation instructions.

URL LANGUAGE SIZE(Bytes) Readme [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PK83999/readme.txt] US English 8784 
DOWNLOAD PACKAGE




Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 
What is Fix Central(FC)? [https://www.ibm.com/support/fixcentral/help?page=swfaqs] 
What is DD? [http://www6.software.ibm.com/dldirector/doc/DDfaq_en.html] 6.1.0.21-WS-WAS-IFPK83999 4/20/2009 US English 42313 FC [http://www.ibm.com/support/fixcentral/quickorder?fixids=6.1.0.21-WS-WAS-IFPK83999&product=ibm%2FWebSphere%2FWebSphere%20Application%20Server&source=dbluesearch] FTP [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes//PK83999/6.1.0.21-WS-WAS-IFPK83999.pak] DD 6.1.0.23-WS-WAS-IFPK83999 4/21/2009 US English 42419 FC [http://www.ibm.com/support/fixcentral/quickorder?fixids=6.1.0.23-WS-WAS-IFPK83999&product=ibm%2FWebSphere%2FWebSphere%20Application%20Server&source=dbluesearch] FTP [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PK83999/6.1.0.23-WS-WAS-IFPK83999.pak] DD 7.0.0.0-WS-WAS-IFPK83999 4/21/2009 US English 42419 FC [http://www.ibm.com/support/fixcentral/quickorder?fixids=7.0.0.0-WS-WAS-IFPK83999&product=ibm%2FWebSphere%2FWebSphere%20Application%20Server&source=dbluesearch] FTP [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PK83999/7.0.0.0-WS-WAS-IFPK83999.pak] DD 7.0.0.3-WS-WAS-IFPK83999 4/21/2009 US English 42430 FC [http://www.ibm.com/support/fixcentral/quickorder?fixids=7.0.0.3-WS-WAS-IFPK83999&product=ibm%2FWebSphere%2FWebSphere%20Application%20Server&source=dbluesearch] FTP [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PK83999/7.0.0.3-WS-WAS-IFPK83999.pak] DD 
TECHNICAL SUPPORT
 Contact IBM Support using SR (http://www-306.ibm.com/software/support/probsub.html [http://www-306.ibm.com/software/support/probsub.html]), visit the WebSphere Application Server Support Web site (http://www.ibm.com/software/webservers/appserv/was/support/ [http://www.ibm.com/software/webservers/appserv/was/support/]), or contact 1-800-IBM-SERV (U.S. only). 

 [/support/docview.wss?uid=swg24022817&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24022817&aid=2]Problems (APARS) fixed
PK83999