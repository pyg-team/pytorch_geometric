Title: IBM Using the "reinitialize" CLI command to reconfigure an appliance. - United States

Text:
datapower; init; initialize; reinitialize; reinit; reset; factory settings; settings; 7993; 7993; 7993; machine type 7993 DPRecovery TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 If you need to reconfigure an IBM WebSphere DataPower SOA appliance you can use the "reinitialize" CLI command. 

RESOLVING THE PROBLEM
Note: The appliance should NOT be initialized if sitation described in the technote exists - http://www-01.ibm.com/support/docview.wss?uid=swg21659259 [http://www-01.ibm.com/support/docview.wss?uid=swg21659259] - appliance gets into Fail-Safe mode. It may be necessary to return the appliance to IBM for repair.
The reinit CLI command will allow you to reconfigure an IBM WebSphere DataPower SOA appliance. The reinit CLI command will allow you to delete (not erase) all existing configuration and data from an IBM WebSphere DataPower SOA appliance.

When the reinitialize command completes, your network IP configurations, user accounts and other configuration options, are no longer accessible. 

You will only be able to connect to the appliance using the serial connection. 

You will need to configure your Ethernet and all other settings again using the information in the product information center available from our library page [http://www.ibm.com/software/integration/datapower/library/index.html].

Important points: 

 * Make sure you have a working serial connection to the appliance. 
   
   
 * The admin password will revert to the initial value of "admin" after the command executes.
   
   
 * A firmware image must be on the appliance prior to running the command. The firmware image used for the last upgrade of the device is removed from the file system automatically when the device reboots. Use DataPower's File Management WebGUI option to confirm you have an image or use these CLI commands:
   xi52# configure
   xi52# dir image:
   If an image file is not found, you will need to load a firmware image to the appliance into the image:/// directory. For example: you can use the WebGUI file management options or from the Control Panel, choose the System Control icon, the under Boot Image, choose the firmware file upload options.
   
   
 * Use the DataPower File Management to confirm you have sufficient file space. If you don't have sufficient file space, you can delete domains or other files to free up file space to allow the firmware image to be loaded to the appliance. 
   
   
 * reinit is a CLI command available in the config-flash# mode, for example:
   
   xi52# configure terminal
   Global configuration mode 
   xi52(config)# flash 
   Flash configuration mode 
   xi52(config-flash)#
   reinit <filename> 
   
   Where <filename> represents a firmware image contained within the image:/// directory. This will be the firmware image which will be installed during the reinit process. For more CLI commands, refere to the following doc link:
   http://pic.dhe.ibm.com/infocenter/wsdatap/v5r0m0/nav/4_4 [http://pic.dhe.ibm.com/infocenter/wsdatap/v5r0m0/nav/4_4] 
   
   
 * After the appliance reboots:  *  If the firmware image used was for V5 or newer, you will need to accept the license at first logon to the WebGui Configure the appliance per the instructions in the appliances configuration guide. This and other documentation on the appliance is available from our library page [http://www.ibm.com/software/integration/datapower/library/index.html]. 
   
   



The command is documented in the information center. This and other documentation on the appliance is available from our library page [http://www.ibm.com/software/integration/datapower/library/index.html]. 

If your appliance has the optional RAID (hard drives) reinitialize the RAID using the information in our RAID technote [http://www.ibm.com/support/docview.wss?uid=swg21358544]. 

If your appliance has the optional HSM, reinitialize the HSM following the instructions in our HSM book or infocenter for your release of the product. These are available on our library page [http://www.ibm.com/software/integration/datapower/library/documentation/].  



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM DataPower Gateway Virtual Edition Business Integration IBM DataPower Gateways