Title: IBM Open Mic Q&A: DominoÂ® Agents (Nov 25th, 2011) - United States

Text:
STEwebcastDocument; lste_webcast; Open Mic; Q&A; Domino; Agents; Domino Agents TECHNOTE (FAQ)

QUESTION
In this Open Mic session, the presenter walked through a 30 minute presentation on "Domino Agents" followed by a Question & Answer session. 

Questions and Answers from the Open Mic call: 

Q: How to know if a scheduled agent ran or is about to run ?

A: You can check whether the agent ran or not in Agent Log. 

To get the list of agents, perform a 'Tell Amgr Schedule' at the server console. This command shows the Agent Manager schedule of all the agents scheduled to run for the current day. This is useful for debugging purpose, because you can see if your agent is waiting in one of the Agent Manager queues.

The Agent Manager has three different queues: a queue for agents that are eligible to run (E), another queue for agents that are scheduled to run (S), and a third for event-triggered agents that are waiting for their event to occur (V). Scheduled agents (the ones that have any of the schedule triggers) are queued in the "Scheduled" queue. When the time they are scheduled to run arrives, they are moved into the "Eligible to run" queue. Event-triggered agents (new mail and document creation/modification agents) are queued in the "Event" queue until an event they are waiting for occurs. When the event occurs, the agents move into the "Scheduled" queue and then into the "Eligible to run" queue. 

Here is a sample output from the "Tell amgr schedule" remote console command: 

E S 04:03 PM Today agent1 CENTRAL.NSF
S S 05:04 PM Today agent2 CENTRAL.NSF
V U agent3 CENTRAL.NSF

The first column of the output contains the Agent Manager queue type. The second column contains the agent trigger type, where S means the agent is scheduled, M represents a new mail-triggered agent, and U represents a new/updated document-triggered agent. These columns are followed by the time the agent is scheduled to run, the name of the agent, and the database name. 

In the sample output above, agent1 is a scheduled agent that has been moved to the "Eligible to run" queue, and it will run as soon as the Agent Manager is free to run it. Agent2 is a scheduled agent that is waiting in the "Scheduled" queue for its scheduled time to arrive. Agent3 is an event-triggered agent waiting in the "Event" queue for a document to be created or modified.

************************************************************************************************************************

Q: What happens if a scheduled agent didn't complete its execution on time? Does it re-run from
the same point where it has stopped at the next schedule or when the server restarts?

A: It would run from the beginning.

************************************************************************************************************************

Q: What happens if two scheduled agents are scheduled to run at the same time?

A: Depending on how many Amgr processes running around the time, the agent would run. i.e., if there's 2 Amgr processes running and and if both of them are free, the agents would run concurrently. Otherwise, one after another would run. But the agent would run nonetheless. 

************************************************************************************************************************

Q: Why does it happen that sometimes Lotus script code disappears from agents/script libraries?

A: This will not happen on any database. However we need to check whether it is specific to one database and under what conditions this issue is occurring.

************************************************************************************************************************

Q: Is it a problem writing too much of lengthy code within an agent? 

A: There is no problem reported so far with lengthy codes with in agent.

************************************************************************************************************************

Q: What is the right time to schedule agents during the night time? 

A: It depends on how your replication and other activities are scheduled. During Night time say around 1 to 2 AM, Design task and other tasks runs on the server.

Hence it is recommended to consider the above factors while setting the replication schedule.

************************************************************************************************************************

Q: Is there a possibility that WebQuerySave agents can cause 65K data issue when printing data?

A: There is no problem reported so far with WebQuerySave agents cause 65K data issue when printing data.

************************************************************************************************************************

Q: What precautions should be taken while writing Java agents? 

A: No specific precautions for Java Agents.



ANSWER
All answers mentioned above

Domino Agents.pdf [/support/docview.wss?uid=swg21575357&aid=2]Domino Agents.pdf [/support/docview.wss?uid=swg21575357&aid=1]
Domino Agents