Title: IBM The wp-validate-federated-ldap-attribute-config task fails with database driver not found exception - United States

Text:
database driver; validate attribute; federated; la; lookaside; property; extension; property extension; ClassNotFoundException; VMM; ConfigEngine TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 ConfigEngine's wp-validate-federated-ldap-attribute-config finishes with "BUILD SUCCESSFUL." However, it is actually not successfully run due to a database driver exception that occurs. 

CAUSE
This is a current limitation of the product and will be fixed in a future version of Portal. 

DIAGNOSING THE PROBLEM
ConfigTrace.log shows: 

[wplc-validate-ldap-attribute-config] [Timestamp] CWWIM0005W Could not register as WebSphere Application Server adminService notification listener. 

[wplc-validate-ldap-attribute-config] com.ibm.websphere.wim.exception.WIMSystemException: CWWIM1999E An exception occurred during processing: CWWIM1999E An exception occurred during processing: null 

[wplc-validate-ldap-attribute-config] at com.ibm.ws.wim.lookaside.LAPropertyCache.init(LAPropertyCache.java:453) 

... 

[wplc-validate-ldap-attribute-config] Caused by: com.ibm.websphere.wim.exception.WIMSystemException: CWWIM1999E An exception occurred during processing: null 

[wplc-validate-ldap-attribute-config] at com.ibm.ws.wim.dao.AbstractDAO.getDirectAccessConnection(AbstractDAO.java:352) 

... 

[wplc-validate-ldap-attribute-config] Caused by: com.ibm.websphere.wim.exception.WIMSystemException 

[wplc-validate-ldap-attribute-config] at com.ibm.ws.wim.dao.DAOHelper.loadJDBCClass(DAOHelper.java:802) 

... 

[wplc-validate-ldap-attribute-config] Caused by: java.lang.ClassNotFoundException: com.ibm.db2.jcc.DB2Driver 

[wplc-validate-ldap-attribute-config] at java.lang.Throwable.<init>(Throwable.java:80) 

...


RESOLVING THE PROBLEM
Copy the database drivers to the AppServer/lib directory and rerun the configuration task. 

 

Note: The failure itself occurs because the configuration task is unable to to locate a copy of the database drivers. In this specific case, the Virtual Member Manager component of WebSphere Application Server is unable to locate database drivers. In other cases, the WebSphere Portal ConfigEngine component may not be able to locate the database drivers. The AppServer/lib directory is a common directory to many components of WebSphere Application Server and WebSphere Portal. Placing a copy of the database drivers in this directory will allow both WebSphere Portal and WebSphere Application Server configuration scripts to have access to the database drivers. 

 


Cross reference information Segment Product Component Platform Version Edition Organizational Productivity- Portals & Collaboration WebSphere Portal End of Support Products AIX, HP-UX, IBM i, Linux, Solaris, Windows, z/OS 7.0, 6.1