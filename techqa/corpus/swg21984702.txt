Title: IBM How to configure IBM HTTP Server V9 for Host On-Demand V11? - United States

Text:
HOD; IHS V9; IHS 9; HOD 11 TECHNOTE (FAQ)

QUESTION
 How do you configure IBM HTTP Server V9 for Rational Host On-Demand V11? 

CAUSE
Changes in the configuration directives with IBM HTTP Server (IHS) V9 cause the Host On-Demand V11 (HOD) pages to fail to load. IHS V9 is powered by Apache 2.4 where previous versions of IHS were powered by Apache 2.2 and some configuration directives have changed with IHS V9. 

ANSWER
This configuration is for Host On-Demand Version 11 only. 

Add the following configuration statements to the httpd.conf file for the IBM HTTP Server V9 to support the downloading of Host On-Demand clients on z/OS. 

These statements assume the default install location /usr/lpp/HOD. 

Modify the statements if installed in a different path. 

Add this load module:
LoadModule access_compat_module modules/mod_access_compat.so

<FilesMatch \.ascii$>
CharsetSourceEnc UTF-8
CharsetDefault UTF-8
CharsetOptions NoImplicitAdd
</FilesMatch>

AliasMatch ^/hod/(.*\.(css|jnlp|html|HTML|js|properties|props|txt))
/usr/lpp/HOD/hostondemand/HOD/$1.ascii
Note: The above must be on one line and not wrap.
Alias /hod/ "/usr/lpp/HOD/hostondemand/HOD/" 
<Directory "/usr/lpp/HOD/hostondemand/HOD/"> 
Options MultiViews Includes FollowSymLinks 
Order Deny,Allow 
Deny from all
Allow from <domain> For example ibm.com
Require all granted
</Directory> 

For more information about the Order directive, refer to the Apache Directive Index [https://httpd.apache.org/docs/2.4/mod/mod_access_compat.html#order]. Your company may require a different configuration. 


Add these AddType directives: 

AddType application/x-java-jnlp-file .jnlp
AddType multipart/x-zip .jar


Add this AddEncoding directive: 

AddEncoding .ascii 8bit


After making any changes to the httpd.conf file, you will need to stop and restart the server. 

Before the clients access the Host On-Demand server to download the client, you might need to clear the browser cache, Java cache, and remove any client on the machine. 

 

NOTE: The configuration above is based on your emulation to the host (either PCOM or HOD) to be using codepage 1047 in order for the correct hex value for the '^' in the AliasMatch statement. If using any other code page for your emulation, you should verify the character is a x'5F' by turning hex on while in edit mode. Other code pages display this character differently. For instance, the '^' in codepage 037 is x'B0' which will cause the Host On-Demand pages to fail. Additionally, the '|' in the AliasMatch statement needs to be a x'4F'.