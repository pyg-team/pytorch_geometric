Title: IBM TIP: listIU.sh command not showing product information - United States

Text:
TIPL2; listIU.sh TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The listIU.sh showing ACUIR00003E and the query failed with return code 2 error?


SYMPTOM
The listIU.sh is not showing any product installed version output but the above error message.


DIAGNOSING THE PROBLEM
Check the DE_trace log located at the following directory:- 

Root install: 

 /usr/ibm/common/acsi/logs/ 

or 

Non-root install: 

<Install User's HOME>/.acsi_<install_username>/logs 

2013-04-05 12:54:06.536+05:30 1 ListIU main inchetufmstg06.apac.nsn-net.net IP com.ibm.ac.si.nls.SIException: 
at com.ibm.ac.si.runtime.impl.SIRuntimeImpl.<init>(SIRuntimeImpl.java:193)
at com.ibm.ac.si.runtime.SIRuntimeFactory.createRuntime(SIRuntimeFactory.java:221)
at com.ibm.ac.si.runtime.SIRuntimeFactory.createRuntime(SIRuntimeFactory.java:124)
at com.ibm.ac.si.iuregistry.ListIU.doMain(ListIU.java:127)
at com.ibm.ac.si.iuregistry.ListIU.main(ListIU.java:352)
Caused by: com.ibm.ac.si.db.DatabaseException: 
at com.ibm.ac.si.db.DbmsControl.getConnection(DbmsControl.java:924)
at com.ibm.ac.si.db.DbmsControl.getConnection(DbmsControl.java:1004)
at com.ibm.ac.si.runtime.impl.SIRuntimeImpl.<init>(SIRuntimeImpl.java:189)
... 4 more
Caused by: java.sql.SQLNonTransientConnectionException: java.net.ConnectException : Error connecting to server 127.0.0.1 on port 59418 with message Connection refused.
at org.apache.derby.client.am.SQLExceptionFactory40.getSQLException(Unknown Source)
at org.apache.derby.client.am.SqlException.getSQLException


RESOLVING THE PROBLEM
Check port value in ACUApplication.properties file and /repos/derby.properties file 

#ACU Properties
#Tue Dec 11 18:40:37 IST 2012
acu.fspt.xsl=/home/netcool/.acsi_inchetufmstg06.apac.nsn-net.net/dat/xml/transform/fspt.xsl
de.security=singleUser
acu.dbport=59418


#Derby.properties
derby.drda.portNumber=33067
derby.connection.requireAuthentication=false
derby.drda.loadSYSIBM=true

Make sure that the port from the ACU Properties and Derby Properties file is the same. 

Example:- 

Change this value from 33067 to 59418
derby.drda.portNumber=59418 

 

Rerunning the listIU.sh will shows the product installed on the server. 

For example: 

/usr/ibm/common/acsi/bin/.listIU.sh
IU UUID: 5FFE79F918DF3BA0D67511FD3F7C358E Nome: SIU-TIPCore Versione: 2.2.0.3 
IU UUID: DDCE934782398B3E81431666515AC8B5 Nome: DE Extensions Interfaces CLI IU Versione: 1.4.0.16 
IU UUID: C37109911C8A11D98E1700061BDE7AEA Nome: Deployment Engine IU Versione: 1.4.0.16 
IU UUID: 51AE95EDFC321D45BECFD427C959D5B8 Nome: ILMT_TAD4D IU Versione: 7.5.0.0 
IU UUID: 5FFE79F918DF3BA0D67511FD3F7C358E Nome: SIU-TIPCore Versione: 2.2.0.0 
IU UUID: 333EC6AFD750875204DA2DA45D4FD264 Nome: SIU eWAS Versione: 7.0.0.15 



PRODUCT ALIAS/SYNONYM
 TIP