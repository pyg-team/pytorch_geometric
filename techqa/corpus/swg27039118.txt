Title: IBM Configuring single sign-on for IBM Content Navigator by using SPNEGO/Kerberos on Oracle WebLogic Server (IBM FileNet P8) - United States

Text:
 PRODUCT DOCUMENTATION

ABSTRACT
 You can configure single sign-on (SSO) for IBM Content Navigator with an IBM FileNet P8 repository by using SPNEGO/Kerberos on Oracle WebLogic Server. 

CONTENT
To configure single sign-on integration between SPNEGO/Kerberos and IBM Content Navigator, you must do these tasks: 


 1. Configure your SSO environment. 
 2. Verify your SSO configuration. 
 3. Configure and deploy IBM Content Navigator with SPNEGO/Kerberos. 
 4. Verify your deployment of IBM Content Navigator with SPNEGO/Kerberos.


Step 1 - Configure your SSO environment 
Before you configure single sign-on for SPNEGO/Kerberos for IBM Content Navigator, you must configure your web application server for SPNEGO/Kerberos. 

Remember: You must use Windows Active Directory as your directory service to use SPNEGO/Kerberos.

Remember: If you want to use SSO, you cannot configure the IBM Content Navigator web application to connect to IBM Content Manager or IBM Content Manager OnDemand servers. 

Before you begin
Complete the following tasks before you configure your SSO environment: 


 1. Configure your Active Directory domain and configure all of the client workstations as members of the same domain as your Active Directory server. If you have a more complex configuration, you can configure the client workstations as members of a different domain. However, you must cross-certify the servers.
    
 2. Install Oracle WebLogic Server and create a WebLogic Server Domain. 
    
    Important: Session replication is required for failover support in a SPNEGO/Kerberos environment. If you do not enable session replication, users cannot sign into IBM Content Navigator when there is a failover to another node in the cluster.
    
 3. Install and configure IBM FileNet P8 Content Engine and IBM FileNet P8 Content Platform Engine or Process Engine. For more information, see Product Documentation for FileNet P8 [http://www.ibm.com/support/docview.wss?uid=swg27021508]. 
 4. Install and configure IBM FileNet Workplace XT to manage your IBM FileNet P8 workflows. For more information, see Product Documentation for FileNet P8 [http://www.ibm.com/support/docview.wss?uid=swg27021508].

For more information, see the Hardware and software requirements for IBM Content Navigator [http://www.ibm.com/support/docview.wss?uid=swg27042879] for your installed version of IBM Content Navigator. 


Procedure 
Complete the appropriate task for your environment:  * Configure SSO on a single server system. 
 * Configure SSO on a highly available cluster system. [cluster]


Configure SSO on a single server system 
To configure your single server environment for SSO, see Configuring Single Sign-On with Microsoft Clients [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#SECMG233] [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#i1106670] [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#SECMG233]on the Oracle support site. 

Tip: This document points to the Oracle 11g version of the Oracle WebLogic Server documentation. Ensure that you use the appropriate version of the documentation for your Oracle WebLogic Server environment. 



Configure SSO on a highly available cluster system
To configure your highly available cluster system environment for SSO, see Configuring Single Sign-On with Microsoft Clients [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#SECMG233] on the Oracle support site. 

Important: When you create a Kerberos identification for WebLogic Server [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#SECMG239], [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#i1101993] [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#SECMG239]make the following modifications to the documented instructions:


 * In Step 1: Create a User Account for the Host Computer [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#SECMG479] create a user account for the load balancer rather than for the host computer on which WebLogic Server runs. 
   
 * In [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#BABIFFAD]" target="_blank">Step 3: Define a Service Principle Name and Create a Keytab for the Service [</a><a href=], [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#SECMG481]create the Service Principal Name (SPN) for the load balancer account that you created in step 1. 
   


Tip: This document points to the Oracle 11g version of the Oracle WebLogic Server documentation. Ensure that you use the appropriate version of the documentation for your Oracle WebLogic Server environment. 


Step 2 - Verify your SSO configuration
To verify that SPNEGO/Kerberos is configured correctly, configure the web browsers on the client workstations in your environment and authenticate to the LDAP server by using SSO.

Before you begin
Ensure that the browsers that are installed on the client workstations support SPNEGO authentication. 

Procedure
To verify your SSO configuration:


 1. Configure your client workstations to be authenticated Microsoft clients. See [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#i1101998]" target="_blank">Configuring Microsoft Clients to use Windows Integrated Authentication [</a><a href=] [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#i1101998] on the Oracle support site.
    
 2. Verify that client workstations are authenticated. See [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#i1101998]" target="_blank">Verifying Configuration of SSO with Microsoft Clients [</a><a href=] [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#i1101998] on the Oracle support site.


Step 3 - Configure and deploy IBM Content Navigator with Kerberos/SPNEGO 
After you configure your environment for SSO, you can install and deploy IBM Content Navigator. 

Before you begin
Complete all of the tasks in Installing IBM Content Navigator. Install the IBM Content Navigator software, but do not configure or deploy the IBM Content Navigator web application. 

Procedure 
To configure IBM Content Navigator for SSO by using Kerberos/SPNEGO: 


 1. Start the IBM Content Navigator Configuration and Deployment Tool and create a new deployment on Oracle WebLogic Server.
    
 2. Run all of the configuration and deployment tasks that apply to your system. For more information, see [http://pic.dhe.ibm.com/infocenter/p8docs/v5r1m0/topic/com.ibm.installingeuc.doc/eucde000.htm] [</a><a href=]" target="_blank">Configuring and deploying IBM Content Navigator. 
    
    Important: When you run the Configure the IBM Content Navigator Web Application task, ensure that you select Application server authentication for the IBM Content Navigator authentication option. This option configures IBM Content Navigator for SPNEGO/Kerberos.
    
 3. Add the following entry to the krb5Login.conf file: 
    
    Navigator 
    {
    weblogic.security.auth.login.UsernamePasswordLoginModule requiredauth OnLogin=true;
    };
    
    Highly available cluster systems: Update the krb5Login.conf file on each node in the cluster.


4. Restart the application server where IBM Content Navigator is deployed. 

Step 4 - Verifying your deployment of IBM Content Navigator with SPNEGO/Kerberos 
To verify that IBM Content Navigator was successfully deployed in your SPNEGO/Kerberos SSO environment, enter the following URL in your web browser to ensure that you are not prompted to provide any additional login credentials


 * For a single server system, enter http://<fully_qualified_IBM_Content_Navigator_server_name>:<port>/navigator
   
 * For an HA system, enter http://<fully_qualified_HTTP_Server_name>/navigator


Troubleshooting your deployment

Your IBM Content Navigator session expires when you access IBM FileNet P8 workflows
If you do not enable cookies for IBM Content Navigator on the IBM Content Navigator web application server, you might see session expiration messages, which require you to log in again, when you work with IBM FileNet P8 workflows. 


To prevent session timeouts:


 1. Configure cookie-based session persistence on the web application server where IBM Content Navigator is deployed. See [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#i1101998]" target="_blank">Configuring Session Persistence [</a><a href=] [http://docs.oracle.com/cd/E21764_01/web.1111/e13707/sso.htm#i1101998] on the Oracle support site.



In a single sign-on environment , IBM Content Navigator shows the Logout option when you select the drop-down menu on the user name but does not log out 
IBM Content Navigator is not able to detect when Kerberos/SPNEGO is used with Oracle WebLogic Server. 

To ensure that the Logout option is not available: 
 1. Remove the Logout option from the "Banner user session context menu" type menu that is used by your desktop configuration. See IBM Content Navigator known issue: In a SPNEGO/Kerberos single sign-on environment, IBM Content Navigator the log out option is enabled [http://www.ibm.com/support/docview.wss?uid=swg27042940].


Session timeout behavior (IBM Content Navigator Version 2.0.3 only) 
When a desktop session expires, you see an IBM Content Navigator timeout login dialog box. Ignore the dialog box and refresh the browser. Your desktop will reload with a new session that is created without prompting you to log in to the desktop.