Title: IBM PM10011: APPLICATION EXECUTING MQGET WITH MQGMO_CONVERT OPTION FAILS WIT H ERROR CODE 2111 - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  Following the application of RSU0912 some applications that
   issue a MQGET request with the MQGMO_CONVERT option fail with
   error code 2111.  The return code 2111 (x'83F') is a
   MQRC_SOURCE_CCSID_ERROR which indicates the coded character-set
   identifier from which character data is to be converted is not
   valid or not supported.
   .
   Additional Information:
   Changes made to DFHMQCON by PK66866 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK66866] mean that an MVS LINK to
   CSQACRTT is issued in preference to calling DFHMQRTT.  When the
   MQRC 2111 occurs, the LINK is locating an MQ V7 version of
   CSQACRTT, most likely from LINKLST (CSQACRTT is in SCSQAUTH at
   MQ 700 and 701; but it is not in SCSQAUTH at MQ 600). The
   problem is that CSQACRTT at MQ V7 expects CSQACLST to be in a
   different format at V7 from that at V6. CSQACLST is present in
   SCSQAUTH at MQ V6, so if the CICS job's STEPLIB has the MQ V6
   SCSQAUTH, there will be a code mismatch between the V7 CSQACRTT
   and V6 CSQACLST.
   
   
    
   
   

LOCAL FIX
 *  Add the MQ V7 SCSQAUTH to the CICS STEPLIB
   or
   Set CONVERT(YES) on the sender channel on the remote queue
   manager
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All                                          *
   ****************************************************************
   * PROBLEM DESCRIPTION: Using a mismatch of WebSphere MQ        *
   *                      release datasets (V7 SCSQAUTH and V6    *
   *                      SCSQAUTH) results in a user application *
   *                      failing with error code 2111            *
   *                      MQRC_SOURCE_CCSID_ERROR.                *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When using a mismatch of WebSphere MQ release datasets (Version
   7 SCSQAUTH and Version 6 SCSQAUTH), a user application will fail
   with error code 2111 MQRC_SOURCE_CCSID_ERROR when an MQGET with
   MQMGO_CONVERT is executed.  This occurs when a LINK to CSQACRTT
   is issued (due to APAR PK66866 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK66866]) rather than a CALL to DFHMQRTT.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The following documentation changes will be made clarifying the
   issue:
                      - - - - - - - - - - -
   
   In publication GC34-6858-02, Migration from CICS TS Version 3.1
   under part 2 in chapter 20, the following sentence will be
   added as part of the second bullet-point on page 117 before the
   last sentence:
   
   If you have WebSphere MQ Version 7 installed and you have
   applied the PTF for APAR PK66866 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK66866], then it is important that you
   ensure that your CICS STEPLIB concatenation only includes the
   WebSphere MQ Version 7 SCSQAUTH.
   All modules in WebSphere MQ Version 7 SCSQAUTH are downwardly
   compatible.
   
                      - - - - - - - - - - -
   
   In publication GC34-6857-02, Migration from CICS TS Version 2.3
   under part 2 in chapter 23, the following sentence will be
   added as part of the second bullet-point on page 151 before the
   last sentence:
   
   If you have WebSphere MQ Version 7 installed and you have
   applied the PTF for APAR PK66866 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK66866], then it is important that you
   ensure that your CICS STEPLIB concatenation only includes the
   WebSphere MQ Version 7 SCSQAUTH.
   All modules in WebSphere MQ Version 7 SCSQAUTH are downwardly
   compatible.
   
                      - - - - - - - - - - -
   
   In publication GC34-6856-02, Migration from CICS TS Version 2.2
   under part 2 in chapter 26, the following sentence will be
   added as part of the second bullet-point on page 173 before the
   last sentence:
   
   If you have WebSphere MQ Version 7 installed and you have
   applied the PTF for APAR PK66866 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK66866], then it is important that you
   ensure that your CICS STEPLIB concatenation only includes the
   WebSphere MQ Version 7 SCSQAUTH.
   All modules in WebSphere MQ Version 7 SCSQAUTH are downwardly
   compatible.
   
                      - - - - - - - - - - -
   
   In publication GC34-6855-02, Migration from CICS TS Version 1.3
   under part 2 in chapter 27, the following sentence will be
   added as part of the second bullet-point on page 151 before the
   last sentence:
   
   If you have WebSphere MQ Version 7 installed and you have
   applied the PTF for APAR PK66866 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK66866], then it is important that you
   ensure that your CICS STEPLIB concatenation only includes the
   WebSphere MQ Version 7 SCSQAUTH.
   All modules in WebSphere MQ Version 7 SCSQAUTH are downwardly
   compatible.
   
                      - - - - - - - - - - -
   
   The CICS TS 3.2 Infocenter, under the section CICS integration
   with WebSphere MQ -> Migration for the CICS-WebSphere MQ
   connection, the following sentence will be added as part of the
   second bullet-point before the last sentence:
   
   If you have WebSphere MQ Version 7 installed and you have
   applied the PTF for APAR PK66866 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK66866], then it is important that you
   ensure that your CICS STEPLIB concatenation only includes the
   WebSphere MQ Version 7 SCSQAUTH.
   All modules in WebSphere MQ Version 7 SCSQAUTH are downwardly
   compatible.
   
                      - - - - - - - - - - -
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM10011
   
   
 * REPORTED COMPONENT NAME
   CICSTS V3 Z/OS
   
   
 * REPORTED COMPONENT ID
   5655M1500
   
   
 * REPORTED RELEASE
   500
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-03-15
   
   
 * CLOSED DATE
   2010-04-20
   
   
 * LAST MODIFIED DATE
   2011-06-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM12034 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM12034]
   
   

Publications Referenced GC34685802 GC34685702 GC34685602 GC34685502 FIX INFORMATION

APPLICABLE COMPONENT LEVELS