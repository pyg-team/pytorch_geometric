Title: IBM Apply Rule Model extensions in Rule Team Server, without losing the existing rules - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How to apply extensions to the Rule Model in Rule Team Server (RTS), without losing the existing rules in the database 

ANSWER

The Installation Manager in Rule Team Server console allows you to apply extensions to the Rule Model, while keeping your existing data. After defining the extensions in .brmx and .brdx files, you can use the Installation Manager to generate an SQL script that ensures that your existing data is kept while changes are made to the RTS database to reflect the model extension. 

 1. Before making any changes, make a backup of the RTS database. 
 2. Log into the Rule Team Server console, navigate to the Configure tab and click on the Installation Manager. 
 3. Select Step1: Configure Database.  1. Choose the option Generate a script that keeps my data. 
        For an existing RTS data source with an existing Rule Model, this option enables the generation of an SQL script that:  * Creates a temporary table 
         * Copies the existing data into the temporary table 
         * Deletes the old table (which reflects the existing Rule Model) 
         * Creates a new table which reflects the new Rule Model 
         * Copies the existing data into the new table from the temporary table
        
        
     2. To select the extension files you want to use, choose the option Custom extensions (brmx/brdx) and specify the location of the model extension (.brmx) and data extension (.brdx) files. 
     3. Click Generate SQL. This generates the rule-team-server.sql script which performs the operations listed above. 
    
    
 4. At this point, you can either execute the SQL script from the RTS console, or you can execute it using an external SQL client. You might have to work with your DBA to grant privileges to modify the database tables, depending on how permissions are set up in your environment.  1. If you wish to execute the SQL script from the RTS console:  1. Select the option Execute the SQL script. 
         2. Click Apply to execute the SQL script and initialize the database. 
         3. Click Exit to exit the Installation Manager. The new extension should now have been applied to your existing data.
        
        
     2. If you execute the SQL script from an external SQL client:  1.  Return to the Installation Manager in the RTS console after executing the SQL script externally 
         2. Select the option Custom extensions (brmx/brdx) and specify the location of the model extension (.brmx) and data extension (.brdx) files. 
         3. Click Upload Only. This notifies the Installation Manager that the SQL script has already been executed. 
         4. Click Apply 
         5. Click Exit to exit the Installation Manager. The new extension should now have been applied to your existing data.
        
        
    
    



Note 

If you wish to revert to the original rule model, and no changes have been made to the rules, restore the backup RTS database. 

Troubleshooting 
 * If you are unable to explore the rules of the rule project, restart the RTS ear application and try again. 
 * If the extension has not been applied, follow the steps above again. 
 * If you still face problems, contact Support with the server and database logs.



For additional information, refer to 
WebSphere ILOG JRules BRMS V7.1 > WebSphere ILOG Rule Team Server online help > Configure: Manage your project configuration > Configuring your Rule Team Server installation > Configuring the database [http://publib.boulder.ibm.com/infocenter/rtsohelp/v7r1/index.jsp?topic=/com.ibm.websphere.ilog.jrules.doc/Content/Business_Rules/Documentation/_pubskel/Rule_Team_Server/ps_Rule_Team_Server_OH215.html]  


Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Operational Decision Manager Platform Independent 7.5 Enterprise