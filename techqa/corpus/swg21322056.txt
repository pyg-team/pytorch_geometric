Title: IBM Creating rolling and daily log files by modifying the logging.properties - United States

Text:
logging; rolling; logging.properties; logs TECHNOTE (FAQ)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 English 

QUESTION
 How can Maximo be modified to create daily logs and logs that roll when they reach a specified size? 

CAUSE
Limited documentation

ANSWER
To create rolling log files, edit the logging.properties file as below. 

See comments in the example file below identified by ###
to enable the log creation and options for both log size and creating a new log each day.
After changing the logging.properties file you have to both rebuild and 
redeploy the ear files. 

Note: The "create a new log each day" option isn't supported for clustered environments 
in Maximo 6. Support for clustered environments has been added in Maximo 7 
thru the logging application.

Edit <maximo_root>\applications\maximo\properties\logging.properties

# /
# ~~ Log4j Root loggers
# Specify the comma separated list of appenders to the root logger.
# for example, to log messages to standard output as well as to a 
# file called maximo.log, set
### To use the A2 Appenders, uncomment the following line and comment out the next line.
log4j.rootLogger=ERROR, A1, A2
# log4j.rootLogger=ERROR, A1

Note: These logging options are based on the Apache Log4j logging system. Enabling the loggers (A1 and A2), activates both of the below major section.

# /
# ~~ Output destinations or appenders
#
# A1 is set to be a ConsoleAppender which outputs to System.out. 
log4j.appender.A1=org.apache.log4j.ConsoleAppender
log4j.appender.A1.layout=org.apache.log4j.PatternLayout
log4j.appender.A1.layout.ConversionPattern=%d{dd MMM yyyy HH:mm:ss:SSS} [%-2p] %m%n

# A2 is set to be a RollingFileAppender which outputs to maximo.log file
log4j.appender.A2=org.apache.log4j.RollingFileAppender
### To change the path of the file
log4j.appender.A2.File=C:\\MAXIMO\\logs\\maximo.log

### To increase the maximum log file size, adjust the following line in MB
log4j.appender.A2.MaxFileSize=10MB
log4j.appender.A2.MaxBackupIndex=20
log4j.appender.A2.layout=org.apache.log4j.PatternLayout
log4j.appender.A2.layout.ConversionPattern=%d{dd MMM yyyy HH:mm:ss:SSS} [%-2p] %m%n
### To have the logs rollover each day, uncomment the following line
log4j.appender.A2=org.apache.log4j.DailyRollingFileAppender