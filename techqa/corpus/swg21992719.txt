Title: IBM NzSendErrorToClient: error code N-51r sent to cli xxxx uid xxxxxxx sid xxxxxxx pid [xxxx] - United States

Text:
NzSendErrorToClient; error code; dbos.log TECHNOTE (FAQ)

QUESTION
 I am getting this type of error in our /nz/kit/log/dbos/dbos.log, what does this means ?

2016-10-20 02:34:32.296955 IST (xxx) Debug: NzSendErrorToClient: error code N-51r sent to cli 1234 uid 10004 sid 707 pid [69112] 

CAUSE
Troubleshooting error message.

ANSWER
NzSendErrorToClient is our function to send some error code to the client. But this not always an error, sometime, we are tell client to wait. 

For example, the code "N-51r" means (see also the code listed at the bottom of this technote): 

'N' <- This is NOT an error. (It will return 'E" for error) 

51' <- NZ_ERROR_TOO_MANY_TRANS / There are too many transactions currently 

'r' <- This means it's recoverable. (without 'r' means it's not recoverable) 


See this scenario:-
... startTx: visibleUpdaters 63 queueing implicit RW transaction request ...
... resubmitWaitingReq: resubmit ... 
... NzSendErrorToClient: error code N-51r sent to cli 1234 uid 10004 sid 707 pid [69112] 

 

Explanation: 

When starting a transaction, our Host Manager detected that there are too many implicit transactions (current hard limit is 63) ; and we have to put the client request to wait. Then, inform the client (NzSendErrorToClient) that "currently there are too many transaction, please wait." 

 

Eventually when the system get the slot once the oldest transaction is completed. The client will get the chance to submit their plan. 

 

In short, there is nothing to worry about. When you see an 'N' & 'r' in the error code. It can be just the server is telling the client some information. 

 

Here is the second scenario:
... Warning: NzSendErrorToClient: error code 48, client ... 

 

Explanation: 

Refer to the list below, 48 means : "transaction rollback by client". Commonly this means the user press Ctrl-C to abort the client; and server sending client that they acknowledge this. 

 

Here are the list of internal code that exchanged, FYI. 
1 "Operation failed" 
2 "Interaction aborted" 
3 "Statement aborted" 
4 "Could not serialize - transaction aborted" 
5 "Transaction no longer active" 
6 "Out of memory" 
7 "Incorrect data type" 
8 "Illegal value" 
9 "Internal: SPUs crosstalking" 
10 "Internal pipe I/O failed"
11 "Cannot determine hostname" 
12 "Rogue SPU trying to register" 
13 "No such table exists" 
14 "No such field exists in table" 
15 "Table already exists" 
16 "Plan already exists in plan dictionary" 
17 "Functionality not implemented" 
18 "Cannot get new catalog entry" 
19 "Disk is full" 
20 "Cannot find free index slot" 
21 "Index points to unallocated block" 
22 "dir points to unallocated block" 
23 "Bad disk" 
24 "Cannot find table in disk extent" 
25 "Core Data size is too small" 
26 "Field cannot contain null values" 
27 "Material too big" 
28 "Too many concurrent interactions" 
29 "The permitted number of client connections has been exceeded" 
30 "Error processing dimension" 
31 "Error loading dimension" 
32 "Error generating a disk aggregate" 
33 "Error loading dimension properties" 
34 "Error loading olap metadata" 
35 "requested memory cache block is too big" 
36 "Disk read error" 
37 "System not ready" 
38 "Arithmetic overflow" 
39 "Cannot exceed Maximum Distribution Key limit" 
40 "System state invalid for request" 
41 "Disk temporary work space is full" 
42 "Record size limit exceeded" 
43 "Column size limit exceeded" 
44 "Column count limit exceeded" 
45 "Math error" 
46 "Postgres math error?" 
47 "Code generation failure" 
48 "Transaction rolled back by client" 
49 "Transaction rolled back by DBA" 
50 "Operation not permitted" 
51 "Too many concurrent transactions" 
52 "Transaction rolled back due to restart or failover"
53 "Transaction rolled back due to client disconnect" 
54 "Cant allocate sort buffer" 
55 "Incorrect data size" 
56 "No such session" 
57 "Character width exceeded" 
58 "Dictionary lost" 
59 "Client not responding" 
60 "Induced error by test harness" 
61 "Reclaim active against this table" 
62 "Client not waiting for response" 
63 "No client process" 
64 "SPU Oversubscribed memory" 
65 "Update canceled: attempt to update a target row with values from multiple join rows" 
66 "Transaction in unexpected state" 
67 "tempTableID unable to remap column" 
68 "Specified NUCL to AA translation table not found" 
69 "Reading frame must be +1+2,+3,-1,-2 or -3",
70 "RC error type" 
71 "no matching data partition" 
72 "Illegal char in nucleotide sequence" 
73 "Illegal char in protein sequence" 
74 "ZLib inflation error" 
75 "Translate() FROM string is shorter than TO string" 
76 "Reload incompatibility." 
77 "Excessive stack usage" 
78 "Sequence already exists" 
79 "Sequence exhausted" 
80 "Sequence error" 
81 "Invalid FComm channel" 
82 "Invalid FComm node id" 
83 "Invalid FComm payload size" 
84 "XML Error" 
85 "FComm API already initialized" 
86 "Illegal codepoint value" 
87 "Illegal value passed as substring length" 
88 "Transaction was not in a restartable state"
89 "Transaction detail journal error" 
90 "Aborted NZ_RELEASE_JOB" 
91 "Request was queued for restart" 
92 "Limit for max number of open tdj files reached" 
93 "UDX exception throw" 
94 "Reclaim recovery state NVRAM limit reached"
95 "Rollback in progress" 
96 "Table size per SPU limited" 
97 "History Storage Limit Exceeded" 
98 "History Disk Full Threshold Violated" 
99 "History Capture Failure" 
100 "History Load Connection Failure" 
101 "History Load Config Info Not Found" 
102 "History Load Failure" 
103 "Transaction required but no transaction started", 
104 "SCSI Disk CDB Error" 
105 "SCSI Response Parsing Error" 
106 "Library already exists" 
107 "Library error" 
108 "Process failed to attach to fcomm api" 
109 "No primary and mirror disk serial number for the device" 
110 "Functionality (temporarily?) not supported under MDM" 
111 "Stale or corrupted handle in an MDM API" 
112 "Groom in progress on table" 
113 "Table to be groomed is being modified" 
114 "Storage transaction table is full"
115 "Data partition is full" 
116 "Concurrent update or delete of same row" 
117 "Sequence dropped" 
118 "Data slice upgrade needed" 
119 "Unable to acquire extent" 
120 "Error in transient table handling" 
121 "Cannot access table that is being truncated" 
122 "Bad CRC reading zone map page" 
123 "Truncate water-mark file error" 
124 "Unknown code 124" 
125 "Function sequence error"
126 "Unknown code 126" 
127 "Unknown code 127" 
128 "Unknown code 128" 
129 "Storage is not part of current table" 
130 "Internal inconsistency" 
131 "Fatal Error in Transaction Mgr" 
132 "Fatal Error in Swap Mgr" 
133 "Fatal Defect detected in heap control data" 
134 "Fatal error accessing system file" 
135 "SPU Hardware Exception signalled" 
136 "Fatal History Error" 
137 "Unknown error code" 

Hope that these code can help you understand a bit better what are you getting, please contact customer support if further assistance is required.