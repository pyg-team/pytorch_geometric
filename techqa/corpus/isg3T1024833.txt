Title: IBM LSF Job Ulimit Inconsistent with System Ulimit - United States

Text:
LSF; Ulimit; settings; system Ulimit TECHNOTE (FAQ)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 English 

QUESTION
 What causes LSF Job Ulimit to be inconsistent with the system ulimit settings ? 

CAUSE
 LSF dispatched jobs sometimes do not inherit the ulimit set in the limit.conf file

ANSWER
LSF may have different limits (ex: max locked memory) when daemons are started by init process under /etc/init.d/ lsf or when they are started manually by root.

If LSF is configured to startup as part of the system boot process, the LSF daemons are started by the init process and changes that are configured in /etc/security/limits.conf, e.g. Max Locked Memory, are not applicable.

However, if the LSF daemons are started on a system that is already running, the configured parameters in /etc/security/limits.conf are applicable.

The default "Max Locked Memory" on a RHEL 6.4 system is 64K. 


If the system is configured to change the default "Max Locked Memory" to unlimited, LSF jobs will behave differently depending on how the LSF Daemons were started on the LSF servers.

To force LSF job limits to be consistent whether LSF daemons were started by the init process or started by root, configure the below parameters in either lsb.queues or lsb.application. This parameter applies PAM limits to an application or queue when its job is dispatched to a Linux host using PAM.

USE_PAM_CREDS=y