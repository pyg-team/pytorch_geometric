Title: IBM PI69321: ENABLE VERBOSE GARBAGE COLLECTION BY DEFAULT - United States

Text:
  FIXES ARE AVAILABLE
9.0.0.3: WebSphere Application Server traditional V9.0 Fix Pack 3 [http://www-01.ibm.com/support/docview.wss?uid=swg24043338]
9.0.0.4: WebSphere Application Server traditional V9.0 Fix Pack 4 [http://www-01.ibm.com/support/docview.wss?uid=swg24043693]
9.0.0.5: WebSphere Application Server traditional V9.0 Fix Pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24044067]
9.0.0.6: WebSphere Application Server traditional V9.0 Fix Pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24044242]
9.0.0.7: WebSphere Application Server traditional V9.0 Fix Pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24044620]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Enable verbose garbage collection by default
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server for Distributed operating systems.   *
   ****************************************************************
   * PROBLEM DESCRIPTION: Verbose garbage collection (verboseGC)  *
   *                      is disabled by default.                 *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Staring in version 9.0.0.3 WebSphere Application Server for
   Distributed enables verboseGC by default for the Application
   Server, Node Agent, and Deployment Manager server types; and
   when enabled, WebSphere Application Server will log
   verboseGC output to 10 sequential, rotating (i.e. rolling)
   "verbosegc" files which cumulatively consume about 100M of
   disk space per server process.
   This is a change in default behavior from previous
   releases wherein verboseGC is disabled by default for all
   server types, and when enabled, verboseGC output
   writes to the native process logs.
   "Verbose garbage collection" (verboseGC) is a setting in the
   Java virtual machine configuration for a server type, such as
   a Deployment Manager or Application Server.  When verboseGC is
   enabled in a server configration in releases prior to
   9.0.0.3, WAS supplies the standard java option "-verbose:gc"
   to the java command line when launching the server.  In
   9.0.0.3 when verboseGC is enabled WAS supplies the following
   standard and non-standard java command line arguments when
   launching a server.
   On Windows, Linux, AIX:
   -verbose:gc
   -Xverbosegclog:${SERVER_LOG_ROOT}\verbosegc.%seq.log,10,7000
   On Solaris, HP-UX:
   -verbose:gc
   -Xloggc:${SERVER_LOG_ROOT}\verbosegc.log
   -XX:+UseGCLogFileRotation
   -XX:NumberOfGCLogFiles=10
   -XX:GCLogFileSize=10M
   -XX:+PrintGCDateStamps
   -XX:+PrintGCDetails
   These options direct the JVM to write verboseGC diagnostic
   data to as many as 10 rolling "verbosegc" logs which
   cumulatively consume about 100M of file space.  The logs are
   created in the ${SERVER_LOG_ROOT} directory alongside the
   other server logs.  Notice that, on Windows, AIX, and Linux,
   the options specify 7000 garage collection events per log.
   Because the size of GC events will vary, the amount of
   cumulative file space consumed by verbosegc logs will also
   vary on these platforms.
   To revert verbose GC logging behavior to that of previous
   releases, disable the verbose garbage collection setting
   in the server's Java virtual machine configuration and enter
   the standard Java command-line option "-verbose:gc" (unquoted)
   in the Generic JVM Arguments field of the same Java Virtual
   Machine configuration.  If the Generic JVM Arguments field
   contains no additional arguments that control verbose garbage
   collection logging, then the server will direct verboseGC
   diagnostic data to a native process log.
   
   
    
   
   

PROBLEM CONCLUSION
 *  VerboseGC diagnostic data is critical to troubleshooting
   memory and performance problems, and the overhead is generally
   very low.  APAR PI69321 enables verboseGC by default to ensure
   diagnostic data is immediately available when such problems
   occur; and it redirects verboseGC output to rotating logs to
   both limit the amount of data collected and to reduce the risk
   that native process logs exhaust the available file space over
   the life of a server process.
   
   The fix for this APAR is currently targeted for inclusion in
   fix pack 9.0.0.3.  Please refer to the Recommended Updates
   page for delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI69321
   
   
 * REPORTED COMPONENT NAME
   WEBS APP SERV N
   
   
 * REPORTED COMPONENT ID
   5724H8800
   
   
 * REPORTED RELEASE
   900
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-09-16
   
   
 * CLOSED DATE
   2017-02-22
   
   
 * LAST MODIFIED DATE
   2017-02-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS APP SERV N
   
   
 * FIXED COMPONENT ID
   5724H8800
   
   

APPLICABLE COMPONENT LEVELS
 * R900 PSY
   UP