Title: IBM JR40856: CHecking for SCA_USE_WS_FOR_DYNAMIC_INVOCATION variable CAUSES HIGH WORKSPACE IO USAGE AND POSSIBLE FILE LOCKING - United States

Text:
  FIXES ARE AVAILABLE
WebSphere Process Server V7.0.0 Fix Pack 5 (V7.0.0.5) [http://www-01.ibm.com/support/docview.wss?uid=swg24032709]
WebSphere Enterprise Service Bus V7.0.0 Fix Pack 5 (7.0.0.5) [http://www-01.ibm.com/support/docview.wss?uid=swg24032713]
Version 7.5.1 Fix Pack 1 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24033036]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  To support compatiblity with certain 6.1.2 applications, WPS
   introduced code to check for a variable
   SCA_USE_WS_FOR_DYNAMIC_INVOCATION to support migration
   of dynamic invocation.
   
   
   The loading of this setting is done the first time an SCA module
   is invoked.
   
   If there are many modules, this can lead to a large number of
   file operations in the wstemp directory and possible IO
   file locking and wait.
   
   The stacktrace from threaddumps may show:
       com.ibm.ws.sm.workspace.impl.WorkSpacePersistentObjectImpl
   .getPersistData()
   
   com.ibm.ws.management.configservice.ConfigServiceImpl
   .queryConfigObjects()
   com.ibm.ws.sca.internal.admin.SCACommandHelper.queryObject()
   com.ibm.ws.sca.internal.admin.SCACommandHelper.getWasVariable()
   
   
   
   This fix improves the lookup of the variable to check once at
   server startup.  If the variable is not set, SCA will not
   check again during module invocations.
   
   As most customers do not use this feature, this will reduce the
   lookups required during module invocation.
   
   It is also suggested per the Infocenter to update the
   application  modules to correctly set the bindingType to
   indicate a web service URL when making the invocation rather
   then use this feature..
   
   
   If a customer does use this variable to support earlier
   migrated modules, then SCA will keep the current logic to
   to lookup the variable the first time the module is invoked.
   
   Because the variable is checked during server startup, a
   server restart is required when implementing this variable for
   the first time.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users that have Service Component           *
   *                  Architecture modules deployed on their      *
   *                  server.                                     *
   ****************************************************************
   * PROBLEM DESCRIPTION: During runtime the server may           *
   *                      experience high disk IO usage and       *
   *                      file locking.                           *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The property SCA_USE_WS_FOR_DYNAMIC_INVOCATION is
   checked during runtime whenever an SCA module is first
   invoked. This might cause a high volume of temporary files to
   be created in the /wstemp folder if there are many SCA modules
   installed. It may lead to file locking and excess disk IO
   usage.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Code changes have been implemented to enhance the
   property's checking mechanism. During server startup if the
   property is not set, no further checks will occur.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR40856
   
   
 * REPORTED COMPONENT NAME
   WEB PROC SERVER
   
   
 * REPORTED COMPONENT ID
   5724L0100
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-10-11
   
   
 * CLOSED DATE
   2011-12-19
   
   
 * LAST MODIFIED DATE
   2011-12-19
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM64804 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM64804]
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEB PROC SERVER
   
   
 * FIXED COMPONENT ID
   5724L0100
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP