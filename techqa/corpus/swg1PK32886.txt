Title: IBM PK32886: CLUSTER WORKLOAD BALANCING DOES NOT DISTRIBUTE MESSAGES AS EXPECTED IF IGQ (INTRAGROUP QUEUING) IS ENABLED. - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  Cluster workload balancing does not evenly distribute
   messages as expected if Intra-Group Queuing is enabled.
   When IGQ is enabled, CLWLUSEQ(ANY) processing is always taking
   place by the receiving queue manager causing the received
   message to bounce between several queue managers before winding
   up on a destination queue. To correct this would require a
   fundamental change to the way IGQ puts messages to the target
   queue. This apar is to be closed as FIN.
   
   
    
   
   

LOCAL FIX
 *  Disable IGQ by issuing ALTER QMGR IGQ(DISABLED)
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS Version 6 *
   *                 Release 0.                                   *
   ****************************************************************
   * PROBLEM DESCRIPTION: Uneven cluster workload balancing       *
   *                      occurs when using CLWLUSEQ ANY with     *
   *                      intra-group queuing.                    *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A cluster has several instances of a queue hosted on queue-
   managers which are members of a queue-sharing group. The queues
   are defined with CLWLUSEQ ANY. The queue-managers have intra-
   group queuing, IGQ, enabled.
   
   An application program connects to one of the queue-managers
   in the queue-sharing group and puts a message to the cluster
   queue. As the queue is defined with CLWLUSEQ ANY, cluster
   workload balancing determines that the message should be put to
   a remote queue-manager. As the remote queue-manager is a member
   of the queue-sharing group and IGQ is enabled, the message is
   sent via the SYSTEM.QSG.TRANSMIT.QUEUE. The message is received
   by the remote queue-manager and the IGQ agent puts the message
   to the cluster queue. However, as the queue is also defined with
   CLWLUSEQ ANY on the remote queue-manager, cluster workload
   balancing is again performed which may result in the message
   being sent to another queue-manager. This can lead to an uneven
   distribution of messages to the different instances of the
   cluster queue.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  This APAR is being closed FIN with concurrence from the
   submitting customer.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PK32886
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V6
   
   
 * REPORTED COMPONENT ID
   5655L8200
   
   
 * REPORTED RELEASE
   000
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-10-12
   
   
 * CLOSED DATE
   2006-12-29
   
   
 * LAST MODIFIED DATE
   2006-12-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R000 PSN
   UP