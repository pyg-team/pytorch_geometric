Title: IBM Using XMLaccess to update group membership results in EJPXA0060W - United States

Text:
EJPXA0060W; PumaStoreService; XMLaccess; XmlCommandException TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you try to change the group membership using an XML script like the following:
<group action="update" name="group1">
<member-user update="remove" id="testuser1"/>
<member-user update="set" id="testuser2"/>
</group> 
where group1 is an application group in a database repository, and testuser1 and testuser2 are two LDAP users, XMLAccess fails with the following warning message:

<status element="[group 8eAeJ1D8MH5CJ1PEJM866ROAMMG6M9O8MM47MHDCMMOC23P83JDC1RO0JO47I1]" result="warning">
<message id="EJPXA0060W">com.ibm.wps.command.xml.XmlCommandException: EJPXA0060W: A user or group with ID testuser1 could not be retrieved from the portal datastore, possibly because it does not exist. Related member-user configuration data will not be updated. [group 8eAeJ1D8MH5CJ1PEJM866ROAMMG6M9O8MM47MHDCMMOC23P83JDC1RO0JO47I1]</message>
</status> 

SYMPTOM
The group membership in the Portal database is not changed, and portal access control configuration was not successful.


CAUSE
PUMA configuration was not correct.

ENVIRONMENT
WebSphere Portal 6.1.0.x, SunOne LDAP, Oracle Database

DIAGNOSING THE PROBLEM
According to the XMLAccess schema, the above script to change the group membership is correct, and the "id" parameter can be either the short user name or the full user distinguished name (DN). 




IBM Support checked the security configuration in the WebSphere Application Server and Virtual Member Manager, to verify the existence of the user in the LDAP and in the Portal database (USER_DESC table in the release domain). They are all correct, and no problems were found. The user's full DN in the LDAP looks like the following: 

 uid=testuser1,ou=People,dc=acme,dc=com 

Also, the VMM traces indicate that the users were found in the LDAP correctly. 

 

When reviewing "WP PumaStoreService" in the WebSphere Integrated Solutions Console, under Resources > Resource Environment > Resource Environment Providers, the following customer property was seen:
name:store.puma_default.user.fbadefault.filter
value:cn

This explained why the XMLAccess command failed. When PUMA searches the users during the XMLAccess run, it used CN, not UID, to match the short name "testuser1". That is why the search was not successful.


RESOLVING THE PROBLEM
 

After changing cn to uid for "store.puma_default.user.fbadefault.filter" in WP PumaStoreService, the XMLAccess command was successful.

 


Cross reference information Segment Product Component Platform Version Edition Organizational Productivity- Portals & Collaboration WebSphere Portal End of Support Products AIX, HP-UX, IBM i, Linux, Solaris, Windows, z/OS 7.0, 6.1