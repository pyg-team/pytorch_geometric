Title: IBM IY75243: 16796 - INCORRECT NEWLINE TRANSLATION WITH MULTI-LINE ATTRIBUTES AND AD AGENT - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  ************************************************************
   ITIM Server Release: 4.5.1-IF51
   WindowsAD Agent: 4.5.1020
   
   Title: Incorrect newline translation with multi-line attributes
   and AD
   Agent
   
   Problem Description: When newlines are entered in a textarea in
   ITIM,
   they do not show up correctly in Active Directory.  When
   newlines are
   entered in Active Directory, they do not show up correctly in
   the ITIM
   UI.
   
   Can the customer reproduce the problem? Yes, support too
   
   Desired Behavior (BE specific): ITIM should be able to
   successfully
   manage multiline strings.  If the customer hits return in a
   textarea on
   an ITIM form, that carriage return should show up correctly in
   the AD
   representation of the attribute.
   
   Steps to Duplicate (if any): This problem was recreated using
   the "info"
   attribute in Active Directory.  In AD Users & Computers, it's
   the
   "Notes" field of the Telephones tab.
   
   1. Add "info" to the erADAccount schema.  It should already be
   defined
   in your LDAP server as a multivalue allowed Directory String.
   
   2. Add "info" to the exschema.txt file in the agent's \data
   directory.
   
   3. Restart IDS, the agent, and ITIM.
   
   4. Add "info" as a 45x10 textarea somewhere on the AD Account
   form.
   
   Once the environment has been setup, there are three separate
   tests that
   I ran:
   
   A. Set in ITIM
   
   I entered mulitple lines in the "info" field in ITIM.  This
   resulted in
   ITIM's LDAP storing the value with CRLF chars between each line
   as
   expected.  On the agent side, this was translated to CRCRLF, and
   was
   stored in AD with just LFs between the lines.  In AD, this shows
   up with
   everything on a single line with boxes where the line breaks
   should be.
   
   
   B. Set in AD
   
   I entered multiple lines in the "Notes" section in AD and ran a
   recon
   for that user.  In the ITIM LDAP, the data was stored with LF
   between
   the "lines".  On the AD Account form, the data all showed up on
   the same
   line with no boxes or anything else separating the "lines".
   
   C. Set in ITIM and recon
   
   I entered multiple lines in the "info" section in ITIM.  I
   verified that
   the data was correct in ITIM LDAP, but corrupted in AD.  I ran a
   recon.
   The data in ITIM LDAP now contained just LF instead of CRLF, and
   displayed incorrectly on the form.
   
   
   All of these tests were performed with ITIM, IDS, and the agent
   all on
   the same Windows machine.  The customer duplicated this when the
   ITIM
   server was on AIX as well.
   ************************************************************
   
   
    
   
   

LOCAL FIX
 *  16796
   
   
    
   
   

PROBLEM SUMMARY
 *   Fix shipped in WinAD Agent v4.5.18
   
   
    
   
   

PROBLEM CONCLUSION
 *   Fix shipped in WinAD Agent 4.5.18
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY75243
   
   
 * REPORTED COMPONENT NAME
   ITIM AGENTS
   
   
 * REPORTED COMPONENT ID
   5724C34AG
   
   
 * REPORTED RELEASE
   451
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2005-08-15
   
   
 * CLOSED DATE
   2005-10-14
   
   
 * LAST MODIFIED DATE
   2005-10-14
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *     AGENT
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITIM AGENTS
   
   
 * FIXED COMPONENT ID
   5724C34AG
   
   

APPLICABLE COMPONENT LEVELS
 * R451 PSY
   UP