Title: IBM Resolving incorrect timeout errors in RPT Citrix scripts - United States

Text:
RPT Citrix; timeout; time-out; Time-out reached; expected hash code was never found; Citrix ICA 11.0; eventCreate timeout; Window Event; 71RRT-RPTPLAN; 71RRT-RPTCONF; 71RRT-RPTREC; 71RRT-RPTPLAY; 71RRT-RPTRPTG; 71RRT-RPTWV; 71RRT-RPTTS; 71RRT-TS TECHNOTE (FAQ)

QUESTION
 The RPT-Citrix script runs correctly when you record and replay it in the RPT workbench. However, the script fails when it is played back on the RRT (Robotic Response Time) agent. What can you do to correct this scenario? 

ANSWER

The Verification Point Failures workspace reports the following failure in the TEP (Tivoli Enterprise Portal):

Verification Point Failure
"Time-out reached while waiting for event
Create Window Event for the window with the following caption: Windows Internet Explore"
Name=Create Window (262218) [Windows Internet Explorer];Type=com.ibm.rational.test.lt.citrix.event.WindowEvent.create;Properties= [name=Annotation,type=!Base64!=,value=!Base64!=....

Notice that the Create Window statement is identified in the failure, and the Windows ID is the same in each failure (262218).

Open your script in RPT test mode and select this Create Window statement. Increase the timeout interval for this statement incrementally until no timeouts occur.

In RPT Citrix scripts, image synchronization Verification Points are required to ensure that the GUI is rendered and available before you attempt to use the Windows controls, such as buttons, in the interface.

The eventCreate timeout occurs because the current window is not rendered within the time allotted in the Create Window statement in your script. Consequently, the image Verification Point does not yet exist.

The delay factor in Create Window image synchronization varies with the Citrix server workload. A delay of 15 seconds, for example, may be sufficient at the time you record the script. As more users log onto the Citrix server, the server may not be able to serve applications as quickly. Consequently, each time the script plays back, a delay of 15 seconds may not be sufficient to render the GUI controls.

Run an RPT stress test over time to determine delay factors that allow the Create Window image synchronization to occur correctly.

This is the default RPT Citrix behavior. For more robust image synchronization, you can write custom Java code. 

Increasing Window Create Synchronization Delay

Open your RPT Citrix script in the Test Editor. Select the Window Create statement identified in the Verification Point Failures workspace. In the panel to the right, select Conditional in the Synchronization state selection box. Check the Override value checkbox and enter a new timeout interval in the Synchronization Timeout Delay entry. Under Verification Point, make sure that the verification point is enabled on the synchronized window event.

[/support/docview.wss?uid=swg21615248&amp;aid=1]

Other Related Error Messages

In the trace-robotic.log, you see similar messages:

[2012-10-03T09:37:41.985-04:00] - MIN - <HOSTNAME> -
PlaybackThreadPoolWorker-302 -
com.ibm.tivoli.transperf.playback.rpt.RPTPlaybackService.processStatusEvent() - Sending RT VP event: i=|0|, statusEvent=|SimTestStatusEvent
Values:
monitorName=|<script-name>/|,
URL=|null|,eventType=|com.ibm.rational.test.lt.citrix.event.Synchronization.Image|,eventId=|1.b24|,
parentEventId=|1.b20|,ownerId=|A1E20D5D738D5CE0C4ACE43231313835|,text=|Time-out reached while waiting for event Expected image with hash code 78f02b24a966e168aeb18552f12ff4f3
The expected hash code was never found.|,name=|Image synchronization (707, 265,138x22)|,actualValue=|null|,expectedValue=|null|,eventVerdict=|2|,eventReason=|2|,eventDesc=|null|, eventProperties = [[name=|Annotation|,type=|!Base64!=|,value=


See Related URLs for the primary reference on RPT Citrix scripting:

RELATED INFORMATION
 Scalable and Robust RPT CITRIX scripts [http://www.ibm.com/support/docview.wss?uid=swg21504306]
Response Time and Availability Monitoring of Citrix Ser [https://ibm.co/1dv12eE]




HISTORICAL NUMBER
 31061.122.000 

PRODUCT ALIAS/SYNONYM
 ITCAMfT
T7.4