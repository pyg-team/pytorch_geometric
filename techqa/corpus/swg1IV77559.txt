Title: IBM IV77559: INTRODUCE A SAMPLED TABLE FOR CUSTOM SCRIPTS RUNTIME - United States

Text:
  FIXES ARE AVAILABLE
IBM Tivoli Monitoring: Linux(R) OS Agent 6.3.0.5-TIV-ITM_LINUX-IF0002 [http://www-01.ibm.com/support/docview.wss?uid=swg24041167]
IBM Tivoli Monitoring: Unix(R) OS Agent 6.3.0.5-TIV-ITM_UNIX-IF0002 [http://www-01.ibm.com/support/docview.wss?uid=swg24041168]
IBM Tivoli Monitoring: Windows(R) OS Agent 6.3.0.5-TIV-ITM_WIN-IF0001 [http://www-01.ibm.com/support/docview.wss?uid=swg24041180]
IBM Tivoli Monitoring: Unix(R) OS Agent 6.3.0.6-TIV-ITM_UNIX-IF0001 [http://www-01.ibm.com/support/docview.wss?uid=swg24042074]
IBM Tivoli Monitoring: Linux(R) OS Agent 6.3.0.6-TIV-ITM_LINUX-IF0001 [http://www-01.ibm.com/support/docview.wss?uid=swg24042075]
IBM Tivoli Monitoring: Windows(R) OS Agent 6.3.0.6-TIV-ITM_WIN-IF0002 [http://www-01.ibm.com/support/docview.wss?uid=swg24042488]
IBM Tivoli Monitoring 6.3.0 Fix Pack 7 (6.3.0-TIV-ITM-FP0007) [http://www-01.ibm.com/support/docview.wss?uid=swg24041633]
IBM Tivoli Monitoring: Linux(R) OS Agent 6.3.0.6-TIV-ITM_LINUX-IF0005 [http://www-01.ibm.com/support/docview.wss?uid=swg24044572]
IBM Tivoli Monitoring: Windows(R) OS Agent 6.3.0.5-TIV-ITM_WIN-IF0002 [http://www-01.ibm.com/support/docview.wss?uid=swg24044755]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS NEW FUNCTION.
    
   
   

ERROR DESCRIPTION
 *  Request for enhancement to the Custom Scripting feature as
   follows:
   
   one of my client was highly interested in this new feature but
   then very when he recognized, that this feature does only
   trigger pure. In fact most scripts do status monitoring with
   both, good and bad status for an item and therefore certainly
   need sampled events instead to see clearing events as well.
   
   Does this work as design, and if so, do we plan to change the
   behavior?
   
   Otherwise the agent will never achieve what it is supposed to:
   substitute hundreds of existing agentbuilder agents over time.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Events from situations on custom scripts do not close
   automatically.
   
   
   The data gathered executing the custom scripts in 6.30 FP5 are
   reported using the KXX_Custom_Scripts_Runtime attribute groups.
   These groups implement 'pure event' tables.  Because of this,
   situations cannot receive 'clearing' events and need to be
   manually closed.
   
   
    
   
   

PROBLEM CONCLUSION
 *  New KXX_Custom_Scripts_Rtm_Smp sampled tables added. They
   report the same custom scripts' output data as those reported
   by the existing pure event tables.
   
    Specifications are as follow:
   
    Attribute group: KXX_Custom_Scripts_Rtm_Smp (multiple rows)
   
    Table: KXXSCRTSM (Sampled)
   
    Description: Data gathered using custom scripts. It contains
     the output rows of the scripts currently running.
   
    Attribute               Size Description
    ======================= ==== ==================================
    System_Name               32 This is the managed system name of
                                 the agent.
    Timestamp                 16 This is the local time when the
                                 data was collected
    Property_File            256 The name of the property file
    Attribute_Name            96 The attribute name that is defined
                                 in the properties file. The
                                 attribute is used for metric
                                 identification.
    Script_Path              512 The fully qualified path of the
                                 script.
    Custom_Name               96 The custom name that is defined
                                 in the properties file. It is used
                                 for custom reporting.
    Return_Code                4 Integer value returned by the
                                 script
    Row_Number                 4 Output row number.
    Standard_Output_Type       4 Standard output type of the script
    Standard_Output_String  2048 Script Standard Output in String
                                 format.
    Standard_Output_Integer    8 Script Output in Integer format
    Standard_Output_Float      8 Script Output in Floating Point
                                 format (2 decimals).
    Cust_Attr_Str1            64 Custom string attribute #1
    Cust_Attr_Str2            64 Custom string attribute #2
    Cust_Attr_Str3            64 Custom string attribute #3
    Cust_Attr_Str4            64 Custom string attribute #4
    Cust_Attr_Str5            64 Custom string attribute #5
    Cust_Attr_Int1             8 Custom integer attribute #1
    Cust_Attr_Int2             8 Custom integer attribute #2
    Cust_Attr_Int3             8 Custom integer attribute #3
    Cust_Attr_Int4             8 Custom integer attribute #4
    Cust_Attr_Int5             8 Custom integer attribute #5
    Cust_Attr_Float1           8 Custom floating point (2 decimals)
                                 attribute #1
    Cust_Attr_Float2           8 Custom floating point (2 decimals)
                                 attribute #2
    Cust_Attr_Float3           8 Custom floating point (2 decimals)
                                 attribute #3
    Cust_Attr_Float4           8 Custom floating point (2 decimals)
                                 attribute #4
    Cust_Attr_Float5           8 Custom floating point (2 decimals)
                                 attribute #5
   
    The OS agent sends events only if there are situations or
    historical collections using the pure event table; to
    completely avoid the sending of events, the Administrator can
    set to 'false' the environment variable:
   
    - KXX_FCP_SEND_SCRIPT_RUNTIME_EVENTS (default: true)
    If set to false, the OS agent stops sending events for each
    row of script standard output. In this case script outputs are
    visible on TEP console workspaces but no situations will be
    displayed and no historical collection data will be collected.
   
    No TEP workspace changes are introduced by this APAR, but a
    new built-in query named "Script execution results sampled",
    based on the new sampled tables, is provided.
   
   
   The fix for this APAR will be contained in the following
   maintenance packages:
   
   | FixPack    | 6.3.0-TIV-ITM-FP0007
   | InterimFix | 6.3.0.5-TIV-ITM_LINUX-IF0002
   | InterimFix | 6.3.0.5-TIV-ITM_UNIX-IF0002
   | InterimFix | 6.3.0.5-TIV-ITM_WIN-IF0001
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV77559
   
   
 * REPORTED COMPONENT NAME
   ITM AGENT UNIX
   
   
 * REPORTED COMPONENT ID
   5724C040U
   
   
 * REPORTED RELEASE
   630
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-10-01
   
   
 * CLOSED DATE
   2015-11-02
   
   
 * LAST MODIFIED DATE
   2017-01-06
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    IV85660 [http://www-01.ibm.com/support/docview.wss?uid=swg1IV85660] IV85663 [http://www-01.ibm.com/support/docview.wss?uid=swg1IV85663]
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITM AGENT UNIX
   
   
 * FIXED COMPONENT ID
   5724C040U
   
   

APPLICABLE COMPONENT LEVELS
 * R630 PSY
   UP
   
   
 * R610 PSN
   UP
   
   
 * R620 PSN
   UP
   
   
 * R621 PSN
   UP
   
   
 * R622 PSN
   UP
   
   
 * R623 PSN
   UP