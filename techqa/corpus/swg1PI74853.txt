Title: IBM PI74853: DFHDS0001 AN ABEND (CODE 0C4/AKEA) HAS OCCURRED AT OFFSET X'0710' IN MODULE DFHDSAT 17/02/07 PTF PECHANGE - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  After applying PTF UI39573 (APAR PI58375 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI58375]) or UI42118 (PI63005 [http://www-01.ibm.com/support/docview.wss?uid=swg1PI63005]),
   an application issuing an MQ request suffers an abend with
   messages:
   
   DFHTR0112 Bad data passed for tracing to module DFHTRPT.
   DFHDS0001 An abend (code 0C4/AKEA) has occurred at
             occurred at offset X'0710' in module DFHDSAT.
   DFHAP0707 An abend (code 0C4/AKEA) has occurred in task
             related user exit program DFHMQTRU.
   DFHAP0001 An abend (code 0C4/AKEA) has occurred at
            at offset X'00000710' in module DFHTRPT.
   .
   Trace shows :
   AP 2520 ERM   ENTRY COBOL-APPLICATION-CALL-TO-TRUE(MQM
   AP D500 UEH   EVENT LINK-TO-USER-EXIT-PROGRAM PGMXXXXX
                 AT EXIT POINT XRMIIN
   AP D501 UEH   EVENT RETURN-FROM-USER-EXIT-PROGRAM PGMXXXX
                 WITH RETURN CODE 0
   AP A090 MQTRU ENTRY APPLICATION-REQUEST   MQGET
   DS 0002 DSAT  ENTRY ** Decode of parameter list failed **
   
   .
   DS 0052 DSAT  *EXC* DSAT_RECOVERY
                 ** Decode of parameter list failed **
   TR 0102 TRPT  *EXC* INVALID-DATA-PASSED  : CALLING DOMAIN
                 WAS DS : PARAMETER LIST WAS ** Decode of
                 parameter l*
   ME 0301 MEME  ENTRY SEND_MESSAGE
   .
   Error Code:  0C4/AKEA    Error Type:  PROGRAM_CHECK
   Error happened in program DFHTRPT  at offset 00000710
   .
   PSW:  07853001 80000000 00000000 22853558  Instruction Length:2
   Exception Address:  00000000_580DB800
   Execution key at Program Check/Abend: 8     Addressing Mode:  64
   .
   64-BIT REGISTERS 0-15
   GPR 0-3 081AF054 000000B8 081AF02A 22854A08
   GPR 4-7 24013498 00000002 24012DA0 24012DA0
   GPR 8-B 081AF02A 00000000 000000B8 23FFA400
   GPR C-F 22CAA100 24013498 580DAF50 000000B8
   
   R14 is pointing to DSAT plist and R15 is length 00B8.
   This parm list is X'00B0' bytes long (as shown in the 1st 2
   bytes). Starting at 580DAF50, the very last byte
   of it is 580DAFFF, which is the last byte of the working
   storage that was MVS getmained by DFHMQLTT.
   
   The failing instruction in DFHTRPT is a MVCL, 0E0E. The length
   of that move is X'00B8' bytes (as shown in Reg 15, 000000B8).
   The instruction is trying to move 8 more bytes than it should
   which reaches into the next page and causes the 0c4.
   Additional Symptoms:
   DFHPG0001 abend AKEA abendAKEA has occurred at offset 2F96 in
   module DFHPGPG
   DFHPG0001 An abend (code ---/AKEA) has occurred at
             offset X'2E18' in module DFHPGLE.
   Kernel error table shows:
                                                Module in
   ERROR TYPE     ERR_CODE  MODULE    OFFSET      KERRD
   ==========     ========  ======    ======    =========
   PROGRAM_CHECK  0C4/AKEA  DFHTRPX   0000029E   DFHDSAT
   PROGRAM_CHECK  0C4/AKEA  DFHTRPX   0000033E   DFHDSAT
   PERCOLATE      ---/AKEA  UNKNOWN   UNKNOWN    DFHERM
   PERCOLATE      ---/AKEA  DFHMQSTB  000003CC   DFHAPLI1
   PERCOLATE      ---/AKEA  DFHPGLE   00002E18   DFHPGLE
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All CICS users with UI42118 applied.                         *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * Customer using CICS/MQ message conversion receives message   *
   * DFHTR0112.                                                   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * .                                                            *
   ****************************************************************
   A customer is using CICS/MQ message conversion which invokes
   module DFHMQLTT. Because of a mismatch in the dispatcher
   parameter list which DFHMQLTT needs when it performs a task
   switch, bad data is passed for tracing with the following
   message being issued:
   DFHTR0112 Bad data passed for tracing to module DFHTRPT
   Additional keywords: msgdfhtr0112 msgtr0112
   
   
    
   
   

PROBLEM CONCLUSION
 *  UI42118
   DFHMQLTT requires re-compiling to pick up the new DFHDSAT
   parmlist copybook which was increased in length by UI42118.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI74853
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V5
   
   
 * REPORTED COMPONENT ID
   5655Y0400
   
   
 * REPORTED RELEASE
   000
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   YesPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-01-12
   
   
 * CLOSED DATE
   2017-01-20
   
   
 * LAST MODIFIED DATE
   2017-03-31
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI44104
   
   

MODULES/MACROS
 *  DFHDSATT DFHDSATX DFHDSATY DFHMQLTT
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V5
   
   
 * FIXED COMPONENT ID
   5655Y0400
   
   

APPLICABLE COMPONENT LEVELS
 * R000 PSY UI44104 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI44104]
   UP17/01/26 P F701 {
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.