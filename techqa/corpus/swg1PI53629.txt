Title: IBM PI53629: CHECK LOAD FOR DISCARDDN AND DISCARDS WHEN INCURSOR IS SPECIFIED, MISSING DSNU070I WHEN INCOMPATIBLE - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  We do not check incompatible options, there is no discard
   processing and furthermore we insert records that we do not see
   in the sysprint messages.
   For example :
   Having a table with 6 rows and a table with 5 rows, the first 5
   rows are identical in both tables. LOADing 6 rows from first
   table with INCURSOR and DISCARDS, gets 5 duplicate messages
   DSNU344I and one insert which is not reported in output.
   
   We will now check and handle (e.g. DSNU070I) several cases,
   when :
   * INCURSOR with DISCARDDN / DISCARDS at table level
   * INCURSOR with DISCARDDN at an INTO TABLE PRT
   * INCURSOR without DISCARDDN at an INTO TABLE PART but with
     DISCARDS at table level
   * INCURSOR without DISCARDDN at an INTO TABLE PART , but
     specify INDDN with DISCARDSDN at another INTO TABLE PART
   * INCURSOR without DISCARDDN and DISCARDS, but there is a
     SYSDISC DD, LOAD will go ahead load processing without any
     discard processing
   
   
    
   
   

LOCAL FIX
 *  n/a
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All DB2 10 for z/OS and DB2 11 for z/OS      *
   *                 users of the LOAD INCURSOR utility           *
   ****************************************************************
   * PROBLEM DESCRIPTION: LOAD DATA INCURSOR with DISCARDS n does *
   *                      not honor the discard limitation        *
   ****************************************************************
   * RECOMMENDATION: Apply corrective PTF when available          *
   ****************************************************************
   LOAD DATA INCURSOR with DISCARDS n utility issued message
   DSNU344I - UNIQUE INDEX KEY DUPLICATES KEY OF INDEXED ROW
   AT RID record-id INDEX = index-name TABLE = table-name
   RECNO = record-number RID = duplicate-id and ended with
   RC4. The LOAD utility did not honor the discard limitation and
   also not write any error records into the discard data set.
   LOAD DATA INCURSOR does not support discard processing. A
   message should be issued to state this.
   
   Additional Keyword(s): MSGDSNU344I
   
   
    
   
   

PROBLEM CONCLUSION
 *  LOAD DATA INCURSOR with DISCARDS n or DISCARDDN will now issue
   message DSNU073I - KEYWORD keyword IGNORED to indicate the
   keywords will be ignored.
   
   LOAD DATA INCURSOR DISCARDS n DISCARDDN will now issue the
   following two messages:
   MSGDSNU073I - KEYWORD DISCARDS IGNORED.
   MSGDSNU073I - KEYWORD DISCARDDN IGNORED.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI53629
   
   
 * REPORTED COMPONENT NAME
   DB2 OS/390 & Z/
   
   
 * REPORTED COMPONENT ID
   5740XYR00
   
   
 * REPORTED RELEASE
   B10
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-12-07
   
   
 * CLOSED DATE
   2016-01-31
   
   
 * LAST MODIFIED DATE
   2016-03-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UI34921 UI34922
   
   

MODULES/MACROS
 *  DSNUGDDF
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 OS/390 & Z/
   
   
 * FIXED COMPONENT ID
   5740XYR00
   
   

APPLICABLE COMPONENT LEVELS
 * RA10 PSY UI34921 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI34921]
   UP16/02/16 P F602
   
   
 * RB10 PSY UI34922 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UI34922]
   UP16/02/16 P F602
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.