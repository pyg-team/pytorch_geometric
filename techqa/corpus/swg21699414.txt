Title: IBM APMU integration in DASH fails after replacing the APMU default certificate - United States

Text:
DASHL2; DASHL2SSO; SSL handshake; PKIX; APMU; console integration; trust; certificate TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After replacing the default certificate in APMU to a CA certificate, the icon for APMU pages in the JazzSM Dashboard Application Services Hub (DASH) is missing 

CAUSE
The DASH WAS instance no longer trusts the APMU server due to the certificate change. 

DIAGNOSING THE PROBLEM
Check the SystemOut log for the period following a DASH startup attempt for errors similar to:

###
[3/3/15 15:36:54:053 EDT] 00000025 WSX509TrustMa E CWPKI0022E: SSL HANDSHAKE FAILURE: A signer with SubjectDN "CN=<FQDN Address>, OU=Internal, O=<My Company>, C=<Country Code>" was sent from target host:port "localhost:<port number>". The signer may need to be added to local trust store 
"<JazzSM Home>/profile/config/cells/JazzSMNode01Cell/nodes/JazzSMNode01/trust.p12" located in SSL configuration alias "NodeDefaultSSLSettings" loaded from SSL configuration file "security.xml". The extended error message from the SSL handshake exception is: "PKIX path building failed: 
java.security.cert.CertPathBuilderException: PKIXCertPathBuilderImpl could not build a valid CertPath.; internal cause is: 
java.security.cert.CertPathValidatorException: The certificate issued by OU=,O=<My Company>, C=<Country Code> is not trusted
###


RESOLVING THE PROBLEM
Add the signer or the APMU CA certificate to the DASH certificate trust store:




 1.  Navigate to Settings > WebSphere Administrative Console > Launch WebSphere administrative console 
 2.  On the left task panel, access Security > SSL certificate and key management 
 3.  In the related items section, access Key stores and certificates 
 4.  Access the NodeDefaultTrustStore resource 
 5.  In the additional properties section, access Signer certificates 
 6.  Click "Retrieve from port" button 
 7.  Enter the APMU host, port and alias value. 
 8.  Click "Retrieve signer information" button 
 9.  Click "OK" to complete the configuration. 
 10. Restart DASH after importing the signer