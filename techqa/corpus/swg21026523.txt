Title: IBM DFHAC2002 and ICH408I due to port of entry being protected - United States

Text:
DFHAC2002 AC2002 MSGDFHAC2002 DFHXS1111 MSGDFHXS1111 XS1111 ICH408I ICH408 MSGICH408I MSGICH408 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 5655S9700 R660 660 R600 600 HCI6600 5655-S97 5655S97 5655S9700 R670 670 R700 700 HCI6700 5655-S97 5655S97 5655Y0400 R680 680 R800 800 HCI6800 5655-Y04 5655Y04 kixinfo TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are permitting the default userid (DFLTUSER) conditional access to a specific terminal by using the "WHEN" clause on your PERMIT commands. For example: PERMIT (userid) WHEN(TERMINAL(netname)). You receive an unexpected security violation, reported by messages DFHAC2002 and DFHXS1111, when users have not signed on using CESN. 

SYMPTOM
DFHAC2002 [http://pic.dhe.ibm.com/infocenter/cicsts/v5r1/topic/com.ibm.cics.ts.messages.doc/DFHAC/DFHAC2002.html] and DFHXS1111 [http://pic.dhe.ibm.com/infocenter/cicsts/v5r1/topic/com.ibm.cics.ts.messages.doc/DFHXS/DFHXS1111.html]


CAUSE
No port of entry (POE) assigned to the generic DFLTUSER ACEE at CICS startup

DIAGNOSING THE PROBLEM
The problem is due to the DFLTUSER (as specified in DFHSIT) is signed on at CICS startup time with no POE information. Users who log onto CICS but do not signon (with CESN) are associated with this generic DFLTUSER ACEE. Since there is no POE and since the only access granted to the resource (UACC(NONE)) is through the conditional PERMIT based on TERMINAL, these users will fail. If they then explicitly signon as the DFLTUSER (they need to know the password in this instance) by using CESN, the ACEE now built contains the netname of the terminal they are logged onto and the conditional test can be carried out properly. 

RESOLVING THE PROBLEM
A work around (so that users do not have to be aware of signing on if their terminal's netname is permitted) is to have an EXEC CICS SIGNON command coded in the GMTRAN. This will entail some maintenance (update program when password is changed) and will preclude any SNSCOPE checking since this allows only one explicit signon for a userid.



PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server