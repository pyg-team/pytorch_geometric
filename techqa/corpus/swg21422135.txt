Title: IBM HTTP 6.1 service fails to start and Error Code 1 returned on Windows - United States

Text:
1422135; CC; CM Server; 7.1.x; Windows 2003 x64; 64 bit; Clearcase; httpd.conf; Apache Server; Syntax error on line 45 of C:/Program Files (x86)/IBM/RationalSDLC/common/IHS/conf/httpd.conf; Syntax error on line 45 of C:/Program Files (x86)/IBM/RationalSDLC/common/IHS/conf/httpd; conf; Windows 2003 64 bit server; Apache; Error Code 1 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote explains how to resolve an issue that can occur where the IBM Rational Change Management (CM) Server HTTP 6.1 Service fails to start on Microsoft Windows 2000, 2003, 2008 and 2008 R2 systems and returns Error Code 1. 

SYMPTOM
 

CM Server HTTP 6.1 Service fails to start on a Windows 2003 x64 bit system. 


Application Event log error: The Apache service named reported the following error:


>>> Syntax error on line 45 of C:/Program Files (x86)/IBM/RationalSDLC/common/IHS/conf/httpd.conf: . 

 

Apache errors exist in the application event log pointing to the httpd.conf file location in 
\Program Files (x86)\IBM\RationalSDLC\common\IHS\conf\httpd.conf

Initial error will report: 

ServerRoot must be a valid directory

CAUSE
 

The httpd.conf file uses DOS naming conventions for the path to various root paths. Typical installation paths will be written as follows:

C:/PROGRA~1/IBM/RATION~1/common/IHS

In a 64 bit environment there will be 2 sets of "Program Files", one for the 64 bit and one for the 32 bit area. The 32 bit area will be listed as "Program Files (x86)"

This causes the httpd.conf file to write the path as follows:
C:/PROGRA~2/IBM/RATION~1/common/IHS 

or 

C:/PROGRA~1/IBM/RATION~2/common/IHS

Note the ~2 instead of ~1.



DIAGNOSING THE PROBLEM
Review the application event logs for httpd errors.
The Source will be designated by "Apache Service", Event ID 3299



RESOLVING THE PROBLEM
 

You need to edit the httpd.conf file and place the full path to the locations in quotes in the following areas: 


ServerRoot, ErrorLog, CustomLog, and DocumentRoot. 

Path before will look like: 

 * 
 * 
 * C:/PROGRA~2/IBM/RATION~1/common/IHS
 * or 
 * C:/PROGRA~1/IBM/RATION~2/common/IHS



After:  * 
 * 
 * "C:/Program Files (x86)/IBM/RationalSDLC/common/IHS"
 * 



Errorlog should be:

ErrorLog "|\"C:/Program Files (x86)/IBM/RationalSDLC/common/IHS/bin/rotatelogs.exe\" \"C:/Program Files (x86)/IBM/RationalSDLC/common/IHS/logs/error.log\" 86400"

CustomLog should be:

CustomLog "|\"C:/Program Files (x86)/IBM/RationalSDLC/common/IHS/bin/rotatelogs.exe\" \"C:/Program Files (x86)/IBM/RationalSDLC/common/IHS/logs/access.log\" 86400" common env=!dontlog

DocumentRoot should be:

DocumentRoot "C:/Program Files (x86)/IBM/RationalSDLC/common/IHS/htdocs"








Cross reference information Segment Product Component Platform Version Edition Software Development Rational ClearQuest CM Server 7.1, 7.1.0.1, 7.1.0.2, 7.1.1