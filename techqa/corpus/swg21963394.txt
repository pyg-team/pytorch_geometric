Title: IBM TIP install fails during precheck, CTGWA0024E Invalid User ID or password. - United States

Text:
TIPL2INST; CTGWA0024E; root; non-root; startServer; Pre-Check; ADMU3011E TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Tivoli Integrated Portal upgrade fails during the Pre Check, with multiple errors culminating with the final error message in install log: "SEVERE : Aborting installer: CTGWA0024E Invalid User ID or password. Try again", which results in TIP unable to start during the upgrade. 

SYMPTOM
The TIP installation will fail at the pre-installation step: TIPInstall_PreCheck 


CAUSE
TIP was installed as non-root, but at some point the startServer.sh script was executed by root, which causes some of the TIP configuration files to be owned by Root, which causes upgrade failures when installing as non-root.

ENVIRONMENT
TIP installed as non-root, but at some point TIP started as root.

DIAGNOSING THE PROBLEM



Errors similar to these in the TIP Installer log file:

ADMU3011E : Server launched but failed initialization. startServer.log,
SystemOut.log(or job log in zOS) and other log files under
/opt/IBM/tivoli/tipv2/profiles/TIPProfile/logs/server1 should
contain failure information.
/opt/IBM/tivoli/tipv2/_uninst/TIPInstall2105/plan/checks/MachinePlan_localhost/MachinePlan_localhost.xml:127: Error executing step: An error was encountered running step TIPInstall_PreCheck-FP5

INFO : validateWASCredential, result = false (from com.ibm.tivoli.tip.install.common.ant.WASCredentialValidationTask.execute)

SEVERE : Aborting installer: CTGWA0024E Invalid User ID or password. Try again. (from com.ibm.ac.coi.ext.ia.plugin.COIProcessChecksLogicalComponent.install)


RESOLVING THE PROBLEM
The first thing to check is if you are running the TIP upgrade using the same userid the initial install and subsequent upgrades have used. 

If the original install was non-root, use this command to see if any files are owned by root: 

$ find <TIP_HOME_PATH> -user root 

If any are owned by root, execute this command as root to reset the owner of the files. 

# chown -R userid:groupid <TIP_HOME> 

 where userid and groupid are the userid and groupid from the original installation. 

Test stopping and starting TIP as the correct userid: 

<TIP_HOME>/profiles/TIPProfile/bin/stopServer.sh server1 

<TIP_HOME>/profiles/TIPProfile/bin/startServer.sh -user <tipadmin user> -password <tipadmin password> server1 

If this is successful, you can go ahead and retry the TIP upgrade. 

If not, please run the startServer.sh with the -trace parameter: 

<TIP_HOME>/profiles/TIPProfile/bin/startServer.sh -user <tipadmin user> -password <tipadmin password> server1 -trace 

tar up the following directories and attach to the PMR: <TIP_HOME>/profiles/TIPProfile/logs/server1