Title: IBM Setting the HTTPOnly and Secure Flags on Tivoli Access Manager/WebSphere Application Server Cookies - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How to configured the HTTPOnly and Secure Flags for cookies in integration between Tivoli Access Manager and WebSphere Application Server. 

ANSWER

LtpaToken2 cookie:


 * Secure Flag:

 *  WebSphere Application Server - some older released Secure flag can be set by using the administrative interface and selecting Security->Secure Administration->Applications->Infrastructure. Under “Authentication”, click Web Security->Single Sign-on (SSO), and check “Requires SSL”. This flag secure LtpaToken and LtpaToken2 cookie WebSphere Application Server v7.0 and Higher - Global security > Single sign-on (SSO) 
 * [/support/docview.wss?uid=swg21422185&amp;aid=1]
 * 
 * HTTPOnly Flag:

 *  The HTTPOnly flag are enabled by setting the WebSphere Application Server property: com.ibm.ws.security.addHttpOnlyAttributeToCookies. By default in newer released its already set to enable as seen in screen image. 


PD-S-SESSION-ID cookie: 
 * Secure Flag

 *  The Secure flag is already enabled by default. 
 * 
 * HTTPOnly Flag:

 *  WebSEAL includes the option to enable the HTTPOnly attribute for the Set-Cookie headers it uses for sessions and failover. WebSEAL can also be configured to pass the HTTPOnly Set-Cookie header attribute from back-end junction servers to Web browsers. To configure WebSEAL to add the HTTPOnly attribute to Session and Failover Set-Cookie headers, change the value of use-http-only-cookies in the [server] stanza of the WebSEAL configuration file to yes. The default value is no. This WebSEAL setting addresses the session cookies (PD-S-SESSION-ID, PD-H-SESSION-ID) and the failover cookies (PD-ID). 


JSESSIONID cookie: 
 * Secure Flag:

 *  The Secure flag can be set within the WebSphere Application Server administrative interface by selecting AppServer->[Server Name]->Web Container Settings->Session Management. Check the checkbox for “Restrict cookies to HTTPS Sessions”. 
 * HTTPOnly Flag:

 *  The HTTPOnly attribute cannot currently be set on this cookie. This is registered on the IBM site as APAR PK98436. The fix for this APAR is currently targeted for inclusion in Fix Packs 6.1.0.31 and 7.0.0.9, With this APAR in place, the HTTPOnly flag can be set on the JSESSIONID cookie by way of the property name: com.ibm.ws.webcontainer.httpOnlyCookies. Refer to the following technote [http://www.ibm.com/support/docview.wss?rss=180&uid=swg21284395] for instructions on enabling WebContainer custom properties. 
 * Securing JSESSIONID cookie for the admin console
   http://www-01.ibm.com/support/docview.wss?uid=swg21661738 [http://www-01.ibm.com/support/docview.wss?uid=swg21661738]

RELATED INFORMATION
 Setting webcontainer custom properties [http://www.ibm.com/support/docview.wss?rss=180&uid=swg21284395]




HISTORICAL NUMBER
 27039
550
000