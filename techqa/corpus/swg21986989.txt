Title: IBM EVENT MONITOR TIMES OUT WITH SQLO_SEM_TIMEOUT MESSAGES IN DB2DIAG.LOG - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 SQLO_SEM_TIMEOUT MESSAGES IN DB2DIAG.LOG - database monitor, sqm___flush_buffer - SQLO_SEM_TIMEOUT 

ENVIRONMENT
Unix

RESOLVING THE PROBLEM
Under certain circumstances the 'db2diag.log' file might contain messages 

like this indicating a timeout:




  FUNCTION: DB2 UDB, database monitor, sqm___flush_buffer, probe:823

  MESSAGE : ZRC=0x870F00B9=-2029059911=SQLO_SEM_TIMEOUT

            "Return code from sqlowait when time out value has been reached"
 


This might happen when unusual high activity will generate so much data that 
the part of the event monitor that handles the data buffers will fall behind. 
Each data buffer is sent to the event monitor and then we wait to receive 
confirmation that the buffer has been written out to the appropriate tables. 
If the answer does not come back in time you will start seeing those messages 
in the 'db2diag.log' file. 

To remedy that issue what can be done is increase the default timeout for 
the event monitor when waiting for confirmation a buffer has been written out. 
The default time out is 1 minute (60000 milliseconds). Raising that number 
to 3 minutes would most likely take care of all cases: 


  db2set DB2_SYSTEM_MONITOR_SETTINGS=EVMON_TIMEOUT:180000
 


The engine needs to be restarted to pick up the change.