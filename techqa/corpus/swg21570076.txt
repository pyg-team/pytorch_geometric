Title: IBM DataPower login failure messages during ITCAM SOA data collection - United States

Text:
RBM ITCAM SOA TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When the ITCAM SOA data collector is running, Role Based Management (RBM) failure messages may appear in the DataPower logs for each ITCAM SOA polling interval if the DataPower RBM settings do not specify "local user" for the User Authentication Method. 

SYMPTOM
Error messages regarding authentication appear in the DataPower logs at regular intervals that correspond to the ITCAM SOA polling interval: 

 * 
 * 
 * [multistep][error] xmlfirewall(mmm): [Request]: Rejected by filter ... map-session-fallback 
 * [ldap][warn] xmlmgr(mmm): Searching LDAP server xxxxxx for xxxxxx failed


The error and warning messages are followed by notice level messages indicating the userid configured for ITCAM SOA successfully logged in to a specific domain:  * 
 * 


ITCAM SOA Data collection is working correctly. 
CAUSE
The ITCAM SOA data collector configuration contains a DataPower userid and password and a polling interval. During each polling interval, the ITCAM SOA data collector logs into DataPower. 

If Authentication Cache Mode is enabled in the RBM Authentication settings, DataPower may be able to use local cache to authenticate the data collector login. If an appropriate cache entry is not available, and if the userid used by ITCAM SOA is configured only as a local DataPower user, and is not defined in the primary system used to authenticate DataPower logins, error messages will be written to the DataPower status log. The error messages indicate that when ITCAM SOA logged into DataPower, the userid configured could not be found using the User Authentication Method defined in the RBM Settings Authentication tab.


ENVIRONMENT
Some of the DataPower RBM User Authentication Methods, such as ldap and radius, specify that DataPower will use another system to authenticate logins. 

For example, if the User Authentication Method is ldap, when a user logs into DataPower, an LDAP search is done to authenticate that user login. If the ITCAM SOA userid is not defined in LDAP, error messages will be written to the DataPower system logs indicating the LDAP search failed. 

If the Authentication tab in the RBM settings also indicates that Local Login As Fallback is enabled for all users or specific users, ITCAM SOA may still be able to login successfully as a local user. Data collection will work correctly, and the login error messages only indicate that the initial authentication check using LDAP was unsuccessful.


RESOLVING THE PROBLEM
A successful login message for the ITCAM SOA userid, for example [auth][notice] User xxx logged into xxx indicates that the ITCAM SOA data collection login is working properly. 

The error messages indicating that login initially failed can be ignored, or the userid defined for ITCAM SOA could be defined in the primary authentication system. 

RELATED INFORMATION
#Configuring a DataPower userd for ITCAM SOA [http://www.ibm.com/support/docview.wss?uid=swg21394718]