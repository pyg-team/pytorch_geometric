Title: IBM DataStage Parallel Jobs Fail with errors on ssh_exchange_identification, rsh, or Section Leaders - United States

Text:
maxstartup sshd_config MaxStartups TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 DataStage request additional SSH connection handles but requests fails because of default SSH MaxStartups settings 

SYMPTOM
DataStage job fails or Configuration File check fails with one or more of the following errors: 

 * Message: ssh_exchange_identification: Connection closed by remote host 
 * Message: main_program: rsh issued, no response received 
 * Message: main_program: Unable to contact one or more Section Leaders.
   Probable configuration problem; contact Orchestrate system administrator. 
 * Message: main_program: The section leader on hostname died
   


RESOLVING THE PROBLEM
The operating system administrator should modify the SSH daemon configuration file, sshd_config, to allow more concurrent connections. For example on Linux: 
edit or vi the file: /etc/ssh/sshd_config 

Increase the value of MaxStartups. Make sure it is not commented out. The default is 10. 

#MaxStartups 10 

Uncomment and change to higher value 

MaxStartups 100 

Increase this parameter for additional simultaneous connections to avoid the errors above. DataStage will create one ssh connection per logical node in the configuration file for each job. To compute the estimated value : 

 MaxStartups = ( Number Of logical nodes in configuration file * Number of jobs running at once )

The SSH Daemon needs to be restarted after the configuration file is modified.