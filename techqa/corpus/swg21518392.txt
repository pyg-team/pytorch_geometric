Title: IBM JMS file store and Persistent Messaging - United States

Text:
Performance Tuning; STERLINGFAQ TECHNOTE (FAQ)

QUESTION
 JMS file store and Persistent Messaging 

ANSWER
What is a JMS file store?
A JMS file store consists of a disk-based file that is used for storing persistent messages and durable subscribers. This comes into picture only when the configuration of the JMS server is as a Persistent file store. 

What is persistent messaging? 
Persistent messages are stored in database and these messages are never lost even during system crash. Before delivering a persistent message to clients, the JMS server first stores it in a file. Deletion of the message from the database takes place only after the client consumes and acknowledges it. 

Does the system log anything into JMS store file?
The system uses the JMS file only to store persistent messages. It does not log anything. 

What exactly causes the file store to grow?
Ideally, this file should never grow. This file will grow only when there are unconsumed messages in the JMS queue. This file will never increase in size if a client consumes the incoming messages constantly. 

What should one do if this file grows enormously?
One can rename this file (which will act as a backup) and restart the server. However, one should bear in mind that the unconsumed messages would remain so as all of them will be in the old file. Renaming and restarting is a quick fix (in case of disk space constraints) but the ideal action will be to find out why are there unconsumed messages in the system and fix it. 

What does Sterling recommend - persistent or non-persistent messaging?
Sterling recommends “non-persistent” for agents and “persistent” for integration servers. 

Can one use the Oracle DB instead?
Yes, one can also use JDBC store. 

For more information: 

http://download.oracle.com/docs/cd/E13222_01/wls/docs92//ConsoleHelp/pagehelp/JMSjmsstoresjmsjdbcstoreconfigtitle.html [http://download.oracle.com/docs/cd/E13222_01/wls/docs92//ConsoleHelp/pagehelp/JMSjmsstoresjmsjdbcstoreconfigtitle.html] 

http://download.oracle.com/docs/cd//E13222_01/wls/docs92/config_wls/store.html [http://download.oracle.com/docs/cd//E13222_01/wls/docs92/config_wls/store.html]



HISTORICAL NUMBER
 FAQ3106