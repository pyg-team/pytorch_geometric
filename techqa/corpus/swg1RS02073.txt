Title: IBM RS02073: ORA-01795: MAXIMUM NUMBER OF EXPRESSIONS IN A LIST IS 1000 - United States

Text:
  A FIX IS AVAILABLE
Operational Decision Manager V8.5.1.3 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24041821]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When working with Oracle database, the above message can pop up
   using the Business Console.
   
   The below Exception can also be thrown in the logs :
   
   java.lang.RuntimeException: java.sql.SQLException: ORA-01795:
   maximum number of expressions in a list is 1000
   
        at ilog.rules.teamserver.ejb.service.IlrSessionFacadeImpl.
   findObjects(IlrSessionFacadeImpl.java:3895)
        at ilog.rules.teamserver.ejb.service.IlrSessionFacadeImpl.
   findElements(IlrSessionFacadeImpl.java:4098)
        at ilog.rules.teamserver.ejb.service.IlrSessionFacadeImpl.
   findElements(IlrSessionFacadeImpl.java:4192)
        at sun.reflect.GeneratedMethodAccessor651.invoke(Unknown
   Source)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(
   DelegatingMethodAccessorImpl.java:55)
        at java.lang.reflect.Method.invoke(Method.java:619)
        at ilog.rules.teamserver.transaction.
   IlrTransactionalInvocationHandler.invoke(
   IlrTransactionalInvocationHandler.java:35)
        at com.sun.proxy.$Proxy43.findElements(Unknown Source)
        at ilog.rules.teamserver.model.impl.IlrAbstractSession.
   findElements(IlrAbstractSession.java:642)
        at ilog.rules.teamserver.model.impl.
   IlrAbstractCachingSession.findElements(
   IlrAbstractCachingSession.java:325)
        at ilog.rules.teamserver.model.finders.Finder.
   doFindActivities(Finder.java:245)
        at ilog.rules.teamserver.model.finders.Finder.
   findPageActivities(Finder.java:127)
        at ilog.rules.teamserver.model.finders.
   ActivityEventRuleFinder.findPageActivities(
   ActivityEventRuleFinder.java:52)
        at com.ibm.rules.decisioncenter.web.core.ActivityHelper.
   getEventRuleChangesSince(ActivityHelper.java:2609)
        at com.ibm.rules.decisioncenter.web.core.ActivityHelper.
   getRuleUpdates(ActivityHelper.java:2582)
        at com.ibm.rules.decisioncenter.web.core.ActivityHelper.
   getRuleUpdatesUI(ActivityHelper.java:2552)
        [...]
   
    Caused by: java.sql.SQLException: ORA-01795: maximum number of
   expressions in a list is 1000
   
        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.
   java:445)
        at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.
   java:396)
        at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:
   879)
        at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:450)
   
        at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192)
        at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)
        at oracle.jdbc.driver.T4CPreparedStatement.doOall8(
   T4CPreparedStatement.java:207)
        at oracle.jdbc.driver.T4CPreparedStatement.
   executeForDescribe(T4CPreparedStatement.java:884)
        at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(
   OracleStatement.java:1167)
        at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(
   OracleStatement.java:1289)
        at oracle.jdbc.driver.OraclePreparedStatement.
   executeInternal(OraclePreparedStatement.java:3584)
        at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(
   OraclePreparedStatement.java:3628)
        at oracle.jdbc.driver.OraclePreparedStatementWrapper.
   executeQuery(OraclePreparedStatementWrapper.java:1493)
        at com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.
   pmiExecuteQuery(WSJdbcPreparedStatement.java:1112)
        at com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.
   executeQuery(WSJdbcPreparedStatement.java:714)
        at ilog.rules.teamserver.ejb.service.dao.IlrElementDAOJDBC.
   retrieveDetailsFromStatement(IlrElementDAOJDBC.java:8565)
        at ilog.rules.teamserver.ejb.service.dao.IlrElementDAOJDBC.
   findElements(IlrElementDAOJDBC.java:6984)
        at ilog.rules.teamserver.ejb.service.IlrSessionFacadeImpl.
   findObjects(IlrSessionFacadeImpl.java:3892)
        ... 78 more
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  SQL query generated to open the console do not scale properly
   with oracle  where only 1000 literal can be added to a list
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code is fixed
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   RS02073
   
   
 * REPORTED COMPONENT NAME
   WS DECISION CTR
   
   
 * REPORTED COMPONENT ID
   5725B6900
   
   
 * REPORTED RELEASE
   851
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-07-20
   
   
 * CLOSED DATE
   2015-07-29
   
   
 * LAST MODIFIED DATE
   2015-07-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  999
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WS DECISION CTR
   
   
 * FIXED COMPONENT ID
   5725B6900
   
   

APPLICABLE COMPONENT LEVELS
 * R851 PSY
   UP