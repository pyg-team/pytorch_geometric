Title: IBM PM15745: COM.IBM.EJS.JMS.MQ.PCF.QUEUEDEFINEREXCEPTION CLASSCASTEXCEPTION WHEN CLICKING ON MQ CONFIG PROPERTY FOR A QUEUE - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The following exception occurs in the Deployment Manager Servant
   Region job output:
   
   ----
   java.lang.ClassCastException incompatible with
   com.ibm.ejs.jms.mq.pcf.QueueDefinerException
   com.ibm.ws.console.resources.jms.mqseries.MQSeriesHelper.messagi
   com.ibm.ws.console.resources.jms.mqseries.MQSeriesQueueControlle
   com.ibm.ws.console.core.action.BaseDetailController.perform(Base
   org.apache.struts.tiles.TilesRequestProcessor.processTilesDefini
   org.apache.struts.tiles.TilesRequestProcessor.processForwardConf
   com.ibm.isclite.container.controller.InformationController.proce
   org.apache.struts.action.RequestProcessor.process(RequestProcess
   org.apache.struts.action.ActionServlet.process(ActionServlet.jav
   org.apache.struts.action.ActionServlet.doGet(ActionServlet.java:
   ----
   
   When attempting to click on the MQ Config properties link for an
   MQ Queue
   
   The path in the administrative console is:
   
   JMS -> Queues -> QueueName
   Under additional properties
   MQ Config
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Users of IBM WebSphere Application Server    *
   *                 Version 7.0                                  *
   *                                                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: Clicking the "MQ Config" link on a      *
   *                      WebSphere MQ JMS Queue results in a     *
   *                      ClassCastException                      *
   *                                                              *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The ClassCastException reported in the administrative console
   is a follow-on problem from the following ClassCastException
   that is the root cause of the issue:
   
   java.lang.ClassCastException:
                            com.ibm.ejs.jms.mq.pcf.PCFCommandServer
     incompatible with com.ibm.ejs.jms.mq.CommandInputServer
   at com.ibm.ejs.jms.mq.pcf.WMQQueueDefiner.query(
                                          WMQQueueDefiner.java:207)
   
   The root cause ClassCastException occurs because the code
   implementing the "MQ Config" page assumes that when the
   application server is running on z/OS, a different class will
   have been instantiated be used to communicate with the queue
   manager. However, the actual class that is instantiated on
   z/OS is the same class as on distributed platforms, and the
   class cast exception occurs.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR removes the code that performs the
   invalid class cast when running on z/OS.
   As a result, the "MQ Config" page functions correctly on z/OS,
   and can administer WebSphere MQ queue objects on queue
   managers with an active command server, where that
   command server accepts commands in Programmable Command Format
   (PCF) format.
   
   APAR PM15745 is currently targeted for inclusion in Service
   Level (Fix Pack) 7.0.0.11 of WebSphere Application Server V7.0.
   
   Please refer to URL:
   //www.ibm.com/support/docview.wss?rs=404&uid=swg27006970
   for Fix Pack availability.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM15745
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE FOR Z
   
   
 * REPORTED COMPONENT ID
   5655I3500
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-06-02
   
   
 * CLOSED DATE
   2010-06-04
   
   
 * LAST MODIFIED DATE
   2010-07-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PM06032 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM06032]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  BBGUBINF BBOUBINF
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE FOR Z
   
   
 * FIXED COMPONENT ID
   5655I3500
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY UK57722 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK57722]
   UP10/06/17 P F006
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.