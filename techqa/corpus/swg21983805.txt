Title: IBM Unable to enable CSS services from FEM receive an error in IQQD0040E The client specified the wrong authentication token - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Unable to enable Filenet Content Engine Content Search Services services from FEM. Receive an error in IQQD0040E The client specified the wrong authentication token 

SYMPTOM
p8_server_error.log:
016-05-20T10:53:24.143Z 41C541C5 ENG FNRCB0047E - ERROR method name: preExecuteChange principal name: SRVCEADMIN01 Global Transaction: true User Transaction: false Exception Info: The Content Engine server cannot connect to the IBM Content Search Services server IndexServer1 located on host baspc211u1.service.group, port 8191.
com.filenet.api.exception.EngineRuntimeException: FNRCB0047E: CBR_TS_CANNOT_CONNECT_TO_SERVER: The Content Engine server cannot connect to the IBM Content Search Services server IndexServer1 located on host baspc211u1.service.group, port 8191. failedBatchItem=0 errorStack={
at com.filenet.engine.persist.CmTextSearchServerPersister.preExecuteChange(CmTextSearchServerPersister.java:361)

Caused by: com.filenet.api.exception.EngineRuntimeException: FNRCB0036E: CBR_TS_ACCESSING_TEXT_SEARCH_SERVER_FAILED: IBM Content Search Services could not communicate with the server that runs on the baspc211u1.service.group:8191 host and port. The server is not started. Start the server. For information about starting the server, see "Starting or stopping IBM Content Search Services servers" in the IBM FileNet P8 information center. failedBatchItem=0
at com.ibm.filenet.cse.cascade.CSECascadeBase.getTSSFromPool(CSECascadeBase.java:40)
at com.ibm.filenet.cse.cascade.CSECascadeAdmin.isServerUp(CSECascadeAdmin.java:322)
at com.filenet.engine.persist.CmTextSearchServerPersister.preExecuteChange(CmTextSearchServerPersister.java:353)
... 42 more
Caused by: com.ibm.ecmts.client.api.GeneralClientException: IQQD0040E The client specified the wrong authentication token. failedBatchItem=0



RESOLVING THE PROBLEM
 

 1. Print the token from the CSS Server instance that cannot be connected
    /opt/FileNet/ContentSearchServices/CSS_Server/SearchServer2/bin$
    ./configTool.sh printToken -configPath
    /opt/FileNet/ContentSearchServices/CSS_Server/SearchServer2/config
    
    
 2. copy the token 
    
    
 3. Update in FEM
    
    
 4. P8Domain properties
    
    
 5. IBM Search Configuration
    
    
 6. Select the index or search server
    
    
 7. Enable to change the token then paste the token into the field.
    
    
 8. Select Status = enabled 
    
    
 9. Save the change and it should now enable to process the indexes.