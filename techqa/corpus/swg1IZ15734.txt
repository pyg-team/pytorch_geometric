Title: IBM IZ15734: TO RUN MTTRAPD WITH SUID LIBRARIES NEED TO BE COPIED TO /USR/LIB - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  When mttrapd runs as non-root with the SUID it can only find
   libraries in the PATH hardcoded in the binary
   
   INDEX  PATH                          BASE                MEMBER
   0
   ../.././lib:/master/lib/3.4.i4/aix4/prod:/master/lib/3.4.i4/aix4
   /extern:
   /export/cc_Tools/aix-5.2-powerpc/netsnmp-5.2.1.2/lib:/master/pac
   kage/aix-5.2-powerpc/flexlm-8.3/lib:/usr/lpp/xlopt:/usr/lib/thre
   ads:/usr/lib:/lib
   
   
   Some of these directories are not default so the libraries have
   to go to /usr/lib or /lib which should be always available. The
   libraries to copy are
   -rwxr-xr-x   1 root     system       259102 Feb 12 11:10
   libsybtcl_r.so
   -rwxr-xr-x   1 root     system       687617 Feb 12 11:10
   libsybsrv_r.so
   -rwxr-xr-x   1 root     system        49162 Feb 12 11:10
   libsybintl_r.so
   -rwxr-xr-x   1 root     system       809044 Feb 12 11:10
   libsybct_r.so
   -rwxr-xr-x   1 root     system       129822 Feb 12 11:10
   libsybcs_r.so
   -rwxr-xr-x   1 root     system      1063341 Feb 12 11:10
   libsybcomn_r.so
   -rwxr-xr-x   1 root     system       163774 Feb 12 11:10
   libsybblk_r.so
   -rwxr-xr-x   1 root     system        32427 Feb 12 11:11
   libslclient_r.so
   -rwxr-xr-x   1 root     system       729519 Feb 12 11:11
   libsybunic.so
   
   Also the following symlinks are needed
   
   
   lrwxrwxrwx   1 root     system           15 Feb 11 17:02
   libnetcool_r.so.a -> libnetcool_r.so
   lrwxrwxrwx   1 root     system           11 Feb 12 11:07
   libOpl_r.so.a-> libOpl_r.so
   lrwxrwxrwx   1 root     system           10 Feb 12 11:08
   libPa_r.so.a -> libPa_r.so
   lrwxrwxrwx   1 root     system            8 Feb 12 11:09
   libtre.so.4 -> libtre.a
   
   
    
   
   

LOCAL FIX
 *  Copy the relevant libraries and make the soft links
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Users of the SNMP Probe and SNMP EMS Probe.  *
   ****************************************************************
   * PROBLEM DESCRIPTION: When the SNMP Probe and SNMP EMS Probe  *
   *                      are run as a non-root with SUID, you    *
   *                      must make available all the required    *
   *                      libraries and make all the required     *
   *                      soft links.                             *
   ****************************************************************
   * RECOMMENDATION:                                              *
   *                                                              *
   ****************************************************************
   The Running the probe as SUID root section in the SNMP Probe
   Reference Guide and the SNMP EMS Probe Reference Guide will be
   updated with a new section called Prerequisites.  The new
   section will contain the following information:
   
   Prerequisites ========== Before running the probe as SUID root,
   you must copy the following libraries to the to the /usr/lib or
   /lib directory:
   
   libsybtcl_r.so, libsybsrv_r.so, libsybintl_r.so, libsybct_r.so,
   libsybcs_r.so, libsybcomn_r.so, libsybblk_r.so,
   libslclient_r.so,  and libsybunic.so.
   
   You must also make symlinks to the following libraries:
   
   libnetcool_r.so, libOpl_r.so, libPa_r.so, and libtre.a.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The SNMP Probe Reference Guide and the SNMP EMS Probe Reference
   Guide will be updated with the next release of these probes.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ15734
   
   
 * REPORTED COMPONENT NAME
   NC/OBUS MTTRAPD
   
   
 * REPORTED COMPONENT ID
   5724P03MT
   
   
 * REPORTED RELEASE
   100
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-02-18
   
   
 * CLOSED DATE
   2008-04-01
   
   
 * LAST MODIFIED DATE
   2008-04-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

Publications Referenced SC23600201 FIX INFORMATION

APPLICABLE COMPONENT LEVELS