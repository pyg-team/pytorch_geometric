Title: IBM Deadlock occurs when DataStage job has "alter table activate not logged initially with empty table"  run as an "OPEN command" on DB2 Enterprise stage against a multi partition DB2 table - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The DB2 EE target stage, has the following Open Command:

Alter table my_action_temp activate not logged initially with empty table 

The job writes to a multi partition DB2 table. This is running on ALL partitions and causing a deadlock within database. The DataStage job will just hang.

Here is the create statement for multiple partition:
CREATE TABLE MY_ACTION_TEMP
( MYID INTEGER GENERATED ALWAYS AS IDENTITY ( START WITH 1, INCREMENT BY 1, NO CYCLE, MINVALUE 1, MAXVALUE 2147483647, CACHE 20 ),
ISN VARCHAR(20),
ACTION_DATE TIMESTAMP,
ACTION_UNITS DECIMAL(10,2),
ACTION_TYPE VARCHAR(20),
X_SRC_SYSTEM VARCHAR(30)
)
IN MY_APP
DISTRIBUTE BY HASH(ISN)
;

If I change the table to a single partition it runs fine. The table needs to be multi partition table. 

RESOLVING THE PROBLEM
The open/close commands are executed on all the DB2 nodes. This is working as designed. When specifying these commands care should be taken to avoid commands which work on all the partitions of the table.
If the intention is to truncate the table then you can either use the Truncate mode in the stage properties or specify the open command as:

'delete from table where nodenumber(column) = current node'