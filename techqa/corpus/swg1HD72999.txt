Title: IBM HD72999: READ/WRITE ACCESS TO THE VAULT THROUGH THE VAULT CACHE PROBLEMS . - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  The customer has some problems with a
   VaultCache located in India, users have no read /
   write access to the VaultCache.
   The following command is then launched :
   catstart -run "vsadm GET SERVER REQUEST STATE
   FOR {ALIAS Vault3PGOT04P VAULT
   CacheVaultServer HOST tinsp029.blr.volvo.net
   PORT
   39270 }"
   With the following output type :
   Starting vsadm GET SERVER REQUEST STATE FOR
   {ALIAS Vault3PGOT04P VAULT
   CacheVaultServer HOST
   tinsp029.blr.volvo.net PORT 39270 } program.
   Please wait...
   GET command running ...
   [8177:New Connection
   (tinsp029.blr.volvo.net,IT_daemon,*,root,pid=1527
   1,optimised) ]
   [8177:New IIOP Connection
   (tinsp029.blr.volvo.net:39312) ]
   [8177:End of IIOP Connection
   (tinsp029.blr.volvo.net:39312) ]
   Commit priority request queue state: <0>
   High priority request queue state: <1>
   Standard priority request queue state: <12>
   GET command ended successfully.
   Then the only solution is to start again the
   VaultCache.The problem is then solved and the
   server does not seem to be loaded at
   all like it was before.
   Hence the question form the customer are :
   - What is the exact meaning of the three output
   lines (priority request queue state) and what is the
   difference between High and Standard?
   - Why does the customer get this result (possible
   causes)?
   - What level is acceptable (I heard about less than
   20 but I have no idea of the exact meaning or unit)?
   - How can this overload problem be avoided (if it is
   an overload problem)?
   .
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Read/Write access to the Vault through the Vault Cache problems
   .
   The customer has some problems with a
   VaultCache located in India, users have no read /
   write access to the VaultCache.
   The following command is then launched :
   catstart -run "vsadm GET SERVER REQUEST STATE
   FOR {ALIAS Vault3PGOT04P VAULT
   CacheVaultServer HOST tinsp029.blr.volvo.net
   PORT
   39270 }"
   With the following output type :
   Starting vsadm GET SERVER REQUEST STATE FOR
   {ALIAS Vault3PGOT04P VAULT
   CacheVaultServer HOST
   tinsp029.blr.volvo.net PORT 39270 } program.
   Please wait...
   GET command running ...
    8177:New Connection
   (tinsp029.blr.volvo.net,IT_daemon,*,root,pid=1527
   1,optimised)
    8177:New IIOP Connection
   (tinsp029.blr.volvo.net:39312)
    8177:End of IIOP Connection
   (tinsp029.blr.volvo.net:39312)
   Commit priority request queue state: <0>
   High priority request queue state: <1>
   Standard priority request queue state: <12>
   GET command ended successfully.
   Then the only solution is to start again the
   VaultCache.The problem is then solved and the
   server does not seem to be loaded at
   all like it was before.
   Hence the question form the customer are :
   - What is the exact meaning of the three output
   lines (priority request queue state) and what is the
   difference between High and Standard?
   - Why does the customer get this result (possible
   causes)?
   - What level is acceptable (I heard about less than
   20 but I have no idea of the exact meaning or unit)?
   - How can this overload problem be avoided (if it is
   an overload problem)?
   .
   
   
    
   
   

PROBLEM CONCLUSION
 *  THIS MODIFICATION WILL BE INCLUDED IN THE
   DOCUMENTATION DELIVERED WITH ENOVIA
   VERSION 5 RELEASE 19 GA LEVEL.
   Installation and Deployment Guide
   Setting Up Vault Servers and Clients
   Vault Administration Tools
   MODIFICATION:
   The following has been added to the description of
   the GET SERVER REQUEST STATE command:
   When a request arrives on the Vault Server it is
   dispatched to a dedicated queue for execution,
   depending on the request type.
   There is a dedicated queue to manage the commit
   request (commit priority). The commit command
   releases some critical resources such as a DB
   connection on the Vault Server; that is why there is
   a dedicated pipe to manage it.
   There is a dedicated queue to manage high priority
   requests such as shutdown. Some commands have
   to be executed immediately; that is why there is a
   dedicated pipe to manage them.
   There is a default queue for all other request types
   (standard priority). For instance, the request used
   to create a Vault document is a standard priority
   request.
   Most of the time you should not have more than
   two or three for each priority queue. Otherwise, it
   means that you may have a lack of CPU or a lack
   of execution thread.
   For instance when you have:
   Standard priority request queue state: <12>;
   it means that 11 remote users are waiting to have
   their request executed on the Vault Server.
   Bad elapse time
   ------------------
   The first thing to do is to check the CPU
   consumption. If the CPU consumption on the
   machine is more than 70%, additional processors
   have to be added on the machine. If the CPU
   consumption is low, then the:
   VaultServer_ThreadNumber
   parameter should be increased.
   .
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   HD72999
   
   
 * REPORTED COMPONENT NAME
   ENOVIA LCA NT>X
   
   
 * REPORTED COMPONENT ID
   569151700
   
   
 * REPORTED RELEASE
   517
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-04-01
   
   
 * CLOSED DATE
   2008-04-17
   
   
 * LAST MODIFIED DATE
   2008-04-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS