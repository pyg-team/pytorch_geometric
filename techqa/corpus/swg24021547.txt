Title: IBM PK77072; 7.0.0.1: Important maintenance for the WebSphere MQ resource adapter - United States

Text:
PK77072; PK77072; PK77072; WMQ; MQRA DOWNLOADABLE FILES

ABSTRACT
 This APAR updates the resource adapter contained in WebSphere Application Server to include WebSphere MQ fixes that are part of WebSphere MQ fix pack 7.0.0.1 

DOWNLOAD DESCRIPTION
PK77072 resolves the following problem:

ERROR DESCRIPTION:
This APAR updates the WebSphere MQ resource adapter shipped with WebSphere Application Server to 7.0.0.1-k700-L081114. 

LOCAL FIX:

PROBLEM SUMMARY:

USERS AFFECTED:
Users of WebSphere Application Server V7.0 using WebSphere MQ as a messaging provider

PROBLEM DESCRIPTION:
This APAR updates the resource adapter contained in WebSphere Application Server to include WebSphere MQ fixes that are part of WebSphere MQ fix pack 7.0.0.1.

RECOMMENDATION:
All users of WebSphere MQ as a messaging provider for WebSphere Application Server V7.0 are recommended to apply this APAR.

The version of the WebSphere MQ resource adapter contained in WebSphere Application Server fix pack 7.0.0.1 (7.0.0.0-k000-L081015.2) does not address the following WebSphere MQ issues (contained in WebSphere MQ fix pack 7.0.0.1) that can affect users of the WebSphere MQ messaging provider within WebSphere Application Server:





- WebSphere MQ reference 127121:
A build-up of connections within a WebSphere MQ queue manager can occur when using message-driven bean applications with activation specifications. This can lead to the maximum
number of connections within the queue manager being utilized, and the endpoint stopping with a CWWMQ0045E error message. The application server must be restarted to free the
existing connections before applications can reconnect to the queue manager.


- WebSphere MQ reference 128018:
A build-up of memory usage within WebSphere Application Server is seen, possibly resulting in OutOfMemoryError exceptions being thrown. A heapdump shows a large amount of memory used by com.ibm.mq.jms.MQXAConnection objects. This occurs because each time a WebSphere MQ connection (in a WebSphere Application Server connection pool) is used to access a temporary queue, a reference to the queue is stored within the connection. These references are not cleaned up correctly by the WebSphere MQ resource adapter. 


- WebSphere MQ reference 124523:
The open input count of a queue within WebSphere MQ grows each time a WebSphere Application Server listener port is stopped and started using the administrative console. This occurs as a result of the following exception within the WebSphere MQ resource adapter: 
javax.jms.IllegalStateException: ServerSessionPool closed
at com.ibm.ejs.jms.listener.ServerSessionPool.
getServerSession(ServerSessionPool.java:362) 


- WebSphere MQ reference 126783:
When an endpoint for a message-driven bean application, using an activation specification, is paused the following exception occurs within the WebSphere MQ resource adapter:
java.lang.RuntimeException: javax.resource.spi.work.
WorkCompletedException: Unexpected exception from work (id=1468), error code: 0
at com.ibm.ejs.j2c.work.WorkProxy.run(WorkProxy.java:459
Caused by: java.util.NoSuchElementException


- WebSphere MQ reference 126162:
When a connection factory or activation specification is configured using transport type "Bindings then client" on WebSphere Application Server for z/OS or iSeries, connections fail when the native libraries required to perform a bindings connection are not available - even though a network connection to the queue manager can be created.
The WebSphere MQ reason code in the error is:
2029 - MQRC_ADAPTER_CONN_LOAD_ERROR

PROBLEM CONCLUSION:
This APAR updates the WebSphere MQ resource adapter shipped with WebSphere Application Server to WebSphere MQ build level 7.0.0.1-k000-L081114 

Please see the following document for important information for users of the WebSphere MQ messaging provider with WebSphere Application Server, including how to check the version of the resource adapter used by your application server.
http://www.ibm.com/support/docview.wss?rs=171&uid=swg21316899 [http://www.ibm.com/support/docview.wss?rs=171&uid=swg21316899]

PREREQUISITES
Please download the UpdateInstaller below to install this fix.

URL LANGUAGE SIZE(Bytes) UpdateInstaller [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21205991] US English 7250000 
INSTALLATION INSTRUCTIONS
Please review the readme.txt for detailed installation instructions.

URL LANGUAGE SIZE(Bytes) Readme [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PK77072/readme.txt] US English 9547 
DOWNLOAD PACKAGE




Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 
What is Fix Central(FC)? [https://www.ibm.com/support/fixcentral/help?page=swfaqs] 
What is DD? [http://www6.software.ibm.com/dldirector/doc/DDfaq_en.html] 7.0.0.1-WS-WAS-IFPK77072 12/8/2008 US English 13749039 FC [http://www.ibm.com/support/fixcentral/quickorder?fixids=7.0.0.1-WS-WAS-IFPK77072&product=ibm%2FWebSphere%2FWebSphere%20Application%20Server&source=dbluesearch] FTP [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PK77072/7.0.0.1-WS-WAS-IFPK77072.pak] DD 
TECHNICAL SUPPORT
 Contact IBM Support using SR (http://www-306.ibm.com/software/support/probsub.html [http://www-306.ibm.com/software/support/probsub.html]), visit the WebSphere Application Server Support Web site (http://www.ibm.com/software/webservers/appserv/was/support/ [http://www.ibm.com/software/webservers/appserv/was/support/]), or contact 1-800-IBM-SERV(U.S. only). 

 [/support/docview.wss?uid=swg24021547&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24021547&aid=2]Problems (APARS) fixed
PK77072