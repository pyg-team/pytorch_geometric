Title: IBM JR27895: CUSTOMER RECEIVING SQL2205N ERROR WHEN TRYING TO REORG A RANGED PARTITION TABLE. - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Customer Receives SQL2205N Error when trying to do a reorg on a
   ranged partition table.
   
   SQL2205N:
   SQL2205N The specified index is not valid. Reason code: "1".
   SQLSTATE=01H52
   
   The problem arises due to the incompatibility between the way
   admin_cmd does 'reorg index' (using its own classes ,
   initializing the 'db2ReorgStruct' members and finally calling
   'db2Reorg' API) and the way 'db2Reorg API' is supposed to be
   used. 'admin_cmd' classes that have been initialized with the
   tablename will continue to use the same tablename for the
   successive calls of 'reorg using admin_cmd'. Where as , when
   'db2Reorg' API is called with 'reorgType' of
   'DB2REORG_OBJ_INDEX' , one has to either specify correct
   tablename (for which the 'index' is defined)  or leave the
   tablename as NULL . Since , admin_cmd got initialized with the
   old tablename , while running previous 'reorg index' command ,
   there is a mismatch between the tablenames corresponding to the
   'index' of the current 'reorg index' run and the previous 'reorg
   index'
   
   
    
   
   

LOCAL FIX
 *  If a correct 'tablename' is always used along with the 'reorg
   index using admin_cmd' command, problem should not occur.
   
   
    
   
   

PROBLEM SUMMARY
 *  Receives SQL2205N Error when trying to do a reorg on a
   ranged partition table.
   
   
    
   
   

PROBLEM CONCLUSION
 *  First fixed on DB2 V9.1 Fixpak 6.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR27895
   
   
 * REPORTED COMPONENT NAME
   DB2 CEE WINDOWS
   
   
 * REPORTED COMPONENT ID
   5765F3001
   
   
 * REPORTED RELEASE
   910
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-11-26
   
   
 * CLOSED DATE
   2009-09-22
   
   
 * LAST MODIFIED DATE
   2009-09-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    JR27896
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 CEE WINDOWS
   
   
 * FIXED COMPONENT ID
   5765F3001
   
   

APPLICABLE COMPONENT LEVELS
 * R910 PSY
   UP