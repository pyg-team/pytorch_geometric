Title: IBM incorrect search results when the search string contains Turkish characters - United States

Text:
incorrect search results when the search string contains Turkish characters TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 incorrect search results when the search string contains Turkish characters 

RESOLVING THE PROBLEM
The customer has a Turkish based system and is having issues when performing searches for documents via Workplace/FEM. They have tested with Force Case Insensitive option both active and inactive. 

For certain Turkish character, P8 is not returning documents which the customer knows to exist. Furthermore, they have tested running searches for data via Oracle SQL plus, using such characters and the results returned are correct.

The customer is using:

NLS_CHARACTERSET WE8ISO8859P9 

NLS_NCHAR_CHARACTERSET AL16UTF16

Behaviour:

Â¿1) Sensitive/insensitive searches 
Although insensitive searches can be configured at ObjectStore level, it is not recommended to use them on systems managing high volumes of documents, this because this setting forces the "UPPER" clause in the DB queries which prevent the DB indexes to be utilized and "Full table Scans" running on each search resulting in sequential searches on the DB table with impact on performances and response time. 
Also "LIKE" searches have the same behaviour not using the DB indexes. 
It has been noted that this feature is not correctly working with some Turkish characters like "Ã‡" and "I", the following is an example: 
Some Document Titles contain "Ã‡ekilis" with Turkish characters. 
If the search is done with "Ã‡ekilis", then no document is found. 
If the search is done with "Ã§ekilis", then the related documents are found. 

Cause:
We previously used the DB 'lower' function for the column and used the C runtime function _wcslwr for the string literal. Fixed now in DTS183658 (CE3.5.2-003) to use 'lower' for both since _wcslwr appears to be broken, but that still leaves a problem. 

3rd party involved:
Oracle is not handling the Turkish characters correctly, so the customer will still note that both capital I's convert to the dotted lowercase i. This means that some legitimate hits will not be returned due to this Oracle error. They will need to contact Oracle support and have the DB behavior fixed to get past this. this.



HISTORICAL NUMBER
 20004749 

PRODUCT ALIAS/SYNONYM
 P8 CONTENT ENGINE