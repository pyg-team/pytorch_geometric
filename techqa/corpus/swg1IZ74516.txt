Title: IBM IZ74516: ALL PORTS USED OVER THE FIREWALL TO BE ADDED TO THE PROBES      DOCUMENTATION - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  The documentation there only states the default ports used for
   probes integration and we don't find the ports for
   Information.
   
   CORBA_SSL Ports
   
   
   The customer also feels that OrbLocalPort could be described in
   a more detailed way with examples.
   
   
    
   
   

LOCAL FIX
 *  DOCS
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   All users of CORBA probes deployed within a firewall protected
   environment.
   ****************************************************************
   PROBLEM DESCRIPTION:
   There is currently insufficient information in the CORBA probe
   guides as to how to configure the ports used by the probes when
   they are running within a firewall protected environment.
   ****************************************************************
   RECOMMENDATION:
   The guides for all CORBA probes are currently undergoing
   updates.  The information in this APAR will be added to each
   guide as it is updated.  The task to update all CORBA probes
   will conclude at the end of 2010.
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The following information will be added to all CORBA probes,
   and will be supplemented by explanatory diagrams and, where
   appropriate, details specific to the individual CORBA probe:
   
   Firewall considerations
   =======================
   When using CORBA probes in conjunction with a firewall, the
   firewall must be configured in such a that allows the probe to
   connect to the third party system.
   
   If the probe or target system are installed behind, in front
   of, or on both sides of a firewall, then the firewall needs to
   be configured to let communication through on certain ports
   between certain servers.
   
   This entails adding the appropriate firewall rules that allow
   the probe to connect to the target system outside the firewall.
   
   The following firewall protection scenarios may occur:
   * Only Host 1 is behind a firewall
   * Only Host 2 is behind a firewall
   * Both Host 1 and Host 2 is secured by its own firewall
   
   where:
   Host 1 is the host on which the probe is running.
   Host 2 is the host on which the target system is running.
   
   
   Configuring probes to run with a firewall
   =========================================
   The nature of the connection between the probe and the third
   party system is determined by whether the probe is acting as a
   server or as a client. If the probe is acting as a client, it
   connects to third party system; if the probe is acting as a
   server, it listens on a port to which the third party system
   connects.
   
   When configuring the system, you need to consider the remote
   host and port to which the probe will connect, or the incoming
   port number on which the probe will listen and to which third
   party system will connect.
   
   When running in a two firewall configuration, you must consider
   the outgoing port(s) that the probe uses, so that they are
   opened on the probe's host firewall.  These ports will be
   different from the target port that must be opened on the target
   host which can be seen in the probe's properties file.
   
   For CORBA probes, those that use EventManager or
   NotificationManager objects may use different hosts and ports
   from those that than NamingService and EntryPoint hosts and
   ports. So if probe is configured to get object references from a
   NamingService or an EntryPoint, you must know which host and
   port is used by the requested object. To obtain this
   information, you must contact the system administrator of the
   target system admininstration.
   
   Based on the connection's details, the firewall administrator
   must add the appropriate firewall rules.
   
   
   Connection information for CORBA probes
   =======================================
   Most CORBA probes use two-way communication, meaning that the
   CORBA probe can connect to the target system, and can listen
   for connections from the target system.
   
   The firewall system administrator must open up the firewall by
   adding firewall rules to allow this two-way
   connection/communication.
   
   When running in a two firewall configuration, you must
   determine the following four ports before adding the firewall
   rules:
   
   1. The outgoing port/port range for probe.
   
   2. The hostname and port of the remote third party system.
   
   3. The outgoing port to which the third party system sends
   events if the probe is running as a client and is expecting data
   on a port on the probe host.
   
   4. The incoming port to which the probe listens for incoming
   events. Most, but not all, CORBA probes listen on the port
   specified by the ORBLocalPort property defined in the probe's
   properties file. The default value for this property is 0,
   which means the incoming port number is dynamic. If the probe is
   under firewall protection, the ORBLocalPort property must be
   specified as a fixed port number.
   
   Having determined these ports, the firewall administrator must
   add firewall rules to allow the various connections between the
   probe and the third party system.
   
   
   Running multiple probes in a failover configuration
   ===================================================
   You can run multiple instances of a probe. For each running
   instance, you must specify a different port to which the probe
   listens using the ORBLocalPort property.
   
   If there are two probes running simultaneously (a master probe
   and a slave), each probe has its own ORBLocalPort, so
   receiving port of each probe must be added to the firewall
   rules. The direction of the connection will be from the target
   system to the master/slave probe.
   
   If you are running a master and a slave probe, take note of the
   following property settings:
   
   In the master probe properties file, set the properties as
   follows:
   PeerHost : "master_hostname"
   PeerPort : 5555 # [communication port between master and slave
   probes]
   
   In the slave probe properties file, set the properties as
   follows:
   PeerHost : "slave_hostname"
   PeerPort : 5555 # [communication port between master and slave
   probes]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ74516
   
   
 * REPORTED COMPONENT NAME
   HUAWEI T2000 CO
   
   
 * REPORTED COMPONENT ID
   5724P16HT
   
   
 * REPORTED RELEASE
   100
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-04-13
   
   
 * CLOSED DATE
   2010-06-30
   
   
 * LAST MODIFIED DATE
   2010-06-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS