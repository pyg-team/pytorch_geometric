Title: IBM 0C4 at offset FFFF in DFHFCVR when using H&W SYSB-II - United States

Text:
ABEND0C4 ; 0C4 ; S0C4 ABENDS0C4 IDA019L1 IDA019RA VSAM FFFF FFFFFFFF DFHFCVR DFHFC0001 MSGDFHFC0001 AEKA ABENDAEKA STORAGE FREE FREED FREEMAIN CSA H&W SYSBCICS SYSBII SYSB-II 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 ; 5655S9700 R660 660 R600 600 HCI6600 R670 670 R700 700 HCI6700 5655-S97 5655S97 ; 5655Y0400 R680 680 R800 800 HCI6800 5655-Y04 5655Y04 KIXINFO TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You receive error message DFHFC0001 and an abend 0C4 (abend0C4) at offset X'FFFF' in DFHFCVR. Transaction abend AKEA is also received. You are running CICS Transaction Server for z/OS (CICS TS) and H&W SYSB-II. 

CAUSE
SYSB-II program SYSBCICS sent the request to VSAM. But, none of the storage pointed to by the parmlist was available. This included the key being passed to VSAM which was the cause of the abend 0C4.

According to the vendor H&W: 
This is a file sharing product which allows batch jobs to update files open in CICS. The batch job has a subsystem which allocates CSA to pass the file requests to CICS using cross memory services. A transaction is started in CICS which passes the file information to CICS File Control for the update. 

If the CICS region delays processing a request from the transaction (maxtask, SOS, deadlock) the batch job will timeout causing the batch job to abend and clean up the CSA storage. While the batch job has abended the CICS transactions are active in suspend status. The request from the transaction completes (the delay has cleared up) and the transaction then tries to send data to the batch jobs CSA address. This address is not present so an Abend0C4 is received in File Control. 

This is not a problem as much as it is an inherent program design feature. This particular situation would occur under any level of CICS and is caused not by SYSB-II or CICS but by the amount of time it takes for CICS to respond when under stress.


DIAGNOSING THE PROBLEM
The abend is occurring in IDA019RA +X'26A' PTF level UW72522 failing instruction 44C0A558 that is executing MVC D700E000E000 with a length of X'14'. The RPL indicates the request is a READ. The key passed to VSAM is at 10DB4164. However, this storage is not available and this is the reason for the abend 0C4. According to VSMDATA x'A000' bytes of storage beginning at 10DB3000 have been freed. The caller of VSAM is responsible for providing the value of the key to be read.



RESOLVING THE PROBLEM
If your batch job failed then you should determine the reason why CICS is delaying the processing for the failing transaction. You might need to tune your CICS region so the transactions are not delayed.



RELATED INFORMATION
#H&W SYSB-II [http://www.hwcs.com]




PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server