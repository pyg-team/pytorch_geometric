Title: IBM Applying Solaris patches in Single User Mode - United States

Text:
Client; Patch; Solaris; googlebigfix TECHNOTE (FAQ)

QUESTION
 How can I apply Solaris patches in Single User Mode? 

ANSWER
Sun recommends that some patches, including cluster and kernel patches, be applied with the computer in single user mode. By default, the BigFix Solaris Patch solution just applies Solaris patches in the current run level of the computer. Typically, Solaris computers use run level 3 or multi-user mode. In many cases, Solaris patches can be applied successfully in the current run level and switching to single user mode adds complexity and unnecessary overhead, like restarting the computer, to the patching process. In other cases, you may want or need to use single user mode to successfully apply the Solaris patch.
The procedure below outlines how to modify a Solaris patch Fixlet so that it is applied in single user mode. To accomplish this task, we'll put the Fixlet into a Baseline which first puts the computer into single user mode, then applies a Solaris patch Fixlet and finally reboots the computer to take the computer out of single user mode and update the computer with the patch.

Setup
Perform the follow steps once as a master BigFix Console Operator.


 1. Right-click on the following link and choose 'Save Link As..' to save the .bes file to disk on a system where the BigFix Console is installed: http://support.bigfix.com/bes/sites/SolarisSingleUserModeTasks.bes [http://support.bigfix.com/bes/sites/SolarisSingleUserModeTasks.bes] 
 2. Double-click the .bes file saved in step 1 to import the content into the BigFix Console. Your BigFix 
 3. Console should display an 'Import Content' dialog with two Tasks: "Solaris Reboot" and "Solaris Single-User Mode". These Tasks will be used in creating the Baselines below. 
 4. Click 'OK' and enter your password.


Creating a Baseline to run a Solaris patch in Single User Mode 
Perform the following steps for each Solaris patch Fixlet you would like to apply in single user mode. 
 1. In the BigFix Console, go to Tools > Create New Baseline. 
 2. Provide a logical Name and Description like "Recommended Patch Cluster - Solaris 10 (Singe User Mode)". 
 3. On the Components tab, add the following items to Component Group 1 and ensure they are ordered as listed here:  1. The Task for "Solaris Single-User Mode". 
     2. One or more Solaris Patch Fixlets. 
     3. The Task for "Solaris Reboot". 
    
    
 4. Click 'OK' and provide your BigFix Console password. This Baseline can now be deployed to apply the Solaris patches you specified in Single User Mode. 
 5. 

Warnings  * Application of Solaris Patches in Single User Mode has not been tested by BigFix Inc. or IBM and is not a supported configuration, please perform internal testing of all Solaris Patches created using the solution provided here. 
 * Solaris patching requires manually caching the downloads from Sun before deployment. For more information, please see the following KB article: http://www-01.ibm.com/support/docview.wss?uid=swg21506020 [http://www-01.ibm.com/support/docview.wss?uid=swg21506020] 
 * After running Single User Mode tasks against a Solaris box, there can be an instance where the machine is awaiting root password at the OS level. The Solaris box is already indeed in SUM mode even without entering the password. To further check please see this technote: http://www-01.ibm.com/support/docview.wss?uid=swg21995055 [http://www-01.ibm.com/support/docview.wss?uid=swg21995055]

RELATED INFORMATION
 Solaris: Single-User Mode Task asks for root password a [http://www-01.ibm.com/support/docview.wss?uid=swg21995055]


 

HISTORICAL NUMBER
 418