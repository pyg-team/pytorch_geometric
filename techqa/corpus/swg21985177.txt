Title: IBM In Content Platform Engine (CPE) 5.2.1.3, workflow date fields are showing 2 days back, the same workflow map shows date field values correctly in 5.0 version. - United States

Text:
stored procedure; PE 5.2.1; date field value; dates; sp TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After upgrading to CPE 5.2.1.3 fix pack from Process Engine 5.0, newly created work items with date fields values are showing 2 days back, the same workflow map shows date field values correctly in 5.0 version. 

SYMPTOM
The issue is affected if you use a stored procedure to return a date value to a time data field in a workflow map. The date value returns from the stored procedure back to the workflow map gets reduced by two days. 

For example, 

The stored procedure returns 6/9/2016 1:00 PM at @ddate parameter, the workflow map shows 6/7/2016 1:00 PM on dTimeOut field.


CAUSE
An older Microsoft JDBC 3.0 driver was used. In CPE 5.2.1, Microsoft JDBC 4.0 driver is required. Refer to System requirements: Hardware and software requirements for IBM FileNet P8 Versions 5.0, 5.1, 5.2, and 5.2.1 at http://www-01.ibm.com/support/docview.wss?uid=swg27013654 [http://www-01.ibm.com/support/docview.wss?uid=swg27013654]


ENVIRONMENT
Microsoft SQL Server Enterprise Edition 2008 R2, CPE 5.2.1.3 fix pack



DIAGNOSING THE PROBLEM
Check the CPE ping page by bringing up a browser and by accessing http://<cpe-server name>:<cpe-port #>/FileNet/Engine, and look for the JDBC Driver entry in the screen shot below. 

[/support/docview.wss?uid=swg21985177&aid=1] [/support/docview.wss?uid=swg21985177&aid=1]
It has to at least have JDBC driver version 4.0. If not, upgrade the JDBC driver version to at least 4.0. Note in the url above, make sure to replace the server and port to reflect yours,


RESOLVING THE PROBLEM
Upgrade Microsoft JDBC driver version 4.0 as it is required for CPE 5.2.1.