Title: IBM How to install Oracle 11G r2 client (and patch correctly) onto a Controller application server - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Customer is hosting their Controller database on an Oracle 11G server. How should they install the Oracle 11G client on their application server? 

SYMPTOM
If the Oracle client is installed incorrectly, or the wrong version of the client is installed, then the users will receive many different issues/errors. 

 * See separate IBM Technotes (for example the ones linked at the end of this document) for examples.


CAUSE
There are no known issues if the customer installs the Oracle client components (on the Controller application server) in exactly the way that is described in this Technote. 

However, several issues have been reported by customers who have installed the Oracle 11G client using different media/methods. 
Example - specifically when using 32-bit Controller server versions (Controller 10.1.1 and earlier)
Problems/errors have been reported when customers have used 32-bit Controller server versions (e.g. Controller 10.1.1 and earlier) where their application server's Oracle client has one of the following configurations:  * Oracle 11.2.0.1.0 client (original/RTM release) without Oracle patch 10100100 
 * Oracle 11.2.0.3.0 client (without any Oracle patches) 
 * Non-English versions of Oracle 11.2.0.1.0 client


There are no known issues if the customer installs the following Oracle client components on a Controller 10.1.1 (or earlier) application server:  1. Install the English-language version of the Oracle 11.2.0.1.0 client (32-bit) first (as a 'baseline') 
 2. Then apply Oracle patch 10100100 
 3. Finally, upgrade (patch) Oracle client to later Oracle patchset

 * For example, Oracle patch set 11.2.0.3.0 has been thoroughly tested (by IBM Support) and found to cause no problems. 
 * Later patchsets may also work well, but have not been significantly tested.


NOTE: It is possible that other versions/combinations (of patch level/language) work OK for Controller, but IBM Support recommends that the above version combinations are installed/used since they are known to work correctly with Controller 10.1.1 or earlier. 
RESOLVING THE PROBLEM
The best practice varies depending on which version of Controller you are using: 


Controller 10.2 (or later):
Controller 10.2 (and later) server is mostly a 64-bit server system, but there are a small number of components which are 32-bit. 

 * Therefore you need to install both 32-bit and 64-bit versions of the Oracle client.


IBM Support recommends that you perform the following on the Controller 10.2 (or later) application server: 
1. Download the latest patchset version of the Oracle 11G release 2 (rel2) 64-bit client. At the time of writing: 

 * The latest version is 11.2.0.4 (Oracle patch 13390677) 
 * This is available from here: https://updates.oracle.com/ARULink/PatchDetails/process_form?patch_num=13390677 [https://updates.oracle.com/ARULink/PatchDetails/process_form?patch_num=13390677] 
 * Specifically, you need to select ‘Microsoft Windows x64 (64-bit)’. Then download the file “p13390677_112040_MSWIN-x86-64_4of7.zip”.


NOTE: We have deliberately not chosen to download the original version (11.2.0.1) of the client (which is the file “win64_11gR2_client.zip”) because there are known Oracle bugs in this version. 

 

2. Extract this file (p13390677_112040_MSWIN-x86-64_4of7.zip) onto the Controller application server, and run 'setup.exe' 

3. VITAL: During the client installation wizard, select a full 'Administrator' install option:


[/support/docview.wss?uid=swg21656559&amp;aid=1] 
 * TIP: After the install has finished, check that it has installed all the expected components, by looking at the size of the "C:\app" folder (or wherever you have installed it to). The total size should be approximately 1.05Gb.


4. Now create/edit your TNSNAMES.ORA file. 

 * By default, this is located here: C:\app\Administrator\product\11.2.0\client_1\network\admin 
 * Ensure that it contains entries on how to connect to your Oracle database server(s)


5. Next you need to create a ‘System Variable’ (on your Controller application server) called ‘TNS_ADMIN’ to point to the location of your TNSNAMES.ORA file. 

 * By default, the value would be: C:\app\Administrator\product\11.2.0\client_1\network\admin

[/support/docview.wss?uid=swg21656559&amp;aid=2] 
6. Download the latest patchset version of the Oracle 11G release 2 (rel2) 32-bit client. At the time of writing:  * The latest version is 11.2.0.4 (Oracle patch 13390677) 
 * This is available from here: https://updates.oracle.com/ARULink/PatchDetails/process_form?patch_num=13390677 [https://updates.oracle.com/ARULink/PatchDetails/process_form?patch_num=13390677] 
 * Specifically, you need to select ‘Microsoft Windows (32-bit)’. Then download the file “p13390677_112040_WINNT_3of6.zip”.


NOTE: We have deliberately not chosen to download the original version (11.2.0.1) of the client (which is the file “win32_11gR2_client.zip”) because there are known Oracle bugs in this version. 

 

7. Extract this file (p13390677_112040_WINNT_3of6.zip) onto the Controller application server, and run 'setup.exe' 

VITAL: During the client installation wizard, select a full 'Administrator' install option:


[/support/docview.wss?uid=swg21656559&amp;aid=3] 
 * The author recommends that you install this software to a SEPARATE folder (from the 64-bit client)  * For example, install it into the folder: C:\app_32\Administrator
   
   

8. After the install has finished, check that it has installed all the expected components, by looking at the size of the "C:\app_32" folder (or wherever you have installed it to). The total size should be approximately 1.05Gb.


Controller 10.1.1 (or earlier):
To be 100% sure of no (Oracle-client-related) issues occurring, IBM Support recommends that you perform the following on the Controller 10.1.1 (or earlier) application server: 

 * Install the English-language version of the Oracle 11.2.0.1.0 client (32-bit) first (as a 'baseline') 
 * Apply Oracle patch 10100100 
 * Optional: Upgrade (patch) to Oracle client 11.2.0.3.0 client (if desired) 

Steps: 
1. Download the Oracle 11G release 2 (R2) 32-bit client (11.2.0.1.0)  * This is the file "win32_11gR2_client.zip" 
 * This is also known as "Oracle Database 11g Release 2 Client (11.2.0.1.0) for Microsoft Windows (32-bit)". 
 * At the time of writing, this can be downloaded from here: http://www.oracle.com/technetwork/database/enterprise-edition/downloads/112010-win32soft-098987.html [http://www.oracle.com/technetwork/database/enterprise-edition/downloads/112010-win32soft-098987.html]


2. Extract this file (win32_11gR2_client.zip) onto the Controller application server, and run 'setup.exe' 3. During the client installation wizard, select a full 'administrator' install option 

 * TIP: After the install has finished, check that it has installed all the expected component, by looking at the size of the "app" folder (or wherever you have installed it). The total size should be approximately 1.68Gb.


4. Afterwards, patch the Oracle client afterwards with Oracle patch #10100100 (also known as "11.2.0.1.0 Patch 6 (11.2.0.1.6P) 32-bit")  * For full details of how to do this patching correctly see IBM Technote 1448885.


5. (Optional step). If desired by your I.T. department (it is not required by Controller) install a later Oracle client patch (for example 11.2.0.3.0 client patch).

RELATED INFORMATION
#Technote 1448885 [http://www.ibm.com/support/docview.wss?uid=swg21448885]
1347499 - "Standard Error 5 ... ExcelLinkD.FetchValues [http://www.ibm.com/support/docview.wss?uid=swg21347499]
1656553 - ** Troubleshooting ** Several menu items are [http://www.ibm.com/support/docview.wss?uid=swg21656553]