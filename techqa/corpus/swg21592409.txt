Title: IBM Receive NoClassDefFoundError: com/filenet/wcm/api/User upon starting applets - United States

Text:
com/filenet/wcm/api/User NoClassDefFoundError process configuration Console applet trusted jar workplace appletParameter.properties TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to start any of the FileNet Application Engine applets (Search Designer, Process Designer, Process Configuration Console, Process Administrator) result in an exception being thrown. 

SYMPTOM
The applet does not start and appears to be hung. 

Exception captured in the logs or the Java console shows: 

Exception in thread "thread applet-filenet.vw.apps.admin.VWAdminApplet- 

1" java.lang.NoClassDefFoundError: com/filenet/wcm/api/User 


CAUSE
The JRE version used on the client is at or newer than 1.6.0_19, which introduced checks and warnings for applets that contain signed and unsigned components 


DIAGNOSING THE PROBLEM
Open the Java console and observe the following stack is thrown upon starting an applet 

Exception in thread "thread applet-filenet.vw.apps.admin.VWAdminApplet- 

1" java.lang.NoClassDefFoundError: com/filenet/wcm/api/User 

 at java.lang.Class.forName0(Native Method) 

 at java.lang.Class.forName(Unknown Source) 

 at filenet.vw.idm.toolkit.VWIDMBaseFactory.instance(VWIDMBaseFactory. 

java:223) 

 at filenet.vw.toolkit.utils.VWSessionInfo.<init>(VWSessionInfo.java: 

240) 

 at filenet.vw.toolkit.utils.VWSessionInfo.<init>(VWSessionInfo.java: 

266) 

 at filenet.vw.toolkit.utils.VWBaseAppLauncherApplet.init 

(VWBaseAppLauncherApplet.java:92) 

 at filenet.vw.apps.admin.VWAdminApplet.init(VWAdminApplet.java:54) 

 at sun.plugin2.applet.Plugin2Manager$AppletExecutionRunnable.run 

(Unknown Source) 

 at java.lang.Thread.run(Unknown Source) 

Caused by: java.lang.ClassNotFoundException: com.filenet.wcm.api.User 

 at sun.plugin2.applet.Applet2ClassLoader.findClass(Unknown Source) 

 at sun.plugin2.applet.Plugin2ClassLoader.loadClass0(Unknown Source) 

 at sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source) 

 at sun.plugin2.applet.Plugin2ClassLoader.loadClass(Unknown Source) 

 at java.lang.ClassLoader.loadClass(Unknown Source) 

 ... 9 more 


RESOLVING THE PROBLEM
As the com.filenet.wcm.api.User class belongs to the following jar files : 

- javaapi.jar 

- javaapi-t.jar 

Ensure these files exist in the donwload folder of the deployed Workplace on the server and are properly loaded on the client station (java control panel: general/temporary internet files/view) 

If the above is verified, you can switch off the trusted loading this safe way:



 1. Edit the <AE install>/Workplace/WEB-INF/appletParameter.properties file.
    
    
 2. Comment Out the line#9 of this file
    
    #trusted=pe, pe3pt, javaapi, wcm
    
    
 3. Comment out the line #57 in the same file (located almost at the bottom of file)
    
    #ae/trusted=wcm, pe, pe3pt, javaapi
    
    
 4. Save the file.
    
    
 5. Recreate the war/ear before (re)deploying Workplace onto AppServer.