Title: IBM Filter Analyzer and Filters comparing ObjectServer fields - United States

Text:
netcool; impact; netcool/impact; nci; event; reader; eventreader; omnibus; omnibuseventreader; object; server; objectserver; field; fields; compare; contrast; comparison; use; filter; filters; filtering; analyse; analyze; analyser; analyzer; filteranalyser; filteranalyzer; rule; includes; unsupported; expression; include; including; support; supporting; supported; restriction; ExecutionException; Execution; Exception; consolidate; consolidatefilters; concurrent; expressions; expression TECHNOTE (FAQ)

QUESTION
 The Filter Analyzer reports the error:

"rule includes an unsupported expression"

when comparing two ObjectServer fields against each other and/or a field against GetDate within an EventReader Filter



CAUSE
This is a limitation in the functionality of the Filter Analyzer in Impact and can produce the log file message:
WARN [EventFilter] Could not consolidate filters. Please check if the filter expressions are valid. java.util.concurrent.ExecutionException




ANSWER
In the EventReader properties file: 


$NCHOME/impact/etc/[ImpactServerName]_[EventReaderName].props

where [ImpactServerName] is the name of the ImpactServer (NCI by default) and [EventReaderName] is the lower-case name of the EventReader (for example: omnibuseventreader). Add the property:

impact.[EventReaderName].consolidatefilters=false

where, again, [EventReaderName] is the lower-case name of the EventReader (for example: omnibuseventreader).

Once this property has been added to the file an ImpactServer restart is required to enable it.

In a Clustered environment one would have to stop the Secondary ImpactServer(s) first, then stop and restart the Primary ImpactServer and then restart the Secondary ImpactServer(s) to ensure that the property is not overwritten and is distributed to each ImpactServer in the Cluster.

Please note that this issue relates to the use of the Filter Analyzer and does not impinge upon the EventReader ability to parse the Filter.

If you are unable to see the Filter being applied in the outgoing SQL for the EventReader please read the TechNote "EventReader Filters not applied to SQL select statement" [link below].


RELATED INFORMATION
 EventReader Filters not applied to SQL select statement [http://www-01.ibm.com/support/docview.wss?uid=swg21566480]