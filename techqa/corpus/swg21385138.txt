Title: IBM ITCAM for JBOSS DC uses Web Service listening port at startup - United States

Text:
ITCAMfJ2EE; JBOSS; Data Collector; firewall; CAMJ2ALL; CAMJ2JBDC TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 During the ITCAM for J2EE for JBOSS Data Collector startup, the Managing Server tries to connect to a port outside the 8200-8399 default range (typically to port 8083). Is this expected? 

SYMPTOM
When starting the Data Collector with the JBOSS application server, the Managing Server tries to connect to the JBOSS RMI port 8083. If you have a firewall in between and port 8083 is not opened, the Data Collector will not join the kernel.


RESOLVING THE PROBLEM
Even though the datacollector.properties file contains the default entries: 

 
probe.rmi.port=8200-8299 
probe.controller.rmi.port=8300-8399 

and these ranges of ports are opened in the firewall, it should be checked that the RMI port in jboss-service.xml is actually among the open firewall ports. 

Unlike other J2EE application servers, JBOSS will use WebService MBean service for the RMI Dynamic ClassLoading. The default port 8083 is the WebService listening port number. 
During the Data Collector startup, it will register itself to the Managing Server and download some class files. If a firewall blocks connection to such port, being the port outside the default range 8200-8300, the DC cannot join the kernel.