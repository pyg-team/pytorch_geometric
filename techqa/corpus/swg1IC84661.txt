Title: IBM IC84661: BIP2111E THROWN DURING HA FAILOVER TO A STANDBY INSTANCE - United States

Text:
  A FIX IS AVAILABLE
WebSphere Message Broker V8.0 - Fix Pack 8.0.0.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24034567]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  A BIP2111E error is thrown during a failover of a multi-instance
   broker to a standby instance:
   BIP2111E: Message broker internal error: diagnostic
   information 'ImbConfigStore::obtainHALock () reported 'Server
   name does not match in ImbConfigStore::obtainHALock' with
   values...
   
   This problem can occur if the standby broker instance has been
   started before the active broker instance, and sometime later
   the active instance fails over to the standby instance.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   All users of WebSphere Message Broker V7.0 and higher using
   multi-instance brokers.
   
   
   Platforms affected:
   z/OS, MultiPlatform
   
   ****************************************************************
   PROBLEM SUMMARY:
   This problem can occur if the standby broker instance has been
   started before the active broker instance, and sometime later
   the active instance fails over to the standby instance. The
   standby broker is taking the HA lock too early. It should only
   take the lock when it has successfully connected to the
   multi-instance queue manager, which can only occur when the
   queue manager becomes active.
   
   
    
   
   

PROBLEM CONCLUSION
 *  WebSphere Message Broker has been modified so that a standby
   multi-instance broker does not take the HA lock until it has
   connected to the queue manager.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Platform           v7.0
   --------           --------------------
   Multiplatforms     7.0.0.6
   
   Platform           v8.0
   --------           --------------------
   Multiplatforms     8.0.0.2
   
   The latest available maintenance can be obtained from
   'WebSphere Message Broker Recommended Fixes'
   http://www.ibm.com/support/docview.wss?rs=849&uid=swg27006041 [http://www.ibm.com/support/docview.wss?rs=849&uid=swg27006041]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'WebSphere Message
   Broker Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=849&uid=swg27006308 [http://www-1.ibm.com/support/docview.wss?rs=849&uid=swg27006308]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC84661
   
   
 * REPORTED COMPONENT NAME
   WEB MESSAGE BRO
   
   
 * REPORTED COMPONENT ID
   5724J0510
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-06-15
   
   
 * CLOSED DATE
   2012-12-19
   
   
 * LAST MODIFIED DATE
   2014-02-19
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEB MESSAGE BRO
   
   
 * FIXED COMPONENT ID
   5724J0510
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP