Title: IBM Getting [LDAP error code 17 - Undefined Attribute Type] while adding member to a group - United States

Text:
MU&G; group; group management; member; membership; new member; CWWIM4520E TECHNOTE (TROUBLESHOOTING)

PROBLEM
In the Manage Users and Groups portlet of the IBM WebSphereÂ® Portal Administration UI, when you select a user and try to add this user to a group, it fails and the following error message is recorded in the Portal log: 

Exception caught:
javax.naming.directory.InvalidAttributeIdentifierException: [LDAP: error code 17 - Undefined Attribute Type]; remaining name 'cn=users,dc=mycompany,d=com' 

 What causes this issue and how to resolve it?


SYMPTOM
(See the references section for trace strings to enable.) With traces enabled, the trace.log shows that a JNDI call is made to the LDAP: 


com.ibm.ws.wim.adapter.ldap.LdapConnection JNDI_CALL search(String, String, Object[], SearchControls) ENTRY cn=users,dc=mycompany,d=com (&(objectClass=inetorgperson)(uid=*)) 

which leads to the LDAP error code 17:

javax.naming.directory.InvalidAttributeIdentifierException: [LDAP: error code 17 - Undefined Attribute Type]; remaining name 'cn=users,dc=mycompany,d=com'
...

com.ibm.websphere.wim.exception.WIMSystemException: CWWIM4520E The 'javax.naming.directory.InvalidAttributeIdentifierException: [LDAP: error code 17 - Undefined Attribute Type]; remaining name 'cn=users,dc=mycompany,d=com'; resolved object com.sun.jndi.ldap.LdapCtx@4a224a22' naming exception occurred during processing.


CAUSE
This issue was caused by a typo with the searchBases for the PersonAccount entity in the wimconfig.xml. 

 
<config:ldapEntityTypes name="PersonAccount" searchFilter=""> 
<config:objectClasses>inetOrgPerson</config:objectClasses> <config:searchBases>cn=users,dc=mycompany,d=com</config:searchBases> 
</config:ldapEntityTypes> 


RESOLVING THE PROBLEM
 Correcting the searchbases to "cn=users,dc=mycompany,dc=com" resolved the issue. 

RELATED INFORMATION
 Collecting Data: Portal User Management Architecture (P [http://www-01.ibm.com/support/docview.wss?rs=688&uid=swg21312815]
LDAP Error Codes [http://docs.oracle.com/javase/tutorial/jndi/ldap/exceptions.html]