Title: IBM SolidDB error messages in log when using IBM Content Collector (ICC) in a clustered environment - United States

Text:
ICC 4.0.1; SolidDB; HotStandby; clustered nodes TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Error messages regarding database connection issues appear in the application event log shortly after the server has been restarted. 

SYMPTOM
Error in application log: 

2016-01-16 20:55:27 HotStandby:SOLID Communication Error 21306: Server
'tcpip (SERVER NAME) 3704' not found, connection failed
2016-01-16 20:55:27 Started connecting to HotStandby primary tcpip
(SERVER NAME) 3704
2016-01-16 20:55:27 HotStandby role switched to primary


CAUSE
SolidDB code defect.

ENVIRONMENT
ICC 4.0.1 FP2, two nodes.
FileNet P8 5.2.1.2.
Exchange 2010 SP3.
Outlook 2010 14.0.7012.1000 SP2.

RESOLVING THE PROBLEM
This was resolved in ICC 4.0.1 Fix Pack 2, Interim Fix 1. The fix pack needs to be installed as per the following steps: 




 * Shutdown ICC services on all ICC servers (refer to the note below for correct stop/start order)
   On the "broken" node:
   - Delete all files in:
   C:\ProgramData\IBM\ContentCollector\ConfigurationStore\logs (but do not delete the 'logs' folder) 
 * Move the file:
   C:\ProgramData\IBM\ContentCollector\ConfigurationStore\solid.db into a different folder (desktop for example). 
 * Copy the solid.db file from the primary to the secondary. 
 * Start up the services on the primary. Make sure that the data can be accessed using configMgr. 
 * Start up services on all ICC servers. 
 * Verify that the ICC cluster works properly.
   
   Correct stop/start order for ICC services:
   Stop services: 
 * Task Route Service. 
 * Web Application. 
 * Configuration Store - this will automatically stop Configuration Store Manager and Configuration access.
   Start services: 
   
   
 * Configuration Access - this will automatically start Configuration Store and Configuration Store Manager. 
 * Wait for the 3 services above to be in Running state. 
 * Web Application. 
 * Task Route Service.