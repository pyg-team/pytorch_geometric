Title: IBM Correct understanding of CSV version of PVU reports - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 What files are in the audit snapshot generated by IBM License Metric Tool or IBM BigFix Inventory version 9.x, and what is the correct interpretation of the values in the CSV report files? 

CAUSE
The licensing reports in CSV format can be misinterpreted by some customers.

ANSWER
Audit snapshot is a record of PVU and RVU MAPC utilization in your enterprise over a period of time. It contains the following files: 

 * audit_trail.csv – all user actions that influence the final results of the licensing reports, for example, software classification actions, uploads and imports of the PVU table, software catalog, and charge units as well as changes to the VM managers. 
 * data_conditions.txt – conditions that were used during the generation of the audit snapshot, including the reporting period and filters applied on the reports as well as general information about the time when the snapshot was generated, version of the PVU table and software catalog, status of the import, aggregation, and recalculation. 
 * part_numbers.csv - part numbers that are listed in the software catalog for all software products that are included in any of the CSV report files. 
 * pvu_full_capacity.csv - PVU full capacity license metric results 
 * pvu_sub_capacity.csv - PVU subcapacity license metric results 
 * rvu_full_capacity.csv - RVU full capacity license metric results 
 * rvu_sub_capacity.csv - RVU subcapacity license metric results 
 * bundling_definitions.csv - list of IBM software regardless of its license type and utilization together with details of the computers on which the software is installed 
 * readme.txt - a link to this document (technote) 
 * checksums.txt, signature.rsa, and pub_key.pem - files used by IBM auditors to verify the authenticity and correctness of the audit snapshot.



Why some product instances are not listed in the CSV reports? 

CSV reports with information about PVU and RVU MAPC utilization (pvu_full_capacity.csv, pvu_sub_capacity.csv, rvu_full_capacity.csv, and rvu_sub_capacity.csv) list only software instances that were discovered during the license peak value time. If an instance was installed in your environment during the reporting period of the current audit snapshot but was not discovered during the license peak value time, the instance is not listed in the CSV reports. 

Example: 
Three instances of DB2 are installed. The reporting period is set to one month and DB2 license utilization is as follows: 
· Instance 1 uses the maximum of 100 PVUs, 
· Instance 2 uses the maximum of 300 PVUs, 
· Instance 3 uses the maximum of 500 PVUs. 

The license peak value occurs when the sum of PVU values for all instances is the highest and equals 800 PVUs (300 PVUs for instance 2 + 500 PVUs for instance 3). The peak occurs during the period that is marked with a red square (it is the license peak value time). The peak usage for instance 1 is outside of the red square. It means that this instance was installed in the environment during the current reporting period but was not discovered during the license peak value time. This instance is not listed in the CSV report. 

[/support/docview.wss?uid=swg21688543&aid=1] [/support/docview.wss?uid=swg21688543&aid=1]  


Why some values from the CSV report do not relate back to what is displayed on the user interface? 

When all values from column M (Physical Server PVU Subcapacity) for a particular product are added, the obtained value is greater that the value that is displayed in the user interface. It happens due to the way that data is presented in CSV reports and on the user interface. 

The All IBM Metrics and IBM PVU subcapacity reports are multilevel, and consist of the following levels:
1. First level: a list of all products
[/support/docview.wss?uid=swg21688543&aid=2] [/support/docview.wss?uid=swg21688543&aid=2] 


2. Second level: when you click a product name, you go to information about the physical server on which the product is installed.
[/support/docview.wss?uid=swg21688543&aid=3] [/support/docview.wss?uid=swg21688543&aid=3] 

 

3. Third level: when you click the server name, you go to a list of virtual machines that run on this server and have the product installed. 
[/support/docview.wss?uid=swg21688543&aid=4] [/support/docview.wss?uid=swg21688543&aid=4] 


The audit snapshot is not multilevel. However, it has to present the same information that the report that is available in the user interface. Below is an excerpt from the audit snapshot that corresponds to the report that was presented on the screen shots above (some columns are hidden in the snapshot to simplify it).

[/support/docview.wss?uid=swg21688543&aid=5] [/support/docview.wss?uid=swg21688543&aid=5] 

 

When values in column M are added, PVU consumption equals 480 PVUs. However, these values should not be added because they all refer to a single server (TLM_VM_423…) on which the four VMs run, not an individual VM that is listed in column P (Computer). 

The value in column M is repeated due to the way data needs to be presented in a CSV file. If you want to relate back the value from column M in the audit snapshot to the user interface report, it is the value that you can see in the column PVU Subcapacity Limit on the second level of the report. The value in column L relates back to the column CPU Core Subcapacity on the second level of the report. 

 
[/support/docview.wss?uid=swg21688543&aid=6] [/support/docview.wss?uid=swg21688543&aid=6] 


PVU and RVU MAPC subcapacity license terms specify license consumption only on the physical server level. PVU and RVU MAPC values cannot be calculated and presented on the virtual machine or LPAR level, and such data is not provided by License Metric Tool or BigFix Inventory. For more information about virtualization capacity license counting rules that are used for PVU and RVU MAPC calculation, see: 
http://www-01.ibm.com/software/passportadvantage/Counting_Software_licenses_using_specific_virtualization_technologies.html [http://www-01.ibm.com/software/passportadvantage/Counting_Software_licenses_using_specific_virtualization_technologies.html]

RELATED INFORMATION
 Understanding CSV files with metric utilization [https://www.ibm.com/support/knowledgecenter/en/SS8JFY_9.2.0/com.ibm.lmt.doc/Inventory/softinv/c_understanding_csv.html]





Cross reference information Segment Product Component Platform Version Edition Security IBM BigFix Inventory