Title: IBM IO23372: CUSTOMER IS FINDING THAT THE 'ANNOTATIONAUTOSAVE' PARAMETER IS NOT WORKING FOR THEIR USERS. - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  ERROR DESCRIPTION:
   Description: Customer is finding that the
   'annotationAutoSave' parameter is not working for their users.
   
   They have set the annotationAutoSave function in the ICN Daeja
   settings for the Pro viewer.
   
   steps:
   1. The user makes an annotation on a document
   2. The user expects that their annotation has been
   ?AutoSaved? and clicks to close a document by the top
   right X of the window.
   3. User is given this pop-up message:
   
   'Are you sure you want to leave this page?'
   
   Note: IBM L2 could not reproduce this in testing.
   
    "If you click to leave the page, and then re-open the
   document, the annotation has not been saved.  If you click to
   stay on the page, you
   actually have to save manually to get your changes saved"
   
   The annotation was saved every time.
   
   If yes, then provide the link to each of the files on EcuRep
   and a description each of the files and what each one contain.
   
   Customers screenshots:
   https://ecurep.mainz.de.ibm.com/rest/download/41665,082,000/ [https://ecurep.mainz.de.ibm.com/rest/download/41665,082,000/]
   2015-05-12/41665.082.000.AutoSave_Not_Working.docx
   
   How long has the problem been occurring (describe any recent
   changes)? Customer noticed this since using
   
    Is there a workaround? Yes.  Click on the save icon for
   saving the annotation before closing the viewer browser window.
   
   What is the impact to the customer/system? "this is really
   frustrating for our users and they are very unhappy with
   this among other things.  They loose annotations often."
   
   
   Can the problem be replicated on an internal system? yes to
   a point.
   
   Has the reproduction been attempted on the most recent
   available release? Result?  yes. Got the information message
   and explained to the customer why this happens.
   
   
   
   "The user expects that their annotation has been
   ?AutoSaved? and clicks to close a document"
   
   Annotations are not auto-saved at the point the user adds them
   - as per the documentation here:  "The parameter applies when
   the viewer is closed by a web page change, or when the document
   is closed by an open or close action. "
   
   So auto-save does not occur until closure.
   
   
   Customers response:
   "Why not save the annotations immediately after there is any
   change to them though? It seems like an intelligent save
   feature like that would remedy the issue, and there would be no
   issue when the user goes to hit the ?X?."
   
   
   Steps to Reproduce:
   1.Using Content Navigator Admin desktop to apply the parameter
   'annotationAutoSave' for Daeja viewer pro.
   2.Refresh Navigator desktop.
   3. Open an image file.
   4. Create an annotation.
   5. Click the X in the top right corner of the viewer browser
   window to close the browser window.
   
   LOCAL FIX:
   Update the Daeja viewer within Content Navigator to resolve the
   issue with autosave function for annotations.
   
   This leaves the issue of:
   
   annotationAutoSave=true automatically saves annotations when
   the viewer is shut down. Note that there was a bug in 4.1.2
   that prevented this from working but 4.1.3 has corrected the
   behavior.
   
   If you ask the viewer if it has unsaved changes, and there are
   unsaved changes then it will always report that there are some
   irrespective of the value of "annotationAutoSave"
   
   Whilst we were looking at this, it seems that ICN is calling
   directly the applet lifecycle "destroy()" method explicitly.
   I'm not sure we should be calling this directly from within
   JavaScript because it will end up being called again by the
   plugin and the viewer does not expect for that method to be
   called by anything other than the plugin code.
   
   Configuration:  ICN 2.0.3
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  resolved in 203 FP4
   
   
    
   
   

PROBLEM CONCLUSION
 *  fixed
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IO23372
   
   
 * REPORTED COMPONENT NAME
   CONTENT NAVIGAT
   
   
 * REPORTED COMPONENT ID
   ISCONTNAV
   
   
 * REPORTED RELEASE
   203
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-06-02
   
   
 * CLOSED DATE
   2016-01-16
   
   
 * LAST MODIFIED DATE
   2016-01-16
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CONTENT NAVIGAT
   
   
 * FIXED COMPONENT ID
   ISCONTNAV
   
   

APPLICABLE COMPONENT LEVELS
 * R203 PSY
   UP