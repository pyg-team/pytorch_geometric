Title: IBM Entries in components.xml missing after upgrade from TIP2.1 to TIP2.2 - United States

Text:
components; xml; upgrade; high availability; ha TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When Tivoli Integrated Portal (TIP) is upgraded from version 2.1 to version 2.2, some entries go missing in components.xml. As a result, when this TIP environment tries to join a HA cluster (to another TIP) which has those entries, the join fails. 

ENVIRONMENT
TIP version 2.2

RESOLVING THE PROBLEM
A Java binary has been provided (refer attachment) to add the missing entries. This JAVA binary must be run using the Java inside the TIP installation using command "java -jar PTR36932.jar" (without double quotes) 

This has been tested on both Windows and Linux platforms. 

An example of the output is shown below -- It will check the components.xml file to see if the fix has already been applied, and will error out in that case. 


On Windows 

C:\work>c:\ibm\tivoli\tipv2\java\bin\java -jar PTR36932.jar
java.home: c:\ibm\tivoli\tipv2\java\jre
TIP HOME: c:\ibm\tivoli\tipv2
TIP PROFILE: c:\ibm\tivoli\tipv2\profiles\TIPProfile
components.xml: c:\ibm\tivoli\tipv2\profiles\TIPProfile\config\cells\TIPCell\app
lications\isc.ear\deployments\isc\isclite.war\WEB-INF\components.xml
Copying components.xml to components.xml.backup...
File has copied successfully...
End marker found...

components.xml has been successfully patched. 


On Linux [root@tiptest-rhel5-01 work]# /opt/IBM/tivoli/tipv2/java/bin/java -jar PTR36932.jar
java.home: /opt/IBM/tivoli/tipv2/java/jre
TIP HOME: /opt/IBM/tivoli/tipv2
TIP PROFILE: /opt/IBM/tivoli/tipv2/profiles/TIPProfile
components.xml: /opt/IBM/tivoli/tipv2/profiles/TIPProfile/config/cells/TIPCell/applications/isc.ear/deployments/isc/isclite.war/WEB-INF/components.xml
Copying components.xml to components.xml.backup...
File has copied successfully...
End marker found...

components.xml has been successfully patched. 

In case you need further assistance, please engage IBM Support. [/support/docview.wss?uid=swg21649391&aid=2]PTR36932.jar [/support/docview.wss?uid=swg21649391&aid=1]

PRODUCT ALIAS/SYNONYM
 TIP