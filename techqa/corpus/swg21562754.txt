Title: IBM How to Capture reason code and reason text during substitution - United States

Text:
STERLINGHTG TECHNOTE (FAQ)

QUESTION
 How to Capture reason code and reason text during substitution 

ANSWER


During substitution process, is there a way to capture reason code and reason text Out of the box or custom way?

Currently, application does not audit the change in order line when ever it is substituted with different Item.

You can achieve the same though customization.

Here is the explanation: 

When an Order Line (Item on the Order Line) is substituted, YFS_ORDER_LINE_SCHEDULE table will be updated 
The updated columns are 'OVERRIDE_ITEM_ID' and 'OVERRIDE_UOM' for the Order Line Key 

This columns will be updated only for those line which are substituted by ScheduleOrder agent 

Now, you can call getOrderLineList API, ON_SUCCESS of ScheduleOrder, 
In the Output template of getOrderlist API, you can capture the attributes, 'OverrideItemId', 'ItemId','OrderLineKey' 

Now, extend the YFS_ORDER_LINE table to have one extra column (Extn_Substitution) 
Call changeOrder to copy the value of 'OverrideItemId' from YFS_ORDER_LINE_SCHEDULE to this extended column of YFS_ORDER_LINE 

Out of the box, application provides a feature where, whenever change happens to YFS_ORDER_LINE for an attribute, it should be audited 
This can be configured at DOM -> Document Specific -> SalesOrder ->Fulfillment -> Order Modification ->OrderModificationTypes. These types can be Order,Line and release 

When you select OrderLine, on the LHS, system will list you the Available "XML Attribute Names" 
You can now subscribe "Extn_Substitution", so that, whenever there is change in this attribute, it will be audited 




HISTORICAL NUMBER
 HTG2527