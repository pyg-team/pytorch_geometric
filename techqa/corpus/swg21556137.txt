Title: IBM Too many open files reported on the Perimeter Server - United States

Text:
STERLINGNFX TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Too many open files reported on the Perimeter Server 

SYMPTOM


Seeing many many entries in lsof output for open network sockets "can't identify protocol" associated with the GIS perimeter server PID. No corresponding entry exists in /proc/net, but GIS PS is still holding onto the file descriptor. Running netstat, however, is not indicating the usage of the network ports.

Error Message PSLogger.txt on the Perimeter Server reports the following error:

[2008-12-08 08:05:31.555] ERROR <Dispatcher> Exception caught trying to start a normal connection
java.net.SocketException: Too many open files
at sun.nio.ch.Net.socket0(Native Method)
at sun.nio.ch.Net.serverSocket(Net.java(Inlined Compiled Code))
at sun.nio.ch.ServerSocketChannelImpl.<init>(ServerSocketChannelImpl.java(Inlined Compiled Code))
at sun.nio.ch.SelectorProviderImpl.openServerSocketChannel(SelectorProviderImpl.jav a(Compiled Code))
at com.sterlingcommerce.perimeter.net.nio.ServerSocketChannelWrapper.open(ServerSoc ketChannelWrapper.java(Inlined Compiled Code))
at com.sterlingcommerce.perimeter.util.nio.Java14Factory.createServerSocketChannel( Java14Factory.java(Compiled Code))
at com.sterlingcommerce.perimeter.physical.ServerBase.startConnect(ServerBase.java( Compiled Code))
at com.sterlingcommerce.perimeter.physical.PortCollectionElement.startConnect(PortC ollectionElement.java(Compiled Code))
at com.sterlingcommerce.perimeter.physical.StackElement.startConnect(StackElement.j ava(Compiled Code))
at com.sterlingcommerce.perimeter.physical.ConnectionStack.startConnection(Connecti onStack.java(Inlined Compiled Code))
at com.sterlingcommerce.perimeter.physical.Server.startConnection(Server.java(Compi led Code))
at com.sterlingcommerce.perimeter.external.connection.BindServer.doBind(BindServer. java(Compiled Code))
at com.sterlingcommerce.perimeter.external.connection.BindServer.received(BindServe r.java(Compiled Code))
at com.sterlingcommerce.perimeter.muxrat.relay.Relay.handleReceivedMessage(Relay.ja va(Compiled Code))
at com.sterlingcommerce.perimeter.muxrat.relay.Relay.received(Relay.java(Compiled Code))
at com.sterlingcommerce.perimeter.dispatcher.DataIPAgent$1.run(DataIPAgent.java(Com piled Code))
at com.sterlingcommerce.perimeter.api.gmm.Request.startRun(Request.java(Compiled Code))
at com.sterlingcommerce.perimeter.api.gmm.Request.execute(Request.java(Inlined Compiled Code))
at com.sterlingcommerce.perimeter.api.gmm.MemoryManager.request(MemoryManager.java( Compiled Code))
at com.sterlingcommerce.perimeter.dispatcher.DataIPAgent.doRead(DataIPAgent.java(Co mpiled Code))
at com.sterlingcommerce.perimeter.dispatcher.AbstractIPAgent.selected(AbstractIPAge nt.java(Compiled Code))
at com.sterlingcommerce.perimeter.dispatcher.nio.NioDispatcher.runIo(NioDispatcher. java(Compiled Code))
at com.sterlingcommerce.perimeter.dispatcher.AbstractDispatcher.callRunIo(AbstractD ispatcher.java(Compiled Code))
at com.sterlingcommerce.perimeter.dispatcher.AbstractDispatcher.doRun(AbstractDispa tcher.java(Compiled Code))
at com.sterlingcommerce.perimeter.dispatcher.AbstractDispatcher$2.run(AbstractDispa tcher.java:182)
at java.lang.Thread.run(Thread.java:567)


RESOLVING THE PROBLEM


Please apply Gentran Integration Suite 4.3 build 4316 or later.

Please apply Sterling Integrator, Release 5.0 Build 5001 or later.

 

HISTORICAL NUMBER
 NFX4764 

PRODUCT ALIAS/SYNONYM
 

Function Area


Perimeter Services


Escalation ID


1371877


Fix ID


171762
178178


Severity


Normal


Type


NormalFix


Build


4316
5001