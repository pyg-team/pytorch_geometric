Title: IBM "initial and forwarded IOR inaccessible" during TEPS' JVM Service startup - United States

Text:
corba inter-object 15001 instantiating TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 An error occurs during the JVM Service startup regarding the instantiation of a CORBA ORB on the TEPS when either starting, reconfiguring, running buildPresentation, or running migrate-export. 

CAUSE
Something is misconfigured with hostname resolution such that the startup of the JVM Service, which needs to instantiate a CORBA ORB, eventually fails after a standard system timeout of 300 seconds. The IOR session is unable to be established due to an incorrect hostname, IP address or routing table configuration.

DIAGNOSING THE PROBLEM
The InstallPresentation.sh script will hang on the CLI for the 2nd and 3rd of the above activities. For the other two the action will result in a return code of 1 on the CLI. The following is seen in the TEPS RAS1 log: 

(4A662A96.0001-1F8:ctjvmpublisherevaluator_i.cpp,530,"writeRas1Trace") main:CTJVMController,0,"CTJVMController.com.ibm.TEPS.CTJVMDeployment.CTJVMController.initialize(String args[])") Instantiating ORB.
(4A662A96.0002-1F8:ctjvmpublisherevaluator_i.cpp,729,"JVMThread::run") Exiting JVM
(4A662A96.0003-1F8:ctjvmpublisherevaluator_i.cpp,530,"writeRas1Trace") Exception: failed to resolve CTQuery::Manager
(4A662A96.0004-1F8:ctjvmpublisherevaluator_i.cpp,530,"writeRas1Trace") initial and forwarded IOR inaccessible
(4A662A96.0005-1F8:ctjvmpublisherevaluator_i.cpp,530,"writeRas1Trace") org.omg.CORBA.INTERNAL: initial and forwarded IOR inaccessible vmcid: IBM minor code: 58C completed: No



RESOLVING THE PROBLEM
Verify that the /etc/hosts file has only one line containing the short name of the TEPS host machine. Having dual NICs, each resolving to the same short name of the TEPS machine, is not a proper configuration and results in this problem. Also ensure via an "nslookup <short_name>" that DNS resolution finds the expected NIC that the TEPS should be binding to. If those check out, it could be that the internal routing table is mis-configured, so run "netstat -rn" and ensure that for local loopback is configured properly such that an entry exists as follows where "X.X.X.X" is the desired TEPS NIC: 

 

X.X.X.X 127.0.0.1 

 

If all of that seems to check out, try binding the TEPS to listen on the desired interface by adding "KDEB_INTERFACELIST=x.x.x.x" to the CH/config/cq.ini file.