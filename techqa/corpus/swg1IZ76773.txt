Title: IBM IZ76773: ODBC GATEWAY FAILS TO CONNECT TO DB2. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  Error generated:
   
   Error: E-UNK-000-000: Db: Failed to describe table 'STATUS',
   does it exist?
   Error: E-UNK-000-000: Thread 'StatusTableInsProcThread': Failed
   to build table description
   Error: E-ETC-004-008: THREAD MGR: thread
   StatusTableInsProcThread (0xa0a2530) *EXIT*: Object not found
   
   
    
   
   

LOCAL FIX
 *  Ensure that
   
   QueryBlockSize=8
   
   is commented out or omitted from the odbc.ini file
   
   Problem Description from DataDirect Website:-
   
   
   With the Connect for ODBC DB2 WP driver version 5.3, the above
   error
   is received when setting the old connection property attribute
   "QueryBlockSize" (used in versions < 5.0) in the data source and
   selecting from a table.
   .
   For more details,
   http://knowledgebase.datadirect.com/Connect-for-ODBC/article-428
   8-p-4.html [http://knowledgebase.datadirect.com/Connect-for-ODBC/article-4288-p-4.html]
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Users of the Gateway for ODBC Gateway on Linux operating
   systems.
   ****************************************************************
   PROBLEM DESCRIPTION:
   The gateway is reporting an error when when setting the property
   attribute "QueryBlockSize" in the data source and selecting
   from a table.
   The following error is recieved:
   Error: E-UNK-000-000: Db: Failed to describe table 'STATUS',
   
   does it exist?
   Error: E-UNK-000-000: Thread 'StatusTableInsProcThread': Failed
   to build table description
   Error: E-ETC-004-008: THREAD MGR: thread
   StatusTableInsProcThread (0xa0a2530) *EXIT*: Object not found
   ****************************************************************
   RECOMMENDATION:
   The product documentation will be updated with the next release
   of the probe/gateway.
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  To update the guide make the following changes.
   1. In the "ODBC initialization on UNIX" section of the guide,
   add the following:
   Note: On Linux operating systems using a DB2 Database, remove
   'QueryBlockSize=8' from the odbc.ini
   file or comment out the statement by typing a hash (#) before
   the statement.
   
   2. In the 'Example ODBC.ini file' section replace the example
   ODBC.ini file with the following:
   
   [ODBC Data Sources]
   DB2=DataDirect 5.3 DB2 Wire Protocol Driver
   INFORMIX=DataDirect 5.3 Informix
   MSSQL=DataDirect 5.3 SQL Server Wire Protocol
   SYBASE=DataDirect 5.3 Sybase Wire Protocol
   MySQL=DataDirect 5.3 MySQL Wire Protocol
   
   [DB2]
   Driver=/home/omni_user/netcool/omnibus-v7.3.1-linux2x86/omnibus/
   platform/linux2x86/lib/BMdb223.so
   Description=DB2
   LogonID=
   Password=
   DB2AppCodePage=1208
   ServerCharSet=1252
   IpAddress=9.127.183.88
   #IpAddress=9.127.183.69
   #IpAddress=9.127.183.21
   #IpAddress=9.127.179.175
   Database=REPORTER
   TcpPort=50000
   Package=package
   Action=REPLACE
   #QueryBlockSize=8
   CharSubTypeType=SYSTEM_DEFAULT
   ConversationType=SINGLE_BYTE
   CloseConversation=DEALLOC
   UserBufferSize=32
   MaximumClients=35
   GrantExecute=1
   GrantAuthid=PUBLIC
   OEMANSI=1
   DecimalDelimiter=PERIOD
   DecimalPrecision=15
   StringDelimiter=SINGLE_QUOTE
   IsolationLevel=CURSOR_STABILITY
   ResourceRelease=DEALLOCATION
   DynamicSections=32
   WithHold=0
   Trace=0
   AuthenticationMethod=0
   
   
   [INFORMIX]
   Driver=$OMNIHOME/platform/linux2x86/lib/BMinf18.so
   Description=DataDirect 5.3 Informix
   Database=dbname
   LogonID=uid
   Password=pwd
   ServerName=servername
   HostName=hostname
   Service=online
   Protocol=onsoctcp
   EnableInsertCursors=0
   GetDBListFromInformix=0
   CursorBehavior=0
   CancelDetectInterval=0
   TrimBlankFromIndexName=1
   ApplicationUsingThreads=1
   
   
   [MSSQL]
   Driver=$OMNIHOME/platform/linux2x86/lib/BMmsss18.so
   Description=DataDirect 5.3 SQL Server Wire Protocol
   Database=dbname
   LogonID=uid
   Password=pwd
   Address=host,port
   QuotedId=No
   AnsiNPW=No
   
   [SYBASE]
   Driver=$OMNIHOME/platform/linux2x86/lib/BMase18.so
   Description=DataDirect 5.3 Sybase Wire Protocol
   Database=dbname
   LogonID=uid
   Password=pwd
   NetworkAddress=host,port
   EnableDescribeParam=1
   EnableQuotedIdentifiers=0
   OptimizePrepare=1
   RaiseErrorPositionBehavior=0
   SelectMethod=0
   ApplicationUsingThreads=1
   
   [MySQL]
   Driver=$OMNIHOME/platform/linux2x86/lib/BMmysql23.so
   Description=DataDirect 5.3 MySQL Wire Protocol
   AlternateServers=
   ApplicationUsingThreads=1
   ConnectionRetryCount=0
   ConnectionRetryDelay=3
   Database=<database_name>
   DefaultLongDataBuffLen=1024
   EnableDescribeParam=0
   HostName=<MySQL_host>
   InteractiveClient=0
   LicenseNotice=You must purchase commercially licensed MySQL
   database software or a MySQL Enterprise subscription in order to
   use the DataDirect Connect for ODBC for MySQL Enterprise driver
   with MySQL software.
   LoadBalancing=0
   LogonID=
   Password=
   PortNumber=<MySQL_server_port>
   ReportCodepageConversionErrors=0
   TreatBinaryAsChar=0
   
   
   [ODBC]
   Trace=0
   TraceFile=odbctrace.out
   TraceDll=/home/omni_user/netcool/omnibus-v7.3.1-linux2x86/omnibu
   s/platform/linux2x86/lib/odbctrac.so
   #InstallDir=/home/omni_user/netcool/omnibus-v7.3.1-linux2x86/omn
   ibus/platform/linux2x86/lib
   InstallDir=/home/omni_user/netcool/omnibus-v7.3.1-linux2x86/omni
   bus/platform/linux2x86
   UseCursorLib=0
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ76773
   
   
 * REPORTED COMPONENT NAME
   ODBC (MYSQL) GA
   
   
 * REPORTED COMPONENT ID
   5724O71SQ
   
   
 * REPORTED RELEASE
   100
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-06-03
   
   
 * CLOSED DATE
   2010-06-29
   
   
 * LAST MODIFIED DATE
   2010-06-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

Publications Referenced SC23957200 FIX INFORMATION

APPLICABLE COMPONENT LEVELS