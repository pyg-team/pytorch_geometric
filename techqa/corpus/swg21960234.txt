Title: IBM New certificate used by the IBM DataPower Gateways Web Management Service gives untrusted certificate warnings - United States

Text:
720change; security; untrusted certificate; untrusted connection; does not match TECHNOTE (FAQ)

QUESTION
 Why do strict SSL clients fail the SSL handshake and other clients get untrusted certificate messages when they connect to the Web Management Service (WebGUI) on a DataPower appliance that is running release 7.2? 

CAUSE
By default, the DataPower appliance uses a self-signed certificate with the WebGUI. DataPower release 7.2 replaces this default WebGUI SSL certificate with a new self-signed certificate. The certificate is not signed by a well-known Certificate authority (CA). The signer is not included in the list of trusted third parties with internet browsers, and therefore the connection is flagged as "Untrusted".
If the appliance uses the default self-signed certificate for the Web Management Service, your browser gets an untrusted certificate message when you first connect to the WebGUI. The messages differ by browser, but you might get any of the following or other similar messages:


 *  This connection is untrusted. This site's identity can't be verified. The certificate is not trusted because the issuer certificate is unknown. The certificate is not trusted because it hasn't been verified as issued by a trusted authority using a secure signature. Your connection is not private. Attackers might be trying to steal your information. This server could not prove that it is <IP address>. Its security certificate is not trusted by your computer's operating system. The identity of this website has not been verified. Server's certificate does not match the URL. Server's certificate is not trusted. 

ANSWER
When you upgrade the DataPower appliance to release 7.2, there is a new self-signed SSL certificate for the Web Management Service. If you use this default WebGUI SSL certificate, browsers need to accept this new, untrusted certificate before connecting. 


The best practice is to replace the DataPower self-signed certificate with a certificate that is signed by your own organization or is signed by a certificate authority. Then, you avoid the errors on future upgrades when an appliance release changes the WebGUI certificate. 

To replace the certificate from the WebGUI: 


 1. Navigate to Control Panel > Network > Management > Web Management Service 
 2. Switch to the Advanced tab. 
 3. Select or create one of the Custom SSL server types with the corresponding certificate for the Web Management Service:  * Use a Server Profile with the Custom SSL server profile 
     * Use a Server SNI Profile with the Custom SSL SNI server profile 
     * Use a reverse or two-way Proxy Profile (deprecated) with the Custom SSL proxy profile (deprecated)
    
    


Note: If you use an SSL Proxy Profile, which is deprecated, you must use one that is defined with the SSL direction as reverse or two-way. The SSL Proxy Profile applied to the Web Management Service acts as an SSL server in the SSL communication. A profile that is defined with the forward SSL Direction, such as the included system-wsgw-management-loopback SSL Proxy Profile, acts as an SSL client. A forward or client SSL Proxy Profile causes an Error 500: Internal Error when it is applied to the Web Management Service. RELATED INFORMATION
 Changing security and connection settings [http://www.ibm.com/support/knowledgecenter/SS9H2Y_7.2.0/com.ibm.dp.doc/networkaccess_webgui_changingsecurityconnectionsettings.html]