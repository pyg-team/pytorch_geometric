Title: IBM JR36012: ODBC CONNECTOR FAILS WITH CONVERSION FAILED MESSAGE TRYING TO   INSERT INTO DATETIME2 FIELDS USING DD6.0 DRIVERS - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The ODBC Connector write job fails with the following error
   message when trying to insert into datetime2 fields using the
   DD6.0 driver set.
   
   Copy_of_ODBC_Connector_1,0: [IIS-CONN-ODBC-000016] Execute
   failed on statement INSERT INTO testdatetime2(Column1) VALUES(?)
   Message: Copy_of_ODBC_Connector_1,0: [IIS-CONN-ODBC-000004] ODBC
   function "SQLExecute" reported: SQLSTATE = 36: Native Error Code
   = 241: Msg = [IBM(DataDirect OEM)][ODBC 20101 driver][Microsoft
   SQL Server]Conversion failed when converting date and/or time
   from character string. (CC_OdbcDBStatement::executeInsert, file
   CC_OdbcDBStatement.cpp, line 577)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Users using Datadirect 6.0 drivers with ODBC Common Connector
   and has datetime/datetime2 fields in the schema
   ****************************************************************
   PROBLEM DESCRIPTION:
   ODBC Connector failing with conversion errors when working with
   datetime related
   datatypes in SQL Server.
   
   Datadirect has released new version of Drivers (6.0) to support
   SQL Server 2008.
   While using the new datadirect drivers, we have observed that
   the ODBC Connector is failing
   when the schema has datetime/datetime2 datatypes.
   
   Exact error reported by the customer is :
      Message: Copy_of_ODBC_Connector_1,0: [IIS-CONN-ODBC-000004]
   ODBC function "SQLExecute" reported:
   SQLSTATE = 36: Native Error Code = 241: Msg = [IBM(DataDirect
   OEM)][ODBC 20101 driver]
   [Microsoft SQL Server]Conversion failed when converting date
   and/or time from character string.
   (CC_OdbcDBStatement::executeInsert, file
   CC_OdbcDBStatement.cpp, line 577)
   
   In the ODBC Connector, timestamp related datatypes are bound as
   string when working with the SQL Server.
   This was working fine with the earlier versions of Datadirect
   drivers. Somehow, with the DD 6.0 drivers the same code is
   failing and we have opened a defect with Datadirect.
   
   ****************************************************************
   RECOMMENDATION:
   Install the APAR.
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  In this task, we are modifying the bindings for the
   date/timestamp datatypes to full timestamp binding for SQL
   Sever.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR36012
   
   
 * REPORTED COMPONENT NAME
   INFO SRVR PLATF
   
   
 * REPORTED COMPONENT ID
   5724Q3612
   
   
 * REPORTED RELEASE
   810
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-03-23
   
   
 * CLOSED DATE
   2010-06-03
   
   
 * LAST MODIFIED DATE
   2010-06-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  ODBC
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   INFO SRVR PLATF
   
   
 * FIXED COMPONENT ID
   5724Q3612
   
   

APPLICABLE COMPONENT LEVELS
 * R810 PSY
   UP