Title: IBM How to resolve XML errors when using Data Web Services to create Web services for WebSphere Application Server (WAS) v6.x - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you are using Data Web Services to build a WebSphere Application Server (WAS) v6.x Web service, the Problems view might list several error messages. These messages have to do with XML fields or files. 

SYMPTOM
These are the error messages that you might see: 

 *  cvc-id.3: A field of identity constraint 'port-component-name-key' matched element 'webservice-description', but this element does not have a simple type. cvc-id.3: A field of identity constraint 'webservice-description-name-key' matched element 'webservices', but this element does not have a simple type. Referenced file contains errors (http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd]). Referenced file contains errors (http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd]). 


CAUSE
Data Web Services could not find the files http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd] and http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd] on the local system. Also, the files are not registered with the IBM Data Studio XML Catalog.

RESOLVING THE PROBLEM
First, follow these steps to download and register the needed XSD files: 

 1.  Download the following files and save them in one directory your local file system:  * http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd] 
      * http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd] 
      * http://java.sun.com/xml/ns/j2ee/j2ee_1_4.xsd [http://java.sun.com/xml/ns/j2ee/j2ee_1_4.xsd]
     
     
 2.  From IBM Data Studio, select Window > Preferences > Web and XML > XML Catalog. The XML Catalog preferences are displayed.
     [/support/docview.wss?uid=swg21287562&aid=1] [/support/docview.wss?uid=swg21287562&aid=1] 
 3.  Click Add. The Add XML Catalog Entry window is displayed. 
 4.  To specify the location of j2ee_jaxrpc_mapping_1_1.xsd, click the [/support/docview.wss?uid=swg21287562&amp;aid=2] icon. Select File System and specify the location of the j2ee_jaxrpc_mapping_1_1.xsd file that you downloaded in step 1. 
 5.  In the Key Type field, select the value Schema Location. 
 6.  In the Key field, specify the value http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd]. The completed window should look like this:
     [/support/docview.wss?uid=swg21287562&aid=3] [/support/docview.wss?uid=swg21287562&aid=3] 
 7.  Click OK. The XML Catalog Details now lists the j2ee_jaxrpc_mapping_1_1.xsd.
     [/support/docview.wss?uid=swg21287562&aid=4] [/support/docview.wss?uid=swg21287562&aid=4] 
 8.  Click Add. The Add XML Catalog Entry window is displayed. 
 9.  To specify the location of j2ee_web_services_1_1.xsd, click the [/support/docview.wss?uid=swg21287562&amp;aid=5] icon. Select File System and specify the location of the j2ee_web_services_1_1.xsd file that you downloaded in step 1. 
 10. In the Key Type field, select the value Schema Location. 
 11. In the Key field, specify the value http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd]. The completed window should look like this. 
     [/support/docview.wss?uid=swg21287562&aid=6] [/support/docview.wss?uid=swg21287562&aid=6] 
 12. Click OK. The XML Catalog Details now lists the j2ee_web_services_1_1.xsd.
     [/support/docview.wss?uid=swg21287562&aid=7] [/support/docview.wss?uid=swg21287562&aid=7] 
 13. Click OK. The Preferences dialog closes.


Second, build and redeploy the Web service. The errors automatically go away because the j2ee_jaxrpc_mapping_1_1.xsd and j2ee_web_services_1_1.xsd files are now found locally and registered with XML Catalog in IBM Data Studio. If you do not want to redeploy the Web service, you must validate the XSD files manually. To do so, follow these steps: 

 1. In the Problems view, double-click on the first problem that is related to missing XSD files. The file in error is displayed. 
 2. Right-click in the text of the file and select Validate. Data Studio validates the file. 
 3. Repeat steps 1 and 2 for the remaining errors that are related to missing XSD files.

RELATED INFORMATION
 j2ee_jaxrpc_mapping_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_jaxrpc_mapping_1_1.xsd]
j2ee_web_services_1_1.xsd [http://www.ibm.com/webservices/xsd/j2ee_web_services_1_1.xsd]
IBM developerWorks: IBM Data Studio [http://www.ibm.com/developerworks/db2/products/datastudio/]
j2ee_1_4.xsd [http://java.sun.com/xml/ns/j2ee/j2ee_1_4.xsd]