Title: IBM Configuring IBM SPSS Statistics Server client ports - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 I'm trying to configure IBM SPSS Statistics Server for use in my organization and I'm a little confused about all the ports. I know that, for instance, Server needs to have a "listening" port open and that the default port for version 25, for example, is 3025, and that I need to have my firewall open to that port. 

But then I'm not so sure I understand the STATISTICS_CLIENT_PORTS setting. What are those ports for and how are they used? How many do I need to have open? 

RESOLVING THE PROBLEM
Statistics Server will reuse the same port number for client connections. So, in theory, only 2 ports need to be open through the firewall: the Statistics daemon or "listening" port (defaults to 3025 for version 25, 3024 for version 24, etc., although it can be altered if necessary) and the "response" port through which Statistics clients talk to their Statistics Server child processes.

But in an environment with many possible client-server attachments, you may want to configure more than one client port. When a Statistics client is in the process of connecting to the Statistics Server, the client port is essentially locked and can only be used by that one client until the connection process has concluded. The time to connect is usually 1 to 3 seconds; depending upon the load on a system this time can vary. Therefore, if a second or third Statistics client was attempting to connect during this time, they would be blocked until the client port becomes available. So, having more than one client port open reduces the wait time for a user to connect in an environment with many users initiating their Statistics sessions at the same time.

For example, let's say you have five client ports listed in STATISTICS_CLIENT_PORTS: 40001 - 40005. And you have 4 possible users. A user initiates a connection with the Statistics Server and first contact is made through the listening port -- in this case 3025. The Server spawns a child process and continues the "conversation" through the first available client port listed. If 40001 isn't locked because another "conversation" has just started, then it will be re-used. If 40001 is locked, then it moves on to the next, 40002, assuming it's not locked, and so on.

So, once all four clients are connected they would most likely all be using the same port number: 40001. There is a small chance that one or more are using 40002, and even a smaller chance that one is using 40004. And even a smaller chance that one or more are using port 40004. And a 0% chance of port 40005 being in use because there were only 4 clients involved and the algorithm starts at the first port number listed in STATISTICS_CLIENT_PORTS and works its way up

RELATED INFORMATION
 Need more help? Our Statistics forum is Live! [https://developer.ibm.com/answers/topics/statistics.html?smartspace=predictive-analytics]




HISTORICAL NUMBER
 72150