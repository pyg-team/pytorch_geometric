Title: IBM Problems Connecting to all Connections Applications except Profiles after upgrading WebSphere to 8.0.0.6 - United States

Text:
Connections; directory; services; SSLKeyException TECHNOTE (TROUBLESHOOTING)

PROBLEM
Users could only login to the Profiles application after upgrading WebSphere to version 8.0.0.6, all other applications fail to login successfully.

SYMPTOM
Errors in the Communities or Homepage systemout logs:

[5/13/15 9:59:58:604 EDT] 0000005a WaltzSyncServ E
com.ibm.lconn.homepage.services.impl.WaltzSyncServiceImpl
getUserByLoginName CLFRQ0221E: Reference to directory services could
not be retrieved.

com.ibm.lconn.homepage.services.ServiceException: CLFRQ0221E: Reference
to directory services could not be retrieved.
at
com.ibm.lconn.homepage.services.impl.WaltzSyncServiceImpl.getUserByLogin
Name(WaltzSyncServiceImpl.java:367)
at
com.ibm.lconn.homepage.services.impl.UserServicesImpl.getUserLoginName(U
serServicesImpl.java:559)
at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)


Caused by:
com.ibm.connections.directory.services.exception.DSException:
com.ibm.connections.directory.services.exception.DSOutOfServiceException
: javax.net.ssl.SSLKeyException: RSA premaster secret error
at
com.ibm.connections.directory.services.engine.WPISearchEngine.searchProfiles(WPISearchEngine.java:74)
at
com.ibm.connections.directory.services.engine.WPISearchEngine.searchProfile(WPISearchEngine.java:46)

javax.net.ssl.SSLKeyException


FFDC errors:
Caused by:
com.ibm.connections.directory.services.exception.DSException:
com.ibm.connections.directory.services.exception.DSOutOfServiceException
: javax.net.ssl.SSLKeyException: RSA premaster secret error
at
com.ibm.connections.directory.services.engine.WPISearchEngine.searchProfiles(WPISearchEngine.java:74)



CAUSE
The WebSphere fixpack can overwrite the SDK Policy files or if using large RSA
keys it'll prevent those from working.


ENVIRONMENT
Connections 4.5 CR3 upgraded to the latest supported version of WebSphere 8.0.0.6.



RESOLVING THE PROBLEM
Customer will need to reapply the policy files using the WebSphere technote below.
http://www-01.ibm.com/support/docview.wss?uid=swg21625723 [http://www-01.ibm.com/support/docview.wss?uid=swg21625723]