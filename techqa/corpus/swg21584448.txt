Title: IBM HTDS (Hosted Transparent Decision Service) cannot find latest ruleset - United States

Text:
HTDS TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When deploying the same project from Rule Studio or Rule Team Server (RTS), if the rule project name contains a dash (-) the WSDLs generated by the Hosted Transparent Decision Service (HTDS) are different. 

SYMPTOM
When you publish a project from both RTS and Rule Studio your Web Service client application does not identify the 2 WSDL generated as the same web service. You are unable to execute the rules. 

You may receive a similar exception : 


CWLLG1405E: Exception javax.xml.rpc.ServiceException: Error processing WSDL document: javax.xml.rpc.ServiceException: Cannot find service: {http://www.ilog.com/rules/DecisionService}DecisionServiceRSPE-Rules occurred while trying to invoke a service: DecisionServiceRSPE-Rules, ServiceNS: http://www.ilog.com/rules/DecisionService, address: http://localhost:9080/DecisionService/ws/RspeRuleApp/1.0/RSPERules/1.0, wsdlURL: http://localhost:9080/DecisionService/ws/RspeRuleApp/1. 0/RSPERules/1.0?WSDL javax.xml.rpc.ServiceException: Error processing WSDL document: javax.xml.rpc.ServiceException: Cannot find service: {http://www.ilog.com/rules/DecisionService}DecisionServiceRSPE-Rules at org.apache.axis.client.Service.initService(Service.java:296) at org.apache.axis.client.Service. (Service.java:163) at org.apache.axis.client.ServiceFactory.createService 
CAUSE
HTDS uses the IRL name in the ruleset to generate the bindings in the Web service definition language (WSDL) and does not use the ruleset name from the ruleset path in the definition of the WSDL. 

The service tag and portType level, for instance are different: 

From RuleStudio a Hello-World project published in a ruleap to the Rule Execution Server (RES) will produce an HTDS using the name: DecisionServiceHello-World. 

From RTS this same Hello-World project published in a ruleapp to the RES will produce an HTDS using the name: DecisionServiceHelloWorld. 


ENVIRONMENT
RES with latest fix pack release 



DIAGNOSING THE PROBLEM
If you publish updates from both Rule Studio and RTS, you might notice that some updates are not taken in account on execution



RESOLVING THE PROBLEM
Use JRules 7.1.1 Fix pack 3 to avoid this problem by adding a parameter to your WSDL request: compatibility=v7113. 

That is, to request a WSDL: 
http://localhost:8080/DecisionService/ws/NewRule_App/1.0/TestMinus?WSDL 

instead of:
http://localhost:8080/DecisionService/ws/NewRule_App/1.0/TestMinus?WSDL‚àÅatibility=v7113 

You can find more information about the compatibility parameter in the JRules Readme [http://pic.dhe.ibm.com/infocenter/brjrules/v7r1/index.jsp?topic=%2Fcom.ibm.websphere.ilog.jrules.doc%2Freadme.html].