Title: IBM Unable to login to two applications simultaneously in IBM Datacap Taskmaster Capture - United States

Text:
login database index same duplicated TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Unable to login to two applications simultaneously with Rulerunner in IBM Datacap Taskmaster Capture. Logging into the second application generates the error: Unable to connect to the Engine DB. 

SYMPTOM
Depending on the version, the Taskmaster Server log may show one of the following: 

 * 12/16/13 15:14:37.862 2 12dc Database ID 'Admin' is duplicated for 'PROVIDER=MSSQL;DSN=sqlserver;CATALOG=FlexAdm;UID=myuser;PWD=******;DBNTA=;' and 'PROVIDER=MSSQL;DSN=sqlserver;CATALOG=APTAdm;UID=myuser;PWD=******;DBNTA=;'. Thread: 12dc 
 * Database index 156 is the same for 'C:\Datacap\Flex\FlexAdm.mdb' and 'C:\Datacap\APT\APTAdm.mdb'. Thread: 8dc


CAUSE
Taskmaster Server tracks database connections to the server using the db_index column stored inside the admin and engine databases. If creating a new application or deploying a configuration such that the db_index values are not unique across all applications, login issues may result.

RESOLVING THE PROBLEM
To resolve, do the following for each application running on the Taskmaster Server. 

 1. Open the admin database. 
 2. In the admininfo table, note the value of db_index. 
 3. If the value is a duplicate of the value used in a different admin database, change the value to any other random 3-digit number such that it is unique for this database. 
 4. Close the admin database and open the engine database. 
 5. In the enginfo table, check the value of db_index and change it if necessary, so that it is the same as the value in the adminfo table. In older versions these two values had to match. They no longer need to match within an application, but the requirement that they be unique across applications still applies. So it is still good practice to match the adminfo and enginfo values to minimize the possibility of conflicts. 
 6. If the value of db_index is changed, edit the queue table in the engine database and change the value of qu_admDB to the new value for all records.



Cross reference information Segment Product Component Platform Version Edition Enterprise Content Management Datacap Not Applicable 9.0.0 Enterprise Content Management Datacap Windows 9.0.1, 9.0.0.3, 9.0.0.2, 9.0.0.1, 9.0.0 All Editions