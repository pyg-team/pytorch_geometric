Title: IBM Opening report causes XQE-GEN-0002 exception to occur when IBM Cognos Business Intelligence V10.1.1.3 is used with IBM Business Monitor - United States

Text:
ibm business monitor; monitor; report; exception; BI; cognos TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After you update IBM Cognos Business Intelligence (BI) to V10.1.1.3 and publish IBM Cognos BI cubes for a monitor model version, the related IBM Cognos BI reports cannot be used. This issue happens when you publish IBM Cognos BI cubes with a JDBC database connection (Dynamic Query mode). 

SYMPTOM
IBM Cognos BI reports fail to display. You receive a pop-dialog with an error message similar to the message below when you try to display a report in the Report Viewer widget: 

XQE-GEN-0002 An unexpected exception occurred: java.lang.UnsupportedOperationException XQE-GEN-0002 An unexpected exception occurred: java.lang.UnsupportedOperationException=== JAVA STACK TRACE === XQE-GEN-0002 An unexpected exception occurred. 
at com.cognos.xqe.cubingservices.V5QueryHandler.logThrowableAndBuildSOAPFault(V5QueryHandler.java:813) 
at com.cognos.xqe.cubingservices.V5QueryHandler.execute(V5QueryHandler.java:476) 
at com.ibm.cubeservices.mdx.v5.V5ProviderFacade.execute(V5ProviderFacade.java:109) 
at com.cognos.cubics.providers.cubingservices.CSStatement.execute(CSStatement.java:
156) 
at com.ibm.cubeservices.mdx.v5.V5RequestHandler.handleRequest(V5RequestHandler.java:
59)
at com.ibm.cubeservices.mdx.comms.Servlet.processMessage(Servlet.java:128)
at com.ibm.cubeservices.mdx.comms.ComWorker.processQueryInputMsg(ComWorker.java:347)
…


CAUSE
Due to an issue in IBM Cognos BI V10.1.1.3, data types for dimensions are set to “unknown” instead of the expected data type when you publish IBM Cognos BI cubes with a JDBC database connection (Dynamic Query mode). IBM Cognos BI APAR PI18817 has been opened for this issue.


ENVIRONMENT
This issue happens when you use database types such as DB2 and Oracle that support publishing IBM Cognos BI cubes with a JDBC database connection. The issue does not happen when you use a Microsoft SQL Server database because the option of using a JDBC database connection for publishing cubes is not available.



DIAGNOSING THE PROBLEM
1. Confirm that the version of IBM Cognos BI is 10.1.1.3. 


2. Confirm that IBM Cognos BI cubes have been published for a monitor model version after the level of IBM Cognos BI was updated to 10.1.1.3.

3. Determine if a report associated with the monitor model version produces the XQE-GEN-0002 exception noted in the “Symptom” section.


RESOLVING THE PROBLEM
There are two options for resolving the problem. Install an interim fix for PI18817 or apply a workaround of using a native database client to publish IBM Cognos BI cubes. 


Install the IBM Cognos BI PI18817 interim fix

1. Request the IBM Cognos BI PI18817 interim fix for IBM Cognos BI 10.1.1.3.
A. Open an IBM Business Monitor PMR to request the PI18817 interim fix.
B. Include your email address and the IBM ID that you use to download interim fixes from IBM Fix Central when opening the PMR. Also reference that you are following instructions from this technote.
C. IBM Support will process the request related to this technote to grant access to the PI18817 interim fix.
D. The PMR will be closed once confirmation has been provided that the PI18817 interim fix has been downloaded successfully.

2. Backup configuration files located in the IBM Cognos BI runtime location of <IBM Business Monitor profile root>/cognos/<server name>/configuration. Complete this step for every cluster member in the cluster that supports the IBM Cognos application.

3. Install the IBM Cognos BI PI18817 interim fix.
Note: The PI18817 interim fix should be applied to the IBM Cognos BI installation location of <IBM Business Monitor install root>/cognos. The interim fix should not be installed to the IBM Cognos BI runtime location of <IBM Business Monitor profile root>/cognos/<server name> because the runtime files will be updated the next time the server starts.

4. Update the IBM Cognos BI EAR file by following step two in the Updating IBM Cognos BI [http://www-01.ibm.com/support/knowledgecenter/SS7NQD_8.0.1/com.ibm.wbpm.mon.imuc.doc/inst/updatingcognos.html?lang=en] product documentation section.

5. Publish IBM Cognos BI cubes for the monitor model version.


Apply a workaround without installing the PI18817 interim fix

Use a native database client to publish IBM Cognos BI cubes instead of using a JDBC database connection (Dynamic Query mode).

1. Ensure that a native database client is available on the IBM Cognos BI server.

2. Use the IBM Cognos Administration client to confirm that the native database client connection is configured correctly. Test the WBMONITOR_DB data source connection and confirm that the test is successful for the “compatible” connection. See the Configuring the reporting data source in IBM Cognos BI product documentation section for details.

3. Set deployment manager or stand-alone server JVM arguments for the IBM Business Monitor environment.
A. In the WebSphere administrative console, select the deployment manager or stand-alone server.
B. Locate the Java Virtual Machine properties.
C. In the text box for Generic JVM arguments, enter -Dinit.dqm.enabled=false

4. Publish IBM Cognos BI cubes for the monitor model version.