Title: IBM IV08393: WEBSPHERE MQ JAVA BINDINGS APPLICATIONS MUST USE A JAVA RUNTIME ENVIRONMENT THAT SUPPORTS THE QMGRS CCSID. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  A WebSphere MQ Java application that uses the native JNI
   libraries (bindings) must be run in a Java Runtime Environment
   (JRE) that supports the Coded Character Set Identifier (CCSID)
   that the queue manager has been configured to use.
   
   If the application is run in a Java Runtime Environment that
   does not support the CCSID of the queue manager, an FDC is
   generated containing Probe id 21, Component id 59 and Function
   id 424.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   This issue affects users of:
   
   - The WebSphere MQ V7 classes for Java.
   - The WebSphere MQ V7 classes for JMS.
   - The WebSphere MQ V7 Resource Adapter.
   - The WebSphere Application Server V6.1 WebSphere MQ messaging
   provider who have configured the WebSphere variable
   MQ_INSTALL_ROOT to point to a WebSphere MQ V7 installation.
   - The WebSphere Application Server V7 WebSphere MQ messaging
   provider.
   - The WebSphere Application Server V8 WebSphere MQ messaging
   provider.
   
   who have applications that connect to a WebSphere MQ V7 queue
   manager in bindings mode.
   
   Platforms affected:
   All Distributed (iSeries, all Unix and Windows) +Java +Java zOS
   ****************************************************************
   PROBLEM SUMMARY:
   WebSphere MQ queue managers have a property called Coded
   Character Set Identifier (CCSID), which specifies the CCSID
   that is used to encode all of the fields in the WebSphere MQ
   API that contain String data. For example, if an application
   makes an MQINQ call, the String data in the MQINQ reply that is
   returned to the application will be in the CCSID of the queue
   manager.
   
   To function correctly, the environment in which an application
   is running must be able to interpret this data correctly when
   receiving data from a queue manager.
   
   When an application made a bindings mode connection to a queue
   manager, a check was made to verify that the Java Runtime
   Environment that the application was running in supports the
   CCSID that the queue manager is using.
   
   If the Java Runtime Environment did not support the queue
   manager's CCSID, an exception was returned to the application
   containing WebSphere MQ Reason Code 2195
   (MQRC_UNEXPECTED_ERROR) and an FDC was generated containing
   Probe id 21, Component id 59 and Function id 424.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The following updates should be read in conjunction with the
   WebSphere MQ V7 Information Center:
   
   
   Connection options for WebSphere MQ classes for Java
   ----------------------------------------------------
   Bindings connection
   
   When used in bindings mode, WebSphere MQ classes for Java uses
   the Java Native Interface (JNI) to call directly into the
   existing queue manager API, rather than communicating through a
   network. In most environments, connecting in bindings mode
   provides better performance for WebSphere MQ classes for Java
   applications than connecting in client mode, by avoiding the
   cost of TCP/IP communication.
   
   To use bindings mode, the Java Runtime Environment being used
   must support the Coded Character Set Identifier (CCSID) of the
   queue manager that the WebSphere MQ classes for Java are
   connecting to. Details on how to determine what CCSIDs are
   supported by a Java Runtime Environment can be found in
   technote 1566441:
   
   http://www.ibm.com/support/docview.wss?uid=swg21566441 [http://www.ibm.com/support/docview.wss?uid=swg21566441]
   
   
   Connection options for WebSphere MQ classes for JMS
   ---------------------------------------------------
   Bindings mode
   
   To connect to a queue manager in bindings mode, a WebSphere MQ
   classes for JMS application must run on the same system on
   which the queue manager is running. WebSphere MQ classes for
   JMS connects directly to the queue manager using the Java
   Native Interface (JNI). In some environments, connecting in
   bindings mode can provide better performance than connecting in
   client mode.
   
   To use bindings mode, the Java Runtime Environment being used
   must support the Coded Character Set Identifier (CCSID) of the
   queue manager that the WebSphere MQ classes for Java are
   connecting to. Details on how to determine what CCSIDs are
   supported by a Java Runtime Environment can be found in
   technote 1566441:
   
   http://www.ibm.com/support/docview.wss?uid=swg21566441 [http://www.ibm.com/support/docview.wss?uid=swg21566441]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV08393
   
   
 * REPORTED COMPONENT NAME
   WMQ HP V7
   
   
 * REPORTED COMPONENT ID
   5724H7222
   
   
 * REPORTED RELEASE
   701
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-09-27
   
   
 * CLOSED DATE
   2011-10-17
   
   
 * LAST MODIFIED DATE
   2011-10-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS