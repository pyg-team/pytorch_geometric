Title: IBM IY53917: EXPERIENCING PROBLEMS WITH CHANNEL INDOUBT AND STOPPED AFTER REBOOT. - United States

Text:
AIX  FIXES ARE AVAILABLE
WebSphere MQ V5.3 and WebSphere MQ Express V5.3 - Fix Pack 12 (CSD12) [http://www-01.ibm.com/support/docview.wss?uid=swg24011423]
WebSphere MQ V5.3 & WebSphere MQ Express V5.3 - Fix Pack 10 (CSD10) [http://www-01.ibm.com/support/docview.wss?uid=swg24009688]
WebSphere MQ V5.3 & WebSphere MQ Express V5.3 - Fix Pack 8 (CSD08) [http://www-01.ibm.com/support/docview.wss?uid=swg24007905]
WebSphere MQ V5.3 for iSeries - Fix Pack 12 (CSD12) [http://www-01.ibm.com/support/docview.wss?uid=swg24011422]
WebSphere MQ V5.3 and WebSphere MQ Express V5.3 - Fix Pack 13 (CSD13) [http://www-01.ibm.com/support/docview.wss?uid=swg24014128]
WebSphere MQ V5.3 and WebSphere MQ Express V5.3 - Fix Pack 14 (CSD14) [http://www-01.ibm.com/support/docview.wss?uid=swg24017668]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  After upgrade of MQ, when customer brings the system back up.
   They experience problems with the channels being indoubt or
   in a stopped status.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   users who are migrating from WMQ 5.x to WMQ 5.3 and are having
   SYSTEM.CHANNEL.SYNCQ records
   ****************************************************************
   PROBLEM SUMMARY:
   The SYNC record structure is changed in WMQ 5.3. Hence after
   the migration during first restart , qmgr will automaticall
   convert all the messages in SYSTEM.CHANNEL.SYNCQ and save them
   back to the same queue. While saving the messages , EC was not
   updating the message ids properly , resulting in duplicate
   records for the same channel. There will be one correct
   message, with correct channel status(saved by channel process)
   and one with corrupted message id with wrong channel status
   (saved by EC). As a result during qmgr restart , corrupted
   message has been read(since it is at the beginning of the
   queue) and wrong status has been restored.
   
   
    
   
   

PROBLEM CONCLUSION
 *  We have identified the cause for the duplication message and
   this APAR  has fixed that. However the cause for Channels
   getting into 'STOPPED' state has not been known from the
   investigation. So customer may see  channels into 'STOPPED'
   state during first restart of the qmgr after the migration. The
   solution is to manually start them. This APAR addresses the
   problem of channels getting into STOPPED state, after every
   restart.
   
   The fix will be included in the following PTFs:
   WebSphere MQ v5.3   CSD07
   Windows             U200212
   AIX                 U496708
   HP-UX               U496730
   Linux on Intel      U496732
   Linux on zSeries    U496733
   Sun Solaris         U496731
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY53917
   
   
 * REPORTED COMPONENT NAME
   WEB MQ FOR AIX
   
   
 * REPORTED COMPONENT ID
   5724B4101
   
   
 * REPORTED RELEASE
   530
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2004-02-23
   
   
 * CLOSED DATE
   2004-03-01
   
   
 * LAST MODIFIED DATE
   2004-09-07
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R530 PSY
   UP