Title: IBM WebSphere Enterprise Service Bus (WESB) CWSXM0100E exception occurs when calling Service Invoke between Fan Out and Fan In - United States

Text:
WESB CWSXM0100E Fan In Out Service Invoke Exception TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you use a Service Invoke between Fan Out and Fan In primitives and you receive an exception on the Service Invoke call, the flow continues and produces an exception, 

SYMPTOM
The following exception occurs: 

FlowActionFac E CWSXM0100E: Multiple replies have been produced for a single request flow in module <ModuleName>


RESOLVING THE PROBLEM
The fail terminal of the Service Invoke primitive causes the input fault to be generated. It allows the aggregation to continue, which in turn results in a further attempt to generate a response. 

To avoid this scenario, the wiring from the fail terminal of the Service Invoke primitive needs to cause the 'stop' terminal for the Fan In to be driven. The 'incomplete' output terminal of the Fan In primitive should also be wired to a 'Stop' primitive. This approach prevents the subsequent response and the "CWSXM0100E" exception.