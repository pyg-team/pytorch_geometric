Title: IBM TEPS fails to restart due to misconfiguration in KFWENV - United States

Text:
tepsewas TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After restarting the TEPS, TEP client users are getting KFWITM009I messages when trying to login. 

SYMPTOM
TEP Client users get KFWITM009I messages when attempting to login. In the eWAS's SystemOut.log on the TEPS, the following appears: 

<log start>
(4a086b9b.2c959300-(null)P=809545:O=0:CT:CTJVMDeploymentManager,0,"CTJVMDeploymentManager.com.ibm.TEPS.CTJVMDeployment.CTJVMDeploymentManager.CTJVMDeploymentManager(CTJVMOrb,CTJVMServerActivator)") org.omg.CORBA.TRANSIENT: initial and forwarded IOR inaccessible:
Forwarded IOR failed with: java.net.ConnectException: Connection refused: connect:host=10.11.12.13,port=2685
Initial IOR failed with: java.net.ConnectException: Connection refused: connect:host=10.11.12.13,port=2685 vmcid: IBM minor code: E07 completed: No
[5/11/09 14:16:59:748 EDT] 0000000a SystemOut O CTJVMDeploymentManager start exception. eWAs will be started with TEPS logic disabled.
[5/11/09 14:16:59:748 EDT] 00000011 SystemOut O (4a086b9b.2c959300-(null)P=809545:O=0:CT:CTJVMDeploymentManager,0,"CTJVMDeploymentManager.com.ibm.TEPS.CTJVMDeployment.CTJVMDeploymentManager.CTJVMDeploymentManager(CTJVMOrb,CTJVMServerActivator)") java.lang.RuntimeException: org.omg.CORBA.TRANSIENT: initial and forwarded IOR inaccessible:
Forwarded IOR failed with: java.net.ConnectException: Connection refused: connect:host=10.11.12.13,port=2685
Initial IOR failed with: java.net.ConnectException: Connection refused: connect:host=10.11.12.13,port=2685 vmcid: IBM minor code: E07 completed: No
<log end>


CAUSE
One possibility is that there are incorrectly-configured settings in the KFWENV involving eWAS and the JVM. 



DIAGNOSING THE PROBLEM
Review the KFWENV file and the KFWALONE file. Confirm whether the following text appears anywhere in the files: 


|CANDLE_HOME|

If this is present in any of the variables, it is not expanded when used, and leads to problems for any components that need those variables defined. In the case of eWAS, not having some of the KFW_* variables defined properly prevents the TEPS from properly instantiating eWAS and the associated JVM.



RESOLVING THE PROBLEM
Replace any occurrences of |CANDLE_HOME| in the KFWENV or KFWALONE files with the correct ITM main installation directory value. On Windows, this corresponds to the %CANDLE_HOME% environment variable value, or whatever appears when "echo %CANDLE_HOME%" is done from a Command Prompt / "CMD" command line.