Title: IBM PK62305: RMI/IIOP CLIENT GETS 0X49424000 MINOR 300 CORBA.NO_PERMISSION BUT INVALIDPASSWORD 49424302/ INVALIDUSERID 49424301 CAN BE USED - United States

Text:
z/os  FIXES ARE AVAILABLE
Java SDK 1.5 SR8 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24020073]
Java SDK 1.5 SR8 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24021203]
Java SDK 1.5 SR10 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24024201]
6.1.0.31: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24026453]
6.1.0.33: Java SDK 1.5 SR12 FP1 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24027786]
6.1.0.29: Java SDK 1.5 SR11 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24025191]
6.1.0.35: Java SDK 1.5 SR12 FP2 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24028574]
6.1.0.37: Java SDK 1.5 SR12 FP3 Cumulative Fix for WebSphere [http://www-01.ibm.com/support/docview.wss?uid=swg24029525]
6.1.0.39: Java SDK 1.5 SR12 FP4 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24030426]
6.1.0.41: Java SDK 1.5 SR12 FP5 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031035]
6.1.0.43: Java SDK 1.5 SR13 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24031963]
6.1.0.45: Java SDK 1.5 SR14 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24033270]
6.1.0.47: WebSphere Application Server V6.1 Fix Pack 47 [http://www-01.ibm.com/support/docview.wss?uid=swg24035508]
6.1.0.47: Java SDK 1.5 SR16 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035649]
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When a RMI / IIOP Client attempts to connect to WebSphere with
   an invalid userid and/or password, the following CORBA error is
   sent back to the client:
   .
   org.omg.CORBA.NO_PERMISSION:   vmcid: 0x49424000  minor code:
   300 completed: Maybe
   .
   However, as per the infoCenter (rtrb_securitycomp.html), in the
   section "CSIv2 CORBA minor codes" table, finer error messages
   are documented:
   .
   "InvalidPassword  49424302"
   "InvalidUserid  49424301"
   .
   Therefore, the above minor codes should be used when the failure
   is due to a bad password (valid userid) or a bad userid.
   .
   To reproduce this problem:
   
   * Enable Basic Authentication for a RMI client by editing
   sas.client.props:
   # Does this client support/require BasicAuth (userid/password)
   client authentication?
   com.ibm.CSI.performClientAuthenticationRequired=true
   com.ibm.CSI.performClientAuthenticationSupported=true
   
   * Provide a bad userid and / or password:
   # RMI/IIOP user identity
   com.ibm.CORBA.loginUserid=ibmuser
   com.ibm.CORBA.loginPassword=ibmibm
   
   * Perform the RMI / IIOP call. A stack trace such as the
   following will be received:
   -------------
   javax.naming.NoPermissionException: NO_PERMISSION exception
   caught [Root exception is org.omg.CORBA.NO_PERMISSION:   vmcid:
   0x49424000  minor code: 300 completed: Maybe]
           at
   com.ibm.ws.naming.jndicos.CNContextImpl.doLookup(CNContextImpl.j
   ava:1929)
           at
   com.ibm.ws.naming.jndicos.CNContextImpl.doLookup(CNContextImpl.j
   ava:1862)
           at
   com.ibm.ws.naming.jndicos.CNContextImpl.lookupExt(CNContextImpl.
   java:1552)
           at
   com.ibm.ws.naming.jndicos.CNContextImpl.lookup(CNContextImpl.jav
   a:1354)
           at
   com.ibm.ws.naming.util.WsnInitCtx.lookup(WsnInitCtx.java:172)
           at
   javax.naming.InitialContext.lookup(InitialContext.java:363)
           at
   com.ibm.samples.interopV61.client.InteropV61Client.callEJB(Inter
   opV61Client.java:83)
           at
   com.ibm.samples.interopV61.client.InteropV61Client.<init>(Intero
   pV61Client.java:67)
           at
   com.ibm.samples.interopV61.client.InteropV61Client.main(InteropV
   61Client.java:146)
           at sun.reflect.NativeMethodAccessorImpl.invoke0(Native
   Method)
           at
   sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessor
   Impl.java:64)
           at
   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethod
   AccessorImpl.java:43)
           at java.lang.reflect.Method.invoke(Method.java:615)
           at
   com.ibm.ws.bootstrap.WSLauncher.main(WSLauncher.java:263)
   Caused by: org.omg.CORBA.NO_PERMISSION:   vmcid: 0x49424000
   minor code: 300 completed: Maybe
           at java.lang.Class.newInstanceImpl(Native Method)
           at java.lang.Class.newInstance(Class.java:1263)
           at
   com.ibm.rmi.iiop.ReplyMessage._getSystemException(ReplyMessage.j
   ava:254)
           at
   com.ibm.rmi.iiop.ReplyMessage.getSystemException(ReplyMessage.ja
   va:189)
           at
   com.ibm.rmi.iiop.ClientResponseImpl.getSystemException(ClientRes
   ponseImpl.java:232)
           at
   com.ibm.rmi.corba.ClientDelegate.intercept(ClientDelegate.java:9
   82)
           at
   com.ibm.rmi.corba.ClientDelegate.invoke(ClientDelegate.java:459)
           at
   com.ibm.CORBA.iiop.ClientDelegate.invoke(ClientDelegate.java:115
   0)
           at
   com.ibm.rmi.corba.ClientDelegate.invoke(ClientDelegate.java:778)
           at
   com.ibm.CORBA.iiop.ClientDelegate.invoke(ClientDelegate.java:118
   0)
           at
   org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:484)
           at
   com.ibm.WsnOptimizedNaming._NamingContextStub.resolve_complete_i
   nfo(_NamingContextStub.java:490)
           at
   com.ibm.ws.naming.jndicos.CNContextImpl.cosResolve(CNContextImpl
   .java:4351)
           at
   com.ibm.ws.naming.jndicos.CNContextImpl.doLookup(CNContextImpl.j
   ava:1901)
           ... 13 more
   -------
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of WebSphere Application Server   *
   *                  V6.1 for z/OS with SAF user registry        *
   ****************************************************************
   * PROBLEM DESCRIPTION: WebSphere Application Server V6.1.0 for *
   *                      z/OS with SAF user registry does not    *
   *                      returns ORB minor code 301 an 302.      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   WebSphere Application Server V6.1.0 for z/OS always returns ORB
   minor code 300 even SAF user registry returns error codes which
   indicate either invalid user ID or invalid password. ORB
   minor codes of 301 and 302 should be return for these error
   situations respectively.
   
   
    
   
   

PROBLEM CONCLUSION
 *  With this fix, ORB minor code 301 and 302 are properly returned
   when SAF user registry returns Invalid User ID and Invalid
   Password respectively.
   
   APAR PK62305 is currently targeted for inclusion in Service
   Level (Fix Pack) 6.1.0.19 of WebSphere Application Server V6.1
   for z/OS.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK62305
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE FOR Z
   
   
 * REPORTED COMPONENT ID
   5655I3500
   
   
 * REPORTED RELEASE
   610
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-03-06
   
   
 * CLOSED DATE
   2008-03-25
   
   
 * LAST MODIFIED DATE
   2008-10-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE FOR Z
   
   
 * FIXED COMPONENT ID
   5655I3500
   
   

APPLICABLE COMPONENT LEVELS
 * R610 PSY UK39151 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK39151]
   UP08/09/26 P F809
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.