Title: IBM Error saving-filter in WebGUI cluster. - United States

Text:
HEMFV0159E; HEMFV0117E; Error saving filter; single node; LoadBalancing; Load Balancing; Load Balanced TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Changes to existing filters are not saved and the user is unable to create new ones. This may affect just a single node. 

SYMPTOM
New filters are not saved and any changes made to current ones are not reflected on all the nodes in the cluster. The ncw.n.trace file shows:

[WebContainer : 6] com.micromuse.wave.fvbuilder.dao.XMLDAO.save FINE: HEMFV0159E
com.micromuse.ncw.configstore.StoreAccessGatewayException
at com.ibm.tivoli.ncw.ha.config.ConfigurationItemsServiceJpaImpl.createOrUpdateItem(ConfigurationItemsServiceJpaImpl.java:258)
at com.micromuse.ncw.configstore.HaStoreAccessGatewayJpaImpl.put(HaStoreAccessGatewayJpaImpl.java:151)...................



CAUSE
There are 2 reasons this could happen: 

1) The distribution file ownership may have changed from the original user who installed it. 
2) The database is corrupted. This may be as a result of a power failure or other outage which affects the database.


ENVIRONMENT
WebGUI in a cluster.



DIAGNOSING THE PROBLEM
Check the ncw.n.log file for the following error messages:

SEVERE:HEMFV0159E:[WebContainer : 6]:Unable to write filter data store 
SEVERE:HEMFV0117E:[WebContainer : 6]:Unable to save the filter 



RESOLVING THE PROBLEM
Verify that all the files under the omnibus_webgui directory are owned by the user who installed the package. 

If the problem persists after this has been done, then all nodes will need to be disjoined from the cluster, the DB2 database destroyed and recreated, and the nodes rejoined to the cluster.

For that, please proceed as follows:

Remove all nodes from the load balancing cluster.
Remove the DB2 database.
Create a new DB2 database. 

 Rejoin all the nodes to the cluster.
Restart Web GUI load balancing operations.

The related tasks are covered in the links shown below.

RELATED INFORMATION
 v7.4 - Troubleshoting a Load Balancing Cluster [http://www-01.ibm.com/support/knowledgecenter/SSSHTQ_7.4.0/com.ibm.netcool_OMNIbus.doc_7.4.0/webtop/wip/task/web_adm_loadbalrecoverdb.html?lang=en]
v8.1 - Troubleshooting a load-balanced environment [http://www-01.ibm.com/support/knowledgecenter/SSSHTQ_8.1.0/com.ibm.netcool_OMNIbus.doc_8.1.0/webtop/wip/task/web_adm_loadbalrecoverdb.html?lang=en]