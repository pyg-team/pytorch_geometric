Title: IBM ClearQuest Web filter query on a date and time may change the date to a prior day - United States

Text:
CQ; DST; query; hour; gmt; 1268311 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote details how date and time are handled by IBM® Rational® ClearQuest®, and how desired query results may appear inaccurate in ClearQuest Web. 

CAUSE
Defining a ClearQuest Web filter query to show an operator like "Between" or "Greater Than" time of midnight 12:00:01 AM sometimes shows the date to be one day behind. Furthermore, the time of day also appears to be incorrect. It is reflecting the GMT (Greenwich Mean Time, also known as the Prime Meridian of zero degrees longitude), the method used to store dates in the database. 

The values in a date/time field are converted to GMT when they are stored in a ClearQuest database. Storing the date/time in GMT allows the data to be used throughout the world, regardless of the location and time zone. When ClearQuest queries filter on a specific date/time using the "Calendar -- Web Page Dialog" to set the specific date/time value, the local time has been calculated automatically from the GMT values in the database. 

However, Daylight Savings Time (DST) is not corrected for the 1 hour difference. During DST, clocks are turned forward 1 hour, effectively moving 1 hour of daylight from the morning to the evening. 

Beginning in 2007, most of the United States begins Daylight Saving Time at 2:00 a.m. on the second Sunday in March and reverts to standard time on the first Sunday in November. In the U.S., each time zone switches at a different time. 

In the European Union, Summer Time begins and ends at 1:00 a.m. Universal Time (Greenwich Mean Time). It begins the last Sunday in March and ends the last Sunday in October. In the EU, all time zones change at the same moment.


RESOLVING THE PROBLEM
Users must take Daylight Savings Time (DST) into consideration when filtering a query with an operator like "Between" or "Greater Than" time of midnight 12:00:01 AM. Any date prior to the DST time, for example: March 11, 2007 2:00 AM, will display a filter date of the prior day. 


For example, if filtered on March 02 12:00:01 AM, the date will change to March 01 because the ClearQuest Web server time has DST of one hour added to it, so when the GMT time is corrected, the one hour DST time pushes the result to the prior date. Additionally, the time is adjusted to midnight for the local time of the ClearQuest Web server, and then adjusted for GMT time. That is why the prior date of March 01 has a GMT time of 0500 for a ClearQuest Web server in the Eastern Standard Time zone.