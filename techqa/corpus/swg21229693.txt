Title: IBM Getting "Oracle ORA-00018: maximum number of sessions exceeded" - United States

Text:
Oracle ORA-00018; sessions exceeded TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Using an Oracle database you see database exceptions in SystemOut.log, which look similar to:

[12/20/05 15:40:12:708 EST] 33404031 FreePool E J2CA0046E: Method createManagedConnctionWithMCWrapper caught an exception during creation of the ManagedConnection for resource jdbc/DMDDS, throwing ResourceAllocationException. Original exception: com.ibm.ws.exception.WsException: DSRA8100E: Unable to get a PooledConnection from the DataSource. with SQL State : 60000 SQL Code : 604
at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java(Compiled Code))
at oracle.jdbc.ttc7.TTIoer.processError(TTIoer.java:289)
...
Caused by: java.sql.SQLException: ORA-00604: error occurred at recursive SQL level 1
ORA-00018: maximum number of sessions exceeded
DSRA0010E: SQL State = 60000, Error Code = 604DSRA0010E: SQL State = 60000, Error Code = 604
... 55 more
---- Begin backtrace for nested exception
java.sql.SQLException: ORA-00604: error occurred at recursive SQL level 1
ORA-00018: maximum number of sessions exceeded
DSRA0010E: SQL State = 60000, Error Code = 604DSRA0010E: SQL State = 60000, Error Code = 604
at oracle.jdbc.dbaccess.DBError.throwSqlException(DBError.java(Compiled Code))
at oracle.jdbc.ttc7.TTIoer.processError(TTIoer.java:289)
at oracle.jdbc.ttc7.O3log.receive2nd(O3log.java:496)
at oracle.jdbc.ttc7.TTC7Protocol.logon(TTC7Protocol.java:278)
at oracle.jdbc.driver.OracleConnection.<init>(OracleConnection.java:346) 

CAUSE
Oracle's number of allowed sessions have been exceeded. All session state objects are in use.

RESOLVING THE PROBLEM
Talk to your Oracle DBA and increase the value of the SESSIONS initialization parameter. 

If the issue still occurs after doing the above, there might be a connection leak in the application code. Make sure that the application closes connections properly. If further assistance is required, contact IBM support.




Cross reference information Segment Product Component Platform Version Edition Application Servers Runtimes for Java Technology Java SDK 
HISTORICAL NUMBER
 01408
278
000