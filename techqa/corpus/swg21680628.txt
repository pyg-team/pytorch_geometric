Title: IBM nci_findendpoint single URL in a distributed installation - United States

Text:
netcool; impact; netcool/impact; nci; end; point; single; url; find; endpoint; findendpoint; findend; nci_findendpoint; cluster; distributed; multiple; multi; host; hosts; install; installation; installs TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Setting up a single URL endpoint for WebServiceListener in an installation distributed across multiple hosts 

RESOLVING THE PROBLEM
To provide a single end point URL one has to edit the files on the ImpactServer installations: 

 * 
 * 
 * 
 * 


to remove the Cluster name and Server name from the end point. 

In an example configuration where the Cluster name is "NCICLUSTER" and the ImpactServers are named "NCI_P" on "HostA" and "NCI_B" on "HostB". In editing the application.xml files first back them off: 

 * 


and create the file to edit: 

 * 


and edit the file: 

 * 


to replace all references to the Cluster and Server with the vi command lines: 

 * 


and: 

 * 


This would edit lines of the format: 

 * 


For example: 

 * 


becomes: 

 * 


Then one adds the line: 

 * 


to the ImpactServer properties files: 

 * 


In the example configuration these files would be: 

 * 
 * 
 * 


Then one adds the line: 

 * 


to the properties files: 

 * 


These edits require ImpactServer restarts to enable. 



Once restarted the nci_findendpoint behaviour will be: 


Scenario 1: 
NCI_P is running as Primary and NCI_B is running as Secondary. 

Running the command: 

 * 


on the Primary host "HostA" and running the command: 

 * 


on the Secondary host "HostB" will return the same endpoint - for 
instance: 

 * 


Note, the hostname "HostA" in the endpoint refers to the host running the Primary ImpactCluster member. 


Scenario 2: 
NCI_P is down and NCI_B becomes Primary. 

Running the command: 

 * 


on the NCI_B host "HostB" will return the endpoint of: 

 * 



Scenario 3: 
NCI_P is brought up again and runs as Secondary and NCI_B remains running as Primary. 

Running the command: 

 * 


on the NCI_P host "HostA" should return the same endpoint as in scenario 2 - for instance: 

 * 


Essentially there will be only one endpoint URL depending on which ImpactServer is Primary.