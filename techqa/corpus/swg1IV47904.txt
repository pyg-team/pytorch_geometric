Title: IBM IV47904: EIC 'TEST SQL' FAILS DUE TO UNSCAPED CHARACTERS - United States

Text:
  DIRECT LINKS TO FIXES
6.1.1-TIV-BSM-FP0004-windows [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0004-windows&source=SAR]
6.1.1-TIV-BSM-FP0004-zlinux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0004-zlinux&source=SAR]
6.1.1-TIV-BSM-FP0004-solaris [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0004-solaris&source=SAR]
6.1.1-TIV-BSM-FP0004-linux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0004-linux&source=SAR]
6.1.1-TIV-BSM-FP0004-aix [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0004-aix&source=SAR]
6.1.1-TIV-NCI-FP0004-windows [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0004-windows&source=SAR]
6.1.1-TIV-NCI-FP0004-zlinux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0004-zlinux&source=SAR]
6.1.1-TIV-NCI-FP0004-solaris [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0004-solaris&source=SAR]
6.1.1-TIV-NCI-FP0004-aix [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0004-aix&source=SAR]
6.1.1-TIV-NCI-FP0004-linux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0004-linux&source=SAR]
6.1.1-TIV-BSM-FP0003-aix [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-aix&source=SAR]
6.1.1-TIV-NCI-FP0003-zlinux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0003-zlinux&source=SAR]
6.1.1-TIV-NCI-FP0003-windows [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0003-windows&source=SAR]
6.1.1-TIV-NCI-FP0003-solaris [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0003-solaris&source=SAR]
6.1.1-TIV-NCI-FP0003-linux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0003-linux&source=SAR]
6.1.1-TIV-NCI-FP0003-aix [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0003-aix&source=SAR]
6.1.1-TIV-BSM-FP0003-zlinux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-zlinux&source=SAR]
6.1.1-TIV-BSM-FP0003-windows [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-windows&source=SAR]
6.1.1-TIV-BSM-FP0003-solaris [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-solaris&source=SAR]
6.1.1-TIV-BSM-FP0003-linux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0003-linux&source=SAR]
6.1.1-TIV-BSM-FP0002-windows [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0002-windows&source=SAR]
6.1.1-TIV-BSM-FP0002-zlinux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0002-zlinux&source=SAR]
6.1.1-TIV-BSM-FP0002-solaris [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0002-solaris&source=SAR]
6.1.1-TIV-BSM-FP0002-aix [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0002-aix&source=SAR]
6.1.1-TIV-BSM-FP0002-linux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Business+Service+Manager&fixids=6.1.1-TIV-BSM-FP0002-linux&source=SAR]
6.1.1-TIV-NCI-FP0002_zlinux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0002_zlinux&source=SAR]
6.1.1-TIV-NCI-FP0002_windows [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0002_windows&source=SAR]
6.1.1-TIV-NCI-FP0002_solaris [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0002_solaris&source=SAR]
6.1.1-TIV-NCI-FP0002_linux [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0002_linux&source=SAR]
6.1.1-TIV-NCI-FP0002_aix [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Netcool+Impact&fixids=6.1.1-TIV-NCI-FP0002_aix&source=SAR]
IBM Tivoli Business Service Manager V6.1.1 Fix Pack 1(6.1.1-TIV-BSM-FP0001) [http://www-01.ibm.com/support/docview.wss?uid=swg24036882]
IBM Tivoli Netcool/Impact V6.1.1 Fix Pack 2 (6.1.1-TIV-NCI-FP0002) [http://www-01.ibm.com/support/docview.wss?uid=swg24039066]
IBM Tivoli Business Service Manager V6.1.1 Fix Pack 3(6.1.1-TIV-BSM-FP0003) [http://www-01.ibm.com/support/docview.wss?uid=swg24039742]
IBM Tivoli Netcool/Impact V6.1.1 Fix Pack 4 (6.1.1-TIV-NCI-FP0004) [http://www-01.ibm.com/support/docview.wss?uid=swg24041504]
IBM Tivoli Business Service Manager V6.1.1 Fix Pack 4(6.1.1-TIV-BSM-FP0004) [http://www-01.ibm.com/support/docview.wss?uid=swg24041505]
IBM Tivoli Netcool/Impact V6.1.1 Fix Pack 5 (6.1.1-TIV-NCI-FP0005) [http://www-01.ibm.com/support/docview.wss?uid=swg24044185]
IBM Tivoli Business Service Manager V6.1.1 Fix Pack 5(6.1.1-TIV-BSM-FP0005) [http://www-01.ibm.com/support/docview.wss?uid=swg24044193]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  EIC event rule configuration fails when 'Test SQL' is pressed, d
   ue to unscapted characters:
   
   ' & " < >
   
   
    
   
   

LOCAL FIX
 *  EIC_utils
   
   
   The function unescapeHTMLCharacters needed to be updated to
   decode the
   less than and greater than characters.
   
   
      function unescapeHTMLCharacters(inString, oString ) {
   
      Log(3,"Incoming String : " + inString);
      encodedStr =
   {"&#39;","&amp","\\\\&quot;","&quot;","&lt;","&gt;"};
      replacementStr = {"'","&",'"','"',"<",">"};
   
   
   EIC_requestHandler
   
   
   The filter being fed into getbyfilter needs to be escaped.
   
   
     function showEvents(resp,query,results,errMsg) {
      log(1,'Method Entry  : ' + showEvents);
      eventdatatype=getglobalvar('EVENT_DATATYPE');
      log(3,'Event Datatype : ' + eventdatatype);
      filter = query;
      EIC_utils.unescapeHTMLCharacters(filter,escapedfilter);
      GetByFilter(eventdatatype,escapedfilter,false);
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All Impact Users                                             *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * In the Event Isolation and correlation feature of Impact:    *
   * The "Test SQL" button under the SQL Filter for the primary   *
   * event in the Event Rule configuration screen did not work if *
   * the user used a less than or greater than symbol in the      *
   * filter.                                                      *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * NONE                                                         *
   ****************************************************************
   certain characters were not unescaped/converted back from HTML
   chars.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Characters used in the SQL Filters were not being unescaped.
   The fix for this APAR is contained in the following
   maintenance packages:
   |Fix Pack|6.1.1-TIV-NCI-FP0001
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV47904
   
   
 * REPORTED COMPONENT NAME
   NC/IMPACT OPER
   
   
 * REPORTED COMPONENT ID
   5724O59OV
   
   
 * REPORTED RELEASE
   611
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2013-09-05
   
   
 * CLOSED DATE
   2013-10-24
   
   
 * LAST MODIFIED DATE
   2013-10-24
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  UNKNOWN
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   NC/IMPACT OPER
   
   
 * FIXED COMPONENT ID
   5724O59OV
   
   

APPLICABLE COMPONENT LEVELS
 * R611 PSY
   UP