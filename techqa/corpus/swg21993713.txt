Title: IBM Can I restore a tablespace that I just dropped from a backup image that contains a backup of it? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Can I restore a tablespace that I just dropped from a backup image that contains a backup of it? 

ANSWER
Generally, can not. 

But in one situation, if all the objects in the tablespace belong to a specific schema which is not used in other tablespace, then yes, we can. 

Here is an example: 

1. db2 connect to sample 

2. db2 create tablespace myspace 

3. db2 "create table myschema.test(col int) in myspace" 

 db2 "insert into myschema.test values(5)" 

note: there is no other objects defined under myschema in other tablespaces 

4. db2 backup db sample 

5. db2 connect to sample 

 db2 drop tablespace myspace 

6. db2 "restore db sample tablespace(myspace)"
SQL2549N The database was not restored because either all of the table spaces
in the backup image are inaccessible, or one or more table space names in list
of table space names to restore are invalid.
we can not use the normal way to restore the tablespace,because myspace did not exist in db2 system catalog tables.

7. To get the tablespace back, we can use 

 * 
 * 
 * 
 * 
 * 
 * 
 * transport into
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 

The tablespace myspace is back now.