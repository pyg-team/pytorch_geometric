Title: IBM How do I find all of my DB2 V9.1 instances? - United States

Text:
V9 install; instance; db2ls; db2ilist TECHNOTE (FAQ)

QUESTION
 How do I find all the V9.1 instances? To find all of the V9.1 instances in an environment, you need to first find all the installation paths, then find the instances using those installation paths. 

ANSWER

On DB2 V9.1, db2ilist will show only the instances associated with the current installation path, not any of the other copies of DB2 that may also be on the same computer. If you want to find all instances for each path, a combination of db2ls and db2ilist should be used, one path at a time.

For example, to list all products installed, go to the $INSTALLDIR/install, and run db2ls. This will list all the installation paths and the installation dates:

$ ./db2ls

Install Path Level Fix Pack Special Install Number Install Date
------------------------------------------------------------------------
/space2/db2v91/V9 9.1.0.0 0 Fri Aug 04 10:22:29 2006 CDT
/space2/db2v92/V9FP1 9.1.0.1 1 Mon Dec 11 15:29:39 2006 CST

Next, go to the instance directory in the same installation image ($INSTALLDIR/instance) and run 
db2ilist to get a list of instances using this installation image:

$ ./db2ilist
db2v91

Alternatively, go to $INSTALLDIR/install (any one of the installation directories) and run the below script. This will return each installation path and the corresponding instances for each path.

$ cat instlist
./db2ls -c | awk '/^[^#]/{print $1}' FS=: | while read dir; do echo $dir; $dir/instance/db2ilist; done

$ ./instlist
/space2/db2v91/V9db2v91
/space2/db2v92/V9FP1db2v92