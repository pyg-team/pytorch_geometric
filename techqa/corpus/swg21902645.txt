Title: IBM Content Manager Enterprise Edition version 8.4 or higher system administration client connection to resource manager fails with error message DGL5161A and "Remote host closed connection during handshake" - United States

Text:
SSLv3; TLS; Vulnerability TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Content Manager Enterprise Edition (CM) version 8.4 or higher system administration client fails to connect to the resource manager when either IBM HTTP Server (IHS) or WebSphere Application Server has disabled SSLv3. 

SYMPTOM
The Content Manager Enterprise Edition (CM) system administration client connection to the resource manager will fail with:
DGL5161A: Get output stream for connection to resource manager failed
and the CM Java API connector log [http://www-01.ibm.com/support/knowledgecenter/SSAHQR_8.4.3/com.ibm.administeringcm.doc/trs10050.htm?lang=en] will show:
[MSG]: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake



CAUSE
 

 * By default, the Content Manager Enterprise Edition version 8.4 or higher system administration client uses SSLv3 to connect to the resource manager application deployed within WebSphere Application Server 
 * The SSLv3 connection is made to either IBM HTTP Server (IHS) or to the WebSphere Application Server into which the resource manager application was deployed 
 * If either IBM HTTP Server (IHS) or the WebSphere Application Server (versions 6, 7, 8 or 8.5) have disabled SSLv3, this type of connection will fail with the symptoms listed above
   
   As a result of a security vulnerability in SSLv3, IBM HTTP Server (IHS) and WebSphere Application Server (WAS) have both received interim fixes and fix packs that will disable SSLv3 by default. Refer to the following articles for more information: 
 * Security Bulletin: Vulnerability in SSLv3 affects IBM HTTP Server (CVE-2014-3566) [http://www-01.ibm.com/support/docview.wss?uid=swg21687172] 
 * Security Bulletin: Vulnerability in SSLv3 affects IBM WebSphere Application Server (CVE-2014-3566) [http://www-01.ibm.com/support/docview.wss?uid=swg21687173]
   

DIAGNOSING THE PROBLEM
Confirm that the symptoms above are present



RESOLVING THE PROBLEM
Depending on your Content Manager Enterprise Edition configuration, two options are available: 

 1. Both Content Manager Enterprise Edition versions 8.4.3 and 8.5 have a testfix for this security issue.
    See: Security Bulletin: Multiple vulnerabilities in IBM Java Runtime affect Content Manager Enterprise Edition ((CVE-2015-0410, CVE-2014-6593, CVE-2015-0383, CVE-2015-0138)) [http://www-01.ibm.com/support/docview.wss?uid=swg21701217]  * At a minimum, you need to upgrade the CM system administration client with the testfix for this security issue 
     * If other Content Manager Enterprise Edition components exist on the same server or workstation which hosts the CM system administration client, those components will also be upgraded with the same security testfix.
    
    
 2. Upgrade the CM system administration client to version 8.5 in order to support WebSphere Application Server TLS communication, as described here [http://www-01.ibm.com/support/docview.wss?uid=swg21698700].  1. Upgrade the CM 8.4.x system administration client to v8.5 or later 
     2. After the upgrade, the CM v8.5 system administration client will use TLS when connecting to the WebSphere Application Server with resource manager.
    
    

NOTES:  1. The interim fixes and later fix packs for IBM HTTP Server (IHS) and WebSphere Application Server will disable SSLv3 by default. 
 2. If you need to re-enable SSLv3 in WebSphere Application Server, there is a new java system property to enable SSLv3 with the protocols listed above:
    -Dcom.ibm.jsse2.disableSSLv3=false
    (this new setting is referenced in Security Bulletin: Vulnerability in SSLv3 affects IBM WebSphere Application Server (CVE-2014-3566) [http://www-01.ibm.com/support/docview.wss?uid=swg21687173]) 
 3. The system property can be set either statically or dynamically as described in the product documentation for the IBM SDK Java Technology Edition you are using, or in the tech note titled, "Setting generic JVM arguments in WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg21417365]"


NOTE: Enabling SSLv3 will leave the affected components vulnerable to the security vulnerability reported in the articles referenced above

RELATED INFORMATION
 Working with the logging configuration file [http://www-01.ibm.com/support/knowledgecenter/SSAHQR_8.4.3/com.ibm.administeringcm.doc/trs10050.htm?lang=en]
(CVE-2014-3566): Vulnerability in SSLv3 affects IHS [http://www.ibm.com/support/docview.wss?uid=swg21687172]
(CVE-2014-3566): Vulnerability in SSLv3 affects IBM WAS [http://www.ibm.com/support/docview.wss?uid=swg21687173]
Multiple vulnerabilities in IBM Java Runtime affect Con [http://www.ibm.com/support/docview.wss?uid=swg21701217]
Setting generic JVM arguments in WebSphere Application [http://www.ibm.com/support/docview.wss?uid=swg21417365]