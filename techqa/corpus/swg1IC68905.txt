Title: IBM IC68905: NO POST BODY SENT TO BACKEND WHEN USING XML FIREWALL WITH STATIC BACKEND AND A GET REQUEST IS CONVERTED TO POST - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  IBM WebSphere DataPower Appliance
   
   Firmware 3.8.0.3
   
   When a GET request is converted to a POST and there is data to
   be posted to the backend, the POST request is made alright but
   the body (data) is missing. This behavior is seen when using an
   XML Firewall with a static backend.
   
   Steps to recreate
   1. Create an XML Firewall with a static backend, add new
   Firewall Policy to the XML Firewall.
   2. Add new rule to the Firewall Policy:
    * Rule Direction: Client to Server
    * Rules:
      + Match action with match-all rule(*).
      + Method Rewrite action with POST.
      + Transform action with following stylesheet:
            <?xml version="1.0" encoding="utf-8"?>
            <xsl:stylesheet version="1.0"
             xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
             xmlns:dp="http://www.datapower.com/extensions"
             xmlns:dpconfig="http://www.datapower.com/param/config"
             extension-element-prefixes="dp"
             exclude-result-prefixes="dp dpconfig">
   
              <xsl:output method="xml" encoding="UTF-8"
   dp:escaping="minimum" />
   
              <xsl:template match="/">
                    key1=<xsl:value-of select="'TEST_DATA'"/>
              </xsl:template>
   
            </xsl:stylesheet>
   
   3. Send the following GET request
    ---
    GET http://example.com/path HTTP/1.1
    ---
   
   
    
   
   

LOCAL FIX
 *  Use a Multi-Protocol Gateway service
   
   
    
   
   

PROBLEM SUMMARY
 *  Affected are customers making use of a XMLFW with a processing
   policy which rewrites a GET method to a POST.
   
   The body of the message will not be send to the backend.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix will be available in 3.8.0.6 and 3.8.1.4.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC68905
   
   
 * REPORTED COMPONENT NAME
   DATAPOWER
   
   
 * REPORTED COMPONENT ID
   DP1234567
   
   
 * REPORTED RELEASE
   380
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-05-28
   
   
 * CLOSED DATE
   2010-08-09
   
   
 * LAST MODIFIED DATE
   2010-08-09
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DATAPOWER
   
   
 * FIXED COMPONENT ID
   DP1234567
   
   

APPLICABLE COMPONENT LEVELS
 * R380 PSY
   UP
   
   
 * R381 PSY
   UP