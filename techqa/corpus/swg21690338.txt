Title: IBM Setting up IBM Master Data Management Advanced Edition with DB2 Database - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 We are preparing to install IBM Master Data Management Advanced Edition with DB2 database and were wondering if there are any recommendations or general best practices on how we should set it up? 

CAUSE
The following technical document contains database best practices and tuning recommendations for key parameters that significantly impact MDM AE:
http://www.ibm.com/developerworks/data/library/techarticle/dm-1010mdmservertuning2/index.html [http://www.ibm.com/developerworks/data/library/techarticle/dm-1010mdmservertuning2/index.html]

But in general, the database administrator may set up the database following the general database best practices for the expected OLTP workload. The initial configuration values may be configured through the AUTOCONFIGURE command. For most systems, automatic settings provide better performance than all but the very carefully hand-tuned systems. This is due to the DB2 self-tuning memory manager (STMM), which dynamically tunes total database memory allocation as well as four of the main memory consumers in a DB2 system: the buffer pools, the lock list, the package cache, and the sort heap. Our recommendation is to use STMM whenever possible due to the dynamic nature of the MDM workload.

ANSWER
Following are some of the recommend for significant performance improvement:
* Size your database buffer pool cache appropriately. For probabilistic matching, we recommend 1 GB buffer pool cache for every 1 million members.
* Support database performance with sufficient IO performance and IOPS capacity from the storage system with proper LUN and striping for balanced IO (e.g. SAN or flash storage)
* Bypass File System Cache
* Use dedicated database instance with sufficient resources
* buffpage: Ignore buffpage, and either explicitly set the size of buffer pools that have an entry in SYSCAT.BUFFERPOOLS, or let the STMM tune buffer pool sizes automatically. 
* STMT_CONC LITERALS immediate
* Compression - Using compression for all tables and indexes improves caching efficiency for this key object used during search and match operations. 
* Use Automatic Storage (as seen in the OOTB DDL sample)

Additional DB2 recommendations:
* DB2_ALLOCATION_SIZE=256K
* MAXAGENTS 100 immediate
* DFT_MON_UOW ON immediate 
* DB2COMM=TCPIP
* DFT_MON_STMT ON immediate
* DFT_MON_TABLE ON immediate
* DFT_MON_SORT ON immediate
* DFT_MON_TIMESTAMP ON immediate
* DIAGLEVEL 3 immediate
* DIAGSIZE 75 immediate
* MAX_QUERYDEGREE 9 immediate
* INTRA_PARALLEL YES immediate
* MON_HEAP_SZ 5000 automatic immediate
* SELF_TUNING_MEM ON immediate
* DB_MEM_THRESH 100 immediate
* DATABASE_MEMORY 7340032 automatic immediate
* PCKCACHESZ 200000 immediate
* MAXAPPLS 128 immediate
* MAX_LOG 0 immediate
* LOGFILSIZ 1024 immediate
* LOGBUFSZ 2048 immediate
* LOGPRIMARY 36 immediate
* LOGSECOND 6 immediate
* NUM_IOSERVERS 11 automatic immediate
* DFT_DEGREE -1 immediate
* DFT_QUERYOPT 2 immediate
* AUTO_MAINT OFF immediate
* DB2TCPCONNMGRS=1
* mincommit =1
* Diagpath: The best practice is to override diagpath to a local, non-NFS directory for each partition.



PRODUCT ALIAS/SYNONYM
 MDM
MDM AE
Hybrid MDM
Master Data Management
IBM Infosphere Master Data Management Advanced Edition
MDM Server