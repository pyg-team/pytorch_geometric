Title: IBM Using Microsoft Distributed Transaction Coordinator (DTC) Tracing to troubleshoot FileNet P8 Content Engine (CE) issues - United States

Text:
distributed; transaction; coordinator; DTC; tracing TECHNOTE (FAQ)

QUESTION
 How do I use Microsoft Distributed Transaction Coordinator (DTC) Tracing to troubleshoot FileNet P8 Content Engine (CE) issues? 

CAUSE
The DTC tracing feature provides a trace of high-level transactions that a distributed transaction undergoes during processing. DTC tracing is designed primarily as a tool used to provide information to Microsoft for troubleshooting purposes.

ANSWER
Microsoft DTC is configured by default to log Aborted and Long Lived transactions to a binary log file c:\windows\system32\msdtc\trace\dtctrace.log. Using Component Services, tracing of All Transactions can be added to this log: 


 * In Component Services, right click My Computer and select Properties. 
   
 * On the MSDTC tab click the Tracing Options button and check the Trace All Transactions box.
   

Once the requested log has been generated, it must be converted to a readable .csv format. In the c:\windows\system32\msdtc\trace directory there is a batch file, msdtcvtr.bat, that can be used to create a csv file from the binary log. 

Run the batch file as follows to create the csv file: 

C:\WINDOWS\system32\MsDtc\Trace>msdtcvtr -tracelog dtctrace.log -mof msdtctr.mof 

This will generate a .csv file called trace.csv in the same directory. 

Data to collect: The generated trace.csv output. Include a description of any known circumstances leading up to the issue along with any server error logs. Also document the time at which the issue occurred. 

For more information: See the Microsoft website for more details and download information on DTC.