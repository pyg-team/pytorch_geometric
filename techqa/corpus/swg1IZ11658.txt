Title: IBM IZ11658: USING ASSIGNMENT MGR CAUSES ALL THE OPEN CURSORS TO BE USED UP BRINGING DOWN MAXIMO. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  Using Assignment Mgr causes all the Open Cursors to be used up
   bringing down Maximo.
   
   There is a related Issue that has been fixed for MxES but I
   can't find it.
   
   Reproduced on 5.2 Patch 04.
   
   To reproduce on Maxdemo
   1. In Control Center, choose  Signature Security and from the
   Actions menu select Authorize Access to Labor.
      I authorized WINSTON to access 5 Laborcodes (one of them
   being Winston).
   2. To check the open rows in  v$open_cursor I used this select
   in SQL*Plus:
   
              select sid, count(*) from v$open_cursor where
   sql_text like '%laborauth%';
   
   3. Start Maximo and go to Assigment Mgr.   In SQL*PLus I ran the
   select from Step 2 and got 42 rows
   4. I Checked the checkbox in front of an ME1 Assignment row and
   clicked Filter Labor to Match work
        In SQL*PLus I ran the select from Step 2 and got 42 rows
   5. I used the Filter on the Labor half of the screen to select
   back all Laborcodes (blank the Craft column and
      click the Binoculars).     In SQL*PLus I ran the select from
   Step 2 and got 83 rows
   6. I Checked the checkbox in front of an EL1 Assignment row and
   click Filter Labor to Match work
        In SQL*PLus I ran the select from Step 2 and got 94 rows
   7. Used the Filter to select back all Laborcodes
        In SQL*PLus I ran the select from Step 2 and got 135 rows
   
   So, we see the open cursors grow from 42 to 135.
   
   The customer reported the same type of increase with these
   sequences but I didn't see it when I tried these:
   - Make an assignment and check the open cursors using the select
   in step 2 and saw it increase each time they
     made another assignment (I did see the increase however
   something was wrong and my assignments never got
     made).
   - Click on Show Assignments and Cancel it and they saw the
   increase each time they clicked on Show Assignments
     and cancelled it (maybe this didn't repeat for me as I never
   got any assignments made).
   
   The customer also reports:
      "I see it go up when I'm in WO Tracking paging through the
   results from a query.  The cursor_count is
       increased by 20 for every page that is displayed (by
   clicking on the right arrow).  The query being run is
       the "select * from laborauth...".  When I click on the
   select records checkbox the count goes up by the
       number of records shown."
   So maybe this problem is a general problem with accessing
   LaborAuth records from anywhere in the system, not just
   Assignment Manager.   It appears that any app that does a select
   on Laborauth does not free up the cursors when the select is
   over.
   
   
    
   
   

LOCAL FIX
 *  n/a
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: no rep p5                                    *
   ****************************************************************
   * PROBLEM DESCRIPTION: no rep p5                               *
   *                                                              *
   ****************************************************************
   * RECOMMENDATION:                                              *
   *                                                              *
   *                                                              *
   *                                                              *
   ****************************************************************
   no rep p5
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  no rep p5
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   IZ11658
   
   
 * REPORTED COMPONENT NAME
   PREVENTIVE MAIN
   
   
 * REPORTED COMPONENT ID
   5724R46PM
   
   
 * REPORTED RELEASE
   520
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-12-21
   
   
 * CLOSED DATE
   2007-12-31
   
   
 * LAST MODIFIED DATE
   2007-12-31
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *     MAXIMO
   
   
    
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R520 PSY
   UP