Title: IBM IV55605: CATALOG IMPORT FAILS. UNABLE TO VIEW REPORTS - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  SUA 2.1 master (Jan 2013 catalog) -> SUA 2.2 master (Jan 2014
   catalog)
   
   Errors will occur such as the following:
   
   2014-02-07 03:49:28 (+0:00:00.010) ERROR: Error saving
   SAM::SoftwareComponentStaging #<SAM::SoftwareComponentStaging
   @values={:name=>"IBM WebSphere Business Integration Server
   Express Plus",
   :release=>"4.4",
   :publisher_guid=>"53e828a2-943f-48c8-8f66-1db82a0bf296",
   :definition_source_id=>114, :definition_source_remote_id=>12,
   :identifier=>"4.4", :description=>nil, :created_at=>Wed Feb 05
   03:00:06 UTC
   2014, :edited_at=>Wed Feb 05 03:00:06 UTC 2014,
   :guid=>"9DF78740-8E11-11E3-BBD9-002710267A5C",
   :publisher_id=>95276}>
   
   2014-02-07 03:49:28 (+0:00:00.022) WARN: Catalog update could
   not be applied
   Using old catalog.  Error was NativeException:
   com.microsoft.sqlserver.jdbc.SQLServerException: Cannot insert
   duplicate key
   row in object 'sam.software_component_stagings' with unique
   index
   'sam_software_component_stagings_guid_index'.:
   com/microsoft/sqlserver/jdbc/SQLServerException.java:197:in
   `makeFromDatabaseError'com/microsoft/sqlserver/jdbc/tdsparser.ja
   va:246:in
   `onEOF'com/microsoft/sqlserver/jdbc/tdsparser.java:83:in
   `parse'com/microsoft/sqlserver/jdbc/SQLServerStatement.java:1488
   :in
   `getNextResult'com/microsoft/sqlserver/jdbc/SQLServerStatement.j
   ava:775:in
   `doExecuteStatement'com/microsoft/sqlserver/jdbc/SQLServerStatem
   ent.java:676:in
   `doExecute'com/microsoft/sqlserver/jdbc/IOBuffer.java:4575:in
   `execute'com/microsoft/sqlserver/jdbc/SQLServerConnection.java:1
   400:in
   `executeCommand'com/microsoft/sqlserver/jdbc/SQLServerStatement.
   java:179:in
   `executeCommand'com/microsoft/sqlserver/jdbc/SQLServerStatement.
   java:154:in
   `executeStatement'com/microsoft/sqlserver/jdbc/SQLServerStatemen
   t.java:633:in
   `executeUpdate'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/ge
   ms/sequel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/se
   quel/adapters/jdbc.rb:453:in
   `execute_statement_insert'C:/Users/Administrator.IBM-I4IL3OGOBE2
   /.bundle/gems/sequel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a
   7cf7/lib/sequel/adapters/jdbc.rb:276:in
   `execute'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/seq
   uel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel/d
   atabase/logging.rb:37:in
   `log_yield'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/s
   equel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel
   /adapters/jdbc.rb:276:in
   `execute'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/seq
   uel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel/a
   dapters/jdbc.rb:618:in
   `statement'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/s
   equel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel
   /adapters/jdbc.rb:263:in
   `execute'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/seq
   uel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel/c
   onnection_pool/threaded.rb:102:in
   `hold'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/sequel
   -3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel/data
   base/connecting.rb:240:in
   `synchronize'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems
   /sequel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequ
   el/adapters/jdbc.rb:262:in
   `execute'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/seq
   uel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel/a
   dapters/jdbc.rb:296:in
   `execute_insert'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/g
   ems/sequel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/s
   equel/dataset/actions.rb:876:in
   `execute_insert'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/g
   ems/sequel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/s
   equel/dataset/actions.rb:359:in
   `insert'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/sequ
   el-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel/mo
   del/plugins.rb:28:in
   `insert'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/dom
   ains/sam/app/models/sam/catalog.rb:413:in
   `db_save'./domains/sam/lib/sam/canonical_parser.rb:2110:in
   `db_save'./domains/sam/lib/sam/canonical_parser.rb:387:in
   `possibly_create'./domains/sam/lib/sam/canonical_parser.rb:439:i
   n
   `build_default'./domains/sam/lib/sam/canonical_parser.rb:1341:in
   `generate_component'./domains/sam/lib/sam/canonical_parser.rb:12
   63:in
   `adjust_discoverable_guid'./domains/sam/lib/sam/canonical_parser
   .rb:938:in
   `start_element_namespace'nokogiri/XmlSaxParserContext.java:241:i
   n
   `parse_with'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/
   nokogiri-1.5.7.1967db5f1d8dc76ac4fa405ee00bde146495226a-java/lib
   /nokogiri/xml/sax/parser.rb:95:in
   `parse_io'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/no
   kogiri-1.5.7.1967db5f1d8dc76ac4fa405ee00bde146495226a-java/lib/n
   okogiri/xml/sax/parser.rb:82:in
   `parse'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/doma
   ins/sam/app/models/sam/catalog.rb:238:in
   `load'org/jruby/RubyIO.java:1139:in
   `open'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/domai
   ns/sam/app/models/sam/catalog.rb:238:in
   `load'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/domai
   ns/sam/app/models/sam/catalog.rb:307:in
   `stage'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/doma
   ins/sam/domain.rb:150:in
   `Domain'org/jruby/RubyProc.java:270:in
   `call'org/jruby/RubyProc.java:220:in
   `call'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/lib/e
   tl/task.rb:11:in
   `run'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/lib/et
   l/tasks.rb:20:in
   `run'org/jruby/RubyArray.java:1620:in
   `each'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/lib/e
   tl/tasks.rb:18:in
   `run'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/lib/et
   l/runner.rb:53:in
   `run'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/lib/se
   quel/extensions/date_utils.rb:18:in
   `freeze_date'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems
   /sequel-3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequ
   el/connection_pool/threaded.rb:115:in
   `hold'C:/Users/Administrator.IBM-I4IL3OGOBE2/.bundle/gems/sequel
   -3.48.0.ccb673f0396980c7b6b6314f08ef9c16332a7cf7/lib/sequel/data
   base/connecting.rb:240:in
   `synchronize'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platfor
   m/lib/sequel/extensions/date_utils.rb:9:in
   `freeze_date'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platfor
   m/lib/etl/runner.rb:52:in
   `run'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/lib/et
   l/runner.rb:124:in
   `within_import'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platf
   orm/lib/dss/logger.rb:12:in
   `log_to'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/lib
   /etl/runner.rb:121:in
   `within_import'org/jruby/RubyKernel.java:1816:in
   `tap'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platform/lib/et
   l/runner.rb:112:in
   `within_import'c:/Users/Administrator.IBM-I4IL3OGOBE2/tema-platf
   orm/lib/etl/runner.rb:28:in
   `run':1:in `':1:in `'org/jruby/RubyProc.java:270:in
   `call'org/jruby/RubyProc.java:224:in `call'
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   PROBLEM SUMMARY:
   ****************************************************************
   * Catalog import fails and it is not possible to view reports.
   * The problem occurs only when Software Use Analysis version
   * 2.0 or 2.1 is upgraded to version 2.2.
   *
   * BEHAVIOR AFTER APPLYING THE PATCH:
   * The problem occurs because some catalog entries are
   * incorrectly handled during the import. After you install the
   * patch, the problematic entries are handled properly.
   ****************************************************************
   * RECOMMENDATION: Apply appropriate update when available.
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is contained in the following maintenance
   packages:
    | Update | SUA 2.2 Patch 3, Site version updated:  47
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV55605
   
   
 * REPORTED COMPONENT NAME
   EP MG SW USE AN
   
   
 * REPORTED COMPONENT ID
   5725C43SA
   
   
 * REPORTED RELEASE
   910
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-02-18
   
   
 * CLOSED DATE
   2014-03-28
   
   
 * LAST MODIFIED DATE
   2014-03-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   IEM SW USE ANL
   
   
 * FIXED COMPONENT ID
   5725F5700
   
   

APPLICABLE COMPONENT LEVELS
 * R900 PSY
   UP