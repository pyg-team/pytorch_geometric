Title: IBM SQLCODE: -5042 returned when connecting to DB2 on Z/OS from Websphere Application Server  using Type 4 JDBC XA driver. - United States

Text:
SQLCODE: -5042; JCC; SPM_NAME; XA Transaction TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Connection from Websphere Application Server to DB2 on Z/OS using Type 4 JDBC XA driver fails with exception: java.sql.SQLException: DB2 SQL error: SQLCODE: -5042.


SYMPTOM
Exception received: 

java.sql.SQLException: DB2 SQL error: SQLCODE: -5042, SQLSTATE: , 
SQLERRMC: ;1208;FCCAPP ;CQDB;QDB2; ; ; ;1208; ;DSRA0010E: SQL State = , 
Error Code = -5,042. View JVM logs for further details. 



CAUSE
Usually this issue is caused by SPM_NAME (SyncPointManager Name) not set in dbm cfg (Database Manager Configuration) of the DB2 Connect instance. 

 


RESOLVING THE PROBLEM
 Update the SPM_NAME in dbm cfg to the hostname of DB2 connect server. 

 

 1. db2 update dbm cfg using SPM_NAME <hostname of DB2 connect server> 
 2. db2stop 
 3. db2start 

RELATED INFORMATION
 SPM_NAME [http://publib.boulder.ibm.com/infocenter/db2luw/v9/topic/com.ibm.db2.udb.admin.doc/doc/r0000339.htm]