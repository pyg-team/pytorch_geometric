Title: IBM Intelligent Video Analytics Middleware for Large Scale Surveillance installation can fail when creating scheduler tables - United States

Text:
IVA; MILS; install; installation TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The Intelligent Video Analytics Middleware for Large Scale Surveillance (MILS) installation can fail on step 93 of the installation with a non zero return code: 105. 

SYMPTOM
The MILS install will report the following error on step 93 of the Intelligent Video Analytics installer: 

-----------------------
Processing step: 93 of 139
Name: jython-framework-run-jython-with-profile-3
Type: cmd
Source: spin\products\configurator\jythonframework\jython-framework-run-jython-with-profile.props:3
Started at: Sat 13 Dec 2014 00:41:18.721
Command to be issued: C:\Progra~1\IBM\SVS\WebSphere\AppServer\profiles\AppSrv01\bin\wsadmin.bat -lang jython -profile c:\spin\spinPackage\spin\tools\jython\common.py -f c:\spin\spinPackage\spin\tools\jython\py\jython-framework-create-scheduler-1.py > c:\spin\spinPackage\rds_configurator.log
Output from process
E Non zero return code: 105
Source: spin\products\configurator\jythonframework\jython-framework-run-jython-with-profile.props:7:62 ${model-cmd-jython-framework-runJython-with-profile}
Command was: C:\Progra~1\IBM\SVS\WebSphere\AppServer\profiles\AppSrv01\bin\wsadmin.bat -lang jython -profile c:\spin\spinPackage\spin\tools\jython\common.py -f c:\spin\spinPackage\spin\tools\jython\py\jython-framework-create-scheduler-1.py > c:\spin\spinPackage\rds_configurator.log
Ended at: Sat 13 Dec 2014 00:41:18.721
Elapsed: 00:11:11.502
E SpinStepsVerbose: Unable to process, errors found.
Total elapsed: 00:33:44.864
Processing Ended at: Sat 13 Dec 2014 00:52:30.223
SPiN ended: unsuccessfully :-(

Checking the WebSphere Application Server logs will show that a SOAP connector thread was reported as possibly hung during the creation of the scheduler tables. However the scheduler tables do create successfully and the possibly hung thread completes:

[12/13/14 0:53:09:036 EST] 00000003 ThreadMonitor W WSVR0605W: Thread "SoapConnectorThreadPool : 0" (00000012) has been active for 639881 milliseconds and may be hung. There is/are 1 thread(s) in total in the server that may be hung.
...
[12/13/14 0:57:25:703 EST] 00000012 WASSchedulerC I SCHD0087I: Scheduler tables created successfully.
...
[12/13/14 0:57:26:670 EST] 00000012 ThreadMonitor W WSVR0606W: Thread "SoapConnectorThreadPool : 0" (00000012) was previously reported to be hung but has completed. It was active for approximately 897515 milliseconds. There is/are 0 thread(s) in total in the server that still may be hung.

The wsadmin.traceout log shows that the wsadmin connection timed out:

[12/13/14 0:52:29:708 EST] 00000000 AbstractShell A WASX7093I: Issuing message: "WASX7017E: Exception received while running file "c:\spin\spinPackage\spin\tools\jython\py\jython-framework-create-scheduler-1.py"; exception information: com.ibm.websphere.management.exception.ConnectorException org.apache.soap.SOAPException: [SOAPException:
faultCode=SOAP-ENV:Client; msg=Read timed out;
targetException=java.net.SocketTimeoutException: Read timed out]
"


CAUSE
The scheduler tables do create successfully but the wsadmin connection times out before completion and reports an error.



RESOLVING THE PROBLEM
Increase the SOAP connection timeout value and restart the spin installer. 


On Linux platforms, edit the following file:
/opt/IBM/SVS/WebSphere/AppServer/profiles/AppSrv01/properties/soap.client.props

On Microsoft Windows platforms, edit the following file:
C:\Program Files\IBM\SVS\WebSphere\AppServer\profiles\AppSrv01\properties\soap.client.props

Locate the following value and increase it from 600 to 1800:
com.ibm.SOAP.requestTimeout=600

Save the file and restart the MILS installation.