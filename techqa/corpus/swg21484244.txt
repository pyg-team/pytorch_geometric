Title: IBM Enabling cache on a database source node will produce an error in Modeler - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 I am able to pull a long string of text from my database using Modeler. If I enable caching on the database node and execute the stream, I will get the following error:

For Oracle:
S1000[12899] [DataDirect][ODBC Oracle Wire Protocol driver][Oracle]ORA-12899: value too large for column "SYSTEM"."CLEMTMP300226491"."ABC" (actual: 2048, maximum: 255)

For SQL Server:
22001[8152] [DataDirect][ODBC SQL Server Driver][SQL Server]String or binary data would be truncated.


RESOLVING THE PROBLEM
In Modeler the width of a string field created for a database cache table will be based on the length of the values in that field in an upstream type node. In the absence of such type information the default string width used by Modeler when creating such tables will be 255. If you need to increase the default value, you can use the options.cfg parameter:

default_sql_string_length

eg: default_sql_string_length, 512

This specifies the default width of string columns that will be created within database cache tables. String fields in database cache tables will be created with a default width of 255 if there is no upstream type information. If you have wider values than this in your data please either instantiate an upstream type node with those values(see Type node help for details on manually setting these column widths), or set this parameter to a value that is large enough to accommodate those string values. 

When default_sql_string_length doesn't solve the truncation error and the issue is with typeless fields (in which case it can't read in the values in the types node to compute the correct length), the issue can be solved with using the (undocumented) "Max String
Length" control in the per field formatting within the type node.In the Types tab, double-click the typeless field and enter the appropriate length for "Max String Length".

RELATED INFORMATION
 Need more help? Our Modeler forum is Live! [https://developer.ibm.com/answers/topics/modeler/?smartspace=predictive-analytics]


 

HISTORICAL NUMBER
 85232