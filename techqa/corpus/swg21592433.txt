Title: IBM TADDM does not start - United States

Text:
fresh install; restart; jvmarg; ulimit; stack TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 TADDM gets OutOfMemory during startup 

SYMPTOM
All but the discovery process is starting during taddm startup. In the logs, a outOfMemory error is seen 

Apr 20, 2012 3:13:35 PM com.sun.jini.reggie.RegistrarProxy 

handleException 

INFO: unmarshalling failure 

java.lang.OutOfMemoryError: Failed to create a thread: retVal -1073741830, errno 11 


CAUSE
Error 'java.lang.OutOfMemoryError: Failed to create a thread: retVal -1073741830, errno 11' is a system error and not a code error. It points toward native memory issues.


DIAGNOSING THE PROBLEM
The following error is seen in the TADDM logs 

2012-04-20 15:13:34,693 [ServiceLookupThread] DEBUG 

jini.ServiceAccessor - Done 

2012-04-20 15:13:34,696 [DiscoverAdminStarter] INFO 

jini.ServiceLifecycle - [PLATFORM.JINI.I.3] DiscoverAdmin is started. 

2012-04-20 15:13:35,101 [task] DEBUG jini.ServiceAccessor - 

serviceAdded() called once for interface 

com.collation.proxy.viewmgr.ViewManagerServiceInterface,this = 

com.collation.platform.jini.ServiceAccessor@f300f30,service=Proxy[ViewMa 

nagerServiceInterface,RemoteObjectInvocationHandler[UnicastRef [liveRef: 

[endpoint:[localhost:48265](remote),objID:[5d144e5c:136d1634ff9:-8000, 

8]]]]] 

2012-04-20 15:13:35,102 [FireAdded] DEBUG cdb.CDMEventListenerImpl - 

Adding to view manager listener 

JVMDUMP006I Processing dump event "systhrow", detail 

"java/lang/OutOfMemoryError" - please wait. 

JVMDUMP032I JVM requested Snap dump using 

'/opt/netcool/IBM/cmdb/dist/bin/Snap.20120420.151335.24366.0001.trc' in 

response to an event 

UTE001: Error starting trace thread for "Snap Dump Thread": -1 

JVMDUMP010I Snap dump written to 

/opt/netcool/IBM/cmdb/dist/bin/Snap.20120420.151335.24366.0001.trc 

JVMDUMP032I JVM requested Heap dump using 

'/opt/netcool/IBM/cmdb/dist/bin/heapdump.20120420.151335.24366.0002.phd' 

in response to an event 

JVMDUMP010I Heap dump written to 

/opt/netcool/IBM/cmdb/dist/bin/heapdump.20120420.151335.24366.0002.phd 

JVMDUMP032I JVM requested Java dump using 

'/opt/netcool/IBM/cmdb/dist/bin/javacore.20120420.151335.24366.0003.txt' 

in response to an event 

JVMDUMP010I Java dump written to 

/opt/netcool/IBM/cmdb/dist/bin/javacore.20120420.151335.24366.0003.txt 

JVMDUMP013I Processed dump event "systhrow", detail 

"java/lang/OutOfMemoryError". 

Apr 20, 2012 3:13:35 PM com.sun.jini.reggie.RegistrarProxy 

handleException 

INFO: unmarshalling failure 

java.lang.OutOfMemoryError: Failed to create a thread: retVal 

-1073741830, errno 11 

 at java.lang.Thread.startImpl(Native Method) 

 at java.lang.Thread.start(Thread.java:980) 

 at sun.rmi.transport.tcp.TCPChannel 


RESOLVING THE PROBLEM
Check the following 

- Are system space requirements met 

- ulimit -a (needs to be set to unlimited) 

- stack size (this customer needed to raise it from 1024 to 4096 which resolved the issue) 

- check number of processes allowed for user 

- collation.properties (check jvm settings on the different TADDM processes) 

- check 'df -k' for file space

 

PRODUCT ALIAS/SYNONYM
 TADDM