Title: IBM CPSM API GET receives response 1028 INVALIDPARM reason 1299 criteria - United States

Text:
EYU0XDOL XDOL EYU0XDOP XDOP EYU0XDP1 XDP1 5655M1501 R100 R102 R310 5655-M15 5655M15 HCP3100 JCP3102 5655M1500 R320 R50M JCI650M 5655S9700 R600 R60M 5655-S97 5655S97 FMID JCI660M R700 R70M JCI670M CPSM cpsmpddb TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Your CICSPlex SM API program issues a GET API verb for the TERMNL object with a criteria string of "TERMID=<*." requesting all MRO connections with prefix < followed by generic '*' asterisk. The GET receives a RESPONSE 1028 INVALIDPARM and a REASON 1299 CRITERIA . 

CAUSE
The special characters in a filter expression were not within single quotes.

DIAGNOSING THE PROBLEM
The CPSM API requires special characters in filter expressions be specified within single quotes . The < > signs which can make up a termid value for an MRO session are special characters and must be specified within quotes. The problem is that values specified within quotes are interpreted literally, thus '<*' would look for MRO session identifiers of "<*" instead of using the asterisk as a generic. Special characters also preclude the use of the + wildcard character.


In this case, you wanted the GET to obtain all MRO termids so specifying a CRITERIA of 'DEVICE=ISCMMCONV.' achieves the desired result set. 

IBM requirement MR00075117 has been submitted and accepted to add support for generic and wild cards for strings consisting of special characters. 

The CPSM CMAS auxtrace dataset trace indicates XDP1 creating DEBUG text of BADCRIT . A TRACK of methods called from XDP1 indicates XDOL called XDOP to parse the filter and received a STATUS of INVALID_OPERATOR . This is due to not specifying the value within quotes so the =< was interpreted as part of the operator and is invalid.


RESOLVING THE PROBLEM
Make sure any special characters are specified within single quotes.



RELATED INFORMATION
#How to build a filter expression [http://pic.dhe.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.doc/eyup1/topics/eyup1a0.html]




PRODUCT ALIAS/SYNONYM
 CICSPlex SM CICSPlexSM CPSM CP/SM