Title: IBM WMB/IIB MustGather: problems with deployment timeouts - United States

Text:
Collect; troubleshooting; data; BIP2066E; deploy; MustGather TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 WebSphere Message Broker (WMB) and IBM Integration Bus (IIB) will issue a BIP2066E error message on deployment if the execution group fails to respond.

This MustGather document explains how to troubleshoot this problem by yourself, how to generate diagnostic data when the problem is happening, how to collect the available data from your system, and how share that data with IBM support. 

SYMPTOM
Your Integration Node (broker) fails to respond to a deployment request that was issued by using either the WMB/IIB Toolkit, the Explorer plugin, or the mqsideploy command. You might see a deployment hang/timeout, or BIP2066E errors in the message log.


ENVIRONMENT
These instructions are for WebSphere Message Broker or IBM Integration Bus on AIX, HP-UX, Linux, Solaris or Windows systems.
Return to the WMB / IIB MustGather index [http://www.ibm.com/support/docview.wss?uid=swg21209857] for other problems. 

RESOLVING THE PROBLEM



STEP 1: SELF-GUIDED TROUBLESHOOTING

A BIP2066E message indicates that a response was not received from your execution group within the time period specified in the ConfigurationChangeTimeout parameter. 
The default setting for deployment timeouts is 5 minutes (300 seconds), so increase this value only if the timeout was manually reduced to a lower value. 


Many broker commands, including starting, stopping, and creating objects are considered deployment actions. 
You may see a BIP2066E error in the message log even if you did not use the mqsideploy command. 



Does one specific mqsi command timeout, or do multiple mqsi commands timeout?
Do even non-deployment commands, such as mqsilist or mqsiservice, timeout?
Can you re-create the problem from a different deployment method? 

 * mqsideploy
 * Toolkit
 * Explorer

Are messages backing up on any of the SYSTEM.BROKER.* queues?
Do these messages continue to appear when the Broker are stopped?




STEP 2: COLLECT DATA

 1. Error logs  * On UNIX and Linux systems, the local error log is the syslog. The location of your syslog is configured in the syslog daemon.
       See: Configuring the syslog daemon [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/an04230_.htm]
     * On Window systems, the local error log is the Windows Application Event Log. You can find the Event Viewer from the Windows Control Panel.
       See: Windows: Viewing the local error log [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/an04090_.htm]
    
    
 2. 
 3. Traces 
    a) In your broker environment, SET or EXPORT the environment variables 
    
     * 'MQSI_SHOW_DEPLOY=1'
     * 'MQSI_DEPLOY_PROGRESS=1'
    
    b) Restart the broker components to pick up the change to the environment.
    c) Output of command mqsidc
    d) Capture a deploy trace [http://www.ibm.com/support/docview.wss?uid=swg21177049]
    
    
 4. 
 5. General Broker information  * Record the WebSphere Message Broker version, release, and maintenance level.
       This can be captured using the command 'mqsiservice -v'.
     * Record the operating system version, release, and maintenance level.
     * Record the version, release, and maintenance level of any related products and components for the problematic application.
     * Collect the broker's environment.
        * env (UNIX)
        * set (Windows)
       
       
     * Collect the Standard Output/Error logs.
       On UNIX and Linux systems, WMB writes information to both 'stdout' and 'stderr' files.
       On Window systems, WMB writes information to a 'console.out' file.
       These files are located under the Message Broker workpath.
       See: Standard System Logs [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/au14165_.htm]
    
    



STEP 3: SUBMIT DATA TO IBM

 * Use IBM Service Request [http://www.ibm.com/support/servicerequest/] to open or view a problem record with IBM.
 * Send your data to IBM [http://www.ibm.com/support/docview.wss?uid=swg21392217] for further analysis.




Please see the IBM Software Support Handbook [http://www14.software.ibm.com/webapp/set2/sas/f/handbook/home.html] for more information on working with IBM support.



Back to top

RELATED INFORMATION
 Deploy trace instructions [http://www.ibm.com/support/docview.wss?uid=swg21177049]
submitting documentation to IBM [http://www.ibm.com/support/docview.wss?uid=swg21392217]




PRODUCT ALIAS/SYNONYM
 WMB MB WebSphere Message Broker IBM Integration Bus IIB IBMIB MQ Integrator WBIMB WBI-MB MQSI WMQI