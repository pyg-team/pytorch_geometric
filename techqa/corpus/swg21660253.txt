Title: IBM Access authorisation problems when trying to receive MQ publications (MB V7 FP5 or later) - United States

Text:
WMB; WMQ TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 With Message Broker V7 FP5 or later, receiving publications is no longer done with the Broker UserID, but using the UserID or the user who issued the request. This results in access authorisation problems, when the user which is to receive the publication is not a member of group DNIvYGRP. 

SYMPTOM
There are several scenarios in which messages or events can't be published properly in WBIFN, and the ACF access violation to use the WBIFN MQ resources by the other user ID were observed, for example : 

ACF04056 ACCESS TO RESOURCE <QMGR>.PUBLISH.<DNIvTPFX>.DNI.EVENTID TYPE <TYPECODE> BY <USERID> NOT AUTHORIZED
ACF04056 ACCESS TO RESOURCE <QMGR>.PUBLISH.SYSTEM.BASE.TOPIC TYPE <TYPECODE> BY <USERID> NOT AUTHORIZED


CAUSE
This problem is caused by a change to handle publications in WebSphere Message Broker 7.0.0.5. 

Before WebSphere Message Broker 7.0.0.5, always the started task ID of the message broker was used to publish an event and therefore, only the started task ID of the message broker required the permissions to do so.
Now, WebSphere Message Broker publishes messages with the user ID specified in the publication request, not the started task ID of the message broker.
Then the issue will be observed if the user ID in the request message has no appropriate access right.


RESOLVING THE PROBLEM
If the WebSphere Message Broker UserID shall be used for all publications, set the environment variable MQSI_PUBSUB_USE_BROKER_USERID to any value in the Broker's ENVFILE. 

For more information please refer to WebSphere Bi for FN Planning, Installation, and Customization guide, Chapter 15. Preparing a runtime system on which a broker runs.
If you want the publications be published under the UserID which issued the publication request, make sure that for each user which may issue such a request, the appropriate access authorisation is granted.