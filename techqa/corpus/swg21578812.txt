Title: IBM "Illegal circular USE: DocExpProcessing" returned when opening a Notes mail folder - United States

Text:
Illegal circular USE DocExpProcessing mail folder error; Illegal circular USE; DocExpProcessing TECHNOTE (TROUBLESHOOTING)

PROBLEM
The message "Illegal circular USE: DocExpProcessing" displays when opening a mail folder.

SYMPTOM
A Notes Client user cannot access user created folders in Notes mail database.


CAUSE
Issue with the user's mail folder design.

ENVIRONMENT
Notes 8.5.2, Windows XP

DIAGNOSING THE PROBLEM
The error message was isolated to user created folders and was not seen when accessing other mail database design elements. After reviewing the mail folder design, it was confirmed the folder design was not based off a system folder, rather a different user created folder design was used for the design. 


In this case, the user had created new folders basing the design on a user created folder instead of the system folder. The script libraries from the older template were no longer available in the newer template and this triggered the error "Illegal circular USE: DocExpProcessing" to display.


RESOLVING THE PROBLEM
To correct the issue, the user created mail folder design should be updated to use a system folder, e.g. the Inbox. The steps documented under technote 1243687 could not be used to resolve this issue. In this case, the user was unable to access the mail file, menu option, Action --> Upgrade Folder Design. For this user, the issue was fully resolved by implementing the following steps: 


1. Open the Designer Client
2. Open the user's mail database
3. Display Agents, double click "Agents" to display all agents in the right frame set
4. Locate the agent "(Up_grade Folder Design)" alias "Upgrade Folder Design"
5. Double click to upgrade the folder design for all user created folders 
6. Ensure a system folder is used for the new folder design, the In Box can be used for the design


Once the design of all the folders is based on the system folder, i.e. the In Box, this error message no longer displayed. 

RELATED INFORMATION
 Error: "Illegal circular USE: DocExpProcessing" when op [http://www.ibm.com/support/docview.wss?uid=swg21243687]