Title: IBM Getting OutOfMemoryError Failed to create a thread in UrbanCode Deploy - United States

Text:
Dump Event; systhrow; java/lang/OutOfMemoryError; Failed to create a thread; retVal; errno 11 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to use the IBM UrbanCode Deploy Server or Agent with the IBM JVM results in the error "java/lang/OutOfMemoryError" "Failed to create a thread: retVal -1073741830, errno 11". 

SYMPTOM
While using the IBM UrbanCode Deploy Server or Agent with the IBM JVM, you may experience errors that manifest themselves with the generation of a file called javacore.<timestamp>.txt. 

This file may be located in the following directories:


 * Server: <server>/bin 
 * Agent: <agent>/var/work/<componentName>


Note: where ComponentName is that name of the Component whose process was being executed at the time of the error. Typically, in the case of the agent, this issue manifests itself during the execution of a process, so it involves the JVM that runs a step of a plugin. 

This file may contain an entry like the following: 

1TISIGINFO Dump Event "systhrow" (00040000) Detail "java/lang/OutOfMemoryError" "Failed to create a thread: retVal -1073741830, errno 11" received 
CAUSE
This error means that the Server or Agent process was not able to acquire native memory in order to start a new execution thread.


DIAGNOSING THE PROBLEM
Troubleshooting the issue: 

 

 1. Use operating system tools to determine if there is enough free physical memory on the system. 
    If there is enough free memory, then proceed to the next step.
    
    
 2. Inspect the following section of the javacore file:
    
    1CIUSERLIMITS User Limits (in bytes except for NOFILE and NPROC)
    
    You may see something similar to the following:
    
    2CIUSERLIMIT RLIMIT_NPROC 1024 47552
    
    This indicates that the number of processes per user is too low. 

RESOLVING THE PROBLEM
Increase the free physical memory on the system (if needed). 

 

If there is enough free physical memory on the system, review the technote titled Guidelines for setting ulimits (WebSphere Application Server) [http://www.ibm.com/support/docview.wss?uid=swg21469413] to determine how to increase the number of processes to resolve the error.