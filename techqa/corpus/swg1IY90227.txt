Title: IBM IY90227: Client Channel Definition File created from WMQ 5.3 gives error when read from a WMQ v6.0 java client when CRL is configured - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V6.0 for iSeries Fix Pack 6.0.2.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24013915]
WebSphere MQ V6.0 Fix Pack 6.0.2.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24013914]
WebSphere MQ 6.0 for HP OpenVMS Alpha and Itanium - Fix Pack 6.0.2.7 [http://www-01.ibm.com/support/docview.wss?uid=swg24027266]
WebSphere MQ 6.0 for HP OpenVMS Alpha and Itanium - Fix Pack 6.0.2.10 (FP03) [http://www-01.ibm.com/support/docview.wss?uid=swg24029987]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Whenever a Certificate Revocation List is configured in a
   WebSphere MQ 5.3 queue manager and the Client Channel Definition
   Table (CCDT) file from that queue manager is used by a
   WebSphere WMQ 6.0 Java/JMS client,  the Java/JMS client gets a
   Connection refused error (MQRC_CLIENT_CONN_ERROR).
   
   This is primarily due to the corruption of the CCDT file with
   unreadable SSL CRL segments.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Applications using the WMQ v6.0 Java classes connecting using a
   client channel table.
   
   Platforms affected:
    All Distributed (iSeries, all Unix and Windows) +Java
   ****************************************************************
   PROBLEM SUMMARY:
   CCDT files generated from a WebSphere MQ 5.3 queue manager have
   a CRL structure which is different to CCDT files generated by a
   WMQ v6.x Server. Additionally the CCDT files in WMQ V5.3 do not
   have CRL information correctly packed into a segment.
   
   Whenever a 5.3 version CRL segment is encountered in the CCDT,
   the offsets required to move to the next record in the CCDT are
   incorrect and hence the channel table cannot be processed. Even
   when these offsets are correctly calculated, the invalid CRL
   information means they cannot be processed.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The Java code has been modified to check for a WMQ 5.3 CRL
   structure and skip the CRL information when processing the CCDT
   table. Therefore CRL data from a CCDT file created from a WMQ
   5.3 Queue Manager, can not be used by a Java/JMS client.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
                      v6.0
   Platform           Fix Pack 6.0.2.1
   --------           --------------------
   Windows            U200265
   AIX                U807983
   HP-UX (PA-RISC)    U807999
   HP-UX (Itanium)    U808353
   Solaris (SPARC)    U808000
   Solaris (x86-64)   U808451
   iSeries            SI27112
   Linux (x86)        U808001
   Linux (x86-64)     U808369
   Linux (zSeries)    U808002
   Linux (Power)      U808352
   Linux (s390x)      U808368
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY90227
   
   
 * REPORTED COMPONENT NAME
   WEBS MQ FOR SUN
   
   
 * REPORTED COMPONENT ID
   5724B4103
   
   
 * REPORTED RELEASE
   530
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-10-03
   
   
 * CLOSED DATE
   2006-11-06
   
   
 * LAST MODIFIED DATE
   2007-08-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS MQ FOR SUN
   
   
 * FIXED COMPONENT ID
   5724B4103
   
   

APPLICABLE COMPONENT LEVELS
 * R530 PSY
   UP