Title: IBM LO48113: STISC/STIMS/STIAV: LDAP ATTRIBUTE VALIDATION INCOMPLETE WHEN USI NG SAMACCOUNTNAME FROM AD - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When saMAccountName (commonly used in Active Directory
   deployments) is
   provided as an authentication attribute, the install fails with
   an error during LDAP federation, e.g.,
   
   Login properties are not valid: [mail, saMAccountName].
   
   which indicates that Virtual Member Manager thinks the attribute
   is invalid.
   To prevent situations like this, both the System Console and
   Install perform attribute validation to confirm the attribute
   does exist.  This issue is apparently more complicated than
   that, and we need some additional (as yet known) validation
   logic to address this issue.  We may have to use some Virtual
   Member Manager APIs to get to this level, but we are still
   investigating.
   
   Once a solution is found, the validation logic should be in the
   Sametime Solution Console LDAP Prereq as well as in the
   standalone install.
   
   The work-around is to use some other attribute such as cn or
   uid.  In fact, it appears uid is already mapped to
   saMAccountName in wimconfig.xml.  It is not clear why using
   saMAccountName fails but uid does not.  We anticipate that
   whatever results come from investigation will be too risky to
   address in 8.5 so I propose to defer with technote not to use
   saMAccountName and use one of the other attributes.
   
   
   Summary:
   
   -The way to consume the "samAccountName" attribute within
   websphere is
   by specifying "uid" (a Virtual Member Manager property) during
   LDAP plan creation/IM installation.
   
   - websphere already has a internal map of the uid property to
   samAccountName  LDAP attribute for an LDAP Server of type Active
   Directory.
   This is documented here -
   http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com. [http://publib.boulder.ibm.com/infocenter/wasinfo/v7r0/topic/com.]
   ibm.websphere.wim.doc/defaultldapconfigurationmappingbasedonldap
   servertype.html
   
   Attribute mapping:
   samAccountName
   DefaultValue: uid EntityTypes: PersonAccount
   samAccountName
   DefaultValue: cn EntityTypes: Group
   
   - To fix the original issue - we have two options:
   While creating the LDAP prereq plan
   - You could  leave it as "mail;cn" as cn by default (in
   Active Directory) also returns the same value
   (as  posted earlier in the thread)
   or
   specify "mail; cn; uid"  while creating/modifying a LDAP pre-req
   plan
   
   Note - You can also modify this after deployment - by logging
   into the websphere Administrative Console/ (Sametime Solutions
   Console ) and making updates on the page.
   
   This will allow the deployment to consume the samAccountName
   attribute from an Active Directory setup (by default - out of
   the box).
   
   
    
   
   

LOCAL FIX
 *  specify "mail; cn; uid"  while creating/modifying a LDAP pre-req
   plan
   
   
    
   
   

PROBLEM SUMMARY

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  This APAR is associated with SPR# TEIR7XRGP3.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   LO48113
   
   
 * REPORTED COMPONENT NAME
   LOTUS SAMETIME
   
   
 * REPORTED COMPONENT ID
   5724J2300
   
   
 * REPORTED RELEASE
   850
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-01-21
   
   
 * CLOSED DATE
   2010-08-05
   
   
 * LAST MODIFIED DATE
   2010-08-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS SAMETIME
   
   
 * FIXED COMPONENT ID
   5724J2300
   
   

APPLICABLE COMPONENT LEVELS
 * R850 PSN
   UP