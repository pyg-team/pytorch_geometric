Title: IBM OA45955: MQ AGENT HANG FOLLOWING KMQMQ113E - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When the monitoring of a queue manager is terminated with the
   reason "Set ASID Failed" (in message KMQMQ113E), the MQ agent
   can hang next time the same queue manager is monitored.
   You may see KMQMQ111I message indicating the collection
   initialization is in progress but no corresponding KMQMQ112I
   message following KMQMQ111I.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All IBM Tivoli OMEGAMON XE for Messaging:    *
   *                 WebSphere MQ Monitoring 7.0.0 users.         *
   ****************************************************************
   * PROBLEM DESCRIPTION: When the monitoring of a queue manager  *
   *                      is terminated with the reason           *
   *                      "Set ASID Failed" (in message           *
   *                      KMQMQ113E), the MQ agent becomes hang   *
   *                      next time it starts to monitor the same *
   *                      queue manager. When this situation      *
   *                      occurs, you may see KMQMQ111I message   *
   *                      indicating the collection               *
   *                      initialization is in progress but no    *
   *                      corresponding KMQMQ112I message         *
   *                      following KMQMQ111I for this queue      *
   *                      manager.                                *
   ****************************************************************
   * RECOMMENDATION: Apply the PTF.                               *
   ****************************************************************
   The MQ agent code acquires lock when setting addressability
   to the queue manager. The lock is not correctly released
   if failed to set the addressability. When the MQ agent
   starts to monitor the same queue manager at next sampling
   cycle, it acquires the lock again even if it is already
   holding the lock. This results in the agent into the endless
   wait state.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code is modified to correct the flaw in the lock
   handling.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   OA45955
   
   
 * REPORTED COMPONENT NAME
   OMG XE MSG ZOS
   
   
 * REPORTED COMPONENT ID
   5608A1100
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-09-03
   
   
 * CLOSED DATE
   2014-12-17
   
   
 * LAST MODIFIED DATE
   2015-02-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    OA44147 [http://www-01.ibm.com/support/docview.wss?uid=swg1OA44147]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  KMQAMQS2
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OMG XE MSG ZOS
   
   
 * FIXED COMPONENT ID
   5608A1100
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY UA75896 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UA75896]
   UP15/01/09 P F501
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.