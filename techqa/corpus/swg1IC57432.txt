Title: IBM IC57432: OSS APPLICATIONS THAT ATTEMPT TO PERFORM MQI OPERATIONS FROM FORKED PROCESSES ENCOUNTER ERRORS - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.4 [http://www-01.ibm.com/support/docview.wss?uid=swg24020584]
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.6 [http://www-01.ibm.com/support/docview.wss?uid=swg24025461]
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.7 [http://www-01.ibm.com/support/docview.wss?uid=swg24027369]
WebSphere MQ for HP NonStop Server V5.3.1 fix pack 5.3.1.8 [http://www-01.ibm.com/support/docview.wss?uid=swg24030009]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If an oss WMQ application forks a child process, that child
   process will encounter errors if it attempts to perform MQI
   operations, even if the MQCONN operation was performed within
   the child process. Some operations may succeed, but will result
   in the generation of FDC files.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  In 5.3.1.3 and all earlier 5.3 versions, the MQI did not
   function correctly in OSS processes using the fork() operation.
   Primary symptom is probe XY134012 from component with comment
    rc=536895769 errno=53  BINSEM_UNLOCK_ returned 4022). May also
   also present as other errors regardingdisconnecting from shared
   memory sets.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Resolved the process resource problem that resulted in the
   errors described in the PMR. MQI operations from child
   processes created by fork() operations now function correctly,
   with the following restrictions:
   MQI operations are NOT supported from threaded processes that
   perform fork().
   When using fork(), only child processes may use the MQI. If a
   parent processperforms MQI operations, any subsequently forked
   child process will encounter errors if it attempts to use the
   MQI. Attempts to perform MQI operations inchild processes in
   this case will result in FDC files with Probe Id XY077002
   (xtrGetTraceLock, comment  "Guardian error initializing Trace
   Lock").
   Released in WMQ V53 HP NonStop Server V5.3.1.4 fix pack.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC57432
   
   
 * REPORTED COMPONENT NAME
   WEBS MQ NSS MIP
   
   
 * REPORTED COMPONENT ID
   5724A3901
   
   
 * REPORTED RELEASE
   530
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-07-29
   
   
 * CLOSED DATE
   2008-08-18
   
   
 * LAST MODIFIED DATE
   2008-10-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS MQ NSS MIP
   
   
 * FIXED COMPONENT ID
   5724A3901
   
   

APPLICABLE COMPONENT LEVELS
 * R530 PSY
   UP