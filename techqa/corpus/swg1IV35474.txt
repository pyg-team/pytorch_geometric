Title: IBM IV35474: MIGRATION PACKAGE CREATION FAILS WITH MBOSET SIZE LIMIT EXCEPTION. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  I'm doing a collection migration. My installation has 6000
   person
   groups. I added 1 of these person groups to a collection,
   created a
   package definition from the collection, and then tried to create
   a
   package from the package definition. The package create fails.
   
   The SystemOut.log file tells me that I have exceeded the preset
   5000
   object limit on mboset size. I have INFO level sql logging set,
   so I
   can see that the operation causing this problem is "select *
   from
   persongroup for read only".
   
   Why is migration manager scanning the entire persongroup table
   when I
   have only a single person group in my collection? I have the
   same
   problem if I add ASSETATTRIBUTE as a lookup rule target. The
   standard
   demo data has over 6000 ASSETATTRIBUTE table entries. If my
   lookup rule
   adds even a single one to my collection then I'm unable to
   create a
   package.
   
   I know that I can increase the mxe.db.fetchResultStopLimit
   property to
   a level that will allow me to create packages that include
   objects
   where their table sizes are 6000-7000, but there are limits to
   how big
   I can go. Mig Mgr shouldn't be loading full tables into memory
   for
   every object type it migrates.
   
   Sampath Reviewed PMR and has requested a APAR to be created.
   
   See Sampath's comments below -
   
   2. Customer: "Now the Validation is failing "because the preset
   limit 10000 was exceeded for retrieving MAXMESSAGES into a
   single set". It seems bizarre to me that more than 10k messages
   would need to be evaluated for a given report, but I suppose
   that's another PMR."
   
   Response: This is an implementation BUG in the validation
   engine. I have encountered this myself dozens of times when
   running validation.The contents of the MAXMESSAGES table (that
   is, 10000+ records) are being selected into a MboSet. This is
   extremely inefficient and leads to validation being terminated.
   This makes collection validation useless in many cases. This
   must be fixed with better MBO coding.
   
   7.5.0.2
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Migration Manager Users                                      *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * MIGRATION PACKAGE CREATION FAILS WITH MBOSET SIZE            *
   * LIMITEXCEPTION.                                              *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Fixed in code.                                               *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Included in 7.5.0.5 Fix Pack
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV35474
   
   
 * REPORTED COMPONENT NAME
   SMARTCLOUD CTRL
   
   
 * REPORTED COMPONENT ID
   5725E2400
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2013-01-18
   
   
 * CLOSED DATE
   2013-11-18
   
   
 * LAST MODIFIED DATE
   2013-11-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  Maximo
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   SYSTEM CONFIG
   
   
 * FIXED COMPONENT ID
   5724R46S1
   
   

APPLICABLE COMPONENT LEVELS