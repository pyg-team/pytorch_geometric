Title: IBM LO56574: DFR'S ARE MARKED AS HELD. WHEN RELEASED, THE ROUTER USES 50 PERCENT OF THE CPU - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Delivery Failure report, Marked as held, will use 50 percent of
   CPU when marked as Unheld.
   
   
   
   The customser is running an agent on the server that will
   archive messages .
   
   Here is the information the customer gave me about the agents
   running on his server:
   
   
   "Our (customer name)
   archiving solution consists of a strorage appliance and one or
   more
   dedicated "archiving gateway" server.  These are Domino servers
   (sold
   with an OEM Domino license), but they are not part of the
   customer's
   production domain.  They are cross-certified, and entered as
   "trusted
   servers" in the server document.  We install our code on these
   gateway
   servers.  A server task called nrissminer.exe connects to the
   customer's
   mail servers and scans journal databases and user mail
   databases, and it
   identifies messages for archiving and stores their
   replica-id/unid information.  Then a series of agents follow the
   replica-id/unid pointers to access those messages.  One agent,
   called "Archive" actually mails the messages to the archiving
   appliance.  We do this by using the standard Notes/Domino API
   for
   mailing, so the messages are actually copied to the mail.box
   files on the gateway, and the router on the gateway is what
   converts the messages from Notes rich text to MIME and actually
   mails the messages to the appliance via SMTP."
   
   
   I am not sure if the message that is marked dead is created from
   the agent the customer referenced above.
   
   
   I do know when i release the message in the mail.box , the cpu
   of the server will hit 50 percent, used by the router task.
   
   
   
   To reproduce the issue, rename your existing mail.box on your
   domino server. Replace the mail.box wit the mail.box provided by
   the customer.
   
   Open the mail.box and release the Held message.
   
   
   Router task will use 50 percent of CPU.
   
   
   - reproduced issue on 8.5.1fp3 and 8.5.2 Domino servers
   
   - if more than one message in mail.box, the customer sees the
   CPU will spike up to 100 percent
   
   
   TELL ROUTER SHOW will display the router task is in a busy
   state.
   
   
   - messages never get delivered
   
   
    
   
   

LOCAL FIX
 *  no known work around
   
   
    
   
   

PROBLEM SUMMARY
 *  A programming error was found and will be corrected in a future
    release.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A programming error was found and will be corrected in a future
    release.
   
   
    
   
   

TEMPORARY FIX

COMMENTS
 *  This APAR is associated with SPR# LMIL8BHMEV.
   A programming error was found and will be corrected in a future
    release.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   LO56574
   
   
 * REPORTED COMPONENT NAME
   DOMINO SERVER
   
   
 * REPORTED COMPONENT ID
   5724E6200
   
   
 * REPORTED RELEASE
   851
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-11-24
   
   
 * CLOSED DATE
   2014-09-10
   
   
 * LAST MODIFIED DATE
   2014-09-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DOMINO SERVER
   
   
 * FIXED COMPONENT ID
   5724E6200
   
   

APPLICABLE COMPONENT LEVELS
 * R851 PSN
   UP