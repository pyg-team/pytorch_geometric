Title: IBM Enabling the Automatic Backup Automation - United States

Text:
omnibus; objectserver; backup and recovery; nco_objserv; automatic_backup TECHNOTE (FAQ)

QUESTION
 How do I automatically backup the Object Server configuration and data? 

ANSWER
The automatic_backup_system trigger group contains four automations - 
1) automatic_backup – Temporal trigger to backup Object Server database. Disabled by default.
2) backup_failed – Signal trigger which generates critical alert when backup fails. Enabled by default.
3) backup_state_integrity – Database trigger which ensures a single backup will be performed. Enabled by default.
4) backup_succeeded – Signal trigger which generates clearing alert when backup succeeds. Enabled by default.

To setup automatic backups, you will need to configure and enable the automatic_backup trigger as follows - 

[/support/docview.wss?uid=swg21330894&aid=1] [/support/docview.wss?uid=swg21330894&aid=1]

1) Set the trigger interval as desired. The default value of 5 minutes should be increased.
2) Set the trigger state to Enabled

[/support/docview.wss?uid=swg21330894&aid=2] [/support/docview.wss?uid=swg21330894&aid=2]

3) Modify num_backups to the number of backups desired. 

set num_backups = 2;

By default, two backups are created.

4) Modify backup directory, and ensure it exists.

alter system backup '$OMNIHOME/backup/' + getservername() + '/BACKUP_' + to_char( backup_dir );

By default, the backup directory is $OMNIHOME/backup/<Object Server name> The directory can be changed by changing the sql "alter system backup '<directory>';"

When the automation runs, it will run "alter system backup" to backup the Object Server database table_store.tab and master_store.tab files to the backup directory.

To restore using these files, stop the Object Server process. Make a copy of the current Object Server database files in $OMNIHOME/db/<Object Server name>. Replace the contents of the $OMNIHOME/db/<Object Server name> directory with the backed up table_store.tab and master_store.tab files. Then start the Object Server.