Title: IBM How to format TRCCNN's and CMNTRC for wireshark (.pcap) - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How to format TRCCNN's and CMNTRC for wireshark? 

ANSWER

Below are the instructions on how to capture traces and format them for wireshark. 


First make sure you have ptf MF59962 (R720) and/or MF59955 (R710) - Note that after R720, the PTF is in the base code and you do not need to install one.

Communication traces

STRCMNTRC CFGOBJ(LINE) CFGTYPE(*LIN) MAXSTG(32M) USRDTA(*MAX)

<RECREATE FAILURE>

End the communications trace.

ENDCMNTRC CFGOBJ(LINE) CFGTYPE(*LIN)

DMPCMNTRC CFGOBJ(LINE) CFGTYPE(*LIN) TOSTMF('/path/file.cap') REPLACE(*YES) FORMAT(*PCAP)



Trace Connections

TRCCNN SET(*ON) TRCTYPE(*IP) TRCTBL(TCPIP) SIZE(300 *MB)

<RECREATE FAILURE>

TRCCNN SET(*OFF) TRCTBL(TCPIP) OUTPUT(*STMF) TOSTMF('/path/file.cap' *YES)


 



Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 7.1 Operating System IBM i 7.2 Operating System IBM i 7.3