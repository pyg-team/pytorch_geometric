Title: IBM "Devices already exist"  when trying to add devices to TKLM - United States

Text:
Add adding added device devices exist exists TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Unable to add new devices 

CAUSE
Inconsistency

DIAGNOSING THE PROBLEM
The desired device to be added does not show in the GUI but shows in the CLI output when listing devices.

RESOLVING THE PROBLEM
Since the device is partially added in TKLM, we need to remove it then add it.


Please refer to below instructions : 

**** Before we make any changes, please take a TKLM backup: 
http://publib.boulder.ibm.com/infocenter/tivihelp/v2r1/topic/com.ibm.tklm.doc_2.0/tsk/tsk_ic_admin_backup.html [http://publib.boulder.ibm.com/infocenter/tivihelp/v2r1/topic/com.ibm.tklm.doc_2.0/tsk/tsk_ic_admin_backup.html] 

Open a Windows command prompt and change directory to TIP_HOME\bin: 

cd \ibm\tivoli\tiptklmV2\bin 

Log into wsadmin as the built-in local administrator account : 

wsadmin.bat -username tklmadmin -password <tklmpasswd> -lang jython 

On UNIX 

./wsadmin.sh -username tklmadmin -password <tklmpasswd> -lang jython 

Part 1: If you have pending devices and you need to accept them. List all Pending devices requests & accept them if you find any: 

a) List all devices pending requests, look for devices that you are 
trying to add and copy UUID value: 
print AdminTask.tklmPendingDeviceList() 

b) Accept pending devices requests: 
print AdminTask.tklmPendingDeviceAccept('[-deviceUUID 
DEVICE-7d588437-e725-48bf-a836-00a47df64e78 -usage LTO]]') 

For additional information regarding pending device requests, refer to 
the below documentation: 
http://publib.boulder.ibm.com/infocenter/tivihelp/v2r1/index.jsp?topic=% [http://publib.boulder.ibm.com/infocenter/tivihelp/v2r1/index.jsp?topic=%] 
2Fcom.ibm.tklm.doc_2.0%2Ftsk%2Ftsk_ic_admin_deviceautopend.html 
----------------------------------- 

Part 2: If there are no pending devices requests listed, you can try to list existing devices and remove them from there: 

a) List all devices, look for devices that you are trying to add and 
copy UUID value: 

print AdminTask.tklmDeviceList('[-type LTO]')

Example below for serial number 009912345678 

Description = test1234124 
Serial Number = 009912345678 
Device uuid = DEVICE-bc063d11-2587-4101-a2c3-e4937c02b057 
Device group = LTO 
World wide name = 
Sym alias = LATEST 


b) Remove devices specifying the problem device uuid: 

print AdminTask.tklmDeviceDelete('[-uuid DEVICE-bc063d11-2587-4101-a2c3-e4937c02b057]') 

c) List all devices again making sure the the problem device is not in the list: 
print AdminTask.tklmDeviceList('[-type LTO]') 

d) When confirmed, try to add devices manually through TKLM portal (GUI) 


 

PRODUCT ALIAS/SYNONYM
 TKLM