Title: IBM Performance issues when running the VOB scrubber - United States

Text:
1264755; CC; ClearCase; VOB; Windows; 7.0; 7.0.0.1; 7.0.1; scrubber; vob scrubber; Performance TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote explains how to resolve an issue that can occur when using IBM Rational ClearCase (CC) where running scrubber.exe will sometimes take up to many hours to scrub a given VOB. 

SYMPTOM
 

Performance is unexpectedly slow when running the scrubber.exe to scrub a VOB possibly taking many hours to scrub.



CAUSE
 

This is caused by a Microsoft defect. 


DIAGNOSING THE PROBLEM
 

Reviewing a filemon [http://technet.microsoft.com/en-us/sysinternals/bb896642.aspx]output will show a gap between scrubber calls that are caused by an oplock break failing to be processed and the session timing out. You can also see the oplock failure in a network trace. 

It can take up to 40 seconds or more per file for the oplock break to occur.


RESOLVING THE PROBLEM
 

 

To resolve the issue refer to the following Microsoft article, 943459 [http://support.microsoft.com/kb/943459]. 

You need to either download the hotfix or disable oplocks.


If the above resolutions do not resolve the issue, contact Microsoft Support [http://support.microsoft.com/] for further assistance.