Title: IBM OA55708: CLIENT CONNECTIONS MAY FAIL WHEN COMPRESSION IS ENABLED ON THE REMOTE SERVER - United States

Text:
MVS z/OS  A FIX IS AVAILABLE
Obtain the fix for this APAR.

SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When running the z/OS OpenSSH clients (ssh, sftp, scp) and
   connecting to a remote host which has "Compression yes"
   specified in their sshd_config file, the connection may fail
   after OA54734 is applied.  With these settings, the server is
   requiring zlib compression, which has a delayed availability on
   the client and may cause the failed connection.
   
   Collecting a client debug trace should show message "FOTS1120 no
   matching comp found" when this condition occurs.  For example,
   here is a partial trace output:
   
   debug2: kex_parse_kexinit: none,zlib@openssh.com
   debug2: kex_parse_kexinit: none,zlib@openssh.com
   debug2: kex_parse_kexinit: zlib
   debug2: kex_parse_kexinit: zlib
   FOTS1120 no matching comp found: client none,zlib@openssh.com
   server zlib
   
   
   Verification Steps:
   1) OA54734 is applied
   2) Remote system is running with Compression=yes
   3) msgFOTS1120 issued
   
   
    
   
   

LOCAL FIX
 *  If possible, disable compression on the server, or change the
   server to use delayed compression by updating the Compression
   keyword in sshd_config to "no" or "delayed" respectively.  (The
   z/OS default is "no").
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All z/OS Ported Tools OpenSSH                                *
   * V1R3 (HOS1130), z/OS OpenSSH V2R2 (HOS2220)                  *
   * and z/OS OpenSSH V2R3 (HOS2230).                             *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * When running the z/OS OpenSSH                                *
   * clients (ssh, sftp, scp) and                                 *
   * connecting to a remote host which has                        *
   * "Compress yes" specified in the                              *
   * sshd_config file or has                                      *
   * "-oCompression=yes" on the command                           *
   * line, if the remote host's proposed                          *
   * compression method list is "zlib",                           *
   * the conntection will fail after                              *
   * OA54734 is applied.                                          *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Change the proposed compression method list of z/OS OpenSSH
   clients (ssh, sftp, scp) to tolerate the compression method
   "zlib".
   
   
    
   
   

PROBLEM CONCLUSION
 *  Added the compression method "zlib" in the proposed
   compression method list of z/OS OpenSSH
   clients (ssh, sftp, scp), no matter whether the compression
   is enabled or not.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   OA55708
   
   
 * REPORTED COMPONENT NAME
   OPENSSH FOR Z/O
   
   
 * REPORTED COMPONENT ID
   5655M2301
   
   
 * REPORTED RELEASE
   230
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2018-06-14
   
   
 * CLOSED DATE
   2018-07-23
   
   
 * LAST MODIFIED DATE
   2018-08-15
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UA96890 UA96898 UA96907 UA96920
   
   

MODULES/MACROS
 *  FOTSXSSH
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OPENSSH FOR Z/O
   
   
 * FIXED COMPONENT ID
   5655M2301
   
   

APPLICABLE COMPONENT LEVELS
 * R220 PSY UA96920 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UA96920]
   UP18/08/15 I 1000
   
   
 * R130 PSY UA96907 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UA96907]
   UP18/08/15 I 1000
   
   
 * R230 PSY UA96898 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UA96898]
   UP18/08/15 I 1000
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.