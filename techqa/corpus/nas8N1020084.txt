Title: IBM How To Enable the IBM Technology for Java VM Tool Inferface To Collect Profiler Data In IBM WebSphere Application Server v6.1 and later - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 This document will answer the question, "How To Enable the IBM Technology for Java VM Tool Inferface To Collect Profiler Data In IBM WebSphere Application Server v6.1 and later?" 

ANSWER
VERY IMPORTANT!!!: Do NOT use the instructions outlined in the IBM WAS v6.1 and v7.0 Knowledge Center URLs listed below for "Enabling the Java virtual machine profiler data" if you are using the IBM Technology for Java VM (IT4J). These instructions are for the IBM i Classic JVM ONLY. If followed, the IT4J VM will not start successfully due to an invalid JVM argument. To resolve the issue, the server.xml file for the application server will need to be manually edited to remove the JVM argument.
http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.express.iseries.doc/info/iseriesexp/ae/tprf_jvmpidata.html [http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.express.iseries.doc/info/iseriesexp/ae/tprf_jvmpidata.html]

====================================================== 

For instructions on how to set up the JVMTI for WAS v8.0, v8.5, and v9.0, please refer to the following URLs:
http://pic.dhe.ibm.com/infocenter/wasinfo/v8r0/topic/com.ibm.websphere.express.iseries.doc/info/iseriesexp/ae/tprf_jvmpidata.html [http://pic.dhe.ibm.com/infocenter/wasinfo/v8r0/topic/com.ibm.websphere.express.iseries.doc/info/iseriesexp/ae/tprf_jvmpidata.html]
http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.express.iseries.doc/ae/tprf_jvmpidata.html [http://pic.dhe.ibm.com/infocenter/wasinfo/v8r5/topic/com.ibm.websphere.express.iseries.doc/ae/tprf_jvmpidata.html]
https://www.ibm.com/support/knowledgecenter/SSEQTP_9.0.0/com.ibm.websphere.base.doc/ae/tprf_jvmpidata.html [https://www.ibm.com/support/knowledgecenter/SSEQTP_9.0.0/com.ibm.websphere.base.doc/ae/tprf_jvmpidata.html]
====================================================== 

For WAS v6.1 and v7.0 ONLY, use the instructions bleow. 

About this task 

Use theJava Virtual Machine Tool Interface (JVMTI) [http://pic.dhe.ibm.com/infocenter/wasinfo/v7r0/topic/com.ibm.websphere.express.iseries.doc/info/iseriesexp/ae/cprf_jvmpi.html]to collect data about garbage collection and thread states from the JVM that runs the application server. When JVMTI is enabled, a collection of JVMTI-specific statistics can be enabled through the predefined All statistic set or through the use of a Custom statistic set. 

To enable JVMTI data reporting for each individual application server: 

Procedure 

1. Open the administrative console. 

2. ClickServers > Server Types > WebSphere application serversin the administrative console navigation tree. 

3. Click the application server for the JVM profiler that needs enabling. 

4. [IBM i] [/support/docview.wss?uid=nas8N1020084&amp;aid=1]In the Server Infrastructure section, clickJava and process management > Process definition > Java virtual machine. 

5. [IBM i] [/support/docview.wss?uid=nas8N1020084&amp;aid=2]Type the appropriate JVM argument for your JVM's bit level in theGeneric JVM argumentsfield. 

NOTE: The application server JVM's bit level can be determined by reviewing the value of the "instance.j9.path" or "instance.j9.version" parameters in the /qibm/userdata/websphere/appserver/<version>/<edition>/profiles/<profileName>/properties/.instance.properties file. 

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 

6. Click Applyor OK. 7. ClickSave. 

8. ClickServers > Server Types > WebSphere application serversin the administrative console navigation tree. 

9. Click the application server for the JVM profiler that needs enabling. 

10. Click theConfigurationtab. When in theConfigurationtab, settings apply when the server is restarted. When in theRuntimeTab, settings apply immediately. Performance Monitoring Infrastructure (PMI) can be enabled only in theConfigurationtab. 

11. ClickPerformance Monitoring Infrastructureunder Performance. 

12. Select theEnable Performance Monitoring Infrastructure (PMI)check box. 

13. ClickCustomand selectJVM Runtimeon the left-side tree. 

14. Click a JVM profiler group underJVM Runtimeand enable or disable the statistic on the right-side table. Go back to the main PMI configuration page, by clicking PMI. 

15. ClickApplyorOK. 

16. ClickSave. 

17. Start the application server, or restart the application server if it is currently running. 

18. Refresh the TivoliÂ®Performance Viewer if you are using it. The changes you make will not take effect until you restart the application server.

 


Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 7.2 Operating System IBM i 7.1 Operating System IBM i 6.1 Operating System IBM i 7.3