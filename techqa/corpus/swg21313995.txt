Title: IBM MustGather: IBM FileNet P8 Content Search Engine (CSE) and IBM FileNet P8 Legacy Content Search Engine (LCSE) for Content Based Retrieval - United States

Text:
MustGatherDocument TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Customer-provided background information (also known as "MustGather" data) helps in problem determination and saves time when resolving Problem Management Records (PMRs). This technote provides a description of the background information IBM® support will need. 

RESOLVING THE PROBLEM
 

TAB NAVIGATION
 * 1. Learning more [http://www.ibm.com/support/docview.wss?rs=3278&uid=swg27010422]
 * 2. Troubleshooting [http://www.ibm.com/support/docview.wss?rs=3278&uid=swg21313996]
 * 3. Collecting data [http://www.ibm.com/support/docview.wss?rs=3278&uid=swg21313995]- selected tab,

Collecting MustGather data early, even before opening the PMR, helps IBM® Support quickly determine the root cause of the problem. With this information, Support can determine if: 

 

 1. This is a known problem (rediscovery). 
 2. There is a non-defect problem that can be identified and resolved. 
 3. This is a known defect for which a workaround has been developed. 
 4. A new problem has been discovered and a fix is required.



If you already contacted support, continue on to the CBR (Content Based Retrieval) MustGather information. Otherwise, click MustGather: Read first for FileNet Content Engine [http://www.ibm.com/support/docview.wss?rs=3278&uid=swg21308231] 





Content Based Retrieval MustGather information 

The following is required troubleshooting information for Content Based Retrieval problems when using P8 Content Search Engine or P8 Legacy Content Search Engine. 

 1. All of the information described in MustGather: Read first for FileNet Content Engine [http://www.ibm.com/support/docview.wss?rs=3278&uid=swg21308231] 
 2. Content Engine Server trace file (p8_server_trace.log) with Error tracing and CBR "Summary" tracing enabled when the problem occurs. If you are experiencing search problems, also enable the Search subsystem. Collect the P8 trace from every CE instance deployed in the P8 domain since any of the servers present may be engaged in CBR-related activities. See FileNet Content Engine Server tracing [http://www.ibm.com/support/docview.wss?rs=0&uid=swg21308282] for details on how to collect this information. 
 3. From the Content Search Engine installation of the Verity files, zip/tar up two directories including all sub-directories and files:  1. the service logs which are located under the .../data/services directory 
     2. the master administration server logs which are located under the /data/host directory 
    
    
 4. If you have a particular collection or collections which are reporting problems or specific errors in the P8_server_error.log or P8_server_trace.log, then from each collection's root folder, there may be a log file named "sysinfo.log" (it is only created if there are errors). Collect each of those logs. 
 5. From the Content Engine FileNet Enterprise Manager, take screenshots of:  1. For CSE 4.5.x, the Verity Domain Configuration properties tab and the Verity Server properties tab 
     2. For CSE 5.x, there can be several Verity Domains defined, so screenshot both the Master Admin Info and the Options from each of the Verity Domain Configurations which are listed on the Verity Domain Configurations tab and then also screenshot the single Verity Server properties tab 
     3. For all versions of CSE, the main properties tab of each IndexArea from each object store which is CBR enabled (it provides the configured paths for collections, the Verity temp folder and stylesets being used).
    
    
 6. From the Content Search Engine installation of the Verity files: the verity.cfg file from k2/common directory and each of the stylesets used by IndexAreas in the configuration. Use the screenshots from the IndexAreas above to find the names of the styles used and then zip/tar up their contents, i.e. each styleset has a folder under the /data/styleset/ whose name corresponds to the style specified in the IndexAreas in FEM. 
 7. If you have a particular document that has a problem with indexing or search, due to errors or search just not finding the document, you can build a test collection in your environment by following the instructions in the CBR Troubleshooting Technote [http://www-01.ibm.com/support/docview.wss?rs=3278&context=SSNVNV&dc=DA400&uid=swg27012912&loc=en_US&cs=UTF-8&lang=en&rss=ct3278db2] in the section titled "Testing Configurations". This test collection can then be sent in for analysis, along with the document that has a problem. That will allow the support group to find problems in the environment at that particular location that may not be reproducible elsewhere.

RELATED INFORMATION
 FileNet Content Engine Server tracing [http://www.ibm.com/support/docview.wss?rs=0&uid=swg21308282]
MustGather: Read first FileNet Content Engine [http://www.ibm.com/support/docview.wss?rs=0&uid=swg21308231]
CBR Troubleshooting for FileNet CSE [http://www.ibm.com/support/docview.wss?rs=0&uid=swg27012912]