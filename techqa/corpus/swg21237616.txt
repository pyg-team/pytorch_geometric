Title: IBM Startup of full test environment on WebSphere Commerce Developer fails to load a JAR file - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you start the full test environment on the WebSphere Commerce Developer, a JAR file fails to load and returns an exception. 

SYMPTOM
You see the following exceptions: 

[04/01/06 16:04:46:391 GMT] 4c952d66 EJBContainerI I WSVR0037I: Starting EJB jar: WebSphereCommerceServerExtensionsData.jar
[04/01/06 16:04:47:094 GMT] 4c952d66 EJBContainerI E WSVR0040E: addEjbModule failed for WebSphereCommerceServerExtensionsData.jar [class com.ibm.ws.runtime.component.DeployedModuleImpl]
java.lang.NullPointerException
at com.ibm.ejs.container.BeanMetaData.processGeneralizations(BeanMetaData.java:2500)
at com.ibm.ejs.container.EJSContainer.moduleInstallPostInvoke(EJSContainer.java:830)
at com.ibm.ws.runtime.component.EJBContainerImpl.install(EJBContainerImpl.java:1028)
at com.ibm.ws.runtime.component.EJBContainerImpl.start(EJBContainerImpl.java:1462)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:419)
at com.ibm.ws.runtime.component.DeployedApplicationImpl. 

fireDeployedObjectStart(DeployedApplicationImpl.java:808)
at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:351)
at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:578)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:272)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:250)
at com.ibm.ws.runtime.component.ContainerImpl.startComponents(ContainerImpl.java:543)
at com.ibm.ws.runtime.component.ContainerImpl.start(ContainerImpl.java:418)
at com.ibm.ws.runtime.component.ApplicationServerImpl.start(ApplicationServerImpl.java:134)
at com.ibm.ws.runtime.component.ContainerImpl.startComponents(ContainerImpl.java:543)
at com.ibm.ws.runtime.component.ContainerImpl.start(ContainerImpl.java:418)
at com.ibm.ws.runtime.component.ServerImpl.start(ServerImpl.java:183)
at com.ibm.ws.runtime.WsServer.start(WsServer.java:128)
at com.ibm.ws.runtime.WsServer.main(WsServer.java:225)
at java.lang.reflect.Method.invoke(Native Method)
at com.ibm.ws.bootstrap.WSLauncher.main(WSLauncher.java:94)
at com.ibm.souris.runner.SourisServerRunner.main(SourisServerRunner.java:16)



CAUSE
Generalizations within the WebSphereCommerceServerExtensionsData.jar file do not exist. Within the WebSphereCommerceServerExtensionsData.jar file, the ibm-ejb-ext-jar.xml file contains some generalizations. Ensure that these generalizations exist in the referenced file.


For example, the following lines are contained within the ibm-ejb-ext-jar.xml file: 


<generalizations xmi:id="EjbGeneralization_1082977161640"> 
<subtype xmi:type="ejb:Session" 
href="META-INF/ejb-jar.xml#CategoryHelper"/> 
<supertype xmi:type="ejb:Session" 
href="META-INF/ejb-jar.xml#ExtensionJDBCHelper"/> 
</generalizations> 
<generalizations xmi:id="EjbGeneralization_1121430169046"> 
<subtype xmi:type="ejb:Session" 
href="META-INF/ejb-jar.xml#Session_1131382089968"/> 
<supertype xmi:type="ejb:Session" 
href="META-INF/ejb-jar.xml#ExtensionJDBCHelper"/> 
</generalizations> 


The href values point to the META-INF/ejb-jar.xml file. This file is also in the JAR file. Within the ejb-jar.xml file, CategoryHelper and ExtensionJDBCHelper both exist while entry Session_1131382089968 does not. Since there is no entry for Session_1131382089968, a null value is returned. 


RESOLVING THE PROBLEM
To resolve this null pointer error, remove the references to the missing bean. 

In this particular example, the following lines should be removed: 

 <generalizations xmi:id="EjbGeneralization_1121430169046"> 
<subtype xmi:type="ejb:Session" 
href="META-INF/ejb-jar.xml#Session_1131382089968"/> 
<supertype xmi:type="ejb:Session" 
href="META-INF/ejb-jar.xml#ExtensionJDBCHelper"/> 
</generalizations> 


 


Cross reference information Segment Product Component Platform Version Edition Commerce WebSphere Commerce Developer Express Runtime Windows 5.6, 5.6.1, 6.0 Developer Express Commerce WebSphere Commerce Developer Professional Edition Runtime Windows 5.6, 5.6.1, 6.0 Developer Professional Edition Commerce WebSphere Commerce Developer Business Edition Runtime Windows 5.6, 5.6.1 Developer Business Edition