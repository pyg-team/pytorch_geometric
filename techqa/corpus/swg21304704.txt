Title: IBM ERROR: Missing LOB_TYPE long in existing connect_options, during long2clob finalize - United States

Text:
1304704; CQ; ClearQuest; oracle; long; clob; conversion; long2clob; finalize; Missing LOB_TYPE long in existing connect_options; Long2clob::Subcommand::cmd_finalize; Long2clob::Subcommand=HASH(0x1a7f12c) TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote explains how to resolve an error, "Missing LOB_TYPE long in existing connect_options", that can occur during the finalize step of the IBM Rational ClearQuest long2clob conversion tool. 

SYMPTOM
While running the ClearQuest long2clob tool [http://ibm.com/support/docview.wss?rs=988&uid=swg24012300], it fails on finalize with this error: 


*** Finalize Error 
Missing LOB_TYPE=LONG in existing connect_options: 
HOST=<hostname>;SID=<SID>
Long2clob::Subcommand::cmd_finalize('Long2clob::Subcommand=HASH(0x1a7f12c)','-u', '<userdb>', '-p', '<p>', '-db', '<db>', '-s', ... 
) called at long2clob.bat line 355

Note: The connect_options in the error message might include PORT=xxx and LOB_TYPE=CLOB as well. 



CAUSE
The connection options for the database is missing the pre-conversion LOB_TYPE value of LONG. The connection options for the schema repository or user database need to be updated with the Maintenance Tool or Designer, respectively.



DIAGNOSING THE PROBLEM
The output of the command can be stored in a file using a carrot (>). Here is an example: 


C:\CQ7.0.Migration>long2clob -u <u> -p <p> -db <db> -s <server> finalize -u <u> -p <p> -db <db> -s <server> >C:\CQ7.0.Migration\Long2clob.logs\userdb.finalize.txt 

The carrot is placed after the server (-s) argument. The output from the command, including any error messages, will be stored in the userdb.finalize.txt file.



RESOLVING THE PROBLEM
Assure that the LOB_TYPE value in the database connect options is set to LONG (LOB_TYPE=LONG). If this problem occurs with the schema repository, you would update the connection in the Maintenance Tool. If it occurs with a user database, you would update the user database properties with Designer. 


Rerunning the finalize command will succeed without error.









Cross Reference information Segment Product Component Platform Version Edition Software Development Rational ClearQuest Database Configuration/Connectivity - Oracle