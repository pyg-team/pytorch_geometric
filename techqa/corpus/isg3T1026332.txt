Title: IBM How RUNWINDOW (in lsf.cluster) works in LSF - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 How RUNWINDOW (in lsf.cluster) works in LSF? 

ANSWER
When setting up RUNWINDOW in lsf.cluster, it means a dispatch window for interactive tasks. Out of the period of RUNWINDOW, it will show "lockW" in lsload.
1. Based on the description of "lockW in lsload", "The host is locked by its run window. Run windows for a host are specified in the configuration file (see lsf.conf(5)) and can be displayed by lshosts. A locked host does not accept load shared jobs from other hosts." 

It means that lockW only only affects "remote" tasks. However, in that case, "lsrun hostname" still returns the hostname while all the hosts are lockW. That happened because when all hosts are lockW, lsrun can still run a task locally. For example: 

[lsfadminA@HostA conf]$ lsrun -v hostname 

<<Execute hostname on local host>> 

HostA 

2. As is documented in the config_ref.pdf: " When the host is not available for remote execution, the host status is lockW (locked by run window). LIM does not schedule interactive tasks on hosts locked by dispatch windows. Run windows only apply to interactive tasks placed by LIM." That means the tasks, in which need to get LIM involved, will be rejected when lockW. For example: if I define a resource which exits on a specific host (e.g. slave1). The task cannot run. 

[lsfadmin@HostA conf]$ lsload
HOST_NAME status r15s r1m r15m ut pg ls it tmp swp mem
HostA lockW 0.0 0.0 0.0 1% 0.0 1 79 9128M 5.9G 3G
HostB lockW 2.7 4.1 4.5 11% 0.0 7 0 145G 3.9G 101G 

[lsfadmin@HostA conf]$ lsrun -R "select[test]" hostname 

ls_loadofhosts: Not enough host(s) currently eligible --> The task cannot run except you open the time window. 

3. It should also be mentioned that the use of "lsrun -m" is different. It will run even if the hosts are lockW. That is because LIM is not involved, whenever lsgrun/lsrun is used with specif hosts (lsrun -m). RES will just run the job without checking with LIM in that case. For example: 

[lsfadmin@HostA conf]$ lsload
HOST_NAME status r15s r1m r15m ut pg ls it tmp swp mem
HostA lockW 0.0 0.0 0.0 1% 0.0 1 79 9128M 5.9G 3G
HostB lockW 2.7 4.1 4.5 11% 0.0 7 0 145G 3.9G 101G 

[lsfadmin@HostA conf]$ lsrun -m HostB hostname 

HostB 






Cross reference information Segment Product Component Platform Version Edition Platform Computing Platform LSF