Title: IBM IMS Transaction Manager (TM) Resource Adapter Version 14 - United States

Text:
 RELEASE NOTES

ABSTRACT
 Version 14 of the IMS™ TM resource adapter is based on version 1.5 of the J2EE Connector Architecture. 

CONTENT
Last updated: January 2018








Contents 
 * Key features#downloads 
 * Downloads 
 * Documentation 
 * List of updates  * V14.1.5 
    * V14.1.4 
    * V14.1.3 
    * V14.1.2#v1411 
    * V14.1.1 
    * V14.1.0
   
   
 * Other versions





Key features 

IMS TM Resource Adapter Version 14 provides all the features that are available in Version 13 of the resource adapter. Key features include:


 * Support for RACF® password phrases from 9 -100 characters
   
 * Support for IBM® WebSphere® Application Server Version 8 and its resource workload routing function 
   
 * Support for multiple data stores per IMS activation specification for callout messages
   This enhancement enables a single message-driven bean (MDB) to pull callout messages from more than one IMS data store. For a shared queues environment, this enhancement removes the requirement to duplicate the MDB application to connect to each IMS member in the shared queue. 
   
 * Data store connection failure recovery for callout messages 
   
 * Support for both synchronous and asynchronous callout requests from IMS applications to external message-driven beans (MDBs), Enterprise JavaBeans™ (EJB) components, or Web services 
   
 * Support for enhanced security when retrieving callout requests or asynchronous output messages from the hold queue (RESUME TPIPE security) through the specification of a user ID that will be authorized by IMS OTMA 
   
 * Support for the invocation of IMS applications by using complex data types from distributed platforms 
   
 * Business process choreography support of IMS conversations
   
 * Support for integrating IMS MFS services in business processes through IBM Integration Designer and IBM Process Server 
   
 * Support for re-establishing any stale connection in a connection pool when the connection encounters a communication failure 
   
 * Support for changing RACF passwords from Java™ applications 
   
 * Support for returning multiple output messages for commit mode 0 interactions as a single, multi segment message 


IMS TM Resource Adapter Version 14 supports IMS Version 14, Version 13, and Version 12, with the integrated IMS Connect function. The IMS Connect function can coexist with earlier or newer versions of IMS. See the Release Planning Guide for the version of IMS that you are using, for IMS Connect coexistence considerations and coexistence APARs. The runtime environment is the same as the target WebSphere Application Server where the IMS TM resource adapter is deployed. 

Downloads 

To download the IMS TM resource adapter, go to the IMS TM resource adapter download site [https://www14.software.ibm.com/webapp/iwm/web/preLogin.do?source=imscjd]. 

 

Documentation 

 * IMS TM resource adapter information [http://www.ibm.com/support/knowledgecenter/SSEPH2_14.1.0/com.ibm.etools.ims.tmra.doc/topics/tmresoverview.htm] is available in the IBM Knowledge Center. 
 * IMS TM resource adapter: Supported development environments and runtime environments [http://www-01.ibm.com/support/docview.wss?rs=81&uid=swg27017027]


List of updates 

Version 14.1.5 (APAR PI88990) 

 1. When using the j2ee.jar file that is packaged with TMRA (such as in Spring Boot Tomcat or other unmanaged environments), you might encounter NoSuchMethodError, ClassNotFoundException, or NullPointerException errors because some required classes are not included. 
 2. When connection pooling is enabled for a callout application, interrupted exceptions are incorrectly ignored and the thread does not shut down correctly, causing the JVM to continue to run unnecessarily.


The code is modified so that the j2ee.jar file now contains all the required classes. For callout connection pooling, InterruptedException errors are now caught and the thread is properly terminated. 

Version 14.1.4 

This release contains an internal update of the ICU4J package. 

Version 14.1.3 (APAR PI75413) 

When the resource adapter retried to pull callout messages, it incorrectly used polling interval value from the inherited BaseActivationSpec when it should be using the user-defined retry interval value (the retryInterval property in IMSActivationSpec). This issue is addressed. 

Version 14.1.2 ( APAR PI81970) 

The TCP_NODELAY option was enabled for non-SSL sockets, but not for SSL sockets to IMS Connect. The code is modified so that the TCP_NODELAY option is now always set for SSL sockets. To further enhance throughput, you can also specify the NODELAY option in the TCPIP statement in the HWSCFGxx member of the IMS PROCLIB data set for packets that IMS Connect sends to the IMS TM resource adapter. 

Version 14.1.1 (APAR PI64011) 
This version includes the following fix:  * The TM Resource Adapter does not honor the stopPollingOnError property in IMSActivationSpec for synchronous callout using a MDB. An HWSP1495E error is generated and IMSInboundMessageReader is stopped even when stopPollingOnError is set to false.
   
   The stopPollingOnError property is now honored.
   
 * An HWSP1495E OTMA PROTOCOL VIOLATION message is issued for synchronous callout because TM RA improperly disconnects when using the connection pool.
   
   The TM Resource Adapter now disconnects the connection before returning the connection back to the pool.
   
 * When IMS Connect is recycled while a synchronous callout is being processed, an IndexArrayOutOfBoundsException is thrown, and the response message is lost.
   
   The socket calculation code is modified to maintain proper communication when IMS Connect is recycled.
   
 * When a socket is closed because TM RA doesn't properly send the keepAlive packet to IMS Connect, a socket timeout occurs.
   
   The TM Resource Adapter now sends a keepAlive packet to prevent socket timeout.
   
 * For every synchronous callout message, a redundant log message (com.ibm.j2ca.extension.eventmanagement.external.CallbackEventSender deliverEvent() CWYBS0505I: Logging event before delivering to the endpoint) is generated causing unnecessary overhead.
   
   The redundant log message is removed.



Version 14.1.0
This version includes the following new features: 
 * Support for the send-only-with-acknowledgment protocol
   
   In IMS TM Resource Adapter Version 14 and later, you can enable the send-only-with-acknowledgment protocol. Using this protocol, IMS TM Resource Adapter receives an acknowledgment from IMS when IMS receives a synchronous callout response message. In Version 13 and earlier, this acknowledgment is unavailable. 
   
   To enable this protocol, set the sendOnlyWithAck property to true in the activation specification.
   
 * Connection pooling for responses that are sent back to IMS
   
   In IMS TM Resource Adapter Version 14 and later, you can enable connection pooling for sychronous callout messages that are sent back to IMS. In Version 13 and earlier, the IMS TM Resource Adapter must create and then discard a new connection whenever a callout response is sent. By enabling connection pooling, you can avoid the overhead of opening and closing multiple connections.
   
   In the activation specification, you can specify the following properties for connection pooling:
    * connectionPoolEnabled - Specifies whether connection pooling is enabled. 
    * durationOfIdleConnections - Specifies the number of minutes that a connection in the connection pool can remain idle before it is cleaned up at the next cleanup interval. 
    * maxConnections - Specifies the maximum number of connections that the connection pool can hold. 
    * poolCleanupFrequency - Specifies the cleanup interval (in minutes) for idle connections in the connection pool. 
      
   
   

Other versions  * IMS TM Resource Adapter V15 [https://www.ibm.com/support/knowledgecenter/SSEPH2_15.1.0/com.ibm.ims15.doc.tmra/topics/cimsfeatures15.htm] 
 * IMS TM Resource Adapter V13 [http://www.ibm.com/support/docview.wss?uid=swg27039805] 
 * IMS TM Resour_blankce Adapter V12 [http://www.ibm.com/support/docview.wss?uid=swg27023209] (out of service)