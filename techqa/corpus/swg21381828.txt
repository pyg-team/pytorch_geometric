Title: IBM Failed while discovering error when loading metadata in IBM InfoSphere Information Analyzer - United States

Text:
failed while discovering metadata import loading unknown exception information analyzer TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Information Analyzer Unknown Exception error when loading metadata.

Error displayed in IBM Information Server Console is:

Failed while discovering. Please see log files for details. 

RESOLVING THE PROBLEM
First, ensure that the connections validate successfully in the IBM Information Server Console from Home > Configuration > Analysis Settings on the Analysis Database and Analysis Engine tabs. 

Scenario 'A': If the problem occurs when importing metadata from a Microsoft SQL Server database, the problem could be related to permissions on the table sysdiagrams, to confirm this do the following: 

 * Check the client log. The default location for the client log is: 
   
   C:\Documents and Settings\<username>\Local Settings\Application Data\IBM\IBM Information Server console\isc.log
   
   isc.log contains an entry similar to the following: 
   
   ERROR Ascential.Sorcerer.MetaDataImport.Model.MutableCollection (null) - << Unable to determine log message, key not found [key=Error.MetaDataDiscoveryFailed] >> 
   2009-02-23 11:00:07,653 [Mozart Thread-Single WorkerThread 'ISF Synchronized Worker'] DEBUG 
   Ascential.Sorcerer.MetaDataImport.Model.MutableCollection (null) - <JavaException> <Type>com/ascential/asb/cas/shared/ConnectorServiceException</Type>
   <Message><![CDATA[An exception occurred while trying to receive the response from the handler: An exception was received from the handler: Unable to obtain information for table: sysdiagrams]]></Message> 
   
   Note: Contact IBM Support for the configuration file and instructions for enabling the client log. 
   
   
 * If the client log does not exist, check the Connector Access Service (CAS) logs in the Information Server Web Console, these can be found under Administration > Log Management > Log Views 
   
   CAS log contains an entry similar to the following: 
   
   ISF-CAS-SERVER 050025 2009-02-23 11:00:07,545 Fatal An exception occurred while trying to receive the response from the handler: An exception was received from the handler: Unable to obtain information for table: sysdiagrams Note: Contact IBM Support for instructions on obtaining the CAS logs.
   
   


Scenario 'A' Resolution: During metadata import, the SQLTables function is called on each table to retrieve additional details. In this case, the SQL Server table 'sysdiagrams' is inaccessible to SQLTables due to permission issues. 

If you found any of these errors referring to the sysdiagrams table in the logs mentioned above, the resolution is to change the permissions, so that the sysdiagrams table is not viewed for the user trying to do the metadata import. 

 

Scenario 'B': If the problem occurs when importing metadata from a from a Text file, do the following: 

 * Check the Connector Access Service (CAS) log in the Information Server Web Console, this can be found under Administration > Log Management > Log Views. Look for an entry similar to this: ISF-CAS-SERVER 050038 2009-03-02 10:05:31,473 FATAL An exception was received from the handler: ODBC function "SQLColumns" reported: SQLSTATE = HY000: Native Error Code = 1,246: Msg = [DataDirect][ODBC Text driver]Unknown data type in QETXT.INI file VARCHAR2. 
   
   Note: Contact IBM Support for instructions on obtaining the CAS logs. 
   
   


Scenario 'B' Resolution: The only supported datatypes for text files are NUMERIC, VARCHAR, and DATE. Modify the datatypes in the QETXT.INI file accordingly.