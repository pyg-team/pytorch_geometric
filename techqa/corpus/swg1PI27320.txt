Title: IBM PI27320: When placement is set to perContainer, a session handle cookie is used. - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When using perContainer placement, if the containers are
   stopped, then partition numbers increase.  The session code
   might still request data from an old (now non-existent)
   partition.
   
   This behavior can lead to TargetNotAvailableException
   exceptions and failure to retrieve data.
   
   
    
   
   

LOCAL FIX
 *  use fixed_partition placement strategy
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  WebSphere eXtreme Scale clients using       *
   *                  WebSphere eXtreme Scale HTTP session        *
   *                  management and a PER_CONTAINER placement    *
   *                  strategy.                                   *
   ****************************************************************
   * PROBLEM DESCRIPTION: WebSphere eXtreme Scale V8.6.0.5 and    *
   *                      higher do not use IBMSessionHandle      *
   *                      cookies.                                *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   WebSphere eXtreme Scale V8.6.0.5 and higher do not use
   IBMSessionHandle cookies. Clients might see hung thread
   messages in the web container, such as the following:
   00000023 ThreadMonitor W   WSVR0605W: Thread
   "WebContainer : 2" (0000007c) has been active for 732314
   milliseconds
   and may be hung.  There is/are 1 thread(s) in total in the
   server that
   may be hung.
   at java.lang.Object.wait(Native Method)
   at java.lang.Object.wait(Object.java:167)
   at
   com.ibm.ws.xs.sessionmanager.SessionsLRUOffLoader.checkAndWaitLo
   ckKey(Se
   ssionsLRUOffLoader.java:282)
   at
   com.ibm.ws.xs.sessionmanager.SessionsLRUOffLoader.accessObject(S
   essionsL
   RUOffLoader.java:564)
   at
   com.ibm.ws.xs.sessionmanager.HttpSessionRequestWrapper.loadFromX
   SStore(H
   ttpSessionRequestWrapper.java:3291)
   at
   com.ibm.ws.xs.sessionmanager.HttpSessionRequestWrapper.tryGrid(H
   ttpSessi
   onRequestWrapper.java:3786)
   at
   com.ibm.ws.xs.sessionmanager.HttpSessionRequestWrapper.getSessio
   n(HttpSe
   ssionRequestWrapper.java:2260)
   at
   com.ibm.ws.xs.sessionmanager.HttpSessionRequestWrapper.getSessio
   n(HttpSe
   ssionRequestWrapper.java:337)
   
   
    
   
   

PROBLEM CONCLUSION
 *  WebSphere eXtreme Scale will now check whether the placement
   strategy is defined as PER_CONTAINER, and if so, it will set
   and use the IBMSessionHandle cookie.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI27320
   
   
 * REPORTED COMPONENT NAME
   WS EXTREME SCAL
   
   
 * REPORTED COMPONENT ID
   5724X6702
   
   
 * REPORTED RELEASE
   860
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-10-09
   
   
 * CLOSED DATE
   2014-10-30
   
   
 * LAST MODIFIED DATE
   2014-10-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WS EXTREME SCAL
   
   
 * FIXED COMPONENT ID
   5724X6702
   
   

APPLICABLE COMPONENT LEVELS
 * R860 PSY
   UP