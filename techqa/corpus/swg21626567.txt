Title: IBM SQL transaction log is full for the SiteProtector database - United States

Text:
trunc. log with chkpt; transaction; log; sp_dboption; simple TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Users might find that they experience issues with the SiteProtector Database component due to the SQL transaction log reaching its maximum size. 

CAUSE
Your database cannot commit any changes due to the transaction log reaching its maximum size.

RESOLVING THE PROBLEM
The following articles explain actions that can be taken to remedy this situation: 

 * Technote 1516175: Clearing the RealSecureDB transaction logs [http://www.ibm.com/support/docview.wss?uid=swg21516175] 
 * Technote 1646716: Adjusting size of SiteProtector database on the disk [http://www.ibm.com/support/docview.wss?uid=swg21646716] 
 * Technote 1437089: Adding an additional transaction log for SiteProtector's RealSecureDB database [http://www.ibm.com/support/docview.wss?uid=swg21437089]


Once you have resolved the immediate issue by using one of the methods above, you should check the following items to prevent the issue from recurring: 

Disk Space 

Ensure that your transaction log file (.ldf) is large enough to handle your transactions and that you have enough free space on the drive for the file to grow, if it is configured to do so. 

Database recovery model 

Ensure that SQL is properly checkpointing your transaction logs by verifying that the recovery model is set to Simple in the properties of the RealSecureDB database in the SQL Server Management Studio. Also, verify that trunc. log on chkpt is set as one of the database options under the RealSecureDB. 

 * For SQL Server 2008:
   
   To view your dboptions run the following query in SQL Server Management Studio:
   
   exec sp_dboption 'realsecuredb'
   
   If trunc. log with chkp is not listed as one of your options, run the following query to add it:
   
   exec sp_dboption 'realsecuredb', 'trunc. log on chkpt', 'true'
   
   Note: The trunc. log on chkpt option only works with the simple recovery model.
   
   
 * For SQL Server 2012 and higher:
   
   The sp_dboption command has been removed so you need to use a different command to accomplish the same task. Run the following query in SQL Server Management Studio to view your recovery model:
   
   SELECT name, recovery_model_desc FROM sys.databases WHERE name = 'realsecuredb'
   
   To change your recovery model to simple, run the following query:
   
   alter database realsecuredb set recovery simple




[/support/docview.wss?uid=swg21626567&aid=1] [https://ibm.biz/BdHdjw] [/support/docview.wss?uid=swg21626567&aid=2] [http://ibm.biz/InfraSecForumTechnote] [/support/docview.wss?uid=swg21626567&aid=3] [http://ibm.biz/SecSuptUTube] [/support/docview.wss?uid=swg21626567&aid=4] [http://ibm.biz/InfraSecFixes] [/support/docview.wss?uid=swg21626567&aid=5] [http://ibm.biz/FlexLicLogin] [/support/docview.wss?uid=swg21626567&aid=6] [http://ibm.biz/MyNotification] [/support/docview.wss?uid=swg21626567&aid=7] [http://ibm.biz/ContactSecSupport] 
RELATED INFORMATION
 A Japanese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21961718]