Title: IBM How to configure Domino for secure SMTP sessions using STARTTLS - United States

Text:
ssl; smtp; tls; starttls; secure; certificate authority; secure smtp sessions; inbound; outbound; secure port; port 25; port 465; mail; email TECHNOTE (FAQ)

QUESTION
How do you configure Lotus® Domino® for secure SMTP sessions using the STARTTLS extension?

ANSWER
To provide SSL security for SMTP transfers over TCP/IP, Domino supports the use of negotiated SSL. In a negotiated SSL scheme, the sending and receiving hosts each use the SMTP STARTTLS extension, defined in RFC 2487, to signal their readiness to negotiate an SSL connection. Both the sending and receiving server must possess SSL certificates for the transport-layer security (TLS) handshake to be successful.

To support STARTTLS for INBOUND SMTP sessions: 

1. Enable the "SMTP Listener task" via the Server document (Basics tab).
2. Enable SMTP Inbound "TCP/IP port status" in the Server document (Ports -> Internet Ports -> Mail tab).
3. Enable "SSL negotiated over TCP/IP port" in the Configuration document (Router/SMTP -> Advanced -> Commands and Extensions tab).
4. Restart the SMTP Listener task/=.



[/support/docview.wss?uid=swg21108352&aid=1] [/support/docview.wss?uid=swg21108352&aid=1]



Note: Setting the SSL negotiated over TCP/IP port to required would force any sending server to use only TLS/SSL. It is suggested to set this setting to Enabled. This feature may not be enabled on sending servers and could result in a loss of incoming mail to your Domino server. 

 

To support STARTTLS for OUTBOUND SMTP sessions: 

 1. Set Negotiated SSL for the SMTP Outbound "TCP/IP port status" in the Server document (Ports -> Internet Ports -> Mail tab).
2. Restart the Router task.

[/support/docview.wss?uid=swg21108352&aid=2] [/support/docview.wss?uid=swg21108352&aid=2]

Here is a sample of what you see in a debug outfile with SMTPDebugIO enabled (the STARTTLS is the secure session about to begin): 


 * 
 * 
 * 
 * 
 * 
 * 
 * 


Note: Some servers support SSL for SMTP communications by sending and receiving SMTP traffic through the SSL port (port 465 by default) only. However, because this requires that both the sending and receiving servers support SMTP over SSL, this solution isn't always practical. 

Also, Port 465 is no longer registered as SMTP-SSL. It has been deprecated in favor of TLS/SSL over port 25. For more information see: 
http://www.iana.org/assignments/port-numbers [http://www.iana.org/assignments/port-numbers] 

For information on configuring SSL with a third-party Certificate Authority, refer to the technote "How to set up SSL using a third-party Certificate Authority (CA)" [http://www-1.ibm.com/support/docview.wss?rs=463&uid=swg21268695]. 

For information on configuring SSL with Domino as the Certificate Authority, refer to the technote "Quick guide to setting up SSL using Domino as the Certificate Authority". [http://www-1.ibm.com/support/docview.wss?rs=0&q1=1114148&uid=swg21114148] 

Additional information regarding SSL, TLS, and STARTTLS can be found in the Admin Help along with RFC 2487 [http://tools.ietf.org/html/rfc2487]. RELATED INFORMATION
#A simplified Chinese translation is available [http://www.ibm.com/support/docview.wss?uid=swg21678453]