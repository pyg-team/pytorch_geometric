Title: IBM IY84019: WEBSEAL CRASHES ON WINDOWS 2003. NO DUMP FILE TO ANALYZE - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS UNREPRODUCIBLE IN NEXT RELEASE.
    
   
   

ERROR DESCRIPTION
 *  Customer is running TAM 5.1 on Windows 2003. Webseal is going
   down multiple times a day but there are no dmp files created.
   I've been working with Glen S from L3 but he has left so I need
   a backup to continue work on this.
   
   Customer is not getting any Dr Watson dumps, but has some data
   from ADPlus. Glen had given me some information to give to the
   customer to help in gathering some dmp files to analyze. Here is
   a writeup he gave me:
   
   Action Taken: L3 has looked at the information sent in by the
   customer
   but cannot determine the problem because there is no dmp file.
   L3 has
   provided additional steps to get the necessary dump information
   which I
   have provided to the customer:
   
   Our L3 has looked at the ADPlus information on the Microsoft
   site.
   It still appears that they are missing a dmp file
   From the MS page... "In the output folder, locate any .dmp files
   that
   contain the phrase "__2nd_chance". If this phrase appears in the
   label
   of a memory dump record, a process has quit unexpectedly."
   
   I have had a few customers use the userdmp tool on windows when
   they
   were unable to initially get a drwatson crash/user.dmp log
   Can you find out if the customer can use the tool to get us this
   data?
   Without the call stack information, it is going to be very
   difficult to
   figure out the problem
   
   -----------------
   Here is some information on the userdump tool that I had got
   from
   George.
   I believe this is a Microsoft tool.
   
   (password to zip is 'password' i believe)
   ----------------------------------------------------------------
   --------
   -
   Below are the steps to create the dump file using two utilities.
   You can
   use either of them to generate the dump file.
   1.        When the application is crashing, do you see DrWatson
   Warning
   message on the screen?
   2.        If no, Go to Command prompt and enter Drwtsn32  -i
   and try to
   repro the problem.
   3.        You should get the dump file in the path C:\documents
   and
   settings\%username%\application data\microsoft\DrWatson.
   4.        If not DrWatson is unable to capture the dump file.
   
   In that case we can use one more utility called Userdump. Please
   find
   the instructions for using the userdump:
   1. Unzip userdump7.zip to a temporary directory
   2. Run the Setup.exe program that comes with the Userdump tool.
    Note: during setup, choose - Disable "Dump on Process
   Termination"
   feature
    The userdump setup installs a kernel-mode driver called
   Userdump.sys.
    It also creates a Control Panel applet called "Process Dump"
   where you
   can configure Userdump
   3. Open the control panel applet called "Process Dump"
   4. Click the 'New' button and enter the name of the executable
   that you
   want to monitor
      (You do not need to type in the full path...just the
   executable file
   name like iexplore.exe)
       ***** In our case we want to monitor <ProblemApp>.EXE *****
   5. Click OK
   6. Highlight the name of the App under the "Application to
   Monitor"
   field on the main screen
   7. Click the "Rules" Button
   8. Select "Use default rules" then click the "Default Rules"
   button.
   9. Make sure that "All Exceptions" is NOT checked
   10.Then click on the "Select all" button (This is different than
   selecting the All Exeptions checkbox).
   11. Click OK
   12. Try to reproduce the problem or wait till the problem occurs
   
   More information:
   ============================================
   - This will dump any and all exceptions in the selected
   application.
   - The dump file created will be \%windir%\<the name of the
   app>.DMP
   - You can specify where to place the dump file by setting a
   string
   (REG_SZ) value called DumpPath in the following registry key:
   
    HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\udmpsvc\Pa
   rameters
   .
      Note you may need to create the key called Parameters and
   then a new
   string value called DumpPath
   - Userdump is an update of the DotCrash utility, but unlike
   dotcrash,
   userdump will not terminate an application that it traps an
   exception
   on.
   
   In some cases userdump may be unable to generate a dump file at
   this
   point we'll need to run Userdump interactively while the problem
   is
   occurring:
   To run Userdump interactively, issue the following command from
   the
   directory where Userdump.exe is located:
    Userdump -p     (this will list the PID numbers of all running
   processes)
   Once you've determined the PID number of the process you want to
   dump,
   issue the following command:
    Userdump {PID number} Filename.dmp
   For  Example:
    Userdump 232 Winlogon.dmp
   
   To Uninstall Userdump:
   ==============================================
   If it becomes necessary to remove the Process Dump (userdump)
   utility
   from theControl Panel.
   Run Setup.exe for userdump and choose "Remove User Mode Process
   Dump
   from this computer." The computer must be rebooted to complete
   the
   uninstall.
   
   
   customer replied with:
   
   
   We tried using DrWatson first, the UserDump and finally ADPlus
   to get the dump files. DrWatson and Userdump did not create any
   dump files. ADPlus was the only utility that did but without the
   "_2nd chance" statement. As per MS ADPlus is working as design.
   
   Please advice how IBM would like to proceed further on this. At
   this point the webseald.exe continues to crash at the same rate
   as before.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *   This issue has been unrecreatable in the L3 lab
    environment.  The customer has been able to resolve this issue
   by upgrading to 5.1.0-TIV-TAM/AWS-FP0022.  Refer to DCF TechNote
    #1239254 which describes the application of a Microsoft W2K3 pa
   tch to allow Windows to product dump files.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY84019
   
   
 * REPORTED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * REPORTED COMPONENT ID
   5724C0811
   
   
 * REPORTED RELEASE
   510
   
   
 * STATUS
   CLOSED UR1
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-04-17
   
   
 * CLOSED DATE
   2006-06-26
   
   
 * LAST MODIFIED DATE
   2006-06-26
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * FIXED COMPONENT ID
   5724C0811
   
   

APPLICABLE COMPONENT LEVELS
 * R510 PSN
   UP