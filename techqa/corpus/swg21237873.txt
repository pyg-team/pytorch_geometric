Title: IBM Additional configuration required for the Version 6.1 Web server plug-in - United States

Text:
v61rnotes TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After creating a Web server definition for IBM WebSphere Application Server Version 6.1, additional configuration of the HTTPS-enabled transport is required before you can start the Web server. This configuration includes the following actions:


 * 
 * Configure the unrestricted Java™ Cryptography Extension (JCE) jurisdiction policy files for Software Developer Kit (SDK) Version 1.5.
   
 * 
 * Copy the plugin-key.kdb file to the plug-in installation directory.
   
 * 
 * Stash the password for the plugin-key.kdb file.



CAUSE
The Web server plug-in is unable to access the keystore file. This problem might be caused by any of the following situations:


 * 
 * The keystore file is not in the specified location.
   
 * 
 * The internal password record for the keystore file is not stashed.


RESOLVING THE PROBLEM
To complete the configuration of the HTTPS enabled transport, perform the following actions: 

 *  Configure the unrestricted JCE jurisdiction policy files on the stand-alone node or deployment manager node. 
   
   Skip this step only if you have already configured the unrestricted JCE jurisdiction policy files for SDK Version 1.5.
   
   Note: If Java 2 Standard Edition (J2SE) 32-bit for i5/OS® is the enabled Java virtual machine (JVM) for your profile, substitute the /QOpenSys/QIBM/ProdData/JavaVM/jdk50/32bit/jre directory for the /QIBM/ProdData/Java400/jdk15 directory as the path name in the remaining steps.
   
   To configure the unrestricted JCE jurisdiction policy files for SDK Version 1.5, perform the following actions:
    1. Make backup copies of the following files:
        * /QIBM/ProdData/Java400/jdk15/lib/security/local_policy.jar 
        * /QIBM/ProdData/Java400/jdk15/lib/security/US_export_policy.jar
          
       
       
    2. Download the unrestricted policy files to the /QIBM/ProdData/Java400/jdk15/lib/security directory.
        1. Go to the Security information [http://www-01.ibm.com/support/knowledgecenter/SSYKE2_5.0.0/com.ibm.java.security.component.doc.50/index.html?cp=SSYKE2_5.0.0%2F2] Web site.. 
        2. Click IBM SDK Policy files under Contents 
        3. Then click the highlighted phrase, IBM SDK Policy files.
           The Unrestricted JCE Policy files for the SDK Web site is displayed. 
        4. Click Sign in and then enter your IBM intranet ID and password. 
        5. Select the appropriate unrestricted JCE policy files and then click Continue. 
        6. View the license agreement and then click I Agree. 
        7. Click Download Now.
           
       
       
    3. If necessary, use the DSPAUT command to ensure that *PUBLIC is granted *RX data authority but no object authority to both the local_policy.jar and US_export_policy.jar files in the /QIBM/ProdData/Java400/jdk1.5/lib/security directory. For example:
       
       DSPAUT OBJ('/qibm/proddata/java400/jdk15/lib/
       security/local_policy.jar')
       
       
    4. If necessary, use the CHGAUT command to change authorization. For example:
       
       CHGAUT OBJ('/qibm/proddata/java400/jdk15/lib/
       security/local_policy.jar') USER(*PUBLIC) DTAAUT(*RX) OBJAUT(*NONE)
       
    5. Restart the stand-alone application server or deployment manager.
       
   
   Optional: Copy the plugin-key.kdb file to the plug-in installation directory if you see the following message in the http_plugin.log file:
   
   ERROR: lib_security: logSSLError: str_security (gsk error 202): Key database file was not found.
   
   To correct the problem, complete the following steps using the administrative console:  1. On the task bar, click Web servers. 
    2. On the list of Web servers, click the name of the Web server definition. 
    3. Click Plug-in properties on the right-hand side. 
    4. Go down to the Web server copy of Web server plug-in files section, and click Copy to Web server key store directory.
       
   
   Optional: Follow the directions in the "Recreating the .kdb keystore internal password record" topic within the Information Center to stash the password for the plugin-key.kdb file. The password for the plugin-key.kdb keystore file, which is used by the Web server plug-in, must be manually stashed. If the password is not stashed, the following message displays in the http_plugin.log file:
   
   ERROR: lib_security: logSSLError: str_security (gsk error 201): Object containing the password for the certificate store file not found.
   
   The default pathname of the plugin-key.kdb file is profile_root/config/webServerDefinitionName/plugin-key.kdb 
   
   where:  * profile_root is the path to the profile that contains the Web server definition. 
    * WebServerDefinitionName is the Web server definition name.
      
   
   Restart the Web server. 

 

Cross reference information Segment Product Component Platform Version Edition Application Servers Runtimes for Java Technology Java SDK