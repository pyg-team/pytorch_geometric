Title: IBM PM17276: USE SCA FP 1.0.1.5 CLIENT TO TALK TO AN SCA COMPONENT AND GET COM.SUN.XML.INTERNAL.BIND.V2.RUNTIME.ILLEGALANNOTATIONSEXCEPTION - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Customer is trying to use the Feature Pack for OSGi
   Applications and Java Persistence API (JPA) 2.0 GA release
   with Feature Pack for Service Component Architecture (SCA)
   1.0.1.5. The application uses SDO and unsuccessfully tries to
   use an SCA client to talk to an SCA component with an OSGI
   implementation over an interface which passes DataObjects.
   .
   Collaborator  E
   
   org.apache.aries.blueprint.proxy.Collaborator invoke invoke
   java.lang.NoClassDefFoundError:
   commonj.sdo.helper.XMLHelper
   at
   com.cybersource.gateway.broker.GatewayBrokerImpl.unmarshallReque
   st(GatewayBrokerImpl.java:136)
   at
   com.cybersource.gateway.broker.GatewayBrokerImpl.processRequest(
   GatewayBrokerImpl.java:54)
   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
   at
   sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessor
   Impl.java:48)
   at
   sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethod
   AccessorImpl.java:37)
   at java.lang.reflect.Method.invoke(Method.java:600)
   ...
   ..
   .
   Caused by: java.lang.ClassNotFoundException:
   commonj.sdo.helper.XMLHelper
   at
   org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(
   BundleLoader.java:494)
   at
   org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLo
   ader.java:410)
   at
   org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLo
   ader.java:398)
   at
   org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadCla
   ss(DefaultClassLoader.java:105)
   at java.lang.ClassLoader.loadClass(ClassLoader.java:618)
   
   
    
   
   

LOCAL FIX
 *  <None>
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users of the IBM WebSphere Application      *
   *                  Server V7.0 Feature Pack for OSGi           *
   *                  Applications and Java Persistence API       *
   *                  (JPA) 2.0 who use the V7 Feature Pack for   *
   *                  Service Component Architecture (SCA) in     *
   *                  the same WebSphere Application Server       *
   *                  installation.                               *
   *                                                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: Two API packages of the Service Data    *
   *                      Objects (SDO) feature of the SCA        *
   *                      Feature Pack are not correctly          *
   *                      exposed to OSGi applications (that is,  *
   *                      applications written to the             *
   *                      programming and assembly model          *
   *                      provided by the OSGi feature of the     *
   *                      Feature Pack for OSGi Applications      *
   *                      and JPA), leading to problems in OSGi   *
   *                      applications with dependencies on       *
   *                      these packages.  The problematic SDO    *
   *                      packages are 'commonj.sdo.helper' and   *
   *                      'com.ibm.websphere.sdox'.               *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When importing an EBA asset containing a bundle with a package
   dependency on either 'commonj.sdo.helper' and/or
   'com.ibm.websphere.sdox', the importAsset will fail with an
   exception message such as:
   
   The exception
   com.ibm.ws.eba.provisioning.services.ResolverException:
   CWSAO0007E: The system cannot provision the EBA
   myfirst.eba_1.0.0 because the following problems in the
   dependency chain were detected: The package dependency
   com.ibm.websphere.sdox with the version greater than or equal
   to 0.0.0 required by bundle myfirst.impl_1.0.0 cannot be
   resolved. The package dependency commonj.sdo.helper with the
   version greater than or equal to 2.0.0 required by bundle
   myfirst.impl_1.0.0 cannot be resolved. occurred. Check log for
   details.
   
   The exact message may differ depending on which of the two
   packages you import (or both), as well as what, if any,
   package version you declare on your Import-Package declaration
   in your bundle manifest.
   
   The impact of this problem is that you will not be able to use
   any of the SDO helper APIs, (e.g. DataFactory, XMLHelper,
   etc.), from your OSGi application. Likewise you will not be
   able to use any of the APIs in com.ibm.websphere.sdox (e.g.
   SDOUtil) from your OSGi application.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The WebSphere Application Server V7.0 Feature Pack for
   Service Component Architecture (SCA) mechanism which provides
   the bridge to load classes provided by the Feature Pack for
   Service Component Architecture (SCA) from OSGi applications was
   updated to expose both the 'commonj.sdo.helper' and
   'com.ibm.websphere.sdox' packages.
   
   APAR PM17276 is currently targeted for inclusion in Service
   Level (Fix Pack) 1.0.1.7 of WebSphere Application Server v7
   Feature Pack for Service Component Architecture (SCA).  Please
   refer to the Recommended Updates page for delivery
   information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM17276
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE APP S
   
   
 * REPORTED COMPONENT ID
   5724J0800
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-06-25
   
   
 * CLOSED DATE
   2010-08-03
   
   
 * LAST MODIFIED DATE
   2010-08-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WAS SCA FEATURE
   
   
 * FIXED COMPONENT ID
   5724J0854
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP