Title: IBM The update-wcm task failed after installing WCM cumulative fix - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The update-wcm task failed after installing WCM cumulative fix 

SYMPTOM
The configTrace.log shows the following exfception:

[wsadmin] WASX7017E: Exception received while running file
"/usr/IBM/WebSphere/wp_profile/ConfigEngine/config/work/was/curJaclScrip
t.jacl"; exception information: com.ibm.ws.scripting.
ScriptingException: WASX7111E: Cannot find a match for supplied option:
"[WCM_Local_Rendering_Portlet_JSR286, ilwwcm-localrende.war,WEB-INF/web.
xml, WebSphere:cell=Cellname,node=Nodename,
server=webserver1+WebSphere:cell=Cellname,
cluster=PortalCluster]" for task "MapModulesToServers"

[wplc-edit-ear]
/usr/IBM/WebSphere/wp_profile/ConfigEngine/config/actions/utils.xml:
1180: Java returned: 105
[wplc-edit-ear] at org.apache.tools.ant.taskdefs.Java.execute
(Java.java:87)
[wplc-edit-ear] at com.ibm.websphere.ant.tasks.WsAdmin.execute
(WsAdmin.java:406)



CAUSE
Disabling the truncation in the WP DeploymentService will allow war files with a name larger than the default 21 characters. This will generate the above exception when running the update-wcm task because when applying the cumulative fix, Portal hardcodes the truncated war file names into the prereq.wcm_cfg.xml regardless of what is set in the DeploymentService. 

ENVIRONMENT
Portal 6153 WCM CFxx

DIAGNOSING THE PROBLEM
Reviewing the wp_profile/config/cells/cellName/applications/PA_WCMLRingPortJSR286.ear, it showed that the ilwwcm-localrenderingportlet-jsr.war exists when its looking for the truncated ilwwcm-localrende.war


RESOLVING THE PROBLEM
In the Websphere Application Server admin console under Resource environment providers > WP DeploymentService

set shorten.deplyment.names=true 
or 
set deployment,name.limit=21