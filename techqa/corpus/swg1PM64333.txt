Title: IBM PM64333: [wi 67521] floating license is not released when a new ram connection is created or connection userid get changed - United States

Text:
  A FIX IS AVAILABLE
Rational Asset Manager Fix Pack 2 (7.5.1.2) for 7.5.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24034129]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  This defect is from ER#RATLC01347441, client is using RAM 7.5,
   they found floating license is not released after shutdown
   eclipse client under following condition:
   
   If the user either deletes the connection and creates a new
   connection, or modifies the existing connection with a different
   userid, the license is not released right away.
   
   This defect can be reproduced by following steps:
   
   1) Make sure to start from the clear WAS status, checked in web
   page with admin id, the license in use is 0;
   
   2) On machine 1, use ram client (ram 7502 plugin installed in
   rsa 8) to login with user id user1, please be noted that this
   repo connection is existing connection, not newly created;
       open asset in asset view, check in web page, the license in
   use is 1, in report it shows that user 1 checking out the
   floating license;
       close ram client, check in web page, the license in use is
   0, license is returned normally;
       seems the first user works as expected;
   
   3) Now on machine 2, start ram client (ram 7502 plugin installed
   in RAD 7.5.5.3), create a new repo connection, with user id
   user2, open an asset in asset view;
       Checked in web page, license in use is 1;
       shutdown ram client, checked web page, license in use is
   still 1, checked report, it shows that user2 is using floating
   license;
       seems the newly created connection break session;
   
   4) try on machine 1 again, use ram client to login/open asset
   with user1, license in use is 2, report shows user1 and user2 is
   using license, shutdown ram client, license is released
   successfully, license in use is 1 again;
      this is consistent with what we suspected, if the session is
   established(managed?) correctly for first time, it will continue
   to work fine for onwards license checkin and checkout;
   
   5) try on machine 2 again, use ram client to login/open asset
   with user2, license in use is 1, report shows user2 is using
   license, shutdown ram client, license is not released, license
   in use is still 1;
      seems this is consistent with what we suspected, if the
   session is messed, the onwards checkin/checkout won't work fine.
   
   6) continue the testing, wait for more than 30 minutes so all
   sessions can be timeout, checked in web page, license in use
   back to 0;
   
   7) try on machine 1 with user1, ram client works fine, license
   is checked out and in correctly;
   
   8) try on machine 2 with user2 (now repo connection becomes
   existing connection), ram client works fine, license is checked
   out and in correctly;
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Problem isolated to uncommon use case:
   "If the user either deletes the connection and creates a new
   connection, or modifies the existing connection with a
   different userid, the license is not released right away."
   
   Peter Walker
   
   
    
   
   

PROBLEM CONCLUSION
 *  This is now fixed in RAM v7.5.1.2 which will be available on
   3/29/13.
   
   Peter Walker
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM64333
   
   
 * REPORTED COMPONENT NAME
   RATL ASSET MGR
   
   
 * REPORTED COMPONENT ID
   5724R4200
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-05-09
   
   
 * CLOSED DATE
   2013-04-01
   
   
 * LAST MODIFIED DATE
   2013-04-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   RATL ASSET MGR
   
   
 * FIXED COMPONENT ID
   5724R4200
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSN
   UP