Title: IBM IZ50471: KUXAGENT CRASHES ON SOLARIS IN CONVERT_TO_TIMESTAMP - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Monitoring: Unix(R) OS Agent 6.2.0.3-TIV-ITM_UNIX-IF0001 [http://www-01.ibm.com/support/docview.wss?uid=swg24025020]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Environment: Solaris
   
   Problem Description: The kuxagent crashes on Solaris in the
   convert_to_timestamp value, because the failure of localtime is
   not handled correctly. localtime returns a NULL pointer upon
   failure.
   
   Detailed Recreation Procedure: There is not sistematic
   procedure. This is probably due to a corrupted environment. It
   occurs when accessing process data (for instance, refresh of
   the Process workspace)
   
   Related Files and Output:
   Stack trace in the agent log is the following.
   
   /opt/IBM/ITM/sol296/ux/bin/kuxagent:stacktrace_handler+0x58
   /lib/sparcv9/libc.so.1:0xd418c
   /lib/sparcv9/libc.so.1:0xc7d28
   /lib/sparcv9/libc.so.1:0xc7f20
   /opt/IBM/ITM/sol296/ux/bin/kuxagent:__1cUconvert_to_timestamp6Fk
   lpc_v_+0
   x140 [
   /opt/IBM/ITM/sol296/ux/bin/kuxagent:__1cRsave_process_data6FpnIp
   s_table
   ii_v_+0xc64
   /opt/IBM/ITM/sol296/ux/bin/kuxagent:__1cSget_entire_process6FpnI
   ps_table
   __i_+0x1c8
   /opt/IBM/ITM/sol296/ux/bin/kuxagent:__1cMget_ps_table6FpnIps_tab
   le__i_+0
   x2d8
   /opt/IBM/ITM/sol296/ux/bin/kuxagent:__1cSomunx_unixps_agentKTake
   Sample6M
   _v_+0x288
   /opt/IBM/ITM/tmaitm6/sol286/lib/libkra.so:__1cFctiraTDriveDataCo
   llection
   6M_I_+0x3d0
   /opt/IBM/ITM/tmaitm6/sol286/lib/libkra.so:__1cMTableManagerXchec
   kForExpi
   redRequests6Ml_v_+0x538
   /opt/IBM/ITM/tmaitm6/sol286/lib/libkra.so:__1cMTableManagerHtime
   out6FpnP
   CTRA_Timerspec___v_+0x20
   /opt/IBM/ITM/tmaitm6/sol286/lib/libkra.so:__1cPCTRA_timer_baseUT
   imerCall
   backHandler6M_v_+0x3b0
   /opt/IBM/ITM/tmaitm6/sol286/lib/libkra.so:0x738c8
   /opt/IBM/ITM/tmaitm6/sol286/lib/libkra.so:0x76a00
   /lib/sparcv9/libc.so.1:0xd4060
   Fatal Error (11) Detected. Exiting
   stat_daemon, Signal handler - Received Exit Notification.
   Exiting
    ****  stat_daemon terminated ****
    **** UNIX Agent vmstat terminated ****
   kuxdstat, Signal handler - SIGTERM captured. Exiting.
    ****  UNIX Agent ifstat terminating ****
    **** UNIX Agent kuxdstat terminated ****
    ****  kuxagent terminated ****
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  The kuxagent process crashes on Solaris in the convert_to_timest
   amp value, because the failure of localtime is not handled
   correctly.  Localtime returns a NULL pointer upon failure.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is included in the following maintenance
   vehicle:
   
      | interim fix | 6.2.1.0-TIV-ITM_UNIX-IF0005
   
   This fix will also be included in the next 6.2.0.1-TIV-ITM_UNIX-
   IF0007 which will be released on June 5th 2009
   
   Note: Search the IBM technical support web site for maintenanc
   package availability.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ50471
   
   
 * REPORTED COMPONENT NAME
   ITM AGENT UNIX
   
   
 * REPORTED COMPONENT ID
   5724C040U
   
   
 * REPORTED RELEASE
   620
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-04-30
   
   
 * CLOSED DATE
   2009-05-28
   
   
 * LAST MODIFIED DATE
   2009-06-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITM AGENT UNIX
   
   
 * FIXED COMPONENT ID
   5724C040U
   
   

APPLICABLE COMPONENT LEVELS
 * R620 PSY
   UP
   
   
 * R621 PSY
   UP