Title: IBM With WebSphere Process Server (WPS), SOAP attachments that are received in request messages might be echoed in response messages - United States

Text:
v62rnotes; v70rnotes; soap attachments; response messages TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 SOAP attachments that are received in a request message might exist in the response message if they are not removed by a mediation flow component . 

SYMPTOM
Response messages receive unexpected binary attachments from exports that have Javaâ„¢ API for XML Web Services (JAX-WS) bindings.


CAUSE
The problem is caused by an export that is connected to a component that is not a mediation flow component (MFC) or JAX-WS import. For example, in following scenarios, attachments are preserved in their contexts and are included in response messages: 

 * A JAX-WS export binding is wired to a mediation flow component , which does not remove the attachment, that is wired to a Java component. 
 * A JAX-WS export binding is wired to a Java component. The Java component can be replaced by any other non-mediation flow component or any import binding that is not JAX-WS.

In these scenarios, swaRef-typed elements or unreferenced attachments are echoed; referenced attachments are echoed if the name of the binary part in the request message is same as that in the response message. 
RESOLVING THE PROBLEM
Use a mediation flow component to remove the attachment by modifying the attachment header in service message object (SMO) when the attachment is no longer needed. Mediation flow component provides many primitives to maintain the data that is stored in SMO. For example, to remove the attachment header, you can use a message element setter primitive to eliminate one or more attachment elements.

 

PRODUCT ALIAS/SYNONYM
 WPS