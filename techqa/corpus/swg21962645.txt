Title: IBM Collecting Data: Installation of WebSphere Portal 8.5 on Multiplatforms - United States

Text:
Collecting Data; Collecting Data; Collecting Data; MustGather; MustGather; MustGather; MustGatherDocument; DS; Installation RECOMMENDED RESOURCES

ABSTRACT
 Collecting troubleshooting data for multiplatform installation issues with IBM WebSphere Portal expedites time to resolution by enabling IBM Support to provide informed problem analysis. 

CONTENT
If you have already contacted IBM Support and must collect data to determine the nature of a problem in WebSphere Portal, review the information below for the available methods of data collection. Otherwise, review Collecting Data: Read first for WebSphere Portal 8.5 [http://www-01.ibm.com/support/docview.wss?rs=688&uid=swg21672901]. 

Collecting Portal Installation Information
Portal v8.5 Installation includes the following steps:


 1. Installation of the install tool, named as IBM Installation Manager or shortly, IIM. 
 2. Adding the repositories for Portal and pre-requisites (WebSphere AppServer, WAS fixes, Portal Server and the Offering) for installing Portal. 
 3.  Determining if this will be a base, full or custom installation. 
 4.  Creating/adding nodes to a cluster. 
 5.  Installing Upgrades (Cumulative Fixes, interim fixes, etc.) 


Option A: Automated collection of troubleshooting data

Note: This method can only be used if the installation has progressed to the point that the Portal profile (wp_profile) has been created. If wp_profile (default location: WebSphere/wp_profile) has not yet been created, please proceed to the Manual Collection section below. 

Automated log collection is the recommended method for improving accuracy of the data collection. Follow the steps below to run the wpcollector tool for automated log collection. 

1. Run the following script from <wp_profile>/PortalServer/bin to collect the data: 

 Windows: wpcollector.bat 

 Linux/Unix/i: wpcollector.sh

Note: If you wish to use wpcollector to FTP the files to IBM Support, include the -Dpmr=<pmr_number> parameter to indicate the relevant PMR #. For example: wpcollector.bat -Dpmr=11111,222,333 


2. If you did not FTP your files via wpcollector, locate the "wp.mustgather.zip" file or the "<pmr #>-wp.mustgather-timestamp.zip" file in <wp_profile_root> [https://idoc2.swg.usma.ibm.com/portal/topic/com.ibm.wp.ent.doc_v70/reference/wpsdirstr.html#wpsdirstr__wp_profile_root]/filesForAutoPD/. Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www-01.ibm.com/support/docview.wss?rs=688&uid=swg21201571]. 

Note: When sending in logs for review, include any relevant screenshots, timestamps, userIds, etc. in order to expedite analysis of the issue. 

 

Option B: Manual collection of troubleshooting data 

For capturing logs manually, please collect the below:

The following location is defined IM_DATA_DIR

Unix: /<user_home>/var/ibm/InstallationManager
Windows: C:\ProgramData\IBM\Installation Manager

1) The directory

Unix: <IM_DATA_DIR>/logs
Windows: <IM_DATA_DIR>\logs

(if not, at the very least, make sure to include the index.xml, index.xsl, all <timestamp>.xml and the two directories 'DownloadExceptions' and 'native' from the above directory)

2) The files: installed.xml, installed.xsl and installRegistry.xml and histories

from <IM_DATA_DIR>

Note: Only on Windows (Check with your Windows System Administrator for further details): The directory, C:\Program Data is hidden by default. If one needs to access this location, do the below:

Under Control Panel -> Folder Options -> Show hidden files and folders,

choose to check "Show hidden files, folders and drives", uncheck "Hide extensions for known file types" and "Hide protected operating system files". 

Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www-01.ibm.com/support/docview.wss?rs=688&uid=swg21201571]. 

Depending on the stage of installation you have reached, you may have begun using the Configuration Wizard. If that is the case, please include the following directory in your manual log collection; 

<AppServer>/profiles/cw_profile/logs/* 



Enabling traces for Portal installation issues

If support requests you to enable traces for installation issues, follow the instructions below:

1. A file, log.properties needs to be created as in the below provided sample

#Sample debug properties suitable for log.properties
#Mon Jan 19 12:54:48 EST 2015
InstallOperation=DEBUG
InstallOperation/pause.on_error=true
#global=DEBUG

2. Save this file and copy it to the directory 'IM_DATA_DIR/logs'. 

3. Start IBM Installation Manager; start IIM with IBMIMC.exe if running on Windows. 

4. Re-run the Portal installation. When the installation fails, it pauses and you can collect the following logs:

<IM_DATA_DIR>/logs
<IM_DATA_DIR>/installed.xml
<IM_DATA_DIR>/installed.xsl
<IM_DATA_DIR>/installRegistry.xml
<wp_profile root>/logs
<wp_profile root>/ConfigEngine/log/ConfigTrace.log
<AppServer root>/logs

See the "Manual collection of troubleshooting data" section above for details about the <IM_DATA_DIR> location and how to access it on a Windows system. 


Related Information 

 * IBM Support Portal: WebSphere Portal Troubleshooting [http://www.ibm.com/support/entry/portal/Troubleshooting/Software/WebSphere/WebSphere_Portal] [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571] 
 * WebSphere Portal Knowledge Center: Troubleshooting [http://www-01.ibm.com/support/knowledgecenter/SSHRKX_8.5.0/mp/trouble/troubleshooting.dita] 
 * Collecting Data: Read first for WebSphere Portal [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21672901]