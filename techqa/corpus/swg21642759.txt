Title: IBM Non-Native probe debug logging - United States

Text:
mustgather; nonnative; non-native; NDE_DEFAULT_LOG_LEVEL; NDE_FORCE_LOG_MODULE; NCO_P_NONNATIVE_TRANSCRIPT; PROGRAM.env; debugging; debug; objectserver; object server; event loss TECHNOTE (FAQ)

QUESTION
 Mustgather : Can non-native probe debug logging be enabled? 

CAUSE
Sometimes it is necessary to enabled the non-native probes debug logging facility to troubleshoot problems related to the object server connection.

ANSWER
 

The non-native probe supports debug logging at several levels.

Normally IBM Support requires full non-native debug logging to troubleshoot problems, alongside the probes debug logs and other probe configuration data.


General guidance:
The probe will overwrite the logs on start-up. 
Set Retry to 'false' where available, and start the probe from the command line during log capture.

Generated log files: 

 * nonnative_forced.log 
 * nonnative_debug.log


Windows: 
Edit %OMNIHOME%\probes\win32\nco_p_<probe>.bat script and add the following: 

set NDE_DEFAULT_LOG_LEVEL=debug 
set NDE_FORCE_LOG_MODULE= %OMNIHOME%\log\nonnative_forced.log 
set NCO_P_NONNATIVE_TRANSCRIPT= %OMNIHOME%\log\nonnative_debug.log 

UNIX: 
Edit $OMNIHOME/probes/java/nco_p_<probe>.env script and add the following: 

# ENABLE NON-NATIVE PROBE DEBUG LOGGING 
NDE_DEFAULT_LOG_LEVEL=debug 
NDE_FORCE_LOG_MODULE= $OMNIHOME/log/nonnative_forced.log 
NCO_P_NONNATIVE_TRANSCRIPT= $OMNIHOME/log/nonnative_debug.log 
export NDE_DEFAULT_LOG_LEVEL NDE_FORCE_LOG_MODULE NCO_P_NONNATIVE_TRANSCRIPT 


If the <probe>.env file does not exist, create a new file. 

You check that the probe being updated uses the <probe>.env file by using grep: 
e.g. 
grep \.env nco_p_<probe> 
if [ -f $OMNIHOME/probes/java/$ PROGRAM.env ]; then 

If there are no results, then you should upgrade to the latest non-native probe patch, or else discuss other options with IBM Support. 

Probes that use the non-native probe will have it stated in the documentation's Summary page in the requirements section [probe-nco-p-nonnative]. 

Note: nco_p_<probe> would be a name like 'nco_p_alcatel_5620_corba'