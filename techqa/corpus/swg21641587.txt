Title: IBM Cognos Incentive Compensation Management  - Web Client - Running out of space on the Server running Tomcat service, due to excess log files or logging level - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After setting a higher logging level for ICM Web Portal, the log files size will increase rapidly, and the server can run out of space. 

Also, without a scheduled process of deleting the old log files, the free space on the server will diminish in time, causing unexpected problems. 

CAUSE
Server is running out of free space due to log files number or increased size.

ENVIRONMENT
Server hosting the Tomcat service, where ICM Web Portal application (varicent.war) is deployed.

DIAGNOSING THE PROBLEM
The out of free space issue can be noticed quickly if there is a monitoring system in place, that periodically checks the free space of the attached drives (or file systems for Linux OS) and alerts a system administrator.

If there is no such monitoring system, and the system administrator doesn’t check the free space, one or more of the symptoms mentioned above will occur.

RESOLVING THE PROBLEM
Once the “out of free space” issue is observed, follow the steps below to delete or move old and unnecessary log files:

1.In the location where Tomcat is installed, check the logs folder (Ex. C:\Program Files\Apache Software Foundation\Tomcat 6.0\logs)





 2. Because each log file is prefixed with the date when it was created, decide if the old dated log files are still needed or not.

Example log files:
- tomcat6-stderr.YYYY-MM-DD.log
- hostmanager.YYYY-MM-DD.log
- localhost.YYYY-MM-DD.log
- manager.YYYY-MM-DD.log

- tomcat6-stderr.YYYY-MM-DD.log
- tomcat6-stdout.YYYY-MM-DD.log

If needed, move the files on different disk (or file system if using Linux), or on a different server used for storing old data for future consulting.

If the files are no longer needed, then proceed with deleting them. 

3. Check the logging level for the ICM Web portal (varicent.war) deployed on Tomcat, that directly impacts the size of the log file called “varicent.log”.

The logging level can be checked by looking in the “log4j.properties” file (Ex. C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\varicent\WEB-INF\classes\log4j.properties). 

By default, the following lines should be set to “INFO” or “WARN”.
If set to “DEBUG”, the system will log a lot more details, causing the varicent.log file size to increase rapidly. 

log4j.rootLogger=INFO, stdout, logfile
log4j.logger.com.mchange=WARN, logfile
log4j.logger.org.springframework=WARN, logfile
log4j.logger.com.varicent=WARN, logfile 

4. Implement a solution that will automatically delete or move the old log files to other disk or server.