Title: IBM Performance Analytics for TEP agent (ITPA) fails to load libjvm.so - United States

Text:
ITPA; libjvm.so; 64-bit XCOFF; XCOFF; object module not stripped TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Performance Analytics for TEP agent (ITPA) fails to start when libjvm.so is not correctly loaded. 

CAUSE
The 32-bit edition of ITPA will try to find and load a 32 bit libjvm.so from its run time. If a 32-bit libjvm.so is not available, the ITPA will fail to start.

DIAGNOSING THE PROBLEM
Review kpacma.log for errors: 

2011-08-30 06:51:08: Error: Failed to open library libanalytic.so ( 
0509-022 Cannot load module /opt/IBM/ITM/aix533/pa/lib/libanalytic.so.
0509-150 Dependent module libjvm.so could not be loaded. 
0509-022 Cannot load module libjvm.so. 
0509-026 System error: A file or directory in the path name does not exist. 

The "aix533" directory above indicates a 32-bit architecture.


RESOLVING THE PROBLEM
1. Install a 32 bit JVM on the server where the ITPA is installed. 

 
2. Stop the ITPA. 
3. Edit ITPA config file ($CANDLEHOME/config/pa.ini) 

Append the location ($JAVAHOME$/bin/classic) to the variable LIBPATH

4. Start the ITPA.