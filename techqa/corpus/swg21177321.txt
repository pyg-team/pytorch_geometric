Title: IBM Procedure to take a user or service trace of message flow at an integration server or execution group level - United States

Text:
MustGather; MGDM ; MGEG; MGMF; MustGatherDocument service user level trace TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Use this procedure to capture a user or service level trace of an IBM Integration Bus (IIB) message flow at an Integration Server level or a WebSphere Message Broker (WMB) message flow at an execution group level. 

Gathering this information before calling IBM Support will help familiarize you with the troubleshooting process and save you time. 

RESOLVING THE PROBLEM
 
[/support/docview.wss?uid=swg21177321&amp;aid=1] Service Level Trace : Service trace provides more detailed information than that provided by the entries that are written to the Syslogs, Event Logs, Trace Node Outputs, or User Trace. Typically, IBM support uses service trace for debugging problems as it can trace internal calls in addition to the brokers, execution groups, and deployed message flows.

[/support/docview.wss?uid=swg21177321&amp;aid=1] User Level Trace : User trace provides more information than that provided by the entries that are written to the logs. Typically, you use user trace for debugging your applications, as it can trace brokers, execution groups, and deployed message flows.








 


Service Level Trace




1. Start trace. 

mqsichangetrace <brokername> -t -e <egroup> -l debug -r -c 100000 

2. Put a message on the queue to cause the failure to occur. 

3. Stop trace. 

mqsichangetrace <brokername> -t -e <egroup> -l none 

4. Retrieve the trace log for the specified component. 

mqsireadlog <brokername> -t -e <egroup> -f -o flowtrace.xml 


5. Format the XML trace file. 

mqsiformatlog -i flowtrace.xml -o serviceflowtrace.txt 

The serviceflowtrace.txt will be in the current working directory. 





Back to top




User Level Trace



1. Start trace .
 * mqsichangetrace <brokername> -u -e <egroup> -l debug -r -c 50000
 * 
 * 
 * <brokername>
 * 
 * 
   <egroup>
 * 


2. Put a message on the input node queue to cause the failure to occur. 

3. Stop trace.  * 
 * mqsichangetrace <brokername> -u -e <egroup> -l none
 * 
 * 
 * 
 * Operations
 * 
 * Message Flow,
 * 
 * Stop Trace


4. Retrieve the trace log for the specified component. 
 * mqsireadlog <brokername> -u -e <egroup> -f -o flowtrace.xml


5. Format XML tracefile. 
 * mqsiformatlog -i flowtrace.xml -o userflowtrace.txt


The userflowtrace.txt will be in the current working directory.  * 
 *  
   
   
   
 * 
 * Back to top
 * 



Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Integration Bus 9.0 All Editions 
PRODUCT ALIAS/SYNONYM
 WMB MB WebSphere Message Broker MQ Integrator WBIMB WBI-MB MQSI WMQI