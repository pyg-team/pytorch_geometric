Title: IBM IZ15060: INCORRECT SQL0968C "FILE SYSTEM FULL" FOR TABLESPACES WITH      AUTOMATIC STORAGE - United States

Text:
AIX  FIXES ARE AVAILABLE
DB2 Version 9.5 Fix Pack 4 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24023213]
DB2 Version 9.5 Fix Pack 4a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24024215]
DB2 Version 9.5 Fix Pack 5 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24025421]
DB2 Version 9.5 Fix Pack 6a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24027747]
DB2 Version 9.5 Fix Pack 7 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24028731]
DB2 Version 9.5 Fix Pack 8 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24030302]
DB2 Version 9.5 Fix Pack 9 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24032087]
DB2 Version 9.5 Fix Pack 10 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24033308]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If the root of the automatic storage path does not have enough
   free file system space, and an attempt is made to extend the
   tablespace, DB2 will incorrectly report SQL0968C "file system
   full" without checking the amount of free file system space
   in the full path where the new container should be created.
   .
   For example, say that the following automatic storage path
   is defined (output taken from a database snapshot):
   .
   Automatic storage path                     = /home/db2inst1
   .
   An attempt is made to extend the tablespace. A new container
   is about to be created in the following path consisting of
   the automatic storage path, instance name, node number,
   database name, and tablespace id:
   .
   /home/db2inst1/db2inst1/NODE0000/SAMPLE/T0000004/
   .
   However, DB2 will not check the amount of free disk space
   in this long path where the container is going to be created.
   Instead, only "/home/db2inst1" is considered. This is an
   incorrect assumption since "/home/db2inst1" can contain
   mounted filesystems, for example "/home/db2inst1/db2inst1",
   which can have a sufficient amount of free disk space.
   .
   DB2 should always check the target path where the new
   container is going to be created, not just the root of it.
   If the target path does not exist, DB2 will check the file
   system information of the last subdirectory in the existing
   path. For example, if only
   .
   /home/db2inst1/db2inst1/NODE0000/
   .
   exists, DB2 will check the amount of free space in this
   directory.
   
   
    
   
   

LOCAL FIX
 *  Ensure the root of the automatic storage path has a sufficient
   amount of free file system space.
   
   
    
   
   

PROBLEM SUMMARY
 *  see APAR description
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem first fixed in DB2 UDB 9.5 FixPak 4.
   
   
    
   
   

TEMPORARY FIX
 *  see APAR text
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ15060
   
   
 * REPORTED COMPONENT NAME
   DB2 UDB ESE AIX
   
   
 * REPORTED COMPONENT ID
   5765F4100
   
   
 * REPORTED RELEASE
   950
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-02-07
   
   
 * CLOSED DATE
   2009-06-05
   
   
 * LAST MODIFIED DATE
   2009-06-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    IZ15048 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ15048]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  ENGN_SQB
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 UDB ESE AIX
   
   
 * FIXED COMPONENT ID
   5765F4100
   
   

APPLICABLE COMPONENT LEVELS
 * R950 PSN
   UP