Title: IBM 新安装IBM Content Navigator2.0.3后，部署服务之后，在IBM Websphere里启动服务悬挂。 - United States

Text:
ICN; DB script TECHNOTE (TROUBLESHOOTING)

问题（摘要）
 安装IBM Content Nagigator[ICN] 2.0.3后，在IBM Content Nagivator Configuration and Deployment Tool运行所有任务，但是在运行"Configure your database and Data source"任务时没有勾选"Run the script on your database" 选项，而是在Oralce数据库层面运行ORACLE_ONE_SCRIPT.sql脚本。之后在WAS里启动ICN服务时悬挂。 

症状
在WAS里启动ICN服务悬挂。


原因
第一次运行ORACLE_ONE_SCRIPT.sql脚本有问题。

环境
ICN 2.0.3, Oracle, Linux

诊断问题
在systemOut.log中，hung出现之后有一下数据库报错：


at com.ibm.ecm.sync.WebAppListener.applyDatabaseUpdaters(WebAppListener.java:278)
at com.ibm.ecm.sync.WebAppListener.contextInitialized(WebAppListener.java:118)

SystemOut.log里的全部报错如下：
[[10/09/15 15:10:11:447 EST] 00000090 ThreadMonitor W WSVR0605W: Thread "server.startup : 1" (00000082) has been active for 702796 milliseconds and may be hung. There is/are 1 thread(s) in total in the server that may be hung.
at java.lang.Thread.sleep(Native Method)
at java.lang.Thread.sleep(Thread.java:897)
at com.ibm.ecm.sync.WebAppListener.applyDatabaseUpdaters(WebAppListener.java:278)
at com.ibm.ecm.sync.WebAppListener.contextInitialized(WebAppListener.java:118)
at com.ibm.ws.webcontainer.webapp.WebApp.notifyServletContextCreated(WebApp.java:1678)
at com.ibm.ws.webcontainer.webapp.WebAppImpl.initialize(WebAppImpl.java:414)
at com.ibm.ws.webcontainer.webapp.WebGroupImpl.addWebApplication(WebGroupImpl.java:88)
at com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImpl.java:169)
at com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:749)
at com.ibm.ws.webcontainer.WSWebContainer.addWebApplication(WSWebContainer.java:634)
at com.ibm.ws.webcontainer.component.WebContainerImpl.install(WebContainerImpl.java:426)
at com.ibm.ws.webcontainer.component.WebContainerImpl.start(WebContainerImpl.java:718)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1175)
at com.ibm.ws.runtime.component.DeployedApplicationImpl.fireDeployedObjectStart(DeployedApplicationImpl.java:1370)
at com.ibm.ws.runtime.component.DeployedModuleImpl.start(DeployedModuleImpl.java:639)
at com.ibm.ws.runtime.component.DeployedApplicationImpl.start(DeployedApplicationImpl.java:968)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.startApplication(ApplicationMgrImpl.java:774)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:2182)
at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:445)
at com.ibm.ws.runtime.component.CompositionUnitImpl.start(CompositionUnitImpl.java:123)
at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.start(CompositionUnitMgrImpl.java:388)
at com.ibm.ws.runtime.component.CompositionUnitMgrImpl.access$500(CompositionUnitMgrImpl.java:116)
at com.ibm.ws.runtime.component.CompositionUnitMgrImpl$CUInitializer.run(CompositionUnitMgrImpl.java:994)
at com.ibm.wsspi.runtime.component.WsComponentImpl$_AsynchInitializer.run(WsComponentImpl.java:502)
at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1862)


解决问题
删除Oracle里ICN的schema,重新运行ORACLE_ONE_SCRIPT.sql脚本。





交叉引用信息 分段 产品 组件 平台 版本 修订版 Enterprise Content Management Content Navigator