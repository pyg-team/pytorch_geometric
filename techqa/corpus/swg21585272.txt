Title: IBM CWWBA0010E and Nullpointer exception is thrown during people resolution after migrating from a previous version of WebSphere Process Server (WPS) to Version 7 - United States

Text:
CWWBA0010E; Nullpointer; people directory provider; v70rnotes TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 An installation of WebSphere Process Server is migrated from a previous version to WebSphere Process Server Version 7. After migrating, a NullPointerException occurred during an attempt to assign people for human tasks in Business Process Choreographer (BPC) using Virtual Member Manager (VMM) as the people directory provider. 

SYMPTOM
You might encounter the following exceptions: 


[1/3/12 9:53:17:503 EST] 0000003e TraceBPE 3 com.ibm.bpe.engine.BpelEngine.onMessage(BpelEngine.java:1566) <Null Message>
java.lang.NullPointerException
at org.eclipse.emf.ecore.sdo.util.SDOUtil.create(SDOUtil.java:579)
at org.eclipse.emf.ecore.sdo.impl.EDataGraphImpl.createRootObject(EDataGraphImpl.java:523)
at com.ibm.websphere.wim.util.SDOHelper$1.run(SDOHelper.java:186)
at java.security.AccessController.doPrivileged(AccessController.java:202)
at com.ibm.websphere.wim.util.SDOHelper.createDataGraph(SDOHelper.java:182)
at com.ibm.websphere.wim.util.SDOHelper.cloneRootDataObject(SDOHelper.java:403)
at com.ibm.websphere.wim.util.SDOHelper.createRootDataObject(SDOHelper.java:114)
at com.ibm.bpe.staff.VMMAccessControl.searchForEntities(VMMAccessControl.java:990)
at com.ibm.bpe.staff.VMMAccessControl.doPluginSearch(VMMAccessControl.java:943)
at com.ibm.bpe.staff.VMMStaffResolutionPlugin.resolveStaff1(VMMStaffResolutionPlugin.java:1531)
at com.ibm.bpe.staff.VMMStaffResolutionPlugin$1.run(VMMStaffResolutionPlugin.java:1098)
at java.security.AccessController.doPrivileged(AccessController.java:251)
at com.ibm.bpe.staff.VMMStaffResolutionPlugin.resolveStaff(VMMStaffResolutionPlugin.java:1095)
at com.ibm.ws.staffsupport.StaffSupportServicePlugin.resolveStaff(StaffSupportServicePlugin.java:313)
at com.ibm.task.staff.StaffQueryManager.getStaffResult(StaffQueryManager.java:1171)
at com.ibm.task.staff.StaffQueryManager.getStaffResult(StaffQueryManager.java:765)
at com.ibm.task.util.TaskStaffDelegatorImpl.getStaffQueryResult(TaskStaffDelegatorImpl.java:109)


CAUSE
You must configure a people directory provider before you can use it. To configure it, you must set the people directory provider as the active User Account Repository in the administrative console. These settings are not retained during a migration; they must be reset after the migration has been completed.

After migrating, to use VMM as the people directory provider, set it as the active User Account Repository in the administrative console.


RESOLVING THE PROBLEM
To resolve this issue, complete the following steps: 

 1. Configure VMM as the people directory provider. For more information, see Configuring the Virtual Member Manager people directory provider [http://publib.boulder.ibm.com/infocenter/dmndhelp/v7r0mx/index.jsp?topic=/com.ibm.websphere.bpc.doc/doc/bpc/t4staff_vmm.html] topic in the information center.
    
    
 2. Complete a full synchronization.
    
    
 3. Restart the clusters.
    
    
    Note: You do not need to restart the node agents.
    
    
 4. Log in to the administrative console and the BPM Explorer to verify that the active VMM directory configuration works. 


Optional  1. Run the affected process or task to verify that it assigns correctly.
    
    
 2. Switch back to the original configuration and test the affected process again. 

 

PRODUCT ALIAS/SYNONYM
 federated repository