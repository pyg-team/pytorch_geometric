Title: IBM PI39800: RATIONAL DEVELOPER FOR SYSTEM Z (RDZ) : COBOL PARSER PROVOKES AN INDEXOUTOFBOUNDSEXCEPTION ERROR - United States

Text:
  FIXES ARE AVAILABLE
Rational Developer for System z Fix Pack 1 (9.1.1.2) for 9.1.1. [http://www-01.ibm.com/support/docview.wss?uid=swg24040962]
Rational Developer for System z Fix Pack 1 (9.1.1.3) for 9.1.1. [http://www-01.ibm.com/support/docview.wss?uid=swg24041789]
Rational Developer for System z Interim Fix 1 for 9.1.1.3 [http://www-01.ibm.com/support/docview.wss?uid=swg24042181]
Rational Developer for System z Fix Pack 1 (9.1.1.4) for 9.1.1. [http://www-01.ibm.com/support/docview.wss?uid=swg24042820]
Rational Developer for System z Fix Pack 1 (9.1.1.5) for 9.1.1. [http://www-01.ibm.com/support/docview.wss?uid=swg24043244]
Rational Developer for System z Fix Pack 1 (9.1.1.6) for 9.1.1. [http://www-01.ibm.com/support/docview.wss?uid=swg24044103]
Rational Developer for System z Fix Pack 1 (9.1.1.7) for 9.1.1. [http://www-01.ibm.com/support/docview.wss?uid=swg24044796]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Rational Developer for System z - RDz - v9.1.1
   
   Description :
   This occurs in case of Cobol program with copybooks associated.
   On RDz 8.5.1.5, there was an error marker on "ROLLBACK", which
   was used in a main program as a variable as shown below :
   088890 CLOTURE.
   088900     IF    ROLL-A-FAIRE-BIS = 1
   088910*          MOVE 1 TO ROLL-A-FAIRE
   088920           SET ROLLBACK TO TRUE
   088930     END-IF
   The ROLLBACK variable is defined in the copybooks :
   * LE ROLLBACK 00300001
   * 0 PAS DE ROLLBACK A FAIRE 00310001
   * 1 ROLLBACK A FAIRE 00320001
   15 PRJ024-SIGNA-ROLLBACK PIC X. 00330001
   88 PRJ024-ROOLBACK-A-FAIRE VALUE '1'. 00340001
   This seems to be a bug in the RDz parser,
   since this file was compiled successfully by the Cobol compiler.
   But on RDz 9.1.1, there is no more error marker. The parser just
   silently fails and all syntax functions are disabled.
   The only way to get more information on this error on RDz 9.1.1
   was to go to the preferences, and in the Tracing page enable the
   FINEST trace on com.ibm.systemz.common.editor.
   It shows there is an IndexOutOfBoundsException in the parser :
   java.lang.IndexOutOfBoundsException: Index: 59631, Size: 24105
   
   This issue seems to happen on programs containing a
   "REPLACE" statement.
   
   Steps to have the error message :
   - In the preferences, put FINEST level in
   com.ibm.systemz.cobol.editor.core
   + com.ibm.systemz.cobol.editor.lpex
   + com.ibm.systemz.common.editor.
   - Open the program from the z/OS project perspective
   (tested with both Cobol and LPEX editors)
   - Await for the copybooks download
   - Got the red cross over the suitcase icon at the bottom right
   of
   the screen and "Tooling failed to initialize dur to syntax error
   -> when adding syntax check errors, they are not detected.
   
   
    
   
   

LOCAL FIX
 *  No
   
   
    
   
   

PROBLEM SUMMARY
 *  COBOL parser incorrectly calculated offsets when processing
   REPLACE statements.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Fixed offset calculation for processing REPLACE statements in
   COBOL parser.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI39800
   
   
 * REPORTED COMPONENT NAME
   RATL DEV FOR SY
   
   
 * REPORTED COMPONENT ID
   5724T0700
   
   
 * REPORTED RELEASE
   911
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-04-24
   
   
 * CLOSED DATE
   2015-10-16
   
   
 * LAST MODIFIED DATE
   2015-10-16
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   RATL DEV FOR SY
   
   
 * FIXED COMPONENT ID
   5724T0700
   
   

APPLICABLE COMPONENT LEVELS
 * R911 PSY
   UP