Title: IBM PM66476: SERVER HANG RELATED TO HPEL TEXTLOG - United States

Text:
  FIXES ARE AVAILABLE
8.5.0.1: WebSphere Application Server V8.5 Fix Pack 1 [http://www-01.ibm.com/support/docview.wss?uid=swg24033606]
8.5.0.2: WebSphere Application Server V8.5 Fix Pack 2 [http://www-01.ibm.com/support/docview.wss?uid=swg24034672]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Steps to recreate (must be on Microsoft Windows):
   1. start server with hpel enabled and hpel text log enabled
   2. on runtime tab, disable text log and click apply
   3. on runtime tab, enable text log and click apply
   4. log a lot of records (enough to have to clean up all text
   
   server gets stuck in a loop doing I/O and never returns.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users of IBM WebSphere Application Server   *
   *                  V8.5 using High Performance Extensible      *
   *                  Logging (HPEL) on Microsoft Windows.        *
   ****************************************************************
   * PROBLEM DESCRIPTION: Server hang related to HPEL Textlog.    *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   WebSphere Application Server has a logging mechanism called
   High Performance Extensible Logging (HPEL), which is binary
   logs. When HPEL is enabled, and when you go to the
   administrative console and disable and re-enable the HPEL Text
   log feature in runtime tab, a server hang is observed during
   log rotation.
   
   
    
   
   

PROBLEM CONCLUSION
 *  When you disable text log, the existing log file is not
   closed. When you enable the logging again, HPEL creates a new
   text log file.  No issue is  observed, until we try to remove
   the first file and create a new one per the log rotation
   policy. Because the first file is still open, HPEL fails to
   delete the file and waits for a file close on Microsoft
   Windows operating systems. This causes the server to hang.
   
   Code has been corrected to properly close the first file when
   text logging is disabled.
   
   The fix for this APAR is currently targeted for inclusion in
   fix pack 8.5.0.1.  Please refer to the Recommended Updates
   page for delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM66476
   
   
 * REPORTED COMPONENT NAME
   WEBS APP SERV N
   
   
 * REPORTED COMPONENT ID
   5724H8800
   
   
 * REPORTED RELEASE
   850
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-06-11
   
   
 * CLOSED DATE
   2012-10-19
   
   
 * LAST MODIFIED DATE
   2012-10-19
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS APP SERV N
   
   
 * FIXED COMPONENT ID
   5724H8800
   
   

APPLICABLE COMPONENT LEVELS
 * R850 PSY
   UP