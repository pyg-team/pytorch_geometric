Title: IBM JR45301: DUPLICATE DATA INSERTED IN PDW DATABASE WHEN A FAILURE OCCURS DURING DATA TRANSFER PROCESSING - United States

Text:
  FIXES ARE AVAILABLE
Version 8.0.1 Fix Pack 1 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24034495]
Version 7.5.1 Fix Pack 2 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24036462]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Duplicate tracking point and optimizer data can be inserted
   into the Performance Data Warehouse database when a failure
   occurs during data transfer processing. This will generally be a
   failure that occurs while placing a message onto the
   PostLoadCalculations queue. There is an issue with
   transaction boundaries that will allow data to be
   committed to the database even though there was a failure.
   
   
    
   
   

LOCAL FIX
 *  To avoid this, correct any error that may be occurring during
   data transfer.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  Users of BPM Express, BPM Standard, and     *
   *                  BPM Advanced.                               *
   ****************************************************************
   * PROBLEM DESCRIPTION: Duplicate tracking point and            *
   *                      optimizer data can be inserted into     *
   *                      the Performance Data Warehouse          *
   *                      database, particularly the              *
   *                      lsw_optimizer_data table, when a        *
   *                      failure occurs during data transfer     *
   *                      processing. A data transfer             *
   *                      processing failure can happen if the    *
   *                      Performance Data Warehouse messaging    *
   *                      engine is down.                         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Exceptions may be thrown when trying to save
   performance-related tracking data in the Performance Data
   Warehouse database.  When such exceptions are thrown, an
   entire transaction needs to be rolled back so that the
   Performance Data Warehouse database is not left in an
   inconsistent state.  Since exceptions were not properly
   re-thrown, uncommitted data was incorrectly committed in the
   Performance Data Warehouse database, resulting in duplicate
   data.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problem was fixed by catching and re-throwing SQL and JMS
   exceptions so that an entire transaction is properly rolled
   back, thus preventing duplicate data in the Performance Data
   Warehouse database.
   
   Interim fixes for Business Process Manager versions 7.5.0.1
   and 7.5.1.1 are available from Fix Central.  Fix application
   instructions are also available when obtaining the interim fix
   from Fix Central.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR45301
   
   
 * REPORTED COMPONENT NAME
   BPM STANDARD
   
   
 * REPORTED COMPONENT ID
   5725C9500
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-01-07
   
   
 * CLOSED DATE
   2013-03-28
   
   
 * LAST MODIFIED DATE
   2013-03-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM STANDARD
   
   
 * FIXED COMPONENT ID
   5725C9500
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP