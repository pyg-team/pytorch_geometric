Title: IBM IV51411: ISDM7241: DUPLICATE ESX HOST NAMES FROM DIFFERENT VCENTERS NOT PROCESSED CORRECTLY - United States

Text:
  A FIX IS AVAILABLE
Tivoli Provisioning Manager, Interim Fix 7.2.1.0-TIV-TPM-IF00006 [http://www-01.ibm.com/support/docview.wss?uid=swg24037256]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  Problem description
   ISDM 7.2.4 - FP1
   
   Have a situation running TSAM 7.2.4.1 where we are attempting to
   merge
   and manage an  entirely separate Cloudburst (CB) environment
   into.
   The CB TSAM is at 7.2.1.5.
   
   The vCenters for both environments (CB resource pool = ESX Cloud
   Pool
   wcdc1, and where TSAM7241 resides called ESX Cloud Pool) have
   their ESX
   hosts named exactly the same: cn1 through cn14.  After
   performing the
   discovery of the CB vCenter by TSAM @ 7.2.4.1,  I find that
   TSAM7241
   does not account for the duplicate host names.  Rather it moves
   all ESX
   hosts to the resource pool of the CB (wcdc1) and nothing remains
   in the
   esx cloud resource pool.
   
    I do not see where the discovery attempts to account for the
   fact that
   there are duplicate ESX hosts.  It discovers the ESX host in CB
   and
   then notices that it already has a DCM entry for it and assumes
   it was
   already discovered, uses it, without realizing that the DCM
   entry is
   for an entirely different vCenter.  I see this by the DCM
   entries with
   low numbers for the ESX hosts it uses, which are those
   discovered long
   ago for the very first host discovery done over a year and a
   half ago.
   To me this doesn't seem right and I do not see where TSAM
   accounts for
   the duplication.  I would expect in this case to see another
   provisioning computer named similarly to the original ESX hosts
   with
   perhaps a different UUID or morid of the CB vCenter that
   provides the
   uniqueness.
   
   Have attached dcmexport.xml, discovery.log. and two logs for two
   of the
   ESX host discoveries.
   
   Have also attached several screen shots of the Cloud pool and
   resource
   pools in question....
   .
   
   
    
   
   

LOCAL FIX
 *  No Workaround
   
   
    
   
   

PROBLEM SUMMARY
 *  On 2 different VCenters having the ESXhosts with the same name
   in that scenario during VCDiscovery instead of getting seperate
   entries for the ESXhosts was getting only one entries with both
   the ESXdetails under one.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV51411
   
   
 * REPORTED COMPONENT NAME
   TIV PROVISIONIN
   
   
 * REPORTED COMPONENT ID
   5608TPM00
   
   
 * REPORTED RELEASE
   720
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-10-30
   
   
 * CLOSED DATE
   2013-12-04
   
   
 * LAST MODIFIED DATE
   2013-12-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R721 PSY
   UP