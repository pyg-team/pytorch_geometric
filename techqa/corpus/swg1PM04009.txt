Title: IBM PM04009: module takes over 10 minutes to save in 9.2 - United States

Text:
  A FIX IS AVAILABLE
Rational DOORS Fix Pack 5 (9.3.0.5) for 9.3 [http://www-01.ibm.com/support/docview.wss?uid=swg24030983]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Hi,
   
   I have a customer who has migrated his database from DOORS 8.1 t
   o DOORS 9.2.0.2. The migration went well and everything went fin
   e except there is one specific module which gives him performanc
   e problems. He said it takes him over 10 minutes to save the mod
   ule (with no changes made). He says even if he simply restores t
   he one module via archive/restore the process gets stuck for an
   inordinate period of time. I had him do the archive restore to s
   ee if the problem had to do with the links but he still had the
   problem with no links. He can not share the data with me. Here a
   re some facts about the module:
   a. The module is not big. It has about 1800 objects.
   
   b. This module has never been baselined.
   
   c. The module has not been set up for shareable edit.
   
   d. The module does not have any DXL attributes.
   
   e. There are only three views in the module (including the Stand
   ard View). One of the views has a single layout DXL column.
   
   I had him baseline the module, this did not help. I then had him
    copy and do a paste special of the module. And this helped the
   performance. Even when he did a paste special copying all the ob
   jects, views, attributes, and links. I'm not sure what this real
   ly tells us. I also had him enable database logging when he trie
   d to do a save and send us the resulting log file which I have a
   ttached. Let me know what you think.
   
   Thanks,
   Kourosh
   
   
    
   
   

LOCAL FIX
 *  Section the module and then perform saves.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The issue is apparently the way OLE object data is handled
   combined with the number of text attributes in the module.
   For example, if a module has 7000 objects and ten text user
   attributes, with values for all in each object. Making a
   small change like changing some text bold and saving it,
   takes a lot of time.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The problem is because of an expensive operation in handling
   embedded items in DOORS object attributes of type "Text".
   This expensive operation is performed for all the objects
   and attributes even when they are not modified. This
   exponentially increases the save time. The fix now restricts
   this expensive operation only to the objects that modified.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM04009
   
   
 * REPORTED COMPONENT NAME
   TLOGIC DOORS
   
   
 * REPORTED COMPONENT ID
   5724V61DR
   
   
 * REPORTED RELEASE
   920
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-12-21
   
   
 * CLOSED DATE
   2011-09-28
   
   
 * LAST MODIFIED DATE
   2011-09-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TLOGIC DOORS
   
   
 * FIXED COMPONENT ID
   5724V61DR
   
   

APPLICABLE COMPONENT LEVELS
 * R920 PSN
   UP