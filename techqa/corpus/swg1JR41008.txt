Title: IBM JR41008: CMVC 213567 - CORRECT INSTANCE CREATION ERRORS ON SOLARIS WITH WEBSPHERE APPLICATION SERVER 7.0.0.19 - United States

Text:
  DIRECT LINKS TO FIXES
7.0.0-WS-WCServer-FP009 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FWebSphere+Commerce&fixids=7.0.0-WS-WCServer-FP009&source=SAR]
WebSphere Commerce Version 7.0.0.5 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24031380]
WebSphere Commerce Version 7.0.0.6 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24032871]
WebSphere Commerce Version 7.0.0.7 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24034686]
WebSphere Commerce Version 7.0.0.8 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24037075]
WebSphere Commerce Version 7.0.0.9 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24038826]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Creating a WebSphere Commerce Instance on Solaris fails when
   WebSphere Application Server's SDK fix pack 7.0.0.19 or higher
   is used
   
   In createInstanceANT.log you see the following error:
   
   [2011.09.22 16:53:47]    [wsadmin] WASX7327I: Contents of
   was.policy file:
   [2011.09.22 16:53:47]    [wsadmin]  grant codeBase
   "${application}" {
   [2011.09.22 16:53:47]    [wsadmin] permission
   java.security.AllPermission; };
   [2011.09.22 18:23:21]    [wsadmin] WASX7017E: Exception received
   while running file
   "/opt/IBM/WebSphere/CommerceServer70/config/deployment/scripts/i
   nstallEar.jacl"; exception information:
   com.ibm.bsf.BSFException: error while eval'ing Jacl expression:
   [2011.09.22 18:23:21]    [wsadmin] java.lang.OutOfMemoryError:
   PermGen space
   [2011.09.22 18:23:21]    [wsadmin]     while executing
   [2011.09.22 18:23:21]    [wsadmin] "$AdminApp install $EarDir
   $Attrs"
   
   It's also possible to see an InvocationTargetException:
   
   [2011.09.21 18:28:33]    [wsadmin] WASX7327I: Contents of
   was.policy file:
   [2011.09.21 18:28:33]    [wsadmin]  grant codeBase
   "${application}" {
   [2011.09.21 18:28:33]    [wsadmin] permission
   java.security.AllPermission; };
   [2011.09.21 18:29:47]    [wsadmin]
   java.lang.reflect.InvocationTargetException
   [2011.09.21 18:32:36]    [wsadmin] 2011-09-21 18:32:36
   
   
    
   
   

LOCAL FIX
 *  Do not apply the SDK update that was included with WebSphere
   Application Server fix pack 7.0.0.19.  You may apply it after
   the instance has been created successfully
   
   
    
   
   

PROBLEM SUMMARY
 *  USERS AFFECTED:
   WebSphere Commerce users in Solaris who have applied the SDK
   update that was included in WebSphere Application Server fix
   pack 7.0.0.19 or higher and need to create a new WebSphere
   Commerce Instance.
   
   PROBLEM ABSTRACT:
   Solaris: Instance creation errors with WebSphere Application
   Server 7.0.0.19 and higher
   
   BUSINESS IMPACT:
   This problem can delay WebSphere Commerce Installation time
   
   RECOMMENDATION
   
   
    
   
   

PROBLEM CONCLUSION
 *  The SDK update that is included with WebSphere Application
   Server fix pack 7.0.0.19 includes an new version of the Java
   SDK.  It updates the JVM to version SR9 FP2.  The java version
   output is as below:
   java version "1.6.0_26"
   Java(TM) 2 Runtime Environment, Standard Edition (IBM build
   1.6.0_26-b03 08_Jun_2011_11_08 solaris sparcv9 (SR9 FP2))
   Java HotSpot(TM) Server VM (build 20.1-b02, mixed mode)
   IBM Java ORB build orb60-20100825.00
   XML build XL TXE Java 1.0.25
   XML build IBM JAXP 1.4.6
   XML build XML4J 4.5.15
   
   IBM has confirmed that the issue does not occur when using JVM
   SR9 FP1 or earlier.
   
   With this new JVM version the permanent space fills up while
   executing one of the forked Java processes.  There is a slight
   increase in usage of the permanent space due to changes in
   garbage collection in the new Java SDK version, causing the
   default maximum available permanent space to be exhausted during
   WebSphere Commerce instance creation.  To address this issue,
   the java process is allocated a moderately increased maximum
   permanent space, resolving the OutOfMemory error that caused
   WebSphere Commerce instance creation to fail.
   -------------------------------------------------------------
   The latest available maintenance information can be obtained
   from the Recommended Fixes for WebSphere Commerce technote:
   http://www.ibm.com/support/docview.wss?rs=3046&uid=swg21261296 [http://www.ibm.com/support/docview.wss?rs=3046&uid=swg21261296]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR41008
   
   
 * REPORTED COMPONENT NAME
   WC BUS EDITION
   
   
 * REPORTED COMPONENT ID
   5724I3800
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-10-25
   
   
 * CLOSED DATE
   2011-11-11
   
   
 * LAST MODIFIED DATE
   2011-11-16
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WC BUS EDITION
   
   
 * FIXED COMPONENT ID
   5724I3800
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP