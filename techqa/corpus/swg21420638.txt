Title: IBM Connection Refused error message. - United States

Text:
connect fail fails connection refused CAMADALL CAMADINST CAMADMSDATA CAMADCONN CAMJ2ALL CAMJ2INST CAMJ2MSDATA CAMJ2CONN TECHNOTE (TROUBLESHOOTING)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 US English 

PROBLEM(ABSTRACT)
 A remote node refused to allow the attempted connect operation. 
The attempt to connect to a socket was refused because there was 
no process listening, or because the queue of connection requests 
was full and the underlying protocol does not support retransmissions. 

SYMPTOM
Errors similar to the following appear in the am-stderr.log: 

Unable to join Kernel <MS_HOSTNAME or IP>:9120 - 
java.net.ConnectException: A remote host refused an attempted 
connect operation.; nested exception is: 
java.net.ConnectException: A remote host refused an attempted 
connect operation. 

Unable to join Kernel <MS_HOSTNAME or IP>:9121 - 
java.net.ConnectException: A remote host refused an attempted 
connect operation.; nested exception is: 
java.net.ConnectException: A remote host refused an attempted 
connect operation. 



RESOLVING THE PROBLEM
Things to check: 

 * Check both Managing Server (MS) and Data Collector (DC) for multiple Network Interface Cards (NICs). Does either have more than one? If so, there is special setup that is required which is documented in the ITCAM Installation guide. 
 * Verify IP connectivity:  * Verify that the Managing Server (Kernel in particular) is running (klctl.sh status) 
    * Verify that you can telnet to the MS from the DC (both hostname and IP address); include port in telnet: telnet <MS_HOST> <MS_PORT> ... in the example above, the default port would be 9120 or 9121) 
    * Verify that you can telnet to the DC from the MS (both hostname and IP address); include port in telnet: telnet <DC_HOST> <DC_PORT>)
   
   
 * On the MS, look at <MS_HOME>/bin/setenv.sh' 
   
   What do you have set for 
   KERNEL_HOST01 
   KERNEL_HOST02 (this will only exist if a second Kernel is being used) 
   
   If it is the hostname, the DC may not be unable to resolve the hostname for the MS. Change both to reflect the IP address of the MS. 
   
   After making the change, run am-stop.sh and am-start.sh on the Managing Server. 
 * Verify the DC settings. Go to the <DC_HOME>/runtime/<was>.<node>.<svr>/
   <was>.<node>.<svr>.datacollector.properties file. Verify that the DC is pointing to the correct IP address or fully qualified hostname for the MS. If it is a hostname that is correct, try using the IP address for the MS instead. If you change this setting, you will have to stop and restart the DC's AppServer.
   
   

 

Cross reference information Segment Product Component Platform Version Edition Systems and Asset Management Tivoli Composite Application Manager for Application Diagnostics Not Applicable Systems and Asset Management Tivoli Composite Application Manager for Application Diagnostics on z/OS 
PRODUCT ALIAS/SYNONYM
 ITCAM for AD ITCAMAD71 ITCAM for WAS WebSphere