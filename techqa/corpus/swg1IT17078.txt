Title: IBM IT17078: SQLINTEGRITYCONSTRAINTVIOLATIONEXCEPTION DURING COMPUTER PROBE ( IBM SPECTRUM CONTROL ) - United States

Text:
AIX SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  An SqlIntegrityConstraintViolationException occurs during the
   computer probe post processing, this stacktrace is visible
   within device server logs/traces:
    com.ibm.db2.jcc.am.SqlIntegrityConstraintViolationException:
   DB2 SQL Error: SQLCODE=-803, SQLSTATE=23505,
   SQLERRMC=1;TPC.T_RES_RU_COMPUTER, DRIVER=3.65.77
        at com.ibm.db2.jcc.am.cd.a(cd.java:694)
        at com.ibm.db2.jcc.am.cd.a(cd.java:60)
        at com.ibm.db2.jcc.am.cd.a(cd.java:127)
        at com.ibm.db2.jcc.am.jo.b(jo.java:2420)
        at com.ibm.db2.jcc.am.jo.c(jo.java:2403)
        at com.ibm.db2.jcc.t4.ab.l(ab.java:370)
        at com.ibm.db2.jcc.t4.ab.a(ab.java:62)
        at com.ibm.db2.jcc.t4.p.a(p.java:50)
        at com.ibm.db2.jcc.t4.rb.b(rb.java:220)
        at com.ibm.db2.jcc.am.ko.nc(ko.java:3414)
        at com.ibm.db2.jcc.am.ko.b(ko.java:4377)
        at com.ibm.db2.jcc.am.ko.fc(ko.java:782)
        at com.ibm.db2.jcc.am.ko.executeUpdate(ko.java:760)
        at
   com.ibm.tpc.infrastructure.database.DBPreparedStatement.executeU
   pdate(DBPreparedStatement.java:261)
        at
   com.ibm.tpc.rollup.RULatestPostProcessingInfo.standardCopyLocalV
   alues(RULatestPostProcessingInfo.java:134)
        at
   com.ibm.tpc.rollup.RUProcessingInfoComputer.copyLocalValues(RUPr
   ocessingInfoComputer.java:92)
        at
   com.ibm.tpc.rollup.RUPostProcessingManager.processAfterProbe(RUP
   ostProcessingManager.java:72)
        at
   com.ibm.tpc.rollup.RUPostProcessingManager.processAfterRegularPr
   obe(RUPostProcessingManager.java:48)
        at
   com.ibm.tpc.agentless.api.impl.AgentlessServerManagerImpl.rollup
   AgentlessProcessing(AgentlessServerManagerImpl.java:5480)
        at
   com.ibm.tpc.agentless.api.impl.AgentlessServerManagerImpl.sraPos
   tProcessing(AgentlessServerManagerImpl.java:5068)
   Also an exception is displayed within the data server
   traces/logs, when attempting to persist relationships:
   com.ibm.db2.jcc.am.SqlIntegrityConstraintViolationException: DB2
   SQL Error: SQLCODE=-803, SQLSTATE=23505,
   SQLERRMC=1;TPC.T_RELATIONSHIP_PATH, DRIVER=3.65.77
       at com.ibm.db2.jcc.am.cd.a(cd.java:694)
       at com.ibm.db2.jcc.am.cd.a(cd.java:60)
       at com.ibm.db2.jcc.am.cd.a(cd.java:127)
       at com.ibm.db2.jcc.am.jo.b(jo.java:2420)
       at com.ibm.db2.jcc.am.jo.c(jo.java:2403)
       at com.ibm.db2.jcc.t4.ab.l(ab.java:370)
       at com.ibm.db2.jcc.t4.ab.a(ab.java:62)
       at com.ibm.db2.jcc.t4.p.a(p.java:50)
       at com.ibm.db2.jcc.t4.rb.b(rb.java:220)
       at com.ibm.db2.jcc.am.ko.nc(ko.java:3414)
       at com.ibm.db2.jcc.am.ko.b(ko.java:4377)
       at com.ibm.db2.jcc.am.ko.fc(ko.java:782)
       at com.ibm.db2.jcc.am.ko.executeUpdate(ko.java:760)
       at
   com.ibm.tpc.infrastructure.database.DBPreparedStatement.executeU
   pdate(DBPreparedStatement.java:261)
       at
   com.ibm.tpc.resources.RelationshipPopulator.populatePathRelation
   ships(RelationshipPopulator.java:4373)
       at
   com.ibm.tpc.resources.RelationshipPopulator.populateServerRelati
   onships(RelationshipPopulator.java:735)
       at
   com.ibm.tpc.resources.RelationshipPopulator.populateServerRelati
   onships(RelationshipPopulator.java:680)
       at
   com.tivoli.itsrm.TStorm.server.svp.ProbeResultsHndlr.handle(Prob
   eResultsHndlr.java:789)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * IBM Spectrum Control 5.2.x users probing computers           *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * IBM Spectrum Control 5.2.x users probing computers may       *
   * encounter a SQL error.                                       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Apply fix maintenance when available.                        *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is targeted for the following maintenance
   package:
   
   | refresh pack | 5.2-TIV-TPC-RP0012 - target November 2016
   
   Fixed in IBM Spectrum Control 5.2.12.
   
   http://www.ibm.com/support/docview.wss?&uid=swg21320822 [http://www.ibm.com/support/docview.wss?&uid=swg21320822]
   
   The target dates for future refresh packs do not represent a
   formal commitment by IBM. The dates are subject to change
   without notice.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT17078
   
   
 * REPORTED COMPONENT NAME
   TPC ADVANCED
   
   
 * REPORTED COMPONENT ID
   5608TPCA0
   
   
 * REPORTED RELEASE
   528
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-09-16
   
   
 * CLOSED DATE
   2016-11-21
   
   
 * LAST MODIFIED DATE
   2016-11-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  DISK
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TPC ADVANCED
   
   
 * FIXED COMPONENT ID
   5608TPCA0
   
   

APPLICABLE COMPONENT LEVELS
 * R528 PSY
   UP
   
   
 * R529 PSY
   UP
   
   
 * R52A PSY
   UP
   
   
 * R52B PSY
   UP