Title: IBM IY79414: SSL DISTINGUISHED NAME DOES NOT MATCH PEER NAME - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V6.0 for iSeries Fix Pack 6.0.1.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24012223]
WebSphere MQ V6.0 Refresh Pack 6.0.2.0 [http://www-01.ibm.com/support/docview.wss?uid=swg24013482]
WebSphere MQ V6.0 Fix Pack 6.0.1.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24011320]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If MQv6 client using SSL is connected to queue manager on
   MQv5.3
   server and if "SSLPEER( )" attribute is defined in the CLNTCONN
   and SVRCONN channels then MQCONN at client side fails with 2393
   and AMQ9636: SSL distinguished name does not match peer name.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   All WMQ users using MQv5.3 server and MQv6 client along with
   SSL and SSLPEER defined in CLNTCONN and SVRCONN channels.
   
   Platforms affected:
    All Distributed (iSeries, all Unix and Windows)
   ****************************************************************
   PROBLEM SUMMARY:
   During SSLPeer comparison on client side the SSLPEERNAME
   length was calculated incorrectly and the trailing NULL values
   were considered for the string length of SSLPEER and hence the
   when comparing the last SSLPEER value due to string length
   mismatch cciSslComparePeerStrings was failing.
   
   
    
   
   

PROBLEM CONCLUSION
 *  "Remote Peer" is the certificate information read over the
   channel during handshake. "pChan->CD.SSLPeerNamePtr" is the
   information read from AMQCLCHL.TAB file. pChan-
   >CD.SSLPeerNamePtr is compared with Remote Peer data in
   cciSslComparePeerStrings. Before passing the pChan-
   >CD.SSLPeerNamePtr to cciSslPeerStrings reduce the pChan-
   >CD.SSLPeerNameLength by number of trailing null values in
   pChan->CD.SSLPeerNamePtr.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
                      v6.0
   Platform           Fix Pack 6.0.1.1
   --------           --------------------
   Windows            U200247
   AIX                U804921
   HP-UX (PA-RISC)    U805233
   HP-UX (Itanium)    U805767
   Solaris (SPARC)    U805234
   Solaris (x86-64)   U805768
   iSeries            SI21854
   Linux (x86)        U805235
   Linux (x86-64)     U805770
   Linux (zSeries)    U805236
   Linux (Power)      U805237
   Linux (s390x)      U805769
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY79414
   
   
 * REPORTED COMPONENT NAME
   WEBS MQ FOR AIX
   
   
 * REPORTED COMPONENT ID
   5724H7201
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2005-12-02
   
   
 * CLOSED DATE
   2005-12-21
   
   
 * LAST MODIFIED DATE
   2007-08-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS MQ FOR AIX
   
   
 * FIXED COMPONENT ID
   5724H7201
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSY
   UP