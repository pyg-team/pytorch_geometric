Title: IBM A segmentation fault might occur when using large disk caching offloads - United States

Text:
WASV8RNotes; V8RNotes TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The application server might experience an abrupt failure. The native_stderr.log file indicates the following segmentation error:

Unhandled exception
Type=Segmentation error vmState=0x0002000f 

SYMPTOM
The entire native_stderr.log file includes an exception that is similar to the following example: 

Unhandled exception
Type=Segmentation error vmState=0x0002000f
Windows_ExceptionCode=c0000005 J9Generic_Signal=00000004 ExceptionAddress=000007FEF82D87B9 ContextFlags=0010001f
Handler1=000007FEF845DAD0 Handler2=000007FEF92105F0
RDI=000000001FCADBC8 RSI=000000001779A870 RAX=0000000000000958 RBX=00000000177CED80
RCX=0000000000000000 RDX=0000000000000001 R8=0000000000000958 R9=000000000D365E18
R10=0000000000000000 R11=0000000000000000 R12=000007FEF82E3B88 R13=0000000000000000
R14=000000001FCADBC8 R15=0000000000082A00
RIP=000007FEF82D87B9 RSP=0000000022D8F0C8 RBP=0000000022D8F159 GS=002B
FS=0053 ES=002B DS=002B
And the javacore will identify the following Java module:
1XHEXCPMODULE Module: c:\opt\Moonstone\WAS\java\jre\bin\compressedrefs\j9gc26.dll


ENVIRONMENT
This occurrence has only been discovered on 64-bit operating systems with large (more than 2GB) disk caches. This issue is in code that is specific to Javaâ„¢ virtual machines (JVM) using the -Xcompressedrefs and -Xgcpolicy:gencon garbage collection (GC) command-line options simultaneously.

These are default settings for IBM WebSphere Application Server.


DIAGNOSING THE PROBLEM
Identify this issue in the native_stderr.log file that shows the segmentation error and the javacore file that identifies j9gc26.dll as the exception module.



RESOLVING THE PROBLEM
Possible workarounds include limiting the size of the disk cache to under 2GB, not using compressed references, or changing the GC policy. 


You can optionally install fix pack 8.0.0.1 to resolve this issue. For more information about this fix pack, see http://www14.software.ibm.com/webapp/wsbroker/redirect?version=matt&product=was-nd-mp&topic=wasv8001_readme1 [http://www14.software.ibm.com/webapp/wsbroker/redirect?version=matt&product=was-nd-mp&topic=wasv8001_readme1]. [http://www14.software.ibm.com/webapp/wsbroker/redirect?version=matt&product=was-nd-mp&topic=wasv8001_readme1.]

RELATED INFORMATION
 WebSphere Application Server Version 8.0 release notes [http://www14.software.ibm.com/webapp/wsbroker/redirect?version=matt&product=was-nd-mp&topic=relnotes]





Cross reference information Segment Product Component Platform Version Edition Application Servers WebSphere Application Server Not Applicable z/OS 8.0 Feature Pack for Web 2.0