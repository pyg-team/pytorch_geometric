Title: IBM Adjusting the QPFRADJ Tuning Interval - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document provides information on how to change the QPFRADJ tuning interval. 

RESOLVING THE PROBLEM
The performance adjuster program analyzes all the shared pools, makes any necessary adjustments, and then goes to sleep for a period of time before waking up and doing it all over again. The period of time that it waits, or the tuning interval, is 60 seconds. If a large amount of storage has been moved in the past interval, the wait time will be extended to 120 seconds. Because the act of moving storage causes paging to occur, this extended settling period keeps the performance adjuster from responding to the memory movement itself. 

60 seconds is the recommended tuning interval; however, it might not be the best interval for all workloads. The following instructions allow the user to set the tuning interval to any value between 20 seconds and 120 seconds: 

1 Turn the performance adjuster off. On the operating system command line type the following: 

CHGSYSVAL SYSVAL(QPFRADJ) VALUE('0')

Press the Enter key. 2 Create the following data area:

CRTDTAARA DTAARA(QUSRSYS/QPFRADJWT) TYPE(*DEC) LEN(3 0) VALUE(60)

Press the Enter key.

In the above example, VALUE(60) is the number of seconds to wait between tuning intervals. The value can be replaced by any whole number between 20 and 120 (including 20 and 120). The value can be specified on the CRTDTAARA command or by using the Change Data Area (CHGDTAARA) command. The data area name, library, and type must match the above command exactly. 3 Turn the performance adjuster back to '2' or '3' using the CHGSYSVAL or WRKSYSVAL command. On the operating system command line type the following:

CHGSYSVAL SYSVAL(QPFRADJ) VALUE('2')

Press the Enter key. The new interval should now take effect immediately. 
Important Notes: 1. Deleting the QUSRSYS/QPFRADJWT data area will not change the tuning interval back to the default value of 60 seconds. The only way to change the interval back to the default is to create (or change) the QUSRSYS/QPFRADJWT data area with a value of 60 and to follow the previous instructions of turning the performance adjuster off and on. After the new value has taken effect, the data area can be deleted. [/support/docview.wss?uid=nas8N1014946&amp;aid=1] [/support/docview.wss?uid=nas8N1014946&amp;aid=1]  

Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 7.1 Operating System IBM i 6.1 Operating System IBM i 7.3 Operating System IBM i 7.2 
HISTORICAL NUMBER
 415630816