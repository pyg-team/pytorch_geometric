Title: IBM Solaris: Single-User Mode Task asks for root password at OS Level - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When running tasks to put Solaris 10 machine into SUM (Single- User Mode), the commands appear to be successfully issued, but that machine is awaiting the root password at the OS level. This creates the assumption that the Solaris machine is still not on Single-User Mode. 

ENVIRONMENT
This seems to happen only to Solaris 10 machines. 

DIAGNOSING THE PROBLEM
When user pushes the Single-User mode task to a Solaris 8 machine, it puts the machine into single-user mode without requiring a manual password input. But Solaris 10 requires the password. 

RESOLVING THE PROBLEM
Even if user does not enter the password, the machine may be already in SUM. That's why we need to check /var/tmp/runlevel or the BES logs. Try the following:


 1. Create a custom copy of Task #28 
 2. Modify below line in action script: 
    
    //delay to let the rcS scripts kill off processes
    appendfile sleep 40
    
    to:
    
    //delay to let the rcS scripts kill off processes
    appendfile sleep 300
    
    This extends the time to wait for SUM to kill off processes to 300 seconds.
    
 3. Use the fixlet in a baseline or just take single action. 
 4. Check if the task is completed.
    

Note: 

The /var/tmp/runlevel stores the runlevel of the system before the echo "This system is currently in single-user mode and under BES control for patching". That's before entering the password, i.e. if the file 
/var/tmp/runlevel showing runlevel as S. It means before user enters the password, the system is already in SUM. RELATED INFORMATION
 Applying Solaris patches in Single User Mode [http://www-01.ibm.com/support/docview.wss?uid=swg21506015]