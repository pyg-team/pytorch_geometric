Title: IBM Java用のWebSphere MQ V7.1 (またはそれ以降)クラスを使用して、アプリケーションからキュー・マネージャーに渡されるユーザーID - United States

Text:
 技術情報(FAQS)

質問
 Java用のWebSphere MQ V7.1のクラスを使用したWepSphere MQ キュー・マネージャーと対話するアプリケーションがあります。
アプリケーションがクライアント・トランスポートを使っているキュー・マネージャーに接続する際に、アプリケーションはどんなユーザIDを使いますか？ 

回答

Javaアプリケーション用のWebSphere MQ V7.1のクラスが新規のMQQueueManagerオブジェクトを作成する時、Javaのクラスは指定されたキュー・マネージャーとの接続を作成するために、MQEnvironmentオブジェクトの中の情報を使います。

MQEnvironmentのフィールドのひとつがuserIDで、それが、アプリケーションを実行しているユーザーの識別に使用されます。

このプロパティのデフォルト値は空のストリング("")です。

アプリケーションがクライアント・トランスポートを使い、定義されたセキュリティ出口(security exit)を持たないチャネルを使って、キュー・マネージャーと接続するならば、Java用のWebSphere MQのクラスは、ユーザーIDをMQQueueManagerコンストラクタの一部として、認可の為にキュー・マネージャーに渡します。ユーザーIDは、MQEnvironment.userIDフィールドの値に依存します：
・もし、このプロパティがデフォルト値でない値に設定されているならば、Java用のWebSphere MQのクラスは、この値を認可のためにキュー・マネージャに渡します。
・もし、このプロパティがデフォルト値に設定されているならば、Java用のWebSphere MQのクラスは、Javaシステム・プロパティuser.nameを問い合わせ、この値を認可のためにキュー・マネージャに渡します。
この振る舞いは、WebSphere MQ V7.0.1 classes for Java(および、V7.0.1以前)とは異なることに注意して下さい。WebSphere MQ V7.0.1 classes for Java(および、V7.0.1以前)では、この状況でどのようなuserIDもキュー・マネージャーに渡しません。

もし、アプリケーションがチャネルがセキュリティ出口(security exit)を持つように構成されている場合、セキュリティ出口はアプリケーションのセキュリティ・ロジックの実行に関して責任を負う必要があります。
MQEnvironment.userIDフィールドの値は認可のためにキュー・マネージャーに渡されません、また、セキュリティ出口で利用できません。

もし、予期しないか、不正確な(間違った)userIDが渡されたならば、下記のMQExceptionが出力されます。
MQJE001: Completion Code '2', Reason '2035'
MQRC 2035 MQRC_NOT_AUTHORIZED


Additional References:
For a similar problem refer to technote:
WMQ 7.1 / 7.5 queue manager - RC 2035 MQRC_NOT_AUTHORIZED when using client connection as an MQ Administrator [http://www-01.ibm.com/support/docview.wss?uid=swg21577137]

For similar problems at WebSphere MQ V6 or V7.0 refer to technote:
2035 MQRC_NOT_AUTHORIZED Java or JMS applications fail after upgrading from MQ V5.3 to V6 or V7. [http://www-01.ibm.com/support/docview.wss?uid=swg21420469]

For similar problems in JMS refer to technote:
MQJMS2013 (V6) JMSWMQ2013 (V7) invalid security authentication (RC 2035) [http://www-01.ibm.com/support/docview.wss?uid=swg21138961]

For details on how to collect additional error information for similar problems refer to technotes:
MQS_REPORT_NOAUTH environment variable can be used to better diagnose return code 2035 (MQRC_NOT_AUTHORIZED) [http://www-01.ibm.com/support/docview.wss?&uid=swg21299319]
or
Using MQSAUTHERRORS to generate FDC files related to RC 2035 (MQRC_NOT_AUTHORIZED) [http://www-01.ibm.com/support/docview.wss?&uid=swg21377578]


【関連文書】
原文: Technote (FAQ) 1624099
What user identifier is passed to a queue manager from an application using the WebSphere MQ V7.1 (or later) classes for Java? [http://www-01.ibm.com/support/docview.wss?uid=swg21624099]

【お問合せ先】
技術的な内容に関しては、サービス契約のもと IBM テクニカル・サポートにお問い合わせください。
IBM テクニカル・サポート お問合せ先 [http://www-06.ibm.com/software/jp/supportguide/center/contact.html]