Title: IBM Minimum authorizations for Enterprise Service Discovery of JCA Adapter for SAP Software - ALE and BAPI module - United States

Text:
Enterprise Service Discovery; SAP; ST01; profile; authorization; logon; user; JCA; Adapter TECHNOTE (FAQ)

QUESTION
 In WebSphere Integration Developer 6.0, the Enterprise Service Discovery generates business object definitions for the WebSphere Adapter for SAP Software. The user that logs on to the SAP application server needs a minimum set of authorizations to retrieve the structure information for the new business objects. 

In a client's system, the profile SAP_ALL can usually not be assigned to the user account of a developer or tester. The administrator of the SAP system needs to know how to extend the authorizations or profile of an existing user account to perform the Enterprise Service Discovery. 

ANSWER
To maintain the authorizations of the logon user in the SAP application server, go to transaction PFCG ("Role Maintenance") and create or modify a role which will be assigned to the user that logs on from the "WebSphere Integration Developer - Enterprise Service Discovery". In the "Authorizations" view, select "Change Authorization Data". On the "Change Role: Authorizations" page, select "Utilities > Technical names on" where the technical names correspond with the values of the list of authorizations, such as ACTVT, RFC_TYPE, etc., below. To add authorizations, select "Manually" and specify the "Authorization object" from the list of objects, such as S_RFC, S_TABU_DIS, etc., below. Expand all nodes of the object's subtree and select "Change" for each authorization field name. Specify the values from the list of authorizations below. After all authorizations have been added to the role, save and generate the role. Go back to the "Change Roles" page. In the "User" view, insert the user that logs on from the WebSphere Integration Developer and save the changes.

The deprecated way to grant authorizations to a user is the transacation SU02 ("Profiles Initial Screen"). 

To find out which authorizations are required while using WebSphere Adapter for SAP, go to transaction ST01 ("System Trace") and select the checkbox "Authorization check". Select "General Filters". In the "System Trace: General Filter" wizard, specify the name of the user that logs on from the WebSphere Integration Developer or WebSphere Process Server in the field "Trace for user only". Right before logging on to the SAP application server, select "Trace on". Immediately after the test finished, select "Trace off". To view the trace entries, select "Analysis". 

To get the authorizations more easily, grant the maximum of rights to the logon user at first. After the required authorizations have been gathered using transaction ST01, reduce the authorizations in the user's role or profile.

Here is the list of authorization objects and authorizations for

1) Enterprise Service Discovery for ALE module (DEBMAS01)

OBJECT AUTHORIZATIONS

S_RFC RFC_TYPE=FUGR;RFC_NAME=SYST;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=RFC1;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=SDIFRUNTIME;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=SDTX;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=QIWK;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=EDIMEXT;ACTVT=16;

S_TABU_DIS ACTVT=03;DICBERCLS=SC;
S_TABU_DIS ACTVT=03;DICBERCLS=SS;

S_IDOCDEFT EDI_TCD=WE30;ACTVT=03;EDI_DOC=<IDOC>;EDI_CIM=' ';
S_IDOCDEFT EDI_TCD=WE30;ACTVT=03;EDI_CIM=' ';EDI_DOC=' ';

S_CTS_ADMI CTS_ADMFCT=TABL;

The semicolon is a separator and not part of the name. 

<IDOC> is the name of the IDOC structure, such as DEBMAS01, from which the business object definitions are derived. 

 

2) Enterprise Service Discovery for BAPI module (BAPI_CUSTOMER_GETDETAIL2)

OBJECT AUTHORIZATIONS

S_RFC RFC_TYPE=FUGR;RFC_NAME=SYST;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=RFC1;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=SDIFRUNTIME;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=SEM5;ACTVT=16;
S_RFC RFC_TYPE=FUGR;RFC_NAME=SDTX;ACTVT=16;

S_CTS_ADMI CTS_ADMFCT=TABL;

S_TABU_DIS ACTVT=03;DICBERCLS=SS;
S_TABU_DIS ACTVT=03;DICBERCLS=&NC&;

The semicolon is a separator and not part of the name. 

The value "&NC&" means "not classified". To display "Authorization groups for tables and views", go to transaction SE54 ("Generate Table Maintenance Dialog"), select the radiobutton "Authorization Groups" and click "Display". The "Enterprise Service Discovery" reads the contents of some SAP Basis tables, which have not been assigned to "Authorization Groups" and hence are not classified. 

 

Note: This list of authorizations is not sufficient to test the generated interfaces. To exchange business data with the SAP application server, this list of authorizations must be extended.