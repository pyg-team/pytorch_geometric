Title: IBM JR56923: YOU RECEIVE A WSVR0244E: AN UNDEFINED IBMSCMX PRODUCT VARIABLE HAS BEEN ENCOUNTERED ERROR WHEN EXECUTING THE DBUPGRADE COMMAND - United States

Text:
  DIRECT LINKS TO FIXES
bpm.8570.cf2016.12.delta.repository [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FWebSphere%2FIBM+Business+Process+Manager+Standard&fixids=bpm.8570.cf2016.12.delta.repository&source=SAR]
Downloading IBM Business Process Manager V8.5.7 Cumulative Fix 2016.12 [http://www-01.ibm.com/support/docview.wss?uid=swg24043062]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  While runnign the DBupgrade comand during BPM 8.5.7.201609
   upgrade, you may see the followign exception in the DBUpgrade
   logs if you have non BPM Nodes in the same topology.
   
   
   [Oct 17, 2016 6:13:24 PM] 00000001 FINE:
   com.ibm.bpm.config.profile.impl.ProfileHelper.getLocalNode -
   Local node of profile DmgrProfile: Dmgr.
   [Oct 17, 2016 6:13:24 PM] 00000001 SEVERE:  - WSVR0244E: An
   undefined IBMSCMX product variable has been encountered in the
   genericJvmArguments property of the
   /usr/IBM/WebSphere/AppServer/profiles/DmgrProfile/config/cells/B
   PMDEVCell01/nodes/Dmgr/servers/dmgr/server.xml#JavaVirtualMachin
   e_1 configuration object.
   [Oct 17, 2016 6:13:24 PM] 00000001 SEVERE:
   com.lombardisoftware.ant.LoadDEInfoTask.executeUpgrade - Failed
   to load DE information.
   com.ibm.wsspi.runtime.variable.UndefinedVariableException:
   Undefined variable IBMSCMX
    at
   com.ibm.ws.runtime.component.VariableMapImpl.expand(VariableMapI
   mpl.java:433)
    at
   com.ibm.ws.runtime.component.VariableMapImpl.expand(VariableMapI
   mpl.java:327)
    at
   com.ibm.ws.runtime.config.AbstractConfigObject.getString(Abstrac
   tConfigObject.java:42)
    at
   com.ibm.bpm.config.profile.impl.ProfileHelper.setCustomPasswordE
   ncryptionSystemProperties(ProfileHelper.java:786)
    at
   com.lombardisoftware.ant.LoadDEInfoTask.executeUpgradePath(LoadD
   EInfoTask.java:446)
    at
   com.lombardisoftware.ant.LoadDEInfoTask.execute(LoadDEInfoTask.j
   ava:240)
   
   You can see this problem, if there are Varaibles in the
   genericJvmArguments which are not defined in the
   variable.xml file under node scope .
   
   In some cases even if it is defined in the veraiable.xml file
   for the DMgr, if there are other WAS nodes in the same topology
   which do not have the variables defined .
   
   
    
   
   

LOCAL FIX
 *  You can work around the problem by hardcoding the variable name
   for the Modify the Dmgr genericJvmArguments variables for the
   DMGR jvm
   
   For example :
   If the  Varaible  IBMSCMX is failing find the value defined in
   the variable.xml file and hardcode the value in the
   genericJvmArguments
   
   genericJvmArguments="${IBMSCMX} ....."
   genericJvmArguments="-Xscmx120m ....."
   
   
    
   
   

PROBLEM SUMMARY
 *  When the genericJvmArguments attribute of the deployment manager
   JVM is evaluated, WebSphere variables are resolved in the
   context of the first node that was encountered while searching
   the deployment manager node. If this node's profile was not
   augmented with IBM BPM, WebSphere variables set by IBM BPM are
   not available, which results in the WSVR0244E error.
   
   
    
   
   

PROBLEM CONCLUSION
 *  A fix will be included in IBM BPM V8.5.7 cumulative fix 2016.12
   that resolves any WebSphere variables in the genericJvmArguments
   attribute within the context of the correct node.
   
   To determine whether the cumulative fix is available and
   download it if it is, complete the following steps on Fix
   Central (http://www.ibm.com/support/fixcentral):
   
   1. On the Select product tab, select WebSphere as the product
   group, IBM Business Process Manager with your edition from the
   WebSphere options, All as the installed version, and All as the
   platform, and then click Continue.
   2. In the Text field, enter "cumulative fix?, and click        â‚¬
   Continue.
   
   This fix is also available for IBM BPM V8.5.7 cumulative fix
   2016.09 upon request.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR56923
   
   
 * REPORTED COMPONENT NAME
   BPM ADVANCED
   
   
 * REPORTED COMPONENT ID
   5725C9400
   
   
 * REPORTED RELEASE
   857
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-10-31
   
   
 * CLOSED DATE
   2016-12-28
   
   
 * LAST MODIFIED DATE
   2016-12-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM ADVANCED
   
   
 * FIXED COMPONENT ID
   5725C9400
   
   

APPLICABLE COMPONENT LEVELS
 * R857 PSY
   UP