Title: IBM Successful playback required to set maximum heap size on agent computers - United States

Text:
RN8.0; SRX; RATLC01175749; memory; heap; 1326527 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Before running a large performance schedule using IBM® Rational® Performance Tester (RPT), you must run a schedule successfully so that RPT can set the maximum heap size on the agent computers. Run a schedule with a small number of virtual users to ensure that the schedule runs successfully. During a schedule run, RPT determines the amount of physical memory available on the agent computers. After a successful schedule run, RPT sets the RPT_DEFAULT_MEMORY_SIZE property for each agent computer to 256 MB less than the amount of physical memory on the agent computer, with a minimum of 256 MB and a maximum of 1500 MB. The RPT_DEFAULT_MEMORY_SIZE property determines the maximum heap size on the agent computer. 

SYMPTOM
The default maximum heap size for an agent computer is 256 MB before a successful schedule run occurs. This maximum heap size might be too small for some large performance schedules. If the heap is too small, when you attempt to run a schedule on the agent computer, the RPT workbench will display an error message indicating that there has been a communication error between the workbench and the agent computer.

RESOLVING THE PROBLEM
Run a schedule with a small number of virtual users. Use the agent computers on which you wish to set the maximum heap size. When the schedule runs successfully, RPT creates the RPT_DEFAULT_MEMORY_SIZE property for each agent computer. 

Alternatively, you can specify a maximum heap size by adding RPT_VMARGS to the properties of the location that represents the agent computer. For example, RPT_VMARGS=-Xmx512m specifies a maximum heap size of 512 MB.