Title: IBM IV78693: DATABASE CONNECTIONS FREQUENTLY GETTING DROPPED - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Database connections frequently getting
   dropped. This causes reports server to stop after running BIRT
   reports.
   We need to handle dropped connections better with reports.
   
   
   PROBLEM:
   Few reports fail to execute when SQL statements are written in
   the initialize method of BIRT report and the database
   connection gets dropped between execution of reports.
   
   "In our Test environment we have one IF cluster and one UI
   cluster.
   (higher environments also have report cluster).
   We have seen the behaviour with and without pointing to an
   cluster.
   
   In the TEST environment, we first had the reports run at IF
   cluster but that stopped working after some hours.
   Then we tried without any cluster at all, running the reports
   straight on the UI where the user is logged in. That worked for
   a while and then same behaviour and reports stopped working
   after 3 hours for example."
   
   There appears to be no pattern of what report (or type of
   report) works or fails.  It could be a comples report or simple
   label report
   
   
   
   
   PERFORMANCE ISSUE:      Yes
   
   
   STEPS TO REPRODUCE:  N/A
   
   CURRENT ERRONEOUS RESULT:
   
   Customer ran reports in Production and Test environments.
   Reports server crashed and had to be restarted.
   
   EXPECTED RESULT:      Reports  to run successfully
   
   ADDITIONAL INFO:
   Client is using Oracle RAC 11.2.0.4 using SCAN functionality.
   That requires the client to connect with 11.2.x oracle thin
   driver. We need to revert to 11.2.0.3 since the reorder flag
   stopped working after this.
   
   We have tried running Maximo to one singe instance of the
   Oracle RAC.
   The feeling is that it is a bit better, but still we see
   dropped IP packages since first packet isn't SYN.
   
   This behaviour occurs when clustered or using a single JVM.
   
   ENVIRONMENT (SYSTEM INFO):
    Tivoli's process automation engine 7.5.0.7 Build 20141017-1600
   DB Build V7507-40,
   IBM Maximo Asset Management 7.5.0.7 Build 201410271545
   Maximo Everyplace 7.5.0.0 Build 20110307-0030
   IBM Maximo Asset Management Scheduler 7.5.2.0 Build
   20141017-1600
   IBM Maximo Calibration 7.5.0.0 Build 20141017-1600
   IBM TPAE Integration Framework
   7.5.1.2-MIF_7512_IFIX.20141001-1136
   Client Customization 7.5.0.0 Build 20140404 DB Build V7505-0
   
   HOW TO TEST:
   Following is the general instruction on how to test. have an
    environment where connections gets dropped between execution of
    of report. That is, consider a connection CONNECTION1, when it
   starts executing a report say REPORT1 then it should not drop
   the connection while executing REPORT1. It should drop
   connection after execution of REPORT1 and before executing the
   next report. That is it drops the connection when it is idle for
    a while. Have many reports with SQL statements in the
   "initialize" method of the report. Have many users say 5
   submitting reports once in every 3 to 5 minutes. You will find
   that 30% of the reports will fail to run.
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All Maximo Users                                             *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * Database connections frequently getting dropped. This causes *
   * reports server to stop after running BIRT reports.           *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Upgrade to latest release.                                   *
   ****************************************************************
   PROBLEM:
   Few reports fail to execute when SQL statements are written in
   the initialize method of BIRT report and the database connection
   gets dropped between execution of reports.
   
   "In our Test environment we have one IF cluster and one UI
   cluster. (higher environments also have report cluster). We have
   seen the behaviour with and without pointing to an cluster.
   
   In the TEST environment, we first had the reports run at IF
   cluster but that stopped working after some hours. Then we tried
   without any cluster at all, running the reports straight on the
   UI where the user is logged in. That worked for a while and then
   same behaviour and reports stopped working after 3 hours for
   example."
   
   There appears to be no pattern of what report (or type of
   report) works or fails.  It could be a compiled report or simple
   label report
   
   CURRENT ERRONEOUS RESULT:
   Customer ran reports in Production and Test environments.
   Reports server crashed and had to be restarted.
   
   EXPECTED RESULT:
   Reports run successfully.
   
   
    
   
   

PROBLEM CONCLUSION
 *  BIRT Report Server not dropping database connections.
   
   The fix for this APAR is contained in the following maintenance
   package:
   	 | release\fix pack | Fix Pack Release 7.5.0.10 TPAE
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV78693
   
   
 * REPORTED COMPONENT NAME
   REPORTING
   
   
 * REPORTED COMPONENT ID
   5724R46RP
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-11-09
   
   
 * CLOSED DATE
   2016-01-13
   
   
 * LAST MODIFIED DATE
   2016-01-13
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  MAXIMO
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   REPORTING
   
   
 * FIXED COMPONENT ID
   5724R46RP
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP