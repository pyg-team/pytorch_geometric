Title: IBM Unable to create documents in IBM FileNet Image Services with IBM FileNet Image Services Resource Adapter (ISRA) and returns error code: FN_IS_RA_10416. - United States

Text:
isra 10416 best practice FN_IS_RA_10416 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Unable to create documents in IBM FileNet Image Services with IBM FileNet Image Services Resource Adapter (ISRA) and returns error code: FN_IS_RA_10416. 

SYMPTOM
The following error message was received in our application: 
[28/12/14 7:01:12:459 EST] 000002b6 SystemOut O <Dec 28,2014
7:01.12.459 AM>:WebContainer : 17:ISRA Version : 3.4.0
[28/12/14 7:01:12:459 EST] 000002b6 SystemOut O <Dec 28,2014
7:01.12.459 AM>:WebContainer : 17:ISRA Patch Version : 3.4.0
[28/12/14 7:01:13:100 EST] 000002b6 SystemOut O <Dec 28,2014
7:01.13.100 AM>:WebContainer : 17:javax.resource.ResourceException:
<92,0,234>The session handle is stale. The security service was rebooted.


Typically, this error is seen only internal to the security service so that the client can determine if it needs to re-log on to the security service after a server reboot. 

Error code: FN_IS_RA_10416
[28/12/14 7:01:13:100 EST] 000002b6 SystemOut O <Dec 28,2014 7:01.13.100 AM>:WebContainer : 17:FN_IS_CciInteraction : execute(): The Interaction has failed.: <92,0,234>The session handle is stale. The security service was rebooted. 


Typically, this error is seen only internal to the security service so that the client can determine if it needs to re-log on to the security service after a server reboot., error code: FN_IS_RA_10416


ENVIRONMENT
Image Services was restarted, but the Web Application was not restarted.


DIAGNOSING THE PROBLEM
Able to retrieve and view documents, but cannot import new documents with ISRA.



RESOLVING THE PROBLEM
Best Practices
1) It is strongly recommended to restart the application server running ISRA every time Image Services is restarted. 

2) To avoid errors such as “User not logged into Security Service”, configure your ISRA connection factory connection pool properties based on these guidelines:
I. Aged connection time out set to a value less than the duration of IS recycle/restart time.
II. Purge policy set to entire pool.
III. Reap time to be 1/2 or 1/3 of Aged time out.

Example of WAS Settings:
connectionTimeout="180"
maxConnections= 30
minConnections="0"
reapTime="150"
unusedTimeout="300"
agedTimeout="300"
purgePolicy="EntirePool"

If setting the WAS connection pool is not eliminating the stale connections and error occurs after re-starting Image Services server, involve WAS engineer for recommendations on why the stale connections are not discarded.