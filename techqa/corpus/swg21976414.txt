Title: IBM Content Collector for SAP (ICCSAP) - Certificates not being automatically updated after Web Application Server upgrade. - United States

Text:
SSL ICN WAS Websphere Application Server ICCSAP TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When installing ICCSAP 4.0.1 FP1, ICCSAP provides an add-on which is installed in IBM Content Navigator (ICN) and is deployed on Websphere Application Server (WAS). After WAS is upgraded, it does not automatically pick up the SSL certificates that were configured between the previous version of WAS and the clients that are making requests to WAS. 

SYMPTOM
If you make a server request to Web Application Server, the following error will occur if the SSL certificates are not trusted by the Web Application Server; 


java.net.SocketException: java.lang.SecurityException: The Jar
(F:\IBM\WebSphere\AppServer\plugins\com.ibm.ws.security.crypto.jar) is
not signed by a trusted signer
at
javax.net.ssl.DefaultSSLSocketFactory.a(SSLSocketFactory.java:10)
at
javax.net.ssl.DefaultSSLSocketFactory.createSocket(SSLSocketFactory.java
:5)
at
com.ibm.net.ssl.www2.protocol.https.c.createSocket(c.java:12)
at
sun.net.NetworkClient.doConnect(NetworkClient.java:175)
at
sun.net.www.http.HttpClient.openServer(HttpClient.java:462)
at
sun.net.www.http.HttpClient.openServer(HttpClient.java:557)
at
com.ibm.net.ssl.www2.protocol.https.c.<init>(c.java:111)
at com.ibm.net.ssl.www2.protocol.https.c.a(c.java:82)
at
com.ibm.net.ssl.www2.protocol.https.d.getNewHttpClient(d.java:24)
at
sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnecti
on.java:946)
at
com.ibm.net.ssl.www2.protocol.https.d.connect(d.java:60)
at
com.ibm.net.ssl.www2.protocol.https.b.connect(b.java:55)
at
org.apache.wink.client.internal.handlers.HttpURLConnectionHandler.proces
sRequest(HttpURLConnectionHandler.java:98)
at
org.apache.wink.client.internal.handlers.HttpURLConnectionHandler.handle
(HttpURLConnectionHandler.java:54)




CAUSE
SSL configuration is not automatically configured in WAS 8.5.5 FP5. It must be manually configured. If SSL is configured in WAS and you upgrade to a later version of WAS, then SSL must again be configured. 


ENVIRONMENT
OS: Windows Sever 2008 R2 Sp2
Content Platform Engine 5.2.1 FP 3
IBM Content Navigator 2.0.3 FP 5
WebSphere Application Server 8.5.5 FP 8
ICCSAP 4.0.0 FP 1



DIAGNOSING THE PROBLEM
Review Application Server logs to establish if the above mentioned error is displayed. 



RESOLVING THE PROBLEM
Use backups of SSL certificates from a previously installed version, or create new certificates to reconfigure SSL in WAS, then restart the Web Application Server and this should resolve the issue. Configuration of SSL is not automatically enabled in this version of WAS and must be reconfigured after a WAS upgrade.