Title: IBM PI37431: WCMAPIWORKSPACEASPECT NULLPOINTEREXCEPTION WHEN TRACING IS ENABL ED CAUSES WCM SERVICES TO FAIL DURING SERVER STARTUP - United States

Text:
  DIRECT LINKS TO FIXES
8.0.0.1-WCM-IFPI37431-CF15 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FLotus%2FWorkplace+Web+Content+Management&fixids=8.0.0.1-WCM-IFPI37431-CF15&source=SAR]
8.5.0.0-WCM-IFPI37431-CF05 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FLotus%2FWorkplace+Web+Content+Management&fixids=8.5.0.0-WCM-IFPI37431-CF05&source=SAR]
Fixes integrated in WebSphere Portal 8.0.0.1 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24034497]
Fixes integrated in WebSphere Portal 8.5.0.0 Combined Cumulative Fixes [http://www-01.ibm.com/support/docview.wss?uid=swg24037786]



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  On 8001 CF15 and 85 CF05, a NullPointerException from
   WCMAPIWorkspaceAspect is thrown when fine-level tracing that
   includes com.ibm.workplace.wcm.api.* is enabled and the Portal
   server is being started.
   
   This causes the WCM services to fail during the server startup.
   
   In both SystemOut.log and Trace.log, the following errors are
   seen:
   Caused by: java.lang.NullPointerException at
   com.ibm.workplace.wcm.api.WCMAPIWorkspaceAspect
   .ajc$around$com_ibm_workplace_wcm_api_WCMAPIWorkspaceAspect$1$77
   189ab8(WCMAPIWorkspaceAspect.aj:159)
   at com.ibm.workplace.wcm.api.query.WCM_QueryService
   .init(WCM_QueryService.java:1)
   at com.ibm.workplace.wcm.api.WebContentServiceImpl
   .<clinit>(WebContentServiceImpl.java:36)
   at java.lang.J9VMInternals.initializeImpl(Native Method)
   at java.lang.J9VMInternals.initialize(J9VMInternals
   .java:228)
   ... 32 more
   
   When accessing the WCM authoring portlet, the following error is
   seen within the browser:
   Error 404: javax.servlet.UnavailableException: Initialization of
   one or more services failed
   
   
    
   
   

LOCAL FIX
 *  If tracing is required during the server startup, also append
   the following to the existing trace string:
   com.ibm.workplace.wcm.api.WCMAPIWorkspaceAspect=off
   
   
    
   
   

PROBLEM SUMMARY
 *  On 8001 CF15 and 85 CF05, a NullPointerException from
   WCMAPIWorkspaceAspect is thrown when fine-level tracing that
   includes com.ibm.workplace.wcm.api.* is enabled and the Portal
   server is being started.
   
   This causes the WCM services to fail during the server startup.
   
   In both SystemOut.log and Trace.log, the following errors are
   seen:
   Caused by: java.lang.NullPointerException at
   com.ibm.workplace.wcm.api.WCMAPIWorkspaceAspect
   .ajc$around$com_ibm_workplace_wcm_api_WCMAPIWorkspaceAspect$1$77
   189ab8(WCMAPIWorkspaceAspect.aj:159)
   at com.ibm.workplace.wcm.api.query.WCM_QueryService
   .init(WCM_QueryService.java:1)
   at com.ibm.workplace.wcm.api.WebContentServiceImpl
   .<clinit>(WebContentServiceImpl.java:36)
   at java.lang.J9VMInternals.initializeImpl(Native Method)
   at java.lang.J9VMInternals.initialize(J9VMInternals.java:228)
   ... 32 more
   
   When accessing the WCM authoring portlet, the following error is
   seen within the browser:
   Error 404: javax.servlet.UnavailableException: Initialization of
   one or more services failed
   
   
    
   
   

PROBLEM CONCLUSION
 *  The error has been corrected within the code and the fix will be
   included in 8001 CF16 and 85 CF06.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI37431
   
   
 * REPORTED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * REPORTED COMPONENT ID
   5724I2900
   
   
 * REPORTED RELEASE
   850
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-03-19
   
   
 * CLOSED DATE
   2015-04-01
   
   
 * LAST MODIFIED DATE
   2015-04-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   LOTUS WEB CONT
   
   
 * FIXED COMPONENT ID
   5724I2900
   
   

APPLICABLE COMPONENT LEVELS
 * R800 PSY
   UP