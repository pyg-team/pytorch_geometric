Title: IBM Disabling High Availability (HA) in Tivoli Integrated Portal - United States

Text:
TIPL2HALB; TIPL2CONF; TIPL2FAQ; disable HA manually TECHNOTE (FAQ)

QUESTION
 How can I disable High Availability manually if I can not find the password for DB2? 

CAUSE
To remove nodes from a HA cluster, it is required to have the user id and password for DB2 schema to run the commands. If user id and password is lost, then you can not remove nodes from cluster as described below..
See below URL for details on HA:
http://www-01.ibm.com/support/knowledgecenter/SS5PMD_2.2.0/com.ibm.tip.doc/ctip_config_ha_ovw.html [http://www-01.ibm.com/support/knowledgecenter/SS5PMD_2.2.0/com.ibm.tip.doc/ctip_config_ha_ovw.html]


ANSWER
Follow below steps to disable HA on each server in the cluster.

1. Go to <TIPHOME>/profiles/TIPProfile/bin/ha
2. Rename tipha.properties
3. Go to <TIPHOME>/profiles/TIPProfile/config/cells/TIPCell/nodes/TIPNode/servers/server1
4. Make a backup copy of resources..xml file and edit it.
5. Remove below section:

<resources.jdbc:JDBCProvider xmi:id="JDBCProvider_1363796579233" name="TIP_Universal_JDBC_Driver" implementationClassName="com.ibm.db2.jcc.DB2ConnectionPoolDataSource" xa="false">
<classpath>${TIP_JDBC_DRIVER_PATH}/db2jcc.jar</classpath>
<classpath>${TIP_JDBC_DRIVER_PATH}/db2jcc_license_cu.jar</classpath>
<factories xmi:type="resources.jdbc:DataSource" xmi:id="DataSource_1363796579303" name="tipds" jndiName="jdbc/tipds" description="TIP Data Source" authMechanismPreference="BASIC_PASSWORD" authDataAlias="TIPAlias" relationalResourceAdapter="builtin_rra" statementCacheSize="0" datasourceHelperClassname="com.ibm.websphere.rsadapter.DB2UniversalDataStoreHelper">
<propertySet xmi:id="J2EEResourcePropertySet_1363796579334">
<resourceProperties xmi:id="J2EEResourceProperty_1363796579340" name="databaseName" type="java.lang.String" value="tip_db" description="Location of db2 database."/>
<resourceProperties xmi:id="J2EEResourceProperty_1363796579347" name="serverName" type="java.lang.String" value="x.x.x.x.x" description="Location of db2 database."/>
<resourceProperties xmi:id="J2EEResourceProperty_1363796579353" name="portNumber" type="java.lang.String" value="50002" description="Location of db2 database port."/>
<resourceProperties xmi:id="J2EEResourceProperty_1363796579359" name="driverType" type="java.lang.String" value="4" description="db2 driver type."/>
</propertySet>
<connectionPool xmi:id="ConnectionPool_1363796579308" connectionTimeout="180" maxConnections="10" minConnections="1" reapTime="180" unusedTimeout="1800" agedTimeout="0" purgePolicy="EntirePool" numberOfSharedPoolPartitions="0" numberOfUnsharedPoolPartitions="0" numberOfFreePoolPartitions="0" freePoolDistributionTableSize="0" surgeThreshold="-1" surgeCreationInterval="0" testConnection="false" testConnectionInterval="0" stuckTimerTime="0" stuckTime="0" stuckThreshold="0"/>
<mapping xmi:id="MappingModule_1363796579308" mappingConfigAlias="DefaultPrincipalMapping" authDataAlias="TIPAlias"/>
</factories>
</resources.jdbc:JDBCProvider>

6. Restart the TIP servers.