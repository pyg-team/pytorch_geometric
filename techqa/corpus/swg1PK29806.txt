Title: IBM PK29806: CSQX636E DISTINGUISHED NAME DOES NOT MATCH PEERNAME - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The customer defined a channel with SSL and they are using
   SSLPEER.
   They receive the following message:
   CSQX636E distinguished name does not match peername.
   For V6, the following fails C=US or C=U* both fail.
   What is happening is that CSQXCCIS routines cciSslFindDNAttr
   and cciSslCompareDNAttr are doing a strstr find for "C="
   and they find the "C=07310" in CERTN and C=US in SSLPEER which
   do not match.
   Additional symptom:
   CSQX636E is also issued when L= attribute doesn't match.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS V6        *
   ****************************************************************
   * PROBLEM DESCRIPTION: Failure to match information in SSLPEER *
   *                      field on a channel definition with the  *
   *                      information in the distinguished name   *
   *                      from the certificate in some cases.     *
   *                      Channel fails to start,CSQX636E message *
   *                      issued.                                 *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When matching SSLPEER information with information passed
   in a certificates distinguished name, an error can occur
   if you have specified PC=  and C= in your certificate
   distinguished name field and C= in your SSLPEER.
   The channel fails to start resulting in a CSQX636E message
   distinguished name does not match peer name.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This problem occured in V6 and not previous releases as the way
   the SSL distinguised name information was obtained and
   processed changed in V6. In previous release we only obtained
   and processed fields we were interested in. In V6 we obtained
   the whole DN from System SSL and processed it, but the
   processing didn't allow for some of the extra information in
   the DN partially matching what we were trying to match against.
   For example PC=xxxx matching against C=abcd , it matched the
   'C=' part and then said xxxx doesn't match abcd therefore
   this is and error. This caused the channel to fail to start.
   The code was changed to perform a more thorough check of the
   strings we are trying to match, and to skip over those that
   we are not interested in.
   000Y
   CSQXCCIS
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK29806
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V6
   
   
 * REPORTED COMPONENT ID
   5655L8200
   
   
 * REPORTED RELEASE
   000
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-08-11
   
   
 * CLOSED DATE
   2006-12-04
   
   
 * LAST MODIFIED DATE
   2007-02-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK20232
   
   

MODULES/MACROS
 *     CSQXCCIS
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V6
   
   
 * FIXED COMPONENT ID
   5655L8200
   
   

APPLICABLE COMPONENT LEVELS
 * R000 PSY UK20232 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK20232]
   UP07/01/04 P F701
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.