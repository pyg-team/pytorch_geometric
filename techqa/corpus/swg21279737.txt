Title: IBM Using Archive Policies, what happens if you use multiple Archive Criteria documents in the Archive Settings document? - United States

Text:
 TECHNOTE (FAQ)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 English 

QUESTION
Customer is setting up an Archive Policy for his users. While setting up the Archive Settings document he notices that he has the ability to add multiple Archive Criteria documents. What if some of these Archive Criteria documents contradict each other? Which one takes precedence? Is this functioning as designed?

CAUSE
This was reported to development and they have responded with the comment that this is not a bug and the product is functioning as designed. Some customers need the functionality in place to push down multiple archive criteria. 

It is understood that the Domino Administrator who is creating the Archive Settings and Archive Criteria is not using conflicting or contradictory settings.


ANSWER
What happens? 

1. All criteria documents will be applied to the user and
2. All criteria will be enabled in the users Notes client archive settings and 
3. The criteria will be processed in order listed in the archive settings. The first archive Criteria will be process then each one in order from the top down. Therefore, the criteria settings that get changed by the last criteria (if they conflict with one previous) will apply. 

 

Steps to reproduce:
1. Open a new archive settings document 
2. on the 'Selection Criteria' tab choose 'New Criteria' and fill out the new criteria doc; save it 3. Create two more new criteria documents with opposite settings from the first 4. From the Selection Criteria tab on the Archive Settings document choose 'Add Criteria 'and choose all Archive Criteria documents. 
5. Save the Archive Settings document and apply it to the Archive Policy 
6. Apply the policy to a test user 
7. Once applied go to the user's archive settings and notice that all the criteria have applied and are enabled. 
8. Choose Actions > /Archive > 'Archive Now' from the client or run compact -a on the server for this mail file. 
9. Notice the archive settings that were enabled for each criteria document have been applied. The conflicting ones will be applied, but if the last criteria conflicts with one already applied the last one will take precedence.