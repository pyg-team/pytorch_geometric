Title: IBM PM01799: STATEFUL SESSION BEAN TIMEOUT CANNOT BE SET GLOBALLY - United States

Text:
  FIXES ARE AVAILABLE
7.0.0.9: WebSphere Application Server V7.0 Fix Pack 9 for IBM i [http://www-01.ibm.com/support/docview.wss?uid=swg24025885]
7.0.0.9: WebSphere Application Server V7.0 Fix Pack 9 for Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24025888]
7.0.0.9: WebSphere Application Server V7.0 Fix Pack 9 for AIX [http://www-01.ibm.com/support/docview.wss?uid=swg24025883]
7.0.0.9: WebSphere Application Server V7.0 Fix Pack 9 for HP-UX [http://www-01.ibm.com/support/docview.wss?uid=swg24025884]
7.0.0.9: Java SDK 1.6 SR7 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24025889]
7.0.0.9: WebSphere Application Server V7.0 Fix Pack 9 for Solaris [http://www-01.ibm.com/support/docview.wss?uid=swg24025887]
7.0.0.9: WebSphere Application Server V7.0 Fix Pack 9 for Linux [http://www-01.ibm.com/support/docview.wss?uid=swg24025886]
7.0.0.11: WebSphere Application Server V7.0 Fix Pack 11 for IBM i [http://www-01.ibm.com/support/docview.wss?uid=swg24026854]
7.0.0.11: WebSphere Application Server V7.0 Fix Pack 11 for Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24026857]
7.0.0.11: WebSphere Application Server V7.0 Fix Pack 11 for HP-UX [http://www-01.ibm.com/support/docview.wss?uid=swg24026853]
7.0.0.11: WebSphere Application Server V7.0 Fix Pack 11 for AIX [http://www-01.ibm.com/support/docview.wss?uid=swg24026852]
7.0.0.11: Java SDK 1.6 SR7 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24026858]
7.0.0.11: WebSphere Application Server V7.0 Fix Pack 11 for Solaris [http://www-01.ibm.com/support/docview.wss?uid=swg24026856]
7.0.0.11: WebSphere Application Server V7.0 Fix Pack 11 for Linux [http://www-01.ibm.com/support/docview.wss?uid=swg24026855]
7.0.0.13: WebSphere Application Server V7.0 Fix Pack 13 for AIX [http://www-01.ibm.com/support/docview.wss?uid=swg24027977]
7.0.0.13: WebSphere Application Server V7.0 Fix Pack 13 for HP-UX [http://www-01.ibm.com/support/docview.wss?uid=swg24027999]
7.0.0.13: WebSphere Application Server V7.0 Fix Pack 13 for IBM i [http://www-01.ibm.com/support/docview.wss?uid=swg24028000]
7.0.0.13: WebSphere Application Server V7.0 Fix Pack 13 for Linux [http://www-01.ibm.com/support/docview.wss?uid=swg24028001]
7.0.0.13: WebSphere Application Server V7.0 Fix Pack 13 for Solaris [http://www-01.ibm.com/support/docview.wss?uid=swg24028002]
7.0.0.13: WebSphere Application Server V7.0 Fix Pack 13 for Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24028003]
7.0.0.13: Java SDK 1.6 SR8FP1 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24028004]
7.0.0.15: WebSphere Application Server V7.0 Fix Pack 15 for AIX [http://www-01.ibm.com/support/docview.wss?uid=swg24028875]
7.0.0.15: Java SDK 1.6 SR9 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24028881]
7.0.0.15: WebSphere Application Server V7.0 Fix Pack 15 for HP-UX [http://www-01.ibm.com/support/docview.wss?uid=swg24029071]
7.0.0.15: WebSphere Application Server V7.0 Fix Pack 15 for IBM i [http://www-01.ibm.com/support/docview.wss?uid=swg24029072]
7.0.0.15: WebSphere Application Server V7.0 Fix Pack 15 for Linux [http://www-01.ibm.com/support/docview.wss?uid=swg24029073]
7.0.0.15: WebSphere Application Server V7.0 Fix Pack 15 for Solaris [http://www-01.ibm.com/support/docview.wss?uid=swg24029074]
7.0.0.15: WebSphere Application Server V7.0 Fix Pack 15 for Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24029075]
7.0.0.17: WebSphere Application Server V7.0 Fix Pack 17 [http://www-01.ibm.com/support/docview.wss?uid=swg24029634]
7.0.0.17: Java SDK 1.6 SR9 FP1 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24029894]
7.0.0.19: WebSphere Application Server V7.0 Fix Pack 19 [http://www-01.ibm.com/support/docview.wss?uid=swg24030660]
7.0.0.21: WebSphere Application Server V7.0 Fix Pack 21 [http://www-01.ibm.com/support/docview.wss?uid=swg24031366]
7.0.0.23: WebSphere Application Server V7.0 Fix Pack 23 [http://www-01.ibm.com/support/docview.wss?uid=swg24032493]
7.0.0.25: WebSphere Application Server V7.0 Fix Pack 25 [http://www-01.ibm.com/support/docview.wss?uid=swg24033267]
7.0.0.27: WebSphere Application Server V7.0 Fix Pack 27 [http://www-01.ibm.com/support/docview.wss?uid=swg24033882]
7.0.0.29: WebSphere Application Server V7.0 Fix Pack 29 [http://www-01.ibm.com/support/docview.wss?uid=swg24034966]
7.0.0.31: WebSphere Application Server V7.0 Fix Pack 31 [http://www-01.ibm.com/support/docview.wss?uid=swg24036768]
7.0.0.27: Java SDK 1.6 SR13 FP2 Cumulative Fix for WebSphere Application Server [http://www-01.ibm.com/support/docview.wss?uid=swg24035324]
7.0.0.33: WebSphere Application Server V7.0 Fix Pack 33 [http://www-01.ibm.com/support/docview.wss?uid=swg24037573]
7.0.0.35: WebSphere Application Server V7.0 Fix Pack 35 [http://www-01.ibm.com/support/docview.wss?uid=swg24038310]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The stateful session bean timeout can only be set on a per-bean
   basis in the the extensions deployment descriptor,
   ibm-ejb-jar-ext.xml (for EJB 3.0) or ibm-ejb-jar-ext.xmi (EJB
   2.1 and below). This makes it difficult for users who want to
   set the same timeout value for every bean deployed on an
   application server.  A new system property is required that will
   allow users to change the default timeout value for all stateful
   session beans globally.
   
   
    
   
   

LOCAL FIX
 *  n/a
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server V7.0 who use large numbers of        *
   *                  Stateful Session Beans.                     *
   *                                                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: Applications containing large numbers   *
   *                      of stateful session beans are unable    *
   *                      to easily change the timeout value      *
   *                      for these EJBs.                         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   IBM provides an extension in ibm-ejb-jar-ext.xml that allows
   users to set the stateful session bean timeout value on a
   bean-by-bean basis, however no way exists to set the "default"
   value for all Stateful Session beans to something other than
   the 10 minute default value. This is especially frustrating to
   customers who run applications containing large numbers of
   stateful session beans and want them to timeout at a time
   different from the default.
   
   
    
   
   

PROBLEM CONCLUSION
 *  To resolve this issue the EJBContainer has added the JVM
   system property,
   "com.ibm.websphere.ejbcontainer.defaultStatefulSessionTimeout".
   
   This property takes an integer value and allows the user to
   override the default stateful session bean timeout value (in
   minutes) for all stateful session beans within the entire
   server.
   
   (Note: Setting this value to 0 will result in the default
   timeout value being used.   Also, timeout values set for a
   particular stateful session bean using the extension in the
   ibm-ejb-jar-ext.xml file will override the default for that
   particular bean.
   
   To set this property its values, perform the
   following steps:
   1. Open the administrative console.
   2. Select Servers.
   3. Select Application Servers.
   4. Select the server you want to configure.
   5. In the Server Infrastructure area, select Java and
   Process Management.
   6. In the Server Infrastructure area, select Process
   Definition.
   7. In the Additional Properties area, select Java Virtual
   Machine.
   8. In the Additional Properties area, select Custom Properties.
   9. Select the New box.
   10. In the Name entry field, type
   com.ibm.websphere.ejbcontainer.defaultStatefulSessionTimeout
   11. In the Value entry field, type an integer value
   representing the number of minutes that should be used for the
   new default session bean timeout for the Server.
   12. Select OK.
   
   The fix for this APAR is currently targeted for inclusion in
   fix pack 7.0.0.9.  Please refer to the Recommended Updates
   page for delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM01799
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE APP S
   
   
 * REPORTED COMPONENT ID
   5724J0800
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-11-20
   
   
 * CLOSED DATE
   2010-01-29
   
   
 * LAST MODIFIED DATE
   2010-01-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE APP S
   
   
 * FIXED COMPONENT ID
   5724J0800
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP