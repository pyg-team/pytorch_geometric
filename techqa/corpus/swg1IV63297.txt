Title: IBM IV63297: KLZ DLA DOES NOT RECONCILE WITH KVM DLA - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Monitoring 6.3.0 Fix Pack 5 (6.3.0-TIV-ITM-FP0005) [http://www-01.ibm.com/support/docview.wss?uid=swg24039236]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Importing DLA books from KVM and KLZ agents produces duplicate
   ComputerSystem objects in TADDM due to a reconciliation issue.
   
   The reconciliation issue is due to the lack of the Signature
   attribute in the KVM book. As a consequence lower priority
   naming rules (SystemBoardUUID and UUID) come into play, but:
   
   - SystemBoardUUID value does not match as KVM and KLZ provide it
   with different endianness. KVM swaps bytes to make it coherent
   with the SystemBoardUUID from other VMs running Windows on the
   same physical box, and based on an agreement with TADDM. KLZ
   does not.
   
   - UUID is missing in KLZ template
   
   
    
   
   

LOCAL FIX
 *  Change the Linux agent template klz_tmsdla.xml by
   adding the following line:
   
        <cdm:UUID>%{UUID_OVERLOADED}</cdm:UUID>
   
   after the existing line
      <cdm:SystemBoardUUID>...
   
   
    
   
   

PROBLEM SUMMARY
 *  Duplicate ComputerSystem objects after importing IBM Tivoli
   Monitoring IDML book into Tivoli Application Dependency
   Discovery Manager (TADDM).
   
   
   When the tmsdla discovery is executed on Linux servers where
   both the Linux OS (KLZ) agent and the VMWare (KVM) agent are
   running, the produced IDML book contains two ComputerSystem
   objects, as generated by the two agents.  The two objects do not
   reconcile in Tivoli Application Dependency Discovery Manager
   (TADDM) because the only common naming rule is the one based on
   the SystemBoardUUID property and the values from the two agents
   do not match due to a different bytes order.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Enabled the naming rule based on the UUID property by adding it
   to the ComputerSystem object produced by the KLZ agent, using
   the same byte order as from the KVM agent.  Also fixed a
   repeated warning message in the Bulk Load program log file due
   to duplicate relationships for the ComputerSystem object found
   in the IDML book.
   
   
   The fix for this APAR will be contained in the following
   maintenance packages:
   
   | FixPack    | 6.3.0-TIV-ITM-FP0005
   
   
    
   
   

TEMPORARY FIX
 *  Manually edit the klz_tmsdla.xml template to set
   <cdm:UUID>%{UUID_OVERLOADED}</cdm:UUID> in place of
   <cdm:SystemBoardUUID>%{SYS_UUID}</cdm:SystemBoardUUID>, and to
   add outputonce="true" to the runsOn and installedOn
   relationships.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV63297
   
   
 * REPORTED COMPONENT NAME
   ITM AGENT LINUX
   
   
 * REPORTED COMPONENT ID
   5724C04LN
   
   
 * REPORTED RELEASE
   630
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2014-08-07
   
   
 * CLOSED DATE
   2014-09-11
   
   
 * LAST MODIFIED DATE
   2015-06-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITM AGENT LINUX
   
   
 * FIXED COMPONENT ID
   5724C04LN
   
   

APPLICABLE COMPONENT LEVELS
 * R623 PSY
   UP
   
   
 * R630 PSY
   UP
   
   
 * R610 PSN
   UP
   
   
 * R620 PSN
   UP
   
   
 * R621 PSN
   UP
   
   
 * R622 PSN
   UP