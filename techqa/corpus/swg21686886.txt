Title: IBM Running a shell script within the OSS level using IBM Connect:Direct HP NonStop - United States

Text:
OSS run task hp nonstop shell script TACL OSH TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 How can Connect:Direct HP NonStop execute a shell script within the Open System Services (OSS) environment using a run task? 

RESOLVING THE PROBLEM
The following 2 methods have been tested and found confirmed to work: 

1) Use Tandem Advanced Command Language (TACL) as the run task, but pass the Open System Shell (OSH) command into the TACL through an IN file

The TACL does not accept "command line" arguments passed into it via its startup message (we currently believe this is a security feature). However, it can be passed an IN file containing the commands. 

Additionally the OSH command needs to include the -osstty option. A modified Sterling Connect:Direct run task syntax to use "" around the PARM string is:

Process script:
TEST01 PROCESS SNODE=NDM.VGAPDEV1
STEP01 COPY FROM (FILE=$WTD060.SCRIPT.TESTFILE) -
TO (FILE=/tmp/ndmtest)
STEP02 RUN TASK PGM=TACL -
PARM="/in $vol.subvol.oshcmd/" -
PNODE

where $vol.subvol.oshcmd is a code 101 EDIT file containing
osh -osstty -c "/G/wtd060/script/testsh bongho"

2) Run PGM=OSH and pass the command in directly:

TEST01 PROCESS SNODE=NDM.VGAPDEV1
STEP01 COPY FROM (FILE=$WTD060.SCRIPT.TESTFILE) -
TO (FILE=/tmp/ndmtest)
STEP02 RUN TASK PGM=OSH -
PARM='-osstty -c "/G/wtd060/script/testsh bongho"' -
PNODE