Title: IBM PK03834: SCHEDULER API CALLS TO A MICROSOFT SQL SERVER DATABASE USING THE MICROSOFT JDBC DRIVER FAIL WITH SCHEDULERNOTAVAILABLEEXCEPTIONS - United States

Text:
  FIXES ARE AVAILABLE
6.0.2: WebSphere Application Server V6.0 Refresh Pack 2 for AIX platforms [http://www-01.ibm.com/support/docview.wss?uid=swg24010066]
6.0.2: WebSphere Application Server V6.0 Refresh Pack 2 for HP-UX platforms [http://www-01.ibm.com/support/docview.wss?uid=swg24010067]
6.0.2: WebSphere Application Server V6.0 Refresh Pack 2 for Solaris platforms [http://www-01.ibm.com/support/docview.wss?uid=swg24010069]
6.0.2: WebSphere Application Server V6.0 Refresh Pack 2 for Windows platforms [http://www-01.ibm.com/support/docview.wss?uid=swg24009813]
6.0.2: WebSphere Application Server V6.0 Refresh Pack 2 for Linux platforms [http://www-01.ibm.com/support/docview.wss?uid=swg24010068]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  All Scheduler API methods to a Microsoft SQL Server database
   using the Microsoft JDBC driver will fail with the following
   exception:
   com.ibm.websphere.scheduler.SchedulerNotAvailableException:
   java.sql.SQLException: [Microsoft][SQLServer 2000 Driver for
   JDBC][SQLServer]FOR UPDATE cannot be specified on a READ ONLY
   cursor.
   
   This problem does not occur in the latest versions of SeqLink or
   DataDirect ConnectJBC drivers.
   
   Problem was reported on WebSphere Application Server version
   6.0.0.2 on Windows.
   
   
    
   
   

LOCAL FIX
 *  No workaround exists.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All WebSphere Application Server users of    *
   *                 Scheduler using Microsoft SQL Server with    *
   *                 Microsoft driver                             *
   ****************************************************************
   * PROBLEM DESCRIPTION: SchedulerNotAvailableException:         *
   *                      java.sql.SQLException: [Microsoft]      *
   *                      [SQLServer 2000 Driver for              *
   *                      JDBC][SQLServer]FOR UPDATE              *
   *                      cannot be specified on a READ ONLY      *
   *                      cursor.                                 *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   Microsoft SQL Server driver was not tolerant of the FOR UPDATe
   keywords used in our queries.
   
   
    
   
   

PROBLEM CONCLUSION
 *  We have added special versions of our queries to make
   the driver work.
   
   The fix for this APAR is currently targeted for inclusion
   in fixpack 6.0.1.2.
   Please refer to the recommended updates page for delivery
   information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK03834
   
   
 * REPORTED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * REPORTED COMPONENT ID
   5724J0800
   
   
 * REPORTED RELEASE
   60W
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2005-04-07
   
   
 * CLOSED DATE
   2005-04-14
   
   
 * LAST MODIFIED DATE
   2005-04-14
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  SCHEDULR
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPH APP SERV
   
   
 * FIXED COMPONENT ID
   5724J0800
   
   

APPLICABLE COMPONENT LEVELS
 * R60A PSY
   UP
   
   
 * R60H PSY
   UP
   
   
 * R60I PSY
   UP
   
   
 * R60P PSY
   UP
   
   
 * R60S PSY
   UP
   
   
 * R60W PSY
   UP
   
   
 * R60Z PSY
   UP