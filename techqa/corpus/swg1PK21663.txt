Title: IBM PK21663: ON SERVER RESTART, CERTAIN APPLICATIONS CAUSE AN INFINITE LOOP AFTER PK12300 - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  On server restart, certain types of application cause an
   infinite loop in the messaging engine.
   
   The following are seen in the SystemOut.log
   [2/27/06 16:26:46:375 CST] 00000065 SibMessage    I
   [:] CWSJR1067E: The following JCA Connection error has
   occurred when trying to get the connetion. The retrieving
   of the connection will be retried. The exception is
   com.ibm.ws.sib.processor.exceptions.
   SIMPConnectionUnavailableException: CWSIK0022E: The
   connection is closed to messaging engine
   EverythingCluster.000-BPC.matrixCell04.Bus and cannot
   be used.
   
   
   [2/27/06 16:26:46:391 CST] 00000065 ConnectionEve A
   J2CA0056I: The Connection Manager received a fatal
   connection error from the Resource Adaptor for resource
   jms/BPECFC.  The exception which was received is
   com.ibm.ws.sib.processor.exceptions.
   SIMPConnectionUnavailableException: CWSIK0022E: The
   connection is closed to messaging engine
   EverythingCluster.000-BPC.matrixCell04.Bus and cannot
   be used.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: Users of WebSphere AppServer SIBus creating  *
   *                 and using JMS connections/sessions           *
   *                 within a managed environment.                *
   ****************************************************************
   * PROBLEM DESCRIPTION: An infinte loop occurs when a           *
   *                      Messaging Engine is stopped and         *
   *                      started within the scope of a           *
   *                      transactional unit of work (UOW).       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The infinite loop will output two messages to the SystemOut.log
   at a fast rate. The two messages are CWSJR1067E and J2CA0056I.
   The problem is caused by a Messaging Engine being stopped and
   started within the scope of a transactional UOW, such as a
   transactional EJB method.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix resolves this problem. Also the problem can be solved
   without this fix by restarting the application server.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK21663
   
   
 * REPORTED COMPONENT NAME
   PLAT MSG COM
   
   
 * REPORTED COMPONENT ID
   620400101
   
   
 * REPORTED RELEASE
   100
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-03-16
   
   
 * CLOSED DATE
   2006-04-20
   
   
 * LAST MODIFIED DATE
   2006-04-20
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   PLAT MSG COM
   
   
 * FIXED COMPONENT ID
   620400101
   
   

APPLICABLE COMPONENT LEVELS
 * R100 PSY
   UP