Title: IBM IV42722: WEBSPHERE MQ ADAPTER FOR MICROSOFT DYNAMICS AIX (SP MA7R) THROWING MQRC_UNKNOWN_ALIAS_BASE_Q - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Using SP MA7R (WebSphere MQ Adapter for Microsoft Dynamics AIX)
   on Windows along with WebSphere MQ 7.5 the following error will
   be thrown:
   
   System.Reflection.TargetInvocationException: Exception has been
   thrown by the target of an invocation.
   
   IBM.WMQ.MQException: MQRC_UNKNOWN_ALIAS_BASE_Q
   at IBM.WMQ.MQBase.throwNewMQException(Int32 cc, Int32 rc)
   at IBM.WMQ.AxIntegrator.ManagedNmqiProvider.MQOPEN
   (MQObjectDescriptor& mqod, Int32 openOptions)
   at IBM.WMQ.AxIntegrator.AifWmqIntegrator.openDestination
   (AifWmqDestinationType destType, AifWmqChannelType
   aifChannelType)
   at IBM.WMQ.AxIntegrator.AifWmqIntegrator.OpenChannel()
   
   ...
   
   at
   System.RuntimeMethodHandle._InvokeMethodFast(IRuntimeMethodInfo
   method, Object target, Object[] arguments, SignatureStruct& sig,
   MethodAttributes methodAttributes, RuntimeType typeOwner)
   at
   System.RuntimeMethodHandle.InvokeMethodFast(IRuntimeMethodInfo
   method, Object target, Object[] arguments, Signature sig,
   MethodAttributes methodAttributes, RuntimeType typeOwner)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj,
   BindingFlags invokeAttr, Binder binder, Object[] parameters,
   CultureInfo culture, Boolean skipVisibilityChecks)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj,
   BindingFlags invokeAttr, Binder binder, Object[] parameters,
   CultureInfo culture)
   at Microsoft.Dynamics.AX.ManagedInterop.ClrBridgeImpl.
   InvokeClrInstanceMethod(ClrBridgeImpl* , ObjectWrapper*
   objectWrapper, Char* pszMethodName, Int32 argsLength,
   ObjectWrapper**arguments, Boolean* argsAreByRef, Boolean*
   isException)
   
   Explanation
   -----------
   In case of an AliasQ, MQRC_UNKNOWN_ALIAS_BASE_Q might indicate
   that the application is specifying the ObjectQmgrName of the
   queue manager that it is connecting to, and the queue manager
   that is hosting the alias queue. This means that the queue
   manager looks for the alias target queue on the specified queue
   manager and fails because the alias target queue is not on the
   local queue manager. The ObjectQmgrName parameter is typically
   left blank so that the clustering decides which queue manager
   to route to.
   
   In our DynamicsAX Client, we were internally setting the
   ObjectQmgrName parameter, which we have now corrected by not
   setting the ObjectQmgrName parameter so that the Cluster decides
   which queue manager to route to.
   
   
    
   
   

LOCAL FIX
 *  No workaround available.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Customers using IBM WebSphere MQ Adapter for Microsoft
   DynamicsAX 2012, trying to put a message to the Alias Queue in a
   Cluster setup.
   
   
   Platforms affected:
   Windows
   
   ****************************************************************
   PROBLEM SUMMARY:
   A send message function from DynamicsAX Client to put a
   message on the AliasQ having its base queue in a Cluster, throws
   the error MQRC 2082 MQRC_UNKNOWN_ALIAS_BASE_Q.
   
   Incase of an AliasQ, MQRC_UNKNOWN_ALIAS_BASE_Q might indicate
   that the application is specifying the ObjectQmgrName of the
   queue manager that it is connecting to, and the queue manager
   that is hosting the alias queue. This means that the queue
   manager looks for the alias target queue on the specified
   queue manager and fails because the alias target queue is not on
   the local queue manager. The ObjectQmgrName parameter is
   typically left blank so that the clustering decides which
   queue manager to route to.
   
   
    
   
   

PROBLEM CONCLUSION
 *  In DynamicsAX Client, ObjectQmgrName parameter was internally
   set, which has been corrected by not setting the
   ObjectQmgrName parameter so that the Cluster dynamically decides
   which queue manager to route to.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v7.5       7.5.0.3
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV42722
   
   
 * REPORTED COMPONENT NAME
   WMQ XMS
   
   
 * REPORTED COMPONENT ID
   5724H7247
   
   
 * REPORTED RELEASE
   750
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2013-05-17
   
   
 * CLOSED DATE
   2013-05-28
   
   
 * LAST MODIFIED DATE
   2017-12-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ XMS
   
   
 * FIXED COMPONENT ID
   5724H7247
   
   

APPLICABLE COMPONENT LEVELS
 * R750 PSY
   UP