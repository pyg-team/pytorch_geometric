Title: IBM PM52492: CLEANUPUNUSEDSTAFFQUERYINSTANCES CALL USES LARGE NUMBER OF SPACE FROM DATABASE TRANSACTION LOGS - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When the workitem sharing daemon is run, the triggered
   cleanupUnusedStaffQueryInstances function will use a large
   number of transaction log space on the database
   
   
    
   
   

LOCAL FIX
 *  If workitem sharing is not enabled, the workitem sharing daemon
   can be disabled for the moment. A cleanup must be done at a
   later time though.
   
   
    
   
   

PROBLEM SUMMARY
 *  When the shared work item daemon is running it also checks if
   there are any unused
   cached people assignment criteria results in the database. If
   any exist they are removed from
   the database. Depending on the number of unused cached people
   assignment criteria the
   delete operation might cause a transaction log overflow or a
   timeout and reports an error
   like the following:
   WTRN0006W: Transaction 00000001 has timed out after 120 seconds.
   WTRN0124I: When the timeout occurred the thread with which the
   transaction is, or was most recently, associated was
   Thread[Default : 0,5,main]. The stack trace of this thread when
   the timeout occurred was:
   java.net.SocketInputStream.socketRead0(Native Method)
   java.net.SocketInputStream.read(SocketInputStream.java:141)
   com.ibm.db2.jcc.t4.z.b(z.java:200)
   com.ibm.db2.jcc.t4.z.c(z.java:260)
   com.ibm.db2.jcc.t4.z.c(z.java:371)
   com.ibm.db2.jcc.t4.z.v(z.java:1146)
   com.ibm.db2.jcc.t4.cb.a(cb.java:60)
   com.ibm.db2.jcc.t4.q.a(q.java:50)
   com.ibm.db2.jcc.t4.sb.b(sb.java:218)
   com.ibm.db2.jcc.am.cn.lc(cn.java:2880)
   com.ibm.db2.jcc.am.cn.b(cn.java:3456)
   com.ibm.db2.jcc.am.cn.cc(cn.java:715)
   com.ibm.db2.jcc.am.cn.executeUpdate(cn.java:698)
   com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.executeUpdate(
   WSJdbcPreparedStatement.java:813)
   com.ibm.bpe.database.DbHelper.executeUpdateStatement(DbHelper.ja
   va:365)
   com.ibm.bpe.database.Tom.cleanupUnusedStaffQueryInstances(Tom.ja
   va:983)
   com.ibm.bpe.database.WIPatternCleanup.processPatterns(WIPatternC
   leanup.java:464)
   com.ibm.bpe.database.WIPatternCleanup.cleanupInternal(WIPatternC
   leanup.java:205)
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem fixed
   iFix available on top V700 FP3
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM52492
   
   
 * REPORTED COMPONENT NAME
   WEB PROC SRVR F
   
   
 * REPORTED COMPONENT ID
   5655W0500
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-11-17
   
   
 * CLOSED DATE
   2011-12-15
   
   
 * LAST MODIFIED DATE
   2015-04-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    IZ94322 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ94322]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEB PROC SRVR F
   
   
 * FIXED COMPONENT ID
   5655W0500
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP