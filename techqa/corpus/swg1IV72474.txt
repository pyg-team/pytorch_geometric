Title: IBM IV72474: NEW AGENT BUILDER INSTANCE WON'T START - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Monitoring 6.3.0 Fix Pack 6 (6.3.0-TIV-ITM-FP0006) [http://www-01.ibm.com/support/docview.wss?uid=swg24040390]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If a new agent builder instance is configured using the "Manage
   Tivoli Enterprise Monitoring Services" (MTEMS) interface, the
   agent may fail to start with a message like this:
   
      /tivoli/IBM/ITM/lx8266/19/bin/k19agent: error while loading
      shared libraries: libkbb.so: cannot open shared object file:
      No such file or directory.
   
   The libkbb.so library does exist in the proper location.
   However, the loader cannot find it because of a configuration
   error. The library path in the agent configuration file contains
   spaces in the middle, like this:
      KGL_KGLMSGBASE='/tivoli/IBM/ITM/ tmaitm6/lx8266/bin/KGLMSENU'
                                      |
      KBB_ACF1_PATH='/tivoli/IBM/ITM/ tmaitm6/lx8266/bin'
                                     |
   
   LD_LIBRARY_PATH='/tivoli/IBM/ITM/lx8266/gs/lib64:/tivoli/IBM/I
      TM/lx8266/19/lib:/tivoli/IBM/ITM/ tmaitm6/lx8266/lib'
                                       |
   
   LD_LIBRARY_PATH_64='/tivoli/IBM/ITM/lx8266/19/lib:/tivoli/IBM/
      ITM/ tmaitm6/lx8266/lib:/tivoli/IBM/ITM/lx8266/gs/lib64'
          |
   
   LIBPATH='/tivoli/IBM/ITM/lx8266/gs/lib64:/tivoli/IBM/ITM/lx826
      6/19/lib:/tivoli/IBM/ITM/ tmaitm6/lx8266/lib'
                               |
   
   PATH='/bin:/usr/bin:/tivoli/IBM/ITM/lx8266/19/bin:/tivoli/IBM/
      ITM/ tmaitm6/lx8266/bin'
          |
   
   SHLIB_PATH='/tivoli/IBM/ITM/lx8266/gs/lib64:/tivoli/IBM/ITM/lx
      8266/19/lib:/tivoli/IBM/ITM/
   tmaitm6/lx8266/lib:/lib:/usr/lib'
                                  |
      NLS1_LOCALEDIR='/tivoli/IBM/ITM/ tmaitm6/lx8266/ax/locale'
   .
   RECREATE INSTRUCTIONS:
   1. Install a multi-instance agent builder agent.
   2. Use the MTEMS to create a new instance.
   3. Browse the instance configuration and observe spaces in
      path definitions as shown in the problem description.
   .
   LOCAL FIX:
   Use the command line interface (itmcmd config) to define new
   agent builder instances.
   
   
    
   
   

LOCAL FIX
 *  Use the command line interface (itmcmd config) to define new
   agent builder instances.
   
   
    
   
   

PROBLEM SUMMARY
 *  New agent builder instance won't start.
   
   
   If a new agent builder instance is configured using the "Manage
   Tivoli Enterprise Monitoring Services" (MTEMS) interface, the
   agent may fail to start with a message like this:
   
      /opt/IBM/ITM/lx8266/nn/bin/knnagent: error while loading
   shared libraries: libkbb.so: cannot open shared object file: No
   such file or directory.
   The libkbb.so library does exist in the proper location.
   However, the loader cannot find it because of a configuration
   error.  The library path in the agent configuration file
   (${CANDLEHOME}/config/xx*.config) contain spaces in the middle,
   like this:
   
      KGL_KGLMSGBASE='/opt/IBM/ITM/ tmaitm6/lx8266/bin/KGLMSENU'
      KBB_ACF1_PATH='/opt/IBM/ITM/ tmaitm6/lx8266/bin'
   
   LD_LIBRARY_PATH='/opt/IBM/ITM/lx8266/gs/lib64:/opt/IBM/ITM/lx826
   6/nn/lib:/opt/IBM/ITM/ tmaitm6/lx8266/lib'
      LD_LIBRARY_PATH_64='/opt/IBM/ITM/lx8266/nn/lib:/opt/IBM/ITM/
   tmaitm6/lx8266/lib:/opt/IBM/ITM/lx8266/gs/lib64'
   
   LIBPATH='/opt/IBM/ITM/lx8266/gs/lib64:/opt/IBM/ITM/lx8266/nn/lib
   :/opt/IBM/ITM/ tmaitm6/lx8266/lib'
      PATH='/bin:/usr/bin:/opt/IBM/ITM/lx8266/nn/bin:/opt/IBM/ITM/
   tmaitm6/lx8266/bin'
   
   SHLIB_PATH='/opt/IBM/ITM/lx8266/gs/lib64:/opt/IBM/ITM/lx8266/nn/
   lib:/opt/IBM/ITM/ tmaitm6/lx8266/lib:/lib:/usr/lib'
      NLS1_LOCALEDIR='/opt/IBM/ITM/ tmaitm6/lx8266/ax/locale'
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code was changed to trim blank spaces so the path names are
   constructed properly.
   
   The fix for this APAR is contained in the following maintenance
   packages:
   
     | fix pack | 6.3.0-TIV-ITM-FP0006
   
   
    
   
   

TEMPORARY FIX
 *  Use the command line interface (itmcmd config) to configure the
   agent.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV72474
   
   
 * REPORTED COMPONENT NAME
   OMEG DIST INSTA
   
   
 * REPORTED COMPONENT ID
   5608A41CI
   
   
 * REPORTED RELEASE
   630
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-04-20
   
   
 * CLOSED DATE
   2015-08-11
   
   
 * LAST MODIFIED DATE
   2015-12-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OMEG DIST INSTA
   
   
 * FIXED COMPONENT ID
   5608A41CI
   
   

APPLICABLE COMPONENT LEVELS
 * R630 PSY
   UP