Title: IBM Configure Cognos Insight to connect against SSL secured BI Gateway - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When connecting to a https Gateway, to e.g. retrieve data from the Cognos Business Intelligence Server for import, the following error is displayed: 

java.security.cert.CertPathBuilderException: PKIXcertPathbuilderImpl
could not build a valid CertPath.; internal cause is:
jave.security.cert.CertPathValidatorException: The certificate issued by EMAILADDRESS=***, CN=***,
OU=***, O=***, L=***, ST=***, C=*** is not trusted; internal cause is.
java.security.cert.CertPathValidatorException: Certificate chaining error 

where *** represents the properties of your unique root CA.

This document describes how to import the root certificate, so that a connection to a SSL secured Gateway can be established. 

CAUSE
The root CA is missing in the cacerts keystore of Cognos Insight. Cognos Insight is using the keystore of the JRE, that is delivered with the installation.

DIAGNOSING THE PROBLEM
The following error message is received in the Import Data dialog in Cognos Insight: 

[/support/docview.wss?uid=swg21588417&aid=1] [/support/docview.wss?uid=swg21588417&aid=1]


RESOLVING THE PROBLEM
GUI Method: 

 1.  Make the ca.cer, that corresponds to the root certificate (that is mentioned in the error message), available to the Cognos Insight Client. 
 2.  Locate the Cognos Insight installation folder. By default it is installed in the user profile (e.g. for WinXP C:\Documents and Settings\User\Application Data\IBM\Cognos Insight). 
 3.  Navigate into the JRE bin folder (<CognosInsight>\plugins\com.ibm.jre.win32_1.6.0_10.1.6000.27\jre\bin. 
 4.  Run the ikeyman.exe. 
 5.  Click on the open folder icon in the toolbar and open the cacerts from <CognosInsight>\plugins\com.ibm.jre.win32_1.6.0_10.1.6000.27\jre\lib\security.
     [/support/docview.wss?uid=swg21588417&aid=2] [/support/docview.wss?uid=swg21588417&aid=2] 
 6.  Click Ok, you will be prompted for a password. Enter changeit . 
 7.  Change the Drop Down List from "Personal Certificates" to "Signer Certificates".
     [/support/docview.wss?uid=swg21588417&aid=3] [/support/docview.wss?uid=swg21588417&aid=3] 
 8.  Click Add, and navigate to your ca.cer from step 1. Click Ok. 
 9.  Enter a label for the certificate. Click Ok. 
 10. Close the IBM Key Management. 
 11. Restart Cognos Insight . 
 12. Enter your https Gateway URI (https://<host>/ibmcognos/cgi-bin/cognos.cgi) again in the Import Data dialog. 
 13. The test is now successful:
     [/support/docview.wss?uid=swg21588417&aid=4] [/support/docview.wss?uid=swg21588417&aid=4]


Command-Line Method: 

Note that paths referenced in this command may change with version updates, and that this complete command must be executed as a single-line statement. 


"C:\Documents and Settings\Administrator\Application Data\IBM\Cognos Insight\plugins\com.ibm.jre.win32_1.6.0_10.1.6000.27\jre\bin\ikeycmd.exe" -cert -add -type jks -db "C:\Documents and Settings\Administrator\Application Data\IBM\Cognos Insight\plugins\com.ibm.jre.win32_1.6.0_10.1.6000.27\jre\lib\security\cacerts" -pw changeit -file "c:\ca.cer" -label "Enter Label Text Here"