Title: IBM OA14677: PAGE 31 OF TBSM 3.1 GUIDE FOR WAREHOUSE PACK, VERSION 3.2.0.0, USING TWD VERSION 1.2 NEEDS SOME CHANGES - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  Page 31 of the ManagerTivoli Business Systems Manager, Version
   3.1, Guide for Warehouse Pack, Version 3.2.0.0, using Tivoli
   Data Warehouse, Version 1.2 needs the following changes:
   .
   1) the correct system variable name is GMT_CHANGE_TIME and not
      GTM_CHANGE_TIME.
   .
   2) the example provide when explaining the
      _SetSystemConfiguration usage and the GMT_CHANGE_TIME
      variable itself should be better explained as from the
      following further details:
   .
      TBSM itself works (and records database values) in the local
      timezone as determined by your settings in the Windows
      operating system.
   .
      But, the Tivoli Data Warehouse requires all data timestamps
      to be in GMT time. Thus, when moving any result sets from the
      TBSM databases to the TDW databases, the time values must be
      converted to GMT time. This requirement creates a problem
      when running the ETL stored procedures with date timestamps
      in the TBSM database that "cross" any DaylightSavings Time
      adjustments.
      .
      For example, to simplify, assume that the TBSM database
      server is configured to use Daylight Savings Time in your
      timezone and that the clock adjustment occurs at March
      27th and October 30th at 2 AM.
      .
      So data in the TBSM database that would occur prior to 2 AM
      at the above two dates would require a DIFFERENT time
      adjustment to be in GMT than those events that would occur
      after 2 AM.
      .
      This occurs since the date conversion process uses a value
      returned by the Windows operating system to determine how
      much time adjustment is required to convert a timestamp to
      GMT time. But, this value returned is based on the CURRENT
      datetime as configured in the OS. There is no function to
      call with a specific datetime and return the adjustment
      factor as required as that specific datetime.
      .
      So if we only used this one value to convert the timestamp
      records to GMT time during the ETL run on the two days a
      year where Daylight Savings Time changes can occur, we would
      have the incorrect GMT time for those records that occurred
      prior to datetime March 27th and October 30th at 2 AM. Those
      records should be converted to GMT using the adjustment that
      was required prior to that datetime.
      So, sometime prior to running the ETL when the time change
      occurs on March 27 and on October 30th (preferably several
      days before), you should execute from the SQL Server Query
      Analyzer :
    .
      _SetSystemConfiguration &#146;ROOT&#146;, 0, &#146;TWH&#146;, &#146;GMT_CHANGE_TIME&#146;,
      <date time>, DATETIME&#146;
      .
      where <datetime> will be respectively '2005-03-27
      02:00:00.000' and '2005-10-30 02:00:00.000'.
   .
      Then, the ETL will be able to use the old GMT adjustment to
    correctly set the time values being sent to the TDW
      depending on whether those time values are prior to
   '2005-03-27 02:00:00.000' and '2005-10-30 02:00:00.000' or
   after that time.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: TBSM 3.1 users of Tivoli Data Warehouse      *
   *                 interface.                                   *
   ****************************************************************
   * PROBLEM DESCRIPTION: In the Tivoli Business Systems          *
   *                      Manager, Version 3.1, Guide for         *
   *                      Warehouse Pack, Version 3.2.0.0,        *
   *                      using Tivoli Data Warehouse, Version    *
   *                      1.2:                                    *
   *                                                              *
   *                      Chapter 3,  page 32, paragraph 3,       *
   *                      of the section titled 'Product notes    *
   *                      and limitations,' the system variable   *
   *                      is stated incorrectly. The correct      *
   *                      system variable to configure is the     *
   *                      GMT_CHANGE_TIME system variable.        *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   The Tivoli Business Systems Manager, Version 3.1, Guide for
   Warehouse Pack, Version 3.2.0.0 will be updated.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Following is a detailed explanation of the usage for the
   GMT_CHANGE_TIME system variable.
   
   The Tivoli Business Systems Manager program uses the local
   time, as determined by the settings in your Windows operating
   system.
   
   But the Tivoli Data Warehouse program requires that all date
   timestamps be in Greenwich time, which is sometimes referred
   to as GMT (Greenwich mean time).
   
   Therefore, when moving any result sets from the Tivoli
   Business Systems Manager databases to the Tivoli Data
   Warehouse databases, the time values must be converted to GMT.
   This convertion to GMT creates issues when running ETL stored
   procedures that have date timestamps in the Tivoli Business
   Systems Manager database, which reflect Daylight Savings Time
   adjustments.
   
   For example, assume that the Tivoli Business Systems Manager
   database server is configured to use Daylight Savings Time
   (DST) in your timezone and that the DST clock adjustments
   occur March 27, and October 30, at 2 AM.
   
   In this example, data in the Tivoli Business Systems Manager
   database that occurs before 2 AM on the above two dates
   requires a DIFFERENT time adjustment in GMT than those events
   that occur after 2 AM.
   
   The different time adjustments are required because the date
   conversion process uses a value returned by the Windows
   operating system to determine how much time adjustment is
   required to convert a timestamp to GMT time. But, the value
   returned is based on the CURRENT datetime as configured in the
   Windows operating system. There is no function to call with a
   specific datetime and return the adjustment factor as required
   as that specific datetime.
   
   If only one value is used to convert the timestamp records to
   GMT during the ETL run on the two days of the year when DST
   time changes can occur, we would have the incorrect GMT time
   for those records that occurred before datetime March 27 and
   October 30 at 2 AM. Those records should be converted to GMT
   using the adjustment that was required before that datetime.
   
   So, sometime before running the ETL when the time change
   occurs on March 27 and on October 30 (preferably several days
   before), you should execute the following from the SQL Server
   Query Analyzer :
   
   _SetSystemConfiguration  ROOT , 0,  TWH ,  GMT_CHANGE_TIME ,
   <date time>, DATETIME
   
   where <datetime> will be respectively
   '2005-03-27 02:00:00.000' and '2005-10-30 02:00:00.000'.
   
   The ETL can then use the old GMT adjustment to correctly
   set the time values being sent to the Tivoli Data Warehouse,
   depending on whether or not those time values are before
   '2005-03-27 02:00:00.000' and '2005-10-30 02:00:00.000' or
   after that time on those dates.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   OA14677
   
   
 * REPORTED COMPONENT NAME
   TIVOLI BSM OS/
   
   
 * REPORTED COMPONENT ID
   5698BSM00
   
   
 * REPORTED RELEASE
   31D
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2005-12-19
   
   
 * CLOSED DATE
   2006-02-28
   
   
 * LAST MODIFIED DATE
   2006-02-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

Publications Referenced GC32939700 FIX INFORMATION

APPLICABLE COMPONENT LEVELS