Title: IBM PI26941: INSTALLING AND UNINSTALLING AN APPLICATION MANY TIMES WILL CAUSE OUTOFMEMORY - United States

Text:
  FIXES ARE AVAILABLE
PI29911;8.5.5: Confidential for Security Integrity ifix [http://www-01.ibm.com/support/docview.wss?uid=swg24039137]
8.5.5.5: WebSphere Application Server V8.5.5 Fix Pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24039425]
8.5.5.6: WebSphere Application Server V8.5.5 Fix Pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24040035]
8.5.5.7: WebSphere Application Server V8.5.5 Fix Pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24040533]
8.5.5.8: WebSphere Application Server V8.5.5 Fix Pack 8 [http://www-01.ibm.com/support/docview.wss?uid=swg24041178]
8.5.5.9: WebSphere Application Server V8.5.5 Fix Pack 9 [http://www-01.ibm.com/support/docview.wss?uid=swg24041819]
8.5.5.10: WebSphere Application Server V8.5.5 Fix Pack 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24042150]
8.5.5.11: WebSphere Application Server V8.5.5 Fix Pack 11 [http://www-01.ibm.com/support/docview.wss?uid=swg24043005]
8.5.5.12: WebSphere Application Server V8.5.5 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24043844]
8.5.5.13: WebSphere Application Server V8.5.5 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24044479]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Installing/Uninstalling an app many times will cause
   OutOfMemory.
   
   Deploying an application multiple times to Liberty profile
   seems to eventually run the server out of memory.
   
   To replicate the situation:
   
   1. Start Liberty profile server
   2. Copy application war into dropins folder
   3. Watch log and wait for application to start
   4. Access the application via web browser in order to have
   liberty fully start the app.
   5. Delete the war from the dropins folder
   6. Watch log files and wait for application to completely
   stop/uninstall
   7. Repeat steps 2-6 until the logs show a
   java.lang.OutOfMemoryException
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server Liberty Profile                      *
   ****************************************************************
   * PROBLEM DESCRIPTION: Repeatedly redeploying an application   *
   *                      can cause  OutOfMemory exceptions       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A memory leak was occuring because a cached object reference was
   improperly being saved.  This caused Liberty profile memory
   usage to grow unecessarily when applications were reinstalled
   many times in a row.
   
   
    
   
   

PROBLEM CONCLUSION
 *  All cached references to the given object are now properly
   released when the object is no longer required.  This allows
   Java garbage collection to reclaim used heap space and
   eliminates out of memory conditions for this situation.
   
   The
   fix for this APAR is currently targeted for inclusion in fix
   pack 8.5.5.5.  Please refer to the Recommended Updates page for
   delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX
 *  Restart the WebSphere Liberty application server if Java heap
   space is growing after application redeploy.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI26941
   
   
 * REPORTED COMPONENT NAME
   WAS LIBERTY COR
   
   
 * REPORTED COMPONENT ID
   5725L2900
   
   
 * REPORTED RELEASE
   855
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2014-10-02
   
   
 * CLOSED DATE
   2014-11-12
   
   
 * LAST MODIFIED DATE
   2014-11-12
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WAS LIBERTY COR
   
   
 * FIXED COMPONENT ID
   5725L2900
   
   

APPLICABLE COMPONENT LEVELS
 * R855 PSY
   UP