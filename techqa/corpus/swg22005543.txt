Title: IBM Notes Crashes When Undocking The Laptop - United States

Text:
Notes crash; undock laptop; undocking laptop TECHNOTE (TROUBLESHOOTING)

PROBLEM
You undock your laptop and Notes 9.0.1 with Embedded Sametime crashes. You find this happens only when the Sametime Embedded client is installed, Sametime does not need to be logged in. 

SYMPTOM
You undock your laptop and Notes 9.0.1 with Embedded Sametime crashes. You find this happens only when the Sametime Embedded client is installed, Sametime does not need to be logged in. 


CAUSE
This has been identified as a product defect under APAR LO91388.

ENVIRONMENT
Windows 7 Professional Operating System, Notes 9.0.1 with any fix pack, any version of Sametime Embedded client 9.0.0. 

DIAGNOSING THE PROBLEM
You find that when the laptop uses an ethernet connection initially then Notes with Embedded Sametime crashes when you undock the laptop as it must switch to wifi. If the laptop is connected initially by wifi, then the Notes client does not crash when you undock the laptop. This indicates a network configuration may be the issue.


You find a laptop for which Notes does not crash on undocking although initially connected to the network by ethernet. Compare the environment variables in environment.set.txt, which is included in the client data collection set of files. Check whether the HOMEDRIVE and HOMEPATH variables differ. 

The laptop on which Notes crashes when undocking and switching from ethernet to wifi has these two environmental settings, HOMEDRIVE on the network and user home at root: 

HOMEDRIVE=T: 

HOMEPATH=\ 

 

The laptop on which Notes does not crash when undocking and switching from ethernet to wifi has these two local environmental settings: 

HOMEDRIVE=C: 

HOMEPATH=\Users\UserName 

 

NOTE: The HOMEPATH setting does not have a drive letter when referring to the default Users directory. 

 

You can find these settings, also by opening a DOS command prompt on the laptop and entering set HOME . You can see a sample output below for local configuration. The reasons an administrator sets a network mapping and root are not discussed here.

c:\>set home
HOMEDRIVE=C:
HOMEPATH=\Users\UserName




RESOLVING THE PROBLEM
Change HOMEDRIVE to the local drive and HOMEPATH to the local User directory. This prevents a drop of the expected connection used by Notes with Embedded Sametime when undocking. 

Here are sample commands to set the values. Restart the laptop afterward to test. 


c:\>set home HOMEDRIVE=C:
c:\>set home HOMEPATH=\Users\UserName 

 

The reconfiguration above resolved Notes with Embedded Sametime crash when undocking.