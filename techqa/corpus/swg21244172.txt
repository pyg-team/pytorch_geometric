Title: IBM Unable to start the Command Server or Launcher due to a shared memory error - United States

Text:
Launcher; command server how to clear shared memory shared memory shared memory TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The problem encountered is you are unable to start the WebSphere速 Transformation Extender Command Server or Launcher on a UNIX速 operating system due to a shared memory error. 

You will need to clear shared memory to get the WebSphere速 Transformation Extender Command Server and Launcher to start appropriately on the UNIX速 operating system. 

CAUSE
The problem is caused by a conflict or mismatch between the shared memory entries in ipcs and previous shared memory information defined for WTX file locking.

RESOLVING THE PROBLEM
The shared memory and semaphores currently in use can be viewed using the ipcs command. The command can be used while the launcher is running and when the launcher is stopped. The shared memory entry should be removed only when the launcher is stopped. 


When the launcher is stopped, if there are entries seen by the ipcs command and the user_id is not running any other applications, then the entries can be removed by using the ipcrm command.

Command usage for ipcs command:

ipcs | grep <user_id> 

Example result:

$ ipcs |grep user
m 17563686 0xffffffff --rw-rw-rw- user
s 17301536 0xc72cc02a --ra-ra-ra- user


Command usage for ipcrm command:

ipcrm -m SharedMemoryID

To remove a semaphore entry use:

ipcrm -s SemaphoreID

SharedMemoryID and SemaphoreID are listed in the second column of the ipcs result.

Note: please see your UNIX administrator for further assistance in using these commands.


In addition to removing the IPCS entries, the shared memory lock files (.mercOldShm , .mercPid and .mercShm) located in the $MERC_TMP_DIR directory should be removed.

cd $MERC_TMP_DIR
rm .mercOldShm .mercPid .mercShm


An alternate solution to avoid shared memory problems when using the Event Server would be to set the $MERC_FILE_LOCKING environment variable to FALSE which turns off using shared memory.

export MERC_FILE_LOCKING=FALSE


Note: The WTX 8.1.x and later versions use the default of the $DTX_FILE_LOCKING environment variable set to FALSE which means that shared memory is not used. Therefore the above procedures would normally only apply to WTX 8.0.x and earlier versions.








Cross Reference information Segment Product Component Platform Version Edition Data & Information Management WebSphere Transformation Extender Command Server AIX, HP-UX, Linux, Solaris 8.1, 8.0.1, 8.0, 7.5.1, 7.5, 6.7.2, 6.7.1, 6.7 International, US 
PRODUCT ALIAS/SYNONYM
 Ascential DataStage TX Mercator