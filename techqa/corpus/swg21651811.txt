Title: IBM How to create a standalone advanced process server profile using IBM Integration Designer V8.5 unit test environment - United States

Text:
iid; ibm integration designer; standalone; process server; profile; unit test TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The advanced process server test environment can be installed along with the IBM Integration Designer V8.5 installation. However, if you have already installed IBM Integration Designer V8.5 without the test environment, this technote provides the steps to create a standalone profile. 

RESOLVING THE PROBLEM
Installing Process Server Test environment for IBM Integration Designer V8.5 

The Unit test environment for IBM Integration Designer V8.5 can be installed in two different ways:

1) Installing Test environment along with IBM Integration Designer V8.5
2) Installing Test environment after IBM Integration Designer V8.5 has been installed 

1) Installing Test environment along with IBM Integration Designer V8.5
The simplest way is to install the test environment along with the IBM Integration Designer installation by selecting option 1 from the Installation wizard. 

[/support/docview.wss?uid=swg21651811&aid=1] [/support/docview.wss?uid=swg21651811&aid=1]

You will need to provide the following details with this option:
Hostname, Installation location (for example: <IID_UTE_HOME>), username and password for the Cell Administrative account and deployment environment, and database user name and password for the DB2 express database which will be installed along with IBM Integration Designer V8.5.

After the installation is successful, you will see the Process Server profile with name – qbpmaps created under <IID_UTE_HOME>/profiles.

The server is configured with the default databases -
Cell Level DB- QCMNDB 
[/support/docview.wss?uid=swg21651811&amp;aid=2]


[/support/docview.wss?uid=swg21651811&aid=3] [/support/docview.wss?uid=swg21651811&aid=3]

Process server DBs – QBPMDB, QCMNDB, QPDWDB


You will also notice that the cell and nodenames are set to PSCell1 and Node1 respectively.

You can view the server from IBM Integration Designer V8.5 workspace → servers.

[/support/docview.wss?uid=swg21651811&aid=4] [/support/docview.wss?uid=swg21651811&aid=4]
You can create or reset the server, using Manage Servers from the IBM Integration Designer workspace [/support/docview.wss?uid=swg21651811&amp;aid=5]. 

If you click on Manage Servers, the Manage the Server Profiles wizard will pop-up, using which you can either create or reset the existing server. 

Since you have created the server along with the IBM Integration Designer installation, you can see the option “Reset the IBM Server profile: qbpmaps". Selecting this checkbox, the server will be deleted and recreated with the same name.


2) Installing Test environment after IBM Integration Designer V8.5 has been installed

To install the test environment after installing IBM Integration Designer V8.5, you will have to install the Unit Test environment binaries first. The installable parts are listed below:


IBM Integration Designer Version 8.5 test environment Windows (1 of 3) Multilingual (CIL7CML) 
IBM Integration Designer Version 8.5 test environment Windows (2 of 3) Multilingual (CIL7DML)
IBM Integration Designer Version 8.5 test environment Windows (3 of 3) Multilingual (CIL7EML) 

IBM Integration Designer Version 8.5 test environment Linux (1 of 3) Multilingual (CIL7FML)
IBM Integration Designer Version 8.5 test environment Linux (2 of 3) Multilingual (CIL7GML) 
IBM Integration Designer Version 8.5 test environment Linux (3 of 3) Multilingual (CIL7HML) 


Once the binaries are installed, you can create the Process Server profile using the BPMConfig command from command line

You can create the Standalone Process server profile using the BPMConfig command from the IBM Integration Designer UTE environment.

To do that follow the instructions below:

a) Copy the file “Advanced-PS-Standalone-DB2.properties” from 

<IID8.5_Installables>\launchpad\content\samples\config\iid\

to IID_UTE machine

b) Modify the file as instructed in the Information Center article below:

http://pic.dhe.ibm.com/infocenter/dmndhelp/v8r5m0/topic/com.ibm.wbpm.wid.imuc.doc/topics/bpmcfg_create_wte.html [http://pic.dhe.ibm.com/infocenter/dmndhelp/v8r5m0/topic/com.ibm.wbpm.wid.imuc.doc/topics/bpmcfg_create_wte.html]


Listed below are the properties that need to be updated based on your requirement.

To set the Process server as offline to Process Center, leave the default value as true for bpm.de.psOffline, and clear the values hostname and port number:

bpm.de.psOffline=true
bpm.de.psProcessCenterHostname=
bpm.de.psProcessCenterPort=

Clear the user and password values for ProcessCenterUserAlias:

bpm.de.authenticationAlias.2.name=ProcessCenterUserAlias
bpm.de.authenticationAlias.2.user=
bpm.de.authenticationAlias.2.password=

To connect the Process server (PS) to the Process Center (PC), you will need to provide all the above fields and set
bpm.de.psOffline=false

The Deployment environment administrative credentials can be set by providing the user and password for DeAdminAlias

bpm.de.authenticationAlias.1.name=DeAdminAlias
bpm.de.authenticationAlias.1.user=
bpm.de.authenticationAlias.1.password=

The Cell level administrative credentials can be set by providing the user and password for CellAdminAlias 

bpm.cell.name= 
bpm.cell.authenticationAlias.1.name=CellAdminAlias
bpm.cell.authenticationAlias.1.user=
bpm.cell.authenticationAlias.1.password=


bpm.de.node.1.name=
bpm.de.node.1.hostname=
bpm.de.node.1.installPath=
bpm.de.node.1.profileName=


Set the database user credentials for alias - BPM_DB_ALIAS. Ensure that DB2 is running and that the database user you provided in BPM_DB_ALIAS has the required permissions to create and drop databases.You should also ensure that the db2cmd/db2 command can be successfully invoked from command prompt.

bpm.de.authenticationAlias.3.name=BPM_DB_ALIAS
bpm.de.authenticationAlias.3.user=
bpm.de.authenticationAlias.3.password=


By default database names are set with some default names, you can modify them by editing the dabaseName property. You should also provide the database hostname , portnumber and schema. These values need to be set for the Common database, process server database and Performance Data warehouse database. You can leave the default values as is for bpm.de.db.x.name. For example: SharedDb, ProcessServerDb, PerformanceDb and CellOnlyDb.

bpm.de.db.1.name=SharedDb
bpm.de.db.1.databaseName=
bpm.de.db.1.type=DB2
bpm.de.db.1.hostname=
bpm.de.db.1.portNumber=
bpm.de.db.1.schema=


bpm.de.db.2.name=ProcessServerDb
bpm.de.db.2.databaseName=
bpm.de.db.2.type=DB2
bpm.de.db.2.hostname=
bpm.de.db.2.portNumber=
bpm.de.db.2.schema=

bpm.de.db.3.name=PerformanceDb

bpm.de.db.3.databaseName=
bpm.de.db.3.type=DB2
bpm.de.db.3.hostname=
bpm.de.db.3.portNumber=
bpm.de.db.3.schema=


Note that if you do not specify the values for hostname and portNumber for the databases, and if you leave them as is - like @DB_HOSTNAME@ , @DB_PORTNUMBER@, the BPMConfig command will fail with validation errors. These values need to be set for all the databases.

If you leave these fields blank, the system will take the default values as its hostname and portnumber , such as localhost and 50000. So it is recommend that you set these values to the correct hostname and portnumber.

Similarly, you will need to the provide the database name for CellOnlyDb. If you do not provide this value, the system will try to create a database with the name “BPMDB” on the local DB2, and might result in an authorization error.
Hence, you should also provide the database for CellOnlyDb.

bpm.de.db.4.name=CellOnlyDb
bpm.de.db.4.databaseName=
bpm.de.db.4.type=DB2
bpm.de.db.4.hostname=
bpm.de.db.4.portNumber=
bpm.de.db.4.schema=

bpm.de.createDatabase=false

Add the property below to the end of the file. By setting it to true, the databases will be created by the BPMConfig command. To use existing databases set this property to false. 


c) Execute the command from

<IID_UTE_HOME>\bin\BPMConfig -create -de my_environment.properties

The command will perform the the following activities:
validate the properties file
configure the stand-alone profile
generate the sql files and schemas
create the databases
configure databases
install the BPM system application
configure Rest service end points
save

Upon successful execution of the command, you can verify the profile created under <IID_UTE_HOME>\profiles 

d) You can add the server to the IBM Integration Designer workspace servers view through Degine New Server wizard.

RELATED INFORMATION
#Creating and configuring the test environment profile [http://pic.dhe.ibm.com/infocenter/dmndhelp/v8r5m0/index.jsp?topic=%2Fcom.ibm.wbpm.wid.imuc.doc%2Ftopics%2Fbpmcfg_create_wte.html]
Creating or resetting default server profiles [http://pic.dhe.ibm.com/infocenter/dmndhelp/v8r5m0/topic/com.ibm.wbpm.wid.admin.doc/deploy/topics/tcrtprof.html]