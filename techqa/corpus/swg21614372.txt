Title: IBM Disable the http to https forwarding behavior in TDWC v8.6 and v9.x - United States

Text:
TDWC; http; https; redirect; forward; certificate; disable TECHNOTE (FAQ)

QUESTION
 How can the automatic redirection of http to https be disabled for Dynamic Workload Console (DWC) v8.6, v9.1, 9.2, or 9.3? 

CAUSE
All connections must use https by default with WebSphere security enabled.

ANSWER
 

Hide details for TDWC 8.6: [/support/docview.wss?uid=swg21614372&amp;aid=1]TDWC 8.6: 

There is a documented procedure to allow both http and https connections for Tivoli Integrated Portal. 

Configuring access for HTTP and HTTPS [http://www.ibm.com/support/knowledgecenter/SS5PMD_2.2.0/com.ibm.tip.doc/ttip_admin_https.html]
http://www.ibm.com/support/knowledgecenter/SS5PMD_2.2.0/com.ibm.tip.doc/ttip_admin_https.html [http://www.ibm.com/support/knowledgecenter/SS5PMD_2.2.0/com.ibm.tip.doc/ttip_admin_https.html]

Below is an adaptation for TDWC v8.6 from the documentation found in the above link.

Configuring access for HTTP and HTTPS for TDWC v8.6:
By default, the application server requires HTTPS (Hypertext Transfer Protocol Secure) access. If you want some users to be able to log in and use the console with no encryption of transferred data, including user ID and password, configure the environment to support both HTTP and HTTPS modes. 

Before you begin:
Prior to making the changes to enable http, backup the WebSphere configuration by running backupConfig.sh in <TWAHome>/wastools. On UNIX, this will need to be launched as root and can be called with "-nostop" to prevent WebSphere from stopping.

About this task:
Configuring for HTTP and HTTPS console access involves editing the web.xml file of Web components. Use this procedure to identify and edit the appropriate Web XML files.

Procedure:
1. Change to the following directory:<TWA>/eWAS/profiles/TIPProfile/config/cells/TIPCell/applications.

2. Find the following web.xml files from the above directory
* isc.ear/deployments/isc/isclite.war/WEB-INF/web.xml
* isc.ear/deployments/isc/TIPChangePasswd.war/WEB-INF/web.xml
* isc.ear/deployments/isc/tip.charts.war/WEB-INF/web.xml
* isc.ear/deployments/isc/TWSWebUI.war/WEB-INF/web.xml

3. After creating a backup copy, open one of the web.xml files using a text editor.

4. Find the <transport-guarantee> element. The initial value of all<transport-guarantee> elements is CONFIDENTIAL, meaning that secure access is always required.

5. Change the setting to NONE to enable both HTTP and HTTPS requests. The element now reads: <transport-guarantee>NONE</transport-guarantee>.

6. Save the file, and then repeat these steps for the other web.xml deployment files.
NOTE: There are four <transport-guarantee> entries that need to be modified in the first file: 
isc.ear/deployments/isc/isclite.war/WEB-INF/web.xml

7. Modify External authorization providers in WebSphere Admin console.
a. Log in to Tivoli Integrated Portal.
b. In the navigation pane, select Settings > Websphere Administrative Console
and select Launch Websphere Administrative Console.
c. In the WebSphere Application Server administrative console, select 
Security > Global security and select the External authorization providers link.
d. In the External authorization providers page, select the Update with application names listed
option.
e. In the text pane, type isc and select Apply.
f. In the messages area at the top of the page, select the Save link to commit your changes to the 
master configuration.
8. Stop and restart the WebSphere server.

What to do next:
Users must now specify a different port, depending on the mode of access. The default port numbers are as follows: 

For TWS and TDWC installed to the same eWAS:
http://<host_name>:31115/ibm/console 
https://<host_name>:31116/ibm/console 

For standalone TDWC:
http://<host_name>:29080/ibm/console 
https://<host_name>:29443/ibm/console

NOTE: WebSphere Admin Console still enforces http to https redirection.



Hide details for TDWC 9.1, 9.2 and 9.3: [/support/docview.wss?uid=swg21614372&amp;aid=1]TDWC 9.1, 9.2 and 9.3:

The 9.1, 9.2, and 9.3 versions of the DWC product can be modified to disable the http to https forwarding behavior similarly to the 8.6 version by following the procedure documented for DASH at this location:

Configuring access for HTTP and HTTPS
http://www.ibm.com/support/knowledgecenter/SSEKCU_1.1.1.0/com.ibm.psc.doc_1.1.1.0/tip_original/ttip_admin_https.html [http://www.ibm.com/support/knowledgecenter/SSEKCU_1.1.1.0/com.ibm.psc.doc_1.1.1.0/tip_original/ttip_admin_https.html]


Before you begin:
Prior to making the changes to enable http, backup the WebSphere configuration by running backupConfig.sh in <TWAUI>/wastools. On UNIX, this will need to be launched as root and can be called with "-nostop" to prevent WebSphere from stopping


Procedure:

1. Change to the following directory: JazzSM_WAS_Profile/config/cells/JazzSMNode01Cell/applications.
2. From this location, locate the web.xml files in the following directories: 


 * For the Integrated Solutions Console web application archive: isc.ear/deployments/isc/isclite.war/WEB-INF
   
 * For the Charts web application archive: 
   isc.ear/deployments/isc/tip.charts.war/WEB-INF
   
 * For the Dashboard Application Services Hub Change Password web application archive: isc.ear/deployments/isc/TIPChangePasswd.war/WEB-INF
   
 * ***Added specifically for the TWSWebUI web application
   For the TWS WebUI web application archive: 
   isc.ear/deployments/isc/TWSWebUI.war/WEB-INF
   

3. Open one of the web.xml files using a text editor. 
4. Find the <transport-guarantee> element. The initial value of all <transport-guarantee> elements is CONFIDENTIAL, meaning that secure access is always required. 
5. Change the setting to NONE to enable both HTTP and HTTPS requests. The element now reads: <transport-guarantee>NONE</transport-guarantee>. 
Note: Ensure that every instance of <transport-guarantee> is set to a value of NONE. 
6. Save the file, and then repeat these steps for the other web.xml deployment files. 
7. Stop and restart the server. [http://www-01.ibm.com/support/knowledgecenter/api/content/SSEKCU_1.1.1.0/com.ibm.psc.doc_1.1.1.0/admin/psc_ctr_admin_restart_jazzsm_servers.html] 


RELATED INFORMATION
 TIP V2.2 Configuring access for HTTP and HTTPS [http://www.ibm.com/support/knowledgecenter/SS5PMD_2.2.0/com.ibm.tip.doc/ttip_admin_https.html]
Jazz for Service Management 1.1.1.0: Configuring access [http://www.ibm.com/support/knowledgecenter/SSEKCU_1.1.1.0/com.ibm.psc.doc_1.1.1.0/tip_original/ttip_admin_https.html]


 

PRODUCT ALIAS/SYNONYM
 DWC