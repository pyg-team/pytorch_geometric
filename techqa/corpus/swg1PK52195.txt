Title: IBM PK52195: COM.IBM.DB2.JCC.B.RG: NON-ATOMIC BATCH FAILURE IN DATABASE-TRANSFER.LOG WHEN TRANSFERRING TO DB2. - United States

Text:
  FIXES ARE AVAILABLE
6.0.1.7 Download: WebSphere Portal and Web Content Manager V6.0.1, fix pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24025748]
6.0.1.5 Download: WebSphere Portal and Web Content Management V6.0.1 fix pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24021241]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  database-transfer task fails.  From ConfigTrace.log:
   
       [java] [09/01/07 21:41:49.262 CDT] Transferring table --{
   JCR.ICMSTPRIVGROUPS}-- to table --{DBWSPORT.ICMSTPRIVGROUPS }--
        [java] [09/01/07 21:41:49.355 CDT] error.executing.transfer
        [java] err.dbtransfer.exception.labelclass
   com.ibm.db2.jcc.b.rg: Non-atomic batch failure.  The batch was
   submitted, but at least one exception occurred on an individual
   member of the batch. Use getNextException() to retrieve the
   exceptions for specific batched elements.
        [java] com.ibm.db2.jcc.b.rg: Non-atomic batch failure.  The
   batch was submitted, but at least one exception occurred on an
   individual member of the batch. Use getNextException() to
   retrieve the exceptions for specific batched elements.
        [java]  at com.ibm.db2.jcc.b.j.a(j.java:397)
        [java]  at com.ibm.db2.jcc.b.tf.b(tf.java:3018)
        [java]  at com.ibm.db2.jcc.b.tf.a(tf.java:2786)
        [java]  at com.ibm.db2.jcc.b.tf.executeBatch(tf.java:2598)
        [java]  at com.ibm.db2.jcc.b.tf.executeBatch(tf.java:1391)
        [java]  at
   com.ibm.wps.config.db.transfer.DefaultTableHandler.execute(Defau
   ltTableHandler.java:127)
        [java]  at
   com.ibm.wps.config.db.transfer.TransferEngine.execute(TransferEn
   gine.java:57)
        [java]  at
   com.ibm.wps.config.db.transfer.CmdLineTransfer.execute(CmdLineTr
   ansfer.java:93)
        [java]  at
   com.ibm.wps.config.db.transfer.CmdLineTransfer.main(CmdLineTrans
   fer.java:43)
   Target finished: action-transfer-data
   Target finished: database-transfer-domain-jcr
   Target finished: database-transfer-jcr
   ---- Begin dump of properties ----
   .......
   
   ---- End dump of properties ----
   
   BUILD FAILED
   file:../config/actions/dbt_dbcfg.xml:301: Java returned: 1
   
   and, from Database_Transfer.log.0:
   
   .......
   
   [09/01/07 21:41:49.355 CDT] com.ibm.db2.jcc.b.SqlException:
   Error for batch element #49: DB2 SQL error: SQLCODE: -530,
   SQLSTATE: 23503, SQLERRMC:
   DBWSPORT.ICMSTPRIVGROUPS.SQL070901213915071
   
   [09/01/07 21:41:49.355 CDT] error.executing.transfer
   err.dbtransfer.exception.labelclass com.ibm.db2.jcc.b.rg:
   Non-atomic batch failure.  The batch was submitted, but at least
   one exception occurred on an individual member of the batch. Use
   getNextException() to retrieve the exceptions for specific
   batched elements.
   com.ibm.db2.jcc.b.rg: Non-atomic batch failure.  The batch was
   submitted, but at least one exception occurred on an individual
   member of the batch. Use getNextException() to retrieve the
   exceptions for specific batched elements.
    at com.ibm.db2.jcc.b.j.a(j.java:397)
    at com.ibm.db2.jcc.b.tf.b(tf.java:3018)
    at com.ibm.db2.jcc.b.tf.a(tf.java:2786)
    at com.ibm.db2.jcc.b.tf.executeBatch(tf.java:2598)
    at com.ibm.db2.jcc.b.tf.executeBatch(tf.java:1391)
    at
   com.ibm.wps.config.db.transfer.DefaultTableHandler.execute(Defau
   ltTableHandler.java:127)
    at
   com.ibm.wps.config.db.transfer.TransferEngine.execute(TransferEn
   gine.java:57)
    at
   com.ibm.wps.config.db.transfer.CmdLineTransfer.execute(CmdLineTr
   ansfer.java:93)
    at
   com.ibm.wps.config.db.transfer.CmdLineTransfer.main(CmdLineTrans
   fer.java:43)
   
   This occurs for each domain, regardless of the inclusion of
   recommendation in technote 1268148.
   
   
    
   
   

LOCAL FIX
 *  Provide updated dbt.jar.
   
   
    
   
   

PROBLEM SUMMARY
 *  fix for db2 inner join performance
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK52195
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   601
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-09-04
   
   
 * CLOSED DATE
   2008-03-20
   
   
 * LAST MODIFIED DATE
   2008-03-20
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * FIXED COMPONENT ID
   5724E7600
   
   

APPLICABLE COMPONENT LEVELS
 * R601 PSY
   UP