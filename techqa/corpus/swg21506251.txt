Title: IBM How do I manually run the download cacher tool for Red Hat Patching? - United States

Text:
1270; googlebigfix TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Manually running the Red Hat download cacher.

NOTE: The Red Hat download cacher downloads from the regular Red Hat website. Red Hat satellite servers are currently unsupported by IEM. 

RESOLVING THE PROBLEM
Red Hat Download Cacher for those subscribed to the Patches for RHEL 3, Patches for RHEL 4, Patches for RHEL 5, RHEL 5 Dependency Resolution, RHEL 6 Dependency Resolution and Patches for RHEL 5 - Native Tools, Patches for RHEL 6 - Native Tools sites. These are the current Red Hat patching content sites and all new patching content for the Red Hat OS gets published to these sites. 

Warning: The "Red Hat Enterprise Linux" site is now deprecated. New patch content for the Red Hat OS does not get published to this site anymore. You should seek to use the content from the current sites. 


The tool can be downloaded from here [http://software.bigfix.com/download/bes/util/RHEDownloadCacher.exe].

To run this tool, you may wish to create a batch file with the following parameters. If you run the tool without specifying any parameters, you will be prompted to enter the parameters at the command line.

Sample.bat

RHEDownloadCacher.exe --username redhat_user --password redhat_password --cacheDirectory C:\cache --logfile C:\logs\rhellog.log --bulletins RHSA-2004:609 --os 30x86 --proxy http://www.proxyserver.com:8080 --proxyUser proxy_user --proxyPassword proxy_password 

Usage - 
RHEDownloadCacher.exe --username RHNUsername --password RHNPassword --cacheDirectory DirectoryPath [--autoCacheIncrease] [--logfile Logfile] [--bulletins Bulletin Number(s)] [--rpms RPM filenames][--os Red Hat OS Version(s)] [--proxy Proxy URL] [--proxyUser Proxy Username] [--proxyPassword Proxy Password] [--sha256] [--noRename][--emailServer Internal Email Server ] [--emailUser Email Username] [--emailPassword Email Password] [--emailSender sender@email.com] [--emailTo receiver1@email.com;receiver2@email.com] [--repobuilder]

Required Parameters:

--username RHNUsername

Your Red Hat Network Username (used to log into https://rhn.redhat.com)

--passsword RHNPassword 

Your Red Hat Network Password (used to log into https://rhn.redhat.com)

--cacheDirectory cacheDirectory DirectoryPath

The full path to the folder where downloaded files should be saved. If left blank and the tool is executed on a TEM Server machine, it will use the default TEM Cache directory. Otherwise, this parameter is required.

Optional Parameters:

[--repobuilder]
This option will build a repository of Red Hat packages, rather than asking for individual files to cache

[--os Red Hat OS Version(s)]
BigFix currently supports Red Hat Enterprise Linux 3.0, 4.0,5.0 and 6.0. Enter a comma-delimited list with architectures (e.g. "30x86", "40x86_64,50x86") to indicate the version(s) for which you would like to download files. If you do not specify this parameter, the tool will cache downloads for all versions 

[--bulletins Bulletin Number(s)] 
Specify Red Hat Errata. Separate each Errata Number with a comma (ex: RHSA-2004:609,RHBA-2005:104,RHBA-2005:109). Use this option when you wish to download files for specific errata. If you do not specify this parameter, the tool will cache all files for all published Fixlet messages in the Patches for RHEL Fixlet sites. 

[RPM filenames] 
Specify the full filename of the package(s) you wish to download, separated by a comma. (e.g. "psstack-1.2-3.EL.2.i386.rpm,firefox-1.5-3.x86_64.rpm"). 

[--autoCacheIncrease] 
This option is only available if using the default TEM Cache directory. Specify this option to increase the TEM Server cache automatically in the event that the size of the files being downloaded exceeds the current amount of free space in the cache. 

[--sha256] [--noRename] 
RHEDownloadCacher.exe saves files as their sha1 checksum values by default. Specify --sha256 to save files as its sha256 checksum value. Specify --noRename to leave the files as their original names. --noRename takes precedence, so if specified with --sha256, --sha256 will be ignored. 

[--logfile Logfile] 
Full path to the file where you would like to create the log file. By default, the log file is placed in the same directory as RHEDownloadCacher.exe. 

[--proxy Proxy URL] [--proxyUser Proxy Username] [--proxyPassword Proxy Password] 
Proxy URL is the URL of your proxy server. This is usually the ip address or dns name of your proxy server, and its port, separated by a colon (ex: http://192.168.100.10:8080). 
If your proxy server requires authentication, you must specify your Proxy Username and Proxy Password. Your Proxy Username is usually in the form of domain\username. 

[--emailServer Internal Email Server ] [--emailUser Email Username] [--emailPassword Email Password] [--emailSender sender@email.com] [--emailTo receiver1@email.com,receiver2@email.com] 
Use this option to send a notification email containing a summary of the execution of the download cacher. 

 * [--emailServer Internal Email Server]: specify which email server you would like to use to send the notification
 * [--emailUser Email Username]: username for the email server, or "none" if no login is required
 * [--emailPassword Email Password]: password for the email server, or "none" if no password is required
 * [--emailSender sender@email.com]: the summary will be sent from this address
 * [--emailTo receiver1@email.com,receiver2@email.com;...]: specify as many recipients as are necessary, separated by commas



Sample Usage: 
RHEDownloadCacher.exe --username redhat_user --password redhat_password --cacheDirectory c:\cache --logfile C:\logs\rhellog.log --bulletins RHSA-2004:609 --os 30x86,30x86_64 --emailServer mailer.email.com --emailSender sender@email.com --emailTo receiver@email.com RHEDownloadCacher.exe --username redhat_user --password redhat_password --autoCacheIncrease --rpm psstack-1.2.3.EL.2.i386.rpm,firefox-1.5-3.x86_64.rpm 

Please Note: If you are using a proxy server, but are not using authentication, you must still provide parameters for "Proxy Username" and "Proxy Password". 

For example: 
RHEDownloadCacher.exe --username redhat_user --password redhat_password --proxy http://www.proxyserver.com:8080 --proxyUser dummy_user --proxyPassword dummy_password 

For additional information about Red Hat Linux patching please refer to the following: 
http://www-01.ibm.com/support/docview.wss?uid=swg21505968 [http://www-01.ibm.com/support/docview.wss?uid=swg21505968] 

Patch Management â€“ Red Hat Linux User's Guide: 
http://publib.boulder.ibm.com/infocenter/tivihelp/v26r1/topic/com.ibm.tem.doc/Patch_Redhat_Users_Guide.pdf [http://publib.boulder.ibm.com/infocenter/tivihelp/v26r1/topic/com.ibm.tem.doc/Patch_Redhat_Users_Guide.pdf] 

Linux RPM Patching Guide: 
http://support.bigfix.com/product/documents/Linux_RPM_Patching_Quick_Start_Guide_20091012.pdf [http://support.bigfix.com/product/documents/Linux_RPM_Patching_Quick_Start_Guide_20091012.pdf]  

HISTORICAL NUMBER
 1270