Title: IBM Tivoli Integrated Portal unable to assign role to user, group using tipcli - United States

Text:
TIPL2; TIPL2CONF; tipcli can not add roles; CTGWA4016E; HTTP Response code: 0 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User was getting below error while running tipcli command on TIP (Tivoli Integrated Portal) server :


java.lang.Exception: CTGWA4016E Command failed. HTTP Response code: 0.

CTGWA4017I The command completed successfully. 

SYMPTOM
User was running below command to assign roles to a user group and was getting error below: 

./tipcli.sh MapRolesToGroup --username tipcliuser --password password -- groupID Directors --rolesList ncw_user 


java.lang.Exception: CTGWA4016E Command failed. HTTP Response code: 0.
CTGWA4017I The command completed successfully. 

Did not find any errors in SystemOut.log pertaining to this issue. But it is possible that it may have SSL related errors like below (or similar). 

 

SSLHandshakeE E SSLC0008E: Unable to initialize SSL connection. Unauthorized access was denied or security settings have expired. Exception is javax.net.ssl.SSLException: Received fatal alert: certificate_unknown


DIAGNOSING THE PROBLEM
Logged into Websphere Admin console and checked the certificates in the trust store (NodeDefaultTrustStore). It was found that the trust store had invalid root certificate. "Issued to" column had an entry like below: 
CN=hostname 
While it should be like below: 
CN=hostname, OU=Root Certificate, OU=TIPCell, OU=TIPNode, O=IBM, C=US 


RESOLVING THE PROBLEM
Follow below steps: 
1. Login to Websphere Admin console. 
2. Click on Security --> SSL certificate and key management
3. Click on : "Key stores and certificates" link on the right side.
4. Click on : NodeDefaultTrustStore
5. Click on : Signer certificates link on the right side
6. Click on : "Retrieve from port" button

On the next panel you will be asked for host, port # and alias. 
Host : actualhostname of TIP server
Port: 16311
Alias : Can be anything

7. Restart TIP server. 
8. Try to run the tipcli command again.