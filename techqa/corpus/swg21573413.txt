Title: IBM USER.SERVERUSER or USER.HOSTUSER being reported as USER_<ipAddress> in IBM Mantra event records - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Why are USER.SERVERUSER or USER.HOSTUSER being reported as USER_<ipAddress> in IBM Mantra event records? 

ANSWER
Mantra event records withUSER.SERVERUSERand/orUSER.HOSTUSERvalues of the form USER_ipAddressare most commonly associated with Microsoft SQLServer and Windows File Share setups. There are three possible reasons for the appliance not recording the actual user ID from login packets. 

1. The IBM Mantra appliance is managing Kerberos and/or encrypted login traffic that it has not been properly configured to decode. Similiarly, the appliance may recieve a bad certificate or key. 

2. Mid-flow sessions, including session time outs, result in the appliance missing the intitial log-in exchange and therefore recording an IP address instead of a user ID. All session-level dimensions are harvested at login time and stored in a session record. If the system misses the login record, it can often reconstruct other session-level dimensions, like user and server IP addresses, from the ensuing traffic. User IDs, however, don't typically occur again in the packet stream. 

Mid-flow sessions can also result from starting or restarting IBM Mantra or its network monitoring process while user sessions are already in progress. When installing Mantra, it is recommended that each monitored file server be restarted once IBM Mantra is operational. A server restart allows IBM Mantra to observe all user workstations as they mount the monitored fileshares and to capture all associated user identities and other session-level dimensions. 

A session time out occurs, by default, after 15 minutes (900 seconds) when there is no activity between the application and database. If the application did not close the session and again starts exchanging data with the database, the appliance records it as a mid-flow session (using the USER_IpAddressformat). 

From the CLI, you can modify the time-out period between the application and database to minimize the session timeouts. Enter a new time-out period, in seconds, as follows:
Host > enable
Host # configure terminal
Host (config) #netmon application sqlserver timeout 86400
Host (config) # write 


3. In a rare instance, the appliance may be overwhelmed by traffic and simply drop the login packets. 

For more information, refer to "Mid-Flow Sessions and â€˜Unknown Fileshare'" and "SQL Server Monitoring" in theNetezza Mantra Administration Guide.

 

HISTORICAL NUMBER
 NZ126239