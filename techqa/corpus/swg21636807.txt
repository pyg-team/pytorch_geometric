Title: IBM Subsequent installs/upgrades fail after initial install/upgrade - United States

Text:
TSM multiple upgrd inst 2nd second TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 If the initial install/upgrade of the Tivoli Storage Manager server completes but subsequent steps fail in that initial install/upgrade, the next time the install/upgrade is run, it will fail due to the Tivoli Storage Manager server already being installed. 

DIAGNOSING THE PROBLEM
Under these circumstances, the de/<account>/de_trace.log file in the logs.zip file will show the following errors :
ACUDCI0015E Nothing to install for package with root IU [TSM Server] ...
ACUPRI0022E IUProcessor: dependencies check result status is 'false'. The checks for this change request did not pass.


RESOLVING THE PROBLEM
The logs from the first install/upgrade attempt will need to reviewed to see why it failed. The cause for the initial failure would be anything, so the resolution for that initial failure will not be documented in this document. 

 

Once the cause for the initial install/upgrade failure has been identified, you will need to remove the Tivoli Storage Manager server from the deployment engine. 


Use the output from the de_lsrootiu command to determine <UUID> and <discriminant> values.

Unix
/usr/ibm/common/acsi/bin/de_lsrootiu.sh 

Windows
x86
C:\Program Files\IBM\Common\acsi\bin\de_lsrootiu.cmd

x64
C:\Program Files (x86)\IBM\Common\acsi\bin\de_lsrootiu.cmd

Example: 

<instanceID>InstanceID[IU,TSM Server,mrid: http://w3.ibm.com/namespaces/2003/OS_componentTypes:Operating_System,6.2.3.0 ,C:\Program Files\Tivoli\TSM,1455DFB
8C163CA04F614156626DFF80A]</instanceID>
<UUID>1455DFB8C163CA04F614156626DFF80A</UUID>
<identityName>TSM Server</identityName>
<version>6.2.3.0</version>
<hostingEnv>mrid: http://w3.ibm.com/namespaces/2003/OS_componentTypes:Operating_System 
<discriminant>C:\Program Files\Tivoli\TSM</discriminant>
</iuInstance>
<iuInstance undoable="true" softwareLifeCycleStatus="Usable">

Once the UUID and the discriminant have been found, issue the following command to delete the server entry from the deployment engine:

DelRootIUnRelationships <UUID> <discriminant>

Example:

C:\Program Files (x86)\IBM\Common\acsi\bin\DelRootIUnRelationships
1455DFB8C163CA04F614156626DFF80A "C:\Program Files\Tivoli\TSM"
Root IU deleted successfully.


Once that is done, you should be able to re-run the install/upgrade. 

 

PRODUCT ALIAS/SYNONYM
 ADSM ITSM IBM Spectrum Protect