Title: IBM History table functional triggers - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 We have run into a performance issue and our DB team is requesting following information about the product and its change if done



We are using Oracle as our datastore. History table there are indexes which are functional based. Our DBA wanted to know if we change these functional indexes. MDM is using 40 function based indexes on this Oracle database. These function based indexes are putting a tremendous hit on the IO substem. A function based index will always perform a costly 50-50 index split. A traditional b-tree index will perform an efficient 90-10 index split. I would like to start by dropping the function based indexes on historical tables and recreate them as b-tree indexes.



The DESC in the following index makes it a function based index:

CREATE INDEX "MDMMGR"."IH2_PERSON" ON "MDMMGR"."H_PERSON"("H_CREATE_DT" DESC)



We would like to create this as a b-tree index like:

CREATE INDEX "MDMMGR"."IH2_PERSON" ON "MDMMGR"."H_PERSON"("H_CREATE_DT")



We have excessive ITL waits occurring on these indexes due to the 50-50 index split which can be very costly. A b-tree index on this column should be very efficient. I see a row getting created and at some point deleted. I see no updates to the row and especially H_CREATE_DT. Do we even need the index at all? What is IBM recommendation on this? 

ANSWER
The out of the box data model is what we know to work best with standard load in most environments. So the default one is what we recommend and test with. But all we really care for MDM is sending SQL, DDL etc and getting back results. If your DBA believes your system would perform better with different indexes, then you may try it out. We don't have a reason for why it won't work, but we haven't done any testing or review to confirm whether there will be a performance improvement. So you may try it in non prod environments and if the performance gains are realized, then ahead with production. 

We don't have recommendation on all possible permutations on all supported databases. Following link contains some settings where we do have a recommendation:
http://www-01.ibm.com/support/docview.wss?uid=swg21690339 [http://www-01.ibm.com/support/docview.wss?uid=swg21690339] 
In the newer releases, we added some more guidance for setting up Oracle: https://www.ibm.com/support/knowledgecenter/en/SSWSR9_11.6.0/com.ibm.swg.im.mdmhs.release.install.doc/Topics/preparing_oracle_for_installation.html [https://www.ibm.com/support/knowledgecenter/en/SSWSR9_11.6.0/com.ibm.swg.im.mdmhs.release.install.doc/Topics/preparing_oracle_for_installation.html]



PRODUCT ALIAS/SYNONYM
 MDM
MDM SE
MDM AE
MDS
PME
Master Data Management
Master Data Management Standard Edition
Master Data Management Advanced Edition
Master Data Service
Initiate
Probabilistic Matching Engine