Title: IBM Annotation and WebSphere extension - United States

Text:
annotation; websphere extension; deployment descriptor; resource reference; ref; 1260589; 75212487000 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote addresses a "java.lang.NullPointerException" error that happens when publishing an annotated ejb project in RationalÂ® Application Developer. 

CAUSE
 Error stack indicates the following 


Caused by: java.lang.NullPointerException
at com.ibm.ejs.csi.ResRefListImpl.findByName(ResRefListImpl.java:409)
at com.ibm.ejs.csi.ResRefListImpl.initializeIsolationLevel(ResRefListImpl.java:217)
at com.ibm.ejs.csi.ResRefListImpl.<init>(ResRefListImpl.java:139)
at com.ibm.ejs.container.BeanMetaData.populateEJBComponentMetaData(BeanMetaData.java:3031)
at com.ibm.ejs.container.BeanMetaData.completeInitialization(BeanMetaData.java:1685)
at com.ibm.ws.runtime.component.EJBContainerImpl.createBeanMetaData(EJBContainerImpl.java:1917)
at com.ibm.ws.runtime.component.EJBContainerImpl.processBean(EJBContainerImpl.java:1725)
at com.ibm.ws.runtime.component.EJBContainerImpl.install(EJBContainerImpl.java:2716)
at com.ibm.ws.runtime.component.EJBContainerImpl.start(EJBContainerImpl.java:3499)
at com.ibm.ws.runtime.component.ApplicationMgrImpl.start(ApplicationMgrImpl.java:1228)


Rational Application Developer has support for creating annotated ejb projects. 
Any section of the deployment descriptor that has been generated through annotated source can be maintained at a given point in time by either the annotations themselves or the deployment descriptor file, but not both. 
Annotated ejb projects cannot use Websphere extensions. If you create an annotated ejb project with resource reference and then use the Deployment Descriptor editor to add WebSphere extension like transaction, it will add entries to project/META-INF/ibm-ejb-jar-ext.xml. If you now switch back to annotation, the entries created are not removed and will cause publishing to fail on the server.


RESOLVING THE PROBLEM
Remove the entries from project/META-INF/ibm-ejb-jar-ext.xml. 

 





RELATED INFORMATION
#Disable tag set [http://publib.boulder.ibm.com/infocenter/rtnlhelp/v6r0m0/index.jsp?topic=/com.ibm.etools.wrd.annotation.doc/topics/tdisablingtagsets.html]






Cross Reference information Segment Product Component Platform Version Edition Software Development Rational Software Architect EJB Development