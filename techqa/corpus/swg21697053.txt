Title: IBM SiteProtector Central Alerting debug logging - United States

Text:
cas; central; alerting; system; logs; logging; sp; siteprotector TECHNOTE (FAQ)

QUESTION
 How do I generate debug Central Alerting system logs from the SiteProtector system? 

CAUSE
In many cases where there are issues or problems being reported with the operation and functionality of the Central Alerting system in SiteProtector, product support may instruct a customer to create these logs and submit them for support review.

ANSWER
Follow these instructions to generate and collect the logs:



 1. Gather exports of your Central Responses policies with the following steps:
    
     1. Open your SiteProtector Console.
        
        
     2. Go to Tools > Central Responses.
        
        
     3. For each section, please click the Export link in the very upper right corner of the window. Save the .xml files as the name of the relative sections.
        
        
    
    
 2. Turn up the Central Alerting Client log level with the following steps:
    
     1. Open Windows Services on the server on which your Event Collector is installed and stop the issDaemon service.
        
        
     2. Go the following directory:
        
        \Program Files\ISS\SiteProtector\Event Collector
        
        
     3. Open the current.policy file with a text editor such as Notepad and change the following line from:
        
        CAClientTraceLevel =L 1;
        
        to:
        
        CAClientTraceLevel =L 5;
        
        
     4. Verify the log file path is correct. For instance, if your Event Collector is in the C:\Program Files\ISS\SiteProtector\Event Collector path, the log file path should look like this:
        
        CAClientTracePath =S C:\Program Files\ISS\SiteProtector\Event Collector\Logs\cawrapper.log; 
        
        
     5. Change the following line from:
        
        EmTraceLevel =L 1;
        
        to:
        
        EmTraceLevel =L 5;
        
        
     6. Save the current.policy file.
        
        
     7. Start the issDaemon service.
        
        
    
    
 3. Turn up the Central Alerting Server log level with the following steps:
    
     1. Open Windows Services on the server on which the SiteProtector Application Server is installed.
        
        
     2. Stop the following services:
        
        SiteProtector Application Server Service
        SiteProtector Sensor Controller Service
        SiteProtector Web Server
        
        
     3. Navigate to the following directory:
        
        \Program Files\ISS\SiteProtector\JavaEE\Geronimo2.x.x\var\log
        
        
     4. Open the server-log4j.properties file with a text editor such as Notepad.
        
        
     5. Scroll to the bottom of the file and change the following line from:
        
        log4j.category.net.iss.rssp.cas=ERROR, CAS
        
        to:
        
        log4j.category.net.iss.rssp.cas=DEBUG, CAS
        
        
     6. Save the server-log4j.properties file.
        
        
     7. Restart the services that were stopped in step b.
        
        
    
    
 4. Replicate the error in question and then wait an additional 5 minutes.
    
    
 5. Add the following directories and files to a single compressed file:
    
    From SiteProtector
    The .xml file exports of the Central Responses policies.
    
    From the Application Server system
    \Program Files\ISS\SiteProtector\JavaEE\Geronimo2.x.x\var\log\
    
    From the Event Collector system
    \Program Files\ISS\SiteProtector\Event Collector\CAPolicy.xml
    \Program Files\ISS\SiteProtector\Event Collector\Logs
    
    
 6. Go through steps 2 and 3 and revert the logging settings to their default values. 
    
    
 7. Send the compressed file containing the logs to Support that uses Enhanced Customer Data Repository (ECuRep) [http://www.ibm.com/de/support/ecurep/index.html].





[/support/docview.wss?uid=swg21697053&aid=1] [https://ibm.biz/BdHdjw] [/support/docview.wss?uid=swg21697053&aid=2] [http://ibm.biz/InfraSecForumTechnote] [/support/docview.wss?uid=swg21697053&aid=3] [http://ibm.biz/SecSuptUTube] [/support/docview.wss?uid=swg21697053&aid=4] [http://ibm.biz/InfraSecFixes] [/support/docview.wss?uid=swg21697053&aid=5] [http://ibm.biz/FlexLicLogin] [/support/docview.wss?uid=swg21697053&aid=6] [http://ibm.biz/MyNotification] [/support/docview.wss?uid=swg21697053&aid=7] [http://ibm.biz/ContactSecSupport] 
RELATED INFORMATION
 A Spanish translation is available [http://www.ibm.com/support/docview.wss?uid=swg21701613]