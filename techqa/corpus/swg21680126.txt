Title: IBM IZE0106E error Forbidden when connecting CICS Explorer to the WUI server - United States

Text:
IZE0106E MSGZE0106E Forbidden 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 5655-M15 5655M15 ; 5655S9700 R660 660 R600 600 HCI6600 R670 670 R700 700 HCI6700 5655-S97 5655S97 ; 5655Y0400 R680 680 R800 800 HCI6800 R690 690 R900 900 HCI6900 5655-Y04 5655Y04 KIXINFO TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When you try to connect the CICS Explorer to your WUI Server, you receive message IZE0106E Connect failed with error "Forbidden" (xxxxx:port). You have established a CICSPlex SM Data Interface Connection and verified that the correct TCPIPHOSTNAME and TCPIPPORT are specified as defined in the WUI. You are using the IBM Explorer for z/OS V2.1. 

CAUSE
The Proxy server is preventing the connection.

DIAGNOSING THE PROBLEM
You have reviewed the WUI joblog and verified the following settings are correct: 

TCPIPHOSTNAME(nnn.nnn.nnn.nnn)
TCPIPPORT(1234)

And these are the settings that you used to define the CICSPlex SM Data Interface connection in the CICS Explorer. 

When you view the CICS Explorer trace file, you see the failure is a 403 Forbidden that is occurring on the connect() request out of CPSMConnection: 

> com.ibm.cics.sm.comm.cpsm.CPSMConnection.connect() [nnn.nnn.nnn.nnn, 1234, userid] > com.ibm.cics.sm.comm.cpsm.CPSMConnection.openConnection() 
[http://nnn.nnn.nnn.nnn:1234/CICSPlexSM/ENU1/userid/DATA/CONNECT,0] 

< com.ibm.cics.sm.comm.cpsm.CPSMConnection.openConnection()
[sun.net.www.protocol.http.HttpURLConnection:http://nnn.nnn.nnn.nnn:
1234/CICSPlexSM/ENU1/userid/DATA/CONNECT] 

- com.ibm.cics.sm.comm.cpsm.CPSMConnection.connect() [USERID=userid&RECONN=J] 

- com.ibm.cics.sm.comm.cpsm.CPSMConnection.connect() [403, Forbidden]


So you are connecting to the host using port 1234. As nothing appears to be configured incorrectly, the next thing you checked is the SystemSummary.txt file in the Explorer service data. There you notice the following proxy is set: http.nonProxyHosts=*.tcf*|172.*|<local>
http.proxyHost=nnnnnn.nnnnnnn.nnn
http.proxyPort=8080
http.proxySet=true
https.nonProxyHosts=*.tcf*|172.*|<local>
https.proxyHost=nnnnnn.nnnnnnn.nnn
https.proxyPort=8080
https.proxySet=true 
RESOLVING THE PROBLEM
A proxy can sometimes cause the Forbidden error to occur and prevent the connection so you can do one of two things: 

 

Disable the proxy within CICS Explorer 1. Click on Window > Preferences > General > Network Connections 

2. Select the Schema "HTTP" field in Proxy entries table. This will not select the check box but will highlight the line 

3. Click Clear > Apply > OK.
[/support/docview.wss?uid=swg21680126&aid=1] [/support/docview.wss?uid=swg21680126&aid=1]


Bypass the proxy settings within Internet Explorer (IE) 1. Go into your Tools > Internet Options > Connections > LAN Settings > Advanced (under "Proxy Server") 

2. Type the address(s) in the "Do not use proxy server for addresses beginning with:" box 

3. Click Clear > Apply > OK
[/support/docview.wss?uid=swg21680126&amp;aid=2]
A proxy bypass entry can begin with a protocol type, such as http://, https://, ftp:// or gopher://. If a protocol type is used, the exception entry applies only to requests for that protocol. Note that the protocol value is not case sensitive. Multiple entries should be separated by a semicolon.


In this instance, the second solution was used to successfully establish the connection in the CICS Explorer to the WUI server. This was accomplished by adding an asterisk (*) to the list of proxy server bypass exceptions within Internet Explorer. Afterwards, the proxy settings appear as follows with the asterisk before "<local>" in the SystemSummary.txt file: http.nonProxyHosts=*.tcf*|172.*|*<local>
http.proxyHost=nnnnnn.nnnnnnn.nnn
http.proxyPort=8080
http.proxySet=true
https.nonProxyHosts=*.tcf*|172.*|*<local>
https.proxyHost=nnnnnn.nnnnnnn.nnn
https.proxyPort=8080
https.proxySet=true  


Cross reference information Segment Product Component Platform Version Edition Host Transaction Processing CICS Transaction Server Explorer z/OS 5.2, 5.1, 4.2, 4.1, 3.2, 3.1 
PRODUCT ALIAS/SYNONYM
 CICS/TS CICS TS CICS Transaction Server