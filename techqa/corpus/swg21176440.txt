Title: IBM MQJMS2005 JMS client unable to connect after enabling SSL - United States

Text:
mqminfo security sec client channel java config configuration setup MQJMS2005 MQJMS2005 2397 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The JMS communication between your WebSphere Application Server JMS Client and WebSphere MQ server is unsuccessful after you enable SSL. It works without SSL. 

SYMPTOM
 In your application server logs, you see error MQJMS2005:failed to create MQQueueManager for "<hostname>:<QM_name> Reason code for MQ communication failure is 2397. The trace states that there is an "unknown certificate". 

2397 0x0000095d MQRC_JSSE_ERROR In your application server logs, you see error MQJMS2005:failed to create MQQueueManager for "<hostname>:<QM_name> Reason code for MQ communication failure is 2397. The trace states that there is an "unknown certificate". 

2397 0x0000095d MQRC_JSSE_ERROR 


CAUSE
In the parameters used to specify the SSL keyStore and the trustStore, the file-path and the password of the SSL certificates were specified within quotes "". 

RESOLVING THE PROBLEM
In the parameters used to specify the SSL keyStore and the trustStore, the file-path and the password of the SSL certificates should not be given within quotes "". 


The 4 parameters used for communication are: 

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 



Also, the SSLPEERNAME specified in the custom properties of the WebSphere MQ QCF or TCF definition should contain the complete Distinguished Name of the certificate.  

Additional information 

To successfully connect using SSL, the JSSE TrustStore must be set up with Certificate Authority root certificates, from which the certificate presented by the queue manager can be authenticated. Similarly, if SSLClientAuth on the SVRCONN channel has been set to MQSSL_CLIENT_AUTH_REQUIRED, the JSSE keyStore must contain an identifying certificate that is trusted by the queue manager.

 

PRODUCT ALIAS/SYNONYM
 WebSphere MQ WMQ MQSeries