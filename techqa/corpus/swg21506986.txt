Title: IBM WTRN0078E error when using SQL Server 2008 on Windows 2008 Cluster with DTC - United States

Text:
BPM; XA TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You might run into an issue with the Microsoft Distributed Transaction Coordinator (MS DTC) when you run IBM Business Process Manager 7.5 JDBC XA transactions against Microsoft SQL Server 2008 on a Windows Server 2008 cluster. 

SYMPTOM
The error in the SystemOut.log file might look similar to this text: 

WTRN0078E: An attempt by the transaction manager to call start on a transactional resource has resulted in an error. The error code was XAER_RMERR. The exception stack trace follows: javax.transaction.xa.XAException: com.microsoft.sqlserver.jdbc.SQLServerException: Failed to enlist. Error: "Import of Microsoft Distributed Transaction Coordinator (MS DTC) transaction failed: 0x8004d00e(XACT_E_NOTRANSACTION)."

CAUSE
The problem is related to Microsoft SQL Server databases on Microsoft Windows Server 2008 because previous versions of the Windows Server Edition did only have one DTC Service in a cluster. With Windows Server 2008, each member can have its own DTC Service. This difference is why either the application requesting a transaction has to specify which DTC to use or you have to create a mapping, which is the case for all Javaâ„¢ Database Connectivity (JDBC)-based transactions.



RESOLVING THE PROBLEM
Follow the instructions for the Microsoft operating system and the database product to solve this issue. Good starting points for the Microsoft DTC configuration are the following documents: 

 * Understanding MS DTC Resources in Windows Server 2008 Failover Clusters [http://technet.microsoft.com/en-us/library/cc730992(WS.10).aspx] 
 * Map Clustered MS DTC Resources [http://technet.microsoft.com/en-us/library/cc742483(WS.10).aspx]

RELATED INFORMATION
#Data access problems for Microsoft SQL Server data src [http://publib.boulder.ibm.com/infocenter/wasinfo/fep/index.jsp?topic=/com.ibm.websphere.nd.multiplatform.doc/info/ae/ae/rtrb_dsaccess4.html]






Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Process Manager Express Windows 7.5 Business Integration IBM Business Process Manager Standard Windows 7.5 
PRODUCT ALIAS/SYNONYM
 BPM