Title: IBM Detect data provider malfunctioning - United States

Text:
aixdataprovider hmcdataprovider cecdataprovider data provider missing failing stopped running spmi rsi performance object status process crash crashed coredump shared memory corruption processes detail TECHNOTE (FAQ)

QUESTION
 How to detect that an ITM System P agent data provider has stopped running? 

CAUSE
There can be several causes for the data provider process (aixDataProvider-61, cecDataProvider or hmcDataProvider) to fail from running correctly: SPMI shared memory corruption, coredump, known ITM or AIX bugs, ...

ANSWER
There are several possible options:


- You can create a situation for the "Processes Detail" attribute group (AIX Premium, VIOS Premium or HMC Base agent) that checks for the missing process. 


- You can monitor the update of the file khdexp.cfg, but this will only work if data can be successfully exported to the warehouse. When the data provider is running fine, but the warehouse 
(or warehouse proxy) is not running or not reachable, khdexp.cfg will not be updated neither. So, this will cause an event for khdexp.cfg even though the data provider is running. File monitoring is not possible with the System P agents, so you will need to use the UNIX OS agent to achieve this. 

 

- You can check for "Spmi" or "RSi" errors in the logs, but this would require an additional agent (Unix Logs agent, Log File agent or an Agent Builder agent). 

 

- You can create a situation that checks the Performance Object Status of its attribute groups.
For example, for the AIX Premium agent this would be:
( #'KPXPOBJST.ERRCODE' != NO ERROR) 

This will trigger as soon as one or more attribute groups are in error status and not collecting data, due to a failing data provider.




PRODUCT ALIAS/SYNONYM
 ITM Tivoli Monitoring aix vios premium cec hmc base agent agents system p agents