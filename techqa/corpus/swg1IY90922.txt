Title: IBM IY90922: WEBSEAL RETURN 500 DURING LARGE POST IF JCT SERVER SENDS 401 - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Customer is using TAM webseal 6.0.0.3.  Customer observes a 500
   error "cannot write to socket" from webseal, during POST
   request. The issue is while webseal sends a large POST to
   backend server (ie approx 12-14k), the backend server sends a
   401 response, BEFORE webseal finishes sending the entire POST.
   In a working scenario the POST request is approx. 4k.
   
   End user is expecting a BA challenge, 401 response from backend
   server. Therefore, the 401 is expected and is handled correctly
   during working scenario that uses 4k of POST data. Customer uses
   'ignore' option for webseal junction.
   
   The reason for the non-working scenario causing a 500, is due
   the fact of the backend server sending the 401 BEFORE Webseal
   finishs the POST request. This can be seen in the network trace.
   
   Also it's a violation of RFC 2616 section 8.2.2 that we don't
   watch for an error coming from the server while transmitting to
   the server.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *   When sending a large POST to the backend server
   , WebSEAL returns an HTTP 500 error ("Server Error") with WebSEA
   L error code 0x38ad5420 and error text "DPWIV1056E" Could not wr
   ite to socket".
   
   
    
   
   

PROBLEM CONCLUSION
 *   The fix for this APAR is expected to be cont
   ained in the following maintenance delivery vehicles:
   | LA interim fix | 6.0.0-TIV-AWS-LA0006
   | fixpack | 6.0.0-TIV-AWS-FP0007
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY90922
   
   
 * REPORTED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * REPORTED COMPONENT ID
   5724C0811
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-10-20
   
   
 * CLOSED DATE
   2007-02-07
   
   
 * LAST MODIFIED DATE
   2007-02-07
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    IY91322
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * FIXED COMPONENT ID
   5724C0811
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSN
   UP