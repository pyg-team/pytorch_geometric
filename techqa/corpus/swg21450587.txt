Title: IBM SQL3125W or SQL3117W error when importing a delimited ascii file generated by the DB2AUDIT delasc extract command - United States

Text:
db2audit; extract; import; load; delimited; ascii; SQL3125W; SQL3117W; -3125; -3117 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 SQL3125W or SQL3117W error when importing a delimited ascii file generated by the DB2AUDIT delasc extract command 

SYMPTOM
Using the IMPORT or LOAD command with a delimited ascii file generated by a DB2AUDIT extract command fails with errors similar to: 


SQL3125W The character data in row "2" and column "2" was truncated because
the data is longer than the target database column. 

SQL3117W The field value in row "2" and column "10" cannot be converted to a
SMALLINT value. A null was loaded. 

 

These errors can occur when importing any of the extract files: 

 * AUDIT.DEL 
 * CHECKING.DEL 
 * OBJMAINT.DEL 
 * SECMAINT.DEL 
 * SYSADMIN.DEL 
 * VALIDATE.DEL 
 * CONTEXT.DEL


CAUSE
The cause of these IMPORT/LOAD errors is in the data being imported. The column causing the problem will be either the Local Transaction ID or the Global Transaction ID. These two columns contain FOR BIT DATA and the value can contain 0x'0A'. This is the 'newline' character, and the IMPORT or LOAD command will interpret it as the end of the current record. This means that a single row of data to be imported will be treated as two separate rows. The attempt to import this second row will generate the error messages. 
All of the delimited Audit extract files contain these two columns.


DIAGNOSING THE PROBLEM
Opening the delimited ascii file in a text editor (EXECUTE.DEL, for example) will show that the record is split over two lines.



RESOLVING THE PROBLEM
The problem can be resolved by adding the MODIFIED BY DELPRIORITYCHAR parameter to the IMPORT or LOAD statement. For example: 

 * 
 * 

RELATED INFORMATION
 IMPORT [http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.admin.cmd.doc/doc/r0008304.html]
AUDIT record layout for EXECUTE events [http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/topic/com.ibm.db2.luw.admin.sec.doc/doc/r0051526.html]
LOAD [http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=/com.ibm.db2.luw.admin.sec.doc/doc/r0051526.html]