Title: IBM how to check the disk AEK keys - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Mako can use AEK security disks. How can I check the AEK settings? 

ANSWER
As ROOT user, run the following command to check the AEK settings 

- List the installed AEK keys
# /nz/kit/bin/adm/nzkey list
hostkey1
hostkey2
spuaek

- check the status of a key
# /nz/kit/bin/adm/nzkey check -spukey
AEK feature is enabled
AEK key operations are not in progress
SPU AEK status:
Unused = 0
Unset = 0
Old = 0
New = 1152
Error = 0
Error(Old) = 0
Fatal = 0
Repair = 0
------------------
Total disks = 1152 

- Write the AEK key to a file (spuaek key in this case)
# /nz/kit/bin/adm/nzkey extract -label spuaek -file /nz/export/tools/spuaek.file
Key written to file 

- Check detailed AEK status 
1. login a SPU
2. issue the following command (use the same file name you wrote the AEK to)
spu0101# nzsed --encl 1 --slot 1 --keyFile1 /var/opt/nz/host/tools/spuaek.file --getBandInfo
BAND MASTER 0:
name: Global_Range
rangeStart: 0
rangeLength: 0
readLockEnabled: 1
writeLockEnabled: 1
readLocked: 0
writeLocked: 0
lockOnReset: [ POWER_CYCLE ]
activeKey: [0000]: 00 00 08 06 00 00 00 01
BAND MASTER 1:
name: Band1
rangeStart: 0
rangeLength: 1172123568
readLockEnabled: 1
writeLockEnabled: 1
readLocked: 0
writeLocked: 0
lockOnReset: [ POWER_CYCLE ]
activeKey: [0000]: 00 00 08 06 00 00 00 02
spu0101#