Title: IBM 'FNRCD0002E: DB_BAD_DATABASE_VENDOR' error message received when running an Enterprise Content Management (ECM) application after upgrading from IBM Business Process Manager (BPM) V8.5.5.0 to IBM Business Process Manager (BPM) V8.5.6.0 - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After upgrading from IBM Business Process Manager (BPM) V8.5.5.0 to IBM Business Process Manager (BPM) V8.5.6.0, an error message is shown at server startup in the SystemOut.log and the IBM BPM system is not functional. 

SYMPTOM
You may receive an error message similar to this one: 

FNRCD0002E: DB_BAD_DATABASE_VENDOR: The database vendor cannot be determined from the JNDI data source or is an unsupported type. Check the data source and verify the database connection. The database configuration has been detected as DB2 for z/OS, yet data source jdbc/ECMDB is missing required properties. Ensure that both zOSDatabaseName and zOSDefaultSTOGROUP custom properties have been added to the data sources or to the Engine.properties file in the appropriate format (e.g., myDataSource.zOSDatabseName=xxx) for both the XA and non-XA data sources.


CAUSE
The IBM BPM document store does not properly read some database specific properties for running with DB2 for z/OS.


RESOLVING THE PROBLEM
As a workaround, the zOS-specific properties can be set directly on the data sources in WebSphere Application Server (WAS) as follows: 


1. From the Admin Console, expand Resources, then JDBC and Data Sources.

2. From the Scope drop down menu, select the cluster that is the one with the Application capability within the IBM BPM deployment environment.

3. For both jdbc/ECMDB and jdbc/ECMDBXA, click on the name, then Custom properties.

4. Click New... and enter the Name and Value for the following two properties (both from the database with the EmbeddedECM database capability): 

 * zOSDatabaseName which is the databaseName property from the BPMconfig properties file 
 * zOSDefaultSTOGROUP which is the stogrp property from the BPMconfig properties file 


5. Save your changes, sync nodes, and restart the application cluster.  


Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Business Process Manager Standard AIX, Linux, Solaris, Windows 8.5.6, 8.5.5 
PRODUCT ALIAS/SYNONYM
 BPM