Title: IBM IZ09849: CONNECTION IDLE TIME THRESHOLD VALUE MAY WRAP INTERNALLY AND END UP WITH UNPREDICTABLE VALUE - United States

Text:
AIX  FIXES ARE AVAILABLE
DB2 Version 9.5 Fix Pack 3b for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24022591]
DB2 Version 9.5 Fix Pack 1 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24018907]
DB2 Version 9.5 Fix Pack 2a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24020633]
DB2 Version 9.5 Fix Pack 2 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24020242]
DB2 Version 9.5 Fix Pack 4 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24023213]
DB2 Version 9.5 Fix Pack 3a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24021838]
DB2 Version 9.5 Fix Pack 3 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24021563]
DB2 Version 9.5 Fix Pack 4a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24024215]
DB2 Version 9.5 Fix Pack 5 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24025421]
DB2 Version 9.5 Fix Pack 6a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24027747]
DB2 Version 9.5 Fix Pack 7 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24028731]
DB2 Version 9.5 Fix Pack 8 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24030302]
DB2 Version 9.5 Fix Pack 9 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24032087]
DB2 Version 9.5 Fix Pack 10 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24033308]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The connection idle time threshold maximum value was allowed up
   to max int seconds which is a very long time (over 60 years).
   It turns out when computing the timeout value that will enforce
   the idle time, lower DB2 layers will multiply the given value
   (in seconds) by 1000 to get milliseconds, because the DB2 API
   enforcing the timeout uses milliseconds. The problem lays in
   the fact that the destination variable is still an integer, and
   since the incoming value may already be very large, the final
   outcome may result in the value wrapping and some unpredictable
   value being stored for the timeout.
   Documentation has been updated to notify customers that a new
   maximum for connection idle time is now in effect and that new
   maximum has been chosen in such a manner that even when
   multiplied by 1000, the final value still doesn't overflow an
   integer. It should be noted that the old maximum was not very
   reasonnable anyway, as no customer is expected to set a maximum
   connection idle time value to several years or decades. This
   was found through boundary testing only.
   The new maximum value for connection idle time is now much
   lower than the previous maximum (over 60 years) but still very
   reasonnable at over 20 days. The DB2 parser will now return an
   out of range error for values exceeding this new maximum.
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  see problem description
   
   
    
   
   

PROBLEM CONCLUSION
 *  First fixed in DB2 UDB Version 9.5, FixPak 1
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ09849
   
   
 * REPORTED COMPONENT NAME
   DB2 UDB ESE AIX
   
   
 * REPORTED COMPONENT ID
   5765F4100
   
   
 * REPORTED RELEASE
   950
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-12-03
   
   
 * CLOSED DATE
   2008-05-02
   
   
 * LAST MODIFIED DATE
   2008-05-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 UDB ESE AIX
   
   
 * FIXED COMPONENT ID
   5765F4100
   
   

APPLICABLE COMPONENT LEVELS
 * R910 PSY
   UP
   
   
 * R950 PSY
   UP