Title: IBM PM67772: Rational Developer for System z Opening program source returns CRRZI0096E Dynamic allocation failed RC=4 RSN=1104 - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Abstract: Rational Developer for System z 8.0.3.2 (RDz) Opening
   program source in RDz editor returns CRRZI0096E Dynamic
   allocation failed Return code=4 Reason code=1104/450(hex)
   CRRZI0336E
   
   This error indicates that a request caused the limit of
   concurrent allocations to be exceeded. (dsname allocation)
   
   
   This problem appears following the RDz host software upgrade to
   8.0.3.2/ UK77465.
   
   Problem is related to the way RDz is allocating SYSLIB files
   looking for dependencies/copybooks/includes. In the RDz user
   ffsget.log, several of the following errors are found:
   OPEN_INPUT failed, rc=4, rsn=0, msg=(64).  When copy member is
   not found in SYSLIB, there is no FREE of the allocated DD.  When
   the copy member is found, the FREE is done.  If the SYSLIB in
   the property group specifies several libraries, this TIOT full
   condition can occur quite frequently.  RDz server on the
   host side.
   
   
    
   
   

LOCAL FIX
 *  No local fix available.  RDz Server needs to be recycled to
   clear this situation.
   The occurrence of the problem can be postponed by increasing the
   TIOT size. TIOT size is specified in the ALLOCxx member of
   SYS1.PARMLIB or use an operator command such as
   /SETALLOC TIOT,SIZE=64
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: 01.All RDz users                             *
   *                 02.All RDz users                             *
   *                 03.All RDz users                             *
   *                 04.all users using LPEX editor to open data  *
   *                    files                                     *
   *                 05.RDz support                               *
   *                 06.RDz support                               *
   *                 07.all RDz users                             *
   *                 08.All RDz users                             *
   *                 09.All RDz users                             *
   *                 10.All RDz users                             *
   ****************************************************************
   * PROBLEM DESCRIPTION: 01.RDz returns CRRZI0096E Dynamic       *
   *                         allocation failed Return code=4      *
   *                         Reason code=1104/450(hex).           *
   *                      02.Enhancement to improve population of *
   *                         data set statistics                  *
   *                      03.IVPs do not work normally via RDz    *
   *                         console command.                     *
   *                      04.RDz server may raise an out of       *
   *                         memory error when trying to open an  *
   *                         MVS member in LPEX editor if it      *
   *                         contains hexadecimal characters      *
   *                         which cannot be round tripped from   *
   *                         the host code page to the client     *
   *                         code page and back.                  *
   *                      05.Enhancement that shows build dates   *
   *                         of key components                    *
   *                      06.Removing PsssTicket IVP from IVP=IVP *
   *                         startup                              *
   *                      07.Enhancement to improve population of *
   *                         data set statistics                  *
   *                      08.There are invalid processing in      *
   *                         checking SAF profiles.               *
   *                      09.Remote z/OS Search needs many memory *
   *                         and causes Out Of Memory issue.      *
   *                      10.Abend occurred in server process     *
   *                         when more connections created        *
   *                         than Server can handle.              *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   01.RDz returns CRRZI0096E Dynamic allocation failed Return
      code=4 Reason code=1104/450(hex) in editing cobol program
      which has lots of copybooks.
   02.Enhancement to improve population of data set statistics.
      To enable it,
      * uncomment the new RSE_JAVAOPTS RSE_DSICALL=TSO variable in
        rsed.envvars.
      * ensure that FEK.SFEKLOAD is in LINKLIST or STEPLIB
        (rsed,envvars)
      * ensure that the REXX runtime library (REXX.*.SEAGLPA) is in
        LPA or LINKLIST
   03.Each IVP program must run in a new thread since security
      ownership is changed to run IVP.
      But some IVPs are executed on the existing Monitor thread.
   04.RDz server may raise an out of memory error when trying to
      open an MVS member in LPEX editor if it contains hexadecimal
      characters which cannot be round tripped from the host code
      page to the client code page and back.
      An error similar to the following can be found in rsecomm.log
   
     ERROR MVSDownloadHandler: java.lang.OutOfMemoryError
     java.lang.OutOfMemoryError
     at java.lang.StringBuffer.ensureCapacityImpl StringBuffer.java
     at java.lang.StringBuffer.append(StringBuffer.java:131)
     at com.ibm.ftt.rse.mvs.util.FFSResponse.suppressNewLine FFSRes
     at com.ibm.ftt.rse.mvs.util.FFSResponse.getResultsForXML FFSRe
     at com.ibm.ftt.rse.mvs.server.miners.MVSFileSystemMiner.getFil
   
      If a heapdump is generated, it will show a significant amount
      of memory within a StringBuffer in MVSDownloadHandler.
   05.Enhancement that shows build dates of key components
   06.When RSE daemon is started with option IVP=IVP, then several
      IVP will be executed, including the PassTicket IVP. This IVP
      will fail if the RSE daemon is using a protected userid (no
      password activity allowed), or shares the UID with a
      protected userid.
      Since RDz has an operator command
      (F rsed,APPL=IVP PASSTICKET,userid) to test PassTicket setup
      without the mentioned limitation, there is no need to keep
      the automated invocation around.
   07.ISPF Client Gateway sometimes occurs error when listing data
      sets for remote search.
   08.- When an invalid PTC folder is specified in
        pushtoclient.properties, the server will hang when the
        group capability is specified in pushtoclient.properties.
      - When saf is specified for reject.config.updates and
        reject.product.updates, the saf profile check is not done
        normally.
   09.Remote z/OS Search memory optimization
   10.Abend occurred in server process when more connections
      created than Server can handle.
   
   
    
   
   

PROBLEM CONCLUSION
 *  01.The openInputFile routine will return non-zero value when the
      copybook does not exist in the specified PDS. Even if the
      open action fails, the release of the dynamic allocation is
      needed.
   02.Enhancement to improve population of data set statistics
   03.Now, each IVP will be executed in a newly created thread, and
      the thread will be terminated after the IVP is finished.
   04.The problem has been resolved.
   05.FEKLOGS can now show build dates of key components
      (DD SYSTSPRT)
   06.Remove PsssTicket IVP from IVP=IVP startup and leave operator
      command (F rsed,APPL=IVP PASSTICKET,userid) to test
      PassTicket setup.
   07.Enhancement to improve population of data set statistics.
      When uncomment new RSE_DSICALL=TSO RSE_JAVAOPTS variable in
      rsed.envvars, ISPF client gateway is not used for listing
      data sets.
   08.Now, PTC-related SAF checks will be processed normally.
   09.- Unnecessary data model for data set is not created
      - Check whether if memory is enough is added to processing
        data sets
   10.Now, RDz Daemon will check if the current maxthreads and
      maxthreadtasks are below the system limit of maxthreads and
      maxthreadtasks respectively.
      If these current values plus 60 exceeds each system limit,
      a new logon request will not be assigned to that process.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM67772
   
   
 * REPORTED COMPONENT NAME
   RD/Z HOST
   
   
 * REPORTED COMPONENT ID
   5724T0723
   
   
 * REPORTED RELEASE
   801
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-06-27
   
   
 * CLOSED DATE
   2012-09-04
   
   
 * LAST MODIFIED DATE
   2012-09-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  FEK#LVL# FEKDSI   FEKFBLD  FEKFCMSG FEKFCORE
   FEKFCOR6 FEKFDIR  FEKFDIR6 FEKFENVR FEKFJVM  FEKFMAIN FEKFMAI6
   FEKFMINE FEKFOMVS FEKFRIVP FEKFRSES FEKFT005 FEKFUTIL FEKFZOS
   FEKLOGR  FEKLOGS  FEKRSEDE
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   RD/Z HOST
   
   
 * FIXED COMPONENT ID
   5724T0723
   
   

APPLICABLE COMPONENT LEVELS
 * R801 PSY UK81498 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK81498]
   UP12/09/05 I 1000
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.