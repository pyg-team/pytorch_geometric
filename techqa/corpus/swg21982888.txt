Title: IBM IQQG0188E The constructor [ContentCollector4Email] is not initialized properly - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IQQG0188E The constructor [ContentCollector4Email] is not initialized properly. How to troubleshoot this error? 

SYMPTOM
The following error is reported repeatedly in the p8_server_error.log: 

 * 
 * 2016-01-01T11:26:59.803Z 1B471B47 CBR FNRCB0040E - ERROR Object Id: {EAC867B3-6779-58C7-3EE6-6EE9B58E3F5F} ObjectStore Id: {892D8364-A692-4FDA-B2F6-319B159E289A} failed to index into /index/ICCEmail/ICCEmail_Document_20160503091254_F2E934F991D740C4B1BFE247C0A2C136 path /index/ICCEmail/ICCEmail_Document_20160503091254_F2E934F991D740C4B1BFE247C0A2C136/data\ncom.filenet.api.exception.EngineRuntimeException: 
 * 
 * 
 * FNRCB0040E: CBR_TS_INDEXING_FAILED_EXCEPTION: An IBM Content Search Services server could not complete an indexing operation while accessing the /index/ICCEmail/ICCEmail_Document_20160503091254_F2E934F991D740C4B1BFE247C0A2C136 index. The text for a Content Engine object in batch "52,835" could not be indexed for the following reason: 
 * 
 * 
 * "
 * IQQG0188E The constructor [ContentCollector4Email] is not initialized properly
 * .". See the p8_server_error.log file for the error message stack that includes this error for more information on the specific cause of the error. For information about the location of this log, see "Viewing the IBM FileNet P8 log files" in the IBM FileNet P8 information center. If you cannot determine the specific cause of the error, contact IBM Software Support.


Similar error message can also been seen in the CSS default0.log or trace0.log. 
CAUSE
Starting with IBM Content Collector (ICC) V3.0, the Content Search Services Support (CSSS) configuration is stored in the configuration store. If CSS cannot access this configuration data during CSS starts up, email may not be indexed properly and cannot be searched. To access the configuration store, the ICC Web Application service must be running. 


ENVIRONMENT
IBM Content Collector for Email 

IBM FileNet P8 repository with Content Search Services


DIAGNOSING THE PROBLEM
During the troubleshooting process, you will need the following virtual status URL several times. The output of the URL indicates whether you can reach the ICC configuration web service. 

Enter the URL in a browser. Replace <ICC_server_hostname> with your actual ICC server hostname. 

 * https://
 * <ICC_server_hostname>
 * :11443/AFUConfig/Configuration?type=virtual.status
 * 


If you can successfully reach the ICC configuration web service, you should see an XML output similar to the following:  * <components>
 * 
 * <server>
 * ICC_server_hostname
 * </server>
 * 
 * </components>
 * 


If you fail to reach the ICC configuration web service, you will get a page cannot be displayed error. 

RESOLVING THE PROBLEM
To troubleshoot the problem, check the following items step by step: 

ICC configuration web service is available: 

 * If the ICC Web Application service is not already running, start the service. 
 * On the ICC server, enter the virtual status URL and verify that you get the expected XML output. 
 * If this step fails, you have an issue with the ICC Web Application. You will need to resolve that issue before proceeding to the next step.


ICC configuration web service is accessible from CSS server:  * On the CSS server, enter the virtual status URL and verify that you get the expected XML output. 
 * If this step fails, use ping <ICC_server_hostname> to verify that you can first reach the ICC server from the CSS server. 
 * Next, also check if there is any firewall blocking the default port 11443. 
 * Proceed to next step after you verify the virtual status URL works fine on the CSS server.


CSS service can contact the configuration store during startup:  * Restart the CSS service. 
 * Examine the CSS log file if there are any errors. 
   trace0.log or default0.log always have the latest entries after you restart the service. 
   The location of the log file is, for example, ContentSearchServices\CSSServer\log\trace0.log 
 * If there are still issues contacting the ICC configuration web service, you may see the following error in the log file:  * 
    * <record>
    * 
    * <date>2016-05-06T15:08:59</date>
    * 
    * <millis>1462572539784</millis>
    * 
    * <sequence>6</sequence>
    * 
    * <logger>com.ibm.afu.configuration.client</logger>
    * 
    * <level>SEVERE</level>
    * 
    * <class>com.ibm.afu.configuration.client.RemoteConfigurationManager</class>
    * 
    * <method>getConfiguration</method>
    * 
    * <thread>0</thread>
    * 
    * <message>The number of maximum retries has exceeded</message>
    * 
    * </record>
    * 
   
   
 * Check previous steps if any of them are failing. 
 * Contact IBM support if you need further assistance to resolve this error. 
 * If there are no errors in the log, proceed with the next step to re-index documents which failed 


Reindex documents which previously failed:  * Depending on the number of problem documents you have, you can re-index and verify one document before re-indexing all of them. 
 * Documents can be reindexed via the FileNet Enterprise Manager (FEM) or Application Console for Content Engine (ACCE ). Verify that the index request is completed and no further errors reported.


To reindex one document:  *  If using FEM, search for the test document, right-click and select All Tasks > Index for Content Search. 
   Expand the object store name and select Indexing Queue. If using ACCE, search for the test document. Open the document in a new tab, go to Actions > Index > Index for Content Search. 
   Expand the object store name, select Administrative > Indexing Queue. If there is an error during indexing, a return code will be set to the Indexing Failure Code property for that document. If indexing failure code is 0, it means indexing is successful. Proceed to the next step to re-index all documents that have previously failed. 

To re-index all documents that have previously failed:  *  If using FEM, search for all documents where Indexing Failure Code equals to 1. In the Actions tab, select the check box for Index for Content Search. 
   Right-click on the object store name, select All Tasks > Index Job Management. Monitor the progress of the new index job created. If using ACCE, search for all documents where Indexing Failure Code equals to 1. In the Bulk Actions tab, select the check box for Index for Content Search.
   Expand the object store name, select Administrative > Index Job Manager. Monitor the progress of the new index job created. 

Additional considerations:  * A non-zero indexing failure code sometimes does not mean there is a problem in the environment. For example, an email that contains a password-protected or encrypted attachment may result in a non-zero return code. 
   Refer to this page of the documentation to determine if you need to be concerned of the error code:
   Content Search Services Support document processing errors [http://www.ibm.com/support/knowledgecenter/SSAE9L_4.0.1/com.ibm.content.collector.doc_kc/p8_indexing/r_afu_css_document_processing_errors.dita] 
 * If you regularly restart servers as part of your maintenance routine, consider starting the ICC server before the CSS server. The ICC Web Application service should also set to start Automatic.