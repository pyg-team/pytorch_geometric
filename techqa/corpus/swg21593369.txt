Title: IBM Collecting Data: Configuring Security for WebSphere Portal - United States

Text:
Collecting Data; Collecting Data; Collecting Data; MustGather; MustGather; MustGather; MustGatherDocument; PORTSE); security; LDAP; user registry; configuration; configuring security; federated; standalone RECOMMENDED RESOURCES

ABSTRACT
 Collecting troubleshooting data for Security configuration issues with IBM® WebSphere® Portal expedites time to resolution by enabling IBM Support to provide informed problem analysis. 

CONTENT
If you have already contacted IBM Support and must collect data to determine the nature of a problem in WebSphere Portal, review the information below for the available methods of data collection. Otherwise, review Collecting Data: Read first for WebSphere Portal. [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21672901] 

Collecting Security Configuration information
Security configuration issues can include:
* Enabling standalone ldap user registry (wp-modify-ldap-security)
* Enabling federated ldap user registry (wp-create-ldap)
* Validation tasks (validate-federated-ldap, validate-standalone-ldap)
* Database User Registry (wp-create-db)
* Change WebSphere Application Server admin user (wp-change-was-admin-user) or Websphere Portal admin user (wp-change-portal-admin-user) 
* Other configuration tasks related to security such as updating realms, base entries, entity types, etc.
* Configuration Wizard

Note: If you are using an LDAP server, send in an LDIF [https://tools.ietf.org/html/rfc2849] export of the problematic user(s) and/or group(s). You can use the ldapsearch [http://www-01.ibm.com/support/docview.wss?rs=203&ca=portall2&uid=swg21113384] tool to obtain the LDIFs or request them from your LDAP administrator.

Collecting and submitting logs and configuration data 

1. Reproduce the problem. 

2. Run the following script from <wp_profile>/PortalServer/bin to collect the data: 

 * Windows: wpcollector.bat 
 * Linux/Unix/i: wpcollector.sh


Note: If you wish to use wpcollector to FTP the files to IBM Support, include the -Dpmr=<pmr_number> parameter to indicate the relevant PMR #. For example: wpcollector.bat -Dpmr=11111,222,333 

For a clustered environment, please also collect files for the Deployment Manager profile: use the -Ddmgr.root=<dmgr_root> parameter either alone or in conjunction with -Dpmr=<pmr_number> 

Note: If you are manually submitting the files from both the WebSphere Portal server and the Deployment manager, please ensure that IBM Support can differentiate between the two sets of files. 

3. If you did not FTP your files via wpcollector, locate the "wp.mustgather.zip" file or the "<pmr #>-wp.mustgather-timestamp.zip" file in <wp_profile_root> [https://idoc2.swg.usma.ibm.com/portal/topic/com.ibm.wp.ent.doc_v70/reference/wpsdirstr.html#wpsdirstr__wp_profile_root]/filesForAutoPD/. Send the files to IBM Support by using the instructions outlined in Exchanging information with IBM Technical Support for problem determination [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571]. Note: When sending in logs for review, include any relevant screenshots, timestamps, userIds, etc. in order to expedite analysis of the issue. 

Related Information 

 * IBM Support Portal: WebSphere Portal Troubleshooting [http://www.ibm.com/support/entry/portal/Troubleshooting/Software/WebSphere/WebSphere_Portal] [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21201571] 
 * WebSphere Portal Knowledge Center: Troubleshooting [http://www-01.ibm.com/support/knowledgecenter/SSHRKX_8.5.0/mp/trouble/troubleshooting.dita] 
 * Collecting Data: Read first for WebSphere Portal [http://www.ibm.com/support/docview.wss?rs=688&uid=swg21672901]