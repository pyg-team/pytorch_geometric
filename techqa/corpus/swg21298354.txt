Title: IBM Installing embeded WAS Refresh Pack2, embeded-WAS Fixpack13 and Java SDK Fixpack11 from WPG 6.0 Fixpack5 or above on AIX - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 When performing HUB installation from WebSphere Partner Gateway 6.0 Fixpack 5 or above failure of embeded WebSphere Application Server (WAS) Refresh Pack2, embeded-WAS Fixpack13 and Java SDK Fixpack11 may occur.


CAUSE
In this particular incident the /tmp directory did not have enough diskspace to install embeded WAS Refresh Pack2 during WPG 6.0 Fixpack HUB installation, error below from <WPG installed dir>/was/logs/update/6.0-WS-WASEmbeded-AIX-RP0000002.install:
(Feb 21, 2008 3:29:53 PM), UpdateInstaller, 
com.ibm.ws.install.ni.ismp.actions.MaintenancePrereqCheckAction, err, 
CWUPI0025E: 
There is insufficient free disk space on the system: 

/opt/wpg/was: 
Required: 400 MB 
Available: 905 MB 

/tmp: 
Required: 250 MB 
Available: 246 MB 

Ensure there is enough free disk space on all required filesystems and retry the operation. 

When Refresh Pack2 installed failed the installation of Fixpack 13 and Java SDK FP 11 failed also, because they require embeded WAS to be at v6.0.2 or above. 


ANSWER
Resolve the problem that caused the installation failure review the install logs located <WPG Installed dir>/was/logs/update/. 

Follow these steps to install embeded WAS Support Pack2, embeded-WAS Fixpack13 and Java SDK Fixpack11 on AIX:
1) Stop all WPG servers,i.e. bcgconsole, bcgreceiver and bcgdocmgr
Installation of embeded WAS Refresh Pack2 (6.0.2)
2) Login in as root user. To run this maintenance pack you need to be logged on a root/Administrator else it does not allow you to proceed with the installation.
3) Copy the folder updateInstaller from Fixpack installer/embedWAS/Refreshpack to the same Installroot location as your WAS directory which is being used by WPG hub. e.g. If WPG hub is installed in \opt\IBM\bcghub then copy "Fixpack installer/embedWAS/Refreshpack/updateinstaller"
to \opt\IBM\bcghub\was.
4) Run the Update Installer(update) present under this updateInstaller folder to launch the GUI 
Note: If installing remotely or from command line use "./update -console" or "./update -silent"
5) Click Next to continue on the Welcome panel. 
6) Make sure the directory name listed for the product installation is correct and click Next 
7) Select the 'Install maintenance package' radio button and click Next
8) Make sure the path listed points to the proper Refresh Pack to be applied to the product(should be the .pak file present under \opt\IBM\bcghub\was\updateinstaller\maintenance) and click Next
9) Click Next to begin copying the JRE to the updateinstaller directory. 
10) Click Relaunch to restart the Update Installer with the JRE copied to the updateinstaller directory. 
11) The path to the maintenance package is displayed. 
Note: The wizard will remember all values from the previous launch. Click Next to continue
12) Click Next to begin applying the Refresh Pack 
13) Click Finish when the Refresh Pack application is complete 
14) Delete the updateinstaller directory (e.g. \opt\IBM\bcghub\was\updateinstaller). 
15) Now go to \opt\IBM\bcghub\was\bin and check the version of the WAS installed. You can do this by giving the command ./versionInfo.sh. The version should be 6.0.2 Installation of embeded-WAS Fixpack 13 (6.0.2.13)
16) Copy the folder updateInstaller from Fixpack_installer/embedWAS/Fixpack to the same Installroot location as your WAS directory which is being used by WPG hub. e.g. If WPG hub is installed in \opt\IBM\bcghub then copy "Fixpack_installer/embedWAS/Fixpack/updateinstaller" to \opt\IBM\bcghub\was.
17) Run the Update Installer(update) present under this updateInstaller folder to launch the GUI
Note: If installing remotely or from command line use "./update -console" or "./update -silent"
18) Click Next to continue on the Welcome panel. 
19) Make sure the directory name listed for the product installation is correct (should be the .pak file present under \opt\IBM\bcghub\was\updateinstaller\maintenance) and click Next 
20) Select the 'Install maintenance package' radio button and click Next 
21) Make sure the path listed points to the proper Fix Pack to be applied to the product and click Next 
22) Click Next to begin copying the JRE to the updateinstaller directory. 
23) Click Relaunch to restart the Update Installer with the JRE copied to the updateinstaller directory. 
24) The path to the maintenance package is displayed. 
Note: The wizard will remember all values from the previous launch. Click Next to continue
25) Click Next to begin applying the Fix Pack 
26) Click Finish when the Fix Pack application is complete 
27) Delete the updateinstaller directory (e.g. \opt\IBM\bcghub\was\updateinstaller). 
28) Now go to \opt\IBM\bcghub\was\bin and check the version of the WAS installed. You can do this by giving the command ./versionInfo.sh. The version should be 6.0.2.13 Installation of Java SDK Fixpack11
29) Copy the folder updateInstaller from Fixpack_installer/embedWAS/JDKFixpack
to the same Installroot location as your WAS directory which is being used by WPG hub. e.g. If WPG hub is installed in \opt\IBM\bcghub then copy "Fixpack_installer/embedWAS/JDKFixpack/updateinstaller" to \opt\IBM\bcghub\was.
30) Run the Update Installer(update.exe) present under this updateInstaller folder to launch the GUI
Note: If installing remotely or from command line use "./update -console" or "./update -silent"
31) Click Next to continue on the Welcome panel. 
32) Make sure the directory name listed for the product installation is correct(should be the .pak file present under \opt\IBM\bcghub\was\updateinstaller\maintenance) and click Next
33) Select the 'Install maintenance package' radio button and click Next 
34) Make sure the path listed points to the proper Fix Pack to be applied to the product and click Next 
35) Click Next to begin copying the JRE to the updateinstaller directory. 
36) Click Relaunch to restart the Update Installer with the JRE copied to the updateinstaller directory. 
37) The path to the maintenance package is displayed. 
Note: The wizard will remember all values from the previous launch. Click Next to continue
38) Click Next to begin applying the JDK Fix Pack 
39) Click Finish when the Fix Pack application is complete 
40) Delete the updateinstaller directory (e.g. \opt\IBM\bcghub\was\updateinstaller). 
41) Now go to \opt\IBM\bcghub\was\java\bin and check the version of the JDK installed. You can do this by giving the command ./java -version
The version should be:
java version "1.4.2"
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2)
Classic VM (build 1.4.2, J2RE 1.4.2 IBM build cxia32142-20060421 (SR5) (JIT enabled: jitc))
42) Now you would need to change the user permissions from root to bcguser. Since we ran the maintenance pack as root some of the folders user permission's would have been updated to root. We would need to revert this back to bcguser. You can do this by going to the /WAS folder, eg. /opt/IBM/bcghub/was and run the command chown -R bcguser:bcggroup * 
This will change the user permission's of all the folders under WAS to bcguser. 
43) Start the servers.