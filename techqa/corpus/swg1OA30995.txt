Title: IBM OA30995: MQI GETS 0C4 OR 0C6 ABENDS AND APPLICATIONS GET MQRC=2195 - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When Omegamon XE agent is started and SET MQIMONITOR statement
   is specified, then problems can occur if there are other
   products that have changed the expected WebSphere MQ linkage
   type from PC to BALR.
   
   Problem symptoms may include:
   
   2009.280 22:00:50.06 KMQMQ107E  Error from MQ API request MQGET
   QMgr=APA2 CC=X'02' Reason=X'0893'
   
   19.10.21 STC25138 +CSQX037E LTW1 CSQXSPRM Unable to get message
   from 523 SYSTEM.CHANNEL.INITQ, MQCC=2 MQRC=2195
   
   
   138 DUMPID=002 REQUESTED BY JOB (CANSMQ )
   138 DUMP TITLE=LTW1,ABN=0C4-00000011,U=CANSM ,C=R3600.700.CMC
   138 QMCPRH,M=CSQGFRCV,PSW=077C000080002100,ASID=0033
   
   PROBLEM CONCLUSION:
   
   MQI hook cannot handle case when Resource Manager linkage type
   is changed from PC to BALR.   Changes will be made to handle
   both.
   
   
    
   
   

LOCAL FIX
 *  1)If running with ITCAM for Transactions, starting MQ agent and
   WebSphere MQ before ITCAM for Transactions may resolve and allow
   Omegamon XE for MQ Monitoring agent to run with MQI monitoring
   turned on.  However, there may be other applications that can
   cause this issue, so if this does not resolve issue, then MQI
   monitoring must be turned off until fix is available.
   
   2)Temporarily remove "SET MQIMONITOR ..."  and "SET APPL..."
   statements from hilev.RKANCMDU(KMQUSER) so that MQI monitoring
   is not installed/running.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All OMEGAMON XE for WMQ users.               *
   ****************************************************************
   * PROBLEM DESCRIPTION: When Omegamon XE agent is started and   *
   *                      SET MQIMONITOR statement is specified,  *
   *                      then problems can occur if there are    *
   *                      other products that have changed the    *
   *                      expected WebSphere MQ linkage type from *
   *                      PC to BALR.  Problem symptoms may       *
   *                      include:  2009.280 22:00:50.06          *
   *                      KMQMQ107E  Error from MQ API request    *
   *                      MQGET QMgr=APA2 CC=X'02' Reason=X'0893' *
   *                      19.10.21 STC25138 +CSQX037E LTW1        *
   *                      CSQXSPRM Unable to get message from 523 *
   *                      SYSTEM.CHANNEL.INITQ, MQCC=2 MQRC=2195  *
   *                      138 DUMPID=002 REQUESTED BY JOB (CANSMQ *
   *                      ) 138 DUMP                              *
   *                      TITLE=LTW1,ABN=0C4-00000011,U=CANSM     *
   *                      ,C=R3600.700.CMC 138                    *
   *                      QMCPRH,M=CSQGFRCV,PSW=077C000080002100, *
   *                      ASID=0033  PROBLEM CONCLUSION:  MQI     *
   *                      hook cannot handle case when Resource   *
   *                      Manager linkage type is changed from PC *
   *                      to BALR.   Changes will be made to      *
   *                      handle both.                            *
   ****************************************************************
   * RECOMMENDATION: Apply the PTF.                               *
   When Omegamon XE agent is started and SET MQIMONITOR statement
   is specified, then problems can occur if there are other
   products that have changed the expected WebSphere MQ linkage
   type from PC to BALR.  Problem symptoms may include:  2009.280
   22:00:50.06 KMQMQ107E  Error from MQ API request MQGET QMgr=APA2
   CC=X'02' Reason=X'0893'  19.10.21 STC25138 +CSQX037E LTW1
   CSQXSPRM Unable to get message from 523 SYSTEM.CHANNEL.INITQ,
   MQCC=2 MQRC=2195   138 DUMPID=002 REQUESTED BY JOB (CANSMQ ) 138
   DUMP TITLE=LTW1,ABN=0C4-00000011,U=CANSM ,C=R3600.700.CMC 138
   QMCPRH,M=CSQGFRCV,PSW=077C000080002100,ASID=0033  PROBLEM
   CONCLUSION:  MQI hook cannot handle case when Resource Manager
   linkage type is changed from PC to BALR.   Changes will be made
   to handle both.
   
   
    
   
   

PROBLEM CONCLUSION
 *  MQI hook cannot handle case when Resource Manager linkage
   type is changed. Changes made to handle documented RMRQ
   linkage mechanism.
   
   
    
   
   

TEMPORARY FIX
 *  *********
   * HIPER *
   *********
   
   
    
   
   

COMMENTS
 *  &#158;**** PE10/02/05 FIX IN ERROR. SEE APAR OA31918 [http://www-01.ibm.com/support/docview.wss?uid=swg1OA31918]  FOR DESCRIPTION
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   OA30995
   
   
 * REPORTED COMPONENT NAME
   OMEG XE WEBSPHM
   
   
 * REPORTED COMPONENT ID
   5608A1100
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   YesHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-11-06
   
   
 * CLOSED DATE
   2009-12-18
   
   
 * LAST MODIFIED DATE
   2010-02-05
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UA51855 UA22325 OA32305 [http://www-01.ibm.com/support/docview.wss?uid=swg1OA32305]
   
   

MODULES/MACROS
 *  KMQAMHST KMQAMHSY KMQAMQSB KMQAMQS1 KMQAMQS7
   KMQASSIN
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   OMEG XE WEBSPHM
   
   
 * FIXED COMPONENT ID
   5608A1100
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY UA51855 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UA51855]
   UP09/12/29 P F912
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.