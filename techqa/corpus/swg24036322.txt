Title: IBM Tivoli Fed Id Mgr Business Gateway v6.1.1, iFix 15, 6.1.1-TIV-TFIMBG-IF0015 - United States

Text:
TFIM FIM DOWNLOADABLE FILES

ABSTRACT
 This is an interim fix (IF) for a variety of problems in the components that compose the TFIMBG 6.1.1 product. 

DOWNLOAD DESCRIPTION
This interim fix corrects problems in IBM Tivoli Federated Identity Manager Business Gateway (Federated Identity Manager Business Gateway), Version 6.1.1. It requires that the IBM Tivoli Federated Identity Manager Business Gateway, Version 6.1.1, be installed, and the IBM Tivoli Federated Identity Manager Business Gateway 6.1.1 Fixpack 10 (6.1.1-TIV-TFIMBG-FP0010) be installed.


Interim fix contents and distribution 

This interim fix package contains: 

 * The interim fix zip file 
 * This README.


This interim fix is distributed as an electronic download from the IBM Support Web Site. Fix pack superseded by this interim fix 

6.1.1-TIV-TFIMBG-FP0010 


Interim fix structure 

Federated Identity Manager Business Gateway consists of the following components that can be installed separately: 

 * Administration console 
 * Management service and runtime component 


This interim fix applies only to the administration console, and management service and runtime component (first two components listed above). 
APARs and defects fixed
Problems fixed by interim fix 6.1.1-TIV-TFIMBG-IF0015 

The following problems are corrected by this interim fix. For more information about the APARs listed here, see the Tivoli Federated Identity Manager Business Gateway support site [http://www.ibm.com/software/sysmgmt/products/support/IBMTivoliFederatedIdentityManagerBusinessGateway.html]. 

APAR IV50644
SYMPTOM: Specifying URLs that the common domain cookie reading and writing service in the SAML 2.0 Identity Provider Discovery Profile can redirect to. 

APAR IV10813
SYMPTOM: Improve SAML Signature Conformance 

APAR IV23434
SYMPTOM: Improve SAML signature conformance 

APAR IV23448
SYMPTOM: Improve signature conformance 

APAR IZ47952
SYMPTOM: The SAML 1.X protocol allows for sending the target url from the IDP to the SP through the query string. The Query string parameter TARGET should contain a fully specified url that might include some query string parameters. When adding the value to the url TFIM is losing the query string parameters from the TARGET URL. 

APAR IV26034
SYMPTOM: The RelayState query string parameter provided to the IP-initiated SSO initial URL is used to populate the RelayState macro in the authentication response when the target query string parameter is empty or not provided. It should be ignored. 

APAR IV26827
SYMPTOM: Update deployment descriptor for the Tivoli Federated Identity Manager Management Console servlets. 

APAR IV26824
SYMPTOM: Update log traces in FSSO and STS.

PREREQUISITES

You must have the following software installed to install this interim fix: 

 * IBM Tivoli Federated Identity Manager Business Gateway 6.1.1 Fixpack 10 (6.1.1-TIV-TFIMBG-FP0010) and its prerequisites

URL LANGUAGE SIZE(Bytes) 6.1.1-TIV-TFIMBG-FP0010 [ftp://public.dhe.ibm.com/software/tivoli_support/patches/patches_6.1.1/6.1.1-TIV-TFIMBG-FP0010/6.1.1-TIV-TFIMBG-FP0010.zip] English 49936151 
INSTALLATION INSTRUCTIONS
NOTE: Before installing this interim fix, ensure that you have reviewed the prerequisites in Before installing the interim fix. 

Downloading the interim fix 

To obtain the interim fix: 
1. Go to the IBM Tivoli Federated Identity Manager Business Gateway Support [http://www-01.ibm.com/software/sysmgmt/products/support/IBMTivoliFederatedIdentityManagerBusinessGateway.html] Web site.
2. Click Download. The interim fix (6.1.1-TIV-TFIMBG-IF0015) is listed under Latest by date. If you do not see this interim fix listed, enter "6.1.1-TIV-TFIMBG-IF0015" in the Search field to access the link to the download window.
3. In the download window, scroll to the bottom of the window to view a listing of the download packages by platform.
4. Select the platform that corresponds to the target platform where you will apply the fixes. To ensure a secure download, select the DD (Download Director) option. If you have not used Download Director before, configure your browser to use Java security. Click What is DD? for configuration instructions.

Applying the interim fix
1. Unzip the file you downloaded in Downloading the interim fix. 
2. Ensure that the WebSphere Application Server that hosts the Federated Identity Manager runtime and management service component, is running.
3. Ensure that the WebSphere Application Server that hosts the Federated Identity Manager console component, is running.
4. On the system on which the console component is installed, backup the following files 

 * itfim-common.jar in APPSERVER_INSTALL_DIR/systemApps/isclite.ear/itfim-fimconsole-e.war/WEB-INF/lib 
 * itfim-mgmt-intf.jar in APPSERVER_INSTALL_DIR/systemApps/isclite.ear/itfim-fimconsole-e.war/WEB-INF/lib 
 * web.xml in APPSERVER_INSTALL_DIR/systemApps/isclite.ear/itfim-fimconsole-e.war/WEB-INF

5. Copy the following files from the interim fix to a location TMP_DIR in the system.  * itfim-common.jar 
 * itfim-mgmt-intf.jar 
 * web.xml

6. Launch the wsadmin tool. 
7. Run the JACL command $AdminApp update isclite file {-operation addupdate -contents TMP_DIR/web.xml -contenturi itfim-fimconsole-e.war/WEB-INF/web.xml} 
8. Run the JACL command $AdminApp update isclite file {-operation addupdate -contents TMP_DIR/itfim-common.jar -contenturi itfim-fimconsole-e.war/WEB-INF/lib/itfim-common.jar} 
9. Run the JACL command $AdminApp update isclite file {-operation addupdate -contents TMP_DIR/itfim-mgmt-intf.jar -contenturi itfim-fimconsole-e.war/WEB-INF/lib/itfim-mgmt-intf.jar} 
10. Run the JACL command $AdminConfig save 
11. On the system on which the runtime and management service component is installed, backup the following files  * itfim-common.jar in APPSERVER_INSTALL_DIR/profiles/PROFILE_NAME/installedApps/CELL_NAME/ITFIMManagementService.ear/itfim-mgmt.war/WEB-INF/lib 
 * itfim-mgmt.jar in APPSERVER_INSTALL_DIR/profiles/PROFILE_NAME/installedApps/CELL_NAME/ITFIMManagementService.ear/itfim-mgmt.war/WEB-INF/lib

12. Copy the following files from the interim fix to a location TMP_DIR in the system.  * itfim-common.jar 
 * itfim-mgmt.jar

13. Launch the wsadmin tool. 
14. Run the JACL command $AdminApp update ITFIMManagementService file {-operation addupdate -contents TMP_DIR/itfim-common.jar -contenturi itfim-mgmt.war/WEB-INF/lib/itfim-common.jar} 
15. Run the JACL command $AdminApp update ITFIMManagementService file {-operation addupdate -contents TMP_DIR/itfim-mgmt.jar -contenturi itfim-mgmt.war/WEB-INF/lib/itfim-mgmt.jar} 
16. Run the JACL command $AdminConfig save 
17. Log in to the administration console. 
18. Select Domain Management -> Runtime Node Management. 
19. Select all the runtime nodes in the Runtime Nodes portlet. 
20. Click Unconfigure. 
21. Stop the WebSphere Application Server.  * In a standalone WAS server environment, stop the application server. 
 * In a cluster environment, stop the WAS Deployment Manager and the nodes.

22. Backup the original file and replace the following files with the files from the interim fix  * FIM_INSTALL_DIR/plugins/com.tivoli.am.fim.idservice_1.0/itfim-idclientldap.jar 
 * FIM_INSTALL_DIR/plugins/com.tivoli.am.fim.samlsso_1.0/itfim-samlsso.jar 
 * FIM_INSTALL_DIR/plugins/com.tivoli.am.fim.stsplugins_1.0/itfim-sts-plugins.jar

23. Edit FIM_INSTALL_DIR/pkg/software.properties, incrementing the value of com.tivoli.am.fim.rte.software.serialId by one. 
24. Start the WebSphere Application Server.  * In a standalone WAS server environment, start the application server. 
 * In a cluster environment, start the WAS Deployment Manager and the nodes.

25. Log in to the administration console. 
26. Select Domain Management -> Runtime Node Management. 
27. Click Deploy Runtime. 
28. Select all the runtime nodes in the Runtime Nodes portlet. 
29. Click Configure. 
30. Stop the WebSphere Application Server.  * In a standalone WAS server environment, stop the application server. 
 * In a cluster environment, stop the WAS Deployment Manager and the nodes.

31. Backup the original files and replace the following files with the files from the interim fix  * itfim-common.jar 
 * itfim-liberty_schema.jar 
 * itfim-mgmt.jar 
 * itfim-rteconf.jar 
 * itfim-soapclient.jar 
 * itfim-sps.jar 
 * itfim-trustserver.jar 
 * itfim-trustserver-common.jar 
 * IdServiceLdapMsgs.jar 
 * KessServiceJksWorker.jar

in APPSERVER_INSTALL_DIR/profiles/ PROFILE_NAME/installedApps/ CELL_NAME/ITFIMRuntime.ear/  * In a cluster environment, repeat this step for each node in a WebSphere cluster environment. 

32. Start the WebSphere Application Server.  * In a standalone WAS server environment, start the application server. 
 * In a cluster environment, start the WAS Deployment Manager and the nodes.

Warning: If you redeploy the runtime after applying the interim fix, you must repeat the above instructions on applying the interim fix from step 30. 

URL LANGUAGE SIZE(Bytes) 6.1.1-TIV-TFIMBG-IF0015.README-notoc.html [http://www.ibm.com/support/fixcentral/quickorder?product=ibm/Tivoli/IBM+Tivoli+Federated+Identity+Manager+Business+Gateway&release=All&platform=All&function=fixId&fixids=6.1.1-TIV-TFIMBG-IF0015&includeSupersedes=0] English 21064 
DOWNLOAD PACKAGE
NA



Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 
What is Fix Central(FC)? [https://www.ibm.com/support/fixcentral/help?page=swfaqs] 6.1.1-TIV-TFIMBG-IF0015 28 Oct 2013 English 3456459 FC [http://www.ibm.com/support/fixcentral/quickorder?product=ibm/Tivoli/IBM+Tivoli+Federated+Identity+Manager+Business+Gateway&release=All&platform=All&function=fixId&fixids=6.1.1-TIV-TFIMBG-IF0015&includeSupersedes=0] [ ] 
 [/support/docview.wss?uid=swg24036322&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24036322&aid=2]Problems (APARS) fixed
IV50644