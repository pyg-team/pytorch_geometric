Title: IBM BIP2228E on Integration Node startup - United States

Text:
MQIINFO start broker BIP2228E semctl TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Starting an Integration Node in IBM Integration Bus (IIB) generates the following error:

BIP2228E: Severe error: 
semctl() Abend file: /var/mqsi/errors/MQSIQ01.service.5779.1.abend action:
abort 

CAUSE
The 'semctl()' error indicates that there are outstanding semaphore locks for the Integration Node which are preventing the proper startup of the application.

RESOLVING THE PROBLEM
This process for clearing the locks associated with the Integration Node requires that all Integration Nodes on this system are stopped and that IIB is the only software product run under the IIB service ID. 

 1. Stop all the Integration Node(s); confirm all bip* and DataFlowEngine processes terminate. 
 2. If the processes will not end gracefully, then issue a kill -9 to forcefully terminate them. 
 3. Use the command 'ipcs -s' to list all semaphores on the system. 
    Record all semaphores that are associated with the IIB service ID.
    Note: This is assuming no other software product is using the same userid. 
 4. Use the command 'ipcrm -s <semid>' to remove the IIB semaphores found in step #3. 
 5. Delete any outstanding lock files from the /var/mqsi/common/locks directory. 
 6. Restart the Integration Nodes.



PRODUCT ALIAS/SYNONYM
 WMB MB WebSphere Message Broker IBM Integration Bus IIB IBMIB MQ Integrator WBIMB WBI-MB MQSI WMQI