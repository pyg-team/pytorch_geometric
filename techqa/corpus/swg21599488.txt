Title: IBM LDAP: error code 50 - Insufficient Access Rights thrown when attempting to update user profile information - United States

Text:
profile; selfcare; ldap; error; 50; insufficient; property; extension; database; access; rights; management; edit TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IBM WebSphere Portal is successfully installed and configured. When attempting to update a user's data in the Selfcare portlet on the Edit my Profile page the update fails with an error message of LDAP: error code 50 - Insufficient Access Rights. This Technote will describe how to diagnose and resolve this error message. 

SYMPTOM
The SystemOut.log file will show an error similar to the following: 

[datetime] 0000004c LdapConnectio E com.ibm.ws.wim.adapter.ldap.LdapConnection modifyAttributes(Name name, ModificationItem[] mods)javax.naming.NoPermissionException: 
[LDAP:error code 50 - Insufficient Access Rights]; Remaining name: 'uid=testuser,ou=users,dc=example,dc=com'; 

Portal users will report being unable to update their profile information.


CAUSE
The SelfCare portlet has a default parameter named GenerateCN with a value of "true". Per the Portal Infocenter: "Use this property to specify whether WebSphere Portal should generate the value of the cn attribute from the supplied user attributes." 

 

In this case, the setting is causing the portlet to create the "cn" attribute from the values supplied by the Portal user. Thereafter, the SelfCare portlet would attempt to update the LDAP repository with a new value of the "cn" attribute. The LDAP server is a read-only LDAP server, and any attempts to update attributes will fail.


ENVIRONMENT
Any Portal 6.1, 7.0 or 8.0 environment with a read-only LDAP could experience this issue. 

For environments that experience this issue, typically they will be configured with a property extension database that does permit read and write operations to user attributes. The intent of the Portal user was to update the property extension attributes in their profile, not the LDAP attributes.


DIAGNOSING THE PROBLEM
Collect and submit logs and configuration data as outlined in the following document: 

Portal User Management Architecture [http://www-01.ibm.com/support/docview.wss?uid=swg21592792]

Reviewing the trace.log, note the Virtual Member Manager (VMM) change summary for attributes to be updated. In this example, note that a custom attribute in the property extension database named "favoriteColor" is updated, as well as the "cn" property in the LDAP server:

<value xsi:type="sdo_1:EChangeSummarySetting" featureName="cn" dataValue="John Doe "/>
<value xsi:type="sdo_1:EChangeSummarySetting" featureName="favoriteColor" dataValue="blue"/>

Only the "favoriteColor" attribute should be updated via the EChangeSummary; the "cn" attribute should not be listed to be updated.



RESOLVING THE PROBLEM
Perform the following: 

1) Login to Portal as an administrator
2) Navigate to the Administration area, click Portlets.
3) Search by "unique name contains" and "selfcare".
4) Click the wrench icon to configure the portlet.
5) Update the parameter "GenerateCN" from "true" to "false". 
6) Click OK to save changes. Changes should go into effect immediately.

Users should now be able to update their profile information successfully.

RELATED INFORMATION
 Selfcare / Edit my Profile Portlet [http://www-10.lotus.com/ldd/portalwiki.nsf/dx/RegistrationEdit_My_Profile_and_Login_portlets_wp7]


 


Cross reference information Segment Product Component Platform Version Edition Organizational Productivity- Portals & Collaboration WebSphere Portal End of Support Products AIX, HP-UX, IBM i, Linux, Solaris, Windows, z/OS 7.0, 6.1