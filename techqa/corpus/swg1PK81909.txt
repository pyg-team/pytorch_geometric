Title: IBM PK81909: VALIDATION FAILS WHEN CHECKED AGAINST EDIFMAIL.MTT - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  This problem is related to the CQs WTX00028649 and WTX00029147.
   
   After applying the patch from CQ WTX00028649, running the
   EDIWizard, Client was able to produce a good fully envelope
   Edifact document on Windows but not on HP which is the platform
   he's having problem on.
   
   L2 tried to recreate this scenario.  So L2 tested to see if the
   document produces fully envelope edifact document on Windows,
   and it failed validation. L2 applied the patch and ran the
   EDIWizard and used the standard edifmail.mtt that client had
   provided to see if I can produce fully envelope edifact document
   as client noted, but I was unsuccessful.
   
   Please see input, output, and reject files out on Open_bug under
   this CQ-WTX00029482.  Also, I have used client's latest tmgr
   77449,035,649_PetroCanada_tmgr82.mdb from Loan's issue.  I am
   copying this to the CQ folder under Open_bug as well.
   
   Input to mail:
   GI220090123_090637MO.GI2
   
   Output from Tmgr:
   gi2000000120090204oo.edifact
   
   Tmgr/mmgr/reject
   gi2000000220090204o.edf_ob_rej
   
   
    
   
   

LOCAL FIX
 *  WTXCQ - WTX00029482
   BD / BD
   Changes in the code which requires a patch.
   
   
    
   
   

PROBLEM SUMMARY
 *  The customers data is being created on Unix by a using a type
   tree that has a '<CR><LF> as a terminator. in Trading manager we
   test if the last character of the terminator is not a single
   quote, then we replace the enveloping of the file with the
   single quote plus the native line feed. Btu since the data was
   literally created with <CR><LF>, the native line feed <NL> for
   Unix is <LF> thus data in an internal map failed validation
   against the termiantor <CR><LF> vs. thje expected <LF>
   
   
    
   
   

PROBLEM CONCLUSION
 *  Modified map sortec.mms,  functional map repackageedfmessage to
   change
   the rule for the terminator not to always assume '<NL> as a
   terminator but to allow also for '<CR><LF. on data created in
   unix
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK81909
   
   
 * REPORTED COMPONENT NAME
   WSTX TRADING MG
   
   
 * REPORTED COMPONENT ID
   5724M7800
   
   
 * REPORTED RELEASE
   820
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2009-03-05
   
   
 * CLOSED DATE
   2009-03-17
   
   
 * LAST MODIFIED DATE
   2009-03-17
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WSTX TRADING MG
   
   
 * FIXED COMPONENT ID
   5724M7800
   
   

APPLICABLE COMPONENT LEVELS
 * R820 PSY
   UP