Title: IBM IV00769: WATCHDOG DISPLAYS PID=0 FOR AGENT WHEN PATH FOR EXECUTABLE DOES NOT MATCH CANDLEHOME. - United States

Text:
  FIXES ARE AVAILABLE
IBM Tivoli Monitoring: Unix(R) OS Agent 6.2.2.2-TIV-ITM_UNIX-IF0007 [http://www-01.ibm.com/support/docview.wss?uid=swg24030368]
IBM Tivoli Monitoring: Unix(R) OS Agent 6.2.2.4-TIV-ITM_UNIX-IF0002 [http://www-01.ibm.com/support/docview.wss?uid=swg24030376]
IBM Tivoli Monitoring: Linux(R) OS Agent 6.2.2.4-TIV-ITM_LINUX-IF0001 [http://www-01.ibm.com/support/docview.wss?uid=swg24030377]
IBM Tivoli Monitoring: Linux(R) OS Agent 6.2.2.4-TIV-ITM_LINUX-IF0004 [http://www-01.ibm.com/support/docview.wss?uid=swg24030947]
IBM Tivoli Monitoring 6.2.2 Fix Pack 8 (6.2.2-TIV-ITM-FP0008) [http://www-01.ibm.com/support/docview.wss?uid=swg24031354]
IBM Tivoli Monitoring 6.2.2 Fix Pack 9 (6.2.2-TIV-ITM-FP0009) [http://www-01.ibm.com/support/docview.wss?uid=swg24032067]
IBM Tivoli Monitoring 6.2.2 Fix Pack 6 (6.2.2-TIV-ITM-FP0006) [http://www-01.ibm.com/support/docview.wss?uid=swg24030135]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Problem Description:  THe Watchdog code which is part of the OS
   agent makes calls to the operating system to validate the
   process ID of an agent.  When making the call to determine the
   path for the executable, the validation will fail if the
   executable path returned by the OS call does not match
   CANDLEHOME.   It is necessary for Watchdog to validate the
   process ID correctly in order for the fix for APAR IZ91032 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ91032]
   (minimize callls to cinfo) to be used.   This can occur on the
   Linux or Unix OS agents.
   
   Related Files and Output:  None.
   
   
    
   
   

LOCAL FIX
 *  Local fix/workaround:
   Running version 6.22 or later, copy the
   $CANDLEHOME/config/CAP/klz_default.xml file to klz.xml (or copy
   $CANDLEHOME/config/CAP/kux_default.xml to kux.xml) and set the
   agentPath to the hard-coded path. For example if
   $CANDLEHOME=/opt/IBM/ITM
   but
   $CANDLEOME is mounted as /export/opt/IBM/ITM then change:
   <agentPath>$CANDLEHOME/$ITM_BINARCH/lz/bin/klzagent</agentPath>
   to
   <agentPath>/export/opt/IBM/ITM/$ITM_BINARCH/lz/bin/klzagent</age
   ntPath> Stop and restart the OS agent.
   
   
    
   
   

PROBLEM SUMMARY
 *  When CANDLEOME is a mounted or symbolically linked directory,
   the process ID was not being found correctly from calls to the
   operating system.  This is needed to take advantage of IZ91032 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ91032]
   (reduce calls to cinfo).
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code was updated to do additional checks when the CANDLEHOME
   is mounted or linked.
   
   The fix for this APAR will be contained in the following
   maintenance packages:
   
     | interim fix |  6.2.2.2-TIV-ITM_LINUX-IF0007
     | interim fix |  6.2.2.2-TIV-ITM_UNIX-IF0007
     | interim fix |  6.2.2.3-TIV-ITM_UNIX-IF0004
     | interim fix |  6.2.2.4-TIV-ITM_LINUX-IF0001
     | interim fix |  6.2.2.4-TIV-ITM_UNIX-IF0002
     | fix pack |  6.2.2-TIV-ITM-FP0006
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV00769
   
   
 * REPORTED COMPONENT NAME
   ITM AGENT LINUX
   
   
 * REPORTED COMPONENT ID
   5724C04LN
   
   
 * REPORTED RELEASE
   622
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-05-22
   
   
 * CLOSED DATE
   2011-06-21
   
   
 * LAST MODIFIED DATE
   2011-12-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITM AGENT LINUX
   
   
 * FIXED COMPONENT ID
   5724C04LN
   
   

APPLICABLE COMPONENT LEVELS
 * R622 PSY
   UP