Title: IBM PM29061: PIPELINE RESOURCE IS ENABLED EVEN IF ERROR MESSAGE DFHPI0705E   IS ISSUED DUE TO HFS WRITE RC X'00000079' RSN X'EF086015' - United States

Text:
z/os SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  PIPELINE resource is ENABLED evend if error messages are issued
   indicating HFS write failure due to authorization problem.
   The problem is that the PIPELINE even if ENABLED is UNUSABLE,
   so it would be expected that the PIPELINE remains DISABLED if
   an error is detected (DISABLED and UNUSABLE).
   Also the PIPELINE SCAN command will install the WEBSERVICE
   definition referenced by the WSDIR option of the PIPELINE.
   However, any attempt to use the PIPELINE will fail due to
   the fact that CONFIGFILE install failed.
   Here the sequence of messages issued when PIPELINE is installed:
   CEDA INSTALL PIPELINE(MANU)
   CEMT SET PIPELINE ENABLE
   I get :
   DFHPI0705 E 11/29/2010 15:04:49 IYCLZCFP CICSUSER PIPELINE MANU
      encountered an error writing the configuration to the derived
      shelf /var/cicsts/IYCLZCFP/PIPELINE/MANU/.
      The response code from the HFS write was X'0000006F' and the
      reason code was 'X'EF086015'.
   DFHPI0709 E 11/29/2010 15:04:49 IYCLZCFP  CICSUSER PIPELINE MANU
             resolution failed because the XML configuration file
             cannot be copied to the derived shelf.
   
   PIPELINE beacome Enable but UNUSABLE
   Message DFHPI0705E error message reports that :
   System action
   The pipeline is disabled and CICS continues normally.
   Problem is only exposed when using a PIPELINE which is defined
   with a SHELF which the CICS does not have write access
   to in the first place.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All.                                         *
   ****************************************************************
   * PROBLEM DESCRIPTION: An PIPELINE resource can be set to      *
   *                      ENABLED even though it is unusable due  *
   *                      to a critical failure at install time.  *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A PIPELINE resource is defined with a SHELF directory which the
   CICS region USERID does not have permission to write to. When
   the PIPELINE resource is installed, an error occurs when CICS
   tries to write the PIPELINE CONFIGFILE to the SHELF directory.
   This causes MSGDFHPI0705 to be issued and the PIPELINE becomes
   unusable and marked DISABLED. However, the PIPEB_VALID flag is
   set to PIPEB_IS_VALID. This flag should be set to
   PIPEB_NOT_VALID for an unusable PIPELINE.
   The PIPEB_VALID setting allows the PIPELINE to be set to
   ENABLED. However, any attempt to use this PIPELINE will fail.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  This APAR is being closed FIN with concurrence from the
   submitting customer.  This means that a fix to this APAR is
   expected to be delivered from IBM in a release which is being
   developed at the time that the APAR was closed.
   The latest release of the product to exit development at the
   time this APAR was closed was:
     CICS Transaction Server for z/OS V4.1.
   PEG23856  PEG 23856
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   PM29061
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-12-17
   
   
 * CLOSED DATE
   2011-01-06
   
   
 * LAST MODIFIED DATE
   2011-01-06
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R600 PSN
   UP