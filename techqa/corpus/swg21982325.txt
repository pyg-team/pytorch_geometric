Title: IBM Guardium S-TAP not sending any traffic - United States

Text:
Stap; no data; Guardium; 9.5; down; not sending TECHNOTE (TROUBLESHOOTING)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 Notes://G01ZCIDBS003/852577CA00090933/2EF8B882798F42CA85256A420055CACC/3520BA900692CDE785257FA300602012 [Notes://G01ZCIDBS003/852577CA00090933/2EF8B882798F42CA85256A420055CACC/3520BA900692CDE785257FA300602012]
Guardium S-TAP not sending any traffic 

PROBLEM(ABSTRACT)
 Guardium S-TAP not sending any traffic after upgrading the STAP revision. 

SYMPTOM
No data in GUI reports from the monitored DB and/or no packets when the "guard_ktap_stat get" is invoked in the KTAP directory on the monitored DB server. 

For example:


 * [root@DB current]$ pwd
 * 
 * /usr/local/guardium/modules/KTAP/current
 * 
 * [root@DB current]$ ./guard_ktap_stat get
 * 
 * KTAP Version 9.0.0_r81265_v90_1
 * 
 * total packets so far = 0
 * 
 * total 0-16 bytes packets so far = 0
 * 
 * total 16-4k bytes packets so far = 0
 * 
 * total 4k-16k bytes packets so far = 0
 * 
 * total 16k-32k bytes packets so far = 0
 * 
 * total 32k+ bytes packets so far = 0
 * 
 * total packet drops so far = 0
 * 
 * total bytes so far = 0
 * 
 * total bytes dropped so far = 0
 * 
 * items in queue = 0
 * 
 * free requests = 128
 * 
 * requests pending = 0
 * 
 * maximum concurrent requests = 128
 * 
 * total packets ignored= 0
 * 
 * total bytes ignored = 0
 * 
 * total response packets ignored= 0
 * 
 * total response bytes ignored = 0
 * 
 * total buffer init = 0
 * 
 * ioctl requests= 0
 * 
 * khash entry count = 8192
 * 
 * ktap buffer size = 4194304
 * 
 * time since last reset in seconds = 1210694
 * 
 * ktap started = 1


CAUSE
The port_range_start or port_range_end paremeters in the inspection engine definition in guard_tap.ini is set to an incorrect port number. 



RESOLVING THE PROBLEM

Verify that the port number in /etc/services is the correct service by comparing it to guard_tap.ini on the monitored DB server .

Set The port_range_start or port_range_end paremeters to the correct port number if needed for the DB service in the inspection engine definition in the guard_tap.ini.