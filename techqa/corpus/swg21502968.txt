Title: IBM Resource-type data collected by ITCAM for WAS TEMA - United States

Text:
ITCAM; WAS; PMI; CAMADALL; CAMADAGENT TECHNOTE (FAQ)

QUESTION
 What are the Resource-type data collected by ITCAM for WAS TEMA (YN agent) and how are they obtained? In what TEP workspaces are they displayed? What are common reasons for missing data in such workspaces? 

ANSWER
Resource Data are obtained from Performance Monitoring Infrastructure (PMI) modules provided by WAS. They consist of aggregated data of how different resources in the system are being used. 
Resource data are displayed in the following TEP workspaces:

- Pool Analysis: History data from Application Server Summary, Thread Pool, DB Connection Pool and J2C Connection Pool.
- Web Applications: WAR apps containing Servlets/JSPs deployed in the server.
- EJB Containers: Enterprise Java Beans deployed in the server.
- DB Connection Pools: JDBC Data sources defined.
- J2C connection Pool: Resource adapters deployed (.rar file)
- Thread Pools: Predefined in WebSphere.
- Cache Analysis: Dynamic caches defined with cachespec.xml in the application.
- Workload Management: Done in the ORB. Remote calls to EJB in a cluster must be present.
- Scheduler: Schedulers defined in the server.
- Web Services: Application must use web services.
- Platform Messaging: System Integration Bus (SIB) must be defined. This is the default messaging server in WebSphere.


For Resource (PMI) data to be displayed in TEP, it is essential that the monitored feature is used. For example, to see any Platform Messaging data, you will need to set up a Service Integration Bus (SIB). If none exists, the Platform Messaging workspaces will be empty and the history charts will display an error. 

In addition to the feature being present and exercised, the PMI collection level has to be at the right level for the data to be generated. Each TEMA Attribute corresponds to a Websphere PMI Attribute. To have an Attribute value displayed in TEP you must ensure that the corresponding PMI counter is enabled. PMI counters mapped to TEMA attributes have similar names in most cases.

One should be aware that when using an ITCAM Managing Server along with TEMA, the PMI level is automatically controlled by ITCAM MS (the MOD level overrides Runtime PMI level as a default behaviour, as specified by option am.pmi.settings.nochange=false in <server>.datacollector.properties file). In this case the PMI level is set to either “Basic” or “Extended” for L1 and L2 MOD levels respectively. On the contrary there is no way to change/override PMI settings directly from TEP/TEMA.

Data for Web Services and Platform Messaging workspaces are not generated either at "Basic" or at "Extended" PMI level. They are generated only for “All” or when specifically chosen from the “Custom” setting in PMI from Websphere Administrative Console, Runtime tab.

Finally, even if all the required data is generated by Websphere, it is still possible not to obtain data if the Resource data is not turned on in the TEMA. This can be done either through the TEMA configuration or through the Take Action command. Default behaviour is that Resource Data Collection is Enabled.

 


Cross reference information Segment Product Component Platform Version Edition Systems and Asset Management Tivoli Composite Application Manager for Application Diagnostics