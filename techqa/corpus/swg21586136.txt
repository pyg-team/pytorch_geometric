Title: IBM WAS XD cell monitoring on machine without Deployment Manager - United States

Text:
CAMADALL CAMADWXDDC CAMADSEC CAMADINST WAS XD Cell monitoring TECHNOTE (TROUBLESHOOTING)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 US English 

PROBLEM(ABSTRACT)
 Configuring WAS XD cell monitoring with ITCAM for AD Agent for WebSphere which is installed on different machine than Deployment Manager of XD cell 

SYMPTOM
Error in logs:
ADMN0022E: Access is denied for the getServerVersion operation on Server MBean because of insufficient or empty credentials.


RESOLVING THE PROBLEM
WebSphere XD Cell monitoring configuration is described in ITCAM for Application Diagnostics user guide: http://publib.boulder.ibm.com/infocenter/tivihelp/v24r1/topic/com.ibm.itcamfad.doc_7101/itcam_71_was_tema_help/kyn_xdconfigurecell.html [http://publib.boulder.ibm.com/infocenter/tivihelp/v24r1/topic/com.ibm.itcamfad.doc_7101/itcam_71_was_tema_help/kyn_xdconfigurecell.html] 

The following description enhances this configuration guide. This descibes the additional steps which have to be performed in order to configure an agent which is installed on a machine without the XD cell deployment manager and with global security enabled.

When global security is enabled, all fields in “Connection Security Settings” tab need to be filled in:


 * Connector Security Enabled – must be set to TRUE so that other settings from this tab can be applied. 
 * User name – valid WebSphere user. 
 * User password and Confirm User password** - password for previously entered user. 
 * SSL Trust Store File and SSL Key Store File – path to .jks file with deployment manager public SSL key (trust store) and client public and private keys (key store). By default those files are stored in the etc directory in the deployment manager profile. For example:  1. trust store: /opt/IBM/Websphere/AppServer/profiles/Dmgr/etc/DummyClientTrustFile.jks 
    2. key store: /opt/IBM/Websphere/AppServer/profiles/Dmgr/etc/DummyClientKeyFile.jks
   
   
 * SSL Trust Store Password and Confirm SSL Trust Store Password**: the password for the SSL Trust Store file. The default WebSphere password is “WebAS”. 
 * SSL Key Store Password and Confirm SSL Key Store Password**: the password for the SSL Key Store file. The default WebSphere password is “WebAS”.



If entered values in “Connection Security Settings” tab are not valid, then the following exception can be seen in kyn-tema-trace.log: 

<Exception><![CDATA[javax.management.JMRuntimeException: 
>> SERVER (id=144d42ac, host=testhost.pl.ibm.com) TRACE START: 
>> javax.management.JMRuntimeException: ADMN0022E: Access is denied for the getServerVersion operation on Server MBean because of insufficient or empty credentials. 

On machines without the deployment manager profile, a concern regarding paths to trust and key store may arise. In such case, the following conditions are needed to successfully configure the XD cell monitoring on the machine where there is no deployment manager profile: 
 * any type of WebSphere XD profile which is part of the monitored cell should exist on the machine where agent is installed 
 * user must copy trust store and key store files from machine with the deployment manager to the machine where the agent is installed. 


For default settings, user must copy files (1) and (2) to desired location, for example to 
/opt/IBM/ITM/dmgrkeys/. Proper configuration should look like this: 

[/support/docview.wss?uid=swg21586136&aid=1] [/support/docview.wss?uid=swg21586136&aid=1] 

After setup, clicking “Apply” button will schedule reconnection with new settings. By default, reconnection will occur within 60 seconds. If after that time connection status is still “ERROR”, please restart agent. If problem still occurs after restart, please contact IBM support. 

** - password confirmation fields were added in ITCAM for AD Agent for WebSphere v7.1.0.2.7.  

PRODUCT ALIAS/SYNONYM
 ITCAM ITCAM for App Diagnosticsmo