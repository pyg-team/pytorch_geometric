Title: IBM JR47167: MIGRATEDB.PY FAILS WHEN MIGRATING WPS ND ENVIRONMENT ORIGINALLY CONFIGURED IN WPS V6.0.1 - United States

Text:
  FIXES ARE AVAILABLE
Version 8.0.1 Fix Pack 2 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24035701]
Version 8.5.0 Fix Pack 1 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24035702]
Version 7.5.1 Fix Pack 2 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24036462]
Version 8.5 Refresh Pack 5 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24037683]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When running the BPC database upgrade script migrateDB.py in a
   migrated ND environment that was originally created in WPS
   6.0.1, the following error is shown:
   ERROR: Data source 'jdbc/BPEDB' not found in scope
   /Cell:TestCell/ServerCluster:TestCluster/
   
   
    
   
   

LOCAL FIX
 *  n/a
   
   
    
   
   

PROBLEM SUMMARY
 *  Problem Description:
   The Business Process Choreographer database upgrade script
   migrateDB.py shows an error "Data source 'jdbc/BPEDB' not found"
   when being run in a migrated ND environment that was originally
   created in WPS 6.0.1.
   
   Problem Summary:
   In WPS 6.0.1 the Business Process Choreographer data source was
   created with a '_<clusterName>' suffix in ND environments.
   Later versions of WPS and BPM do no longer add this suffix to
   the 'jdbc/BPEDB' JNDI base name. The database upgrade scripts
   did not consider the old style JNDI name, therefore the Business
   Process Choreographer data source was not found in
   migration scenarios where Business Process Choreographer has
   initially been configured in WPS 6.0.1.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem Conclusion:
   The BPC database upgrade script was enhanced to look for the old
   style 'jdbc/BPEDB_<clusterName>' data source when
   it does not find the 'jdbc/BPEDB' data source.
   
   FIX AVAILABILITY:
   
   iFix for 7.5.0.1 is available on Fix Central, search for APAR
   JR47167 at http://www.ibm.com/support/fixcentral/ [http://www.ibm.com/support/fixcentral/]
   
   Fix is also targetted for inclusion in next fixpack for BPM
   V7.5.1.2
   
   Fix is also targetted for inclusion in next fixpack for BPM
   V8.0.1.2
   
   Fix is also targetted for inclusion in next fixpack for BPM
   V8.5.0.1
   
   When obtaining any of the above fixes, be sure to download the
   accompanying readme, for itself and any prerequisite fixes, and
   review them thorougly
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR47167
   
   
 * REPORTED COMPONENT NAME
   BPM ADVANCED
   
   
 * REPORTED COMPONENT ID
   5725C9400
   
   
 * REPORTED RELEASE
   751
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-07-09
   
   
 * CLOSED DATE
   2013-08-29
   
   
 * LAST MODIFIED DATE
   2013-08-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM ADVANCED
   
   
 * FIXED COMPONENT ID
   5725C9400
   
   

APPLICABLE COMPONENT LEVELS
 * R751 PSY
   UP