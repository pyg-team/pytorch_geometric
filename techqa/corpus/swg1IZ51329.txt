Title: IBM IZ51329: WEBSPHERE MQ V7 CLASSES FOR JMS APPLICATIONS WAIT INDEFINITELY  FOR THREADS TO START - United States

Text:
  FIXES ARE AVAILABLE
WebSphere MQ V7.0 Fix Pack 7.0.1.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24024528]
WebSphere MQ V7.0 Fix Pack 7.0.1.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24026518]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Applications using the WebSphere MQ V7 classes for Java Message
   Service (JMS) do not return from connection or session creation
   method calls.
   
   When using the WebSphere Application Server V7 WebSphere MQ
   messaging provider to connect to a WebSphere MQ V7 queue
   manager, the same problem can occur. When it does, the
   following error is observed in the SystemOut.log file:
   
   CWSJY0011W: Excessive load detected for thread pool
   
   There may also be reports of hung threads.
   
   A Javacore taken at the time of the problem will show a number
   of threads in the JmqiWorkerThread.syncExec method.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   This issue affects users of the WebSphere MQ V7 classes for
   JMS, and the WebSphere Application Server V7 WebSphere MQ
   messaging provider, who connect to a local queue manager in
   BINDINGS mode.
   
   Platforms affected:
   All Distributed (iSeries, all Unix and Windows) +Java
   ****************************************************************
   PROBLEM SUMMARY:
   When using a WebSphere MQ V7 classes for JMS application
   connecting to a queue manager in BINDINGS mode, work may be
   performed on separate threads. The request for a thread to
   start does not utilise a time limit, and so if the thread fails
   to start due to resource constraints, the application can hang.
   
   Work is performed on separate threads when XA functionality is
   utilised, and constraints are placed on the available threads
   when the WebSphere MQ classes for JMS are used by the WebSphere
   Application Server V7 WebSphere MQ messaging provider. Whilst
   it is possible for the problem to be encountered in other
   environments, the issue primarily affects WebSphere Application
   Server V7 users.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The WebSphere MQ V7 classes for JMS have been updated to timeout
   when waiting for a thread to be created.
   
   If a timeout condition occurs, an exception is thrown with a
   reason code of MQRC_RESOURCE_PROBLEM.
   
   In a WebSphere Application Server V7 environment, this can cause
   Messaging Endpoints to stop. To prevent the error condition
   occurring, the WMQCommonServices thread pool should be
   configured as per the WebSphere Application Server V7 manual.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
                      v7.0
   Platform           Fix Pack 7.0.1.0
   --------           --------------------
   Windows            U200306
   AIX                U823774
   HP-UX (PA-RISC)    U823665
   HP-UX (Itanium)    U823667
   Solaris (SPARC)    U823772
   Solaris (x86-64)   U824344
   iSeries            tbc_p700_0_1_0
   Linux (x86)        U823664
   Linux (x86-64)     U823773
   Linux (zSeries)    U823668
   Linux (Power)      U823666
   
   The latest available maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ51329
   
   
 * REPORTED COMPONENT NAME
   WMQ AIX V7
   
   
 * REPORTED COMPONENT ID
   5724H7221
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-05-15
   
   
 * CLOSED DATE
   2009-06-29
   
   
 * LAST MODIFIED DATE
   2009-06-29
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ AIX V7
   
   
 * FIXED COMPONENT ID
   5724H7221
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP