Title: IBM Configure CommitBeforeAutoCommit="true" when using TranQL Generic JDBC Resource Adapter to deploy datasources - United States

Text:
TranQL Generic JDBC Adapter; TranQL Generic JDBC Adapter; TranQL Generic JDBC Adapter; TranQL Oracle; TranQL Oracle; TranQL Oracle; WASCE Oracle; WASCE Oracle; WASCE Oracle; WAS CE; WAS CE; WAS CE; WASCE; WASCE; WASCE; JBoss; JBoss; JBoss; Glassfish; Glassfish; Glassfish; App Server; App Server; WebSphere CE; WebSphere CE; WebSphere CE; WebSphere Community Edition; WebSphere Community Edition; WebSphere Community Edition; IBM CE; IBM CE; IBM CE; Open Source; Open Source; Open Source TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When a database pool deployed using TranQL Generic JDBC Resource Adapter, is used in Java EE 5™ applications, commits to some of the JDBC transactions over Connection objects will not be processed immediately. These commits will be delayed until the Connection objects are closed or timed out. 

CAUSE
The database drivers for Oracle, MySQL, MaxDB, PostgreSQL will not perform a database commit when setAutoCommit() is called on the Connection Objects. Due to this reason, database commit for some of the transactions will be delayed until the Connection objects are closed or timed out.

RESOLVING THE PROBLEM
The configuration "CommitBeforeAutoCommit = true" is a setting in the database pool deployment plan and should be set for drivers that do not commit when calling setAutoCommit() on the Connection objects. These database drivers are Oracle, MySQL, MaxDB, PostgreSQL. For other databases, the value of "CommitBeforeAutoCommit" should remain the default which is "false" to avoid an extraneous commit to the database. 

Before deploying the database pool in WebSphere® Application Server Community Edition, modify the datasource deployment plan as described below. 

 * Open the deployment plan in a text editor.
   
   
 * Add the following configuration property.
   
   <config-property-setting name="CommitBeforeAutocommit">
   true
   </config-property-setting> 
   
 * Save the deployment plan.


Note : When TranQL Oracle XA Resource Adapter is used for Database pool deployment, the above setting can not used because the " CommitBeforeAutoCommit = true" setting is not available. This is a defect which will be fixed in the next service refresh release of WebSphere® Application Server Community Edition.