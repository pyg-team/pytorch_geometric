Title: IBM How the DB2 Content Manager crawler handles ACL data when document-level security is enabled - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 When document-level security is enabled for a collection, what type of access control list (ACL) information is examined by the DB2 Content Manager crawler? 

ANSWER
When document-level security is enabled, OmniFind Enterprise Edition uses pre-filtering and post-filtering methods to ensure that the search results contain only documents that the user who submitted the search request is authorized to view. 

When it is crawling data, the DB2 Content Manager crawler checks the ACL binding level that is configured on the DB2 Content Manager server. If document-level security is enabled, the indexing mode is switched according to the configured ACL binding level.

In DB2 Content Manager, the following ACL binding levels can be set:


 * Item type level 
 * Item level 
 * Mixed (item or item type) level 
 * Library level 


In most cases, the ACL binding level is set to Mixed, which is the default setting in DB2 Content Manager Version 8.4. 

If the ACL binding level is set to Mixed, the DB2 Content Manager crawler determines the ACL information based on both the Item type level and Item level. The intersection of the ACL information is saved to the index and used to pre-filter documents that are candidates to be returned in the search results. At this time, if a group name is registered to the ACL, only the group ACL information is examined for both of the ACL binding levels (Item type and Item). The ACL information for individual user names that are members of the group is not examined. 

For example, consider the following user name and group associations: 
 * UserA belongs to GroupX and GroupY. 
 * UserB belongs to GroupZ. 
 * Access control, which is bound at the Item level: GroupY and GroupZ are granted access to the document, but GroupX is not. 
 * Access control, which is bound at the Item type level: GroupX and GroupZ are granted access to the document, but GroupY is not.


The intersection of the group ACL information is saved to the index, in this case: YZ && XZ => Z. 

When UserA searches the collection, UserA cannot see the document in the search results when security (pre-filtering) is enabled. This is because the ACL information for UserA is not examined. Only the group-level ACL information is examined. Because UserA does not belong to GroupZ, which is the only group that has access at both the Item and Item type ACL binding levels, UserA is denied access to the document. 

The document is returned to UserB in the search results because UserB is a member of GroupZ. 

When it is post-filtering the search results, the enterprise search technology verifies that the DB2 Content Manager user account that is set on the My Profile page in the search application has access to documents that match the query terms. Before documents are returned in the search results, the user information is compared to the data that was collected during the pre-filtering phase, and only those documents that the user has access to are returned. 

To ensure that the search results include only documents that the user who submitted the search request is authorized to access, you must set the proper access controls in DB2 Content Manager before you crawl DB2 Content Manager sources. 
RELATED INFORMATION
#Content Manager Version 8.4 : Access control lists [http://publib.boulder.ibm.com/infocenter/cmgmt/v8r4m0/index.jsp?topic=/com.ibm.programmingcm.doc/dcmcm035.htm]
Content Manager Version 8.4 : Access control [http://publib.boulder.ibm.com/infocenter/cmgmt/v8r4m0/index.jsp?topic=/com.ibm.programmingcm.doc/dcmcm067.htm]