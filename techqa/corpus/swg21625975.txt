Title: IBM Tivoli Integrated Portal cleanup procedure on UNIX or Linux - United States

Text:
TIP; TDWC; Deployment Engine; install; uninstall; clean; clear; remove TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Tivoli Dynamic Workload Console (TDWC) v8.6 now integrates with Tivoli Integrated Portal (TIP). A manual uninstallation procedure is needed to remove the TIP Deployment Engine (DE) Registry. 

DIAGNOSING THE PROBLEM
To determine if there are Tivoli Integrated Portal (TIP) files left on the workstation, follow these steps:
1. Open a command session (assuming you are logged into the workstation as the root user) and change directories to the following directory:

cd /usr/ibm/common/acsi/bin

2. Run the setenv.sh command:

. /var/ibm/common/acsi/setenv.sh

3. Run the following command:

./listIU.sh

NOTE: If you cannot run the listIU.sh script, then that is an indication that the Deployment Engine 
has been uninstalled.


RESOLVING THE PROBLEM
The .swdis registry is the Software Distribution Registry that is used only by the TWS installation (not by the TDWC installation). 


The TDWC (only version 8.6) includes the TIP component. The TIP component registers itself in its own registry. This registry is called Deployment Engine (DE) Registry and is located in the /usr/ibm/common/acsi and /var/ibm/common/acsi directories.

To manually remove the TIP Deployment Engine (DE) Registry, follow these steps on UNIX or Linux:

NOTE: If you have other applications using the Deployment Engine, you should not remove the 
files for the Deployment Engine.

1. Create a script with these commands:

#!/bin/sh

# Source the Deployment Engine environment
if [ -f /var/ibm/common/acsi/setenv.sh ]; then
. /var/ibm/common/acsi/setenv.sh
fi

# Uninstall Deployment Engine
if [ -f /usr/ibm/common/acsi/bin/si_inst.sh ]; then
/usr/ibm/common/acsi/bin/si_inst.sh -r -f
fi 

# Kill Deployment Engine
kill -9 `ps -aef | grep acsi | grep -v grep | awk '{ print $2 }'` 2> /dev/null

# Kill the Tivoli Integrated Portal server
kill -9 `ps -aef | grep tip | grep -v grep | awk '{ print $2 }'` 2> /dev/null

# Remove the install directories
rm -rf /var/ibm/common/acsi /usr/ibm/common/acsi /opt/IBM/Tivoli/tip

# Remove the Deployment Engine logs
rm -rf ~/IA-TIPInstall*log

2. Save the script.

3. Before running this script, run the following command:

chmod 755 <file_name>.sh 
where "file_name" is the name of the script you created.

4. Run the script program.

After the script runs, the TIP Deployment Engine (DE) Registry should be "cleaned" from the workstation. A new TDWC installation should succeed at this point.

 

PRODUCT ALIAS/SYNONYM
 TDWC