Title: IBM ACS SSL MSGSSL004 Using 256-Bit Cipher Suites - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 US English 

PROBLEM(ABSTRACT)
 Using RSA_AES_256_CBC_SHA or RSA_AES_256_CBC_SHA256 caused client to not connect using SSL. 

SYMPTOM
MSGSSL004 - An error was encountered during the handshake phase of establishing a secure connection (Received fatal alert: handshake_failure).


CAUSE
Oracle JRE can not release cipher suites unrestricted due to import laws in other countries. Therefore, the 256-bit cipher suites are not enabled by default.

ENVIRONMENT
Windows or Linux running Oracle JREs.

DIAGNOSING THE PROBLEM
A standard TRCCNN can be taken and converted to Wireshark.


In the SSL client hello, you will see a limited list of supported cipher suites. At the time of writing this document, only 29 were shown as available. Once the Oracle JCE Unlimited Strength Jurisdiction Policy Files were installed, the advertised available suites listed in the SSL client hello was increased to 50.


RESOLVING THE PROBLEM
At the time of writing this document, Oracle JRE 8 was available; therefore, all the links are specific to that release. Note: In future releases, the files will change. 


Details are available at the following URL:
[http://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html#importlimits]http://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html#importlimits [http://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html#importlimits]

The Oracle JCE Unlimited Strength Jurisdiction Policy Files are available at the following URL:
http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html [http://www.oracle.com/technetwork/java/javase/downloads/jce8-download-2133166.html]

To install the files, you should do the following: 

1. Extract the zip file you downloaded. 2. Copy the new local_policy.jar and US_export_policy.jar files, and replace the existing ones.
The location will vary to your bitness of JRE installed. Because the path can be specified, we have chosen not to include the absolute path and, instead, provided a relative path. 3. Once you have located where the JRE is installed, browse to the /lib/security folder.
This is where the two new policy files will be copied to. 4. After the policy files are updated, shut down your ACS client and open it back up. It should work with the higher cipher suites now.