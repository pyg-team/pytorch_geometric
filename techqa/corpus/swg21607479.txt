Title: IBM Common causes of LNT0928 error on server startup - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM
Domino Server will not start, a review of the QNNINSTS job reports an LNT0928 was reported.

SYMPTOM
Server will not start.


CAUSE
LNT0928 usually represents an OS problem, security 

DIAGNOSING THE PROBLEM
Below are some common errors, their symptoms, and commonly applied resolutions: 

Error: "Unable to create file"
Domino Console Error: "Unable to create file."
AS/400 Error Message ID: The QNNINSTS Job log reports LNT0928 x'00008108' Error 1 occurred while running the Domino server. The sense of data translated means "Unable to create file."

Symptoms:
The Domino server is unable to start.
QNNINSTS task will start and end.
The SERVER task will start and end.
Other tasks may start and remain active.

Resolution:
One of the files in the ../notes/data directory is not owned by QNOTES. In most cases, this is the notes.ini or a new database file that has been copied or FTPd from a PC. As of the Domino Beta testing, this requirement is already documented on Page 15 of the Domino Beta Installation guide. Use the OS/400 commands CHGOWN or WRKLNK and Option 9 and F19 to change the owner of the file.
---------------------------------------------------

Error:LNT0928 RC1 x'00000607'

Symptoms:
The Domino server is unable to start.
QNNINSTS task will start and end.
The SERVER task will start and end.
Resolution:
Unknown



Error: "Shared Memory Access Violation"
Domino Console Error: None
AS/400 Error Message ID: The QNNINSTS Job Log will report LNT0928 x'00000102' Error 1 occurred while running the Domino server. The sense of data translated means, Shared Memory Access Violation.

Symptoms:
The Domino server is unable to Start.
QNNINSTS Task will start and end.
SERVER Task will start and end.
No other task will start.

Resolution:
This error is thought to be the result of a Domino server being configured and then deleted the new install attempt didn't recover all the existing QNOTES objects. It may also be caused by doing ENDSBS *IMMED or ENDJOBABN on a previous server job. An IPL of the system clears the shared memory error. The for the Domino Server can also be used to clear shared memory.
-----------------------------------------------------

Error: "Damaged Semaphore"
Domino Console Error: (Varies)
AS/400 Error Message ID: (Varies)

Symptoms:
The Domino server is unable to Start.
QNNINSTS Task will start and end.
SERVER Task will start and end.
No other task will start.

Resolution:
This error is thought to be the result of a Domino server being configured and then deleted, and the new install attempt didn't recover all the existing QNOTES objects. It may also be caused by doing ENDSBS *IMMED or ENDJOBABN on a previous server job. An IPL of the system will clear the damaged semaphore.
-----------------------------------------------------

Error: "Operating System error"
Domino Console Error: "Operating System error"
AS/400 Error Message ID: "The QNNINSTS Job log reports LNT0928 x'00000101' Error 1 occurred while running the Domino server."

Symptoms:
The Domino server is unable to start.
QNNINSTS task will start and end.
The SERVER task will start and end.

Resolution:
In IFS the \notes\data directory is corrupted. It can no longer be accessed via WRKLNK, but it is still possible to access the directory via the LAN. This issue can only be resolved by recreating the directory. To do this, first run reclaim storage, which will place all corrupted objects in the recycle bin, and then restore a full backup of \notes\data, or run CFGDOMSVR to recreate the directory and restore the necessary specific files (such as NOTES.INI, NAMES.NSF, ID files, ADMIN4.NSF, CERTLOG.NSF, application databases, etc.)
------------------------------------------

Error: "NSF Buffer Pool set too large in notes.ini"
Domino Console Error: NSF DBU hash table pool is full.
AS/400 Error Message ID: The QNNINSTS Job log reports LNT0928 x'000083BC' Error 1 occurred while running the Domino server. 

Symptoms:
The Domino server is unable to start.
QNNINSTS task will start and end.
The SERVER task will start and end.

Resolution:
In the notes.ini, the line NSF_BUFFER_POOL_SIZE_MB is set larger than the maximum allowed. In Domino releases 6.x and 6.5.x, the maximum allowed size is approximately 1500 MB. Edit the notes.ini (WRKDOMSVR option 13) and change that line to an allowed value.