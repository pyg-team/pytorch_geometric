Title: IBM IY95464: PRIMARY CLUSTER MEMBER FAILS TO RESPOND TO SECONDARY WHEN IT IS OVER HEADED, SECONDARY ASSUMES PRIMARY IS DOWN. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Primary cluster member fails to respond to Secondary when it is
   over headed, Secondary assumes primary is down and tries to
   become one. It ends up in vague situation when it finds still
   primary is registered with Application registry.
   
   
    
   
   

LOCAL FIX
 *  Replication steps:
   
   1. Edit the nci_server startup script to echo the runtime line
   
   2. Use this line directly to start the Java process in the
   foreground
   
   3. This was done on two separate terminal windows (one for
   primary and one for secondary)
   
   4. When the two servers were running a 'tail -f' of each Impact
   server was run on a third and fourth terminal window
   
   5. Ctrl-z was executed on the primary to pause the Java process
   
   6. After a minute the backup started to take over as primary.
   
   7. Halfway through this process 'fg' was used on the primary to
   get it running again
   
   8. When the backup server sees that the primary is alive again
   the exception is thrown
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All Impact users                             *
   ****************************************************************
   * PROBLEM DESCRIPTION: Replication steps: 1. Edit the          *
   *                      nci_server startup script to echo the   *
   *                      runtime line 2. Use this line directly  *
   *                      to start the Java process in the        *
   *                      foreground 3. This was done on two      *
   *                      separate terminal windows (one for      *
   *                      primary and one for secondary) 4. When  *
   *                      the two servers were running a 'tail    *
   *                      -f' of each Impact server was run on a  *
   *                      third and fourth terminal window 5.     *
   *                      Ctrl-z was executed on the primary to   *
   *                      pause the Java process 6. After a       *
   *                      minute the backup started to take over  *
   *                      as primary. 7. Halfway through this     *
   *                      process 'fg' was used on the primary to *
   *                      get it running again 8. When the backup *
   *                      server sees that the primary is alive   *
   *                      again the exception is thrown           *
   *                                                              *
   *                                                              *
   *                                                              *
   ****************************************************************
   * RECOMMENDATION:                                              *
   *                                                              *
   ****************************************************************
   The Primary cluster member goes offline and the Secondary
   attempts to take over the primary role. Then the original
   Primary comes back online before role conversion is complete.
   In this case the Secondary server would shutdown.
   
   
    
   
   

PROBLEM CONCLUSION
 *  fixed in v3.1 fix pack 4
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY95464
   
   
 * REPORTED COMPONENT NAME
   NETCOOL/IMPACT
   
   
 * REPORTED COMPONENT ID
   5724O59IS
   
   
 * REPORTED RELEASE
   310
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-03-01
   
   
 * CLOSED DATE
   2007-04-02
   
   
 * LAST MODIFIED DATE
   2007-10-16
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *     IMPACT
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   NETCOOL/IMPACT
   
   
 * FIXED COMPONENT ID
   5724O59IS
   
   

APPLICABLE COMPONENT LEVELS
 * R310 PSY
   UP