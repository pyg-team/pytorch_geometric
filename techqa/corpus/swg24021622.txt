Title: IBM PK75548; 6.1.0.21: ClassCastException in JAX-RPC - United States

Text:
PK75548; PK75548; PK75548 DOWNLOADABLE FILES

ABSTRACT
 If SOAP fault message contains 'detail' element with a namespace qualified prefix, ClassCastException occurs. 

DOWNLOAD DESCRIPTION
PK75548 resolves the following problem:

ERROR DESCRIPTION: 
User will receive a ClassCastException in JAX-RPC when a SOAP Fault <detail> element contains a namespace prefix. 

The exception is: java.lang.ClassCastException: 
com.ibm.ws.webservices.engine.xmlsoap.SOAPElement incompatible with javax.xml.soap.Detail. 

LOCAL FIX: 

PROBLEM SUMMARY:

USERS AFFECTED:
All users of WebSphere Application Server Feature Pack for Web Services

PROBLEM DESCRIPTION:
If SOAP fault message contains 'detail' element with a namespace qualified prefix, ClassCastException
occurs.

RECOMMENDATION:
None

If a SOAP fault message contains a 'detail' element with a prefix (in other words, it is namespace qualified), a ClassCastException occurs.

The stack trace may look like this:

java.lang.ClassCastException:
com.ibm.ws.webservices.engine.xmlsoap.SOAPElement incompatible with javax.xml.


soap.Detail
at com.ibm.ws.webservices.engine.xmlsoap.SOAPFault.getDetail(SOAPFault.java:776)
at com.ibm.ws.webservices.engine.xmlsoap.builders.WebServicesFaultProcessor.createFault
(WebServicesFaultProcessor.java:322)
at com.ibm.ws.webservices.engine.xmlsoap.SOAPFault.getFault(SOAPFault.java:838)
at com.ibm.ws.webservices.engine.SOAPPart.getFault(SOAPPart.java:1157)
at com.ibm.ws.webservices.engine.SOAPPart.getFault(SOAPPart.java:778)
at com.ibm.ws.webservices.engine.Message.getFault(Message.java:1009)
at com.ibm.ws.webservices.engine.Message.ifFaultThrowSelf(Message.java:989)
at com.ibm.ws.webservices.engine.PivotHandlerWrapper.invoke(PivotHandlerWrapper.java:281)
at com.ibm.ws.webservices.engine.handlers.jaxrpc.JAXRPCHandler.invoke(JAXRPCHandler.java:152)
at com.ibm.ws.webservices.engine.PivotHandlerWrapper.invoke(PivotHandlerWrapper.java:228)
at com.ibm.ws.webservices.engine.PivotHandlerWrapper.invoke(PivotHandlerWrapper.java:228)
at com.ibm.ws.webservices.engine.WebServicesEngine.invoke(WebServicesEngine.java:336)
at com.ibm.ws.webservices.engine.client.Connection.invokeEngine(Connection.java:929)
at com.ibm.ws.webservices.engine.client.Connection.invoke(Connection.java:722)
at com.ibm.ws.webservices.engine.client.Connection.invoke(Connection.java:673)
at com.ibm.ws.webservices.engine.client.Connection.invoke(Connection.java:495)
at com.ibm.ws.webservices.engine.client.Call.invoke(Call.java:1728)

PROBLEM CONCLUSION: 
This fix allows the build-up of a detail element with a prefix. The WebSphere Application Server engine will now tolerate a detail element that is namespace qualified. 

The fix for this APAR is currently targeted for inclusion in Feature Pack fixpack 6.1.0.23 and WebSphere Application Server fixpack 7.0.0.3. 

Please refer to the Recommended Updates page for delivery information: 
http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]

PREREQUISITES
Please download the UpdateInstaller below to install this fix.

URL LANGUAGE SIZE(Bytes) UpdateInstaller [http://www.ibm.com/support/docview.wss?rs=180&uid=swg21205991] US English 7250000 
INSTALLATION INSTRUCTIONS
Please review the readme.txt for detailed installation instructions.

URL LANGUAGE SIZE(Bytes) Readme [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PK75548/readme.txt] US English 9003 
DOWNLOAD PACKAGE




Download RELEASE DATE LANGUAGE SIZE(Bytes) Download Options 
What is Fix Central(FC)? [https://www.ibm.com/support/fixcentral/help?page=swfaqs] 
What is DD? [http://www6.software.ibm.com/dldirector/doc/DDfaq_en.html] 6.1.0.9-WS-WAS-IFPK75548 12/11/2008 US English 14752 FC [http://www.ibm.com/support/fixcentral/quickorder?fixids=6.1.0.9-WS-WAS-IFPK75548&product=ibm%2FWebSphere%2FWebSphere%20Application%20Server&source=dbluesearch] FTP [ftp://public.dhe.ibm.com/software/websphere/appserv/support/fixes/PK75548/6.1.0.9-WS-WAS-IFPK75548.zip] DD 
TECHNICAL SUPPORT
 Contact IBM Support using SR (http://www-306.ibm.com/software/support/probsub.html [http://www-306.ibm.com/software/support/probsub.html]), visit the WebSphere Application Server Support Web site (http://www.ibm.com/software/webservers/appserv/was/support/ [http://www.ibm.com/software/webservers/appserv/was/support/]), or contact 1-800-IBM-SERV(U.S. only). 

 [/support/docview.wss?uid=swg24021622&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24021622&aid=2]Problems (APARS) fixed
PK75548