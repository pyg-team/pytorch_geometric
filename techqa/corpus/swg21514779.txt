Title: IBM ITCAM4Tx : RRT Recurrent gaps in TEP "Transaction Availability Trend" workspace - United States

Text:
gaps periodical recurrent aggregation collection interval view Transaction Availability Trend holes 71GEN-TEPWV 71RRT-WV TECHNOTE (FAQ)

QUESTION
 Why do periodic gaps occur (for e.g. timestamps ..., 09:10, 09:40, 10:10, 10:40, 11:10, 11:40, etc.) in the ITCAM for Transactions Robotic "Transaction Availability Trend" view? 

CAUSE
If you playback a robotic script every 10 minutes, and the "Aggregate Period Minutes" is also 10 minutes, you normally see 6 data slots every 10 minutes per hour in the "Transaction Availability Trend" view of the workspace : "Transaction Details".
But it may happen that you observe periodical gaps in such a way that, as example, the minutes 10 and 40 for every hour are not reported.
The export of the view: "Transaction Availability Trend" as csv file also shows gaps for xx:10 and xx:40 (e.g. 10:10; 10:40; 11:10; 11:40; ..) and the corresponding values for "Total Requests" are always 1.

The ODI data files from [ITM_HOME]\tmaitm6\odi\arm are complete, i.e. every time stamp with an interval of 10 minutes is available, i.e. the T6 playback engine is not the root cause. 

According to the check of short-term history (STH) files: T6APPCS*, T6TXCS*, T6SUBTXCS* 
(e.g. using "krarloff" utility), the chosen collection interval here is 15 minutes. 

Thus the cause for the gaps is a configuration setting problem.


ANSWER
The recurrent gaps are caused by a faulty configuration. So let's have a closer look at the configuration settings: 


The History Collection Configuration window for the Attribute Group: 
"RRT Transaction Status" of the involved RRT transaction 
delivers the following configuration: 
Collection Interval: 15 minutes 
Collection Location: TEMA 
Warehouse Interval: 15 minutes 

The RRT T6 Agent configuration settings deliver : Aggregate Period Minutes : 10 
as seen in TEP view : Robotic Response Time -> Configuration -> Agent Details 

The script execution time is 10 minutes e.g. according to the RRT_Transaction_Instance table T6TXINS (writetime or timestamp). 

The Warehouse Interval is not important for our gaps issue. 
FYI: This is the rate at which the data is uploaded from Short-Term History files to the WAREHOUS database. 

The interesting values are the "Aggregate Period Minutes" and the "Collection Interval". 

The prerequisite is, that all script execution times (writetime or timestamp) exist in the RRT_Transaction_Instance (T6TXINS) table. Otherwise we would experience real gaps. 
The RRT Transaction Instance attribute group manages pure data, thus it does not depend on the collection and warehouse interval settings like seen in the history configuration GUI.

The "Collection Interval" is the rate at which the Short-Term History (STH) file on the TEMA is updated using the so-called ODI data from the agent. The collection happens as often as the ODI data is updated. This is defined by the agent value "Aggregate Period Minutes" (which corresponds to "Number of minutes to aggregate data before writing out a data point" entry in the "Data Analysis Configuration" tab of the RRT TEMA configuration.)

The aggregate period in minutes can be seen as scaling configuration for the x-axis (time scale) of the "Transaction Availability Trend". If like in our case, the Aggregate Period Minutes is 10, then 6 potential data values can be displayed in the view per hour. Periodic gaps in the TEP view : "Transaction Availability Trend" (taken from the RRT Transaction Status (T6TXCS) table) occur if the "Collection Interval" value is bigger (e.g. 15 minutes) than the "Aggregate Period Minutes" values as seen in the appropriate "Agent Details" view (e.g. here 10 min). If the "Collection Interval" is like in your example 15 minutes (collection frequency : 4 times per hour) and the "Aggregate Period Minutes" is 10 minutes (aggregate frequency : 6 times per hour), then two ODI data updates within one hour does not happen, i.e. two data values on the x-axis in our view are not served. 

In short, there are periodical gaps in the "Transaction Availability Trend" view when the collection frequency is less than the aggregate frequency. In other words, the "Aggregate Period Minutes" value must be equal or higher than the "Collection Interval" value. 
Thus the solution for our example is for "Aggregate Period Minutes : 10" to change the "Collection Interval" from 15 minutes to 5 minutes.

[/support/docview.wss?uid=swg21514779&aid=1] [/support/docview.wss?uid=swg21514779&aid=1]

On the screen shot above, you can see the recurrent gaps if for "Aggregate Period Minutes : 10" the "Collection Interval" is set on 15 minutes till 10:10. After that time the "Collection Interval" was changed to 5 minutes and no gap occurs anymore. 

Note:
- Different settings of the ITCAM4Tx playbacks have to be adjusted to present the monitoring data in a manner that is appropriate to the usage of the product. For example, an aggregate period of 5 minutes should not be utilized when scripts are executed every 10 minutes, or if the scripts could potentially overrun the timeout value settings of the T6 agent etc. If the aggregate period is 5 minutes, but the script execution time is 10 minutes, then there is partly no data to collect. If another script runs every 5 minutes then you have a data record every 5 minutes. 

- If the script interval is the same as, or a multiple of, the aggregation interval, the result is easier to understand. 

RELATED INFORMATION
#RRT (KT6) Agent Data Collection [http://www.ibm.com/support/docview.wss?uid=swg21385388]




PRODUCT ALIAS/SYNONYM
 ITCAMfT TCAMfT CAMfT ITCAMfTRANSACTIONS ITCAM4TRANSACTIONS