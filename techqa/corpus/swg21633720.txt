Title: IBM embedded WebSphere Application Server and IBM HTTP Server maintenance installation procedure for IBM Tivoli Monitoring V6.2.3 - United States

Text:
embedded WAS; eWAS; embedded WebSphere Application Server; TEPS; fix pack; portal server; ITM; upgrade eWAS; security TECHNOTE (FAQ)

QUESTION
 How do we install maintenance for the embedded WebSphere Application Server and the IBM HTTP Server provided by IBM Tivoli Monitoring V6.2.3? 

CAUSE
IBM Tivoli Monitoring (ITM) provides embedded WebSphere Application Server (eWAS) and IBM HTTP Server (IHS) for use with Tivoli Enterprise Portal Sever (TEPS). For maintenance purposes it may be necessary to install fix packs and/or interim fixes for eWAS and IHS.
You can use this procedure to install fix packs and interim fixes for a given eWAS and IHS version, but not to upgrade to a new eWAS or IHS version. For example, you can use it to install eWAS 7.0.0.43 on top of eWAS 7.0.0.29, but you cannot use it to install eWAS version 8.0 on top of eWAS version 7.0. 
The following table shows the different levels of eWAS and IHS that are provided by 6.2.3:



ITM version eWAS version IHS version 6.23.05.00 7.0.0.29 7.0.0.00 6.23.03.00 - 6.23.04.00 7.0.0.25 7.0.0.00 6.23.01.00 - 6.23.02.00 7.0.0.19 7.0.0.00 6.23.00.00 7.0.0.15 7.0.0.00 
This technote applies specifically to eWAS, not the full version of WebSphere. Further, this technote applies only to V6.2.3 of ITM. 
ANSWER
Follow these steps to install a new eWAS fix pack into your ITM environment: 

Step 1. Back up your ITM environment.
Back up your ITM environment using your local procedures.

Step 2. Download the maintenance installation scripts.
Download the appropriate eWAS/IHS maintenance installation script to the system where your TEPS resides.
Unix/Linux: Download ewasihsv7update.sh attached below. Ensure that the script has execute permission after it has been downloaded.
ls -l ./ewasihsv7update.sh
chmod a+rx ./ewasihsv7update.sh
Windows: Download ewasihsv7update.cmd attached below.

Step 3. Generate the list of files that need to be downloaded.
Run ewasihsv7update.sh or ewasihsv7update.cmd to generate the list of files that need to be downloaded and to create the temporary directory to hold them.
When the prompt beginning with "Have all required files been downloaded to" is displayed,
respond with n to exit the script so that you can download the required files.

The usage information for the command follows: 

 * Unix:
   ewasihsv7update.sh [-h candle_directory] [-w working_directory] [-u updateinstaller directory]
   -h Fully qualified path of the ITM installation directory.
   -w Fully qualified path of the temporary working directory for file downloads.
   -u Fully qualified path of the UpdateInstaller installation directory.
   If ewasihsv7update.sh was downloaded to CANDLEHOME/bin/, then the -h option is not needed.
   The working directory default value is: /tmp/ewasihsv7. You can specify a different location using the -w option.
   The -u option should only be used when installation of the UpdateInstaller to the documented default directory is not permitted.  *  AIX Default Location:
      /usr/IBM/WebSphere/UpdateInstaller Linux Default Location:
      /opt/IBM/WebSphere/UpdateInstaller 
   
   
 * Windows:
   ewasihsv7update.cmd [-h candle_directory] [-w working_directory] [-u updateinstaller directory]
   -h Fully qualified path of the ITM installation directory.
   -w Fully qualified path of the temporary working directory for file downloads.
   -u Fully qualified path of the UpdateInstaller installation directory.
   The ITM installation directory default value is the %CANDLE_HOME% value retrieved from the shell environment. Normally the -h option is not needed.
   The working directory default value is: %TEMP%\ewasihsv7. You can specify a different location using the -w option.
   The -u option should only be used when installation of the UpdateInstaller to the documented default directory is not permitted.  * Windows Default Location:
      "C:\Program Files\IBM\WebSphere\UpdateInstaller"
   
   


Step 4: Download the files listed in the output from step 3 between the two delimiter lines starting with: 
<><><><><><><><><><> 
There are a number of ways to download the files:  1. If a browser is available on the TEPS system:  * For each file listed between the two delimiter lines in the output from step 3;  * Copy and paste the full line, one at a time, into the browser address bar and then hit enter. 
        * Save the file to the working directory displayed after the second delimiter line in the output from step 3.
       
       
    
    
 2. If the wget utility is available, in a command prompt on the TEPS system:  * Change directory to the working directory displayed after the second delimiter line in the output from step 3. 
     * For each file listed between the two delimiter lines in the output from step 3;  * Enter the wget command followed by the copy and paste of the full line, and then hit enter.
       
       
    
    
 3. If the ftp utility is available, in a command prompt on the TEPS system:  * Change directory to the working directory displayed after the second delimiter line in the output from step 3. 
     * Run the ftp command and connect to public.dhe.ibm.com as anonymous. 
     * For each file listed between the two delimiter lines in the output from step 3;  * Change the remote directory to parent directory of the file (starting with /software/websphere/appserv/support) 
        * Get the file.
       
       
    
    
 4. Use any other method available to you to download the files.
    

Step 5. Install the UpdateInstaller and eWAS and IHS maintenance 
Run ewasihsv7update.sh or ewasihsv7update.cmd again 
When the prompt starting with "Have all required files been downloaded to" is displayed, 
respond with y to allow the script to continue and perform the UpdateInstaller and maintenance installation actions. 

Step 6. Cleanup 
Remove the temporary working directory displayed after the second delimiter line in the output from step 3. 

Step 7. Verify the update 
Run run the cinfo/kincinfo command with the -i -z options, which should print out the following messages: 

On a UNIX/Linux system, 
where $CANDLEHOME is the IBM Tivoli Monitoring installation directory. 
$CANDLEHOME/bin/cinfo -i -z 
will print the following iu and iw entries depending on the platform: 

iu IBM HTTP Server 
aix536 Version: 07.00.43.00 
Patch: 7.0.0.43-WS-WASIHS-AixPPC32 APARs: IFPI82481 

iw IBM Tivoli Enterprise Portal Server Extensions 
aix536 Version: 07.00.43.00 
Patch: 7.0.0.19-WS-WAS APARs: IFPI79343 
Patch: 7.0.0.0-WS-WASJavaSDK-AixPPC64 APARs: IFPI84269 


iu IBM HTTP Server 
li6263 Version: 07.00.43.00 
Patch: 7.0.0.43-WS-WASIHS-LinuxX32 APARs: IFPI82481 

iw IBM Tivoli Enterprise Portal Server Extensions 
li6263 Version: 07.00.43.00 
Patch: 7.0.0.19-WS-WAS APARs: IFPI79343 
Patch: 7.0.0.0-WS-WASJavaSDK-LinuxX32 APARs: IFPI84269 


iu IBM HTTP Server 
ls3266 Version: 07.00.43.00 
Patch: 7.0.0.43-WS-WASIHS-LinuxS390 APARs: IFPI82481 

iw IBM Tivoli Enterprise Portal Server Extensions 
ls3266 Version: 07.00.43.00 
Patch: 7.0.0.19-WS-WAS APARs: IFPI79343 
Patch: 7.0.0.0-WS-WASJavaSDK-LinuxS39064 APARs: IFPI84269 

On a Windows system. 
kincinfo -i -z 
will print the following IU and IW entries: 

IU TEPS App Support/IBM HTTP Server 
WINNT Version: 07.00.43.00 Build: d4029a 
Patch: 7.0.0.0-WS-WASJavaSDK-WinX32 APARs: IFPI84269 
Patch: 7.0.0.43-WS-WASIHS-WinX32 APARs: IFPI82481 

IW TEPS App Support/Tivoli Enterprise Portal Server Extensions 
WINNT Version: 07.00.43.00 Build: d4029a 
Patch: 7.0.0.0-WS-WASJavaSDK-WinX32 APARs: IFPI84269 
Patch: 7.0.0.19-WS-WAS APARs: IFPI79343 



Known Issues / Workarounds 
None. 
Attachments:
ewasihsv7update.sh [/support/docview.wss?uid=swg21633720&aid=2]ewasihsv7update.sh [/support/docview.wss?uid=swg21633720&aid=1] ewasihsv7update.cmd [/support/docview.wss?uid=swg21633720&aid=4]ewasihsv7update.cmd [/support/docview.wss?uid=swg21633720&aid=3]