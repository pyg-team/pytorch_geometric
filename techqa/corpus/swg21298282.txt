Title: IBM Australia (DST) Changes:  Information for Tivoli Workload Scheduler - United States

Text:
time change; standard; TWS ; DST; DST2007 FLASH (ALERT)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 English 

ABSTRACT
 The eastern Australian states ACT (Canberra), New South Wales (Sydney), and Victoria (Melbourne) as well as South Australia (Adelaide) and Tasmania (Hobart) are extending the period of Daylight Saving Time (DST) effective 2008. In 2008, DST will start on the first Sunday in October and end on the first Sunday in April. There will be no change to the start of DST in 2007 which will commence on the last Sunday of October. 

CONTENT
"Where can I get more information?" 

Consolidated information on the impact of the Australia DST changes on IBM products is available at the following Web site: 
http://www-306.ibm.com/software/support/tz.html [http://www-306.ibm.com/software/support/tz.html]

"How Do I Know if my systems could be affected?"
"Your systems are likely to be affected by this change, even if you are operating outside of the Australia. Date and time processing functions in systems and applications in countries implementing the new DST rules are affected. Systems and applications in countries not implementing the DST changes could be impacted if they support users, transactions or applications originating in countries which are implementing the new DST rules. For example, scheduling or synchronizing problems may arise where systems make or check date or time stamps relating to transactions in other countries, or there may be difficulty in scheduling meetings. 

"What could happen if I do not update my systems?"
"Systems or applications that rely on date or time processing functions could make incorrect calculations. Calendar, scheduling, or synchronizing problems could arise where systems use date or time stamps, or if dates or times are processed or manipulated in any way. 
In short, if your system makes date or time calculations, you may experience calculation errors.

"What do I need to do to protect my systems and applications?"
"Some systems and applications can be fixed now. Other systems and applications recognize only one DST rule at a time and should not be patched until after the first Sunday in November, 2006 when the US has returned to Standard Time. 
This site will help you find the necessary information for affected products so that you can plan updates and eliminate the risk of application failure. "

Customer is advised to install the TWS Fix Packs that address these DST changes.

- Timezone Enabled
Below the what needs to be updated.
(Remember that if the time zone is enabled and either all your workstations work on the same time zone or on different time zones not impacted by DST changes, it is not required to patch TWS.)

o The Master Domain Manager, its Backup Master(s), and the TWS Connector if at least one of the Workstations of the TWS network is working on a time zone impacted by the DST change (mandatory)

o The DM, FTA, SA and JSC are optional.

You have to upgrade a TWS agent when:
o The DM and the hosted Standard Agents work on two different time zones and one of those is impacted by the DST change. If both the agents work on the same time zone you are not required to install the patch, otherwise you have to patch the Domain Manager.

o The DM (or the FTA or the SA) and the hosted Extended Agents work on two different time zones and one of those is impacted by the DST change. If both the agents work on the same time zone, you are not required to install the patch.

o You have a Job Stream (Schedule) defined on a workstation working on one of the impacted time zones and this job stream has a time dependencies (at, until or deadline). Since this dependency is resolved locally on all the agents you have to patch at least the workstation of the jobs included in this job stream.

For example:
- Workstation WKS_A defined on TZ EST
- Workstation WKS_B defined on TZ GMT
- Workstation WKS_C defined on TZ CET

If you have a schedule defined in this way:

schedule WKS_A#MySchedule
on EVERYDAY
at 1500 << -------- this is the time dependency
:
WKS_A#MyJob_1
WKS_B#MyJob_2
WKS_C#MyJob_3
END

you have to patch both the WKS_A and the WKS_C.

o You use this agent to submit ad-hoc jobs for a Workstation working on one of the impacted time zones and you have specified a different time zone for the time dependency (at, until or deadline).

You have to upgrade the Job Scheduling Console (JSC) if the time zone is enabled and the JSC or one of the agents of the TWS network is working in one of the affected time zones to submit jobs or job streams specifying a time dependency (at, until, deadline) using one of the affected time zones.

The suggested path is to install the Fix Packs on the TWS Master and FTAs located in countries impacted by DST changes.

On other Domain Managers or FTAs that are located in countries not impacted by DST changes, if the customer does not install the TWS/JSC Fix Packs that address these DST changes :

1. Avoid submitting ad hoc jobs or jobstreams with time dependencies against FTAs located in countries impacted from DST changes.

2. Avoid submitting ad hoc jobs or jobstreams from non-patched FTAs located in countries not impacted by DST changes to other FTAs using Time Dependencies with timezone (TZ) settings that are impacted by DST changes.

Both scenarios should be avoided during the timeframe difference between "old" DST rules and "new" ones.

If they are performed during this timeframe, customers could experience some time misalignment in jobs execution or display.

DST fixes for TWS 8.2,TWS 8.2.1 

1. Download the package821.zip to a temporary directory. For TWS 8.20 please use 821.zip. 


2. Stop the TWS Batchman and Mailman processes by issuing the conman unlink and conman stop commands. (It is not necessary to stop Netman.) The Batchman and Mailman processes must be brought down as they read the new zoneinfo data that this eFix replaces.

3. Create a Backup of the twshome/zoneinfo directory without removing the original directory. Verify the ownership and permissions before copying the eFix into the maestrohome/zoneinfo directory. This way, after the eFix installs the files/directory inside maestrohome/zoneinfo, the OS will maintain the correct user rights. 

4. Unzip the 83/821.zip into the temporary directory. This will create the zoneinfo directory and under it the following different directories. One directory for each interp will be created:

Example:
03/12/2007 07:30p <DIR> aix4-r1
03/12/2007 07:30p <DIR> hpux10
03/12/2007 07:30p <DIR> linux-ix86
03/12/2007 07:30p <DIR> linux-ppc
03/12/2007 07:30p <DIR> linux-s390
03/12/2007 07:30p <DIR> mips-irix5
03/12/2007 07:30p <DIR> osf-axp
03/12/2007 07:30p <DIR> sequent
03/12/2007 07:29p <DIR> solaris2
03/12/2007 07:30p <DIR> w32-ix86

5. Copy the output of the unzip/untar from the temporary directory/<your interp> into TWS twshome/zoneinfo. Make sure to copy the whole directory (for example, w32-ix86) and its subdirectories.

On Unix:


The substitution is usually done from the temporary directory with cp -R * maestrohome/zoneinfo.
This should maintain the original files/directory maestro user rights. It is important to check the correctness of the user rights for files and directory inside twshome/zoneinfo after the substitution.

On Unix Execute the following instructions:

chown -R $MAEUSER zoneinfo
chgrp -R $MAEGROUP zoneinfo

On Windows:

The copy can be done using xcopy *.* /s /e from the temporary directory/interp to Maestrohome/zoneinfo. The OS will maintain the correct user rights when replacing new files on top of the older ones.

6. Start TWS processes 

 

DST fixes for JSC 1.3,JSC 1.4 ,JSC 8.3,JSC 8.4 and Tivoli Dynamic Workload Console 8.3/ 8.4: 

They will be covered with the 
IBM Time Zone Update Utility for Java: 

JTZU Tool:
http://www-128.ibm.com/developerworks/java/jdk/dst/index.html [http://www-128.ibm.com/developerworks/java/jdk/dst/index.html]

TWS 8.3 and higher Readmes and TWS Planning Install 
will document that in order to allow TWS 8.3 and higher 
releases to manage correctly the DST timezone it is needed 
that OS , DB2 or Oracle are correctly patched with related 
TZ/DST patches. 
This prerequisites is valid for both case of TZ yes or no 
into TWS globalopts. 

DST fixes for TWS 8.3 and TWS 8.4 :

o Apply 830.zip OR 840.zip
Follow the same instructions as for DST fixes for TWS 8.2 and TWS 8.2.1.

In addition on TWS 8.3 and TWS 8.4 where WAS is located you should:

- Stop WAS
- Launch the JTZU tool on the Machine where WAS is installed (usually the TWS 8.3/8.4 Master)
http://www-128.ibm.com/developerworks/java/jdk/dst/index.html [http://www-128.ibm.com/developerworks/java/jdk/dst/index.html]
- Start WAS


 * The TWS 8.2.1-TIV-TWS-FP0004,8.3.0-TIV-TWS-FP0005, 8.4.0-TIV-TWS-FP0002 will include these DST changes for TWS part only.
   


840.zip [/support/docview.wss?uid=swg21298282&aid=2] [/support/docview.wss?uid=swg21298282&aid=1] 821.zip [/support/docview.wss?uid=swg21298282&aid=4] [/support/docview.wss?uid=swg21298282&aid=3] 830.zip [/support/docview.wss?uid=swg21298282&aid=6] [/support/docview.wss?uid=swg21298282&aid=5] 


PRODUCT ALIAS/SYNONYM
 Maestro
TWS