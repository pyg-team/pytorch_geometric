Title: IBM How to identify modules that will not open in  a DOORS database - United States

Text:
batch open all modules; identify modules that fail to open TECHNOTE (FAQ)

QUESTION
 How do you check your IBM Rational DOORS database for modules that will not open correctly? 

CAUSE
The database integrity check does not result in any errors but when you attempt to open a module it fails because of bad or missing files or folders.

ANSWER
Use this DXL script to list what modules in your database will not open.
Depending on the exact nature of any data corruption you will need to work with a support engineer
to correct errors encountered while opening a module. 



Disclaimer All source code and/or binaries attached to this document are referred to here as "the Program". IBM is not providing program services of any kind for the Program. IBM is providing the Program on an "AS IS" basis without warranty of any kind. IBM WILL NOT BE LIABLE FOR ANY ACTUAL, DIRECT, SPECIAL, INCIDENTAL, OR INDIRECT DAMAGES OR FOR ANY ECONOMIC CONSEQUENTIAL DAMAGES (INCLUDING LOST PROFITS OR SAVINGS), EVEN IF IBM, OR ITS RESELLER, HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.



 

Procedure: 

 1. Log into DOORS database as Administrator
    
    
 2. Click TOOLS > Edit DXL
    
    Image:
    [/support/docview.wss?uid=swg21660656&aid=1] [/support/docview.wss?uid=swg21660656&aid=1]
    
    
 3. Run the following script 
    
    Folder base = folder "/"


int i = 0 

void checkModule (string mname) { 

i++ 

Module m = null 
string s = null 

noError 

m = read (mname, false, true) 

s = lastError 

if (null m) { 

print "Error opening : " mname "\n" 

} else { 

close m 
} 

if (!null s) { 

print "DXL error given for module : " mname " : " s "\n" 
} 
} 

void checkFolder (Folder f) { 

Item i 

for i in f do { 

if (type i == "Formal") { 

//print "Formal : " fullName i "\n" 
checkModule (fullName i) 
} 

if (type i == "Folder" || type i == "Project") { 

//print "Folder : " fullName i "\n" 
checkFolder (folder i) 
} 
} 
} 


checkFolder(base) 

print "Module total : " i "\n" 


Image:  * [/support/docview.wss?uid=swg21660656&amp;aid=2]


The script output will list the total number of modules and which failed to open.