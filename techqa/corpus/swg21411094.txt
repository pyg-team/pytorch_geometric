Title: IBM Propagation of JMS_IBM_Character_Set between Import and Export in WebSphere Enterprise Service Bus and WebSphere Process Server - United States

Text:
v7rnotes; esb7rnotes; MQJMS1006: invalid value for 'JMS_IBM_Character_Set': 'UTF-8' TECHNOTE (FAQ)

QUESTION
 Why do I see MQJMS1006: invalid value for 'JMS_IBM_Character_Set': 'UTF-8' when I send a message from MQJMS binding in WebSphere ESB and WebSphere Process Server version 7? 

ANSWER
The JMS_IBM_Character_Set property is used by both WebSphere MQ and SIB JMS providers in version 7.
An MQJMSImport or MQJMSExport (response) connected to a WebSphere MQ V6.x Queue Manager will not support the value 'UTF-8' for JMS_IBM_Character_Set, only MQ CCSID numeric values are supported.
JMS messages received in a JMSExport or MQJMSExport (connected to a WebSphere MQ V7 Queue Manager) will contain this property and will use non-numeric values like "UTF-8".
JMS properties in JMS messages received at the Export are propagated by default from the Export through the module to the Import.
Therefore, in cases where an MQJMSExport or JMSExport are connected via other components to a MQJMSImport connected to a WebSphere MQ v6 Queue Manager, this problem may occur.

The solution is to not propagate JMS properties either out of the export or into the import.
You can control this by using the "propagate protocol headers" check box found on the Import and Export binding properties in WebSphere Integration Developer.

 


Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere Enterprise Service Bus JMS AIX, HP-UX, i5/OS, Linux, Solaris, Windows, z/OS 7.0 Business Integration WebSphere Process Server Messaging AIX, HP-UX, Linux, Solaris, Windows, z/OS, i5/OS 7.0 
PRODUCT ALIAS/SYNONYM
 WESB WPS