Title: IBM IC86562: UNABLE TO CONNECT TO LOCALLY DEFINED HA BROKER WHEN STANDBY INSTANCE IS STOPPED - United States

Text:
  FIXES ARE AVAILABLE
WebSphere Message Broker V8.0 - Fix Pack 8.0.0.4 [http://www-01.ibm.com/support/docview.wss?uid=swg24037264]
IBM Integration Bus V9.0 - Fix Pack 9.0.0.2 [http://www-01.ibm.com/support/docview.wss?uid=swg24037877]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When a standby HA WebSphere Message Broker instance is stopped
   it is not possible to successfully run mqsilist or mqsideploy on
   the host where the high availability (multi-instance) Broker
   instance is running.
   
   $ mqsilist MYBROKER
   BIP1054E: The broker 'MYBROKER' is not running.
   In order for the commandline utility to work, the broker needs
   to be
   running.
   
   Ensure that the broker is running and that the correct
   connection
   parameters have been supplied to the utility.
   
   
    
   
   

LOCAL FIX
 *  IBM has modified the WebSphere Message Broker to prevent a
   quiescing standby HA Broker instance from resetting the
   Admininstartion Agent process ID in the Broker registry. <br/>
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   All users of WebSphere Message Broker who make use of
   multi-instance brokers.
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM SUMMARY:
   When a standby message broker instance is stopping it resets the
   broker process identifier stored in the broker registry to zero.
   
   Some broker commands such as mqsilist and mqsideploy rely on
   this information in the broker registry to determine if a
   multi-instance broker is active, so will falsely report that the
   broker is inactive, and the command fails.
   
   
    
   
   

PROBLEM CONCLUSION
 *  WebSphere Message Broker has been modified to prevent the
   process identifier in the broker registry being set to zero when
   a standby instance of a HA Broker is stopped.
   
   Commands such as mqsilist and mqsideploy use the process
   identifier stored in the Broker registry when determining if a
   broker instance is active.
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v7.0       7.0.0.6
   v8.0       8.0.0.4
   v9.0       9.0.0.2
   
   The latest available maintenance can be obtained from:
   http://www-01.ibm.com/support/docview.wss?rs=849&uid=swg27006041 [http://www-01.ibm.com/support/docview.wss?rs=849&uid=swg27006041]
   
   If the maintenance level is not yet available, information on
   its planned availability can be found on:
   http://www-1.ibm.com/support/docview.wss?rs=849&uid=swg27006308 [http://www-1.ibm.com/support/docview.wss?rs=849&uid=swg27006308]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC86562
   
   
 * REPORTED COMPONENT NAME
   WEB MESSAGE BRO
   
   
 * REPORTED COMPONENT ID
   5724J0510
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-09-18
   
   
 * CLOSED DATE
   2012-09-28
   
   
 * LAST MODIFIED DATE
   2014-01-30
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEB MESSAGE BRO
   
   
 * FIXED COMPONENT ID
   5724J0510
   
   

APPLICABLE COMPONENT LEVELS
 * R700 PSY
   UP