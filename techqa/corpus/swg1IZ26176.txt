Title: IBM IZ26176: DB2CAT FAILS TO GENERATE A NEW PACKED DESCRIPTOR (-G OPTION) IF TABLE HAS AN IDENTITY COLUMN - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If a table ddl contains an IDENTITY COLUMN like:
   
   CREATE TABLE T1(
   C1 DECIMAL(15,0) NOT NULL GENERATED ALWAYS AS IDENTITY,
   C2 CHAR(20)
   );
   
   Then db2cat is not able to generate a new packed descriptor:
   
   db2cat -d <database> -n T1 -s <SCHEMA> -g new.pd -o db2cat2.out
   
   and returns an error:
   
   Error during Fetch SYSSEQUENCES.
   
   Error Message =
   SQL0100W  No row was found for FETCH, UPDATE or DELETE; or the
   result of a
   query is an empty table.  SQLSTATE=02000
   
   
   SQLCA
   Size    = 136
   SQLCODE = 100
   Tokens  =
   Function= SQLRI01F
   RC      = 0x80040001 = -2147221503
   Reason  = 0x0001 = 1
   Reason2 = 0x0000 = 0
   Warning flags =
   
   Note: This functionality (db2cat option -g) requires a service
   mode turned on, which can and should only be run on the advice
   of IBM DB2 Service personal.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Users Affected: ALL
   
   Problem Description:
   
   If a table ddl contains an IDENTITY COLUMN like:
   
   CREATE TABLE T1(
   C1 DECIMAL(15,0) NOT NULL GENERATED ALWAYS AS IDENTITY,
   C2 CHAR(20)
   );
   
   Then db2cat is not able to generate a new packed descriptor:
   
   db2cat -d <database> -n T1 -s <SCHEMA> -g new.pd -o db2cat2.out
   
   and returns an error:
   
   Error during Fetch SYSSEQUENCES.
   
   Error Message =
   SQL0100W  No row was found for FETCH, UPDATE or DELETE; or the
   result of a
   query is an empty table.  SQLSTATE=02000
   
   
   SQLCA
   Size    = 136
   SQLCODE = 100
   Tokens  =
   Function= SQLRI01F
   RC      = 0x80040001 = -2147221503
   Reason  = 0x0001 = 1
   Reason2 = 0x0000 = 0
   Warning flags =
   
   Note: This functionality (db2cat option -g) requires a service
   mode turned on, which can and should only be run on the advice
   of IBM DB2 Service personal.
   
   Problem Summary:  See Problem Description.
   
   
    
   
   

PROBLEM CONCLUSION
 *  First fixed in DB2 UDB Version 8.1, FixPak 18 (build s090715)
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ26176
   
   
 * REPORTED COMPONENT NAME
   DB2 UDB ESE AIX
   
   
 * REPORTED COMPONENT ID
   5765F4100
   
   
 * REPORTED RELEASE
   810
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-07-03
   
   
 * CLOSED DATE
   2009-09-11
   
   
 * LAST MODIFIED DATE
   2009-09-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    IZ26497 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ26497] IZ26498 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ26498]
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 UDB ESE AIX
   
   
 * FIXED COMPONENT ID
   5765F4100
   
   

APPLICABLE COMPONENT LEVELS
 * R810 PSN
   UP
   
   
 * R820 PSN
   UP
   
   
 * R910 PSN
   UP
   
   
 * R950 PSN
   UP