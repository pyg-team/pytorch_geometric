Title: IBM Synchronization issues between Rule Designer and Decision Center - United States

Text:
Synchronization; Rule Designer; Decision Center; Rule Studio; Rule Team Server; WODM; RTS TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Synchronizing a project between Rule Designer (Rule Studio) and Decision Center (Rule Team Server) leads to unexpected behavior. 

The Synchronization process takes too long, or the elements are not created correctly, or the Synchronization fails with errors. 

How can the problems be diagnosed and fixed?


DIAGNOSING THE PROBLEM

This document addresses how to resolve synchronization issues that may occur when when working with Rule Studio and Rule Team Server (RTS), or WODM Rule Designer and Decision Center. For the purposes of this document, we will use Rule Studio to refer to both Rule Studio and Rule Designer, and RTS to refer to both RTS and Decision Center, unless explicitly stated otherwise.


Start by collecting information from the following resources: 

 * The workspace logs. You can find these in the .metadata folder of the workspace. 
 * The Rule Team Server logs. These can be found in the logs folder of the Application Server that the Rule Team Server is deployed on. If working with WebSphere Application Server, make sure you also retrieve the log files in the logs\ffdc folder. 
 * The database logs


Examine the exception stacktraces in the log files for clues on where and why the issue occurred. Things to look for are if the exception originated on the RTS side or the Studio side, if there was an error writing to the database, if there was an exception on the application server side, if there were memory issues, etc. If the rules in RTS do not compile after synchronization, refer to the following document:
Compile errors on rules in Rule Team Server. [http://www.ibm.com/support/docview.wss?uid=swg21586358]

If all the rules are shown in conflict, even though they have not been edited, refer to the following document: [http://www.ibm.com/support/docview.wss?uid=swg21425539]
Synchronization between Rule Studio and Rule Team Server shows all the rules in conflict, even though they have not been edited [http://www.ibm.com/support/docview.wss?uid=swg21425539]. 

If you migrated to RTS v7.1.x [http://www.ibm.com/support/docview.wss?uid=swg21591798] and see mismatched rule model extensions at synchronization, refer to the following document:
"Rule model extensions are different" warning at synchronization after upgrading to V7.1.x [http://www.ibm.com/support/docview.wss?uid=swg21587770]. 

Diagnostic Tests 

Conduct the following tests to diagnose the issue. If the problem occurs in a production environment, try to reproduce it on a testing environment so you can conduct the tests on the testing environment. 

 1. Start with a new workspace on Rule Studio and synchronize. 
 2. Determine whether the problem occurs every time you perform a certain action related to synchronization. If the problem is intermittent, it could be due to insufficient memory. 
 3. Try to reproduce the same issue using another rule project, and/or a sample from the JRules distribution. If you can reproduce it with a sample, it could be that the problem occurs due to an issue with your environment. 
 4. Verify that the Rule Team Server and Rule Studio both use the same JRules version. It is not recommended that you synchronize between two different versions (e.g. 6.7.3 and 6.7.4). If two different versions are being used, test with the same RTS and Studio versions. 
 5. Test using both Rule Studio for synchronization, and headless synchronization. The problem might occur using only one of those synchronization tools. 
 6. If you are working with versions prior to 7.5, configure your application server to write synchronization logs from RTS. Start the application server with the following JVM arguments:
    -Dilog.rules.teamserver.sync.debug=true 
    -Dilog.rules.teamserver.sync.debug.dir=c:\\temp\\rts_log"
    Edit the path c:\\temp\\rts_log to point to a directory on your system. Perform the synchronization, and examine the debug files that are written out to the specified directory. The generated files contain the contents of the elements that are exchanged during the synchronization session. Compare the contents with the data you expect to be exchanged. Note that the number of files generated is very large, so avoid setting these parameters in a production environment if possible. 



Environment  

Conduct the following tests to check if the problem is related to your environment: 

 1. Synchronize against the Samples server that comes with the JRules distribution. If this works as expected then try to identify the problem in your environment, which could be due to the Operating System, Application Server settings, the Database, or the JDK and JVM settings. 
 2. Configure the Samples server to point to the original database on which you see the problem, and synchronize against it. This is to identify if the problem is related to the database. Ensure that the database and database driver versions are supported. 
 3. Test with another JDK to see if the issue occurs with the JDK version and/or the JVM settings being used. Verify which JDK version is being used by checking the entries in the log files, for both Studio and RTS. 
 4. Test on another operating system. For example, if the issue occurs on Linux, test on Windows as well, if possible. 
 5.  Ensure enough memory has been allocated to RTS and Studio. 


A lot of problems seen during synchronization occur due to insufficient allocation of resources, especially memory. You will find more details in the documents 
Missing contents of Decision Tables after Synchronization between Rule Studio and Rule Team Server [http://www.ibm.com/support/docview.wss?uid=swg21427200] 
and 
"Cannot find remote element XXXX of type RulePackage" error when Synchronizing between Rule Studio and Rule Team Server [http://www.ibm.com/support/docview.wss?uid=swg21425565] In addition, perform an analysis of memory usage to tweak your JVM settings correctly for the memory requirements for your application and environment. For more detailed recommendations on configuring JVM memory settings, please see the document Improve Performance when doing Synchronization between Rule Studio and Rule Team Server [http://www.ibm.com/support/docview.wss?uid=swg21425548]. 



RESOLVING THE PROBLEM
Conducting the above tests should give you a better idea about why the synchronization fails, and how to resolve the unexpected behavior.

RELATED INFORMATION
#Synchronization with Rule Team Server baselines [http://www.ibm.com/support/docview.wss?uid=swg21420682]
Synchronizing in headless mode using a custom logger [http://www.ibm.com/support/docview.wss?uid=swg21566411]
Improve Performance of Synchronization [http://www.ibm.com/support/docview.wss?uid=swg21425548]


 



Cross reference information Segment Product Component Platform Version Edition Business Integration WebSphere ILOG Rule Team Server Maintenance Platform Independent 7.1, 7.0, 6.7, 6.6, 6.5 Enterprise