Title: IBM JR44157: CATALOG ON-DEMAND FILTER FAILS IF SELECTION PROVIDES MORE THAN 1000 ITEMS - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  In IBM InfoSphere MDM Collaboration Server a "Selection" can be
   defined that will used to display certain type of items within
   a catalog. When working with Oracle as database backend and the
   "Selection" returns more than 1000 items an error message
   "Unexpected Error Occurred" will be displayed and an Oracle
   JDBC exception will be thrown ($TOP/logs/appsvr*/exception.log):
   
   2012-09-05 16:51:31,565 [jsp_9:
   /ccd_content/catalogExplorerServer.jsp] ERROR
   com.ibm.ccd.common.error.AustinException - CWPCM0002E:Generic
   error / Exception: CWPCM0150E:Query Failed,
   Exception:ORA-01795: maximum number of expressions in a list is
   1000
   
   java.sql.SQLException: ORA-01795: maximum number of expressions
   in a list is 1000
   
           at
   oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:445)
           at
   oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:396)
           at
   oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:879)
           at
   oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:450)
           at
   oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192)
           at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)
           at
   oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:193)
           at
   oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.
   java:866)
           at
   oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleSt
   atement.java:1167)
           at
   oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleSt
   atement.java:1289)
           at
   oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.
   java:1491)
           at
   oracle.jdbc.driver.OracleStatementWrapper.executeQuery(OracleSta
   tementWrapper.java:406)
           at
   org.apache.commons.dbcp.DelegatingStatement.executeQuery(Delegat
   ingStatement.java:188)
           at com.ibm.ccd.common.db.Query.execute(Query.java:1009)
           at com.ibm.ccd.common.db.Query.execute(Query.java:850)
           at com.ibm.ccd.common.db.Query.execute(Query.java:816)
           at com.ibm.ccd.common.db.Query.execute(Query.java:798)
           at
   com.ibm.ccd.content.view.TrigoTreeView.getItemsCountForCategory(
   TrigoTreeView.java:178)
           at
   com.ibm.ccd.content.view.CatalogExplorerServer.getItemCountForCa
   tegory(CatalogExplorerServer.java:2333)
           at
   com.ibm.ccd.content.view.CatalogExplorerServer.displayTreeSpecif
   ic(CatalogExplorerServer.java:2379)
           at
   com.ibm.ccd.content.view.CatalogExplorerServer.displayTree(Catal
   ogExplorerServer.java:2302)
   [...]
   
   
   Steps for reproduction:
   a) Create a catalog that consists of more that 1000 items
   b) Create a (static) selection that returns all items of a
   catalog, for example:
   
   select item from catalog('your_catalog') where
   item['spec_path/attribute'] != 'xyz';
   
   c) In left navigation pane open the "On-Demand Filer" for your
   catalog and chose the selection you have created in (b).
   
   
    
   
   

LOCAL FIX
 *  n/a
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All Master Data Management Server for Product Information    *
   * Management implementations are affected by this issue.       *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * In IBM InfoSphere MDM Collaboration Server a "Selection" can *
   * bedefined that will used to display certain type of items    *
   * withina catalog. When working with Oracle as database        *
   * backend and the"Selection" returns more than 1000 items an   *
   * error message"Unexpected Error Occurred" will be displayed   *
   * and an OracleJDBC exception will be thrown                   *
   * ($TOP/logs/appsvr*/exception.log):2012-09-05 16:51:31,565    *
   * [jsp_9:/ccd_content/catalogExplorerServer.jsp]               *
   * ERRORcom.ibm.ccd.common.error.AustinException -              *
   * CWPCM0002E:Genericerror / Exception: CWPCM0150E:Query        *
   * Failed,Exception:ORA-01795: maximum number of expressions in *
   * a list is1000java.sql.SQLException: ORA-01795: maximum       *
   * number of expressionsin a list is 1000                       *
   * atoracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:4 *
   * 45)                                                          *
   * atoracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:3 *
   * 96)                                                          *
   * atoracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:879 *
   * ) atoracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:450) *
   * atoracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:192) at  *
   * oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:531)        *
   * atoracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java: *
   * 193)                                                         *
   * atoracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStat *
   * ement.java:866)                                              *
   * atoracle.jdbc.driver.OracleStatement.executeMaybeDescribe(Or *
   * acleStatement.java:1167)                                     *
   * atoracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(Or *
   * acleStatement.java:1289)                                     *
   * atoracle.jdbc.driver.OracleStatement.executeQuery(OracleStat *
   * ement.java:1491)                                             *
   * atoracle.jdbc.driver.OracleStatementWrapper.executeQuery(Ora *
   * cleStatementWrapper.java:406)                                *
   * atorg.apache.commons.dbcp.DelegatingStatement.executeQuery(D *
   * elegatingStatement.java:188) at                              *
   * com.ibm.ccd.common.db.Query.execute(Query.java:1009) at      *
   * com.ibm.ccd.common.db.Query.execute(Query.java:850) at       *
   * com.ibm.ccd.common.db.Query.execute(Query.java:816) at       *
   * com.ibm.ccd.common.db.Query.execute(Query.java:798)          *
   * atcom.ibm.ccd.content.view.TrigoTreeView.getItemsCountForCat *
   * egory(TrigoTreeView.java:178)                                *
   * atcom.ibm.ccd.content.view.CatalogExplorerServer.getItemCoun *
   * tForCategory(CatalogExplorerServer.java:2333)                *
   * atcom.ibm.ccd.content.view.CatalogExplorerServer.displayTree *
   * Specific(CatalogExplorerServer.java:2379)                    *
   * atcom.ibm.ccd.content.view.CatalogExplorerServer.displayTree *
   * (CatalogExplorerServer.java:2302)[...]Steps for              *
   * reproduction:a) Create a catalog that consists of more that  *
   * 1000 itemsb) Create a (static) selection that returns all    *
   * items of acatalog, for example:select item from              *
   * catalog('your_catalog') whereitem['spec_path/attribute'] !=  *
   * 'xyz';c) In left navigation pane open the "On-Demand Filer"  *
   * for yourcatalog and chose the selection you have created in  *
   * (b).                                                         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * IBM recommends that customers facing the issue reported by   *
   * this APAR apply Master Data Management Server for Product    *
   * Information Management  version 6.0.0-FP013 to gain          *
   * resolution to this problem.                                  *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  A fix for this problem has been included in Master Data
   Management Server for Product Information Management  version
   6.0.0-FP013.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR44157
   
   
 * REPORTED COMPONENT NAME
   MDM SERVER FOR
   
   
 * REPORTED COMPONENT ID
   5724V5100
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2012-09-20
   
   
 * CLOSED DATE
   2013-06-13
   
   
 * LAST MODIFIED DATE
   2013-06-13
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   MDM SERVER FOR
   
   
 * FIXED COMPONENT ID
   5724V5100
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSY
   UP