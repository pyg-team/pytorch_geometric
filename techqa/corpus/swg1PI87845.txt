Title: IBM PI87845: CAPTURE ERROR MESSAGE WHILE FOUND DUPLICATE ELEMENTS IN DOORS WHILE EXPORT. - United States

Text:
  A FIX IS AVAILABLE
IBM Rational Rhapsody 8.3.0 [http://www-01.ibm.com/support/docview.wss?uid=swg24044061]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When the exported module contains two objects with the same
   Element Guid and Element Type values, the export to DOORS fails
   on the line highlighted.
   
   void deleteObject(Object anObject) {
        LinkRef lr
        for lr in anObject <- "*" do {
              logError("Failure: DOORS Object "
   identifier(anObject) " '" anObject."Object Heading" "' has
   in-links, so it can not be deleted. Remove the in-links from
   DOORS in order to allow Object deletion")
              return
        }
        softDelete(anObject)
   }
   
   The reason is that it gets confused with the two objects and it
   tries to delete the first object twice.
   
   Here is a piece of customer script that contains the duplicate
   deletion:
   
   find(objectsForInts, 504015072, objCurrent)
   if (!null objCurrent) {
   deleteObject(objCurrent)
   } else logError("Failure: Can't delete object 'GUID
   bbd623c0-a98b-41e1-a957-d420431933f7'")
   find(objectsForInts, 504021088, objCurrent)
   if (!null objCurrent) {
   deleteObject(objCurrent)
   } else logError("Failure: Can't delete object 'GUID
   bbd623c0-a98b-41e1-a957-d420431933f7'")
   
   The problem is that softDelete error is not caught , so there is
   no clear error message that comes up.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Rhapsody                                                     *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * CAPTURE ERROR MESSAGE WHILE FOUND DUPLICATE ELEMENTS IN      *
   * DOORS WHILE EXPORT.                                          *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Improved error handling for deleteObject function.
   Since the error was actually not happening with recent version
   but the behavior was not correct since it tries to delete both
   duplicated objects instead of removing just one of them.
   Now it shows a warning message in case there are duplicate GUIDs
   in source document or exported DOORS module.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI87845
   
   
 * REPORTED COMPONENT NAME
   TLOGIC RHAPSODY
   
   
 * REPORTED COMPONENT ID
   5724V74RP
   
   
 * REPORTED RELEASE
   761
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-09-25
   
   
 * CLOSED DATE
   2017-12-04
   
   
 * LAST MODIFIED DATE
   2017-12-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TLOGIC RHAPSODY
   
   
 * FIXED COMPONENT ID
   5724V74RP
   
   

APPLICABLE COMPONENT LEVELS
 * R761 PSY
   UP