Title: IBM Using A CUSTOMIZE CERTIFICATE when configure the SSL in Impact 710 - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When configuring the SSL in Impact, a customized certificate is used, other than default one. After import, and get from port, the JKS files (both key.jks and trust.jks) need to be modified to satisfy the https connection. 

SYMPTOM
Use the existing key.jks and trust.jks files and just spin up a new csr using them. The key created has this: CN=###.com, O=IBM, OU=NCI, C=US 

This certificate not conform to customers standards for the internal CA signer, such as CN=###.com, OU=###, O=my company, C=##
If spin up their own private key within the key.jks, Impact GUI https connection will fail since certificate is not the one signed from the internal CA.


CAUSE
As shown below, the CN field is customized, but the other fields, such as O, OU, C stay the same by default: O=IBM, OU=NCI, C=US. 

In a customer environment, these probably will not conform to their standards for the internal CA signer with different O, OU, DC, C and so on. 
Owner: CN=###.com, O=IBM, OU=NCI, C=US
Issuer: CN=###.com, O=IBM, OU=NCI, C=US


RESOLVING THE PROBLEM
 After import, and get from port, the JKS files (both key.jks and trust.jks) need to be modified to satisfy the https connection. Remove some of the beginning state of the jks and just tweak it to have the following. Spin up the private key, gen the csr within the key.jks, send csr to CA and get signed certificate from CA, then import back signed certificate in key.jks. Suggest restart Impact servers to take effect. 


key.jks â€“ one single entry with the key pair (used to create the key, gen the csr, and import back in the signed cert)
Alias name: default
Creation date: Aug 30, 2017
Entry type: keyEntry
Certificate chain length: 3
Certificate[1]:
Owner: CN=###.com, OU=###, O=my company, C=##
Issuer: CN=###-Issue, DC=###, DC=###, DC=###

trust.jks
Alias name: your-pki-root
Creation date: Aug 9, 2017
Entry type: trustedCertEntry

Owner: CN=Your-PKI-Root, O=###, C=##
Issuer: CN=Your-PKI-Root, O=###, C=##
--
Alias name: ###-Issue
Creation date: Aug 9, 2017
Entry type: trustedCertEntry

Owner: CN=Your-PKI-Issue-1, DC=###, DC=###, DC=###
Issuer: CN=Your-PKI-Root, O=###, C=##

This removes the original files stored in the trust.jks
Alias name: default
Creation date: Aug 9, 2017
Entry type: trustedCertEntry
--
Alias name: mykey
Creation date: Aug 14, 2017
Entry type: keyEntry
Certificate chain length: 1
Certificate[1]: