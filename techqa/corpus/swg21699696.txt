Title: IBM Windows OS agent (NT) fails to connect to Tivoli Enterprise Management Server (TEMS) after upgrade to 6.3 FP3 from 6.23 FP1 or earlier - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Windows OS agent (NT) fails to connect to TEMS on some systems after upgrade to 
6.3 FP3 from version 6.23 FP1 or earlier. Problem seems to be that two versions of GSKIT, GSK7 (6.23) and GSK8 (6.3) are left behind and ITM agents fail to realize which GSKIT needs to be used. 

SYMPTOM
NT agent will show offline in TEPS after the upgrade.


CAUSE
The issue seems to occur in a mixed environment, where both 6.23 (or earlier) and 6.3 version of the agent are running. 

Example: NT agent version 6.3 along with Log File agent (LFA) version 6.23.

6.3 agents require GSK8 while 6.23 agents require GSK7. Since, the references to GSK7 are retained the upgraded version of the agent points to the wrong GSKIT version (GSK7) in this case.


ENVIRONMENT
Multiple agent versions (6.23 or earlier and 6.3) running on the same machine.



DIAGNOSING THE PROBLEM
Identify if your environment is a mixed one when the problem occurs and take the resolution steps accordingly. 

- Check the KNTENV file 
- Look for the CSV1 and CSV2 references 
**** 
CSV1_PATH=C:\IBM\ITM\GSK8_x64\lib64 
CSV2_PATH=C:\IBM\ITM\GSK8_x64\bin 
**** 


RESOLVING THE PROBLEM
1) If you are running a mixed environment, you need to have references to both GSKIT folders. In this case update the CSV1_PATH and CSV2_PATH for the newly upgraded NT agent version 6.3 


2) If you are NOT running a mixed environment, you can rename the GSK7 to GSK7OLD and then restart the agent to see if the data is retrieved.
C:\IBM\ITM\TMAITM6\GSK7OLD 
C:\IBM\ITM\TMAITM6_x64\GSK7OLD

 


Cross reference information Segment Product Component Platform Version Edition Systems and Asset Management Tivoli Monitoring Agent Family