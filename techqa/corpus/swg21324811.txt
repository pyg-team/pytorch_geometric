Title: IBM Loading of the login page hangs with web client - United States

Text:
1324811; CQ; ClearQuest; CQ Web; ClearQuest Web; Web Java Server; login; hang; variable; environment; linux TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote provides information on how to resolve a problem with the IBM速 Rational速 ClearQuest速 Web server on Linux速 where the client hangs while loading the login page 

CAUSE
This problem happens if all the required environment variables are not established in web start-up scripts.

RESOLVING THE PROBLEM
Following these steps to resolve the problem: 

 1. Login to the server with ClearQuest installed as root . 
 2. Stop all the web processes using /opt/rational/clearquest/cqweb/cqserver_stutdown and /opt/rational/common/rwp/bin/rwp_shutdown 
 3. Run ps -ef | grep java 
 4. Kill any process if running ( kill -9 <pid>) 
 5. If using 2003.06.* version, run ps -ef | grep start_cqrm and kill any process if running ( kill -9 <pid>) 
 6. If using 7.0.* version, run ps -ef | grep start_cqreg and kill any process if running ( kill -9 <pid> 
 7. If using 2003.06.* version, following environment variables need to be set up in /opt/rational/clearquest/cqweb/cqserver/start_cqrm.sh file. In versions 7.0.*, the variables need to be set up in /opt/rational/clearquest/cqweb/cqregsvr/start_cqreg.sh file.

 * At the very beginning of the file ( just before the line ./opt/rational/clearquest/cq_setup.sh ), add the following lines:


 * 
 * ## Please set this to time zone of the web server 
 * 
 * export TZ= EDT
 * 
 * ## LD_ASSUME_KERNEL should NOT be set for Red Hat Linux version 5 export LD_ASSUME_KERNEL=2.4.19
 * 
 * ## The path below may change depending on clearquest install folder
 * 
 * export LD_LIBRARY_PATH=/opt/rational/clearquest/linux_x86/shlib


Once completed, restart ClearQuest Web and verify the correct number of processes:  1. Run the commands to restart the ClearQuest Registry Server, Request Manager and Rational Web Platform (/opt/rational/clearquest/cqweb/cqserver_restart and /opt/rational/common/rwp/bin/rwp_restart). 
 2. Run ps -ef | grep java. There should be 3 java processes running.


If the issues getting the login page remain, please set up logging as per technote 1257084 [http://ibm.com/support/docview.wss?rs=988&uid=swg21257084] and contact IBM Rational Support. 

 

Note: The LD_ASSUME_KERNEL variable should not be set for RedHat Linux 5. If it is set, ClearQuest Web will not load. There will be errors as follows in the log file: 

/opt/rational/clearquest/cqweb/cqregsvr/logs/jvm.stdout 



/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory
/opt/rational/clearquest/cqweb/cqregsvr/cqregsvr.jar:/opt/rational/
clearquett/cqweb/cqregsvr/..:/opt/rational/clearquest/cqweb/lib/
xercesImpl.jar:/opt/rational/clearquest/cqweb/lib/xml-apis.jar:/opt/rational
/clearquest/cqweb/lib/logging.jar:/opt/rational/clearquest/cqweb/lib/
log4j.jar:/opt/rational/clearquest/cqweb/cqregsvr/config
./start_cqreg.sh (3283) Beginning Execution
java: error while loading shared libraries: libpthread.so.0: cannot open shared object file: No such file or directory









Cross Reference information Segment Product Component Platform Version Edition Software Development Rational ClearQuest Web Java Client