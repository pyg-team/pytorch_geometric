Title: IBM Cluster replication failing error: Failed to start Impact instance - United States

Text:
netcool; impact; nci; cluster; secondary; primary; policylist; netcool/impact; resilience; failover; back; backup; up; back-up; fail; over; fail-over; 2ndry; member TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempting to start the Secondary ImpactServer fails. Secondary ImpactServer fails to start. Cluster replication fails. 

SYMPTOM
Secondary ImpactServer fails to start, configuration not fully copied from Primary ImpactServer to Secondary file system.


CAUSE
The PolicyList file: 

$NCHOME/impact/etc/policylist

was corrupted with missing entries and missing properties for the existing entries.




DIAGNOSING THE PROBLEM
Example log file trail building up to the issue: 

 

 

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 


In this instance the last thing it is attempting to replicate is the PolicyList. 





RESOLVING THE PROBLEM
For this example - rebuild the PolicyList [link below]. 

Perform these actions as the user used to install and run Impact: 

 

 * 
 * 
 *  
 *  
   $NCHOME/bin/ewas.sh stop -user wasadmin -password netcool 
 * 
 * 
 * 
 * 
 * 
 * $NCHOME/impact/etc/NCI1_policylist 
 * 
 * 
 * 
 * 
 * $NCHOME/impact/etc/NCI1_policylist.orig 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * $NCHOME/impact/etc/NCI1_policylist 
 * 
 * 
 * 
 * 
 * $NCHOME/impact/install/nci_startsvn $NCHOME/platform/[Arch]/svn/bin $NCHOME/platform/[Arch]/svn/repository 
 * 
 * 
 * 
 * 
 * $NCHOME/impact/install/nci_addsvn NCI1 $NCHOME/platform/[Arch]/svn/bin $NCHOME/platform/[Arch]/svn/repository 
 * 
 * 
 * 
 * 
 * $NCHOME/bin/ewas.sh start 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 


RELATED INFORMATION
#Rebuilding PolicyList file by hand [https://www.ibm.com/support/docview.wss?uid=swg21507893]