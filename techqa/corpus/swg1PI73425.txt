Title: IBM PI73425: NON-ADMIN USERS CANNOT EXPORT HPEL LOGS WHEN LOG FORMAT IS SET TO BASIC/ADVANCED - United States

Text:
  FIXES ARE AVAILABLE
9.0.0.4: WebSphere Application Server traditional V9.0 Fix Pack 4 [http://www-01.ibm.com/support/docview.wss?uid=swg24043693]
8.5.5.12: WebSphere Application Server V8.5.5 Fix Pack 12 [http://www-01.ibm.com/support/docview.wss?uid=swg24043844]
9.0.0.5: WebSphere Application Server traditional V9.0 Fix Pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24044067]
9.0.0.6: WebSphere Application Server traditional V9.0 Fix Pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24044242]
8.5.5.13: WebSphere Application Server V8.5.5 Fix Pack 13 [http://www-01.ibm.com/support/docview.wss?uid=swg24044479]
9.0.0.7: WebSphere Application Server traditional V9.0 Fix Pack 7 [http://www-01.ibm.com/support/docview.wss?uid=swg24044620]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Non-admin users cannot export HPEL logs when log format is set
   to Basic or Advanced
   
   The error seen is:
   ServletWrappe E com.ibm.ws.webcontainer.servlet.ServletWrapper
   service SRVE0068E:  An exception was thrown by one of the
   service methods of the servlet [Instance List
   Servlet] in application [isclite]. Exception created : [javax.
   management.JMRuntimeException: ADMN0022E: Access is denied for
   the getLogLists operation on HPELControlService MBean because of
   insufficient or empty credentials.
   at
   com.ibm.ws.management.connector.soap.SOAPConnectorClient.
   handleAdminFault(SOAPConnectorClient.java:959)
   
   
    
   
   

LOCAL FIX
 *  Use a admin user to export the logs or for non-admin users
   change the log format to "Binary format(readable by LogViewer)".
   This will output a binary log repository.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:  All users of IBM WebSphere Application      *
   *                  Server                                      *
   ****************************************************************
   * PROBLEM DESCRIPTION: Non-administrator users can not export  *
   *                      High Performance Extensible Logging     *
   *                      (HPEL)                                  *
   *                      logs, when the log format is set to     *
   *                      Basic                                   *
   *                      or Advanced from the administrative     *
   *                      Console.                                *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When users that have non-administrator roles set are logged
   into the administrative console, and try to export the HPEL
   logs with the log format set to either Basic or Advanced, they
   see the following pop-up error message:
   "An error occurred during fetch of message detail. Please
   ensure that you are connected to the network and you can
   access the server. Review server logs for further analysis."
   
   
    
   
   

PROBLEM CONCLUSION
 *  The HPEL log exporting code has been fixed to allow non-
   administrator users to export the logs for all log formats
   from the administrative console.
   
   The fix for this APAR is currently targeted for inclusion in
   fix packs 8.5.5.12 and 9.0.0.4.  Please refer to the
   Recommended Updates page for delivery information:
   http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980 [http://www.ibm.com/support/docview.wss?rs=180&uid=swg27004980]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI73425
   
   
 * REPORTED COMPONENT NAME
   WEBS APP SERV N
   
   
 * REPORTED COMPONENT ID
   5724H8800
   
   
 * REPORTED RELEASE
   850
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-12-07
   
   
 * CLOSED DATE
   2017-01-12
   
   
 * LAST MODIFIED DATE
   2017-01-12
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBS APP SERV N
   
   
 * FIXED COMPONENT ID
   5724H8800
   
   

APPLICABLE COMPONENT LEVELS
 * R850 PSY
   UP
   
   
 * R900 PSY
   UP