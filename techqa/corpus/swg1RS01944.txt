Title: IBM RS01944: SQLDATAEXCEPTION WHEN DEPLOYING A RULEAPP WITH LONG RULEAPP/RULE SET DESCRIPTION - United States

Text:
  FIXES ARE AVAILABLE
Operational Decision Manager V8.7.1 Download Document [http://www-01.ibm.com/support/docview.wss?uid=swg24039330]
Operational Decision Manager V8.7.1 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24040019]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  When deploying a ruleapp from a deployment configuration
   an exception about a truncation error with a string
   longer than 256 such as the following occurs:
   [3/27/15 12:52:56:730 CDT] 000000ab sql           W   An error
   occurred when executing the SQL query.
                                    java.sql.SQLDataException: A
   truncation error was encountered trying to shrink VARCHAR 'This
   operation aggregates the complete logic. Its purpose is&' to
   length 256.
    at org.apache.derby.impl.jdbc.SQLExceptionFactory40.
   getSQLException(Unknown Source)
    at org.apache.derby.impl.jdbc.Util.generateCsSQLException(
   Unknown Source)
    at org.apache.derby.impl.jdbc.TransactionResourceImpl.
   wrapInSQLException(Unknown Source)
    at org.apache.derby.impl.jdbc.TransactionResourceImpl.
   handleException(Unknown Source)
    at org.apache.derby.impl.jdbc.EmbedConnection.handleException(
   Unknown Source)
    at org.apache.derby.impl.jdbc.ConnectionChild.handleException(
   Unknown Source)
    at org.apache.derby.impl.jdbc.EmbedStatement.executeStatement(
   Unknown Source)
    at org.apache.derby.impl.jdbc.EmbedPreparedStatement.
   executeStatement(Unknown Source)
    at org.apache.derby.impl.jdbc.EmbedPreparedStatement.
   executeUpdate(Unknown Source)
    at org.apache.derby.iapi.jdbc.BrokeredPreparedStatement.
   executeUpdate(Unknown Source)
    at com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.
   pmiExecuteUpdate(WSJdbcPreparedStatement.java:1187)
    at com.ibm.ws.rsadapter.jdbc.WSJdbcPreparedStatement.
   executeUpdate(WSJdbcPreparedStatement.java:804)
    at ilog.rules.res.persistence.impl.jdbc.helper.
   IlrDatabaseUtility.executeUpdate(IlrDatabaseUtility.java:105)
    at ilog.rules.res.persistence.impl.jdbc.helper.
   IlrRulesetsTable.insert(IlrRulesetsTable.java:166)
    at ilog.rules.res.persistence.impl.jdbc.
   IlrGenericRepositoryDAO.addRuleApp(IlrGenericRepositoryDAO.java:
   351)
   ....
   
   
    
   
   

LOCAL FIX
 *  Use a shorter ruleapp/ruleset description
   
   
    
   
   

PROBLEM SUMMARY
 *  The description column is limited to 256 characters in the RES
   table. The description should be truncated.
   The fix will be included in the version following 8.7.0
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX
 *  Manually truncate description that are longer than 256
   characters.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   RS01944
   
   
 * REPORTED COMPONENT NAME
   WDS FOR RULES
   
   
 * REPORTED COMPONENT ID
   5725B6903
   
   
 * REPORTED RELEASE
   870
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2015-03-27
   
   
 * CLOSED DATE
   2015-04-06
   
   
 * LAST MODIFIED DATE
   2015-04-06
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  999
   
   
    
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R870 PSY
   UP