Title: IBM Advanced Search -> Business Process not returning results in a cluster install - United States

Text:
STERLINGNFX TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Advanced Search -> Business Process not returning results in a cluster install 

SYMPTOM


When searching for a specific custom BP or ALL business processes with State: Completed and Status: ALL, no results are returned. The Advanced Search screen just reloads. However, if you choose State: ALL, you see many completed BPs that match the search criteria.

This error does not appear in a single node instance. It will only affect a clustered (multi-node) install of Gentran Integration Suite 4.3.

Error Message No error is returned through the User Interface.

Error in ui.log (Oracle):

[2009-02-11 10:39:48.624] ERROR 000000000000 GLOBAL_SCOPE [BPMonitor] SQL Error Code: 904 SQL State: 42000
java.sql.SQLException: ORA-00904: "WFC_VIEW"."WORKFLOW_ID": invalid identifier

at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)
at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:288)
at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:743)
at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:216)
at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:799)
at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
at oracle.jdbc.driver.T4CPreparedStatement.executeMaybeDescribe(T4CPreparedStatement.java:839)
at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3316)
at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3361)
at com.sterlingcommerce.woodstock.workflow.WorkFlowManager.getWFKeysNew(WorkFlowManager.java:526)
at com.sterlingcommerce.woodstock.workflow.WorkFlowManager.getWFKeys(WorkFlowManager.java:209)
at com.sterlingcommerce.woodstock.ui.servlet.BPMonitor.doPost(BPMonitor.java:272)

Error in ui.log (SQLServer):

2009-02-11 13:02:46.577] ERROR 000000000000 GLOBAL_SCOPE [BPMonitor]
SQL Error Code: 107
SQL State: S0002
com.microsoft.sqlserver.jdbc.SQLServerException: The column prefix 'WFC_VIEW' does not match with a table name or alias name used in the query.
at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDatabaseError(Unknown Source)
at com.microsoft.sqlserver.jdbc.IOBuffer.processPackets(Unknown Source)
at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.getPrepExecResponse(Unknown Source)
at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.doExecutePreparedStatement(Unknown Source)
at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement$PreparedStatementExecutionRequest.executeStatement(Unknown Source)
at com.microsoft.sqlserver.jdbc.CancelableRequest.execute(Unknown Source)
at com.microsoft.sqlserver.jdbc.SQLServerConnection.executeRequest(Unknown Source)
at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(Unknown Source)
at com.sterlingcommerce.woodstock.workflow.WorkFlowManager.getWFKeysNew(WorkFlowManager.java:526)
at com.sterlingcommerce.woodstock.workflow.WorkFlowManager.getWFKeys(WorkFlowManager.java:209)
at com.sterlingcommerce.woodstock.ui.servlet.BPMonitor.doPost(BPMonitor.java:273)



RESOLVING THE PROBLEM


For Gentran Integration Suite 4.3, please apply Build 4318 or later to resolve this issue

For Sterling Integrator 5.0, please apply Build 5002 or later to resolve this issue

 

HISTORICAL NUMBER
 NFX5042 

PRODUCT ALIAS/SYNONYM
 

Function Area


Workflow Engine


Escalation ID


1372601


Fix ID


176126
176127


Severity


Normal


Type


NormalFix


Build


4318
5002