Title: IBM IV47288: SERVICE PROVIDER SCRIPT 7110_118 NEEDS TO CHECK FOR AN EXISTING MENU OPTION BEFORE THE INSERT. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Error during Service Provider Upgrade
   
   
       -- Product: IBM Maximo for Service Providers script updatedb
   process
   starts...
       --               Calling the class :
   psdi.serviceprovider.en.V7110_118 Thu Jan 10 00:53:21 EST 2013
       --
   ----------------------------------------------------------------
   ---
       insert into maxmenu (menutype, moduleapp, elementtype,
   keyvalue,
   position, subposition,  tabdisplay, maxmenuid, visible) values
   ('APPMENU','PLUSPWO','OPTION','VIEWSTHIST',112,70,'MAIN',
   nextval for
   maxmenuseq, 1);
       com.ibm.db2.jcc.am.SqlIntegrityConstraintViolationException:
   One or
   more values in the INSERT statement, UPDATE statement, or
   foreign key
   update caused by a DELETE statement are not valid because the
   primary
   key, unique constraint or unique index identified by "2"
   constrains
   table "MAXIMO.MAXMENU" from having duplicate values for the
   index key..
   
   
   Error:
   
       -- Product: IBM Maximo for Service Providers
       -- Error running file: V7110_118
       -- UPDATEDBFILE:V7110_118.class
       -- Script: Error
       java.lang.Exception: One or more values in the INSERT
   statement,
   UPDATE statement, or foreign key update caused by a DELETE
   statement are
   not valid because the primary key, unique constraint or unique
   index
   identified by "2" constrains table "MAXIMO.MAXMENU" from having
   duplicate values for the index key.. SQLCODE=-803,
   SQLSTATE=23505,
   DRIVER=4.11.69
       at psdi.tools.UpdateDB.runScriptClass(Unknown Source)
       at psdi.tools.UpdateDB.runScripts(Unknown Source)
       at psdi.tools.UpdateDB.startProcess(Unknown Source)
       at psdi.tools.UpdateDB.startProcess(Unknown Source)
       at psdi.tools.UpdateDB.loadScriptInfo(Unknown Source)
       at psdi.tools.UpdateDB.main(Unknown Source)
   
       java.lang.Exception: DATABASE Script UPDATE COMPLETED WITH
   ERROR.
   CHECK ERRORS IN UPDATE LOG FILE -Updatedb20130109235109.log
       One or more values in the INSERT statement, UPDATE
   statement, or
   foreign key update caused by a DELETE statement are not valid
   because
   the primary key, unique constraint or unique index identified by
   "2"
   constrains table "MAXIMO.MAXMENU" from having duplicate values
   for the
   index key.. SQLCODE=-803, SQLSTATE=23505, DRIVER=4.11.69
       at psdi.tools.UpdateDB.startProcess(Unknown Source)
       at psdi.tools.UpdateDB.startProcess(Unknown Source)
       at psdi.tools.UpdateDB.loadScriptInfo(Unknown Source)
       at psdi.tools.UpdateDB.main(Unknown Source)
   
   
    
   
   

LOCAL FIX
 *  Delete the existing entry and re-run the updatedb.
   
   
       SQL: delete from maxmenu where menutype='APPMENU' and
   moduleapp='PLUSPWO' and elementtype='OPTION' and
   keyvalue='VIEWSTHIST';
   commit;
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * Service Provider 7.1.1.0                                     *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * SERVICE PROVIDER SCRIPT 7110_118 NEEDS TO CHECK FOR AN       *
   * EXISTINGMENU OPTION BEFORE THE INSERT.                       *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * No                                                           *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  It happens to a low number of customer.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV47288
   
   
 * REPORTED COMPONENT NAME
   SERVICE PROVIDE
   
   
 * REPORTED COMPONENT ID
   5724R46SV
   
   
 * REPORTED RELEASE
   711
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-08-20
   
   
 * CLOSED DATE
   2013-08-22
   
   
 * LAST MODIFIED DATE
   2013-08-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   SERVICE PROVIDE
   
   
 * FIXED COMPONENT ID
   5724R46SV
   
   

APPLICABLE COMPONENT LEVELS
 * R711 PSY
   UP