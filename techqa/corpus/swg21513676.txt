Title: IBM ORA-01031: insufficient privileges when upgrading from 4.0.1 to OP 5.1 - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 ORA-01031: insufficient privileges when upgrading from 4.0.1 to OP 5.1 

RESOLVING THE PROBLEM
When performing the database upgrade the following error is encountered: declare * ERROR at line 1: ORA-01031: insufficient privileges ORA-06512: at "SYS.DBMS_SESSION", line 90 ORA-06512: at "OPENPAGES.OP_CONTEXT_MGR", line 20 ORA-06512: at "OPENPAGES.OP_AUDIT_METADATA_MGR", line 701 ORA-06512: at "OPENPAGES.OP_AUDIT_METADATA_MGR", line 851 ORA-06512: at "OPENPAGES.OBJ_PROF_AT_PDI_B_D", line 10 ORA-04088: error during execution of trigger 'OPENPAGES.OBJ_PROF_AT_PDI_B_D' ORA-06512: at line 57 Root Cause: The database has not been initialized with our custom scripts: Solution: Run the Database Creation Wrapper Script In order to create the database tablespaces and users, you must perform the following steps: 1. Open a command window on the application server. 2. Change directories to the \install_scripts directory in your installation kit. If you recieved a set of CDs, the script is located on the OpenPages Configuration CD. 3. Copy the \install_scripts directory to the application server. 4. Run the wrapper script from the application server using the following syntax: sqlplus /nolog @sql-wrapper database-install Example Syntax The following sample code shows the SQL script command line with the standard values for the variables: Windows: sqlplus /nolog @sql-wrapper database-install logfile.txt OP system manager opworkflow opworkflow openpages openpages c:\openpages-data\ repository\database10203\oradata\OPc:\oracle\ora102\oradata\OP UNIX: sqlplus /nolog @sql-wrapper database-install logfile.txt OP system manager opworkflow opworkflow openpages openpages /opt/oracle/oradata/ OP 5. After the SQL script has completed, the database schema will have been created, and a log file placed in the directory where you ran the SQL script. The name of the log file will match the value of the parameter you entered for the command. 6. Run the following wrapper script from the application server using the following syntax: sqlplus /nolog @sql-wrapper init-db-user Re-import Your OpenPages Data To import your OpenPages database data from your OpenPages 4.0.1 installation, run the following commands on the database server in a command window. You should copy the necessary dump files to a local drive before running the import. imp /@ file=opworkflow.dmp log=opworkflow_imp.log imp /@ file=openpages.dmp log=openpages_imp.log



HISTORICAL NUMBER
 00001159