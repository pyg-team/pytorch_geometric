Title: IBM "Could not create the view ... FAIL:!oracle/jdbc/driver/T2CConnection.t2cCreateState([BI[BI[BI[BISI[S[B[BZ)I!" when using Oracle and 64-bit JAVA JRE - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User clicks "Group - Reports - Intercompany Report". User receives error message. 

SYMPTOM
Could not create the view: !Could not create controller of type com.ibm.cognos.ccr.integration.internal.ic.ui.IcReportDialogController for composite class com.ibm.cognos.ccr.integration.internal.ic.ui.IcReportDialogUI! 

Details:
<...>
... 69 more 
Caused by: com.ibm.cognos.ccr.common.WebServiceConnectionException: exceptionId=ERR.ANY.WEBSERVICECONNECTIONEXCEPTION.CANNOT_EXECUTE_SERVICE, argument(s)=[FAIL:!oracle/jdbc/driver/T2CConnection.t2cCreateState([BI[BI[BI[BISI[S[B[BZ)I!, http ://servername/ibmcognos/controllerserver/CCRWS.asmx,?] 
at com.ibm.cognos.ccr.ccrws.JAXWSClient.executeTask(JAXWSClient.java:107) 


CAUSE
There are many potential causes for similar errors. 

 * TIP: See separate IBM Technote #1612000 for more details.


This IBM Technote specifically relates to the scenario where the 'details' section contains the text " FAIL:!oracle/jdbc/driver/T2CConnection.t2cCreateState([BI[BI[BI[BISI[S[B[BZ)I!,".  * In this scenario, the cause is that the Controller Java engine cannot locate the Oracle database server (via TNS) via its default method (thin) and therefore falls back to using an alternative method (OCI) which is failing

ENVIRONMENT
The problem does not affect all environments. However, it has been seen in one environment where both of the following were true: 

 1. Controller application server has Oracle 11G rel2 client installed 
 2. As a workaround to a different error, the file "ocijdbc10.dll" has been copied into the Oracle client folder.

RESOLVING THE PROBLEM
Specify the correct location of the TNSNAMES.ORA file in the ccr-system-properties.properties file in the ...Server\integration folder. 

 
Steps:
1. Logon to the Controller application server as an administrator
2. Locate the 'integration' folder.

This folder location will vary depending on the environment. 

 * TIP: By default, the location for a Controller 10.2.x system is here: C:\Program Files\IBM\cognos\ccr_64\server\integration 


3. Open the file " ccr-system-properties.properties" (inside Notepad) 
4. Edit the file as appropriate. 

The correct value in here will vary depending on the environment, such as:  * Which Oracle client version has been installed 
 * Where the Oracle client has been installed (which folder the TNSNAMES.ORA file is located in)


Example: 
The following example is based on Oracle 11G client, being installed into the default location (for the user 'administrator').  * Therefore, the default location of the TNSNAMES.ORA file would be:C:\app\Administrator\product\11.2.0\client_1\network\admin


Therefore, in this case, you need to modify the file so that it has the following line: 
 * oracle.net.tns_admin=C:\\app\\Administrator\\product\\11.2.0\\client_1\\network\\admin


In other words, it would look similar to: 
[/support/docview.wss?uid=swg21618615&aid=1] [/support/docview.wss?uid=swg21618615&aid=1] 

IMPORTANT: Make sure that your entry uses DOUBLE backslashes ('\\') instead of the standard Windows single backslash (\). RELATED INFORMATION
 1612000 - ** Troubleshooting ** "Could not create the v [http://www.ibm.com/support/docview.wss?uid=swg21612000]