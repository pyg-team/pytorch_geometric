Title: IBM Cluster behaviour with java.lang.OutOfMemoryError: Java heap space - United States

Text:
netcool; impact; netcool/impact; nci; server; impactserver; out; of; memory; error; outofmemory; outofmemoryerror; hang; hung; hanging; stop; stopped; halt; halted; frozen; stuck; fail; failed; failover; over; cluster; sync; NCICLUSTER; primary; secondary; stand; by; standby TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Secondary ImpactServer fails to become Primary after the original Primary ImpactServer encounters an OutOfMemory error 

SYMPTOM
Event processing stops


CAUSE
Cluster failover does not occur

ENVIRONMENT
Cluster of two or more ImpactServers

DIAGNOSING THE PROBLEM
Search the Primary impactserver.log file for OutOfMemoryError and examine Secondary impactserver.log file for messages like:





DateTime INFO [ClusterMember] Did not receive a ping
message from primary: ImpactServerName. Checking to become primary
DateTime INFO [UddiClusterBootStrapper] Established
connection with Nameserver [rmi://Host:Port/ClusterName];
found primary cluster member ClusterMember_Stub[UnicastRef2
[liveRef:[endpoint:[Host:Port,com.micromuse.common.rmi.Logging
MIClientSocketFactory@1f](remote),objID:[-43b928e6:14dc2e28a21:-7ff8,-58
0405430481316656]]]]
DateTime INFO [ClusterMember] No need to convert to
Primary because the current primary ImpactServerName is running ok




RESOLVING THE PROBLEM
Encountering an OutOfMemoryError on the Primary ImpactServer in a Cluster of two or more ImpactServers and, though it failed, it did not go down and remained in a state that prevented the Secondary ImpactServer(s) from taking over. The only recovery from an OutOfMemoryError is a full restart, as the processes may still run but in an unknown state that has no guarantee of anything operating as expected. 


The reason for this is that when this issue was encountered whatever action was being undertaken was unable to complete and the "damage" done is unpredictable. The state of the ImpactServer is unknown - it may seem to carry on as normal or it may just sit there in a hung state.

At this point you need to start an investigation into what caused the OutOfMemoryError and how to prevent it from happening again.