Title: IBM Mustgather: Setup for OutOfMemoryErrors on z/OS® - United States

Text:
setup OOM z/OS OutOfMemory; MustGatherDocument TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 If your Java application experiences OutOfMemory(OOM) errors on a z/OS® operating system, there are a number of diagnostic data files that are useful for diagnosing the problem. This mustgather document describes about the required settings to be in place in order to generate those diagnostic data files. 

RESOLVING THE PROBLEM
In order to collect the diagnostic data files required for diagnosing the OutOfMemory errors, check that the following specific settings are configured before running your application: 
1. Enable Transaction dump(TDump) generation
2. Enable javacore [http://www-01.ibm.com/support/docview.wss?uid=swg21222439] generation
3. Enable heap dump [http://www-01.ibm.com/support/docview.wss?uid=swg21222438] generation

Please note that all the transaction dump, javacore and heap dump generation can be enabled using the below -Xdump option: 

For memory leak issues:
-Xdump:java+system+heap:events=user+abort+gpf,opts=IEATDUMP 

For OutOfMemory issues:
-Xdump:java+system+heap:events=throw+systhrow,opts=IEATDUMP,filter=java/lang/OutOfMemoryError 

Please check that there is enough disk space available for the TDump file to be written and ensure that the RACF permissions are configured so that the Java process can write to the HLQ. 

4. Enable verbose GC [http://www.ibm.com/support/docview.wss?uid=swg21222436] collection
Please use -verbose:gc option for the same 

For more details about enabling these settings, please see the related information links.

RELATED INFORMATION
 Verbose GC [http://www-01.ibm.com/support/docview.wss?uid=swg21222436]
Javacore [http://www-304.ibm.com/support/docview.wss?uid=swg21222439]
Heapdump [http://www.ibm.com/support/docview.wss?uid=swg21222438]