Title: IBM IZ04125: MIB2TRAP BUILDS A STRING THAT LEADS TO A PARSING FAILURE IN TEC. - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When mib2trap builds a quoted multiple word slot value as an
   argument for addtrap.  The slot value seems to require an extra
   set of quotes to prevent a parsing eror in TEC.
   
   
    
   
   

LOCAL FIX
 *  Edit the addtrap script created by mib2trap and add an extra set
   of quotes around the quoted slot value.
   
   Example:  Change this
   
   -E msg  -V 'bigipAgentShutdown trap received'
   
   to this
   
   -E msg  -V "'bigipAgentShutdown trap received'"
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of NetView for UNIX.               *
   ****************************************************************
   * PROBLEM DESCRIPTION: addtrap scripts created by mib2trap     *
   *                      are built incorrectly when the trap     *
   *                      has no variables defined.               *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   mib2trap was enhanced in NetView Version 7.1.5 to add more
   detailed format when a baroc file was also requested.  If a
   trap had no variables listed in the MIB which defined it,
   then mib2trap would add the phrase
      <enterprise name> trap received
   as the deafult trap message.  However mib2trap enclosed this
   string in single quotes, which meant that they were dropped
   when the addtrap script was run.  When the event was
   formatted to send to TEC, the string was not enclosed in
   any quotes, and a parsing failure resulted.
   
   
    
   
   

PROBLEM CONCLUSION
 *  mib2trap has been fixed to enclose the default string in
   double quotes, which avoids the problem.
   The fix for this APAR is or will be contained in the
   following maintenance packages:
    | fix pack | 7.1.5-TIV-NVD-{OpSys}-FP0002
   and then in all releases and fix packs shipped thereafter.
   
   
    
   
   

TEMPORARY FIX
 *  A test fix is available for this problem under the APAR number
   IZ04125 from NetView Level 2.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ04125
   
   
 * REPORTED COMPONENT NAME
   TIV NETVIW FOR
   
   
 * REPORTED COMPONENT ID
   5698NVW05
   
   
 * REPORTED RELEASE
   715
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2007-09-04
   
   
 * CLOSED DATE
   2007-10-12
   
   
 * LAST MODIFIED DATE
   2008-06-26
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TIV NETVIW FOR
   
   
 * FIXED COMPONENT ID
   5698NVW05
   
   

APPLICABLE COMPONENT LEVELS
 * R715 PSY XR23279
   UP08/06/26 I 1000