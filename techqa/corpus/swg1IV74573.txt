Title: IBM IV74573: EXCESSIVE MEMORY MANAGEMENT OVERHEAD IN APPLICATION SHARED HEAP WHEN A LARGE NUMBER OF COLUMNAR TABLES ARE UPDATED - United States

Text:
  A FIX IS AVAILABLE
DB2 Version 10.5 Fix Pack 9 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24044110]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  DB2 caches memory to improve performance for IUD activity
   against column-based tables.  The memory is cached per table.
   In 10.5 Fix Pack 4, much of the associated memory requirements
   were moved from the database heap to the application shared
   heap, partly to avoid the need to account for this uncertain
   requirement when specifying a fixed DBHEAP setting.
   
   The characteristics of the application shared heap make it more
   volatile to certain types of overhead, such that there will be
   virtually 100% overhead on top of the true memory requirements
   for the above purpose.  This will be addressed in this APAR.
   
   db2pd -db <db> -mempools will show that the physical size
   (PhySz) is nearly twice that of the logical size (LogSz) .  note
   only selected relevant columns are displayed in the below
   example, where the PhySz of 25.4GB is 2x the LogSz of 12.7GB
   
   PoolName   Id    LogSz       LogHWM      PhySz       PhyHWM
   ...
   appshrh    20    12738654168 13562004456 25413746688 27023310848
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * DB2 systems using columnar data storage are vulnerable       *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * See Error Description                                        *
   ****************************************************************
   * RECOMMENDATION:                                              *
   * Upgrade to DB2 Version 10.5 Fix Pack 7                       *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem first fixed in DB2 Version 10.5 Fix Pack 7
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV74573
   
   
 * REPORTED COMPONENT NAME
   DB2 COLUMN STOR
   
   
 * REPORTED COMPONENT ID
   DB2CLMSTR
   
   
 * REPORTED RELEASE
   A50
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-06-25
   
   
 * CLOSED DATE
   2016-02-18
   
   
 * LAST MODIFIED DATE
   2016-02-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  sqo
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 COLUMN STOR
   
   
 * FIXED COMPONENT ID
   DB2CLMSTR
   
   

APPLICABLE COMPONENT LEVELS
 * RA50 PSN
   UP