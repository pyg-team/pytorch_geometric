Title: IBM PI63424: WI: 392385 CLM DATA WAREHOUSE UPGRADE SCRIPTS CAN PRODUCE GRANT ERRORS - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  In IBM Rational Collaborative Lifecycle Management (CLM)
   environment with Oracle database server hosting repository data,
   when running the data warehouse upgrade scripts to perform
   upgrade with an ID without Oracle DBA access , error:
   "ORA-00942: table or view does not exist" will return when
   executing the following SQL statement within the script:
   Â GRANT SELECT ON RIDW.VW_F_REQUEST_METRICS TO RPTUSER
   
   Steps to reproduce:
   
   1. Run repotools-jts generateWarehouseUpgradeScripts command
   with the additionalOptions parameter to generate the set of data
   warehouse upgrade scripts
   2. Run each script one by one with a database ID without DBA
   access.  When executing the second script:
   grantCoreSchemaReadAccess.sql, notice the error "ORA-00942:
   table or view does not exist" is returned after running the
   following SQL statement within the script:
   Â GRANT SELECT ON RIDW.VW_F_REQUEST_METRICS TO RPTUSER
   
   Workaround: Run the fourth script: upgradeCalmSchema.sql first,
   then re-run the second script: grantCoreSchemaReadAccess.sql to
   avoid the grant error.
   
   See details from the following jazz.net defect work item:
   
   Change the sequence of generate data warehouse upgrade scripts
   to avoid grant errors (392385)
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED:                                              *
   * All                                                          *
   ****************************************************************
   * PROBLEM DESCRIPTION:                                         *
   * In IBM Rational Collaborative Lifecycle Management (CLM)     *
   * environment with Oracle database server hosting repository   *
   * data,                                                        *
   * when running the data warehouse upgrade scripts to perform   *
   * upgrade with an ID without Oracle DBA access , error:        *
   * "ORA-00942: table or view does not exist" will return when   *
   * executing the following SQL statement within the script:     *
   * Ã‚ GRANT SELECT ON RIDW.VW_F_REQUEST_METRICS TO RPTUSER      *
   *                                                              *
   * Steps to reproduce:                                          *
   *                                                              *
   * 1. Run repotools-jts generateWarehouseUpgradeScripts command *
   * with the additionalOptions parameter to generate the set of  *
   * data                                                         *
   * warehouse upgrade scripts                                    *
   * 2. Run each script one by one with a database ID without DBA *
   * access.  When executing the second script:                   *
   * grantCoreSchemaReadAccess.sql, notice the error "ORA-00942:  *
   * table or view does not exist" is returned after running the  *
   * following SQL statement within the script:                   *
   * Ã‚ GRANT SELECT ON RIDW.VW_F_REQUEST_METRICS TO RPTUSER      *
   *                                                              *
   * Workaround: Run the fourth script: upgradeCalmSchema.sql     *
   * first,                                                       *
   * then re-run the second script: grantCoreSchemaReadAccess.sql *
   * to                                                           *
   * avoid the grant error.                                       *
   *                                                              *
   * See details from the following jazz.net defect work item:    *
   *                                                              *
   * Change the sequence of generate data warehouse upgrade       *
   * scripts                                                      *
   * to avoid grant errors (392385)                               *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   
   
    
   
   

PROBLEM CONCLUSION
 *  This issue is fixed in the Rational Collaborative Lifecycle
   Management 6.0.2 iFix002 release
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PI63424
   
   
 * REPORTED COMPONENT NAME
   RATL TEAM CONCE
   
   
 * REPORTED COMPONENT ID
   5724V0400
   
   
 * REPORTED RELEASE
   602
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-06-01
   
   
 * CLOSED DATE
   2016-06-14
   
   
 * LAST MODIFIED DATE
   2016-06-14
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   RATL TEAM CONCE
   
   
 * FIXED COMPONENT ID
   5724V0400
   
   

APPLICABLE COMPONENT LEVELS
 * R602 PSY
   UP