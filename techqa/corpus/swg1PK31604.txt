Title: IBM PK31604: ALTER THE ATTRIBUTES OF RLS VSAM FILES, FIRST ACCESS IS VIA THE ALTERNATE INDEX, OK, NEXT ACCESS OF BASE CLUSTER GET'S DFHFC0528 - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Altered the recovery attributes of a set of RLS VSAM files from
   LOG(NONE) to LOG(UNDO).  The Files are freed up and a batch job
   alters the attributes.  The Files are then reallocated to CICS
   but are NOT opened until First Reference.  Each file has a Base
   Cluster and 2 Alternate Indexes.  If the First Reference to the
   Files are through the Alternate Indexes the File OPENs OK, but
   on the next reference of the Base Cluster, the following message
   is issued:
   .
   DFHFC0528 CICSREG1  355
   RLS OPEN of file FILENAME failed. Recovery attributes on the
   catalog have changed while there are other files still open for
   the sphere.
   .
   Opening the Base Cluster first results in everything working
   fine and as expected.  To get around the problem, you can
   manually open the Files prior to user access, so that the Base
   is accessed First.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS Users                               *
   ****************************************************************
   * PROBLEM DESCRIPTION: Message DFHFC0528 if any of the         *
   *                      recovery attributes have been changed   *
   *                      and the first file being opened in a    *
   *                      sphere is READ only.                    *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   A VSAM RLS BASE and alternate index PATH file are closed to
   CICS and recovery attributes are changed in the VSAM catalog
   for this sphere.
   If the PATH which is defined as READ only is opened first,
   this is successfully opened but CICS issues error message
   DFHFC0528 when attempting to open the BASE file which is
   defined for UPDATE.
   Additional keywords: LOG(NONE) LOG(UNDO) DFHFC0527
   MSGDFHFC0527 MSGDFHFC0528
   
   
    
   
   

PROBLEM CONCLUSION
 *  DFHFCRO has been changed to verify the recovery attributes on
   the first open for update on the sphere.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK31604
   
   
 * REPORTED COMPONENT NAME
   CICSTS 3.1 Z/OS
   
   
 * REPORTED COMPONENT ID
   5655M1500
   
   
 * REPORTED RELEASE
   400
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2006-09-18
   
   
 * CLOSED DATE
   2006-11-30
   
   
 * LAST MODIFIED DATE
   2007-01-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK20190
   
   

MODULES/MACROS
 *     DESFCRO  DFHFCRO
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICSTS 3.1 Z/OS
   
   
 * FIXED COMPONENT ID
   5655M1500
   
   

APPLICABLE COMPONENT LEVELS
 * R400 PSY UK20190 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK20190]
   UP06/12/05 P F612
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.