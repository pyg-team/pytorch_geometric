Title: IBM Cumulative fix upgrade fails on secondary node with "Installation Manager cannot add feature Portal Server Profile" - United States

Text:
cf upgrade fails; silent install failture; silent cf install TECHNOTE (TROUBLESHOOTING)

PROBLEM
Cumulative fix upgrade fails on secondary node with "Installation Manager cannot add feature Portal Server Profile"

SYMPTOM
During steps to install Cumulative fix in IBM Installation Manager, the following error is encountered:

ERROR: Installation Manager cannot add feature Portal Server Profile during the Update or Rollback.



CAUSE
This exception is generated when attempting a silent install of the cumulative fix to a binary install of Portal.

IBM Installation Manager does not register that a profile exists and because this is an update, adding the feature portal.profile is not allowed thus the exception is thrown and the upgrade is unable to proceed.

ENVIRONMENT
Portal 8.0 + Cumulative fix

DIAGNOSING THE PROBLEM
Reviewing the sample response file that comes with the cumulative fix, we can see that the portal.profile is to be added

<offering id='com.ibm.websphere.PORTAL.SERVER.v80' profile='IBM WebSphere Portal Server V8'
features='ce.install,portal.binary,portal.profile' installFixes='none'/>

Because the IBM Installation Manger does not know that the profile was added using the manageprofiles script, it will attempt to add the profile. Because this is an Update, features are not allowed to be added thus IBM Installation Manager throws the error.

RESOLVING THE PROBLEM
1. Edit the response file from:

<offering id='com.ibm.websphere.PORTAL.SERVER.v80' profile='IBM
WebSphere Portal Server V8'
features='ce.install,portal.binary,portal.profile' installFixes='none'/>

to

<offering id='com.ibm.websphere.PORTAL.SERVER.v80' profile='IBM WebSphere Portal Server V8' features='ce.install,portal.binary' installFixes='none'/>




2. Re-attempt cumulative fix upgrade