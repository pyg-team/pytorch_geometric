Title: IBM PK67594: PatternSyntaxException when running Java to UML with specific co de - United States

Text:
  FIXES ARE AVAILABLE
Rational Software Architect Standard Edition, Version 7.5 [http://www-01.ibm.com/support/docview.wss?uid=swg24019922]
Rational Software Architect for WebSphere Software, Version 7.5 [http://www-01.ibm.com/support/docview.wss?uid=swg24019921]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Parsing of array creation sizes could fail under certain Java 5.
   0 syntax.
   
   Description of problem:
   
   When the Java code contains specific code, the Java to UML trans
   formation throws PatternSyntaxException. See stack trace below.
   
   Step to reproduce:
   1. Create a Java class containing the following attribute :
              private Class?? extends Object?[] my_array;
   2. Run a Java to UML transformation
   3. You receive the following error :
   
   !ENTRY com.ibm.xtools.transform.core 4 12 2008-06-13 11:47:01.14
   0
   !MESSAGE IRJH0012E Transformation 'Java to UML' aborted during i
   ts execution; descriptor id='com.ibm.xtools.transform.java.uml.J
   ava-to-UML'
   !STACK 0
   java.util.regex.PatternSyntaxException: Dangling meta character
   '+' near index 24
   (\s*)(=)(\s*)(new)(\s*)(+QObject)(\s*)(\[)(\s*)([0-9]*)(\s*)(\])
   (\s*)(;)
                           ^
    at java.util.regex.Pattern.error(Unknown Source)
    at java.util.regex.Pattern.sequence(Unknown Source)
    at java.util.regex.Pattern.expr(Unknown Source)
    at java.util.regex.Pattern.group0(Unknown Source)
    at java.util.regex.Pattern.sequence(Unknown Source)
    at java.util.regex.Pattern.expr(Unknown Source)
    at java.util.regex.Pattern.compile(Unknown Source)
    at java.util.regex.Pattern.?init?(Unknown Source)
    at java.util.regex.Pattern.compile(Unknown Source)
    at com.ibm.xtools.transform.java.uml.internal.model.JavaClassPr
   opertyProxy.applyCollectionTypeProperties(Unknown Source)
    at com.ibm.xtools.transform.java.uml.internal.model.JavaClassPr
   opertyProxy.generateProperty(Unknown Source)
    at com.ibm.xtools.transform.java.uml.internal.rules.GeneratePro
   pertyProxyRule.createTarget(Unknown Source)
    at com.ibm.xtools.transform.core.AbstractRule.execute(Unknown S
   ource)
    at com.ibm.xtools.transform.core.ModelRule.access$0(Unknown Sou
   rce)
   ...
   
   This issue seems linked to both the usage of 'extends XXX' and t
   he array definition.
   The following attribute declaration will not fail :
        private Class?? extends Object? my_attribute;
        private Class??? my_other_array;
   
   Workaround:
   Use a Java container instead of an array :
   private List?Class?? extends Object?? my_list;
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  PatternSyntaxException when running Java to UML with
   specific code.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Fixed in product release RSA 7.5.
   
   Improved parsing to take into account Java 5.0 language
   changes.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK67594
   
   
 * REPORTED COMPONENT NAME
   RATL SYS DEV
   
   
 * REPORTED COMPONENT ID
   5724M1000
   
   
 * REPORTED RELEASE
   705
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-06-13
   
   
 * CLOSED DATE
   2008-09-26
   
   
 * LAST MODIFIED DATE
   2008-09-26
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   RATL SYS DEV
   
   
 * FIXED COMPONENT ID
   5724M1000
   
   

APPLICABLE COMPONENT LEVELS
 * R705 PSN
   UP