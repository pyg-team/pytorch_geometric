Title: IBM InfoSphere Information Server - ASBAgent will not start - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 ASBAgent fails to start after following instructions for changing host name found in document titled "Instructions for Changing the Information Server Services & Engine Hostname"

The following errors are in the "asbagent_startup.err" file:

[ISF-AGENT-APP] [0020] Error retrieving the configuration for this agent.

com.ascential.asb.agent.config.AgentNotConfiguredException: Server "<server name>:31531" does not have an agent configured.
at com.ascential.asb.agent.config.server.impl.AgentConfigurationImpl.getAgentMetaData(AgentConfigurationImpl.java:334)
at com.ascential.asb.agent.config.server.impl.AgentConfigurationBean.getAgentMetaData(AgentConfigurationBean.java:256)
at com.ascential.asb.agent.config.server.EJSRemoteStatelessAgentConfiguration_c53aed69.getAgentMetaData(Unknown Source)
at com.ascential.asb.agent.config.server._EJSRemoteStatelessAgentConfiguration_c53aed69_Tie.getAgentMetaData__CORBA_WStringValue__long(_EJSRemoteStatelessAgentConfiguration_c53aed69_Tie.java:479)
at com.ascential.asb.agent.config.server._EJSRemoteStatelessAgentConfiguration_c53aed69_Tie._invoke(_EJSRemoteStatelessAgentConfiguration_c53aed69_Tie.java:200)
at com.ibm.CORBA.iiop.ServerDelegate.dispatchInvokeHandler(ServerDelegate.java:614)
at com.ibm.CORBA.iiop.ServerDelegate.dispatch(ServerDelegate.java:467)
at com.ibm.rmi.iiop.ORB.process(ORB.java:439)
at com.ibm.CORBA.iiop.ORB.process(ORB.java:1761)
at com.ibm.rmi.iiop.Connection.respondTo(Connection.java:2376)
at com.ibm.rmi.iiop.Connection.doWork(Connection.java:2221)
at com.ibm.rmi.iiop.WorkUnitImpl.doWork(WorkUnitImpl.java:65)
at com.ibm.ejs.oa.pool.PooledThread.run(ThreadPool.java:118)
at com.ibm.ws.util.ThreadPool$Worker.run(ThreadPool.java:1475)
......

Customer unable to perform a view data from Oracle Connector stage (only in 8.1 and greater). (Secondary symptom) 

CAUSE
The value in the XMETA was upper case, while the value in InformationServerHome/ASBNode/conf/agent.properties was lower case (Case Mis-Match)

DIAGNOSING THE PROBLEM
Reviewed all setting changes per the change host name document mentioned above. 

Everything looked good. 

By using the /IBM/InformationServer/ASBNode/bin/AgentConfig.sh tool we were able to determine that the value was upper case in XMETA and in the agent.properties.xml the value was lower case. 
This causes a failure on lookup.

Command line for AgentConfig.sh was used for this task:
./AgentConfig.bat -user isadmin_user -password isadmin_user_password -listAllAgents



RESOLVING THE PROBLEM
Change either the agent.properties to match the XMETA database value (as returned by AgentConfig.sh) or update the values in XMETA 


NOTE: For clarity and consistency, it is suggested, though not required, that host name values of the text files changed per the change host name document be modified again to match, even though the agent.properties appears to be the only setting involved in this situation 






Cross Reference information Segment Product Component Platform Version Edition Information Management InfoSphere DataStage AIX, HP-UX, Linux, Linux Red Hat - iSeries, Solaris, Windows 8.1, 8.0