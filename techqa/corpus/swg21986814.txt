Title: IBM Take time before CDC start CICS replication - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 When subscription stops, the CICS continously wrote the logsteams, so 
this means there were lots of data accumulated there. 
When we restarted the subscription and started mirror, we thought the 
CDC would rapidly read the logs and catch up with the data replication,
but we found it took several minutes before the CDC start the 
replication. Why?

Also we found the more data logs accumulated in logstreams, the longer
time before CDC start the replication. 

ANSWER
On start-up the Classic server will start looking for transactions to build in memory a table of short names from tie-up records. The Classic server is looking at tie-up records for a time when all data sets that are part of the subscription are closed in all CICS regions and in CICS VR. The recovery point is not the time of the current keypoint representing the write of a tie-up record, as there might still be some uncommitted log records that have not been processed.
Instead, it is the time of the start of the last keypoint that wrote a complete set of tie-up records, and the writing of that tie-up record completed sooner than the oldest uncommitted write to a recovery log.

Tie-up records must be available to the Classic Server Data Replication for VSAM prior to change data capture. A VSAM data set is associated with the name of a file definition in CICS and a DD name in CICS VR (CICS VSAM Recovery). When a VSAM data set is opened, CICS and CICS VR generate a tie-up record in the replication log. A tie-up record connects a
data set name with the name that CICS or CICS VR uses in subsequent log records that describe changes.

The extra time is for the reading of log records and ignoring data to get to data of interest, that being the tie-up records. If burst activity occurred between time when reading back in the log to collect tie-up records and the present time, more data must be read. For the Classic server the reading of logs occurs two hours before bookmark to ensure the Classic log reader service detects a tie-up record. The additional time is required of the log service if it is
required to sift through a large amount of log data to acquire the tie-up records if burst activity or a sustained peak activity period has occurred creating a large volume of log stream records that are recording activity. This means the more data that is accumulated in logstreams, the longer the time to process tie-up records from two hours prior to the restart point to ensure the proper records are found. It is the Bookmark time-stamp data that provides a restart
position if replication stops.