Title: IBM PK94759: AFTER CHANGE TO DAYLIGHT SAVINGS, STATISTICS END-OF-DAY TIME IS INCORRECTLY SET AT ONE HOUR PAST MIDNIGHT. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  After change to daylight savings, Statistics End-of-Day Time is
   incorrectly set at one hour past midnight.
   
   
    
   
   

LOCAL FIX
 *  n/a
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS users.                              *
   ****************************************************************
   * PROBLEM DESCRIPTION: After moving the system clock forward   *
   *                      1 hour for daylight saving time, CICS   *
   *                      end-of-day (EOD) statistics ran at      *
   *                      01:00 instead of midnight.              *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   SIT parameter AUTORESETTIME=YES was specified.  This causes
   DFHAPTIM to issue a PERFORM RESET to synchronize the CICS date
   and time-of-day with the system date and time-of-day at the next
   local midnight if they differ by more than 30 minutes.  This
   worked correctly but now CICS end-of-day statistics ran at 01:00
   (one am, 1 o'clock) instead of midnight.
   
   The end-of-day statistics collection is controlled by a periodic
   timer event which runs at midnight.  This runs, is temporarily
   marked as expired and then reset to run 24 hours later.
   However, DFHTISR does not reset the expiry time in an expired
   timer request element (TRE).
   
   Additional keywords: TRE_EXPIRY_TIME
   
   
    
   
   

PROBLEM CONCLUSION
 *  Procedure RESET_LOCAL_TIME in DFHTISR has been changed to reset
   the expiry time of an expired periodic alarm call timer request
   element.
   
   Procedure CLEANUP in DFHTISR has been changed so that 24 hours
   is no longer added to the expiry time of an expired periodic
   alarm call timer request element if the expiry time has already
   been reset in procedure RESET_LOCAL_TIME.
   
   The CICS Transaction Server for z/OS Version 4 Release 1 CICS
   Supplementary Data Areas manual, GC34-7015-00, will be updated
   as follows:
   
   Add flag TRE_RESET_PERFORMED to the TIMER_REQUEST_ELEMENT
   definition at offset (49) as follows:
   
    (49)   UNSIGNED        1     TRE_FLAGS         various flags
            1...  ....           TRE_EXPIRED       Expired, and
                                                   notify in
                                                   progress
            .1..  ....           TRE_CANCELLED     Is it cancelled?
            ..1.  ....           TRE_ORIGIN_       expiry of 1st
                                 INTERVAL_EXPIRED  interval
            ...1  ....           TRE_RESET_        local times
                                 TIME_PROCESSED    adjusted?
            ....  1...           TRE_RESET_        RESET while
                                 PERFORMED         EXPIRED
            ....  .1..           *                 unused
            ....  ..1.           *                 unused
            ....  ...1           *                 unused
   
   The CICS Transaction Server for z/OS Version 4 Release 1 CICS
   System Definition Guide, SC34-6999-00, will be updated as
   follows:
   
   A note will be added to the description of the YES value of
   system initialization parameter AUTORESETTIME in section "The
   system initialization parameter descriptions":
   
   "YES  CICS issues a PERFORM RESET command to synchronize the
         CICS time-of-day with the system time-of-day.
   
         Note: Setting clocks back may result in end-of-day
         statistics to be written twice."
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PK94759
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2009-08-26
   
   
 * CLOSED DATE
   2009-09-30
   
   
 * LAST MODIFIED DATE
   2009-11-04
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PK86581 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK86581]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK50669
   
   

MODULES/MACROS
 *  DFHTIA   DFHTIAD  DFHTISR
   
   
    
   
   

Publications Referenced GC34701500 SC34699900 FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R600 PSY UK50669 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK50669]
   UP09/10/07 P F910
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.