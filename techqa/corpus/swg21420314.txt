Title: IBM Running the same SQL commands on DB2 LUW and DB2 z/OS versions 9.7, 9.5, and 9.1 results in different error codes: DB2 LUW returns SQL0100W while DB2 z/OS returns SQL0407N - United States

Text:
SQL0100W; SQLSTATE=02000; SQL0407N; SQLSTATE=23502; z/OS TECHNOTE (FAQ)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 English 

QUESTION
 I attempted to run an identical set of commands on both DB2 LUW and DB2 z/OS, and they resulted in different error messages. DB2 LUW returns SQL0100W while DB2 z/OS returns SQL0407N. Which platform has the correct error? 

ANSWER
When I run the following set of commands on DB2 LUW, I receive the following output: 

Test1:
IBM\SQLLIB\BIN>db2 CREATE TABLE MIKEL ( COL1 CHAR(32) NOT
NULL, COL2 CHAR(32) NOT NULL)
DB20000I The SQL command completed successfully.

IBM\SQLLIB\BIN>db2 UPDATE MIKEL SET COL2 = NULL WHERE COL
1 = 'X'
SQL0100W No row was found for FETCH, UPDATE or DELETE; or the result of a
query is an empty table. SQLSTATE=02000 

 

When I run the same commands on z/OS, I get the following output: 

Test 2:
IBM\SQLLIBv97ga\java>db2 CREATE TABLE MIKEL ( COL1 CHAR(32) NOT
NULL, COL2 CHAR(32) NOT NULL)
DB20000I The SQL command completed successfully.

D:\Program Files\IBM\SQLLIBv97ga\java>db2 UPDATE MIKEL SET COL2 = NULL WHERE COL
1 = 'X'
DB21034E The command was processed as an SQL statement because it was not a
valid Command Line Processor command. During SQL processing it returned:
SQL0407N Assignment of a NULL value to a NOT NULL column "COL2" is not
allowed. SQLSTATE=23502 

DB2 LUW's SQL0100W is the correct result. DB2 z/OS has confirmed that the SQL0407N will be changed in the future to match DB2 LUW's SQL0100W.