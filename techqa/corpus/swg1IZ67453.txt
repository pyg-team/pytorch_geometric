Title: IBM IZ67453: AGENT CAN NOT MONITOR OVER 128 LISTENERS - United States

Text:
  A FIX IS AVAILABLE
IBM Tivoli Monitoring for Databases: Oracle Agent 6.2.1-TIV-ITM_ORA-IF0007 [http://www-01.ibm.com/support/docview.wss?uid=swg24033217]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Environment:
   HP-UX 11i - Oracle Agent - ITM for Oralce 6.1 FP01
   SunOS 5.10 sparc - Oracle Agent - ITM for Oracle 6.2FP01 IF0003
   Oracle 10g
   
   Problem Description:
   case1: if there are more then 128 listeners in listener.ora
   file, agent will ignore all last entries after the 128th
   listener.
   
   case2: if total line number of file listener.ora over 500,
   agent will ignore all last lines from the 500th line.
   
   
   
   Detailed Recreation Procedure:
   
   Step1: Edit $TNS_ADMIN/listener.ora to define more then 130
   listeners and/or more than 500 rows
   
   Step2: Edit $candlehome/misc/kortrac.ctl with following update
   trace_all;
   ;;trace_all;
   
   Step3: Edit $candlehome/misc/korcoll.ctl with following update
   to open the detail trace for korerr utility
   
        script korerr -ddddddddd -log [KORV.DBNAME1 [KORV.LASTMSGT
   2;
   ;;   script korerr -log [KORV.DBNAME1 [KORV.LASTMSGT 2;
   
   Step4: recycle agent and check output in the collector log *.out
   
   
   Results:
   With above listener.ora in step1, collector *.out log
   indicate agent parse listener info and stop at the line 499 as
   below:
   
   >EER0022T (162114) korerr:get_listeners:current line:
   SID_NAME   CACSB
   >EER0025T (162114) korerr:get_listeners:Initial parse complete.
   Num listeners=38, Num Sids=4
   
   OR
   
   collector *.out log indicate agent parse listener info and stop
   at the 128th listener as below:
   
   >EER0025T (110522) korerr:get_listeners:Initial parse complete.
   Num listeners=128
   >...
   >EER0021S (110522) More than 128 listener entries found in
   listener.ora
   Ignoring the last 12 entries.
   
   Related Files and Output:
   1) $candlehome/misc/kortrac.ctl
   2) $candlehome/misc/korcoll.ctl
   3) $candlehome/logs/<hostname>_or_<sid>_col.out
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  ***************************************************************
   * USERS AFFECTED:
   ITM for Database:Oracle Agent Version 6.20FP1
   ***************************************************************
   * PROBLEM DESCRIPTION:
   Oracle Agent can not monitor OVER 128 Oracle listeners.
   ***************************************************************
   * RECOMMENDATION:
   apply 6.2.0.1-TIV-ITM_ORA-IF0008 when available
   ***************************************************************
   Oracle Agent can not monitor over 128 oracle listener because
   Agent has a predefined maximum listener limitation as 128.
   Oracle Agent can not monitor the listener which is defined in
   file
   listener.ora from line 500 as Agent has a predefined line
   reading
   maximum limitation of 500.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The fix for this APAR is contained in the following maintenance
   packages:
   6.2.0.1-TIV-ITM_ORA-IF0008
   Agent will extend the maximum listener number limitation to
   2048.
   Agent will extend the maximum listener.ora line reading
   limitation to 10,000
   
   
    
   
   

TEMPORARY FIX
 *  A hotfix had been delivered to customer and customer confirm
   this hotfix can work, pmr 40263,300,624 had been closed.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ67453
   
   
 * REPORTED COMPONENT NAME
   TIV MON ORACLE
   
   
 * REPORTED COMPONENT ID
   5724B96OO
   
   
 * REPORTED RELEASE
   620
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-01-04
   
   
 * CLOSED DATE
   2010-03-03
   
   
 * LAST MODIFIED DATE
   2014-02-28
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   TIV MON ORACLE
   
   
 * FIXED COMPONENT ID
   5724B96OO
   
   

APPLICABLE COMPONENT LEVELS
 * R620 PSY
   UP