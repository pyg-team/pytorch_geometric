Title: IBM IT21147: Permit monitoring of IBM MFT agent JVM's using JMX tools such asJConsole - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS NEW FUNCTION.
    
   
   

ERROR DESCRIPTION
 *  Java Management Extensions (JMX) specification tools such as
   "JConsole" permit an application to connect to a running JVM,
   for example to permit the JVM to be monitored.
   
   It is not possible to attach these JMX tools to an IBM MQ
   Managed File Transfer agent JVM.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   This issue affects users of IBM MQ Managed File Transfer who
   want to attach monitoring tools to their agent JVMs.
   
   
   Platforms affected:
   MultiPlatform
   
   ****************************************************************
   PROBLEM DESCRIPTION:
   It was not possible to attach a JVM monitoring JMX tools such as
   JConsole to a IBM MQ Managed File Transfer agent's JVM.
   
   This was because attaching was disabled due to a problem within
   the JRE, which was documented under APAR IZ73533 [http://www-01.ibm.com/support/docview.wss?uid=isg1IZ73533]:
   
     http://www.ibm.com/support/docview.wss?uid=isg1IZ73533 [http://www.ibm.com/support/docview.wss?uid=isg1IZ73533]
   
   IBM MQ now ships a version of the JRE which contains this JRE
   APAR, so the attach feature can be re-enabled.
   
   
    
   
   

PROBLEM CONCLUSION
 *  It is now possible to attach a JVM monitoring tool such as
   JConsole to a IBM MQ Managed File Transfer agent JVM, if the
   platform is using an IBM JRE (AIX, Linux, IBM i, Windows, z/OS).
    To enable this, set the environment variable BFG_ALLOW_ATTACH
   to some value in the shell which starts the agent - for
   instance:
   
     BFG_ALLOW_ATTACH=true
   
   After starting the agent in a shell where this environment
   variable has been set, JMX monitoring tools can then be attached
   to the agent's JVM, unless this function has been separately
   disabled in the JVM configuration.
   
   If running on a UNIX type platform, this variable will need to
   be exported in order to be picked up by the agent start scripts,
   eg:
   
     export BFG_ALLOW_ATTACH=true
   
   ---------------------------------------------------------------
   The fix is targeted for delivery in the following PTFs:
   
   Version    Maintenance Level
   v8.0       8.0.0.10
   v9.0 LTS   9.0.0.4
   
   The latest available MQ maintenance can be obtained from
   'WebSphere MQ Recommended Fixes'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006037]
   
   If the maintenance level is not yet available information on
   its planned availability can be found in 'WebSphere MQ
   Planned Maintenance Release Dates'
   http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309 [http://www-1.ibm.com/support/docview.wss?rs=171&uid=swg27006309]
   ---------------------------------------------------------------
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IT21147
   
   
 * REPORTED COMPONENT NAME
   WMQ MFT V8.0
   
   
 * REPORTED COMPONENT ID
   5724H7252
   
   
 * REPORTED RELEASE
   800
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2017-06-22
   
   
 * CLOSED DATE
   2018-02-28
   
   
 * LAST MODIFIED DATE
   2018-03-23
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ MFT V8.0
   
   
 * FIXED COMPONENT ID
   5724H7252
   
   

APPLICABLE COMPONENT LEVELS