Title: IBM SAML logins for Sametime and Sametime Advanced manage chat rooms function  uses XULrunner embedded browser, this browser only supports TLS1.0. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM
Enabling TLSv1.2 on Sametime shows an issue specifically with Sametime Advanced Chat Room functions. The problem is that the XULrunner embedded browser used by the Advanced server only supports a max TLS version of TLSv1.0.

Users will see a "Message is null" dialog displayed as the embedded browser isn't able to display the TLSv1.2 content.

Rich client SAML logins have this problem also as it utilizes XULRunner browser too. 

CAUSE
XULrunner browser does not support TLSv1.2. As a result, clicking on "Manage Chat rooms" for Sametime Advanced server displays an error when TLSv1.2 only is applied to a Sametime Advanced server. 

 


ENVIRONMENT
Sametime Rich Client (Windows and MAC OS) 



RESOLVING THE PROBLEM
Sametime Advanced:
1. Stop the Advanced Server(s) and Advanced Node(s).
2. Set the QoP setting for the Advanced servers to SSL_TLSv2 instead of TLS1.2:
i. Log in to the WebSphere Integrated Solutions Console of the Sametime System Console
ii. Navigate to Security => SSL cert and key management => SSL config => Quality of protection (QoP)
iii. Change the protocol from SSL_TLS to SSL_TLSv2 (not TLS1.2).
ii. OK and Save
3. This change is also needed on the client.ssl.props file on the Advanced servers so that they can communicate with the SSC/Deployment manager:
i. On the Sametime Advanced Server, open the ssl.client.props file for editing. eg: C:\Program Files (x86)\IBM\WebSphere\AppServer\profiles\STADVPNProfile1\properties\ssl.client.props
ii. Change the value com.ibm.ssl.protocol to equal SSL_TLSv2. eg: com.ibm.ssl.protocol=SSL_TLSv2
iii. Run sync command C:\Program Files (x86)\IBM\WebSphere\AppServer\bin>syncNode.bat DeploymentManagerserver.com 8703 -username wasadmin -password password
iv. Do this to all Advanced servers in the cluster, and then restart the Advanced nodes and servers.

This will result in XULrunner browser communicating over TLS1.0 protocol and the rest of Advanced Broadcast communicating over TLS1.2 successfully.

Sametime Rich Client SAML login:
Follow the applicable SAML documentation in order to configure your SAML deployment to communicate over TLSv1.0.