Title: IBM Converting to Oracle thin driver for WebSphere XML Document Management Server V7.0 - United States

Text:
Oracle; thin client; thick client; convert TECHNOTE (FAQ)

QUESTION
 How to convert XDMS V7.0 from using Oracle thick client to Oracle thin client? 

CAUSE
The XDMS 7.0.0.0 release required the use of the Oracle thick (OCI) driver. This required the user to install the full Oracle client on all WebSphere servers running XDMS. XDMS Interim Fix 2 releases the dependency on the Oracle thick driver and full Oracle client installation and allows XDMS to use the Oracle thin driver. Because memory leaks occur when using the thick driver, the thin driver is required after installing this iFix.

ANSWER
Note: This needs to be done only for XDMS setups that use Oracle.


If you are installing for first time, ignore any instructions for installing the Oracle thick client on the servers. 

 1. Copy OJDBC thin drivers from the Oracle database server to a specific directory (for example, /oracle/jdbc/lib) on the deployment manager and the application servers. 
 2. Install using the Interactive Installer, as instructed in the XDMS 7.0.0.0 information center. 
 3. After a successful installation, go to the WebSphere Application Server (WAS) Integrated Solutions Console: Resources > JDBC > datasources. 
 4. For each XDMS datasource (including datasources for SIB and usage record), click datasource under Oracle data source properties, in the URL box. Then, change oci to thin. 
 5. Add the hostname and port to the URL between @ and the database SID, separated by colons, for example: jdbc:oracle:thin:@hostname.example.com:1521:dbxdms 
 6. Click Save to save changes to the master configuration. 
 7. Restart the deployment manager, node agents, and the application servers. 
 8. Go to the WAS Integrated Solutions Console: Resources > jdbc > datasources. Verify the XDMS datasouce (including datasources for SIB and usage record) connection to the Oracle database by executing the "Test Connection" on the datasource. 


If you already have an existing XDMS installation using the Oracle thick driver prior to installing the XDMS V7.0.0 iFix 2, execute the following steps to switch to the Oracle thin driver.  1.  Copy the OJDBC thin drivers from the Oracle database server to a specific directory (for example, /oracle/jdbc/lib) on the deployment manager and the application servers. 
 2.  Remove from Class Path and Native Library Path the references to the Oracle thick driver directory under the XDMS, SIB, and usage record Oracle JDBC providers. 
 3.  Add to the Class Path and Native Library Path the directory for the Oracle OJDBC thin driver. 
 4.  Remove the following environment variables and export the reference from the setupCmdLine.sh file on the deployment manager and the application servers: ORACLE_HOME, TNS_ADMIN, CLASSPATH, LIBPATH, LD_LIBRARY_PATH 
 5.  Go to the WAS Integrated Solutions Console: Resources > JDBC > datasources. 
 6.  For each XDMS datasource (including datasources for SIB and usage record), click datasource under Oracle data source properties, in the URL box. Then, change oci to thin. 
 7.  Add the hostname and port to the URL between @ and the database SID, separated by colons, for example: jdbc:oracle:thin:@hostname.example.com:1521:dbxdms 
 8.  Click Save to save changes to the master configuration. 
 9.  Restart the deployment manager, node agents, and the application servers. 
 10. Go to the WAS Integrated Solutions Console: Resources > jdbc > datasources. Verify the XDMS datasouce (including datasources for SIB and usage record) connection to the Oracle database by executing the "Test Connection" on the datasource. 
 11. Restart the server.




PRODUCT ALIAS/SYNONYM
 XDMS