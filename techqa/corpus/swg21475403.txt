Title: IBM Warning # 5334.  Command name: SAVE - United States

Text:
 TROUBLESHOOTING

PROBLEM
I am using SPSS for Windows and working with a file that is saved in a shared directory. When I try to save some new data into this file, I get the following warning: >Warning # 5334. Command name: SAVE >The SAVE command has succeeded. However, due to contention for the >specified file, the data have been saved to a file with a different name. Subsequently, a new file does get created under a new name. Why is this happening?

CAUSE
You will get his warning if the file you are working with is being accessed by multiple open datasets in one or more SPSS Statistics clients. This behavior is designed to prevent a sharing violation while allowing more than one person to view or work with a shared file.

Examples:

1) You and a Colleague clash --You have opened one dataset against your file on a network file-server. Unbeknownst to you, your colleague has already done the same. You make changes to your version of the data and try to save back to the file-server under the original name and the operation fails. In the latest releases, you would have seen a message in the SPSS Statistics interface to the effect that you are accessing this file in Read-only mode.

2) You clash with yourself --You have opened one dataset against your file on a network file-server. You perform a merge operation or some other file manipulation and send the result to a new active dataset within SPSS Statistics. You then try to save the manipulated version back under the same original name. This fails because the file on disk is a source to two simultaneous datasets in SPSS Statistics. The save back to same name will only work when the file on disk is the source of one and only one open dataset in SPSS Statistics.

3) You clash with the file-server permissions and rules -- You've done neither of the above and are expecting the SPSS Statistics client to behave with the file server in the same way it behaves with your local disk on your desktop. The trick here is the way SPSS Statistics behaves when asked to overwrite a file on disk that is acting as the source for an active dataset. When saving a file (e.g. 'filename.sav') over itself the product will first save a copy (e.g. "filename_1.sav"). If the new filename already exists, the product will increment the number it appends to the original filename (e.g. "filename_2.sav"). Next, the product will try to close out of the original file reference. Then it deletes the original file on disk and renames the copy to the original file name. Some file server permissions/rules don't like this action and block the deletion or the rename. The result is two files, the original and the updated copy.

RESOLVING THE PROBLEM
You will get his warning if the file you are working with is being accessed by someone else at the same time. This behavior is designed to prevent a sharing violation while allowing more than one person to view or work with a shared file.

Take steps to make sure:

1) You are the only one accessing this file

2) You have not inadvertently attempted to save new data back to an old filename while the old instance is still acting as a source to one or more open datasets in SPSS Statistics

3) Work with your file-server administrator to make sure SPSS Statistics is allowed to delete and rename its own files -- even a seemingly active one.

RELATED INFORMATION
Need more help? Our Statistics forum is Live! [https://developer.ibm.com/answers/topics/statistics.html?smartspace=predictive-analytics] 
HISTORICAL NUMBER
26594