Title: IBM How to configure CQWeb Web Server to redirect to RWP - United States

Text:
1287096; CQ; rwp; redirect; proxy; RewriteRule TECHNOTE (FAQ)

QUESTION
 How can you configure the IBM® Rational® ClearQuest® Web Server (CQ Web) to redirect to RWP? The ClearQuest Web Administrators Guide gives steps on how to configure access to RWP from another Web server. The two examples are for Apache and IIS. You may want to use CQ Web to redirect to another CQ Web server. 

CAUSE
You may need to temporarily change servers, but you do not want end users to change their URL. This configuration will redirect the initial request to another CQ Web. 

ANSWER

For version 2003.06: 

 1. Open the file: "C:\Program Files\Rational\Common\rwp\conf\rwp.conf" 
 2. Find the line: "Include conf/mod_jk_directives.conf". 
 3. Comment the line as indicated below with the '#' symbol.
    
    
    #Include conf/mod_jk_directives.conf
    
    
 4. Add the two lines below. Replace NEW_SERVER with the machine name or IP address. For example: myServer.com or 9.34.128.58 
    
    RewriteEngine on
    RewriteRule /.* http://NEW_SERVER/cqweb/login[R]
    
 5. Restart the HTTP Server service. 


Note: If using SSL, the RewriteRule line should have https. For example: https://NEW_SERVER/cqweb/login. 

If you have a Windows redirect security setting, it may prompt you the first time you are redirected, but once you add the new CQWeb host as a trusted site, you won't see that on subsequent browses. 
Note: With the above configuration, no matter what URL the user types for the host, she/he will be redirected to http://NEW_SERVER/cqweb/login page. 

If you want to configure specific redirects, you can try the following examples. These are similar to other possible redirects listed in the 7.0.1 Information Center: http://publib.boulder.ibm.com/infocenter/cqhelp/v7r0m1/topic/com.ibm.rational.clearquest.webadmin.doc/topics/t_config_mod_proxy_support.htm [http://publib.boulder.ibm.com/infocenter/cqhelp/v7r0m1/topic/com.ibm.rational.clearquest.webadmin.doc/topics/t_config_mod_proxy_support.htm]. 

#Include conf/mod_jk_directives.conf
RewriteEngine on
#redirect for CQweb only
RewriteRule ^/cqweb/.* http://NEW_SERVER/cqweb/login[R]
#redirect for reqweb only
RewriteRule ^/reqweb/.* http://NEW_SERVER/reqweb/[R]

On UNIX/Linux you would modify in the same way as above but the file locations differ: