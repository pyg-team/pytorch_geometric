Title: IBM After recover from FileNet Process Engine  database connection issue, Process Engine service is hung. - United States

Text:
hung TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 After recovered from FileNet Process Engine (PE) database connection issue, PE service is hung.
Many threads are in waiting status according to java core.


SYMPTOM
For java core, there are many threads in Thread Details with the following exception:
3XMTHREADINFO "WT=3748432" J9VMThread:0x35220200, j9thread_t:0x352A62E4, java/lang/Thread:0x95D4D520, state:CW, prio=5
3XMTHREADINFO1 (native thread ID:0x21A003D, native priority:0x5, native policy:UNKNOWN)
3XMTHREADINFO3 Java callstack:
4XESTACKTRACE at java/lang/Object.wait(Native Method)
4XESTACKTRACE at java/lang/Object.wait(Object.java:167(Compiled Code))
4XESTACKTRACE at filenet/jpe/general/VSemaphore.claim(VSemaphore.java:93(Compiled Code))
4XESTACKTRACE at filenet/jpe/server/common/IVWRuntimeServer.getSystemWideConfig(IVWRuntimeServer.java:1864(Compiled Code))
4XESTACKTRACE at filenet/jpe/rpc/orb/OrbRPC.updateHeaderConfigInformation(OrbRPC.java:467(Compiled Code))
4XESTACKTRACE at filenet/jpe/rpc/orb/OrbRPC.<init>(OrbRPC.java:715(Compiled Code))
4XESTACKTRACE at filenet/jpe/rpc/orb/ORBPERPC.orb_rpc_getIndexFields(ORBPERPC.java:1448(Compiled Code))
4XESTACKTRACE at filenet/pe/peorb/FileNet_PERPC/PERPCPOA._invoke(PERPCPOA.java:1130(Compiled Code))
4XESTACKTRACE at com/ibm/CORBA/poa/POAServerDelegate.dispatchToServant(POAServerDelegate.java:402(Compiled Code))
4XESTACKTRACE at com/ibm/CORBA/poa/POAServerDelegate.internalDispatch(POAServerDelegate.java:334(Compiled Code))
4XESTACKTRACE at com/ibm/CORBA/poa/POAServerDelegate.dispatch(POAServerDelegate.java:256(Compiled Code))
4XESTACKTRACE at com/ibm/rmi/iiop/ORB.process(ORB.java:518(Compiled Code))
4XESTACKTRACE at com/ibm/CORBA/iiop/ORB.process(ORB.java:1574(Compiled Code))
4XESTACKTRACE at com/ibm/rmi/iiop/Connection.respondTo(Connection.java:2880(Compiled Code))
4XESTACKTRACE at com/ibm/rmi/iiop/Connection.doWork(Connection.java:2753(Compiled Code))
4XESTACKTRACE at com/ibm/rmi/iiop/WorkUnitImpl.doWork(WorkUnitImpl.java:63(Compiled Code))
4XESTACKTRACE at com/ibm/rmi/iiop/WorkerThread.run(ThreadPoolImpl.java:202(Compiled Code))
4XESTACKTRACE at java/lang/Thread.run(Thread.java:736(Compiled Code))
3XMTHREADINFO3 Native callstack:


CAUSE
It is a defect in PE 5.0.0.4

ENVIRONMENT
This technote was generated by Technote Kickstart 1.0.0.83 based on Industry Solutions PMR 06775,999,672. 

The defect fix will be included in next PE 5.0 Fix Pack 7.
APAR PJ42176