Title: IBM GSKit error encountered when importing or exporting certificate into or from keystore in DB2 LUW - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Customers may encounter the following GSKit errors when importing or exporting certificate into or from keystore in DB2 LUW:

CTGSK3026W The key file <keystorefile> does not exist or cannot be read.
CTGSK2016W An invalid database password was encountered. 
CTGSK3022W An invalid parameter was provided for the command: -stashed


SYMPTOM
Customers using the -stashed option for the target database during keystore certificate import or export operation may fail with the following error: 

gsk8capicmd_64 -cert -import -db mydbclient.kdb -pw mypwd -target mydbserver.kdb -stashed
CTGSK3026W The key file "mydbclient.kdb" does not exist or cannot be read.
CTGSK2016W An invalid database password was encountered.

OR

gsk8capicmd_64 -cert -import -db mydbclient.kdb -pw mypwd -target mydbserver.kdb -stashed 
Target database password :
CTGSK3022W An invalid parameter was provided for the command: -stashed



CAUSE
Problem is caused by a bug fix for the -stashed option in GSKit V8.0.50.47 that DB2 LUW packaged in the following fix pack and special builds: 


DB2 V9.7 FP11
DB2 V10.1 FP5 Special Build #34534
DB2 V10.5 FP6 Special Build #34566
DB2 V10.5 FP5 Special Build #34899 


ENVIRONMENT
Customers running on the above mentioned DB2 level and have Secure Sockets Layer (SSL) support enabled in their DB2 database system are affected. SSL support is not enabled in DB2 by default. 






RESOLVING THE PROBLEM
Customers should replace the -stashed option with -target_stashed option.


For example:
gsk8capicmd_64 -cert -import -db mydbclient.kdb -pw mypwd -target mydbserver.kdb -stashed -target_stashed