Title: IBM Data source signon connection prompt continuously displayed in Transformer - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 In a new or existing Transformer model, when trying to add a report or package as data source, the Database Signon prompt is continuously displayed (looping prompt), whatever the informations typed in.
This package was published in DQM (Dynamic Query Mode, 64-bit), which means it is expected that Transformer let the Cognos BI Server accessing the database and executing the queries. 

DIAGNOSING THE PROBLEM
When setting up IPF traces on the Transformer side, by renaming /c10/configuration/ipfMFWclientconfig.xml.sample as ipfclientconfig.xml, the generated mfwframework.log does contain these kinds of errors :
MFW Initiated an exception.
Exception text: QE-DEF-0285 The logon failed.
QE-DEF-0323 The DSN(ODBC)/ServiceName is invalid. Either the DSN is missing or the host is inaccessible.
RQP-DEF-0068 Unable to connect to at least one database during a multi-database attach to 1 database(s) in: teradata
UDA-SQL-0031 Unable to access the "teradata" database. Check that the connection parameters to the database are configured correctly. For example, ensure that the data source connection contains the signon information, such as a password, to connect to the database.
UDA-SQL-0532 Data Source is not accessible: "teradata".
[Microsoft][ODBC Driver Manager] Data source name not found and no default driver specified


RESOLVING THE PROBLEM
The ability for Transformer to use DQM packages is available from version 10.2.1 FP3, not before. 

But this is not the default behaviour : there is an environment variable that has to be set to tells Transformer to let Cognos BI Server executing the queries rather than processing them locally (like for CQM package).
Two environment variables are equally recognized by Transformer 10.2.1 FP3+ :
PC_ALLOW_DQ=true
TR_ALLOW_DQ=true
If created as system variable : a reboot is necessary.
If created as user variable : a session disconnect/reconnect is necessary.
(On Windows : Control Panel, System and Security, System, Advanced System Settings, in Advanced tab, click "Environment Variables" button.
On Unix/Linux : use "setenv" in c-shell or "set" then "export" in korn-shell)

From version Transformer 10.2.2, there is no need anymore for these parameters.
A new parameter can be added in /c10/configuration/cogtr.xml 
<Preference Name="AllowDQ" Value="1"/> 
under <Section Name="Transformer">

This AllowDQ, which is not present by default, is defaulted to 1.
If set to 0, Transformer then will process all requests locally (as for Compatible Query Mode), even if the package is in DQM.