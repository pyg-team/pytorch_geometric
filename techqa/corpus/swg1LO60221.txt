Title: IBM LO60221: CONSECUTIVE WHITE SPACE IS TRUNCATED FOR SMTP MESSAGES WHEN USIN G "FROMNOTES TO PLAIN TEXT AND HTML" - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS FIXED IF NEXT.
    
   
   

ERROR DESCRIPTION
 *  You have a application that uses Rich Text formatting to send a
   mail
   message over SMTP.
   On the server configuration document you are using the setting
   "from
   Notes to Plain Text and HTML" found under:
   Mime->Conversion Options->Outbound: Message content
   After upgrading to 8.5.2 you notice that all consecutive white
   spaces
   are truncated to just one white space.
   Example: you have text that should render the following:
   "some        text"
   After upgrade it renders:
   "some text"
   Below is an example script of how to reproduce the issue.
   The line of code that seems to affect the issue is this:
   richStyle.NotesFont = FONT_COURIER       '<--- this is the
   trigger for
   issue
   If you remove (comment out) this line you CAN reproduce the
   issue in
   8.5.1, 8.5.1 FP1-FP5, 8.5.2, and 8.5.2 FP1-FP2.
   If you add the line back in you CAN ONLY reproduce in 8.5.2 and
   with
   any 8.5.2 Fixpack
   Sub Initialize()
    Dim sess As New NotesSession
    Dim dbacp As NotesDatabase
    Dim dateTime As  New NotesDateTime (" ")
    Dim MailMessage As NotesDocument
    Dim msg As NotesRichTextItem
    Dim richStyle As NotesRichTextStyle
    Dim count  As Integer
    Dim Prev_Configuration As String, Curr_Configuration As String
    Set dbacp = sess.CurrentDatabase
    Set MailMessage = New NotesDocument(dbacp)
    Set msg = New NotesRichTextItem(MailMessage,"Body")
    Set richStyle = sess.CreateRichTextStyle
    MailMessage.Form = "Memo"
    MailMessage.Subject = "Domino851 (with RichStyle)  test space
   issue
   using -> from Notes to Plain Text and html"
    'MailMessage.Subject = "Domino851 (with RichStyle) test space
   issue
   using -> from Notes to Plain Text"
    count = 0
    richStyle.NotesColor = COLOR_RED
    richStyle.Bold = True
    richStyle.FontSize = 12
    Call msg.AppendStyle(richStyle)
    msg.AppendText("Bumps and Changes :"  + Chr(10)  + Chr(10))
    Prev_Configuration = ""
    count = count + 1
    richStyle.NotesColor = COLOR_BLACK
    richStyle.FontSize = 8
    richStyle.Bold = false
    richStyle.NotesFont = FONT_COURIER       '<--- this is the
   trigger
   for issue
    Call msg.AppendStyle(richStyle)
    msg.AppendText ("   Street Date  Label    Guitar Name
   Title              Auction #     UPC Code" + Chr(10))
    msg.AppendText
   ("=============================================================
   =========
   ====")
    msg.AppendText ("=================" +  Chr(10))
    MailMessage.SendTo= "<yoursmtpaddress@domain.com>"
    Call MailMessage.Send(False)
   End Sub
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  This APAR is closed as FIN. We have deferred the fix to a
    future release.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS
 *  This APAR is associated with SPR# RDJS8G3N5F.
   
   This APAR is closed as FIN. We have deferred the fix to a
    future release.
   
   
    
   
   

APAR INFORMATION
 * APAR NUMBER
   LO60221
   
   
 * REPORTED COMPONENT NAME
   DOMINO SERVER
   
   
 * REPORTED COMPONENT ID
   5724E6200
   
   
 * REPORTED RELEASE
   852
   
   
 * STATUS
   CLOSED FIN
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-04-19
   
   
 * CLOSED DATE
   2011-04-29
   
   
 * LAST MODIFIED DATE
   2011-07-07
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS
 * R852 PSN
   UP