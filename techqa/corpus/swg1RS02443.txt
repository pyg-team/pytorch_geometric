Title: IBM RS02443: WHEN RUNNING DVS SIMULATION WITH DW INVOLVED, INSTANCES OF ILRSCENARIOTESTRESULTIMPL STAY IN MEMORY UNTIL THE JOB RESULT IS - United States

Text:
  FIXES ARE AVAILABLE
Operational Decison Manager z/OS 8.8.1.1 Fix Pack [http://www-01.ibm.com/support/docview.wss?uid=swg24042837]
Operational Decision Manager V8.7.1.2: Interim Fix 72 [http://www-01.ibm.com/support/docview.wss?uid=swg24044272]
Operational Decision Manager V8.9.0.2: Interim Fix 10 [http://www-01.ibm.com/support/docview.wss?uid=swg24044358]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  To reproduce the issue, for example:
   - use the sample server, setup the customer scenario provider
   sample
   - check that the SSP job persistence is set to disk (should be
   the case in the sample server) (in the web.xml deployment
   descriptor of the SSP war, the 'JRULES_JOB_RESULTS_STORE_CLASS'
   parameter should have 'ilog.rules.dvs.ssp.impl.
   IlrSSPJobResultsStoreOnDisk' as value)
   - connect a profiler or some tool to observe object instances
   in memory
   - just before running the simulation, enable the "Create an
   Excel file separate from the report to store the output values"
   option (because doing so, we will have
   IlrScenarioTestResultImpl instances created during the
   simulation, otherwise we will not - unless there are errors)
   - run the simulation asynchronously (e.g. click on 'Run in
   background' as soon as it is possible when the simulation
   starts)
   - wait for the simulation to end
   - when ended, do not click on 'get report', but check memory on
   the profiler or tool : you should see that there are as many
   instances of IlrScenarioTestResultImpl as the number of
   scenarios of the simulation held in memory - and not eligible
   to GC, so that they will stack up at every new simulation  (you
   can check it by starting another instance of the simulation)
   => after running several simulations and not generating the
   report each time, it can end with an OutOfMemory error
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Fix the issue by setting null ref so that data is freed from
   memory
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code is fixed
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   RS02443
   
   
 * REPORTED COMPONENT NAME
   WS DECISION SVR
   
   
 * REPORTED COMPONENT ID
   5725B6901
   
   
 * REPORTED RELEASE
   851
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2016-07-06
   
   
 * CLOSED DATE
   2016-07-25
   
   
 * LAST MODIFIED DATE
   2016-07-25
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

MODULES/MACROS
 *  999
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WS DECISION SVR
   
   
 * FIXED COMPONENT ID
   5725B6901
   
   

APPLICABLE COMPONENT LEVELS
 * R860 PSY
   UP