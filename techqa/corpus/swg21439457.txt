Title: IBM Command Port issue : Affects all CORBA Probes using the command port jar - United States

Text:
NoSuchMethodError; CORBA; corba probe; CommandPort; NSProbeSession; CommandPortMethods; command port; CLASSPATH; active alarms; active events TECHNOTE (FAQ)

QUESTION
 NoSuchMethodError: CORBA probe command port stderr message : What causes this? 

ANSWER
 

If the probes debug log displays:
[stderr] Exception in thread "main" java.lang.NoSuchMethodError: com.micromuse.probes.cli.CommandPort.<init>(Lcom/micromuse/nsprobe/NSProbeContext;Lcom/micromuse/nsprobe/NSProbeSession;Lcom/micromuse/probes/cli/CommandPortMethods) 
and is unable to obtain active events, then there is an issue with the jars used in the command port jar and probe jar.


The work around is to place the command port jar before the probe specific jar in the probes CLASSPATH; 

e.g. 


cd $OMNIHOME/probes 
mv nco_p_alcatel_5529_oad_v6 nco_p_alcatel_5529_oad_v6-backup 
cp nco_p_alcatel_5529_oad_v6-backup nco_p_alcatel_5529_oad_v6 
chmod 755 nco_p_alcatel_5529_oad_v6 
vi nco_p_alcatel_5529_oad_v6 
... 
# Add CommandPort.jar to CLASSPATH just before exec 
CLASSPATH=$NCHOME/omnibus/probes/java/CommandPort.jar:$CLASSPATH 

exec $OMNIHOME/probes/$ARCH/nco_p_nonnative ... 
:wq 

With the new version of non-native, there should be a probe specific environment script in the directory;
$NCHOME/omnibus/probes/java
for handling the setting of the probes CLASSPATH.
e.g.
nco_p_alcatel_5529_oad_v6.env

Check that the file exists and modify it as described earlier, making sure that the CommandPort.jar is added to the CLASSPATH before the other jar's.