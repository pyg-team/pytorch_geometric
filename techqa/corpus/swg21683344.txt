Title: IBM Active Directory users are unable to login Deployment Manager web or thick client - United States

Text:
LDAP Active Directory log in login fail case sensitive TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 Attempts to log into IBM SPSS Deployment Manager web or thick client fail with: 



The user //[Domain]/[User] does not have /perform action permission for contentRepository/folders. 

SYMPTOM
Users are unable to log into C&DS via Deployment Manager web or thick client.


CAUSE
The Oracle database is case sensitive.

C&DS stores the credentials in the Oracle instance so that it can be matched with a specific Roles within our Repository. When the repository is case sensitive the user will need to log in in the case the credential was stored in order to find the match. 

ENVIRONMENT
C&DS 6.0
Oracle 11g

DIAGNOSING THE PROBLEM
Run the same select statement as upper and lower case for the LDAP user

SELECT * FROM SPSSSEC_HIERARCHY TH, SPSSSEC_PRINCIPALS TP WHERE TH.CHILD IN ( N'//uAD_SPSSAD/SPSS/user1') AND TH.PARENT = TP.PRINCIPALID AND TP.TYPE = 2

Where:
SPSSAD - is the name of the Security Provider that was defined

SPSS - is the domain for the Security Provider

user1- is the LDAP user that is attempting to connect

If only one query returns results then the Oracle DB environment database is treating both the upper and lower case user input as not equal. 

RESOLVING THE PROBLEM
In Oracle, this setting is controlled by NLS_LANG parameter value which is assigned during install time, not when you create database. The DBA has the option of setting this to treat the inputs to a query as equivalent, such as "//[domain]/[user]" == "//[domain]/[USER]"

This would return the name of the role that tells C&DS what "actions" this user has been assigned.

It is preferable to make this change globally within the Oracle instance or for the specific schema that houses the C&DS repository. Another option would be to implement a logon trigger for the C&DS datbaase so every time a user logs into C&DS the database will execute these commands:

alter session set NLS_COMP=ANSI;
alter session set NLS_SORT=BINARY_CI;

RELATED INFORMATION
 Need more help? Our C&DS forum is Live! [https://developer.ibm.com/answers/topics/collaboration.html?smartspace=predictive-analytics]