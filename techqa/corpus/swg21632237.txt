Title: IBM No data in TEP for DataSources - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 Why is there no data in TEP for the Data Sources Workspace of ITCAM for Application Diagnostics WebSphere Agent? 

ANSWER
1. Ensure the ITCAM monitoring agent is at level 2 monitoring. This can be set by either configuration or a take action command. The ITCAM Monitoring agent may need to have the Request Sampling Rate increased beyond the default of 2%
2. Ensure that the applications you are interested in are listed with the Request Data Monitoring Level set to Level2 and the Request Data Sampling Rate set to 20% (or higher)
To be sure that the sampling rate has been set for each application see the information listed below

3. The application must use Datasources via J2EE Connectors. Consult your application developer to determine if your application uses J2EE connectors to attach to the DB, or its own code. Even if data sources are defined in WebSphere Application Server, the application still may not be using them if the application attaches using its own code. If the application is using WebSphere Application Server data sources and you see SQL activity on the Resource Analysis Tivoli Enterprise Portal workspace, then you should see something on the datasource workspace.

NOTE: The DataSources workspace will show real time data - so it will only be populated with information collected at the time when requests are going through that involve the use of JDBC connections. 
A good way to check if you should have data in this screen is to do the following:

Go to the Request Analysis workspace and check the if the current requests are utilizing any time in the SQL columns (in the Requests - Current Interval table scroll to the last couple of columns) If you can see some metric values in this workspace, go to the JDBC Connections workspace and check if you have current active

- Go to the Request Analysis workspace and check the if the current requests are utilizing any time in the SQL columns (in the Requests - Current Interval table scroll to the last couple of columns). 
do you see times recorded in the SQL * columns? 
. 
Verify with the application developers if the running applications are performing SQL requests? If the answer is yes then we may need to increase the sampling rate from 2% to a higher number to capture this data. 
If you look at the DB Connection Pools workspace, you will see all known connection pools 
. 
If you can see some metric values in this workspace, go to the DB Connection Pools workspace and check if you have current active connections open

If this is all ok, we will need to check the current settings for collecting data on a per application basis. The default 2% sampling rate may be too low to pick up the datasources data for display 

To be sure that the sampling rate has been set for each application you are interested in monitoring can you do the following... 
. 
Open the TEP and right click on Application Health Select Workspace > Application Registry 
. 
Ensure that the applications you are interested in are listed with the Request Data Monitoring Level set to Level2 and the Request Data Sampling Rate set to 20% (or higher) 
. 
Start with the Application Registry workspace. For the applications you are interested in, right click on the application name and select Take Action > Select 
. 
In the resulting box select 'Set_Application_Monitoring and in the resulting box increase the Monitoring Level to 2 and the Sampling Rate to 20% or higher and hit OK to apply 
. 
After doing this, give about 5 minutes before checking the TEP again