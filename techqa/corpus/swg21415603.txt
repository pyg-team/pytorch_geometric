Title: IBM Correction to descriptions of map caching and setting the resource registry in WebSphere Transformation Extender for Message Broker documentation - United States

Text:
WTX; TX; .mrc TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 The WebSphereÂ® Transformation Extender for Message Broker documentation incorrectly states that you must restart the broker for the following changes to take effect:

- When map caching is enabled, changes to a compiled map

- Changes to the default settings of the resource configuration (.mrc) file for an execution group

In each case, you must stop and restart the execution group for the changes to take effect. 

RESOLVING THE PROBLEM
The topics are corrected below. 

Map caching


At design time, set map caching to optimize run time. 

Map caching optimizes the run time because the process does not load the compiled map for every iteration of the running of the map. The compiled map is loaded only on the first invocation of the map. 

When map caching is set on, any changes that you make to the compiled map are used by the message after you stop and restart the execution group. When map caching is set off, any changes that you make to the compiled map are used by the next message that passes through the message flow. 

Set up map caching for each WTX Map node. This enables individual control for each map node instance. Set map caching on in the Basic tab under Properties in the WebSphere Message Broker Toolkit. Run maps are cached using the settings on the parent map. 

 

===================================================================== 


Setting resource registry on execution groups 

Configure WebSphere Transformation Extender for Message Broker to use the WebSphere Transformation Extender Resource Registry by setting the resource configuration (.mrc) file on the WebSphere Message Broker execution groups. 

About this task 

Update the default settings of the execution groups to use the Resource Registry. All command properties that are listed in the following steps are case-sensitive. The sample commands are shown for the Windows operating system. 

To set the resource configuration file on execution groups: 

Procedure
1. Verify that the broker is running. 

2. Open a Command Console that has the WebSphere Message Broker environment configured for your current installation. Select Start > IBM WebSphere Message Broker n.n > Command Console, where n.n represents the product version number. 

3. To find out where the current execution group's resource configuration file is located, use the WebSphere Message Broker mqsireportproperties command: 
C:\Program Files\IBM\MQSI\n.n>
mqsireportproperties brokername
-e executiongroup
-o ComIbmWTXManager
-n resourceConfigFile

An example of what your default setting might be: 
C:\Program Files\IBM\MQSI\6.1>
mqsireportproperties WBRK61_DEFAULT_BROKER
-e default
-o ComIbmWTXManager
-n resourceConfigFile

The Command Console returns the following response:
resource.mrc
BIP8071I: Successful command completion.

4. To set the location of the resource configuration file for an execution group, use the WebSphere Message Broker mqsichangeproperties command: 
C:\Program Files\IBM\MQSI\n.n>
mqsichangeproperties brokername
-e executiongroup
-o ComIbmWTXManager
-n resourceConfigFile
-v locaton_of_your_resource_registry_configuration_file

An example of what your default setting might be: 
C:\Program Files\IBM\MQSI\6.1>
mqsichangeproperties WBRK61_DEFAULT_BROKER
-e default
-o ComIbmWTXManager
-n resourceConfigFile
-v C:\myfile.mrc

The Command Console returns the following response:
C:\myfile.mrc
BIP8071I: Successful command completion.

5. To have the changes take effect, stop and restart the execution group. 

What to do next
For information about these commands, see the specific WebSphere Message Broker product documentation that is published on the WebSphere Message Broker Library Web page: http://www.ibm.com/software/integration/wbimessagebroker/library [http://www.ibm.com/software/integration/wbimessagebroker/library].