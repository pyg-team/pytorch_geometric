Title: IBM Modify-servlet-path task fails with a SRVE0255E exception - United States

Text:
portal uri; context root; SRVE0255E TECHNOTE (TROUBLESHOOTING)

PROBLEM
When attempting to modify Portal's URI, the modify-servlet-path task fails during the action-install-pznauthor-portlet subtask.

SYMPTOM
The modify-servlet-path fails and in the configTrace.log, the following xmlaccess exception is noted:

[xmlaccess] <H1>SRVE0255E: A WebGroup/Virtual Host to handle /<new context root>/config has not been defined.</H1><BR><H3>SRVE0255E: A WebGroup/Virtual Host to handle <hostname>:<port> has not been defined.</H3><BR><I>IBM WebSphere Application Server</I>



CAUSE
This issue was encountered as the wpsContextRoot was set to the same value as the WsrpContextRoot in the wkplc.properties and wkplc_comp.properties file. These values must be different

DIAGNOSING THE PROBLEM
The root issue was that Portal failed to start and specifically, the wps application fails to initialize.

In the systemOut.log this exception was noted during wps startup:

[6/20/12 8:11:02:111 EDT] 0000001d webcontainer E
com.ibm.ws.wswebcontainer.VirtualHost addWebApplication SRVE0164E: Web
Application WPS Enterprise Application#WebSphere Portal Server WSRP
Facade uses the context root /<new context root>/*, which is already in use
by Web Application wps#WebSphere Portal Server. Web Application
WebSphere Portal Server WSRP Facade will not be loaded.
...
[6/20/12 8:11:02:305 EDT] 0000001d DeployedAppli W WSVR0206E: Module,
wps_facade.war, of application, wps.ear/deployments/wps, failed to start
[6/20/12 8:11:02:311 EDT] 0000001d ApplicationMg W WSVR0101W: An
error occurred starting, wps
[6/20/12 8:11:02:313 EDT] 0000001d ApplicationMg A WSVR0217I:
Stopping application: wps

The FFDC log also notes:

Caused by: com.ibm.ws.webcontainer.exception.WebAppNotLoadedException:
Failed to load webapp: Context root /<new context root>/* is already bound.
Cannot start application WebSphere Portal Server WSRP Facade
at
com.ibm.ws.webcontainer.VirtualHostImpl.addWebApplication(VirtualHostImp
l.java:130)
at
com.ibm.ws.webcontainer.WSWebContainer.addWebApp(WSWebContainer.java:732
)
... 16 more

RESOLVING THE PROBLEM
WSRP Facade is part of wps.ear and requires a unique contextroot (default: /wsrp)

To resolve this exception, either the WpsContextRoot or the WsrpContextRoot will need to be modified.

Once done, re-attempt the modify-servlet-path task.