Title: IBM IY49250: Can't Traverse Protected Obj Space via PDJRTE after applied TAM3.9 FP5 - United States

Text:
AIX SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS UNREPRODUCIBLE IN NEXT RELEASE.
    
   
   

ERROR DESCRIPTION
 *  PMR: 38408,550,000
   Operating System: SOLARIS V7
   Environment:
   We run TAM components PDACLD/PDRTE and PDJRETE with WebSphere on
   the
   same Solaris 7 server
   
   Problem Description:
   We have a java program that uses PDJRTE with WebSphere to
   traverse and
   discover the protected object space against PDACLD.  It worked
   fine
   with FixPack 1.  When we applied FixPack5, it stopped working.
   Looks
   like it can no longer see anything below the top level object.
   When I
   backout PDRTE(not PDJRTE), it started working again.
   
   
   Let me   recap the problem we are  having.  We have a Java
   Application
   using  PDJRTE  to make a  PDPrinciple call to PDACLD to
   "discover" the
   protected  object   space.  Here is the code snippet:
   
   ===============================
   
   
   PDAttrs ent = new   PDAttrs();
   
   PDAttrs  attrsIn = new   PDAttrs();
   
   attrsIn.add("azn_ent_svc_pd_pobj_path","/WebSEAL/");
   
   attrsIn.add("azn_ent_svc_pd_pobj_reqd_ops","Trx");
   
   ent =   pdPrinc.getEntitlements("azn_ent_svc_pd_pobj",attrsIn);
   
   PDAttrValues objects =  ent.get("azn_ent_svc_pd_pobj_matches");
   
   
   ========================
   
   Before  we applied FP5, this works   OK, it returns all the
   objects
   under /WebSEAL in the  object  space.   After FP5 was applied,
   it is no
   longer able to make the    "getEntitlements" method call to
   retrieve the
   objects.  It  only  sees the  top level objects like this:
   
   2003-09-27 02:21:25,556   [Servlet.Engine.Transports:10]  DEBUG
   com.standard.servicesmenu.MODEL -  ServicesMenuUser class:
   results
    are:
   /WebSEAL/wsdev1  /WebSEAL/wsdev1-devhomeconnect  /WebSEAL
   
   I am    wondering whether FP5 changed the way the object space
   is
   queried  and   displayed??
   
   Another piece of information is that this application   started
    working
   once I backed out FP5 for PDRTE.  This makes  me to believe
     there is
   something changed in PDRTE that have made  our code to  break.
   We  need
   to know what have changed and how  to fix it  ASAP.
   
   I did  unconfig and reconfig PRJRTE and it still didn't  work.
   I do not
   have  problem with PDWPM and it lists the object  space
   correctly.
   
   I had   the developer changed the code a bit to traverse from /
   of the
   object  space, the  program can now see /Management and anything
   below
   it, but it  only sees three  objects under /WebSEAL.  We have
   many
   objects under   /WebSEAL.
   
   Another  piece of information which may or may not be related.
   When  I
   use  pdadmin cmd line interface to do a "object list
   /WebSEAL/wsdev1/deliver",   it errored out with something about
   SSL
   communication error and crashed  the  webseal server on the
   other end.
   
   The objects are  mainly dynurl objects.  We use dynurl.conf
   extensively.  At the  same time, I couldn't even see the static
   objects
   in the root  directory of the webseal server like "cgi-bin".
   
   
    
   
   

LOCAL FIX
 *  no
   
   
    
   
   

PROBLEM SUMMARY
 *   This issue has been unreproducible in both the
   L2 and L3 lab environment.  The customer has resolved the issue
   by upgrading to AM 5.1.
   
   
    
   
   

PROBLEM CONCLUSION

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IY49250
   
   
 * REPORTED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * REPORTED COMPONENT ID
   5724C0811
   
   
 * REPORTED RELEASE
   390
   
   
 * STATUS
   CLOSED UR1
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2003-09-30
   
   
 * CLOSED DATE
   2004-01-26
   
   
 * LAST MODIFIED DATE
   2004-01-26
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ACCESS MGR WEBS
   
   
 * FIXED COMPONENT ID
   5724C0811
   
   

APPLICABLE COMPONENT LEVELS
 * R390 PSN
   UP