Title: IBM IV36766: MQ V7.0.0.0 JAVA CLIENT APPLICATION CONNECTING TO MQ V7.1 QMGR GETS AMQ9504 PROTOCOL ERROR; FDC HAS PROBE IDS RM680037 RM039000 - United States

Text:
  A FIX IS AVAILABLE
Fix Pack 7.1.0.4 for WebSphere MQ V7.1 [http://www-01.ibm.com/support/docview.wss?uid=swg24036454]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS UNREPRODUCIBLE IN NEXT RELEASE.
    
   
   

ERROR DESCRIPTION
 *  A WebSphere MQ V7.0.0.0 Java client application connecting to
   an MQ v7.1 queue manager receives AMQ9504: protocol error. An
   FDC is created with Probe IDs RM680037 and RM039000.
   
   WebSphere MQ First Failure Symptom Report
   =========================================
   Probe Id          :- RM680037
   Component         :- rriBadDataReceived
   Program Name      :- amqrmppa
   Major Errorcode   :- rrcE_PROTOCOL_ERROR
   Probe Description :- AMQ9504: A protocol error was detected for
   channel
   --------------------------------------------------------------
   MQM Function Stack
   ccxResponder
   rrxResponder
   ccxReceiveThreadFn
   cciProcessOne
   cciProcessUserData
   cciProcessAsyncRcv
   rriServerAsyncRcv
   rriMQIServerReceive
   rriConvertValidate
   rriBadDataReceived
   xcsFFST
   
   
   
   WebSphere MQ First Failure Symptom Report
   ======================================
   Probe Id          :- RM039000
   Component         :- rriConvertValidate
   Program Name      :- amqrmppa
   Major Errorcode   :- rrcE_PROTOCOL_ERROR
   Probe Type        :- MSGAMQ9504
   Probe Severity    :- 2
   Probe Description :- AMQ9504: A protocol error was detected for
   channel 'Data conversion failed.'.
   Comment1          :- Data conversion failed.
   ---------------------------------------------------------------
   MQM Function Stack
   ccxResponder
   rrxResponder
   ccxReceiveThreadFn
   cciProcessOne
   cciProcessUserData
   cciProcessAsyncRcv
   rriServerAsyncRcv
   rriMQIServerReceive
   rriConvertValidate
   xcsFFST
   .
   Additional symptoms: 2009 RC2009
   CC=2 RC=2009
   
   
    
   
   

LOCAL FIX
 *  Upgrade WebSphere MQ client being used for JMS application to
   7.0.1.0 or later.
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   USERS AFFECTED:
   Users of v7.0.0.0 Java clients connecting to a v7.1 or v7.5
   queue manager may be affected by this problem.
   
   Platforms affected:
   All Distributed (iSeries, all Unix and Windows)
   ****************************************************************
   PROBLEM SUMMARY:
   A bug existed in the v7.0.0.0 JMS client flow which was fixed in
   later versions of the code. On queue managers earlier than
   v7.1, the invalid flow was not detected.
   
   Code was added in v7.1 to detect and report the invalid flow and
   this detection resulted in the rrcE_PROTOCOL_ERROR FDCs being
   produced.
   
   
    
   
   

PROBLEM CONCLUSION
 *  It is correct behavior for the queue manager to report the
   invalid flow so this code change was not reverted.
   
   The recommended solution for the problem is to upgrade any
   client still at v7.0.0.0 to a later releae, as Client releases
   at v7.0.1.0 or later contain a fix for the client code so that
   it does not send an invalid flow to the queue manager.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV36766
   
   
 * REPORTED COMPONENT NAME
   WMQ AIX V7
   
   
 * REPORTED COMPONENT ID
   5724H7221
   
   
 * REPORTED RELEASE
   710
   
   
 * STATUS
   CLOSED UR1
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-02-14
   
   
 * CLOSED DATE
   2013-03-26
   
   
 * LAST MODIFIED DATE
   2015-07-21
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ AIX V7
   
   
 * FIXED COMPONENT ID
   5724H7221
   
   

APPLICABLE COMPONENT LEVELS
 * R710 PSY
   UP