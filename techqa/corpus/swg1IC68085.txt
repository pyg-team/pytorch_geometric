Title: IBM IC68085: CRYPTO OPERATIONS MAY FAIL ON HSM-ENABLED APPLIANCE WITH ERROR CODE 2 IN THE LOG OR MAY FAIL TO RESPOND AFTER REBOOT - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  Crypto objects my go into a down state due to the private key
   not being accessible and may cause crypto operations to fail.
   The "error code 2 count  " error will be noted in the logs.
   
   The appliance may also fail to respond after a reboot if a high
   load of messages utilizing private keys not stored on the HSM
   are received during the reboot process.
   
   
    
   
   

LOCAL FIX
 *  Use the crypto-import CLI command or the Crypto Tools Import
   page to import private keys onto the HSM and update crypto
   objects to use the key in the new location.
   
   Note: Storing the private keys on the HSM is the best practice
   with HSM enabled devices
   
   
    
   
   

PROBLEM SUMMARY
 *  Under some loads, appliance with HSM may show "code 2" Runtime
   Crypto Hardware Error in log, and may crash (particularly just
   after reboot)
   
   
    
   
   

PROBLEM CONCLUSION
 *  HSM error no longer occurs
   
   
    
   
   

TEMPORARY FIX
 *  For crash after reboot, disconnect the appliance from the
   network while rebooting.  To reduce the liklihood of
   encountering this error, private keys should be stored within
   the HSM, rather than in the flash file-system.  This will also
   improve the performance of crypto operations.
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IC68085
   
   
 * REPORTED COMPONENT NAME
   DATAPOWER
   
   
 * REPORTED COMPONENT ID
   DP1234567
   
   
 * REPORTED RELEASE
   373
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-04-22
   
   
 * CLOSED DATE
   2010-06-27
   
   
 * LAST MODIFIED DATE
   2010-06-27
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DATAPOWER
   
   
 * FIXED COMPONENT ID
   DP1234567
   
   

APPLICABLE COMPONENT LEVELS
 * R372 PSY
   UP
   
   
 * R373 PSY
   UP
   
   
 * R380 PSY
   UP