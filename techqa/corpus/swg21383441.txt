Title: IBM How to disable unused applications in WebSphere Portal v6.1 - United States

Text:
startup; performance; application; disable; uninstall; enable; mode; admin; administration; install; full; ear; war; performance; application; app TECHNOTE (FAQ)

QUESTION
What is the minimum set of applications needed to run IBM WebSphere Portal v6.1.x? How can you disable or uninstall extra applications that are not in use? Will this improve the startup performance and decrease the total startup time of the Portal 6.1.x system?

This technote provides detail about what applications should run to enable WebSphere Portal v6.1.x to function correctly and how to safely disable applications that are not in use. 

ANSWER
Overview:
WebSphere Portal and IBM Web Content Manager (WCM) v6.1 can be installed in a number of different configurations. In a default full installation including both Portal and WCM v6.1.0.1, a total of 103 applications are installed. In many scenarios, it is not desirable to run all 103 applications simultaneously. 

WARNING about disabling applications:
This technote provides details on how to disable or uninstall applications in a Portal environment. Making such changes may have unintended side effects on the Portal environment. It is STRONGLY recommended that any changes first be applied in a sandbox or test environment where such changes and the potential for unintended side effects will have minimal impact prior to being attempted in a development, quality assurance, or production environment.

Limitations of IBM Support
IBM Support cannot recommend which specific applications should be disabled in a given environment. Each customer's environment is unique and any recommendations would require a detailed analysis and customization per environment. Such a customization is provided by IBM Services [http://www-01.ibm.com/software/lotus/services/] but not by IBM Support. The minimal set of applications is noted in this technote. Thorough testing should be done to ensure that disabling an application does not adversely affect other applications operating in the same Portal environment.

Method #1: Automatically disabling applications via the Portal configuration task
The "enable-develop-mode-startup-performance" configuration task will automatically disable all applications except the bare minimum needed to run WebSphere Portal v6.1.0.1. As described in the Portal 6.1.x Information Center [http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1m0/topic/com.ibm.wp.ent.doc_v6101/install/inst_opt.html], this task performs the following actions:

Java Virtual Machine (JVM):
JVM will be switched to development mode and the initial heap size will be set to the maximum heap size to reduce the amount of garbage collection during start up.

Portlets
Portlets and Web Applications will be activated on first access and not at start up. Since some of the portlets and applications are required at start up, a white list will hold the applications still started at start up.

NOTE 1: The configuration task will disable MANY applications and break functionality including Portal search functionality, Web Content Management (WCM), custom applications, and so on. To prevent the configuration task from disabling functions such as custom applications and search, the Portal 6.1.x Information Center [http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1m0/topic/com.ibm.wp.ent.doc_v6101/install/inst_opt.html] contains information to whitelist applications so they are not disabled by the configuration task.

NOTE 2: To add applications to the white list, modify the profile\PortalServer\config\StartupPerformance\ wp.base_ProfileEarAttributesTargetMapExclList.jacl file. Add a line such as lappend WarFileNameList App_name, where App_name is the name of the application. Log into the WebSphere Application Server console mode and navigate to Applications --> Application Types --> WebSphere Enterprise Applications to get a list of available applications.

On a Portal 6.1.0.1 system, all applications EXCEPT the following will be disabled:
content_j2ee
jcrear
isclite
ivtApp
Live_Object_Framework
PA_Login_Portlet_App
PA_PortalWSRPProxy
PA_PTransformationApp
Personalization_Lists_6
Personalization_Workspace_6
query
wps

NOTE 3: It is recommended this configuration task be run with an administration installation although it can be successfully run with a full installation of Portal 6.1.x.

Method #2: Disabling applications manually:
If it is not desirable to automatically disable 91 applications from auto-starting, it is possible to perform this task manually and disable each application one at a time. To perform this task of preventing the applications from auto-starting, using Search Center as an Example:

1. Start the WebSphere Application Server associated with WebSphere Portal(startServer.sh server1).

2. Log into the WebSphere Application Server administration console 
(https:/ /hostname.company.com:10003/ibm/console).

3. Go to Applications --> Enterprise Applications --> individual application such as PA_Search_Center.

4. Click "Target specific application status" --> Disable Auto Start. 

5. Optional: Go back to the application listing and click Stop to stop the application that is currently running on the Portal server.


************************************************************************* Technical considerations: 

Disabling vs. uninstalling applications: 
In general, once applications are uninstalled, they can be very difficult to redeploy correctly, especially if the system was upgraded. Therefore, it is STRONGLY recommend that instead of uninstalling applications permanently, the applications should be disabled from auto-starting when the Portal server is started. The applications will take a minimal amount of storage space on the Portal system (and on the Deployment Manager if in a cluster) and will not be in use by the Portal system during startup or normal operations. 

Should business needs change, the applications will be available and can be enabled at a moment's notice. Further, if an application is uninstalled and there is a hidden dependency that is unknown, it can be painful to attempt to reinstall the application instead of simply restarting the application if it is disabled and not auto-started. 

Portal 6.1.0.1 startup performance time 
At the time of this writing, a limited amount of testing was done on a 6.1.0.1 test lab machine in which the applications were disabled using the Portal configuration task, "enable-develop-mode-startup-performance", explained in Method #1 above: 

With a default installation of the Portal 6.1.0.1 Content Server with all 103 applications enabled, reviewing the SystemOut.log file for a startup time displayed a total startup time of approximately 3 minutes, 10 seconds: 

With a default installation of Portal 6.1.0.1 Content Server with 91 of 103 applications disabled via Method #1, reviewing the SystemOut.log file for a startup time displayed a total startup time of approximately 1 minute, 39 seconds: 

Exact performance gains or losses will be environment-specific. However, in general, the fewer applications started by the Portal server during startup, the quicker the Portal server startup time should be.