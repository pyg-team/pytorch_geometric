Title: IBM "0x800A070F ... Application-defined or object-defined error ...SQL: GROUP BY clause is missing or invalid' when running consolidation - United States

Text:
Error estandar; Numero; Origen; Descripcion TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User runs a Consolidation with Status, with BATCHMODE = OFF. After about 3 or 4 seconds, user receives error message. 

SYMPTOM
Screen (Spanish): 

Error standar
Number: 5
Origen: ControllerProxyClient
Description:System.Web.Services.Protocols.SoapException : Server was unable to process request.--> 
System.Runtime.InteropServices.COMException (0x800A070F): Application-defined or object-defined error (Error 
occured within method=RunConsol in the module with progid=FrMiscBT.ConsBusinessT) at FrBatchTClass.Batch
(String sGuid, String sUser, Int16 !ProcessId, String sJobName, String sParams,
Int32 lRegDate, Int32 lRegTime, Int32 lSchedDate, Int32 lSchedTime, Int16 iScheduleType, String sUdl, Int32 
lDependentBy, String sTimeChain, Boolean bBatchMode)
at Cognos.Controller.Proxy.CCRWS.clsBatcht_Batch(String sGuid, String sUser, Int16 iProcessId, String 
sJobName, String sParams, Int32 iRegDate, Int32 iRegtime, Int32 iSchedDate, Int32 iSchedDate, Int32 
lSchedtime, Int16 iSchedule Type, String sTimeChain, Boolean bBatchMode)
--- End of inner exception stack trace--- 

Event Log (Application log) on Application server:
Event Type: Warning
Event Source: VBRuntime
Event Category: None
Event ID: 1
Date: 07/05/2008
Time: 9:31:58
User: N/A
Computer: SERVERNAME
Description:
The VB Application identified by the event source logged this Application FrMiscBT: Thread ID: 5944 ,Logged: Error occured at 07/05/2008 9:31:58 in FrMiscBT, Error No=1807, Source=FrMiscBT.ConsBusinessT.RunConsol, Description=SQL: GROUP BY clause is missing or invalid., HelpFile= HelpContext=0

Event Type: Warning
Event Source: VBRuntime
Event Category: None
Event ID: 1
Date: 07/05/2008
Time: 9:31:58
User: N/A
Computer: SERVERNAME
Description:
The VB Application identified by the event source logged this Application FrBatchBT: Thread ID: 5944 ,Logged: Error occured at 07/05/2008 9:31:58 in FrBatchBT, Error No=1807, Source=FrBatchBT, Description=Application-defined or object-defined error (Error occured within method=RunConsol in the module with progid=FrMiscBT.ConsBusinessT), HelpFile= HelpContext=0

Event Type: Warning
Event Source: VBRuntime
Event Category: None
Event ID: 1
Date: 07/05/2008
Time: 9:31:58
User: N/A
Computer: SERVERNAME
Description:
The VB Application identified by the event source logged this Application FrBatchBT: Thread ID: 5944 ,Logged: Error occured at 07/05/2008 9:31:58 in FrBatchBT, Error No=1807, Source=FrBatchBT, Description=Application-defined or object-defined error (Error occured within method=RunConsol in the module with progid=FrMiscBT.ConsBusinessT), HelpFile= HelpContext=0

CAUSE
Invalid Oracle server configuration. 

 
More Information:
In one real-life customer example the exact cause was unknown. However, the error message only occurred when the application server pointed to one particular Oracle database server. The optimise worked OK if the database was located on a different Oracle server.


ENVIRONMENT
Controller database hosted on Oracle.



DIAGNOSING THE PROBLEM
 In most cases where the consolidation crashes, a useful diagnostic error message will be described in the 'details' section of the batch job.



RESOLVING THE PROBLEM
Ensure that the Oracle database server has been installed/configured exactly as per IBM best practices/guidelines. 

 
Steps:
In one real-life customer example, the customer uninstalled their Oracle 10G server instance. They then re-installed Oracle 10G server as per the Proven Practice document 'Guide to installing Oracle 10G Server and creating databases on Windows, for Controller 8.2'.


RELATED INFORMATION
#Proven Practices (DeveloperWorks) website [http://www.ibm.com/developerworks/data/library/cognos/cognosprovenpractices.html]




HISTORICAL NUMBER
 1039490