Title: IBM Copying an HMC File to a Microsoft Windows PC Using PuTTY - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This document describes how to copy a file from a HMC to a Microsoft Windows PC using the "PuTTY" Secure Copy (pscp) utility. This technique can be used to transfer HMC files such as pedbg to a Windows PC that has remote access to port 22 (ssh protocol). 

RESOLVING THE PROBLEM
The following process shows how pedbg data can be copied from the HMC to a PC using Secure Copy Protocol (SCP). 

o Configure the HMC for remote command execution (ssh)
EnhancedUI: Enabling ssh/remote command execution [http://www.ibm.com/support/docview.wss?uid=nas8N1021897] 
Classic UI: Configuring the HMC to Accept SSH Connections and Remote Commands [http://www.ibm.com/support/docview.wss?uid=nas8N1012875] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] o Ensure the PC can access the HMC 
Test the connection by logging in to the HMC remotely with a ssh client such as PuTTY. You can also list the file to be copied to ensure it exists and the hmc user has read access.
[/support/docview.wss?uid=nas8N1022439&aid=2] [/support/docview.wss?uid=nas8N1022439&aid=2] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] o. Obtain a scp client such as PuTTY pscp:
pscp can be obtained from the PuTTY home page or one of the alternate sites (such as putty.org).
http://www.chiark.greenend.org.uk/~sgtatham/putty/ [http://www.chiark.greenend.org.uk/~sgtatham/putty/]

Download and install using the Windows installer or download just the pscp.exe binary.

Note: Any implementation of SCP should work as long as it does not use a restricted command such as cd. Many of the graphical SCP clients use the cd command and will fail with a restricted command error. [/support/docview.wss?uid=nas8N1022439&amp;aid=1] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] o Open a Windows command prompt 
windows key + r
type "cmd" and click Ok [/support/docview.wss?uid=nas8N1022439&amp;aid=1] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] o View the help
Run the command:
"c:\program files\putty\pscp"
[/support/docview.wss?uid=nas8N1022439&aid=3] [/support/docview.wss?uid=nas8N1022439&aid=3] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] o Copy the file from the HMC to the PC using pscp
"c:\program files\putty\pscp" -scp <user>@<host>:<HMC file path/name> <PC file path/name>

where:
<user> = a valid user profile on the HMC, hscpe should be used or another user ID with a role of hmcpe
<host> = the IP address or host name of the HMC. This is typically the eth1 address.
<HMC file path/name> = the fully qualified, case sensitive, file name created when pedbg was run (i.e. file on the HMC)
<PC file path/name> = the path and file name to be created on the Windows PC

Example

"C:\Program Files\PuTTY>pscp" -scp hscpe@ihmc7063:/dump/HMClogs.ihmc706305212126.zip c:\temp\HMClogs.ihmc706305212126.zip

where:
<user> = hscpe
<host> = 9.10.49.94
<HMC file path/name> = /dump/HMClogs.ihmc706305212126.zip
<PC file path/name> =c:\temp\HMClogs.ihmc706305212126.zip

Tip: To avoid typing errors, copy/paste the file name from a putty ssh session. For example to copy a pedbg file, from a putty ssh window, run ls /dump to list the file; use left mouse to highlight the file name (putty copies the text to the clipboard automatically). In the Windows command prompt, right click and select paste. [/support/docview.wss?uid=nas8N1022439&amp;aid=1] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] o Send the data to IBM 

Select the preferred server for your geography to upload the pedbg file: Preferred servers depending on geography [/support/docview.wss?uid=nas8N1022439&amp;aid=1] Geography Server [/support/docview.wss?uid=nas8N1022439&amp;aid=1] North America Testcase https://testcase.boulder.ibm.com [https://testcase.boulder.ibm.com] Europe ECuRep http://www.ecurep.ibm.com/app/upload [http://www.ecurep.ibm.com/app/upload] Asia Pacific Testcase or EcuRep [/support/docview.wss?uid=nas8N1022439&amp;aid=1] Note: When using the testcase, ensure the file name begins with the PMR or Ticket number (for example 12345.123.000.HMClogs10262004194012.zip). When using the ecurep upload enter the pmr or ticket number in the upload form.

For further information including command line sFTP instructions see Instructions for Sending Data to IBM Support at http://www-01.ibm.com/support/docview.wss?uid=nas8N1019224 [http://www-01.ibm.com/support/docview.wss?uid=nas8N1019224] [/support/docview.wss?uid=nas8N1022439&amp;aid=1] [/support/docview.wss?uid=nas8N1022439&amp;aid=1]