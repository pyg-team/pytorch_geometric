Title: IBM Tivoli Composite Application Manager for Applications 721 FP2: Monitoring Agent for Sybase Server 620 FP2 (6.2.0-TIV-ITM_SYB-FP0002) - United States

Text:
Sybase Agent; OY; KOY; 5724B96SO; ITM; ITCAM DOWNLOADABLE FILES

ABSTRACT
 This fix resolves the APARs and defects and provides the enhancements listed 
in the "Problems Fixed" section below. 

DOWNLOAD DESCRIPTION
Copyright International Business Machines Corporation 2018.


All rights reserved.

Component: IBM® Tivoli® Composite Application Manager for Applications 721 FP2: 
Monitoring Agent for Sybase® Server 620 FP2 (6.2.0-TIV-ITM_SYB-FP0002)

Fix Pack: 0002
Component ID: 5724B96SO
Date: December 8, 2017

Table of contents:

1.0 General description
2.0 Problems fixed
3.0 Architecture and prerequisites
4.0 Image directory contents
5.0 Installation instructions
6.0 Additional installation information
7.0 Known problems and workarounds
8.0 Additional product information
9.0 Copyright and trademark information
10.0 Notices

1.0 General description
=======================
This fix contains the APARs and defects that are specified in the "Problems 
fixed" section. 

2.0 Problems fixed
==================
The following problems are addressed by this fix.

2.1 APARs 
----------
APAR :IV95149 
Abstract :While installing Sybase agent "find / -name ASE-*" command takes too 
long on system containing large disk and high volume mounts
Additional Information: While installing Sybase agent, prereqchecker invokes the SybaseVersion_plug.sh 
script which executes the "find" command from root for finding Sybase server version.The "find /" command takes
a long time on systems with large disks, high volume of mounts. 

2.2 Enhancements 
----------------
RFE :86384 
Abstract :Monitor availability of the Sybase backup Server, Job Server and 
database job failures. 
Additional Information: To monitor sybase backup server and job server status two new attributes were 
added in existing attribute group Server Details.And to monitor failed job in database 
two new attribute groups Job Details and Job Summary were added.


3.0 Architecture and prerequisites
===================================
This fix is supported on all operating systems listed in Compatibility report website.
For information about system requirements, go to the software product
compatibility reports website, and search for the ITCAM for Applications
product:
(http://publib.boulder.ibm.com/infocenter/prodguid/v1r0/clarity/index.html [http://publib.boulder.ibm.com/infocenter/prodguid/v1r0/clarity/index.html]).

3.1 Prerequisites for this fix
-------------------------------
The minimum required version of IBM Tivoli Monitoring is V6.2.2 FP2


4.0 Image directory contents
==============================
Electronic Part Number: ITCAM Apps Ag for Sybase CNN25ML

The following folder structure of the image is created:

1. Sybase Agent Installer
-WINDOWS folder: 
This folder contains the binary files for installing the 32-bit agent.
The folder also contains the Prereqchecker utility in the prereqchecker folder
for the Sybase agent.

- unix folder:
This folder contains the binary files for installing the 32-bit agent on Unix
platform. The folder also contains the Prereqchecker utility in the
prereqchecker folder for the Sybase agent.

This fix image contains the following files and directories:
AUTORUN.INF 
[Deploy] 
DeployLnk.sh
README.TXT 
[unix] 
notices
[WINDOWS] 
install.sh 
kcirunas.cfg
[license] 
silent_install.txt 
silent_config.txt

2. Sybase Support Installer
-WINDOWS folder: 
This folder contains the Windows agent support files for the Tivoli Enterprise
Monitoring Server, Tivoli Enterprise Portal Server, Tivoli Enterprise Desktop
client, and Tivoli Enterprise Browser client.

- Unix folder:
This folder contains the non-Windows agent support files for the Tivoli
Enterprise Monitoring Server, Tivoli Enterprise Portal Server, Tivoli
Enterprise Desktop client, and Tivoli Enterprise Browser client.

This fix image contains the following files and directories:
AUTORUN.INF 
DeployLnk.sh 
[WINDOWS] 
README.TXT 
[unix] 
notices
install.sh 
kcirunas.cfg 
tmv630fp6-d5334a-201511302339.appsall.tar
[license] 
silent_install.txt 
silent_config.txt

Note: 
If you are working in a UNIX environment, use install.sh file to install. 
If you are working in a Windows environment, you can choose setup.exe 
under directory [WINDOWS] or [WIA64] according your Windows platform.


5.0 Installation instructions
=============================

When this fix pack image is downloaded from the IBM Software Support Web site, 
these rules apply:
* You can locally install the fix pack only on a system that already hosts a 
licensed copy of IBM Tivoli Monitoring for Databases. Similar to other 
upgrade software, the fix pack image also can be locally installed on a 
computer where the product software is not already installed.
* You can populate agents to the depot.
* You can remotely deploy agents to existing or new installations.

When this fix pack image is downloaded from Passport Advantage, these rules 
apply:
* You can locally install the fix pack on a system that already hosts a 
licensed copy of IBM Tivoli Monitoring for Databases.
* You can locally install the fix pack on a system that does not already host 
a licensed copy of IBM Tivoli Monitoring for Databases.
* You can populate agents to the depot.
* You can remotely deploy agents to existing or new installations.


5.1 Before installing the fix
-----------------------------
- The prerequisites listed under section 3.1 entitled 'Upgrade prerequisites 
for this fix' must be installed when for upgrade.

- For the purpose of this README, the symbol <CANDLEHOME> is the 
IBM Tivoli Monitoring installation directory. The default value
for CANDLEHOME is '/opt/IBM/ITM' on UNIX systems and 'C:\ibm\itm'
on Windows systems.

- If you have customized the Monitoring Agent for Sybase Agent 
oy.ini file on UNIX system, this file should be backed up before the fix 
install. After this fix is installed, edit the latest oy.ini file and merge 
your modifications into this oy.ini file.


5.2 Local agent install and update (including silent installation)
--------------------------------------------------------------
1. Transfer the appropriate archive file (CNN25ML.tar.gz or .iso) to a temporary 
directory on the system that contains the agent code to be updated. 
For the purpose of this README, the symbol <TEMP> represents the fully 
qualified path to this directory.
Note: On Windows, this includes the drive letter. 

2. Expand the archive file using the tar command on UNIX systems or 
an unzip utility on Windows systems. This creates a directory 
structure that contains fixes for all of the supported platforms.

3. Use the procedures in the "ITCAM for Applications, Version 7.2.1.2 
Installation and Setup Guide" to install the agent.

4. Use the procedures in the specific database monitoring agent user's
guide to complete the installation and configuration.

5. After agent upgrade bitness of agent binary should be same as pre-upgrade on x86-64 
bit windows. Agent do not support upgrade to 64 bit binary.


5.3 Remote agent update and installation
----------------------------------------
1. Transfer the appropriate archive file (CNN25ML.tar.gz or .iso) to 
a temporary directory on the IBM Tivoli Enterprise 
Monitoring Server system. For the purpose of this README, the 
symbol <TEMP> represents the fully qualified path to this directory.
Note: On Windows, this includes the drive letter. 

2. Expand the archive file using the tar command on UNIX systems or an 
unzip utility on Windows systems. This creates a directory structure
that contains fixes for all of the supported operating systems.

3. To add the fix pack bundles into the remote deploy depot, use the
tacmd addBundles command found in $CANDLEHOME/bin on UNIX systems
or in %CANDLE_HOME%\bin on Windows systems. For more information
on the tacmd addBundles command, see Appendix A. Commands reference
of the "IBM Tivoli Monitoring Administrator's Guide."

On a UNIX system: if the fix was expanded to 
<TEMP>/CNN25ML:
> $CANDLEHOME/bin/tacmd addBundles -i <TEMP>/CNN25ML/WINDOWS/Deploy -t oy -f
> $CANDLEHOME/bin/tacmd addBundles -i <TEMP>/CNN25ML/unix -t oy -f 

where:
-i is the directory that contains the deployment bundles to be
added to the depot.
-t is the product code of the product to add, in this case or 
represents the Monitoring Agent for Sybase Agent
-f performs the actions without asking for confirmation

On a Windows system: if the fix was expanded to 
<TEMP>/CNN25ML:
> %CANDLE_HOME%\bin\tacmd addBundles -i <TEMP>\CNN25ML\WINDOWS\Deploy -t oy -f
> %CANDLE_HOME%\bin\tacmd addBundles -i <TEMP>\CNN25ML\unix -t oy -f 

where:
-i is the directory that contains the deployment bundles to be
added to the depot. 
-t is the product code of the product to add, in this case oy 
represents the Monitoring Agent for Sybase Agent
-f performs the actions without asking for confirmation

5. To log in to the Tivoli Enterprise Monitoring server, and deploy
the fix to the appropriate nodes where the agent is running, use
the following tacmd commands. For more information on the
tacmd login and updateAgent commands, see Appendix A. Commands
reference of the "IBM Tivoli Monitoring Administrator's Guide."

On a UNIX system: 
> $CANDLEHOME/bin/tacmd login -s <server>
-u <itmuser> 
-p <password>

> $CANDLEHOME/bin/tacmd listSystems

The output shows the managed system name for the OS agent on the 
remote system to be updated. Use this value as the target of the
tacmd updateAgent command. 

> $CANDLEHOME/bin/tacmd updateAgent -t oy 
-n <Managed system name>
-v 062002000

On a Windows system:
> %CANDLE_HOME%\bin\tacmd login -s <server>
-u <itmuser> 
-p <password>

> %CANDLE_HOME%/bin/tacmd listSystems

The output shows the managed system name for the OS agent on the 
remote system to be updated. Use this value as the target of the
tacmd updateAgent command. 

> %CANDLE_HOME%\bin\tacmd updateAgent -t OY 
-n <Managed system name>
-v 062002000

If there are not prior version koy agent on remote system .Then use 
below tacmd addSystem command.

> %CANDLE_HOME%\bin\tacmd addSystem -t OY 
-n <Managed system name> 
-p INSTANCE="<Sybase instance name>"

Note:
- The <Sybase instance name> is the Sybase agent instance name to be monitored on 
remote system.
- The component (-t) for the updateAgent command is specified as 
two characters (oy), not three characters (koy).
- The node (-n) for the updateAgent command is the managed system
name of the operating system (OS) agent to be updated. The 
target node for an updateAgent command is always an OS agent.
-Remote installation will fail if the MTEMS window is open on the agent machine.

5.4 Agent support update
------------------------
Use the following steps to update the Tivoli Enterprise Monitoring 
Server, Tivoli Enterprise Portal Server, or Tivoli Enterprise Portal
Desktop:

1. Transfer the appropriate archive file (CNN25ML.tar.gz or .iso) to 
the IBM Tivoli Enterprise Monitoring Servers, IBM Tivoli
Enterprise Portal Servers or Tivoli Enterprise Portal desktops. 

2. Expand the archive file using the tar command on UNIX systems or an 
unzip utility on Windows systems. 

3. Use the procedures in the "ITCAM for Applications, Version 7.2.1.2
Installation and Setup Guide."

4. Use the procedures in the specific database monitoring agent user's
guide to complete the installation and configuration.

5. If the Tivoli Enterprise Monitoring Server being updated is remote (not a 
Hub Tivoli Enterprise Monitoring Server) then restart the Tivoli Enterprise 
Monitoring Server.



6.0 Additional installation information
=======================================
6.1 Verifying the update
-------------------------
1.To verify whether the agent is updated correctly, use the tacmd command to
view the current version of the agent after the agent is restarted. Ensure that
you log on to the Tivoli Enterprise Monitoring Server before you view the agent
version.
For example,

On UNIX systems, where $CANDLEHOME is the IBM Tivoli Monitoring installation
directory, the default location is /opt/IBM/ITM.

> $CANDLEHOME/bin/tacmd login -s <server>
-u <itmuser> 
-p <password>
> $CANDLEHOME/bin/tacmd listSystems -t OY

On Windows systems, where %CANDLE_HOME% is the IBM Tivoli Monitoring
installation directory, the default location is C:\IBM\ITM.

> %CANDLE_HOME%\bin\tacmd login -s <server>
-u <itmuser> 
-p <password>
> %CANDLE_HOME%\bin\tacmd listSystems -t OY

Note:
The component (-t) for the tacmd listSystems command is specified as two
characters (OY), not three characters (KOY).

When the agent is updated, the agent version is changed to 06.20.02.00.
After the agent is restarted, you can also use the GUI to verify whether the
agent was updated. For the agent on Windows systems, the version number is
06.20.02.00.

2.To verify whether the agent support files are updated correctly, use the
kincinfo command on Windows systems or the cinfo command on Linux or UNIX
systems.

On UNIX or Linux systems:
To validate that all components have been installed, run the following command:
$CANDLEHOME/bin/cinfo -i

Sample output for the cinfo command on a UNIX or Linux systems
----------------------------------------------------------
[root@HJS-SYB-1 bin]# ./cinfo

*********** Wed Nov 29 23:53:13 IST 2017 ******************
User: root Groups: root
Host name : HJS-SYB-1 Installer Lvl:06.30.06.00
CandleHome: /opt/IBM0611/ITM
***********************************************************

-- CINFO Menu --
1) Show products installed in this CandleHome
2) Show which products are currently running
3) Show configuration settings
4) Exit CINFO
1

*********** Wed Nov 29 23:53:15 IST 2017 ******************
User: root Groups: root
Host name : HJS-SYB-1 Installer Lvl:06.30.06.00
CandleHome: /opt/IBM0611/ITM
***********************************************************
...Product inventory

ax IBM Tivoli Monitoring Shared Libraries
lx8266 Version: 06.30.06.00

gs IBM GSKit Security Interface
lx8266 Version: 08.00.50.36

jr Tivoli Enterprise-supplied JRE
lx8266 Version: 07.09.01.00

oy Monitoring Agent for Sybase server
lx8266 Version: 06.20.02.00

ui Tivoli Enterprise Services User Interface

On Windows systems:
To validate that all components have been installed, run the following command:
%CANDLE_HOME%\bin\kincinfo –i

Sample output of the kincinfo command on a Windows System
----------------------------------------------------------
C:\IBM\ITM\BIN>kincinfo -i
********** Thursday, November 30, 2017 10:10:02 AM **********
User : Administrator Group : NA
Host Name : HJ-IBMIBM6737 Installer : Ver: 063006000
CandleHome : C:\IBM\ITM
Installitm : C:\IBM\ITM\InstallITM
*************************************************************
...Product Inventory

IN Install INS/Windows Install Component
WINNT Version: 06.30.06.00 Build: 201511302132

IN TEMA(32-bit) INS/ITM 6.x Agent Install Component
WINNT Version: 06.30.06.00 Build: 201511302132

IN TEMA(64-bit) INS/ITM 6.x Agent Install Component Extensions
WINNT Version: 06.30.06.00 Build: 201511302132

AC KAC(64-bit) CMA/32/64 Bit Agent Compatibility Package
WIX64 Version: 06.30.06.00 Build: 201511302132

GL KGL(64-bit) CMA/Tivoli Enterprise Monitoring Agent Framework
WIX64 Version: 06.30.06.00 Build: d5334a

GL KGL(32-bit) CMA/Tivoli Enterprise Monitoring Agent Framework
WINNT Version: 06.30.06.00 Build: d5334a

GS KGS(64-bit) GSK/IBM GSKit Security Interface
WIX64 Version: 08.00.50.36 Build: d5313a

GS KGS(32-bit) GSK/IBM GSKit Security Interface
WINNT Version: 08.00.50.36 Build: d5313a

JM KJM(32-bit) JVM/Embedded JVM
WINNT Version: 07.09.01.00 Build: 201506221629

NT KNT(32-bit) CMA/Monitoring Agent for Windows OS
WINNT Version: 06.30.00.00 Build: 30321

OY KOY(32-bit) CMA/Monitoring Agent for Sybase Server
WINNT Version: 06.20.02.00 Build: 72651

UE KUE(32-bit) CMA/Tivoli Enterprise Services User Interface Extensions
WINNT Version: 06.30.06.00 Build: d5334a

UI KUI(32-bit) CLI/Tivoli Enterprise Services User Interface
WINNT Version: 06.30.06.00 Build: 201511302132


7.0 Known problems and workarounds
==================================
Problem: Sybase agent configuration is not working using itmcmd manage 
command from GUI on Solaris 11
Workaround:
For Solaris 11:
Run './itmcmd config -A oy' present at location:<CandleHome>/bin

Problem: Prereqchecker which is integrated with the installer fails on 
windows platform.
Workaround: 
For Windows:
Run on command prompt ‘prereq_checker.bat KOY’ present at location:
InstallerPath\Sybase_Agent_Installer\WINDOWS\prereqchecker

For Unix:
Run ‘./prereq_checker.sh KOY’ present at location:
InstallerPath\Sybase_Agent_Installer\unix\prereqchecker

Problem: Registry entries are not cleared when agent is uninstalled on 64 bit
windows platform.
Workaround: Delete registry entries manually from path:
HKEY_LOCAL_MACHINE\SOFTWARE\Wow6432Node\Candle\KOY\610\

Problem: When running the verification step in the "itmcmd config -A oy"
function on a Solaris 10 system, the following output from the verification
program is produced: "user needs read authority to".
Workaround: Issue "ps -ef | grep koyagent" to locate the koyagent process and
issue "kill -9" for that process. Check the Navigator tree in the Tivoli
Enterprise Portal for an offline koyagent entry and clear the offline entry.
The Monitoring Agent for Sybase Server that was configured by "itmcmd config" 
is unaffected by this problem. 

Problem: When running multiple remote deploys and agent upgrades, a task
timeout occurs during either the remote deployment or the agent upgrade. 
Workaround: Restart the OS Agent following the task timeout and before
performing the next remote deployment or agent upgrade.

Problem: If you are installing this fix into a depot on a Windows computer, and
WinZip(R) is used to extract this fix, text files in the depot might contain
CTRL-Ms. When this fix is remotely deployed to a UNIX machine from the Tivoli
Enterprise Monitoring Server or depot on Windows, the installation fails. The
CTRL-Ms are caused by extracting the fix using WinZip with "TAR file smart
CR/LF conversion" option enabled. This extraction causes WinZip to put CTRL-Ms
in text files when they are extracted on UNIX through remote deployment. 
Workaround: If you are using WinZip for the fix installation for the Tivoli
Enterprise Monitoring Server on Windows, disable the default "TAR file smart
CR/LF conversion" option. 

Problem: In the Tivoli Enterprise Portal, the instance name is displayed
instead of the host name in the Navigation tree. 
For example the Navigation tree might look like this,
MySid
Sybase
Alert Log
...
instead of this,
MyHost
Sybase - MySid
Alert Log
...

The problem is that the length of the managed node name, <SID>:<HOSTNAME>:SYB,
exceeds the length supported by the portal. A possible cause is that the
fully-qualified host name is being used. If 'uname -n' on the Monitoring Agent
for Sybase Server computer returns a fully-qualified host name, then this host
name is the cause. 
Workaround: Override the host name with an appropriate shorter name by adding
the following line to oy.config: 
export COLL_HOSTNAME=<short name>


8.0 Additional product information 
==================================
Steps for enabling SDA (Self-describing agent)
For Windows:
1.On the computer where the monitoring server is installed, in the Manage
Tivoli Enterprise Monitoring Services application, right-click the agent and 
select Advanced→ Edit ENV file.
2.Edit the existing environment variable to: TEMA_SDA=Y.

For UNIX:
1.On the computer where the monitoring agent is installed, change to the
<Install_dir>/config/ directory.
2.Open the coordinating file:
For single-instance agents: <pc>.ini 
For multi-instance agents: <pc>_<instance>.ini file 
Where pc is the two-character product code.
3.Edit the existing environment variable to: TEMA_SDA=Y.


9.0 Copyright and trademark information 
========================================
IBM, the IBM logo, and ibm.com are trademarks or registered trademarks of
International Business Machines Corp., registered in many jurisdictions
worldwide. Other product and service names might be trademarks of IBM or other
companies. A current list of IBM trademarks is available on the Web at
"Copyright and trademark information" at ww.ibm.com/legal/copytrade.shtml.
Microsoft, Windows, Windows NT, and the Windows logo are trademarks of
Microsoft Corporation in the United States, other countries, or both. Java and
all Java-based trademarks are trademarks of Sun Microsystems, Inc. in the
United States, other countries, or both. UNIX is a registered trademark of The
Open Group in the United States and other countries. Linux is a registered
trademark of Linus Torvalds in the United States, other countries, or both.
Other company, product, or service names may be trademarks or service marks of 
others.


10.0 Notices
==================
This information was developed for products and services offered in the United
States. IBM may not offer the products, services, or features discussed in this
document in other countries. Consult your local IBM representative for
information on the products and services currently available in your area. Any
reference to an IBM product, program, or service is not intended to state or
imply that only that IBM product, program, or service may be used. Any
functionally equivalent product, program, or service that does not infringe any
IBM intellectual property right may be used instead. However, it is the user's
responsibility to evaluate and verify the operation of any non-IBM product,
program, or service.
IBM may have patents or pending patent applications covering subject matter
described in this document. The furnishing of this document does not grant you
any license to these patents. You can send license inquiries, in writing, to:
IBM Director of Licensing
IBM Corporation
North Castle Drive
Armonk, NY 10504-1785
U.S.A.
The following paragraph does not apply to the United Kingdom or any other
country where such provisions are inconsistent with local law:
INTERNATIONAL BUSINESS MACHINES CORPORATION PROVIDES THIS PUBLICATION "AS IS"
WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY OR
FITNESS FOR A PARTICULAR PURPOSE.
Some states do not allow disclaimer of express or implied warranties in certain
transactions, therefore, this statement may not apply to you.

INSTALLATION INSTRUCTIONS
Sybase Server Agent 620 FP2 installer can be downloaded from IBM passport advantage using part number CNN25ML.


URL LANGUAGE SIZE(Bytes) 6.2.0-TIV-ITM_SYB-FP0002 (CNN25ML) [https://w3-03.ibm.com/software/xl/download/ticket.wss] English 1722240862 
DOWNLOAD PACKAGE
Sybase Server Agent 620 FP2 installer can be downloaded from IBM passport advantage using part number CNN25ML.

IBM Tivoli Composite Application Manager for Applications 721 FP2: 
Monitoring Agent for Sybase Server 620 FP2 (6.2.0-TIV-ITM_SYB-FP0002) (CNN25ML) 



PRODUCT ALIAS/SYNONYM
 OY
KOY
Sybase Agent 

 [/support/docview.wss?uid=swg24044440&aid=1]Problems (APARS) fixed [/support/docview.wss?uid=swg24044440&aid=2]Problems (APARS) fixed
IV95149