Title: IBM CICS connection remains in a status of INS FRE - United States

Text:
FRE FREE HANG HUNG STUCK WAIT WAITING INS ACQ LU62 LUTYPE62 ; 5655M1500 R640 640 R400 400 HCI6400 R650 650 R500 500 HCI6500 R660 660 R600 600 HCI6600 R670 670 R700 700 HCI6700 5655-S97 5655S97 ; 564805400 RA0P R410 R110 RB0P R411 R111 5648-054 5648054 568602601 R14X R14W 5686-026 5686026 KIXINFO TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 An LU 6.2 connection to a remote CICS region remains in a status of INService FREeing, even though the remote region has been shut down. The next time the remote region is started, it is unable to connect to your region. 

SYMPTOM
The following scenario describes one situation where this problem might occur. 

You have a CICS terminal owning region (TOR) and an application owing region (AOR) connected by an LU6.2 connection. A user sitting at an LU2 type terminal logs on to the TOR, starts routing to the AOR using CRTE, and begins using conversational transaction ABCD on the AOR, as below:

[/support/docview.wss?uid=swg21049122&amp;aid=1]

At 16:00 hours, the user gets up from their desk and goes home, leaving themselves logged on to the TOR and the conversational transaction still running. There is no RTIMOUT value coded on the PROFILE used by the CRTE transaction.

Several hours later, the AOR gets cycled as it normally does. Because there is still a terminal with a task using a session from the TOR to the AOR, the connection goes into and remains in a FREeing status, and does not make it all the way to RELeased. When the AOR comes back up, it is unable to re-establish the connection with the TOR, because in the TOR it is still being freed from the earlier shutdown.



CAUSE
A conversational transaction in your CICS region is still using the connection. Until the user presses a key on the terminal or the CRTE task is purged it is not possible to cleanup the session, and the connection will remain in FREeing status.



RESOLVING THE PROBLEM
There are a number of possible solutions to this problem: 

 

 * If you do not have access to the terminal where conversational transaction is running, you could use CEMT [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.systemprogramming.doc/transactions/cemt/dfha7nn.html] to force purge it. The connection will go to a RELeased status and can then be reacquired.
   
   
 * If you have access to the terminal where conversation transaction is running, you could end the conversation on that terminal by pressing the necessary keys to end the transaction. The connection will go to a RELeased status and can then be reacquired. 
   
   
 * You could set a nonzero value for RTIMOUT in the PROFILE [http://publib.boulder.ibm.com/infocenter/cicsts/v4r2/topic/com.ibm.cics.ts.resourcedefinition.doc/resources/profile/dfha4_attributes.html] used by all conversational transactions in your CICS region. When the conversational task abends due to the RTIMOUT value, the connection will go to a RELeased status and can then be reacquired.



PRODUCT ALIAS/SYNONYM
 CICS/ESA CICS ESA CICS/VSE CICS VSE CICS/TS CICS TS CICS Transaction Server