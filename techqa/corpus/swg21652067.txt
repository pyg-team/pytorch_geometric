Title: IBM Creating or viewing a work item results in a blank page and not an object error with RTC 4.0.4 - United States

Text:
Work Item; upgrade; administration; process configuration; RTC; CCM; work item; alert; flash TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 This technote provides information about an issue that can occur after upgrading to IBM Rational Team Concert (RTC) 4.0.4 where attempts to open or create a work item results in an error: "'this.$.currentStyle' is null or not an object". 

SYMPTOM
When opening work items or creating a new work item, a blank page and the following error is displayed in the Web User Interface (UI). 


'this.$.currentStyle' is null or not an object
ckeditor.js
Code: 0 

 

 In the RTC eclipse client, the work items can be opened and new work items can be created.


CAUSE
There are deprecated presentations in the work item editor presentation. There are attributes of type HTML that have a string presentation or there are attributes of type string that have an HTML presentation. 


This is a known defect in RTC 4.0.4, filed under APAR PM98897 [http://www.ibm.com/support/docview.wss?uid=swg1PM98897] and further detailed in Jazz Work Item Fix handling of deprecated presentations in migration to new widgets (283200) [https://jazz.net/jazz/resource/itemName/com.ibm.team.workitem.WorkItem/283200]


As of RTC 4.0.4, HTML attributes can only have HTML presentations and String attributes can only have String presentations. Incorrect pair matchings will show warnings in the editor presentations process editor in the RTC Eclipse client and are marked as deprecated presentation (see the screen shot below). This warning will prevent work items using the affected editor presentations from creating or displaying in the web client. These presentations were marked as deprecated but backward compatibility is still an issue in 4.0.4. This has been fixed in the 4.0.5 release. 


[/support/docview.wss?uid=swg21652067&aid=1] [/support/docview.wss?uid=swg21652067&aid=1]

See the following details for a list of deprecated presentations in 4.0.4:

Deprecated presentations for string attributes
com.ibm.team.workitem.kind.smallhtml
com.ibm.team.workitem.kind.html
com.ibm.team.workitem.kind.internal.description


Deprecated presentations for html attributes
com.ibm.team.workitem.kind.string 


ENVIRONMENT
Web Interface of RTC, after an upgrade to 4.0.4



DIAGNOSING THE PROBLEM
Reproducing the issue 

 

 1. Open Process Configuration of the Project Area. 
    
 2. Go to Project Configuration > Configuration Data > Work Items > Editor Presentations. 
    If there are any deprecated presentations for HTML or string attributes, you have run into the defect.

RESOLVING THE PROBLEM
Upgrade to RTC release 4.0.5 or later to resolve this issue. Refer to the RTC downloads [https://jazz.net/downloads/rational-team-concert/] page on Jazz.net for information about newer releases. 

 

 

WORKAROUND 

 

 1. Open Process Configuration in the open Project Area Editor
    
    
 2. Edit the deprecated presentations in Project Configuration > Configuration Data > Work Items > Editor Presentations. 
    
    
 3. Change the presentation so that attributes of type string have a string presentation and attributes of type HTML have an HTML presentation. 
    
    
 4. Save the Project Area. 


 

Leverage the Jazz Community The Jazz based products have an active community that can provide you with additional resources. Browse and contribute to the User forums, contribute to the Team Blog and review the Team wiki.
Refer to technote 1319600 [http://ibm.com/support/docview.wss?uid=swg21319600] for details and links.

 

PRODUCT ALIAS/SYNONYM
 RTC