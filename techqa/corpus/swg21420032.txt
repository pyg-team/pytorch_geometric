Title: IBM Ports needed for Web Services with WebSphere Message Broker or IBM Integration Bus - United States

Text:
webservice ports TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are using WebSphere Message Broker or IBM Integration Bus and need to plan for HTTP and HTTPS traffic supporting either standard HTTP calls or SOAP HTTP messaging. You need to know how many ports will be used and how to configure which ports are in use. 

RESOLVING THE PROBLEM
In Message Broker version 6.1 and later, each instance of a single Broker can use several different ports for different HTTP based functions. 

By default the following set of ports will be used if the corresponding function is activated in Broker. All of these port numbers are completely user-configurable. This table lists the defaults: 

 

Port# Usage 7080 This port will be used by the bipHTTPListener process for plain HTTP traffic to all ExecutionGroups 7083 This port will be used by the bipHTTPListener for encrypted HTTP (HTTPS) traffic to all ExecutionGroups 7800-7842 This range of ports will be assigned incrementally for plain HTTP traffic to each EG that has a SOAPInput node, in the order that each EG starts up 7843-7885 This range of ports will be assigned correspondingly to the plain HTTP traffic port for HTTPS traffic to each EG that has a SOAPInput node, in the order that each EG starts up 
To give a clearer example of how the above works, suppose you have a single Broker with two ExecutionGroups, each with an HTTPInput node and a SOAPInput node. If both the HTTPListener and the SOAP HTTPConnector are configured to allow both plain and encrypted HTTP (http and https), then the following ports will be used: 

7080 - all unencrypted traffic to all HTTPInput nodes in both ExecutionGroups 
7083 - all encrypted traffic to all HTTPInput nodes in both ExecutionGroups 
7800 - all unencrypted traffic for SOAPInput nodes deployed to the first ExecutionGroup that starts up 
7801 - all unencrypted traffic for SOAPInput nodes deployed to the second ExecutionGroup that starts up 
7843 - all encrypted traffic for SOAPInput nodes deployed to the first ExecutionGroup that starts up 
7844 - all encrypted traffic for SOAPInput nodes deployed to the second ExecutionGroup that starts up 

In order to assist you in managing this complexity and present a simpler picture to your webservice consumer applications, Message Broker comes with an HTTP Proxy Servlet that can be deployed to any of a large number of free and commercial Java Enterprise Edition containers. Documentation on the HTTP Proxy Servlet in version 7 starts here [http://www.ibm.com/support/knowledgecenter/SSKM8N_7.0.0/com.ibm.etools.mft.doc/ac69300_.htm]. 

In addition, in Broker version 7.0.0.1 or later, this picture is simplified. In V7.0.0.1 and later, the HTTP nodes can use the SOAP Listener rather than the bipHTTPListener process. There is an overview of this including links to further discussion here [http://www.ibm.com/support/knowledgecenter/SSKM8N_7.0.0/com.ibm.etools.mft.doc/ac56650_.htm]. 

The ports used for the bipHTTPListener can be configured individually on each Broker by using the options for mqsichangeproperties as described here [http://www.ibm.com/support/knowledgecenter/SSKM8N_7.0.0/com.ibm.etools.mft.doc/an09141_.htm], with corresponding information on configuring the ports for SOAPInput over HTTP and HTTPS here [http://www.ibm.com/support/knowledgecenter/SSKM8N_7.0.0/com.ibm.etools.mft.doc/an09148_.htm]. 

It is also possible to assign a fixed and static port number for SOAPInput for a specific EG, rather than having the port being determined by the order in which your EGs start up. This is also done using the mqsichangeproperties command. 

The necessary steps to enable and configure SSL for HTTP and SOAP are documented here [http://www.ibm.com/support/knowledgecenter/SSKM8N_7.0.0/com.ibm.etools.mft.doc/ap12234_.htm] and here [http://www.ibm.com/support/knowledgecenter/SSKM8N_7.0.0/com.ibm.etools.mft.doc/ap34021_.htm], respectively. 

Additional References: 
Note: The following references correspond to the V7.0 references listed in the preceding paragraphs.  * WebSphere Message Broker V8.0  * HTTP proxy servlet overview [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/ac69300_.htm] 
    * Processing HTTP messages [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/ac56650_.htm] 
    * Broker-wide HTTP listener parameters [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/an09141_.htm] 
    * Execution group HTTP listener parameters (SOAP and HTTP nodes) [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/an09148_.htm] 
    * Configuring HTTPInput and HTTPReply nodes to use SSL (HTTPS) [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/ap12234_.htm] 
    * Configuring SOAPInput and SOAPReply nodes to use SSL (HTTPS [http://www.ibm.com/support/knowledgecenter/SSKM8N_8.0.0/com.ibm.etools.mft.doc/ap34021_.htm]) 
   
   
 * IBM Integration Bus V9.0  * HTTP proxy servlet overview [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/ac69300_.htm] 
    * Processing HTTP messages [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/ac56650_.htm] 
    * Broker-wide HTTP listener parameters [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/an09141_.htm] 
    * Integration server HTTP listener parameters (SOAP and HTTP nodes) [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/an09148_.htm] 
    * Configuring HTTPInput and HTTPReply nodes to use SSL (HTTPS) [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/ap12234_.htm] 
    * Configuring SOAPInput and SOAPReply nodes to use SSL (HTTPS) [http://www.ibm.com/support/knowledgecenter/SSMKHH_9.0.0/com.ibm.etools.mft.doc/ap34021_.htm] 
   
   

 

Cross reference information Segment Product Component Platform Version Edition Business Integration IBM Integration Bus Web Services AIX, HP-UX, Linux, Solaris, Windows, z/OS 9.0 All Editions 
PRODUCT ALIAS/SYNONYM
 WMB MB WebSphere Message Broker MQ Integrator WBIMB WBI-MB MQSI WMQI