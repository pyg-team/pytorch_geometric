Title: IBM PM44458: WMQ V701 ABN=0C4-00000010 ABEND S0C4 0C4 RC10 M=CSQGFRCV,LOC=CSQILPLM.CSQMHDRS+00001E1A - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  You upgraded from V6 to V701. Intermittently an abend 0c4-10
   is seen for module CSQMHDRS.
   Dump title:
   DUMP TITLE=CSQ1,ABN=0C4-00000010,U=xxxxxx,C=R3600.701.MMC
           -CSQMHDRS,M=CSQGFRCV,LOC=CSQILPLM.CSQMHDRS+00001E1A
   .
   You may additionally see the following error in the Broker:
   BIP2606E UNABLE TO GET MESSAGE FROM WEBSPHERE MQ QUEUE
   MQCC=2 MQRC=2195
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All users of WebSphere MQ for z/OS Version 7 *
   *                 Release 0 Modification 1.                    *
   ****************************************************************
   * PROBLEM DESCRIPTION: When an application gets messages off a *
   *                      queue with properties and/or RFH2       *
   *                      headers, the QMGR issues an 0C4 abend   *
   *                      in CSQILPLM.CSQMHDRS.                   *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   When an application gets messages off the queue, the
   properties stored internally in MQ get added back to the message
   in an RFH2 header. When doing so, MQ looks for the right place
   in the header chain to add it.
   A local variable stores the format of the next header in the
   header chain, which is used to find the right location for the
   header, containing the properties, to be added.
   This local variable was not updated properly, causing the search
   function to reach the end of the buffer, causing the storage
   violation and issuing the 0C4.
   
   
    
   
   

PROBLEM CONCLUSION
 *  The code in CSQMHDRS has been changed to store the format of
   the next header properly in order to stop reading the buffer
   containing the message headers before the end is reached.
   010Y
   CSQMHDRS
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM44458
   
   
 * REPORTED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * REPORTED COMPONENT ID
   5655R3600
   
   
 * REPORTED RELEASE
   010
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-07-26
   
   
 * CLOSED DATE
   2011-08-26
   
   
 * LAST MODIFIED DATE
   2011-10-03
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK71271
   
   

MODULES/MACROS
 *  CSQMHDRS
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WMQ Z/OS V7
   
   
 * FIXED COMPONENT ID
   5655R3600
   
   

APPLICABLE COMPONENT LEVELS
 * R010 PSY UK71271 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK71271]
   UP11/09/10 P F109
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.