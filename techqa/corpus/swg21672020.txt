Title: IBM "Could not create the view..." when opening 'Group - Reports - Intercompany Report' menu - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 User clicks "Group - Reports - Intercompany Report". User receives error.

Problem may appear to be intermittent, because the feature will work OK after the Windows service 'IBM Cognos Controller Java Proxy' is restarted (on the Controller application server). 

SYMPTOM
[/support/docview.wss?uid=swg21672020&aid=1] [/support/docview.wss?uid=swg21672020&aid=1] 

Could not create the view: !Could not create controller of type com.ibm.cognos.ccr.integration.internal.ic.ui.lcReportDialogController for composite class com.ibm.cognos.ccr.integration.internal.ic.ui.lcReportDialogUI!


CAUSE
There are many possible causes for similar errors. 

 * TIP: See separate IBM Technote #1612000 for more examples.


This Technote specifically relates to the scenario where the cause is a memory limitation of the default settings of the 32-bit JAVA Proxy service in Controller 10.1.1 and earlier. 
ENVIRONMENT
In theory, this should only affect systems whose Controller application server is based on a 64-bit version of Windows (for example Windows 2008 R2). 

 

In addition: 

 * The problem may not appear affect all databases. It may only occur for large/complex databases. 
 * The problem appears to particularly affect when running the functionality directly on the Controller application server. For example, in one real-life example:  * The problem was very often triggered when a user tried to perform the action twice when running the Controller client directly on the Controller application server (based on Windows 2012 with IE11). 
    * The problem rarely occurred when the same user repeatedly performed the same action when running the Controller client locally on a 'standard' desktop PC (based on Windows 7 with IE11). Specifically, it took 9 or so tries to reproduce the symptoms.
   
   

DIAGNOSING THE PROBLEM
Inside the full error message, search for sections labelled "Caused by". For example, in this scenario, they include the following sections: 

================================================================= 

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 *  !Unable to find model for entity type: CompanyStructure!
 * 
 * 
 * 
 * 
 * 
 * 
 *  !FAIL: Message: Method ~ of object ~ failed 
 * 


================================================================= 

The most useful message is the one " !FAIL: Message: Method ~ of object ~ failed", which is a classic symptom of the process (in this case '') running out of memory. 
RESOLVING THE PROBLEM
Fix: 

Optimise the memory settings of the Windows service "IBM Cognos Controller Java Proxy" (on the Controller application server).

Steps:
There are two different methods: 

 * Method #1 - Modify the Controller application server to use a 64-bit Java Proxy service.

This is the recommended method for 64-bit operating systems. See separate Technote #1618609 for instructions. 
 * Method #2 - Modify the system's 32-bit JAVA Proxy service to use LAA

Enabling LAA will allow it to use up to 4Gb of RAM. To achieve this, you must perform the following (on the Controller application server): 
1. Download a third-party (non-IBM) tool  * Either use "CFF Explorer" or "4gb_patch.exe" 
 * for more information on these third-party (not created/supported by IBM) products, see separate Technote #1579579.

2. Stop the Windows service "IBM Cognos Controller Java Proxy" 
3. Browse to the 'server' folder (TIP: By default, this is: "C:\Program Files (x86)\IBM\cognos\c10\server") 
4. As a precaution, create a backup of the file " CCRProxy.EXE" 
5. Use the third-party tool to modify the file "CCRProxy.EXE", so it is LAA aware (LAA-enabled).  * TIP: If using CFF Explorer, this means ticking the box "App can handle >2gb address space":

[/support/docview.wss?uid=swg21672020&aid=2] [/support/docview.wss?uid=swg21672020&aid=2] 

6. Save changes 
7. Afterwards, restart the Windows service "IBM Cognos Controller Java Proxy". 

Workaround: 
Restart the Windows service "IBM Cognos Controller Java Proxy" (on the Controller application server): 
[/support/docview.wss?uid=swg21672020&aid=3] [/support/docview.wss?uid=swg21672020&aid=3] 

NOTE: This is only a temporary workaround, since the problem may return soon afterwards.  * For example, in one real-life example, this allowed the function to work OK once directly on the Controller application server. However, if the user exited the Controller client and then re-launched it (again directly on the Controller application server) then the problem/error returned.

RELATED INFORMATION
#1612000 - ** Troubleshooting ** "Could not create the v [http://www.ibm.com/support/docview.wss?uid=swg21612000]
1618609 - How to configure Controller Java subsystem to [http://www.ibm.com/support/docview.wss?uid=swg21618609]
1579579 - How to convert Controller client application [http://www.ibm.com/support/docview.wss?uid=swg21579579]