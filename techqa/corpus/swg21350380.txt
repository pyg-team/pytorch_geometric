Title: IBM Impromptu Web Reports not showing up in Server Admin - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 IWR reports are showing that they are running; however, they do not show up running in Server Admin, reports never run. 

SYMPTOM
From IWR Log files

 For high load operation, verify the following registry entries:
\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\TcpTimedWaitDelay
\SYSTEM\CurrentControlSet\Services\Tcpip\Parameters\MaxUserPort
\System\CurrentControlSet\Control\Session Manager\SubSystems\Windows

Desc.:The following error was sent to the Consumer. Error number: 11 . Error message: Unknown failure occurred attempting to execute a job.

Requested job completion could not be performed because the job has already been removed from the queue. The probable cause is that Report Process, Dispatcher did not respond for an extended period of time.

SOCKET ERROR. Connecting to host cognosweb.cognos.com during open failed for port <servername>.cognos.com:8030, WinSock function connect(). The connection has been dropped because of a network failure or because the peer system failed to respond.

Process ID: 4060; Thread: 3100; Host: <servername>; Text: SOCKET ERROR. Error occurred sending data on port :8020, host 'No host name is available'. WinSock function send(). An existing connection was forcibly closed by the remote host. WinSock Error Code: 10054.;
BackTrace Info:
1. File Name: Y:\src\iwr\IWR\IWRNet\sockets\cclientsocket.cpp; Line#:367; Desc.:SOCKET ERROR. Error occurred sending data on port :8020, host 'No host name is available'. WinSock function send(). An existing connection was forcibly closed by the remote host. WinSock Error Code: 10054.;

A number of these errors...

IWRcer2:IWReqMan:ErrorHandlerError: SWID=20051213110910164COGNOSAPP2PID2928TID3288 - <servername> , 4084(1d8), 2005/12/13
11:12:57.867; Error: 0, Generic;
Process ID: 4084; Thread: 472; Host: <servername>; Text: The pathname is not valid
<err-0025-1234> Attempted to use non-canonical path "<servername>.cognos.com:F:\Program Files\Cognos\cer2\iwr\database\iwr70Job.db"
as the canonical path to "<servername>:F:\Program Files\Cognos\cer2\iwr\database\iwr70Job.db" (err_invalid_pathname)


From the windows event viewer log file:

Attempted to use non-canonical path "<servername>.cognos.com:F:\Program Files\Cognos\cer2\iwr\database\iwr70Job.db" as the canonical path to "<servername>:F:\Program Files\Cognos\cer2\iwr\database\iwr70Job.db" (err_invalid_pathname) ; 2. File Name:
Y:\src\iwr\IWR\RequestManager\ReportAccess\reportaccess.cpp; Line#:224; Desc.:JobComplete; 3. File Name:
Y:\src\iwr\IWR\RequestManager\IWReqMan\iwreqman.cpp; Line#:930; Desc.:RequestThread; .

Requested job completion could not be performed because the job has already been removed from the queue. The probable cause is that Report Process
Dispatcher did not respond for an extended period of time. .

2005/12/12 14:47:25.142; Requested job completion could not be performed because the job has already been removed from the queue. The probable cause is that Report Process Dispatcher did not respond for an extended period of time. .


RESOLVING THE PROBLEM
Recreate the iwrjob.db file.

Steps:Recreating the job datastore by following the steps below. 1. Stop all IWR services.
2. Browse to the folder containing the iwr.db file.
3. Rename the iwrjob.db file to iwrjob.old.
4. Start the Object Store services.
5. Launch a DOS session.
6. Navigate to the x:\..\cer#\bin directory.
7. Recreate the job database by running the iwrcreatedb command. Ensure that the -job option is specified. If the -job option is not specified, you will lose all your currently published reports:

Example of command line syntax to use: iwcreatedb -job

8. Restart the rest of the IWR services.

 

HISTORICAL NUMBER
 1016207