Title: IBM SSL Certificate Warning - How do I check and renew the HPC local expired certificate in HPC 4.2.0? - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 SSL Certificate Warning - How do I check and renew the HPC local expired certificate in HPC 4.2.0? 

CAUSE
The certificate could be expired. 

Sometimes you may receive the following message from the HPC master:
################# SSL Certificate Warning ################

Certificate for hostname 'head2', in file (or by nickname):

/etc/pki/tls/certs/localhost.crt

The certificate needs to be renewed; this can be done

using the 'genkey' program.

Browsers will not be able to correctly connect to this

web site using SSL until the certificate is renewed.

########################################################## 


ANSWER
You must check the certificate status and renew the certificate. 

1. Check the certificate status:
1) #cd $GUI_CONFDIR
2) #keytool -list -keystore .keystore 

Example output:
[root@ma conf]# keytool -list -keystore .keystore
Enter keystore password:

***************** WARNING WARNING WARNING *****************
* The integrity of the information stored in your keystore *
* has NOT been verified! In order to verify its integrity, *
* you must provide your keystore password. *
***************** WARNING WARNING WARNING *****************

Keystore type: JKS
Keystore provider: SUN

Your keystore contains 1 entry

tomcat, Dec 7, 2017, PrivateKeyEntry, 
Certificate fingerprint (SHA1): 23:E0:F7:84:1A:68:AB:CC:03:40:AD:40:BE:8E:27:E3:9E:01:7D:A6


2. Renew the certificate (2 methods):
Method 1. Update the certificate by changing the certificate key password.
1) #cd $GUI_CONFDIR
2) #keytool -storepasswd -new xxxxxx -keystore .keystore 

Method 2. Generate a new .keystore file.
1) #cd $GUI_CONFDIR
2) #pmcadmin https disable
3) #mv .keystore .keystore.bak
4) #pmcadmin https enable
5) #pcmadmin service stop --service WEBGUI
6) #pcmadmin service start --service WEBGUI 
After step #6, you will find a new .keystore is created.