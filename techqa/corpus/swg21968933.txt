Title: IBM How to change column names in Guardium external feed - United States

Text:
Guardium; External Feed; MSSQL TECHNOTE (FAQ)

QUESTION
 During creation of an external feed, an SQL create statement must be run on the external database. In some cases this statement can contain characters that the external database does not accept.
How can Guardium be configured to handle this situation? 

CAUSE
Example with MSSQL as the external database: 

 1. Create a report on Guardium with column S-TAP_CHANGED 
 2. Map an external feed of this report. See the knowledge base for general instructions on creating an external feed. Mapping an External Feed [http://www-01.ibm.com/support/knowledgecenter/SSMPHH_9.5.0/com.ibm.guardium95.doc/comply/topics/mapping_an_external_feed.html?lang=en]. 
 3. The create table statement on MSSQL will fail because "-" is not a supported character. If you remove the "-" from the create table statement the table will be created. But later the external feed audit process will fail when it runs. In the GUI->Audit Process Log there will be an error "Incorrect Syntax near "-"" 

ANSWER
Use grdapi list_ef_mapping to view and grdapi modify_ef_mapping to change the name of a column for the external feed process. It can be changed to match the column name on the external datasource. 


For the example above. 


 1. Remove the "-" in the create table statement on external database. Other changes may need to be made to the create table statement, dependant on database. 
 2. Use the command grdapi modify_ef_mapping to remove the "-" on the Guardium appliance side. use grdapi list_ef_mapping to verify the change. See the example below, using "STAP report". 
 3. Re-run the external feed process.


Example guardium1.ibm.com> grdapi list_ef_mapping reportName="STAP report"
Mapping name: STAP report
Table name: STAP_REPORT
---------------------------------------------
Column name: Type:
---------------------------------------------
S-TAP_CHANGED varchar(255)
---------------------------------------------
ok 


guardium1.ibm.com> grdapi modify_ef_mapping reportName="STAP report" modifyObj=column oldName="S-TAP_CHANGED" newName="STAP_CHANGED"
1 record(s) affected
ok 


guardium1.ibm.com> grdapi list_ef_mapping reportName="STAP report"
Mapping name: STAP report
Table name: STAP_REPORT
---------------------------------------------
Column name: Type:
---------------------------------------------
STAP_CHANGED varchar(255)
---------------------------------------------
ok

RELATED INFORMATION
 GuardAPI External Feed Functions [http://www-01.ibm.com/support/knowledgecenter/SSMPHH_9.5.0/com.ibm.guardium95.doc/appendices/topics/guardapi_external_feed_functions.html?lang=en]