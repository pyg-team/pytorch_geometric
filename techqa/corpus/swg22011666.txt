Title: IBM When accessing Cognos Analytics via an IBM HTTP Server proxy, an Internal Server HTTP 500 error occurs. - United States

Text:
 TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You receive an HTTP 500 (Internal Server) error when attempting to access Cognos Analytics through an IHS Proxy. Cognos Analytics' Dispatcher URIs are protected with Certificates. 

SYMPTOM
Accessing the portal via the Dispatcher works fine. 

Accessing the portal via IBM HTTP Server's proxy fails.


CAUSE
IHS does not have the SSL Certificates for the Cognos Analytics' Dispatchers imported into their its KDB file.



ENVIRONMENT
IBM HTTP Server
Cognos Analytics 11



RESOLVING THE PROBLEM

You must consult with your IHS Administrator about proper IHS certificate management. This document is meant as a guide, and should be used to compliment the Administrator's knowledge. 

Exporting the Cognos Chain of trust: 

You can use $JAVA_HOME/bin/ikeyman to export the Cognos Certificate Authority. 

Open the <cognos install>/configuration/certs/CAMKeystore in ikeyman 

Identify the correct Certificate Authority certificates.
Extract the certificates in "Base 64 ascii encoded". 


Document: IBM HTTP Server certificate management 

The following document explains common IHS certificate commands. 

[code]https://www.ibm.com/support/knowledgecenter/SSEQTJ_8.5.5/com.ibm.websphere.ihs.doc/ihs/cihs_certmgmt.html [https://www.ibm.com/support/knowledgecenter/SSEQTJ_8.5.5/com.ibm.websphere.ihs.doc/ihs/cihs_certmgmt.html][/code] 

 

List certificates: 

You can verify what certificates exist in the IHS KDB file via the following command: 

<ihsroot>/bin/gskcapicmd -cert -list -db /opt/IBM/HTTPServer/key.kdb -pw password 

 

Add Cognos Analytics' Chain of Trust:

You can the Cognos Analytics' Chain of Trust using the following command. Keep in mind, you will need to add all certificates that make up the chain of trust.

<ihsroot>/bin/gskcapicmd -cert -add -db /opt/IBM/HTTPServer/key.kdb -pw password -file cacert.cer 
-label "CA certificate from example.com"