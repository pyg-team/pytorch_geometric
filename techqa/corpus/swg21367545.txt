Title: IBM Collect troubleshooting data for terminal hang problems in CICS TS on z/VSE - United States

Text:
terminal hangs ; terminal hung ; MustGather; MustGathers; Must Gather; Collect Troubleshooting Data; MustGatherDocument; Collecting; Trouble; Shooting; wait 564805400 RB0P R411 R111 5648-054 5648054 kixinfo TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 You are having a terminal hang problem in CICS Transaction Server for VSE/ESA (CICS TS) V1.1.1 on z/VSE. You would like to know what documentation you must collect (MustGather) so that the CICS Support team can diagnose your problem. If you gather this documentation before contacting support it will expedite the troubleshooting process, and save you time. 

RESOLVING THE PROBLEM
Collect this MustGather data before contacting IBM Support:

 * Collecting general information for all problems
 * Collecting data for terminal hang problems
 * Troubleshooting hints and tips
 * Exchanging data with IBM Support
 * 
 * Collect troubleshooting data for CICS products - Read first [http://www.ibm.com/support/docview.wss?uid=swg21328819]







 

Collecting general information for all problems

If you have already contacted IBM Support, you can continue on to the component-specific MustGather information. Otherwise, go to Collect troubleshooting data for CICS products - Read first [http://www.ibm.com/support/docview.wss?uid=swg21328819]. 

Back to top







 

Collecting data for terminal hang problems

Use the OnLine Problem Determination tool [http://www.ibm.com/support/docview.wss?uid=swg21319995#OLPD] if you suspect that your problem is in your own application, or if a dump is not available. 

Required (MustGather) data: 

 * CICS message log that contains DFHZCxxxx messages for the terminal. Messages are written to the console or the CSNE transient data destination. If you have a terminal involved in transaction routing, support will need the CICS message log for both the terminal owning region (TOR) and the application owning region (AOR). 
 * VSE system dump [http://www.ibm.com/support/docview.wss?uid=swg21319995#Systemdump] taken after the terminal is hung so control blocks such as the RPL and TCTTE can be analyzed. If you have a terminal involved in transaction routing, support will need a VSE system dump of both the TOR and AOR. 
 * CICS Internal Trace [http://www.ibm.com/support/docview.wss?uid=swg21319356#Internaltrace] that is included in the VSE system dump when tracing is active. The trace should be at least 4096K and level 1 tracing should be on for all CICS components. If this problem is re-creatable, change the TC component to 1-2.



Optional (MustGather) data:  * CICS Auxiliary Trace [http://www.ibm.com/support/docview.wss?uid=swg21319356#Auxtrace] when attempting to identify a transaction causing the terminal to hang and it is necessary to keep a record of system actions over a long period of time. 
 * If the hang is occurring at bind time (you never see the CICS good morning message), a VTAM Buffer Trace [http://www.ibm.com/support/docview.wss?uid=swg21319356#VTAMtrace] of the logon applid is needed to see the bind flow along with a ZCP trace [http://publibfi.boulder.ibm.com/cgi-bin/bookmgr/BOOKS/dfhws103/3.1.5.1.2]. 
 * If there is a specific DFHZCxxxx message that appears to be the cause of the hang, you can add the message to the CICS system dump table. For example:
   CEMT SET SYSDUMPCODE(ZC2403) MAXIMUM(1) ADD 
 * SDAID dump [http://www.ibm.com/support/docview.wss?uid=swg21319995#SDAIDdump] taken after the terminal is hung.

Back to top







 
Troubleshooting hints and tips

Diagnostic tips: 

 * Review the logs and dumps generated at the point of failure. When looking at the dump, use the DFHPD410 formatter with TCP=3 to get the terminal-related areas; TCP=3 can generate a significant amount of output if you have a lot of terminals in the region. 
 * Search the [http://www.ibm.com/software/htp/cics/tserver/support/]CICS support site [http://www.ibm.com/support/entry/portal/Overview/Software/Other_Software/CICS_Transaction_Server] for known problems using symptoms like the message number and error codes. 
 * If you find a fixing PTF, see Ordering CICS products and maintenance [http://www.ibm.com/support/docview.wss?uid=swg21049360] for the options that are available to order CICS maintenance. 
 * Gather the documentation and work with the CICS support team to resolve your problem.
   
   

Learn more about terminal hangs:  * Investigating terminal waits [http://publibfi.boulder.ibm.com/cgi-bin/bookmgr/BOOKS/dfhws103/2.3.10] 
 * DFHZCxxxx messages [http://publibfi.boulder.ibm.com/cgi-bin/bookmgr/BOOKS/dfhwg409/1.74] 
 * CICS TS for VSE/ESA Library [http://www.ibm.com/software/htp/cics/tserver/vseesa/library/index1.html] [http://www-306.ibm.com/software/integration/wmq/library/]

Back to top










Exchanging data with IBM Support

 1. See Exchanging information with IBM Technical Support [http://www.ibm.com/support/docview.wss?uid=swg21204910] for FTP and email instructions using the IBM Enhanced Customer Data Repository (ECuRep).
    
 2. Go to the Service Request page [http://www.ibm.com/support/servicerequest/] to open or update a problem. If you have a SoftwareXcel enterprise edition for zSeries [http://www.ibm.com/services/us/index.wss/offering/its/a1000185] contract, you can also ask a non-defect installation and usage questions.
    
    Note: Always update your Service Request (problem record) to indicate that data has been sent. 


If you need to speak to an IBM technical support representative call your country representative [http://www.ibm.com/planetwide/]. If you need to speak to an IBM technical support representative in the US, call 1-800-IBM-SERV. 

Back to top

 

PRODUCT ALIAS/SYNONYM
 CICS/VSE CICS VSE z/VSE CICS/TS CICS TS CICS Transaction Server