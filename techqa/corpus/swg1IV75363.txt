Title: IBM IV75363: SOMETIMES KQI AGENT CAN NOT DISCOVER PROCESS ID OF A MULTIPLE-INSTANCE BROKER. - United States

Text:
  DIRECT LINKS TO FIXES
ITCAM Agents for WebSphere Messaging Version 7.1.0 Fix Pack 01 Interim fix 04 (7.1.0.1-TIV-XEforMsg-IF0004) [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Composite+Application+Manager+for+Applications&fixids=7.1.0.1-TIV-XEforMsg-IF0004&source=SAR]
ITCAM Agents for WebSphere Messaging Version 7.3.0 Fix Pack 01 [http://www.ibm.com/support/fixcentral/quickorder?product=ibm%2FTivoli%2FTivoli+Composite+Application+Manager+for+Applications&fixids=7.3.0-TIV-XEforMsg-FP0001&source=SAR]
ITCAM Agents for WebSphere Messaging Version 7.3.0 Fix Pack 01 (7.3.0-TIV-XEforMsg-FP0001) [http://www-01.ibm.com/support/docview.wss?uid=swg24040581]
ITCAM Agents for WebSphere Messaging Version 7.1.0 Fix Pack 01 Interim fix 04 (7.1.0.1-TIV-XEforMsg-IF0004) [http://www-01.ibm.com/support/docview.wss?uid=swg24041867]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  KQI agent use CMP API to get broker process id from a file under
   $MQSI_WORKPATH. For multiple-instance brokers, the
   $MQSI_WORKPATH might be different from local brokers.
   
   Sometimes CMP API can not get the process id of a
   multiple-instance broker. As a result, the broker status is
   resolved as stopped.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Sometimes kqi agent can not discover process id of a
   multiple-instance broker and thus the broker status is resovled
   as stopped.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Instead of process id, we use CMP API to determine
   multiple-instance broker status.
   LocalBrokerUtilities.isHABrokerQMgrInActiveMode(brokerName);
   LocalBrokerUtilities.isHABrokerQMgrInStandByMode(brokerName);
   Actually it depends on related Queue Manager status.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IV75363
   
   
 * REPORTED COMPONENT NAME
   ITCAM WMB
   
   
 * REPORTED COMPONENT ID
   5724N13MB
   
   
 * REPORTED RELEASE
   710
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2015-07-22
   
   
 * CLOSED DATE
   2016-01-11
   
   
 * LAST MODIFIED DATE
   2016-01-11
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   ITCAM WMB
   
   
 * FIXED COMPONENT ID
   5724N13MB
   
   

APPLICABLE COMPONENT LEVELS
 * R730 PSY
   UP