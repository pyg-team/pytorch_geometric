Title: IBM Daeja ViewONE Professional takes a long time to load - United States

Text:
java applet delay slow startup TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When selecting an image or document to view, there is a long delay (typically 20-60 seconds) before the viewer loads and displays the selected image or document. 

SYMPTOM
This spinning Java logo is typically displayed rather than the expected viewer:

[/support/docview.wss?uid=swg21976232&amp;aid=1]
This is eventually replaced by the viewer which then attempts to load and render the selected document.

With full debugging enabled in the java console:

[/support/docview.wss?uid=swg21976232&amp;aid=2]

Messages like this are seen in the Java console:

security: The OCSP support is enabled 

security: The CRL support is enabled
network: Connecting http://ocsp.verisign.com/ [http://ocsp.verisign.com/]with proxy=DIRECT
network: Connecting http://ocsp.verisign.com:80/ [http://ocsp.verisign.com/]with proxy=DIRECT
security: Failing over to CRLs: java.net.UnknownHostException: ocsp.verisign.com
network: Cache entry not found [url: http://crl.verisign.com/pca3.crl [http://crl.verisign.com/pca3.crl], version: null]
network: Connecting http://crl.verisign.com/pca3.crl [http://crl.verisign.com/pca3.crl]with proxy=DIRECT
network: Connecting http://crl.verisign.com:80/ [http://crl.verisign.com/]with proxy=DIRECT
security: Revocation Status Unknown
com.sun.deploy.security.RevocationChecker$StatusUnknownException: java.net.UnknownHostException: ocsp.verisign.com
at com.sun.deploy.security.RevocationChecker.checkOCSP(Unknown Source)
at com.sun.deploy.security.RevocationChecker.check(Unknown Source)
at com.sun.deploy.security.TrustDecider.checkRevocationStatus(Unknown Source)


CAUSE
Since the release of JVM 1.8.0_20, by default, when the installed Java engine loads an applet with a valid digital certificate, it will attempt to connect to an external server to check for the revocation status of the digital certificate. Note: the particular external server it tries to connect to is specified by the authority that issued the digital certificate.

It is this attempt to connect to an external website that can be the cause of a delay. For example, due to security restrictions, the host server will refuse the connection but may try it a few times with lengthy time-out delays.


DIAGNOSING THE PROBLEM
Temporarily disable the certificate check to confirm if this is the cause or not. This is done from the "Control Panel" -> "Java plug-in" -> "Advanced Settings" tab:

[/support/docview.wss?uid=swg21976232&amp;aid=3]

If the delay is resolved with this setting then it can be concluded that it is the attempted access to the external site for the certificate revocation check that causes the problem. 





RESOLVING THE PROBLEM
The options for resolving this are as follows: 

 1. Disable the certificate revocation check permanently. However, as per the text of the setting itself; "Do not check (not recommended)"; this may not be suitable in many cases as it would represent a potential security risk. It could be a potential option for an intranet site running just this known applet, but ultimately it is a decision that must be made by the website's network administration team. 
 2. Add the external website to the list of "trusted websites" for the server in order to allow the connection to take place and the certificate revocation check to occur without delay. 
 3. The use of your own digital certificate and/or a Java deployment rule set could be used to resolve this, but it is not something IBM can support as such, since it is the Oracle JVM mechanism that would handle this.