Title: IBM PM26486: Documentation: information center topic "Removing attributes" does not distinguish different types of custom attributes. - United States

Text:
 SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS DOCUMENTATION ERROR.
    
   
   

ERROR DESCRIPTION
 *  DESCRIPTION OF ISSUE:
   The information about the service is incomplete, it does not
   provide the reader with information on how to use it.
   AFFECTED URLs:
   http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1/index.jsp?to
   pic=/com.ibm.wp.ent.doc_v615/install/sa_aix_remove_attr_def.html [http://publib.boulder.ibm.com/infocenter/wpdoc/v6r1/index.jsp?topic=/com.ibm.wp.ent.doc_v615/install/sa_aix_remove_attr_def.html]
   http://www-10.lotus.com/ldd/portalwiki.nsf/dx/AIX_standalone_Rem [http://www-10.lotus.com/ldd/portalwiki.nsf/dx/AIX_standalone_Rem]
   oving_attributes_wp7
   *Note, each instance for each platform
   TEXT READS:
   Due to a Virtual Member Manager (VMM) limitation, there is
   currently no task to update an attribute. Therefore, if you
   added an attribute to your property extension database or when
   adapting attributes to match your LDAP server that were spelled
   incorrectly or already added due to migration, you must remove
   the attribute from the database. Use caution when performing
   these steps.
   Perform the following steps to remove an attribute from your
   database:
   Important: Do not remove attributes that have already been
   populated with user values because this can cause database
   inconsistencies.
   Cluster note: In a clustered environment, perform the following
   steps on the deployment manager and then resynch the nodes.
   1. Open the tool you use to edit your database.
   2. Verify that your attribute name is available in the LAPROP
   table.
   3. Delete the required attributes from the LAPROP table.
   4. Open the wimxmlextension.xml file, located in the
   wp_profile_root/config/cells/cellname/wim/model directory.
   5. Locate and delete the propertySchema definition for the
   attributes that you deleted from the LAPROP table; for example:
       <wim:propertySchema nsURI="http://www.ibm.com/websphere/wim"
   dataType="String"
           multiValued="true" propertyName="attribute_name">
   
   <wim:applicableEntityTypeNames>PersonAccount</wim:applicableEnti
   tyTypeNames>
       </wim:propertySchema>
   6. Save your changes to the wimxmlextension.xml file.
   7. Open the wimconfig.xml file, located in the
   wp_profile_root/config/cells/cellname/wim/config directory.
   8. Locate and delete the propertiesNotSupported definitions for
   the attributes that you deleted from the LAPROP table; for
   example:
   <config:propertiesNotSupported name="attribute_name">
   9. Save your changes to the wimconfig.xml file.
   10. Stop and restart the server1 and WebSphere_Portal servers
   from the wp_profile_root/bin directory.
   
   TEXT SHOULD READ:
   Due to a Virtual Member Manager (VMM) limitation, there is
   currently no task to update an attribute. Therefore, if you
   added an attribute to your property extension database or when
   adapting attributes to match your LDAP server that were spelled
   incorrectly or already added due to migration, you must remove
   the attribute from the database. Use caution when performing
   these steps.
   Perform the following steps to remove an attribute from your
   database:
   Important: Do not remove attributes that have already been
   populated with user values because this can cause database
   inconsistencies.
   Cluster note: In a clustered environment, perform the following
   steps on the deployment manager and then resynch the nodes.
   [**Insert the next line**]
   Instructions for removal if attribute is stored in a property
   extension database, i.e. attributes configured via
   wp-add-la-property
   1. Open the tool you use to edit your database.
   2. Verify that your attribute name is available in the LAPROP
   table.
   3. Delete the required attributes from the LAPROP table.
   4. Open the wimxmlextension.xml file, located in the
   wp_profile_root/config/cells/cellname/wim/model directory.
   5. Locate and delete the propertySchema definition for the
   attributes that you deleted from the LAPROP table; for example:
       <wim:propertySchema nsURI="http://www.ibm.com/websphere/wim"
   dataType="String"
           multiValued="true" propertyName="attribute_name">
   
   <wim:applicableEntityTypeNames>PersonAccount</wim:applicableEnti
   tyTypeNames>
       </wim:propertySchema>
   6. Save your changes to the wimxmlextension.xml file.
   7. Open the wimconfig.xml file, located in the
   wp_profile_root/config/cells/cellname/wim/config directory.
   8. Locate and delete the propertiesNotSupported definitions for
   the attributes that you deleted from the LAPROP table; for
   example:
   <config:propertiesNotSupported name="attribute_name">
   9. Save your changes to the wimconfig.xml file.
   10. Stop and restart the server1 and WebSphere_Portal servers
   from the wp_profile_root/bin directory.
   
   [**Add the next line and seven steps**]
   Instructions for removal if attribute is not stored in property
   extension database, i.e. attributes configured via
   wp-add-property
   1.   Open the wimxmlextension.xml file, located in the
   wp_profile_root/config/cells/cellname/wim/model directory.
   2.  Locate and delete the propertySchema definition for the
   attributes you previously added
       <wim:propertySchema nsURI="http://www.ibm.com/websphere/wim"
   dataType="String"
           multiValued="true" propertyName="attribute_name">
   
   <wim:applicableEntityTypeNames>PersonAccount</wim:applicableEnti
   tyTypeNames>
       </wim:propertySchema>
   3. Save your changes to the wimxmlextension.xml file.
   4.   Open the wimconfig.xml file, located in the
   5.  Locate and delete the stanza in wimconfig.xml that
   corresponds to the custom attribute you deleted from
   wimextension.xml; for example
    <config:attributes name="attribute_name"
   propertyName="property_name">
   
     <config:entityTypes>PersonAccount</config:entityTypes>
    </config:attributes>
         6.  Save your changes to the wimconfig.xml file
         7.  Stop and restart the server1 and WebSphere_Portal
   servers from the wp_profile_root/bin directory.
   [**End addition**]
   
   
    
   
   

LOCAL FIX
 *  Refer to the above.
   
   
    
   
   

PROBLEM SUMMARY
 *  Refer to the above.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This will be updated in the product documentation.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM26486
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   700
   
   
 * STATUS
   CLOSED DOC
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-11-10
   
   
 * CLOSED DATE
   2011-02-22
   
   
 * LAST MODIFIED DATE
   2011-02-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION

APPLICABLE COMPONENT LEVELS