Title: IBM PM14606: SENDING SIMULTANEOUS REQUESTS WITH HOME SUBSTITUTION FORCES USER LOGOUT - United States

Text:
  FIXES ARE AVAILABLE
6.1.0.5 Download: WebSphere Portal and WCM V6.1.0 fix pack 5 [http://www-01.ibm.com/support/docview.wss?uid=swg24027475]
6.1.0.6 Download: WebSphere Portal and WCM V6.1.0 fix pack 6 [http://www-01.ibm.com/support/docview.wss?uid=swg24030970]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When home substitution is enabled (uri.home.substitution =
   true), an authenticated user can navigate to unprotected URLs
   without being logged out. Instead, a redirect from ../portal to
   ../myportal is issued to satisfy WAS security. This is done
   under the assumption that the LTPA token in the request matches
   the security context of the authenticated user. The respective
   check, however, is only done when the redirected requests
   arrives in Portal. In case a mismatch is detected, the user
   redirected back to ../portal. To avoid a loop, home substitution
   is only performed once and the user is logged out.
   
   When simultaneous requests to ../portal arrive at Portal, these
   look like a redirection loop when, in fact, they are not. This
   APAR makes the redirect loop detection more intelligent, using
   methods in WAS that are available with Portal 6.x.
   
   
    
   
   

LOCAL FIX
 *  Avoid sending simultaneous requests when using home
   substitution.
   
   
    
   
   

PROBLEM SUMMARY
 *  When home substitution is enabled (uri.home.substitution =
   true), an authenticated user can navigate to unprotected URLs
   without being logged out. Instead, a redirect from ../portal to
   ../myportal is issued to satisfy WAS security. This is done
   under the assumption that the LTPA token in the request matches
   the security context of the authenticated user. The respective
   check, however, is only done when the redirected requests
   arrives in Portal. In case a mismatch is detected, the user
   redirected back to ../portal. To avoid a loop, home substitution
   is only performed once and the user is logged out.
   
   When simultaneous requests to ../portal arrive at Portal, these
   look like a redirection loop when, in fact, they are not.
   
   
    
   
   

PROBLEM CONCLUSION
 *  This APAR makes the redirect loop detection more intelligent,
   using methods in WAS that are available with Portal 6.x.
   
   Manual Steps:
      None
   
   Failing Module(s):
      Authorization/Authentication (login/logout)
   
   Affected Users:
      All users
   
   Version Information:
       Portal Version(s): 6.1.0.1
        Pre-Requisite(s): PM14621 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM14621]
         Co-Requisite(s): ---
   
       Portal Version(s): 6.1.0.2
        Pre-Requisite(s): PM14621 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM14621] PK92357 [http://www-01.ibm.com/support/docview.wss?uid=swg1PK92357]
         Co-Requisite(s): ---
   
   PM14606 is also part of Cumulative Fix 04 for Portal 6.0.1.6.
   
   The Cumulative Fix is available from Fix Central:
   
   http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorde
   r?apar=PM13577&productid=WebSphere%20Portal&brandid=5 [http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorder?apar=PM13577&productid=WebSphere%20Portal&brandid=5]
   
   You may need to type or paste the complete address into your Web
   browser.
   
   Platform Specific:
      This fix applies to all platforms.
   
   A fix is available from Fix Central:
   
   http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorde
   r?apar=PM14606&productid=WebSphere%20Portal&brandid=5 [http://www.ibm.com/eserver/support/fixes/fixcentral/swgquickorder?apar=PM14606&productid=WebSphere%20Portal&brandid=5]
   
   You may need to type or paste the complete address into your Web
   browser.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM14606
   
   
 * REPORTED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * REPORTED COMPONENT ID
   5724E7600
   
   
 * REPORTED RELEASE
   60G
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-05-17
   
   
 * CLOSED DATE
   2010-06-22
   
   
 * LAST MODIFIED DATE
   2010-06-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   WEBSPHERE PORTA
   
   
 * FIXED COMPONENT ID
   5724E7600
   
   

APPLICABLE COMPONENT LEVELS
 * R60K PSY
   UP
   
   
 * R61A PSY
   UP
   
   
 * R61B PSY
   UP