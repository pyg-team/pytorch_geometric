Title: IBM PJ45264: Provide support for the runtime metrics collection offline utility in support of Name-Value Pair Collection. - United States

Text:
 SUBSCRIBE TO THIS APAR
By subscribing, you receive periodic emails alerting you to the status of the APAR, along with a link to the fix after it becomes available. You can track this item individually or track all items by product.

Notify me when this APAR changes.

Notify me when an APAR for this component changes.



APAR STATUS
 * CLOSED AS NEW FUNCTION.
    
   
   

ERROR DESCRIPTION
 *  See Problem Summary.
   
   
    
   
   

LOCAL FIX
 *  N/A
   
   
    
   
   

PROBLEM SUMMARY
 *  APAR NUMBER:  PJ45264
   PRODUCT:  z/TPF
   FUNCTIONAL AREA:  TPF RTMC
   SHIPPED IN PUT:  15
   
   ABSTRACT:
   Provide support for the runtime metrics collection offline
   utility in support of Name-Value Pair Collection.
   
   PACKAGE CONTENTS:
   Source Segments:
   (C) base/cp/cceb.cpy
   (C) base/cp/chsz.cpy
   (C) base/cp/clhx.cpy
   (C) base/include/tpf/invp_recea31.h
   (C) base/rt/cnvi.cpp
   (C) base/rt/cnvp.cpp
   (C) base/rt/cnvv.asm
   (N) base/tpfrtmc/bin/tpfrtmc.war
   (N) base/tpfrtmc/samples/fullLoad.sql
   
   Object Only Binaries:
   None.
   
   Configuration Independent Binaries:
   (C) base/load/CNVI.so
   (C) base/load/CNVV.so
   (C) base/obj/cnvi.o
   (C) base/obj/cnvv.o
   
   Support Files:
   base/lst/cnvi.lst
   base/lst/cnvv.lst
   base/lst/CNVI.map
   base/lst/CNVV.map
   
   OTHER BINARIES TO BUILD: YES
   (C) <sys>/load/CPS0.so
   (C) <sys>/obj/ccenbk.o
   (C) <sys>/obj/ccnucl.o
   (C) <sys>/obj/ccstor.o
   (C) <sys>/obj/cnvp.o
   (C) <sys>/stdlib/libCTAL.so
   (C) <sys>/stdload/CTAL.so
   
   COMMENTS:
   Runtime metrics collection is an offline utility that processes
   resource usage information that is collected by using
   name-value pair collection and writes the processed data to a
   relational database for you to access.
   
   
    
   
   

PROBLEM CONCLUSION
 *  SOLUTION:
   The following problems, introduced by APAR PJ44321 [http://www-01.ibm.com/support/docview.wss?uid=swg1PJ44321], were
   addressed by this APAR:
   
   Base/rt/cnvp.cpp was changed to fix a hashing error that might
   prevent the collection of name-value pairs. The hashing
   algorithm is now consistent with the algorithm used in
   base/rt/cnvi.cpp.
   
   Base/cp/clhx.cpy was updated to correct the calculations for
   several metrics.
   
   The algorithm to count the number of ECBs collected was
   corrected and moved from base/cp/chsz.cpy to base/cp/cceb.cpy.
   
   The OWNERSKIP parameter on the ZCNVP command is not needed and
   has been removed.
   
   COREQS: NO
   None.
   
   MIGRATION CONSIDERATIONS: YES
   Functional, automation, and operation changes:
   The ZCNVP START SAMPLE command had the OWNERSKIP parameter
   removed.
   CNVP0002I,CNVP0012I,CNVP0014I messages have been updated.
   New messages:
   CNVP0045E
   RTMC0001E
   RTMC0060E
   RTMC0061E
   RTMC0062E
   RTMC0063E
   RTMC0064E
   RTMC0065E
   RTMC0070W
   RTMC0090I
   RTMC0091I
   RTMC0092I
   RTMC0093I
   RTMC0094I
   RTMC0095I
   RTMC0096I
   RTMC0097I
   RTMC0098E
   RTMC0100I
   RTMC0101I
   RTMC0102I
   RTMC0103I
   RTMC0104I
   RTMC0105I
   RTMC0106I
   RTMC0107I
   RTMC0108I
   RTMC0109I
   RTMC0110I
   RTMC0111I
   RTMC0112I
   RTMC0113I
   RTMC0114E
   RTMC0115I
   RTMC0116I
   RTMC0117I
   RTMC0118I
   RTMC0120I
   RTMC0121I
   RTMC0125I
   RTMC0126I
   RTMC0130I
   RTMC0131I
   RTMC0135I
   RTMC0136I
   RTMC0137I
   RTMC0138I
   RTMC0139I
   RTMC0140I
   RTMC0141I
   RTMC0142I
   RTMC0143I
   RTMC0145I
   RTMC0146I
   RTMC0154I
   RTMC0155I
   RTMC0156I
   RTMC0157I
   RTMC0158I
   RTMC0159I
   RTMC0160I
   RTMC0161I
   RTMC0162I
   RTMC0163I
   RTMC0170I
   RTMC0171I
   RTMC0172I
   RTMC0173I
   RTMC0174I
   RTMC0198I
   RTMC0199I
   RTMC0200I
   RTMC0201I
   RTMC0220E
   RTMC0221E
   RTMC0300E
   RTMC0301E
   RTMC0302E
   RTMC0401E
   RTMC0403E
   RTMC0500E
   RTMC0501E
   RTMC0502E
   RTMC0503E
   RTMC0504E
   RTMC0505E
   RTMC0510E
   RTMC0511E
   RTMC0512E
   RTMC0513E
   RTMC0514E
   RTMC0630E
   RTMC0634E
   RTMC0800I
   RTMC0801E
   
   Hardware, software, and configuration changes:
   Runtime metrics collection software requirements are specified
   in the migration guide under the topic "Optional z/TPF and
   z/TPFDF product software".
   
   
   Build and load process changes:
   See the Knowledge Center on how to install runtime metrics
   collection.
   
   
   
   BUILD COMMANDS AND INSTRUCTIONS: YES
   #maketpf commands for linux
   maketpf -f CTAL cnvp.o
   maketpf -f CPS0 ccenbk.o ccnucl.o ccstor.o
   maketpf -f CNVI cnvi.o
   maketpf -f CNVV cnvv.o
   maketpf CTAL link TPF_VERIFY_LINK_REFS=NO
   maketpf CPS0 link
   maketpf CNVI link
   maketpf CNVV link
   maketpf CTAL link
   
   UPDATED INFORMATION UNITS: YES
   z/TPF and z/TPFDF Migration Guide
   z/TPF and z/TPFDF Migration Guide: PUT 2 and Later
   z/TPF Messages (System Error, Offline, and Program Status Word)
   z/TPF Operations
   z/TPF Scenarios
   z/TPF System Performance and Measurement Reference
   
   See your IBM representative if you need additional information.
   
   DOWNLOAD INSTRUCTIONS:
   http://www.ibm.com/software/htp/tpf/pages/maint.htm [http://www.ibm.com/software/htp/tpf/pages/maint.htm]
   
   APAR URL:
   http://www.ibm.com/software/htp/tpf/ztpfmaint/put15/PJ45264.htm [http://www.ibm.com/software/htp/tpf/ztpfmaint/put15/PJ45264.htm]
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PJ45264
   
   
 * REPORTED COMPONENT NAME
   Z/TPF
   
   
 * REPORTED COMPONENT ID
   5748T1501
   
   
 * REPORTED RELEASE
   110
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt / Xsystem
   
   
 * SUBMITTED DATE
   2018-02-27
   
   
 * CLOSED DATE
   2018-07-20
   
   
 * LAST MODIFIED DATE
   2018-07-20
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

Publications Referenced SK2T8062 FIX INFORMATION
 * FIXED COMPONENT NAME
   Z/TPF
   
   
 * FIXED COMPONENT ID
   5748T1501
   
   

APPLICABLE COMPONENT LEVELS