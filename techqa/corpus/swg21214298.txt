Title: IBM How to run NSD manually on a Domino server for UNIX platforms - United States

Text:
nsd; manual nsd; nsd on unix; aix; solaris; linux; manually; diagnostic TECHNOTE (FAQ)

QUESTION
The Lotus® Domino® server runs NSD automatically by default in crash situations. However, there might be a need to run NSD manually to collect server status and configuration diagnostic data for other situations. How do you run NSD manually on Linux and UNIX platforms?

ANSWER
Use these steps to run NSD manually:


 1. Log in as an appropriate notes user, e.g. notes. 
 2. Change to the correct working directory. 
 3. Execute the nsd command.


Example of running NSD manually: 
 * 
 * 
 * 
 * 
 * 
 * 

The result is a file called nsd_<platform>_<hostname>_<date>@<time>.log in the IBM_TECHNICAL_SUPPORT directory. 


What follows are tips for each step. 

1- Finding the appropriate notes user or owner. 

NSD should not be run as the root user. If logged in as the root user, use the su - <user> command to switch to a member of the notes group or perform the nsd command using the -user <username> flag to indicate the notes user. 

The NSD must be run from the data directory of the partition you wish to capture information from. Because it is possible to have more than one partition owned by more than one notes user, you should use the ls -l command to determine what user owns the data directory in question. 
 * 
 * 
 * 
 * 
 * 
 * 
 * ls -l | more
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 


2- Change to the correct working directory 

The NSD must be run from the data directory containing the notes.ini file of the server application you wish to diagnose. 

3- Verify location of the nsd command before you execute it 

To run the NSD command, you must make sure you know where the NSD command is located. By default, NSD is located in the executable directory, which is in /opt/ibm/domino. However, Domino allows you to place this file anywhere, so you might need to find where you installed it. You can use the operating system find command to verify the location. 
 * 
 * 
 * 
 * 
 * 
 * #whoami 
   notes 
 * 
 * 
 * 
 * # pwd 
   /local/notesdata 
   
 * 
 * 
 * # /opt/ibm/domino/bin/nsd 






Additional Options 
There are some additional options you can choose when you run an NSD. To see the available options and flags, enter nsd -help. 

You can run the nsd against a core file:  * 


Or you can run it against a single process:  * 

RELATED INFORMATION
 How to run a manual NSD for Notes/Domino on Windows [http://www.ibm.com/support/docview.wss?uid=swg21204263]