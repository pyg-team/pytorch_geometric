Title: IBM Replacing the ITCAM Database with the Original Database - United States

Text:
CAMADMSALL CAMADMSDB octigate db2install drop TECHNOTE (FAQ)

THIS DOCUMENT APPLIES ONLY TO THE FOLLOWING LANGUAGE VERSION(S):
 US English 

QUESTION
 How do you rebuild the ITCAM Database? 

ANSWER
 The following example assumes you are using the default database name of octigate. 
___________________________________________________________

The database should already exist, but, if for some reason, it does not, you can create a new database as follows:

db2 create db octigate using codeset UTF-8 territory US 
___________________________________________________________

To replace the ITCAM database, you can run the am-db2.sql script to drop the existing tables and add the original tables as follows:


db2 connect to octigate user <userid> using <password> 
db2 -tvf am-db2.sql 

The userid is the schema owner userid that ITCAM will use to access the database. Our examples in the ITCAM publications use amuser for this ID. 

Once the script is complete, you can list the tables by executing the following command:

db2 list tables
___________________________________________________________

NOTE--NOTE--NOTE

If you want to drop and add all of the tables EXCEPT for the users table, which contains the user IDs authorized to access ITCAM, customize the am-db2.sql script first as follows: 


1. Make a backup of am-db2.sql
2. Edit am-db2.sql and remove the following:

drop table USERS;

create table USERS (
USERID integer not null ,
USERNAME varchar(150) not null ,
FIRSTNAME varchar(60),
LASTNAME varchar(60),
STATUS varchar(20) not null,
EXT_USER varchar(150) not null,
DATE_CREATED timestamp,
DATE_UPDATED timestamp,
EMAIL varchar(50),
CUSTOM1 varchar(150),
CUSTOM2 varchar(150),
CUSTOM3 varchar(150),
ROLEID integer not null references ROLES(ROLEID),
DEFAULTPAGE varchar(200),
SERVERID varchar(50),
GROUPID integer,
PORTALID varchar(50),
CURRENTLOCALE varchar(12),
primary key (USERID,USERNAME)
);
insert into USERS values (1,'admin','Am','Administrator','active','admin',current timestamp, current timestamp,'','','','',1,'','',0,'0','');
insert into USERS values (2,'secure','Amsecure','Adminisecure','active','secure',current timestamp, current timestamp,'','','','',4,'','',0,'0','');
delete from TABLEKEYS where TABLENAME = 'USERS';
insert into TABLEKEYS values ('USERS', 3);


 

PRODUCT ALIAS/SYNONYM
 ITCAM ITCAM4AD ITCAMfAD