Title: IBM Unable to uninstall TFIM fixpack with an 'Unparseable Date' error in the update log - United States

Text:
TFIM; unparseable; date; exception; installation; failed; uninstall; failed TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When trying to uninstall a TFIM Fix Pack using the WebSphere Update Installer 7.0.0.29 the fix pack will not uninstall and cannot be recovered.



err, Unparseable date: "111110"

err, Unparseable date: "111110"

java.text.ParseException: Unparseable date: "111110" 

SYMPTOM
The updatelog.txt will show the following

Install, com.ibm.ws.install.ni.ismp.actions.SettleNIFRegistryAction, msg1, Current install/uninstall process failed.
Install, com.ibm.ws.install.ni.ismp.actions.SetExitCodeAction, msg1, CWUPI0000I: EXITCODE=1
Install, com.ibm.ws.install.ni.ismp.actions.ISMPLogFileAction, msg1, For more information on installing components, see the following trace file:
/opt/IBM/FIM//logs/update/6.2.2-TIV-ITFIM-FP0012-MgmtConsoleAndMgmtRuntimeSvcs.uninstall/updatetrace.log.gz 
Install, com.ibm.ws.install.ni.ismp.actions.ISMPLogFileAction, msg1, For more information on running configuration commands, see the following trace file:
/opt/IBM/FIM//logs/update/6.2.2-TIV-ITFIM-FP0012-MgmtConsoleAndMgmtRuntimeSvcs.uninstall/updateconfig.log.gz
Install, com.ibm.ws.install.ni.ismp.actions.ISMPLogSuccessMessageAction, msg1, INSTCONFFAILED


CAUSE
This is caused by a malformed TFIM.product file in the '<fim install>/FIM/properties/version/' directory.

There could be a number of missing double quotes that would be parsed incorrectly by the Update Installer.

ENVIRONMENT
TFIM 6.2.2.X

DIAGNOSING THE PROBLEM
The following errors and stack will be found in the update.log

Install, com.ibm.ws.install.ni.ismp.actions.PopulateProductLocationAction, err, Unparseable date: "111110"
Install, com.ibm.ws.install.ni.ismp.actions.PopulateProductLocationAction, err, Unparseable date: "111110"
Install, com.ibm.ws.install.ni.ismp.actions.PopulateProductLocationAction, err, java.text.ParseException: Unparseable date: "111110"
at java.text.DateFormat.parse(DateFormat.java:337)
at com.ibm.ws.install.ni.ismp.actions.PopulateProductLocationAction.getNIFRegistryOfferingEntries(PopulateProductLocationAction.java:529)
at com.ibm.ws.install.ni.ismp.actions.PopulateProductLocationAction.getListOfExistingProductLocations(PopulateProductLocationAction.java:443)
at com.ibm.ws.install.ni.ismp.actions.PopulateProductLocationAction.execute(PopulateProductLocationAction.java:68)
at com.installshield.wizard.StandardWizardListener.execute(StandardWizardListener.java:123)
at com.installshield.wizard.StandardWizardListener.currentBeanChanged(StandardWizardListener.java:106)
at com.installshield.wizard.Wizard$RunThread.run(Wizard.java:1569)

RESOLVING THE PROBLEM
The file should look like : 

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE product SYSTEM "product.dtd">
<product name="Tivoli Federated Identity Manager">
<id>TFIM</id>
<version>6.2.2.X</version>
<build-info date="<date>" level="<version>"/>
</product>





Where the '<date>' format is 'YY/MM/DD' and is equivalent to a date format '<version>' value