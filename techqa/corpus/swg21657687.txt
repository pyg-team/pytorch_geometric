Title: IBM How to track RACF resource accesses for trusted started tasks - United States

Text:
zSecure; AM; access; monitor; trusted; privileged; uaudit TECHNOTE (FAQ)

QUESTION
 I would like to remove the Trusted attribute from my started task userids. 
1. How do I monitor which RACF resources these userids access so I can make the required ACL updates prior to removing the Trusted attribute. 
2. Can zSecure Access Monitor help? 

ANSWER
Using Access Monitor may not give you the information you require. The reason is that Access Monitor data is collected at the time the post-processing exit is called. When the Trusted attribute is used this exit is not called as you can see from step 6 here:
[http://pic.dhe.ibm.com/infocenter/zos/v2r1/topic/com.ibm.zos.v2r1.icha700/dbgpic.htm]http://www.ibm.com/support/knowledgecenter/SSLTBW_2.3.0/com.ibm.zos.v2r3.icha700/dbgpic.htm [http://www.ibm.com/support/knowledgecenter/SSLTBW_2.2.0/com.ibm.zos.v2r2.icha700/dbgpic.htm]
- For privileged/trusted tasks: very early in RACF access checking, RACF looks for PRIVILEGED and TRUSTED. If either is set, RACF stops all work, and directly jumps to "exit-access allowed". This means:
-- It doesn't look for any profile in the RACF database
-- Further, if privileged, it doesn't make any auditing attempts
-- So we don't see most priv/trust calls in Access Monitor.

- However, an application can tell RACF that it wants to know what profile would be used to protect a certain resource. In that case, RACF access checking still retrieves the profile
-- In this case, Access Monitor sets the Priv/Trus flag and the No Global (=Private/CSA) flag.
-- We can then report the profile indicated by RACF.

As a suggested migration method you could set UAUDIT to Yes for the started task userids so that all user actions are logged to SMF. Then you can use a combination of the SMF data and Access Monitor data (but bear in mind there is likely to be some inconsistencies due to the reasons above) to analyse which ACLs will need to be updated to allow the trusted attribute to be removed.

The C2PACMON procedure as shipped can be used as the first STC after JES2 is up and ready and available for START processing.