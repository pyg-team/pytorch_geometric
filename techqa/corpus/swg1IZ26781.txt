Title: IBM IZ26781: DB2 ALTERNATE SERVER FEATURE CAN CORRUPT DB DIRECTORY ENTRY ON  CLIENT RUNNING JAVA DB2 APPS ON MULTIPROCESSOR MACHINES. - United States

Text:
AIX  FIXES ARE AVAILABLE
DB2 Version 9.5 Fix Pack 3b for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24022591]
DB2 Version 9.5 Fix Pack 2a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24020633]
DB2 Version 9.5 Fix Pack 2 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24020242]
DB2 Version 9.5 Fix Pack 4 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24023213]
DB2 Version 9.5 Fix Pack 3a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24021838]
DB2 Version 9.5 Fix Pack 3 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24021563]
DB2 Version 9.5 Fix Pack 4a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24024215]
DB2 Version 9.5 Fix Pack 5 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24025421]
DB2 Version 9.5 Fix Pack 6a for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24027747]
DB2 Version 9.5 Fix Pack 7 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24028731]
DB2 Version 9.5 Fix Pack 8 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24030302]
DB2 Version 9.5 Fix Pack 9 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24032087]
DB2 Version 9.5 Fix Pack 10 for Linux, UNIX, and Windows [http://www-01.ibm.com/support/docview.wss?uid=swg24033308]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  The high availabilty feature alternate server can lead to
   database directory corruption or duplicate entries on
   multiprocessor clients running java application accessing DB2.
   
   The problem may have symptons of duclicate DB directory entries,
   corrupted DB entries or missing DB entries.
   
   Errors similar to the following may also be seen in the
   db2diag.log :
   
   2007-06-13-09.11.05.513271+120 E7758C358          LEVEL: Warning
   (OS)
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, oper system services, sqlochgfileptr,
   probe:100
   CALLED  : OS, -, unspecified_system_function
   OSERR   : EBADF (9) "A file descriptor does not refer to an open
   file."
   
   2007-06-13-09.11.05.513751+120 I8117C272          LEVEL: Severe
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, base sys utilities, sqleGetAlternateServer,
   probe:20
   RETCODE : ZRC=0xFFFFD8EC=-10004
   
   
    
   
   

LOCAL FIX
 *  Avoid using the alternate server feature
   
   
    
   
   

PROBLEM SUMMARY
 *  Users Affected:
   Db2 systems using Alternate Server Feature on multiprocessor
   clients
   Problem Description:
   DB2 Alternate server feature can corrupt DB Directory entry on
   client running
   Java Db2 applications on multiprocessor machines.
   The high availabilty feature alternate server can lead to
   database directory corruption or duplicate entries on
   multiprocessor clients running java application accessing DB2.
   
   The problem may have symptons of duclicate DB directory entries,
   corrupted DB entries or missing DB entries.
   
   Errors similar to the following may also be seen in the
   db2diag.log :
   
   2007-06-13-09.11.05.513271+120 E7758C358          LEVEL: Warning
   (OS)
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, oper system services, sqlochgfileptr,
   probe:100
   CALLED  : OS, -, unspecified_system_function
   OSERR   : EBADF (9) "A file descriptor does not refer to an open
   file."
   
   2007-06-13-09.11.05.513751+120 I8117C272          LEVEL: Severe
   PID     : 942172               TID  : 42496       PROC : java
   INSTANCE: db2inst1             NODE : 000
   FUNCTION: DB2 UDB, base sys utilities, sqleGetAlternateServer,
   probe:20
   RETCODE : ZRC=0xFFFFD8EC=-10004
   
   Problem Summary
   Possibility of Db directory corruption if using Alternate Server
   Feature.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Problem first fixed in DB2 V9.5 FP2
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   IZ26781
   
   
 * REPORTED COMPONENT NAME
   DB2 CEE AIX
   
   
 * REPORTED COMPONENT ID
   5765F3000
   
   
 * REPORTED RELEASE
   950
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2008-07-11
   
   
 * CLOSED DATE
   2008-09-22
   
   
 * LAST MODIFIED DATE
   2008-09-22
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    IZ12279 [http://www-01.ibm.com/support/docview.wss?uid=swg1IZ12279]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   DB2 CEE AIX
   
   
 * FIXED COMPONENT ID
   5765F3000
   
   

APPLICABLE COMPONENT LEVELS
 * R950 PSY
   UP