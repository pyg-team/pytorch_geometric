Title: IBM WebSphere MQ message queues: Is there a way to stop the channel when MAXDEPTH on a transmission queue is reached? - United States

Text:
MQ; MQSeries; MAXDEPTH; ARINC; queue; messages; DEAD.LETTER; XMITQ; QDEPTHHI TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When MAXDEPTH is reached for the Aeronautical Radio Incorporated (ARINC) queue, input messages start going to the DEAD.LETTER.QUEUE. Is there a way to stop the channel when MAXDEPTH on a transmission queue (XMITQ) is reached? 

RESOLVING THE PROBLEM
You can use one of the following ways to stop the channel when MAXDEPTH on a transmission queue is reached: 

 * Use QDEPTHHI to enable notification on z/TPF when the queue depth exceeds that percentage of MAXDEPTH for the transmission queue. The notification is presented in one of the following forms:  * If performance events are enabled, a message is put on the performance event queue and can be processed by the event monitor to stop the channel. 
    * If performance events are not enabled but the queue manager has set the QDT parameter value to non-zero, console automation (such as TPF Operations Server) can detect the QDEPTHHI warning message (MQSC0512W). Use console automation to issue a stop channel command when the warning message is detected.
   
   
 * Include rules in your dead letter queue (DLQ) monitor that generate a stop channel request when the DLQ monitor finds a message that was originally destined for a transmission queue (XMITQ) and the transmission queue is full. 
 * Delete the dead letter queue (DLQ). This might be too drastic if you need the DLQ for other reasons.

RELATED INFORMATION
 TPF Family Libraries [http://www.ibm.com/software/htp/tpf/pubs/tpfpubs.htm]