Title: IBM When running "Administer Work Items" via 
Administration Console for Content Platform Engine (ACCE), it generates "You must be a member of the Process Engine Administrators group to run this application" error - United States

Text:
Workflow System Administrator group; PE Administration; PE Configuration; Process Engine Security groups; Workflow TECHNOTE (TROUBLESHOOTING)

PROBLEM(ABSTRACT)
 When logging to ACCE and right-clicking on the connection point and clicking on "Administer Work Items" to run, get "You must be a member of the Process Engine Administrators group to run this application" error. 

SYMPTOM
Screens shot of the error : 

[/support/docview.wss?uid=swg22012521&aid=1] [/support/docview.wss?uid=swg22012521&aid=1]


CAUSE
There could be one of the following causes to the error as follows : 

1. The user who is getting the error because he or she is not a member of Process Engine (PE) Administration group. The error is expected in this case. 

2. The error can be seen if the new Process Administration group is updated in ACCE without restarting CPE JVMs and restarting the DMGR JVM if the CPE is farmed/clustered.


RESOLVING THE PROBLEM

1. Log on to ACCE and take a note of the PE Administration group as shown in the screen shot below. 

[/support/docview.wss?uid=swg22012521&aid=2] [/support/docview.wss?uid=swg22012521&aid=2]
2. Make sure that the affected user is the member of the PE administration group in the LDAP server.

3. Make sure that the persisted PE administration group in the PE database has the affected user in it. You can carry the steps below to verify the user group membership.
1) log on to vwtool by running vwtool connection point as shown in the example below.
C:\IBM\FileNet\ContentEngine\tools\PE>vwtool AIM_CP1
User name: p8admin
Password:
log4j:WARN No appenders could be found for logger (filenet.vw.server).
log4j:WARN Please initialize the log4j system properly.
[Perf Log] perflog.dir=null not found, auditor disabled
[Perf Log] No interval found. Auditor disabled.
Connecting to http://ECMDEMO1:9080/peengine/api/petoolsapi [http://ecmdemo1:9080/peengine/api/petoolsapi]
jarUrl=jar:file:/C:/IBM/FileNet/ContentEngine/lib/pe.jar!/
vwtool : ECMDEMO1/server1 [Server (MS-SQL MSSQL2008 Blob 1 MB) -- {dap521.005.247} en_US ]
Client Version = dap521.005.247
Type '?' for help

2) run the environment command below to find the affected user id
a) find the affected user id, and in the example below it is p8admin
<vwtool::1>env
env
View/ Inconsistency/ Cache/ Notification/ Remove environment records (CR=v,i,c,n,r): v
Cached or persistent environment records (CR=c, p): p
Name, '*' for all env records: p8admin
Name: p8admin
Realm: dc=ecm,dc=ibm,dc=local
DisplayName:P8Admin
DN: cn=p8admin,cn=users,dc=ecm,dc=ibm,dc=local
Id: 50
SID: S-1-5-21-2517295736-4291596471-1575414909-1002
WebAppl: 0
DB Time stamp: 12/05/16 09:20 PM
Field name Field Type Field Value
---------- ---------- -----------
F_EMailAddress string aim1@us.ibm.com [aim1@us.ibm.com]
F_DefaultServerId integer 0
look_and_feel string Metal
pwm_location string 290;200
pwm_size string 700;400
step_palette_selected_palettes integer 1
launchstepproc_location string 540;275
IsGroup: FALSE

3) check the PE Administration group to see if the affected user (p8admin in this example) is in the group by running the command below. 
<vwtool::1>env
env
View/ Inconsistency/ Cache/ Notification/ Remove environment records (CR=v,i,c,n
,r): v
Cached or persistent environment records (CR=c, p): p
Name, '*' for all env records: p8admins
Name: p8admins
Realm: dc=ecm,dc=ibm,dc=local
DisplayName:P8Admins
DN: cn=p8admins,cn=users,dc=ecm,dc=ibm,dc=local
Id: 52
SID: S-1-5-21-2517295736-4291596471-1575414909-1141
WebAppl: 0
DB Time stamp: 12/05/16 09:24 PM
Field name Field Type Field Value
---------- ---------- -----------
F_EMailAddress string
IsGroup: TRUE
Member Count: 2
Member User Ids: 50(p8admin) 51(psmall)

In the above output, p8admins group has two members, 50(p8admin) and 51(psmall) users. 

So if you are not seeing the user listed in the PE administration group you have captured in step 3) above, you can carry one of the steps below to fix your problem.
1. At vwtool prompt, run env c groupname. For example, vwtool>env c p8admins
2. or at vwtool prompt, run env i f m. For example vwtool>env i f m 


If the issue is seen after you have updated the PE Administration group in ACCE, you must restart CPE JVMs and if they are in the farm/cluster, you must restart the DGMR JVM as well in order for the SysAdminG and SysConfigG change to take effect. This behavior started in 5.0 using PTM (process Task Manager) and documented here: https://www.ibm.com/support/knowledgecenter/en/SSNW2F_5.1.0/com.ibm.p8.pe.taskmgrui.doc/wfservices_security_configure.htm [https://www.ibm.com/support/knowledgecenter/en/SSNW2F_5.1.0/com.ibm.p8.pe.taskmgrui.doc/wfservices_security_configure.htm] 
Documentation defect 12059, has been filed to clarify this in 5.2.1.

Once one of the above mentioned procedures has been run, it should address the reported error. If one of the above procedures does not fix the reported issue, carry out the steps below to collect pertinent data for investigation.
1. On CPE server, enable PE tracing with 10. Security calls using technote below.
http://www-01.ibm.com/support/docview.wss?uid=swg21678454 [http://www-01.ibm.com/support/docview.wss?uid=swg21678454]
2. Reproduce the issue
3. Review the Process Engine log files for root cause: pesvr_system.log and pesvr_trace.log
4. If necessary open a new Problem Management Record (PMR) with Enterprise Content Management Business Process Manager support for further assistance.

RELATED INFORMATION
 vwtool environment command [http://www.ibm.com/support/knowledgecenter/SSGLW6_5.2.1/com.ibm.p8.pe.vw.doc/bpfvl012.htm]
environment caching technote [http://www-01.ibm.com/support/docview.wss?uid=swg21501780]