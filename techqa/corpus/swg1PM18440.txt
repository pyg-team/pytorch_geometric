Title: IBM PM18440: WEBSPHERE.JAR FILE SHIPPED WITH CICS IS INCORRECT VERSION       FOR CLIENT APPLICATIONS. - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When setting up WAS V6 with CICS V3.2 and WAS V7 with
   CICS V4.1 you found the CICS TS V4.1 /lib/websphere.jar
   and CICS TS V3.2 /lib/websphere.jar both are WAS V4
   instead of WAS V7 and WAS V6 respectively and your CICS
   application would fail.
   .
   The websphere.jar file shipped by CICS is intended for use
   by the CICS EJB code. The support for EJBs in CICS has not
   changed for many releases so CICS has not been updated to
   use a later version of the jar file.
   
   
    
   
   

LOCAL FIX
 *  Updating the version of websphere.jar is not realistic
   because that will require a complete retest of all EJB
   code and lead to an unknown amount of development changes.
   The CICS EJB support is stabilized now and will be removed
   in a future release.
   .
   To solve this problem a new option will be added to the
   JVM Profile that will prevent CICS from adding the EJB
   related jar files to the classpath. This will then allow
   the thin client to work as expected.
   .
   Additional Symptom(s) Search Keyword(s):
   KIXREVEPH
   
   
    
   
   

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICS users                               *
   ****************************************************************
   * PROBLEM DESCRIPTION: Libraries that provide EJB support in   *
   *                      CICS may conflict with running a        *
   *                      Websphere Application Server v6 or v7   *
   *                      client running on the same JVM.         *
   ****************************************************************
   * RECOMMENDATION:                                              *
   ****************************************************************
   If a Websphere Application Server client, version 6 or version
   7, runs within a CICS JVM: a request to use an EJB resource
   may return the version from the CICS EJB libraries. These are
   different versions of EJB and thus a compatibility error may
   occur, such as a java.lang.VerifyError exception thrown.
   Additional Keywords: WAS V6 V7 JVMPROFILE
   
   
    
   
   

PROBLEM CONCLUSION
 *  The flag "DISABLE_EJB=YES" can be added to a JVM Profile.
   If set, the JVM startup will no longer include CICS EJB
   jar files in the CLASSPATH.
   
   The CICS Transaction Server for z/OS Version 4 Release 1
   What's New Manual (GC34-6994-02) will be updated in
   Chapter 11. Support for the IBM SDK for z/OS, Java
     Technology Edition, Version 6
   in subsection:
   Changes to CICS externals
   -> Changes to JVM profiles
      -> JVM profiles: options and samples.
   
   A new entry will be added to
   Table 1. JVM options reference table for JVMs in a CICS
     environment
   This new entry will read as follows:
     Option: DISABLE_EJB
     Default: NO
     Comments: Disables CICS provided EJB Support
   
   
   The CICS Transaction Server for z/OS Version 4 Release 1
   Java Applications in CICS Manual (SC34-7025-01)
   will be updated in:
   Chapter 13. Setting up Java support and using JVMs
   in two subsections:
   1,
     JVM profiles: options and samples.
   
     A new entry will be added to
     Table 6. JVM options reference table for JVMs in a CICS
       environment
     This new entry will read as follows:
       Option: DISABLE_EJB
       Default: NO
       Comments: Disables CICS provided EJB Support
   
   2,
     JVM profiles: options and samples
     -> Options for JVMs in a CICS environment
   
     A new entry will be added to the list of options for JVM
     profiles, above "DISPLAY_JAVA_VERSION="
     This new entry will read as follows:
   
     DISABLE_EJB={YES|NO}:
       Specifies whether the EJB support provided by CICS is
       included by the JVM at startup. The default is NO. If
       specified then the following CICS and Java supplied
       far files will not be included in the classpath:
   
       dfjorb.jar, dfjcont.jar, dfjjts.jar, dfjadjr.jar,
       omgcos.jar,  dfjname.jar, websphere.jar, dfjcci.jar,
       dfjejbdd.jar, ejb20.jar, jta_spec.jar, connector.jar
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM18440
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   600
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2010-07-14
   
   
 * CLOSED DATE
   2010-09-30
   
   
 * LAST MODIFIED DATE
   2010-11-02
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    PM19930 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM19930] UK60985 UK60984
   
   

MODULES/MACROS
 *     DESSJCON DESSJCS  DFHSJCON DFHSJCS  DFHSJOTC
   DFHSJOTD DFHSJOTH DFHSJPJP
   
   
    
   
   

Publications Referenced GC34699402 SC34702501 FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R603 PSY UK60985 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK60985]
   UP10/10/06 P F010
   
   
 * R600 PSN
   UP
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.