Title: IBM Finding SQL Objects That Are Consuming The Most DASD - United States

Text:
 TECHNOTE (FAQ)

QUESTION
 My DASD is filling up. How can I identify which objects are taking up the most space so I can delete them? 

ANSWER
The OBJECT_STATISTICS table function returns information about objects in a library.
The basic syntax for the command is OBJECT_STATISTICS(LIBRARY-NAME, OBJECT- TYPE-LIST).

This function can be used when the system is running out of storage and you need to find objects that are taking up a lot of DASD.

We sometimes find that journal receivers can account for a large portion of DASD used if a job is looping or if the journal receivers have not been deleted for some time. The following SQL statement can be run to give you list of journal receivers and the size of each receiver for all users libraries: 

SELECT OBJSIZE, OBJNAME, OBJTYPE, OBJDEFINER 
from table 
(QSYS2.OBJECT_STATISTICS('*ALLUSR','JRNRVC ') 
) AS X order by OBJSIZE desc 

This query can be run for other object SQL types as well. The list of supported objects are as follows: 

•ALIAS
•FUNCTION
•INDEX
•PACKAGE
•PROCEDURE
•ROUTINE
•SEQUENCE
•TABLE
•TRIGGER
•TYPE
•VARIABLE
•VIEW
•XSR

More information about the function can be found at the URL below. 

https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/IBM%20i%20Technology%20Updates/page/QSYS2.Object_Statistics%20table%20function%20ease%20of%20use [https://www.ibm.com/developerworks/community/wikis/home?lang=en#!/wiki/IBM%20i%20Technology%20Updates/page/QSYS2.Object_Statistics%20table%20function%20ease%20of%20use]


 


Cross reference information Segment Product Component Platform Version Edition Operating System IBM i 7.2 Operating System IBM i 7.1 Operating System IBM i 7.3