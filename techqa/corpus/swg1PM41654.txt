Title: IBM PM41654: EYU9DNNN IPCS VERBEXIT TRC=A KEYWORD INCORRECT LOCAL TIME - United States

Text:
z/os  A FIX IS AVAILABLE
Obtain the fix for this APAR.


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  When formatting a dump using the CICSPlex SM Verbexit
   keyword TRC=A for an abbreviated trace format, the local
   time may be computed incorrectly resulting in the local
   time being off by the time zone adjustment which could
   also affect the date.
   .
   For example...
   .
   Local time formats as: 09:08:17.97470
   and GMT time formats : 05:08:17.97470
   .
   This should be:
   .
   Local time formats as: 01:08:17.97470
   and GMT time formats : 05:08:17.97470
   .
   Additional Symptom(s) Search Keyword(s): KIXREVWJB
   verbx eyu0dvaf adjust_stck
   DVAF_STCK_ADD
   DVAF_STCK_SUB
   DVAF_STCK_FLAG
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  ****************************************************************
   * USERS AFFECTED: All CICSPlex SM V4R1M0 and V4R2M0 Users      *
   ****************************************************************
   * PROBLEM DESCRIPTION: When the CPSM IPCS VERBEXIT is used to  *
   *                      format CPSM trace records in a dump,    *
   *                      the local time displayed may be         *
   *                      incorrect.                              *
   ****************************************************************
   * RECOMMENDATION: After applying the PTF that resolves this    *
   *                 APAR, rerun the CPSM IPCS VERBEXIT, ensuring *
   *                 that IPCS is accessing the version of the    *
   *                 VERBEXIT updated by the PTF.                 *
   ****************************************************************
   When method EYU0DVAF (DVAF) is called to format CPSM trace
   records in a dump, it may have to alter the GMT time stamp in
   the trace record to apply the leap second adjustment to produce
   the correct GMT time, and to apply the time zone offset to
   produce the correct local time.
   
   If a leap second adjustment is provided in the record, a
   subroutine is called to modify the provided GMT clock by
   subtracting the leap second adjustment.  If a time zone offset
   is provided in the record, the subroutine is called again to add
   the time zone offset to current setting of the GMT clock to
   provide the local time.
   
   Before calling the subroutine, a flag is set indicating whether
   a subtract (leap second adjustment) or add (time zone offset)
   should be performed.  Since the flag is not initialized properly
   on entry to DVAF, if there is no leap second adjustment to be
   applied, but there is a time zone offset, residual data in the
   flag may cause the subroutine to subtract the time zone offset
   instead of adding it.  This will result in the local time being
   invalid.
   
   
    
   
   

PROBLEM CONCLUSION
 *  EYU0DVAF has been updated to correctly initialize the clock
   adjustment flag on entry.
   
   
    
   
   

TEMPORARY FIX
 *  FIX AVAILABLE BY PTF ONLY
   
   
    
   
   

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM41654
   
   
 * REPORTED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * REPORTED COMPONENT ID
   5655S9700
   
   
 * REPORTED RELEASE
   60M
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2011-06-16
   
   
 * CLOSED DATE
   2011-07-11
   
   
 * LAST MODIFIED DATE
   2011-08-01
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
    PM41866 [http://www-01.ibm.com/support/docview.wss?uid=swg1PM41866]
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
    UK69526 UK69527
   
   

MODULES/MACROS
 *     EYU0DVAF
   
   
    
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   CICS TS Z/OS V4
   
   
 * FIXED COMPONENT ID
   5655S9700
   
   

APPLICABLE COMPONENT LEVELS
 * R60M PSY UK69526 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK69526]
   UP11/07/13 P F107
   
   
 * R70M PSY UK69527 [HTTPS://WWW14.SOFTWARE.IBM.COM/WEBAPP/SET2/ORDERMEDIA/SHOPCART?PTFS=UK69527]
   UP11/07/13 P F107
   
   

FIX IS AVAILABLE
 * SELECT THE PTF APPROPRIATE FOR YOUR COMPONENT LEVEL. YOU WILL BE REQUIRED TO SIGN IN. DISTRIBUTION ON PHYSICAL MEDIA IS NOT AVAILABLE IN ALL COUNTRIES.