Title: IBM JR48550: DURABLE MESSAGES CAN BE DELIVERED TO MESSAGE EVENT MORE THAN ONCE - United States

Text:
  FIXES ARE AVAILABLE
Version 7.5.1 Fix Pack 2 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24036462]
Version 8.5 Refresh Pack 5 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24037683]
Download Version 8.0.1 Fix Pack 3 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24037734]
Version 8.5.0 Fix Pack 2 for the IBM Business Process Manager products [http://www-01.ibm.com/support/docview.wss?uid=swg24040683]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  If a BPD contains an attached intermediate message event with
   the 'Repeatable' flag and the 'Durable Subscription' flag and
   the 'Consume Message' flag checked, and multiple messages are
   sent to this BPD in a short time, then some of these message can
   be delivered multiple times.
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  Durable messages can be delivered to message event more than
   once
   
   PROBLEM DETAILED DESCRIPTION:
   If multiple durable messages arrive in a short time for an
   attached message event with the 'interrupt activity' flag
   unchecked, the 'repeatable' flag checked and the 'consume
   message' flag checked, it can happen that some of these
   messages are delivered multiple times.
   The reason is that handling of durable messages is difficult,
   since events that are activated check whether there is a
   durable message that they could consume and on the other hand,
   messages arriving check whether there is a waiting message
   event to which they could be delivered. To find out, whether a
   durable message has already been delivered to a BPD instance,
   the <is-message-consumed-query> checks the database. This query
   did not catch all cases in which a durable message event was
   already delivered to a BPD instance. Especially, if a message
   event waits with a wait id, but the durable message was
   delivered to a different wait id of the same message event in
   the BPD instance, the query did not discover that the message
   was already delivered.
   
   
    
   
   

PROBLEM CONCLUSION
 *  Fix the <is-message-consumed-query>. Now the query discovers
   that the message is already delivered to a BPD instance, even
   if it was delivered to a different wait id.
   
   FIX AVAILABILITY:
   iFix for 8.0.1.2 is/will be available on Fix Central; search for
   APAR JR48550 at http://www.ibm.com/support/fixcentral/ [http://www.ibm.com/support/fixcentral/]
   iFix for 8.5.0.1 is/will be available on Fix Central; search for
   APAR JR48550 at http://www.ibm.com/support/fixcentral/ [http://www.ibm.com/support/fixcentral/]
   Fix is also targetted for inclusion in next fixpack for
   BPM V7.5.1, BPM 8.0.1
   
   When obtaining any of the above fixes, be sure to download the
   accompanying readme, for itself, and any prerequisite fixes, and
   review them thorougly.
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   JR48550
   
   
 * REPORTED COMPONENT NAME
   BPM STANDARD
   
   
 * REPORTED COMPONENT ID
   5725C9500
   
   
 * REPORTED RELEASE
   751
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-11-20
   
   
 * CLOSED DATE
   2014-02-18
   
   
 * LAST MODIFIED DATE
   2014-02-18
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   BPM STANDARD
   
   
 * FIXED COMPONENT ID
   5725C9500
   
   

APPLICABLE COMPONENT LEVELS
 * R801 PSY
   UP
   
   
 * R850 PSY
   UP