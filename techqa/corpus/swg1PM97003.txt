Title: IBM PM97003: [wi 280184] MS SQL Error while Checking Attributes Usage in the Repository - United States

Text:
  A FIX IS AVAILABLE
Rational Team Concert 4.0.5 [http://www-01.ibm.com/support/docview.wss?uid=swg24036429]


SUBSCRIBE
You can track all active APARs for this component.



APAR STATUS
 * CLOSED AS PROGRAM ERROR.
    
   
   

ERROR DESCRIPTION
 *  checking attributes usage in a customized Project Area where
   selected custom type has 29 custom attributes
   
   - operation does not complete
   CRJAZ0368I A SQL query failed to execute properly on the server.
      stmt = select COUNT(distinct t1.ITEM_ID) from MODEL.WORK_ITEM
   t1 wher
   ......
   Caused by: java.sql.SQLException: The query processor ran out of
   internal resources and could not produce a query plan. This is a
   rare
   event and only expected for extremely complex queries or queries
   that
   reference a very large number of tables or partitions. Please
   simplify
   the query. If you believe you have received this message in
   error,
   contact Customer Support Services for more information
   
   
    
   
   

LOCAL FIX

PROBLEM SUMMARY
 *  impact of the fix compared to current behavior:
   - before - we scanned all work items in a row - example: for
   jazz.net RTC Defect type, we scan 7000+ items
   - after - we scan a maximum of 1000 items in a row (query
   limitation?)
   Which means that if we wanted to sync defect type in jazz.net
   RTC PA, we should have to perform 8 times:
   - check attributes usage
   then
   - synchronize
   (but limiting to 1000 the number of items we check / sync might
   prevent performance issues)
   
   
    
   
   

PROBLEM CONCLUSION
 *  impact of the fix compared to current behavior:
   - before - we scanned all work items in a row - example: for
   jazz.net RTC Defect type, we scan 7000+ items
   - after - we scan a maximum of 1000 items in a row (query
   limitation?)
   Which means that if we wanted to sync defect type in jazz.net
   RTC PA, we should have to perform 8 times:
   - check attributes usage
   then
   - synchronize
   (but limiting to 1000 the number of items we check / sync might
   prevent performance issues)
   
   
    
   
   

TEMPORARY FIX

COMMENTS

APAR INFORMATION
 * APAR NUMBER
   PM97003
   
   
 * REPORTED COMPONENT NAME
   RATL TEAM CONCE
   
   
 * REPORTED COMPONENT ID
   5724V0400
   
   
 * REPORTED RELEASE
   401
   
   
 * STATUS
   CLOSED PER
   
   
 * PE
   NoPE
   
   
 * HIPER
   NoHIPER
   
   
 * SPECIAL ATTENTION
   NoSpecatt
   
   
 * SUBMITTED DATE
   2013-09-13
   
   
 * CLOSED DATE
   2013-12-10
   
   
 * LAST MODIFIED DATE
   2013-12-10
   
   

 * APAR IS SYSROUTED FROM ONE OR MORE OF THE FOLLOWING:
   
   
   
 * APAR IS SYSROUTED TO ONE OR MORE OF THE FOLLOWING:
   
   
   

FIX INFORMATION
 * FIXED COMPONENT NAME
   RATL TEAM CONCE
   
   
 * FIXED COMPONENT ID
   5724V0400
   
   

APPLICABLE COMPONENT LEVELS
 * R405 PSY
   UP